(()=>{var e,t,s,a={65055:(e,t,s)=>{"use strict";var a=s(20862);t.Z=void 0;var n=a(s(11471)),r={CREATE_SINGLE_NEW_EVENT_SUCCEEDED:n.CREATE_SINGLE_NEW_EVENT_SUCCEEDED,CREATE_SINGLE_NEW_EVENT_FAILED:n.CREATE_SINGLE_NEW_EVENT_FAILED,CREATE_RECURR_NEW_EVENTS_SUCCEEDED:n.CREATE_RECURR_NEW_EVENTS_SUCCEEDED,CREATE_RECURR_NEW_EVENTS_FAILED:n.CREATE_RECURR_NEW_EVENTS_FAILED,DELETE_SINGLE_EVENT_SUCCEEDED:n.DELETE_SINGLE_EVENT_SUCCEEDED,DELETE_SINGLE_EVENT_FAILED:n.DELETE_SINGLE_EVENT_FAILED,DELETE_RECURR_EVENTS_SUCCEDDED:n.DELETE_RECURR_EVENTS_SUCCEDDED,DELETE_RECURR_EVENTS_FAILED:n.DELETE_RECURR_EVENTS_FAILED,EDIT_RECURR_EVENTS_SUCCEEDED:n.EDIT_RECURR_EVENTS_SUCCEEDED,EDIT_RECURR_EVENTS_FAILED:n.EDIT_RECURR_EVENTS_FAILED,EDIT_SINGLE_EVENT_SUCCEEDED:n.EDIT_SINGLE_EVENT_SUCCEEDED,EDIT_SINGLE_EVENT_FAILED:n.EDIT_SINGLE_EVENT_FAILED,RSVP_REPLY_SINGLE_EVENT_SUCCEEDED:n.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED,RSVP_REPLY_SINGLE_EVENT_FAILED:n.RSVP_REPLY_SINGLE_EVENT_FAILED,RSVP_REPLY_RECURR_EVENT_SUCCEEDED:n.RSVP_REPLY_RECURR_EVENT_SUCCEEDED,RSVP_REPLY_RECURR_EVENT_FAILED:n.RSVP_REPLY_RECURR_EVENT_FAILED,EPOCH_OPEN_COMPOSE_VIEW:n.EPOCH_OPEN_COMPOSE_VIEW};t.Z=r},41874:(e,t,s)=>{"use strict";var a=s(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(s(38549)).default;t.default=n},38549:(e,t,s)=>{"use strict";var a=s(20862),n=s(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(s(34575)),o=n(s(93913)),i=n(s(81506)),l=n(s(2205)),c=n(s(78585)),d=n(s(29754)),E=n(s(59713)),_=a(s(67294)),u=n(s(25823)),m=n(s(76223));n(s(45697));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,a=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;s=Reflect.construct(a,arguments,n)}else s=a.apply(this,arguments);return(0,c.default)(this,s)}}var p=function(e){(0,l.default)(s,e);var t=S(s);function s(){var e;(0,r.default)(this,s);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),(0,E.default)((0,i.default)(e),"renderEventItem",(function(){var e=(0,m.default)(u.default);return _.default.createElement("div",{className:e.eventListWrapper},_.default.createElement("div",{className:e.timeWrapper},_.default.createElement("span",{className:e.timeIndicator}),_.default.createElement("span",{className:e.timeIndicator})),_.default.createElement("div",{className:e.eventPicWrapper},_.default.createElement("div",{className:e.eventItemWrapper},_.default.createElement("span",{className:e.eventIndicator})),_.default.createElement("div",{className:e.picWrapper},_.default.createElement("span",{className:e.picIndicator}))))})),e}return(0,o.default)(s,[{key:"render",value:function(){var e=this.props.includeHeaders,t=(0,m.default)(u.default);return _.default.createElement("div",{className:t.wrapper},e?_.default.createElement(_.Fragment,null,_.default.createElement("div",{className:t.navHeaderWrapper}),_.default.createElement("div",{className:t.monthHeaderWrapper})):null,this.renderEventItem(),this.renderEventItem(),this.renderEventItem(),this.renderEventItem(),this.renderEventItem())}}]),s}(_.default.Component);t.default=p},25823:e=>{"use strict";e.exports={className:{default:{wrapper:"F_N W_3vpWV H_6D6F M_A",navHeaderWrapper:"H_73Xs W_6D6F m_Z14vXdP",monthHeaderWrapper:"W_6D6F H_74ed",eventListWrapper:"W_3vpWV H_7jcW D_Z1YJkyX",timeWrapper:"W_74JI H_6UbO Q_6Fd5 D_Z1YJaYm ab_C je_6FsP",eventPicWrapper:"D_Z1YJkyX m_Z14vXdP Q_6DEy",eventItemWrapper:"W_3r5Ku je_6FsP",timeIndicator:"ah_Z1tF3s4 D_X H_fq7 e_eo6 q_ZpQYvz",eventIndicator:"ah_Z1tF3s4 D_B W_3nV5V H_fq7 e_eo6 q_ZpQYvz Y_e8l",picWrapper:"W_72FG H_750t",picIndicator:"W_6Nds H_6Nds q_ZpQYvz e_e5X ah_Z1tF3s4 D_B Y_6EWk Q_eTB"}},_key:"K8ORb"}},11471:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FETCH_OPTIONS_FAILED=t.FETCH_OPTIONS_SUCCEEDED=t.FETCH_OPTIONS_REQUESTED=t.EPOCH_CREATE_TODO_FAILED=t.EPOCH_CREATE_TODO_SUCCEEDED=t.EPOCH_CREATE_TODO_REQUESTED=t.EPOCH_DELETE_TODO_FAILED=t.EPOCH_DELETE_TODO_SUCCEEDED=t.EPOCH_DELETE_TODO_REQUESTED=t.EPOCH_PATCH_TODO_FAILED=t.EPOCH_PATCH_TODO_SUCCEEDED=t.EPOCH_PATCH_TODO_REQUESTED=t.EPOCH_FETCH_TODOS_FAILED=t.EPOCH_FETCH_TODOS_SUCCEEDED=t.EPOCH_FETCH_TODOS_REQUESTED=t.EDIT_USER_PREFERENCES_FAILED=t.EDIT_USER_PREFERENCES_SUCCEEDED=t.EDIT_USER_PREFERENCES_REQUESTED=t.EPOCH_FETCH_FOLDER_FAILED=t.EPOCH_FETCH_FOLDER_SUCCEEDED=t.EPOCH_FETCH_FOLDER_REQUESTED=t.EPOCH_EXPORT_FOLDER_FAILED=t.EPOCH_EXPORT_FOLDER_SUCCEEDED=t.EPOCH_EXPORT_FOLDER_REQUESTED=t.EPOCH_IMPORT_FOLDER_FAILED=t.EPOCH_IMPORT_FOLDER_SUCCEEDED=t.EPOCH_IMPORT_FOLDER_REQUESTED=t.EPOCH_DELETE_FOLDER_FAILED=t.EPOCH_DELETE_FOLDER_SUCCEEDED=t.EPOCH_DELETE_FOLDER_REQUESTED=t.EPOCH_EDIT_FOLDER_FAILED=t.EPOCH_EDIT_FOLDER_SUCCEEDED=t.EPOCH_EDIT_FOLDER_REQUESTED=t.EPOCH_CREATE_FOLDER_FAILED=t.EPOCH_CREATE_FOLDER_SUCCEEDED=t.EPOCH_CREATE_FOLDER_REQUESTED=t.RIGHT_RAIL_COMMS_ICON_CLICKED=t.EPOCH_INCOMING_PROPS_UPDATED=t.REDIRECT_TO_FULL_VIEW=t.RIGHT_CLICK_MENU_OPTION_CLICK=t.ITEM_RIGHT_CLICK=t.POP_UP_EMIAL_INVITEE=t.POP_UP_EVENT_DELETE=t.POP_UP_EVENT_EDIT=t.POP_UP_EVENT_CLICK=t.POP_UP_EVENT_EMAIL_INVITEE=t.POP_UP_EVENT_PRINT=t.EPOCH_OPEN_COMPOSE_VIEW=t.EPOCH_APP_LAUNCH_FAILED=t.EPOCH_APP_LAUNCH_SUCCEEDED=t.EPOCH_APP_LAUNCH_REQUESTED=t.RSVP_REPLY_RECURR_EVENT_FAILED=t.RSVP_REPLY_RECURR_EVENT_SUCCEEDED=t.RSVP_REPLY_RECURR_EVENT_REQUESTED=t.RSVP_REPLY_SINGLE_EVENT_FAILED=t.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED=t.RSVP_REPLY_SINGLE_EVENT_REQUESTED=t.FETCH_USER_PREFERENCES_FAILED=t.FETCH_USER_PREFERENCES_SUCCEEDED=t.FETCH_USER_PREFERENCES_REQUESTED=t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_FAILED=t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_SUCCEEDED=t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_REQUESTED=t.FETCH_FOLDERS_FAILED=t.FETCH_FOLDERS_SUCCEEDED=t.FETCH_FOLDERS_REQUESTED=t.EPOCH_SELECT_SEARCH_DATE_REQUESTED=t.SELECT_DATE_REQUESTED=t.SPORTS_FORM_SWITCH_REQUESTED=t.COMPONENT_SWITCH_REQUESTED=t.DELETE_RECURR_EVENTS_FAILED=t.DELETE_RECURR_EVENTS_SUCCEDDED=t.DELETE_RECURR_EVENTS_REQUESTED=t.DELETE_SINGLE_EVENT_FAILED=t.DELETE_SINGLE_EVENT_SUCCEEDED=t.DELETE_SINGLE_EVENT_REQUESTED=t.PATCH_EVENT_FAILED=t.PATCH_EVENT_SUCCEEDED=t.PATCH_EVENT_REQUESTED=t.EDIT_ALL_RECURR_INSTANCES_REQUESTED=t.EDIT_RECURR_EVENTS_FAILED=t.EDIT_RECURR_EVENTS_SUCCEEDED=t.EDIT_RECURR_EVENTS_REQUESTED=t.EDIT_SINGLE_EVENT_FAILED=t.EDIT_SINGLE_EVENT_SUCCEEDED=t.EDIT_SINGLE_EVENT_REQUESTED=t.CREATE_RECURR_NEW_EVENTS_FAILED=t.CREATE_RECURR_NEW_EVENTS_SUCCEEDED=t.CREATE_RECURR_NEW_EVENTS_REQUESTED=t.CREATE_SINGLE_NEW_EVENT_FAILED=t.CREATE_SINGLE_NEW_EVENT_SUCCEEDED=t.CREATE_SINGLE_NEW_EVENT_REQUESTED=t.REFETCH_DELETE_EVENT_SUCCEEDED=t.REFETCH_EDIT_EVENT_SUCCEEDED=t.FETCH_EVENT_FAILED=t.FETCH_EVENT_SUCCEEDED=t.FETCH_EVENT_REQUESTED=t.FETCH_EVENTS_FAILED=t.FETCH_EVENTS_SUCCEEDED=t.FETCH_EVENTS_REQUESTED=void 0,t.EPOCH_FEATURE_CUE_CLOSE=t.EPOCH_DELETE_JOURNAL_FAILED=t.EPOCH_DELETE_JOURNAL_SUCCEEDED=t.EPOCH_DELETE_JOURNAL_REQUESTED=t.EPOCH_UPDATE_JOURNAL_FAILED=t.EPOCH_UPDATE_JOURNAL_SUCCEEDED=t.EPOCH_UPDATE_JOURNAL_REQUESTED=t.EPOCH_CREATE_JOURNAL_FAILED=t.EPOCH_CREATE_JOURNAL_SUCCEEDED=t.EPOCH_CREATE_JOURNAL_REQUESTED=t.EPOCH_SELECT_JOURNAL_FOLDER_REQUESTED=t.EPOCH_SELECT_JOURNAL_REQUESTED=t.EPOCH_GET_JOURNALS_FAILED=t.EPOCH_GET_JOURNALS_SUCCEEDED=t.EPOCH_GET_JOURNALS_REQUESTED=t.EPOCH_GET_JOURNAL_FAILED=t.EPOCH_GET_JOURNAL_SUCCEEDED=t.EPOCH_GET_JOURNAL_REQUESTED=t.EPOCH_NOTEPAD_LAUNCH_FAILED=t.EPOCH_NOTEPAD_LAUNCH_SUCCEEDED=t.EPOCH_NOTEPAD_LAUNCH_REQUESTED=t.NGY_NOTIFY=t.RSVP_REPLY_FROM_RSVP_PAGE_FAILED=t.RSVP_REPLY_FROM_RSVP_PAGE_SUCCEEDED=t.RSVP_REPLY_FROM_RSVP_PAGE_REQUESTED=t.EPOCH_ROUTE_CHANGE_WITH_NO_STATE_UPDATES=t.SEARCH_SPORTS_EVENTS_FAILED=t.SEARCH_SPORTS_EVENTS_SUCCEEDED=t.SEARCH_SPORTS_EVENTS_REQUESTED=t.EPOCH_FETCH_SPORTS_DATA_FAILED=t.EPOCH_FETCH_SPORTS_DATA_SUCCEEDED=t.EPOCH_FETCH_SPORTS_DATA_REQUESTED=t.EPOCH_PUBLIC_APP_LAUNCH_FAILED=t.EPOCH_PUBLIC_APP_LAUNCH_SUCCEEDED=t.EPOCH_PUBLIC_APP_LAUNCH_REQUESTED=t.EPOCH_SEARCH_ITEM_CATEGORY_UDPATED=t.EPOCH_SEARCH_FOLDER_STATUS_CHANGE_REQUESTED=t.EPOCH_XOBNIFIED_USER_FAILED=t.EPOCH_XOBNIFIED_USER_SUCCEEDED=t.EPOCH_XOBNIFIED_USER_REQUESTED=t.EPOCH_FETCH_IMPORTANT_CONTACTS_FAILED=t.EPOCH_FETCH_IMPORTANT_CONTACTS_SUCCEEDED=t.EPOCH_FETCH_IMPORTANT_CONTACTS_REQUESTED=t.EPOCH_RELATED_CONTACTS_CLOSED=t.EPOCH_FETCH_CONTACT_SUGGESTIONS_FAILED=t.EPOCH_FETCH_CONTACT_SUGGESTIONS_SUCCEEDED=t.EPOCH_FETCH_CONTACT_SUGGESTIONS_REQUESTED=t.EPOCH_DELETE_CONTACT_SUGGESTIONS_SUCCEEDED=t.EPOCH_DELETE_CONTACT_SUGGESTIONS_FAILED=t.EPOCH_DELETE_CONTACT_SUGGESTIONS_REQUESTED=t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_FAILED=t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_SUCCEEDED=t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_REQUESTED=t.EPOCH_CONTACT_PICKER_LAUNCH_FAILED=t.EPOCH_CONTACT_PICKER_LAUNCH_SUCCEEDED=t.EPOCH_CONTACT_PICKER_LAUNCH_REQUESTED=t.EPOCH_FETCH_ITEMS_FAILED=t.EPOCH_FETCH_ITEMS_SUCCEEDED=t.EPOCH_FETCH_ITEMS_REQUESTED=t.EPOCH_RSVP_LAUNCH_FAILED=t.EPOCH_RSVP_LAUNCH_SUCCEEDED=t.EPOCH_RSVP_LAUNCH_REQUESTED=t.EPOCH_PRINTPAGE_LAUNCH_FAILED=t.EPOCH_PRINTPAGE_LAUNCH_SUCCEEDED=t.EPOCH_PRINTPAGE_LAUNCH_REQUESTED=t.EPOCH_SETTING_LAUNCH_FAILED=t.EPOCH_SETTING_LAUNCH_SUCCEEDED=t.EPOCH_SETTING_LAUNCH_REQUESTED=t.EPOCH_SEARCH_LAUNCH_FAILED=t.EPOCH_SEARCH_LAUNCH_SUCCEEDED=t.EPOCH_SEARCH_LAUNCH_REQUESTED=t.EPOCH_SEARCH_QUERY_UPDATED=t.EPOCH_ITEM_SEARCH_FAILED=t.EPOCH_ITEM_SEARCH_SUCCEEDED=t.EPOCH_ITEM_SEARCH_REQUESTED=void 0;t.FETCH_EVENTS_REQUESTED="FETCH_EVENTS_REQUESTED";t.FETCH_EVENTS_SUCCEEDED="FETCH_EVENTS_SUCCEEDED";t.FETCH_EVENTS_FAILED="FETCH_EVENTS_FAILED";t.FETCH_EVENT_REQUESTED="FETCH_EVENT_REQUESTED";t.FETCH_EVENT_SUCCEEDED="FETCH_EVENT_SUCCEEDED";t.FETCH_EVENT_FAILED="FETCH_EVENT_FAILED";t.REFETCH_EDIT_EVENT_SUCCEEDED="REFETCH_EDIT_EVENT_SUCCEEDED";t.REFETCH_DELETE_EVENT_SUCCEEDED="REFETCH_DELETE_EVENT_SUCCEEDED";t.CREATE_SINGLE_NEW_EVENT_REQUESTED="CREATE_SINGLE_NEW_EVENT_REQUESTED";t.CREATE_SINGLE_NEW_EVENT_SUCCEEDED="CREATE_SINGLE_NEW_EVENT_SUCCEEDED";t.CREATE_SINGLE_NEW_EVENT_FAILED="CREATE_SINGLE_NEW_EVENT_FAILED";t.CREATE_RECURR_NEW_EVENTS_REQUESTED="CREATE_RECURR_NEW_EVENTS_REQUESTED";t.CREATE_RECURR_NEW_EVENTS_SUCCEEDED="CREATE_RECURR_NEW_EVENTS_SUCCEEDED";t.CREATE_RECURR_NEW_EVENTS_FAILED="CREATE_RECURR_NEW_EVENTS_FAILED";t.EDIT_SINGLE_EVENT_REQUESTED="EDIT_SINGLE_EVENT_REQUESTED";t.EDIT_SINGLE_EVENT_SUCCEEDED="EDIT_SINGLE_EVENT_SUCCEEDED";t.EDIT_SINGLE_EVENT_FAILED="EDIT_SINGLE_EVENT_FAILED";t.EDIT_RECURR_EVENTS_REQUESTED="EDIT_RECURR_EVENTS_REQUESTED";t.EDIT_RECURR_EVENTS_SUCCEEDED="EDIT_RECURR_EVENTS_SUCCEEDED";t.EDIT_RECURR_EVENTS_FAILED="EDIT_RECURR_EVENTS_FAILED";t.EDIT_ALL_RECURR_INSTANCES_REQUESTED="EDIT_ALL_RECURR_INSTANCES_REQUESTED";t.PATCH_EVENT_REQUESTED="PATCH_EVENT_REQUESTED";t.PATCH_EVENT_SUCCEEDED="PATCH_SINGLE_EVENT_SUCCEEDED";t.PATCH_EVENT_FAILED="PATCH_EVENT_FAILED";t.DELETE_SINGLE_EVENT_REQUESTED="DELETE_SINGLE_EVENT_REQUESTED";t.DELETE_SINGLE_EVENT_SUCCEEDED="DELETE_SINGLE_EVENT_SUCCEEDED";t.DELETE_SINGLE_EVENT_FAILED="DELETE_SINGLE_EVENT_FAILED";t.DELETE_RECURR_EVENTS_REQUESTED="DELETE_RECURR_EVENTS_REQUESTED";t.DELETE_RECURR_EVENTS_SUCCEDDED="DELETE_RECURR_EVENTS_SUCCEDDED";t.DELETE_RECURR_EVENTS_FAILED="DELETE_RECURR_EVENTS_FAILED";t.COMPONENT_SWITCH_REQUESTED="COMPONENT_SWITCH_REQUESTED";t.SPORTS_FORM_SWITCH_REQUESTED="SPORTS_FORM_SWITCH_REQUESTED";t.SELECT_DATE_REQUESTED="SELECT_DATE_REQUESTED";t.EPOCH_SELECT_SEARCH_DATE_REQUESTED="EPOCH_SELECT_SEARCH_DATE_REQUESTED";t.FETCH_FOLDERS_REQUESTED="FETCH_FOLDERS_REQUESTED";t.FETCH_FOLDERS_SUCCEEDED="FETCH_FOLDERS_SUCCEEDED";t.FETCH_FOLDERS_FAILED="FETCH_FOLDERS_FAILED";t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_REQUESTED="EPOCH_FETCH_OTHERS_FOLDERS_LIST_REQUESTED";t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_SUCCEEDED="EPOCH_FETCH_OTHERS_FOLDERS_LIST_SUCCEEDED";t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_FAILED="EPOCH_FETCH_OTHERS_FOLDERS_LIST_FAILED";t.FETCH_USER_PREFERENCES_REQUESTED="FETCH_USER_PREFERENCES_REQUESTED";t.FETCH_USER_PREFERENCES_SUCCEEDED="FETCH_USER_PREFERENCES_SUCCEEDED";t.FETCH_USER_PREFERENCES_FAILED="FETCH_USER_PREFERENCES_FAILED";t.RSVP_REPLY_SINGLE_EVENT_REQUESTED="RSVP_REPLY_SINGLE_EVENT_REQUESTED";t.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED="RSVP_REPLY_SINGLE_EVENT_SUCCEEDED";t.RSVP_REPLY_SINGLE_EVENT_FAILED="RSVP_REPLY_SINGLE_EVENT_FAILED";t.RSVP_REPLY_RECURR_EVENT_REQUESTED="RSVP_REPLY_RECURR_EVENT_REQUESTED";t.RSVP_REPLY_RECURR_EVENT_SUCCEEDED="RSVP_REPLY_RECURR_EVENT_SUCCEEDED";t.RSVP_REPLY_RECURR_EVENT_FAILED="RSVP_REPLY_RECURR_EVENT_FAILED";t.EPOCH_APP_LAUNCH_REQUESTED="EPOCH_APP_LAUNCH_REQUESTED";t.EPOCH_APP_LAUNCH_SUCCEEDED="EPOCH_APP_LAUNCH_SUCCEEDED";t.EPOCH_APP_LAUNCH_FAILED="EPOCH_APP_LAUNCH_FAILED";t.EPOCH_OPEN_COMPOSE_VIEW="EPOCH_OPEN_COMPOSE_VIEW";t.POP_UP_EVENT_PRINT="POP_UP_EVENT_PRINT";t.POP_UP_EVENT_EMAIL_INVITEE="POP_UP_EVENT_EMAIL_INVITEE";t.POP_UP_EVENT_CLICK="POP_UP_EVENT_CLICK";t.POP_UP_EVENT_EDIT="POP_UP_EVENT_EDIT";t.POP_UP_EVENT_DELETE="POP_UP_EVENT_DELETE";t.POP_UP_EMIAL_INVITEE="POP_UP_EMIAL_INVITEE";t.ITEM_RIGHT_CLICK="ITEM_RIGHT_CLICK";t.RIGHT_CLICK_MENU_OPTION_CLICK="RIGHT_CLICK_MENU_OPTION_CLICK";t.REDIRECT_TO_FULL_VIEW="REDIRECT_TO_FULL_VIEW";t.EPOCH_INCOMING_PROPS_UPDATED="EPOCH_INCOMING_PROPS_UPDATED";t.RIGHT_RAIL_COMMS_ICON_CLICKED="RIGHT_RAIL_COMMS_ICON_CLICKED";t.EPOCH_CREATE_FOLDER_REQUESTED="EPOCH_CREATE_FOLDER_REQUESTED";t.EPOCH_CREATE_FOLDER_SUCCEEDED="EPOCH_CREATE_FOLDER_SUCCEEDED";t.EPOCH_CREATE_FOLDER_FAILED="EPOCH_CREATE_FOLDER_FAILED";t.EPOCH_EDIT_FOLDER_REQUESTED="EPOCH_EDIT_FOLDER_REQUESTED";t.EPOCH_EDIT_FOLDER_SUCCEEDED="EPOCH_EDIT_FOLDER_SUCCEEDED";t.EPOCH_EDIT_FOLDER_FAILED="EPOCH_EDIT_FOLDER_FAILED";t.EPOCH_DELETE_FOLDER_REQUESTED="EPOCH_DELETE_FOLDER_REQUESTED";t.EPOCH_DELETE_FOLDER_SUCCEEDED="EPOCH_DELETE_FOLDER_SUCCEEDED";t.EPOCH_DELETE_FOLDER_FAILED="EPOCH_DELETE_FOLDER_FAILED";t.EPOCH_IMPORT_FOLDER_REQUESTED="EPOCH_IMPORT_FOLDER_REQUESTED";t.EPOCH_IMPORT_FOLDER_SUCCEEDED="EPOCH_IMPORT_FOLDER_SUCCEEDED";t.EPOCH_IMPORT_FOLDER_FAILED="EPOCH_IMPORT_FOLDER_FAILED";t.EPOCH_EXPORT_FOLDER_REQUESTED="EPOCH_EXPORT_FOLDER_REQUESTED";t.EPOCH_EXPORT_FOLDER_SUCCEEDED="EPOCH_EXPORT_FOLDER_SUCCEEDED";t.EPOCH_EXPORT_FOLDER_FAILED="EPOCH_EXPORT_FOLDER_FAILED";t.EPOCH_FETCH_FOLDER_REQUESTED="EPOCH_FETCH_FOLDER_REQUESTED";t.EPOCH_FETCH_FOLDER_SUCCEEDED="EPOCH_FETCH_FOLDER_SUCCEEDED";t.EPOCH_FETCH_FOLDER_FAILED="EPOCH_FETCH_FOLDER_FAILED";t.EDIT_USER_PREFERENCES_REQUESTED="EDIT_USER_PREFERENCES_REQUESTED";t.EDIT_USER_PREFERENCES_SUCCEEDED="EDIT_USER_PREFERENCES_SUCCEEDED";t.EDIT_USER_PREFERENCES_FAILED="EDIT_USER_PREFERENCES_FAILED";t.EPOCH_FETCH_TODOS_REQUESTED="EPOCH_FETCH_TODOS_REQUESTED";t.EPOCH_FETCH_TODOS_SUCCEEDED="EPOCH_FETCH_TODOS_SUCCEEDED";t.EPOCH_FETCH_TODOS_FAILED="EPOCH_FETCH_TODOS_FAILED";t.EPOCH_PATCH_TODO_REQUESTED="EPOCH_PATCH_TODO_REQUESTED";t.EPOCH_PATCH_TODO_SUCCEEDED="EPOCH_PATCH_TODO_SUCCEEDED";t.EPOCH_PATCH_TODO_FAILED="EPOCH_PATCH_TODO_FAILED";t.EPOCH_DELETE_TODO_REQUESTED="EPOCH_DELETE_TODO_REQUESTED";t.EPOCH_DELETE_TODO_SUCCEEDED="EPOCH_DELETE_TODO_SUCCEEDED";t.EPOCH_DELETE_TODO_FAILED="EPOCH_DELETE_TODO_FAILED";t.EPOCH_CREATE_TODO_REQUESTED="EPOCH_CREATE_TODO_REQUESTED";t.EPOCH_CREATE_TODO_SUCCEEDED="EPOCH_CREATE_TODO_SUCCEEDED";t.EPOCH_CREATE_TODO_FAILED="EPOCH_CREATE_TODO_FAILED";t.FETCH_OPTIONS_REQUESTED="FETCH_OPTIONS_REQUESTED";t.FETCH_OPTIONS_SUCCEEDED="FETCH_OPTIONS_SUCCEEDED";t.FETCH_OPTIONS_FAILED="FETCH_OPTIONS_FAILED";t.EPOCH_ITEM_SEARCH_REQUESTED="EPOCH_ITEM_SEARCH_REQUESTED";t.EPOCH_ITEM_SEARCH_SUCCEEDED="EPOCH_ITEM_SEARCH_SUCCEEDED";t.EPOCH_ITEM_SEARCH_FAILED="EPOCH_ITEM_SEARCH_FAILED";t.EPOCH_SEARCH_QUERY_UPDATED="EPOCH_SEARCH_QUERY_UPDATED";t.EPOCH_SEARCH_LAUNCH_REQUESTED="EPOCH_SEARCH_LAUNCH_REQUESTED";t.EPOCH_SEARCH_LAUNCH_SUCCEEDED="EPOCH_SEARCH_LAUNCH_SUCCEEDED";t.EPOCH_SEARCH_LAUNCH_FAILED="EPOCH_SEARCH_LAUNCH_FAILED";t.EPOCH_SETTING_LAUNCH_REQUESTED="EPOCH_SETTING_LAUNCH_REQUESTED";t.EPOCH_SETTING_LAUNCH_SUCCEEDED="EPOCH_SETTING_LAUNCH_SUCCEEDED";t.EPOCH_SETTING_LAUNCH_FAILED="EPOCH_SETTING_LAUNCH_FAILED";t.EPOCH_PRINTPAGE_LAUNCH_REQUESTED="EPOCH_PRINTPAGE_LAUNCH_REQUESTED";t.EPOCH_PRINTPAGE_LAUNCH_SUCCEEDED="EPOCH_PRINTPAGE_LAUNCH_SUCCEEDED";t.EPOCH_PRINTPAGE_LAUNCH_FAILED="EPOCH_PRINTPAGE_LAUNCH_FAILED";t.EPOCH_RSVP_LAUNCH_REQUESTED="EPOCH_RSVP_LAUNCH_REQUESTED";t.EPOCH_RSVP_LAUNCH_SUCCEEDED="EPOCH_RSVP_LAUNCH_SUCCEEDED";t.EPOCH_RSVP_LAUNCH_FAILED="EPOCH_RSVP_LAUNCH_FAILED";t.EPOCH_FETCH_ITEMS_REQUESTED="EPOCH_FETCH_ITEMS_REQUESTED";t.EPOCH_FETCH_ITEMS_SUCCEEDED="EPOCH_FETCH_ITEMS_SUCCEEDED";t.EPOCH_FETCH_ITEMS_FAILED="EPOCH_FETCH_ITEMS_FAILED";t.EPOCH_CONTACT_PICKER_LAUNCH_REQUESTED="EPOCH_CONTACT_PICKER_LAUNCH_REQUESTED";t.EPOCH_CONTACT_PICKER_LAUNCH_SUCCEEDED="EPOCH_CONTACT_PICKER_LAUNCH_SUCCEEDED";t.EPOCH_CONTACT_PICKER_LAUNCH_FAILED="EPOCH_CONTACT_PICKER_LAUNCH_FAILED";t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_REQUESTED="EPOCH_FETCH_CONTACTS_BY_GROUP_ID_REQUESTED";t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_SUCCEEDED="EPOCH_FETCH_CONTACTS_BY_GROUP_ID_SUCCEEDED";t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_FAILED="EPOCH_FETCH_CONTACTS_BY_GROUP_ID_FAILED";t.EPOCH_DELETE_CONTACT_SUGGESTIONS_REQUESTED="EPOCH_DELETE_CONTACT_SUGGESTIONS_REQUESTED";t.EPOCH_DELETE_CONTACT_SUGGESTIONS_FAILED="EPOCH_DELETE_CONTACT_SUGGESTIONS_FAILED";t.EPOCH_DELETE_CONTACT_SUGGESTIONS_SUCCEEDED="EPOCH_DELETE_CONTACT_SUGGESTIONS_SUCCEEDED";t.EPOCH_FETCH_CONTACT_SUGGESTIONS_REQUESTED="EPOCH_FETCH_CONTACT_SUGGESTIONS_REQUESTED";t.EPOCH_FETCH_CONTACT_SUGGESTIONS_SUCCEEDED="EPOCH_FETCH_CONTACT_SUGGESTIONS_SUCCEEDED";t.EPOCH_FETCH_CONTACT_SUGGESTIONS_FAILED="EPOCH_FETCH_CONTACT_SUGGESTIONS_FAILED";t.EPOCH_RELATED_CONTACTS_CLOSED="EPOCH_RELATED_CONTACTS_CLOSED";t.EPOCH_FETCH_IMPORTANT_CONTACTS_REQUESTED="EPOCH_FETCH_IMPORTANT_CONTACTS_REQUESTED";t.EPOCH_FETCH_IMPORTANT_CONTACTS_SUCCEEDED="EPOCH_FETCH_IMPORTANT_CONTACTS_SUCCEEDED";t.EPOCH_FETCH_IMPORTANT_CONTACTS_FAILED="EPOCH_FETCH_IMPORTANT_CONTACTS_FAILED";t.EPOCH_XOBNIFIED_USER_REQUESTED="EPOCH_XOBNIFIED_USER_REQUESTED";t.EPOCH_XOBNIFIED_USER_SUCCEEDED="EPOCH_XOBNIFIED_USER_SUCCEEDED";t.EPOCH_XOBNIFIED_USER_FAILED="EPOCH_XOBNIFIED_USER_FAILED";t.EPOCH_SEARCH_FOLDER_STATUS_CHANGE_REQUESTED="EPOCH_SEARCH_FOLDER_STATUS_CHANGE_REQUESTED";t.EPOCH_SEARCH_ITEM_CATEGORY_UDPATED="EPOCH_SEARCH_ITEM_CATEGORY_UDPATED";t.EPOCH_PUBLIC_APP_LAUNCH_REQUESTED="EPOCH_PUBLIC_APP_LAUNCH_REQUESTED";t.EPOCH_PUBLIC_APP_LAUNCH_SUCCEEDED="EPOCH_PUBLIC_APP_LAUNCH_SUCCEEDED";t.EPOCH_PUBLIC_APP_LAUNCH_FAILED="EPOCH_PUBLIC_APP_LAUNCH_FAILED";t.EPOCH_FETCH_SPORTS_DATA_REQUESTED="EPOCH_FETCH_SPORTS_DATA_REQUESTED";t.EPOCH_FETCH_SPORTS_DATA_SUCCEEDED="EPOCH_FETCH_SPORTS_DATA_SUCCEEDED";t.EPOCH_FETCH_SPORTS_DATA_FAILED="EPOCH_FETCH_SPORTS_DATA_FAILED";t.SEARCH_SPORTS_EVENTS_REQUESTED="SEARCH_SPORTS_EVENTS_REQUESTED";t.SEARCH_SPORTS_EVENTS_SUCCEEDED="SEARCH_SPORTS_EVENTS_SUCCEEDED";t.SEARCH_SPORTS_EVENTS_FAILED="SEARCH_SPORTS_EVENTS_FAILED";t.EPOCH_ROUTE_CHANGE_WITH_NO_STATE_UPDATES="EPOCH_ROUTE_CHANGE_WITH_NO_STATE_UPDATES";t.RSVP_REPLY_FROM_RSVP_PAGE_REQUESTED="RSVP_REPLY_FROM_RSVP_PAGE_REQUESTED";t.RSVP_REPLY_FROM_RSVP_PAGE_SUCCEEDED="RSVP_REPLY_FROM_RSVP_PAGE_SUCCEEDED";t.RSVP_REPLY_FROM_RSVP_PAGE_FAILED="RSVP_REPLY_FROM_RSVP_PAGE_FAILED";t.NGY_NOTIFY="NGY_NOTIFY";t.EPOCH_NOTEPAD_LAUNCH_REQUESTED="EPOCH_NOTEPAD_LAUNCH_REQUESTED";t.EPOCH_NOTEPAD_LAUNCH_SUCCEEDED="EPOCH_NOTEPAD_LAUNCH_SUCCEEDED";t.EPOCH_NOTEPAD_LAUNCH_FAILED="EPOCH_NOTEPAD_LAUNCH_FAILED";t.EPOCH_GET_JOURNAL_REQUESTED="EPOCH_GET_JOURNAL_REQUESTED";t.EPOCH_GET_JOURNAL_SUCCEEDED="EPOCH_GET_JOURNAL_SUCCEEDED";t.EPOCH_GET_JOURNAL_FAILED="EPOCH_GET_JOURNAL_FAILED";t.EPOCH_GET_JOURNALS_REQUESTED="EPOCH_GET_JOURNALS_REQUESTED";t.EPOCH_GET_JOURNALS_SUCCEEDED="EPOCH_GET_JOURNALS_SUCCEEDED";t.EPOCH_GET_JOURNALS_FAILED="EPOCH_GET_JOURNALS_FAILED";t.EPOCH_SELECT_JOURNAL_REQUESTED="EPOCH_SELECT_JOURNAL_REQUESTED";t.EPOCH_SELECT_JOURNAL_FOLDER_REQUESTED="EPOCH_SELECT_JOURNAL_FOLDER_REQUESTED";t.EPOCH_CREATE_JOURNAL_REQUESTED="EPOCH_CREATE_JOURNAL_REQUESTED";t.EPOCH_CREATE_JOURNAL_SUCCEEDED="EPOCH_CREATE_JOURNAL_SUCCEEDED";t.EPOCH_CREATE_JOURNAL_FAILED="EPOCH_CREATE_JOURNAL_FAILED";t.EPOCH_UPDATE_JOURNAL_REQUESTED="EPOCH_UPDATE_JOURNAL_REQUESTED";t.EPOCH_UPDATE_JOURNAL_SUCCEEDED="EPOCH_UPDATE_JOURNAL_SUCCEEDED";t.EPOCH_UPDATE_JOURNAL_FAILED="EPOCH_UPDATE_JOURNAL_FAILED";t.EPOCH_DELETE_JOURNAL_REQUESTED="EPOCH_DELETE_JOURNAL_REQUESTED";t.EPOCH_DELETE_JOURNAL_SUCCEEDED="EPOCH_DELETE_JOURNAL_SUCCEEDED";t.EPOCH_DELETE_JOURNAL_FAILED="EPOCH_DELETE_JOURNAL_FAILED";t.EPOCH_FEATURE_CUE_CLOSE="EPOCH_FEATURE_CUE_CLOSE"},1558:(e,t,s)=>{"use strict";s.d(t,{tm:()=>n,AC:()=>r,Vr:()=>o,jw:()=>i,E2:()=>l,hN:()=>c,qe:()=>d,hy:()=>E,Iu:()=>_,MM:()=>u,NO:()=>m,Ku:()=>S,G0:()=>p,In:()=>C});var a=s(50566);function n(e){return{type:a.ACCOUNT_DELETE_REQUESTED,...e}}function r(e){return{type:a.ACCOUNT_DELETE_SUCCEEDED,...e}}function o(e){return{type:a.ACCOUNT_DELETE_FAILED,...e}}function i(e){return{type:a.ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED,...e}}function l(e){return{type:a.ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED,...e}}function c(e){return{type:a.EMAIL_PROVIDER_SELECTED,...e}}function d(e){return{type:a.ACCOUNT_ADD_SUCCEEDED,...e}}function E(e){return{type:a.ACCOUNT_ADD_FAILED,...e}}const _=e=>({type:a.ACCOUNT_REAUTH_REQUESTED,...e}),u=e=>({type:a.ACCOUNT_REAUTH_SUCCEEDED,...e}),m=e=>({type:a.ACCOUNT_REAUTH_FAILED,...e});function S(e){return{...e,type:a.ACCOUNT_DELETE_CONFIRMED}}function p(e){return{type:a.ACCOUNT_ADD_AUTHORIZED,...e}}function C(e){return{type:a.FETCH_PRIMARY_ACCOUNT,...e}}},59413:(e,t,s)=>{"use strict";s.d(t,{O:()=>o,VK:()=>i,Uz:()=>l,yu:()=>c,h2:()=>d});var a=s(50566),n=s(30982),r=s(37422);function o({i13nModel:e}){return{type:a.ADBLOCK_UPSELL_OPTION_CLICKED,i13nModel:e}}function i({i13nModel:e}){return{type:a.ADBLOCK_DETECTED,i13nModel:e}}function l({i13nModel:e}){return{type:a.ADBLOCK_BEACON_FAILED,i13nModel:e}}function c({i13nModel:e}){return{type:a.ABP_DETECTED,i13nModel:e}}const d=({uiId:e,i13nModel:t={}})=>s=>s((0,n.Dy)({name:r.Zrf.AD_BLOCK_FEATURE_CUE_ID,value:e,runV3:!0,i13nModel:t}))},18352:(e,t,s)=>{"use strict";s.d(t,{gB:()=>r,Ay:()=>o,i$:()=>i,Ci:()=>l,qV:()=>c,I5:()=>d,DV:()=>E,HZ:()=>_,dw:()=>u,l:()=>m,ZE:()=>S,k:()=>p,nu:()=>C,lN:()=>A,XC:()=>T,Fb:()=>h,a5:()=>g,Xw:()=>I,WA:()=>R,P0:()=>O,QP:()=>D,K5:()=>N,JF:()=>f});var a=s(50566),n=s(37422);s(30982);const r=e=>({type:a.PENCIL_AD_CLICKED,...e}),o=e=>({type:a.AD_FEEDBACK_STARTED,...e}),i=e=>({type:a.AD_FEEDBACK_SUBMITTED,...e}),l=e=>({type:a.AD_FEEDBACK_CLOSED,...e}),c=e=>({type:e.error?a.DARLA_ADS_FAILED:a.DARLA_ADS_RECEIVED,...e}),d=()=>({type:a.MESSAGE_READ_AD_ROTATION_TIMER}),E=()=>({type:a.FEATURE_DISABLED,name:n.ANe.IS_WIDER_MAIL_EXTN_ENABLED}),_=e=>({type:a.AD_ROTATION_SKIPPED,...e}),u=e=>({type:a.LEGACY_WIDERMAIL_EXTN_DETECTED,name:n.ANe.IS_WIDER_MAIL_EXTN_ENABLED,...e}),m=e=>({type:a.PREMIUM_AD_STARTED,...e}),S=e=>({type:a.PREMIUM_AD_STOPPED,...e}),p=({sectionIds:e})=>({type:a.GEMINI_AD_REQUESTED,sectionIds:e}),C=({geminiAd:e,sectionIds:t,sponsoredMessageTriage:s=!1,i13nModel:n={}})=>({type:a.GEMINI_AD_RECEIVED,geminiAd:e,sectionIds:t,i13nModel:n,sponsoredMessageTriage:s}),A=({error:e,sectionIds:t,i13nModel:s})=>({type:a.GEMINI_AD_FAILED,error:e,sectionIds:t,i13nModel:s}),T=({creativeId:e,asset:t})=>({type:a.GEMINI_SPONSORED_ASSET_RECEIVED,creativeId:e,asset:t}),h=({creativeId:e,error:t,url:s})=>({type:a.GEMINI_SPONSORED_ASSET_FAILED,creativeId:e,error:t,url:s}),g=({subject:e,asset:t})=>({type:a.SPONSORED_SAVE_TO_INBOX_REQUESTED,subject:e,asset:t}),I=({message:e,simpleBody:t})=>({type:a.SPONSORED_SAVE_TO_INBOX_SUCCEEDED,message:e,simpleBody:t}),R=()=>({type:a.SPONSORED_SAVE_TO_INBOX_FAILED}),O=e=>({type:a.HIDE_RIGHT_PANE_ADS,...e}),D=({i13nModel:e})=>({type:a.UNUSUAL_DISCOUNT_VIGLINK_CLICKED,i13nModel:e}),N=()=>({type:a.FLASH_SALE_AD_ENDED}),f=e=>({type:a.AD_FEEDBACK_CLICKED,...e})},39239:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(50566);const n=e=>({type:a.TOGGLE_ADVANCED_SEARCH_PANE,...e})},18091:(e,t,s)=>{"use strict";s.d(t,{Kr:()=>n,lR:()=>r,JX:()=>o,c5:()=>i});var a=s(50566);const n=e=>({type:a.AFFILIATE_OFFERS_FAILED,error:e}),r=e=>({type:a.AFFILIATE_OFFERS_SUCCEEDED,...e}),o=e=>({type:a.AFFILIATE_OFFERS_REQUESTED,brandId:e}),i=e=>({type:a.INBOX_COMMERCE_FEATURE_CLICKED,...e})},35598:(e,t,s)=>{"use strict";s.d(t,{Tf:()=>r,u8:()=>o,Kf:()=>i,td:()=>l});var a=s(50566),n=s(37422);const r=({tasks:e,messageItemsToSync:t,actionPayload:s})=>({type:a.BULK_PROGRESS_INITIATED,tasks:e,messageItemsToSync:t,...s}),o=({id:e,status:t,progress:s,pollCount:n})=>({type:a.BULK_PROGRESS_RECEIVED,id:e,status:t,progress:s,pollCount:n}),i=({taskId:e})=>({type:a.BULK_CANCEL_REQUESTED,taskId:e,status:n.sZ3.ABORTING}),l=({taskId:e,progress:t,triageActionType:s,folderId:r,count:o,conversations:i})=>({type:a.BULK_CANCEL_FAILED,triageActionType:s,folderId:r,count:o,conversations:i,taskId:e,progress:t,status:n.sZ3.ABORT_FAILED})},73924:(e,t,s)=>{"use strict";s.d(t,{AV:()=>n,Ve:()=>r,b2:()=>o,ok:()=>i});var a=s(50566);function n({i13nModel:e}){return{type:a.ATTACHMENT_OPENED,i13nModel:e}}function r({attachment:e,i13nModel:t}){const{id:s,filename:n,downloadUrl:r}=e;return{attachment:e,type:a.ATTACHMENT_DOWNLOADED,download:{downloadId:s,downloadUrl:r,filename:n,fileCount:1},i13nModel:t}}const o=({downloadUrl:e})=>({type:a.ATTACHMENT_PREVIEW_FAILED,downloadUrl:e}),i=e=>({type:a.INLINE_IMAGES_TO_ATTACHMENT,...e})},52021:(e,t,s)=>{"use strict";s.d(t,{UT:()=>l,ZP:()=>c});s(44908);var a=s(50566),n=s(37422),r=s(85927),o=s(78263),i=s(5199);const l=e=>(t,s)=>{const{getRoute:l,getFeaturesSelectors:c,getMainStreamListIds:d}=(0,r.selectors)(s()),E=d(l()),_=(0,o.BA)(E),u=c().isEnabled(n.ANe.CONVERSATIONS),m={triageActionType:n.Ewo.DELETE_ALL_FROM_SENDERS,conversations:u};return t({...e,name:n.Zrf.DELIVERY_BLOCKED_SENDERS,type:a.BLOCK_SENDERS_WITH_DELETE_REQUESTED,streamId:_,allSelected:!0,destinationFolderType:n.Sck.TRASH,triageActionType:n.Ewo.DELETE_ALL_FROM_SENDERS,isAsync:!0,conversations:u,successAction:(0,i.G)(m),failureAction:(0,i.O)(m)})},c=e=>(t,s)=>{const{getRoute:i,getMainStreamListIds:l}=(0,r.selectors)(s()),c=l(i()),d=(0,o.BA)(c);return t({...e,type:a.BLOCK_SENDERS_REQUESTED,name:n.Zrf.DELIVERY_BLOCKED_SENDERS,streamId:d})}},49760:(e,t,s)=>{"use strict";s.d(t,{WX:()=>n,Ze:()=>r,Io:()=>o,Z0:()=>i,IL:()=>l,JN:()=>c,eT:()=>d,pV:()=>E});var a=s(50566);const n=e=>({type:a.SETTINGS_BLOCKED_DOMAINS_FETCHED,...e}),r=e=>({type:a.SETTINGS_BLOCKED_DOMAINS_FETCH_FAILED,...e}),o=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED,...e}),i=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_ADD_FAILED,...e}),l=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_DELETE_FAILED,...e}),c=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED,...e}),d=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_DELETE_REQUESTED,...e}),E=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_ADD_REQUESTED,...e})},45582:(e,t,s)=>{"use strict";s.d(t,{Gv:()=>n,iD:()=>r,C5:()=>o,$K:()=>i});var a=s(50566);const n=e=>({type:a.BREAKING_NEWS_DISMISSED,...e}),r=e=>({type:a.BREAKING_NEWS_REFRESH,...e}),o=e=>({type:a.BREAKING_NEWS_CLICKED,...e}),i=e=>({type:a.BREAKING_NEWS_RENDERED,...e})},78850:(e,t,s)=>{"use strict";s.d(t,{$l:()=>r,RO:()=>o,tG:()=>i,Au:()=>l,xU:()=>c,kr:()=>d,iv:()=>E});var a=s(92559),n=s(50566);function r({messageId:e,params:t}){return{type:n.GET_INVITE_INFO_REQUESTED,messageId:e,params:t,i13nModel:{mKey:a.JE.RSVP_LOADED,sec:a.nJ.RSVP_CARD,actionData:{msgID:e}}}}function o({messageIds:e,inviteInfoGroup:t}){return{type:n.INVITEINFO_FETCH_SUCCEEDED,messageIds:e,inviteInfoGroup:t}}function i({messageIds:e,errors:t}){return{type:n.INVITEINFO_FETCH_FAILED,messageIds:e,errors:t}}function l(e){return{type:n.RESPOND_TO_INVITE,...e,i13nModel:{mKey:a.JE.RSVP_CALENDAR_RESPONSE,sec:a.nJ.RSVP_CARD,actionData:{msgID:e.messageId,response:e.response}}}}function c({messageId:e}){return{type:n.RSVP_NAVIGATE_TO_CALENDAR,i13nModel:{mKey:a.JE.RSVP_NAVIGATE_TO_CALENDAR,sec:a.nJ.RSVP_CARD,actionData:{msgID:e}}}}function d({uid:e,response:t,messageId:s}){return{type:n.RESPOND_TO_INVITE_SUCCEEDED,messageId:s,uid:e,response:t}}function E({uid:e,response:t,messageId:s}){return{type:n.RESPOND_TO_INVITE_FAILED,messageId:s,uid:e,response:t}}},30982:(e,t,s)=>{"use strict";s.d(t,{Dy:()=>i,Uw:()=>l,Yp:()=>c,FV:()=>d,f6:()=>E,zp:()=>_,nt:()=>u,SI:()=>m,Nw:()=>S,SC:()=>p,Hn:()=>C,d5:()=>A,_5:()=>T,Lz:()=>h,eX:()=>g,g9:()=>I,hY:()=>R,eH:()=>O,ZP:()=>D});var a=s(50566),n=s(85927),r=s(37422),o=s(63352);const i=({name:e,value:t,...s})=>(o,i)=>{const{isMobileRoute:l}=(0,n.selectors)(i());return e===r.Zrf.NOTIFICATION&&l()?(e=r.Zrf.MOBILE_NOTIFICATION,t=Boolean(t)):e===r.Zrf.NOTIFICATION&&(e=r.Zrf.DESKTOP_NOTIFICATION,t=t?1:0),o({...s,name:e,value:t,type:a.SETTINGS_CHANGE_REQUESTED})},l=({name:e,value:t,i13nModel:s,...i})=>(l,c)=>{const{getSetting:d}=(0,n.selectors)(c()),E=d(r.Zrf.DISABLED_MESSAGE_READ_CARDS)||[],_=[r.ANe.DEAL_RECOMMENDATIONS_ENABLED];(0,o.Z)(_.indexOf(e)>-1,"Not a valid message read card option");const u=t?E.filter((t=>t!==e)):[...E,e];return l({name:r.Zrf.DISABLED_MESSAGE_READ_CARDS,value:u,i13nModel:s,...i,type:a.SETTINGS_CHANGE_REQUESTED})},c=({i13nModel:e})=>(t,s)=>{const{getSetting:o}=(0,n.selectors)(s()),i=(o(r.Zrf.PREVIEW_PANE)+1)%Object.keys(r.EsZ).length;return t({name:r.Zrf.PREVIEW_PANE,value:i,i13nModel:e,type:a.SETTINGS_CHANGE_REQUESTED})},d=e=>({type:a.SETTINGS_CHANGE_SUCCEEDED,...e}),E=e=>({type:a.SETTINGS_CHANGE_FAILED,...e}),_=e=>({type:a.AOL_SETTINGS_MIGRATION_INITIATED,...e}),u=e=>({type:a.AOL_SETTINGS_MIGRATION_SUCCEEDED,name:r.Zrf.MIGRATION_STATUS,value:"1",...e}),m=e=>({type:a.AOL_SETTINGS_MIGRATION_FAILED,...e}),S=e=>({...e,type:a.ACCOUNT_DETAILS_CHANGE_REQUESTED}),p=e=>({...e,type:a.ACCOUNT_DETAILS_CHANGE_SUCCEEDED}),C=e=>({...e,type:a.ACCOUNT_DETAILS_CHANGE_FAILED}),A=e=>({...e,type:a.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED}),T=e=>({...e,type:a.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED}),h=e=>({...e,type:a.SETTINGS_SAVE_VACATION_PREFERENCES_FAILED}),g=e=>({...e,type:a.THEME_MODE_CHANGE_REQUESTED}),I=e=>{const{filters:t,...s}=e;return{type:a.SETTINGS_SAVE_FILTERS_REQUESTED,name:r.Zrf.MESSAGE_FILTERS,value:t,...s,runV3:!0}},R=e=>({...e,type:a.SETTINGS_ADD_FILTER_REQUESTED}),O=e=>({type:a.REVIEW_FORWARD_EMAIL,...e}),D=i},1656:(e,t,s)=>{"use strict";s.d(t,{pd:()=>o,ob:()=>i,dc:()=>l,qL:()=>c,J3:()=>d,h_:()=>E,aX:()=>_,YS:()=>u,sM:()=>m,Av:()=>S,Cb:()=>p,af:()=>C,ft:()=>A,p:()=>T,qV:()=>h,LY:()=>g});var a=s(50566),n=s(37422),r=s(92559);const o=(e,t)=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED,listId:e.altListId,response:{[n.F6k.CLOUD_STORAGE_ITEMS]:{[n.ukn.CLOUD_STORAGE_ITEMS]:t}}}),i=(e,t)=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED,listId:e.altListId,err:t}),l=e=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED}),c=e=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED}),d=e=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED}),E=e=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED}),_=(e={})=>{const t=e.contentProviders&&Object.keys(e.contentProviders).filter((t=>t!==n.hKF.YMAIL&&e.contentProviders[t]&&e.contentProviders[t].isConnected)),s={mKey:r.JE.CONNECTED_PROVIDERS,sec:r.nJ.CONTENT_PROVIDERS,actionData:{providers:t}};return{...e,type:a.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED,i13nModel:null!=t&&t.length?s:{}}},u=e=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED}),m=e=>({...e,type:a.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED}),S=e=>({...e,type:a.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED}),p=e=>({...e,type:a.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED}),C=e=>({...e,type:a.CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_DIALOG_CLICKED}),A=e=>({...e,type:a.ATTACH_FILES_MENU_ITEM_CLICKED}),T=e=>({...e,type:a.CLOUD_STORAGE_ITEM_LINK_ADDED}),h=e=>({...e,type:a.CLOUD_STORAGE_ITEM_PREVIEW_CLICKED}),g=e=>({...e,type:a.CLOUD_STORAGE_ITEM_PERMISSION_UPDATED})},32440:(e,t,s)=>{"use strict";s.d(t,{Jl:()=>o,FU:()=>i,wy:()=>l,eW:()=>c,zE:()=>d,gc:()=>E,pl:()=>_,bG:()=>u,qN:()=>m,Wr:()=>S,lN:()=>p,Lz:()=>C,Q0:()=>A,Jo:()=>T,hP:()=>h,jt:()=>g,kS:()=>I,M5:()=>R,R5:()=>O,Lg:()=>D,yh:()=>N,bU:()=>f,L3:()=>M,Cr:()=>L});var a=s(50566),n=s(37422),r=s(92559);function o(e){return{...e,type:a.ADD_COMPOSE_HEADER}}function i(e){return{...e,type:a.CLEAR_FORWARDED_ATTACHMENT_IDS}}function l(e){return{...e,type:a.UPDATE_COMPOSE_HEADER_FOCUS}}function c(e){return{...e,type:a.DELETE_COMPOSE_HEADER}}function d(e){return{...e,type:a.V3_MESSAGE_SAVE_REQUESTED}}function E(e){return{...e,type:a.V3_MESSAGE_SAVE_SUCCEEDED}}function _(e){return{...e,type:a.V3_MESSAGE_SAVE_FAILED}}function u(e){return{...e,type:a.V3_MESSAGE_SEND_REQUESTED}}function m(e){return{...e,type:a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED,i13nModel:{mKey:r.JE.SEND_MSG,sec:r.nJ.COMPOSE_MSG,mKeyGroup:r.rO.sendMsg,interactionType:r.Rb.click}}}function S(e){return{...e,type:a.V3_MESSAGE_SEND_SUCCEEDED,i13nModel:{mKey:r.JE.SEND_MSG,sec:r.nJ.COMPOSE_MSG,mKeyGroup:r.rO.sendMsg,interactionType:r.Rb.click}}}function p(e){return{...e,type:a.V3_MESSAGE_SEND_FAILED}}function C(e){return{...e,type:a.RTE_MORE_MENU_SHOWN}}function A(e){return{...e,type:a.HANDLE_RTE_TOOLBAR_ACTIONS}}function T(e){return{...e,type:a.QUOTED_TEXT_EXPANDED}}function h(e){return{...e,type:a.CONTACT_ADDED}}function g(e){return{...e,type:a.CONTACT_DRAG_DROP}}function I(e){return{...e,type:a.UPLOAD_PROGRESS_RECEIVED}}function R(){return{type:a.ADD_BIG_ATTACHMENT,i13nModel:{sec:r.nJ.COMPOSE_TOOLBAR,mKey:r.JE.COMPOSE_ADD_BIG_ATTACHMENT}}}function O(e){return{...e,fromMessageGroupView:!0,destinationFolderType:n.Sck.TRASH,type:a.DELETE_ITEMS_REQUESTED,triageActionType:n.Ewo.DELETE_DRAFT}}const D=e=>({...e,type:a.TOGGLE_COMPACT_COMPOSE_STATE}),N=e=>({...e,type:a.EDIT_COMPACT_COMPOSE_SUBJECT}),f=e=>({...e,type:a.CLOSE_COMPACT_COMPOSE}),M=e=>({...e,type:a.POP_OUT_COMPOSE}),L=e=>({...e,type:a.SHOW_INVALID_REPLY_TO_ADDRESS_ALERT})},72710:(e,t,s)=>{"use strict";s.r(t),s.d(t,{deleteContactSuggestionRequested:()=>n,deleteContactSuggestionFailed:()=>r,deleteContactSuggestionSucceeded:()=>o,contactSuggestionRequested:()=>i,contactSuggestionSucceeded:()=>l,contactSuggestionFailed:()=>c,closeAutotagForCurrentSession:()=>d,closeRelatedContactsForCurrentSession:()=>E});var a=s(50566);const n=e=>({type:a.DELETE_CONTACT_SUGGESTIONS_REQUESTED,...e}),r=e=>({type:a.DELETE_CONTACT_SUGGESTIONS_FAILED,...e}),o=e=>({type:a.DELETE_CONTACT_SUGGESTIONS_SUCCEEDED,...e}),i=e=>({type:a.CONTACT_SUGGESTIONS_REQUESTED,...e}),l=e=>({type:a.CONTACT_SUGGESTIONS_SUCCEEDED,...e}),c=e=>({type:a.CONTACT_SUGGESTIONS_FAILED,...e}),d=e=>({type:a.AUTOTAG_DROPDOWN_CLOSED,...e}),E=e=>({type:a.RELATED_CONTACTS_CLOSED,...e})},30426:(e,t,s)=>{"use strict";s.d(t,{v2:()=>n,c6:()=>r,KI:()=>o,ow:()=>i,iC:()=>l,Np:()=>c,ll:()=>d,Vj:()=>E,hV:()=>_,Qx:()=>u,zh:()=>m,cj:()=>S,LF:()=>p,Yo:()=>C,kl:()=>A,QU:()=>T,rg:()=>h,XQ:()=>g,FT:()=>I,Im:()=>R,JC:()=>O,HQ:()=>D,AU:()=>N,oF:()=>f,nW:()=>M,sT:()=>L,lB:()=>P,r:()=>y,XF:()=>b});var a=s(50566);const n=e=>({type:a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED,...e}),r=e=>({type:a.IMPORTANT_CONTACTS_FETCH_FAILED,...e}),o=e=>({type:a.CONTACT_DETAIL_FETCH_REQUESTED,...e}),i=e=>({type:a.CONTACT_DETAIL_FETCH_SUCCEEDED,...e}),l=e=>({type:a.CONTACT_DETAIL_FETCH_FAILED,...e}),c=e=>({type:a.CONTACTS_GROUP_FETCH_SUCCEEDED,...e}),d=e=>({type:a.CONTACTS_GROUP_FETCH_FAILED,...e}),E=e=>({type:a.CONTACTS_LIST_FETCH_SUCCEEDED,...e}),_=e=>({type:a.CONTACTS_LIST_FETCH_FAILED,...e}),u=e=>({type:a.DELETE_CONTACT_SUCCEEDED,...e}),m=e=>({type:a.DELETE_CONTACT_FAILED,...e}),S=e=>({type:a.CONTACTS_GROUP_DELETE_SUCCEEDED,...e}),p=e=>({type:a.CONTACTS_GROUP_DELETE_FAILED,...e}),C=e=>({type:a.CONTACTS_PANE_SAVE_GROUP_SUCCEEDED,...e}),A=e=>({type:a.CONTACTS_PANE_SAVE_GROUP_FAILED,...e}),T=e=>({type:a.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED,...e}),h=e=>({type:a.CONTACTS_PANE_CREATE_GROUP_FAILED,...e}),g=e=>({type:a.ADD_TO_CONTACTS,...e});function I(e){return{type:a.EDIT_CONTACT_FROM_CARD,...e}}const R=e=>({...e,type:a.CONTACTS_RESTORE_CLICKED}),O=e=>({...e,type:a.CONTACTS_SNAPSHOT_FETCH_SUCCEEDED}),D=e=>({...e,type:a.CONTACTS_SNAPSHOT_FETCH_FAILED}),N=e=>({...e,type:a.CONTACTS_RESTORE_REQUESTED}),f=e=>({...e,type:a.CONTACTS_RESTORE_SUCCEEDED}),M=e=>({...e,type:a.CONTACTS_RESTORE_FAILED}),L=e=>({...e,type:a.CONTACTS_CSV_IMPORT_SUCCEEDED}),P=e=>({...e,type:a.CONTACTS_CSV_IMPORT_FAILED}),y=e=>({...e,type:a.CONTACTS_CSV_IMPORT_SIZE_FAILED}),b=e=>({...e,type:a.CONTACTS_CSV_IMPORT_REQUESTED})},91742:(e,t,s)=>{"use strict";s.d(t,{$9:()=>E,yf:()=>_,LY:()=>u,tb:()=>m,LB:()=>S,E9:()=>p,ZF:()=>C,sS:()=>A,Qx:()=>T,q7:()=>h,ek:()=>g,GK:()=>I,mM:()=>R,wg:()=>O,AQ:()=>D,bw:()=>N,lY:()=>f,m1:()=>M,pC:()=>L,rU:()=>P,LS:()=>y,Ew:()=>b,vc:()=>F,i:()=>U,gK:()=>v,GJ:()=>w,Ks:()=>G,aB:()=>k,hB:()=>H,q$:()=>B,Y_:()=>x,iE:()=>V,Dg:()=>W});var a=s(37422),n=s(50566),r=s(31057),o=s(3405),i=s(92559),l=s(78737),c=s(17016),d=s(73498);const E=e=>({...e,type:n.RIGHT_RAIL_COMMS_ICON_CLICKED,name:a.Qk$.CONTACTS_PANE}),_=e=>({...e,name:a.Qk$.CONTACTS_PANE}),u=({listFilter:e,...t})=>({...t,listFilter:e,type:n.CONTACTS_PANE_LIST_FILTER_CHANGED}),m=e=>({...e,type:n.CONTACTS_SORT_ORDER_CHANGED}),S=e=>({...e,type:n.CATEGORY_LIST_EXPANSION_TOGGLED}),p=({event:e,payload:t,listId:s,i13nSection:a})=>{const o=(0,r.C4)(s);return(e=>({...e,type:n.CONTACTS_PANE_CONTACT_CLICKED}))({...t,i13nModel:{mKey:i.JE.OPEN_CONTACT,sec:a||d.XY[o]||i.nJ.CONTACTS_PANE,interactionType:(0,c.getInteractionFromEvent)(e)}})},C=e=>({...e,type:n.CONTACTS_PANE_SAVE_GROUP_REQUESTED}),A=e=>({...e,type:n.CONTACTS_PANE_CREATE_GROUP_REQUESTED}),T=e=>({...e,type:n.CONTACTS_PANE_BACK_BUTTON_CLICKED}),h=e=>({...e,type:n.CONTACTS_PANE_EDIT_BUTTON_CLICKED}),g=e=>({...e,type:n.CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED}),I=({streamItems:e=[],streamItem:t,...s}={})=>({...s,streamItem:t,streamItems:e,type:n.DELETE_CONTACT_REQUESTED}),R=e=>({...e,type:n.CONTACT_EDIT_CANCELLED}),O=({keyword:e,...t})=>({...t,keyword:e,listId:(0,r.j_)(e),type:n.CONTACTS_PANE_SEARCHED}),D=e=>({...e,type:n.CONTACT_SEARCH_CLOSED}),N=e=>({type:n.CONTACT_CREATE_CLICKED,...e}),f=(e={})=>{const{smtp:t,name:s,sectionValue:a}=e;return(0,l.k1)({route:(0,o.jq)({emailAddresses:t,name:s||t}),i13nModel:{interactionType:i.Rb.click,mKey:i.JE.CONTACT_SEARCH,sec:a||i.nJ.RIGHT_RAIL,mKeyGroup:i.rO.search}})},M=e=>({...e,type:n.CONTACTS_PANE_EDIT_GROUP}),L=e=>({...e,type:n.CONTACTS_PANE_GROUP_CHANGED}),P=e=>({...e,type:n.EXPORT_ALL_CONTACTS_REQUESTED}),y=e=>(0,l.Ch)({route:(0,o.Tx)({settingsGroupId:a.u5h.CONTACTS}),...e}),b=e=>({...e,type:n.PRINT_ALL_CONTACTS_REQUESTED}),F=e=>({...e,type:n.FETCH_ALL_CONTACTS_SUCCESS}),U=e=>({...e,type:n.FETCH_ALL_CONTACTS_FAILED}),v=e=>({type:n.CONTACT_SAVE_REQUESTED,...e}),w=e=>({type:n.CONTACT_SAVE_SUCCEEDED,...e}),G=e=>({type:n.CONTACT_SAVE_FAILED,...e}),k=e=>({type:n.CONTACT_PHOTO_UPLOAD_SUCCEEDED,...e}),H=e=>({type:n.CONTACT_PHOTO_UPLOAD_FAILED,...e}),B=e=>({type:n.CREATE_CONTACT_SUCCEEDED,...e}),x=e=>({type:n.CREATE_CONTACT_FAILED,...e}),V=e=>({type:n.CONTACTS_GROUP_DELETE_REQUESTED,...e}),W=e=>({type:n.CONTACTS_GROUP_EDIT_EMAIL_SEARCH,...e})},17591:(e,t,s)=>{"use strict";s.d(t,{Oz:()=>d,Ai:()=>E,rz:()=>_,uv:()=>u,Wf:()=>m,eu:()=>S,V3:()=>p,lX:()=>C,is:()=>A,sv:()=>T,a6:()=>h,og:()=>g,wu:()=>I});var a=s(37422),n=s(50566),r=s(31057),o=s(85927);const i=(e=!0)=>({cardMid:t,...s})=>(i,l)=>{const{getSelectedAccountId:c,isFeatureEnabled:d}=(0,o.selectors)(l()),E=c(),_=d(a.ANe.DEALS_VIEW_FOR_INTLS)?[a.Sck.TRASH,a.Sck.BULK]:[],u=(0,r.tE)("{}",{listContentType:a.F6k.COUPON_CARDS,listFilter:e?a.ukn.SAVED_COUPON_CARDS:a.ukn.ALL_COUPON_CARDS,accountIds:[E],excludefolders:_,referrer:a.qd8[a.K8C.COUPONS]});i({type:e?n.COUPONS_ADD_TAG_DECO_REQUESTED:n.COUPONS_REMOVE_TAG_DECO_REQUESTED,listId:u,streamId:u,messageDecosPayloads:[{messageId:t}],messageId:t,schemaCard:{id:t,type:a.rgK.Coupon,saved:e},accountId:E,cardMid:t,...s})},l=e=>t=>({type:e,...t}),c=e=>t=>({type:e,error:t}),d=(e={})=>i(!0)(e),E=(e={})=>i(!1)(e),_=()=>({type:n.VIGLINK_CLICKED}),u=()=>({type:n.COUPON_RECOMMENDATIONS_OPENED}),m=(e="")=>({type:n.COUPON_RECOMMENDATIONS_CLOSED,listId:(0,r.H7)({referrer:a.qd8.COUPON_RECOMMENDATIONS,keyword:e})}),S=(e={})=>l(n.EXTRACT_COUPON_SUCCEEDED)(e),p=e=>c(n.EXTRACT_COUPON_FAILED)(e),C=e=>({type:n.PARENT_MESSAGE_METADATA_REQUESTED,cardConversationId:e}),A=e=>({...e,type:n.PARENT_MESSAGE_METADATA_SUCCEEDED}),T=e=>({error:e,type:n.PARENT_MESSAGE_METADATA_FAILED}),h=(e={})=>({type:n.DEALS_VIEW_EXPANSION_TOGGLED,...e}),g=({i13nModel:e})=>({type:n.DEALS_SHOPPING_CART_AD_CLICKED,i13nModel:e}),I=({i13nModel:e})=>({type:n.DEALS_SHOPPING_CART_AD_RENDERED,i13nModel:e})},79159:(e,t,s)=>{"use strict";s.d(t,{CV:()=>r,xF:()=>o,Ht:()=>i});var a=s(50566),n=s(37422);const r=e=>({...e,destinationFolderType:n.Sck.TRASH,type:a.DELETE_ITEMS_REQUESTED}),o=e=>({type:a.DELETE_PREVIEW_REQUESTED,...e}),i=e=>({type:a.DELETE_PREVIEW_CLOSED,...e})},57438:(e,t,s)=>{"use strict";s.d(t,{wq:()=>n,Re:()=>r,cm:()=>o,vA:()=>i,Lp:()=>l,xp:()=>c,Fn:()=>d,Fd:()=>E,u3:()=>_});var a=s(50566);const n=()=>({type:a.VIDEO_PLAYER_CLOSED}),r=()=>({type:a.VIDEO_PLAYER_OPENED}),o=({payload:e})=>({type:a.VIDEO_CHANNELS_METADATA_RECEIVED,payload:e}),i=({error:e})=>({type:a.VIDEO_CHANNELS_METADATA_FAILED,error:e}),l=e=>({type:a.VIDEO_CHANNEL_RECEIVED,...e}),c=e=>({type:a.VIDEO_CHANNEL_FAILED,...e}),d=()=>({type:a.VIDEO_PLAYER_PLAYED}),E=()=>({type:a.VIDEO_PLAYER_PAUSED}),_=e=>({type:a.EMPTY_FOLDER_VIDEO_FETCH_CHANNEL,...e})},5156:(e,t,s)=>{"use strict";s.d(t,{hN:()=>r,f7:()=>o,tF:()=>i,Jd:()=>l,oe:()=>c,Cz:()=>d,Ts:()=>E,a7:()=>_});var a=s(50566),n=s(37422);const r=e=>({type:"click"===e.userAction?a.FEATURE_TRY_NOW_REQUESTED:a.FEATURE_CLOSED,...e}),o=e=>({type:a.PAC_CUE_MARK_AS_SHOWN_REQUESTED,...e}),i=e=>({type:a.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED,...e}),l=e=>({type:a.FEATURE_CUE_NOTIFICATION_CLOSED,...e}),c=e=>"click"===e.userAction?{type:a.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED,name:n.Zrf.SCOUT_ONBOARDING,...e}:{type:a.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED,name:n.Zrf.SCOUT_ONBOARDING,...e},d=({userAction:e,error:t})=>"click"===e?{type:a.FEATURE_CUE_MARK_AS_SUCCESS_FAILED,error:t}:{type:a.FEATURE_CUE_MARK_AS_CLOSE_FAILED,error:t},E=e=>({type:a.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED,name:n.Zrf.SCOUT_ONBOARDING,...e}),_=e=>({type:a.FEATURE_CUE_MARK_AS_SHOWN_FAILED,error:e.error,feature:e.feature})},18380:(e,t,s)=>{"use strict";s.d(t,{zX:()=>i,aU:()=>l,p0:()=>c,Yf:()=>d,VG:()=>E,J1:()=>_,oM:()=>u,_r:()=>m,Go:()=>S,vx:()=>p,Me:()=>C});var a=s(50566),n=s(85927),r=s(37422),o=s(55636);const i=({folder:e})=>({folder:e,type:a.CREATE_FOLDER_SUCCEEDED}),l=({error:e,folderName:t})=>({folderName:t,error:e,type:a.CREATE_FOLDER_FAILED}),c=({folderId:e,folderName:t,i13nModel:s={}})=>(i,l)=>{const{getFolderName:c,getFeaturesSelectors:d,getFolderFullName:E}=(0,n.selectors)(l()),_=c(e),u=t.substr(t.lastIndexOf("/")+1),m=E(e),S=m.replace(RegExp((0,o.hr)(_)+"$"),u),p=d().getSetting(r.Zrf.MESSAGE_FILTERS).map((e=>A(e,m,S)));return i({folderId:e,folderName:t,i13nModel:s,originalFolderName:_,newFolderName:u,filters:p,type:a.RENAME_FOLDER_REQUESTED,name:r.Zrf.MESSAGE_FILTERS,value:p})},d=({newFolderName:e,folderId:t,originalFolderName:s,folder:n,subfolders:r=[]})=>({newFolderName:e,folderId:t,originalFolderName:s,folder:n,subfolders:r,type:a.RENAME_FOLDER_SUCCEEDED}),E=({folderId:e,newFolderName:t,originalFolderName:s,filters:n,error:r})=>({folderId:e,newFolderName:t,originalFolderName:s,filters:n,error:r,type:a.RENAME_FOLDER_FAILED}),_=({folderId:e,folderName:t,i13nModel:s={}})=>(i,l)=>{const{getFolderName:c,getFeaturesSelectors:d,getFolderFullName:E}=(0,n.selectors)(l()),_=c(e),u=t.substr(t.lastIndexOf("/")+1),m=E(e),S=m.replace(RegExp((0,o.hr)(_)+"$"),u),p=d().getSetting(r.Zrf.MESSAGE_FILTERS).map((e=>A(e,m,S)));return i({folderId:e,folderName:t,i13nModel:s,originalFolderName:_,filters:p,type:a.MOVE_FOLDER_REQUESTED,name:r.Zrf.MESSAGE_FILTERS,value:p})},u=({folderId:e,originalFolderName:t,folder:s,subfolders:n=[]})=>({folderId:e,originalFolderName:t,folder:s,subfolders:n,type:a.MOVE_FOLDER_SUCCEEDED}),m=({folderId:e,originalFolderName:t,filters:s,error:n})=>({folderId:e,originalFolderName:t,filters:s,error:n,type:a.MOVE_FOLDER_FAILED}),S=({folderId:e,folderName:t,i13nModel:s={}})=>({folderId:e,folderName:t,i13nModel:s,type:a.DELETE_FOLDER_REQUESTED}),p=({folderId:e,folderName:t,i13nModel:s})=>({folderId:e,folderName:t,i13nModel:s,type:a.DELETE_FOLDER_SUCCEEDED}),C=({folderId:e,folderName:t,error:s})=>({folderId:e,folderName:t,error:s,type:a.DELETE_FOLDER_FAILED});function A(e,t,s){return{...e,actions:e.actions.map((e=>{const{value:{folderActionValueBean:{folder:{name:a}}}}=e;if(a!==t)return e;const n={...e};return n.value.folderActionValueBean.folder.name=s,n}))}}},88071:(e,t,s)=>{"use strict";s.d(t,{by:()=>r,gD:()=>o,Dt:()=>i,Pi:()=>l,ip:()=>c,$B:()=>d});var a=s(50566),n=s(37422);function r({altListId:e,query:t,id:s},r){return{type:a.GIF_FETCH_SUCCEEDED,listId:e,response:{[n.F6k.GIFS]:{[n.ukn.GIFS]:r}},query:t,id:s}}function o({altListId:e,query:t,id:s},n){return{type:a.GIF_FETCH_FAILED,err:n,listId:e,query:t,id:s}}function i(e){return{...e,type:a.GIF_FETCH_REQUESTED}}function l(e){return{...e,type:a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED}}function c(e){return{...e,type:a.GIF_CATEGORIES_CONTENT_FETCH_FAILED}}function d(e){return{...e,type:a.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED}}},30532:(e,t,s)=>{"use strict";s.d(t,{Lo:()=>r,E3:()=>o,c5:()=>i});var a=s(50566),n=s(55831);const r=e=>({type:a.LAUNCH_PAGE_REQUESTED,...e}),o=({initialMailboxAttributes:e={},mailboxAttributes:t={},...s})=>{s.mailboxes&&(s.selectedMailbox=(0,n.Lq)(s.mailboxes));const{responses:r={},success:o}=t,i={responses:Object.assign(r,e),success:o};return{type:a.INITIAL_STATE,mailboxAttributes:i,...s}},i=({error:e})=>({type:a.LAUNCH_ERROR,error:e})},40564:(e,t,s)=>{"use strict";s.d(t,{Rx:()=>n,ND:()=>r,qP:()=>o,HZ:()=>i,LW:()=>l,bL:()=>c,y7:()=>d,r0:()=>E,Eq:()=>_});var a=s(50566);function n(e){return{type:a.LINK_ENHANCER_FETCH_REQUESTED,...e}}function r(e){return{type:a.LINK_ENHANCER_FETCH_SUCCEEDED,...e}}function o(e){return{type:a.LINK_ENHANCER_FETCH_FAILED,...e}}function i(e){return{type:a.LINK_ENHANCER_ADD_LINK,...e}}function l(e){return{type:a.LINK_ENHANCER_RESIZE_LINK,...e}}function c(e){return{type:a.LINK_ENHANCER_REMOVE_LINK,...e}}function d(e){return{type:a.LINK_ENHANCER_SHARE_LINK,...e}}function E(e){return{type:a.LINK_ENHANCER_MOVE_LINK_BOTTOM,...e}}function _(e){return{type:a.LINK_ENHANCER_MOVE_LINK_INLINE,...e}}},41958:(e,t,s)=>{"use strict";s.d(t,{tl:()=>o,Z$:()=>i,XQ:()=>l,Iu:()=>c,az:()=>d,Qn:()=>E,Rr:()=>_,RP:()=>u,ZP:()=>m});var a=s(50566),n=s(31057),r=s(37422);const o=e=>({type:a.MORE_MESSAGES_REQUEST_SUCCESS,...e}),i=e=>({type:a.MORE_RECEIPTS_SUCCESS,...e}),l=e=>({type:a.MORE_TRAVEL_ITEMS_SUCCEEDED,...e}),c=e=>({type:a.MORE_MESSAGES_REQUEST_FAILED,...e}),d=e=>({type:a.MORE_RECEIPTS_REQUEST_FAILED,...e}),E=e=>({type:a.MORE_TRAVEL_ITEMS_FAILED,...e}),_=e=>({type:a.MORE_SEARCH_LIST_ITEMS_RECEIVED,...e}),u=e=>({type:a.MORE_SEARCH_LIST_ITEMS_FAILED,...e}),m=e=>{switch((0,n.WN)(e.listId)){case r.F6k.SENDERS:return{type:a.MORE_SENDER_ROLLUP_REQUESTED,...e};case r.F6k.COUPON_CARDS:return{type:a.MORE_COUPONS_REQUESTED,...e};case r.F6k.REFUND_CARDS:return{type:a.MORE_RECEIPTS_REQUESTED,...e};default:return{type:a.MORE_ITEMS_REQUESTED,...e}}}},12550:(e,t,s)=>{"use strict";s.d(t,{UL:()=>o,ci:()=>i,rY:()=>l});var a=s(50566),n=s(85927),r=s(37422);const o=e=>(t,s)=>{const{getLocationSuggestionSelectors:o}=(0,n.selectors)(s()),{keyword:i,product:l}=e.query;if(o().getLocationSuggestionStatus(i,l)===r.DAQ.DOES_NOT_EXIST)return t({type:a.LOCATION_SUGGEST_REQUESTED,...e})},i=e=>({type:a.LOCATION_SUGGEST_SUCCEEDED,...e}),l=e=>({type:a.LOCATION_SUGGEST_FAILED,...e})},59959:(e,t,s)=>{"use strict";s.d(t,{hC:()=>E,HM:()=>u,BB:()=>_,co:()=>C,t3:()=>A,Am:()=>m,Oc:()=>S,te:()=>T,oi:()=>p});var a=s(50566),n=s(3405),r=s(37422),o=s(78737),i=s(85927),l=s(92559),c=s(17016);var d=s(30982);const E=e=>({type:a.CLOSE_MAIL_PLUS_FEATURE_UPSELL,...e}),_=(e={})=>(0,o.Ch)({route:(0,n.Tx)({settingsGroupId:r.u5h.MAIL_PLUS}),...e}),u=e=>({type:a.DEAL_CARD_GROUP_SHOWN,...e}),m=e=>({type:a.MAIL_PLUS_FEATURE_REQUESTED,...e}),S=e=>({type:a.TOGGLE_DEAL_RECOMMENDATION_PREVIEW,...e}),p=()=>(e,t)=>{const{getMailPremiumFreeTrialSelectors:s,getSetting:a}=(0,i.selectors)(t()),{getDealsRecommendationsPreview:n}=s(),{value:o}=n(),c=a(r.Zrf.DISABLED_MESSAGE_READ_CARDS),E=Array.isArray(c)&&-1===c.indexOf(r.ANe.DEAL_RECOMMENDATIONS_ENABLED);if(void 0!==o&&E!==o)return(0,d.Uw)({name:r.ANe.DEAL_RECOMMENDATIONS_ENABLED,value:o,i13nModel:{mKey:`cue_${r.ANe.DEALS_RECOMMEND_CONTROL_CUE}_update_setting`,sec:l.nJ.DEALS_RECOMMEND_CONTROL,interactionType:l.Rb.click,actionData:{value:o}}})(e,t)},C=(e,t)=>(s,o)=>{const{isFeatureEnabled:E,isMobileRoute:_}=(0,i.selectors)(o()),u=E(r.ANe.MAIL_PLUS),m=E(r.ANe.MAIL_PLUS_ELIGIBLE),S=E(r.ANe.DEAL_RECOMMENDATIONS_ENABLED),p=_();if(m&&!u){const o={mKey:l.JE.MERCHANT_CARD_HIDE_DEALS,sec:t,interactionType:(0,c.getInteractionFromEvent)(e)};return s(p?{type:a.OPEN_PAGE_REQUESTED,route:(0,n.gN)(),plusFeatureRequested:r.ANe.DEAL_RECOMMENDATIONS_ENABLED}:{type:a.MAIL_PLUS_FEATURE_REQUESTED,i13nModel:o,plusFeatureRequested:r.ANe.DEAL_RECOMMENDATIONS_ENABLED})}if(u){const a=((e,t,s)=>({name:r.ANe.DEAL_RECOMMENDATIONS_ENABLED,value:!t,i13nModel:{mKey:t?l.JE.SETTINGS_DEAL_RECO_TOGGLE_DISABLED:l.JE.SETTING_DEAL_RECO_TOGGLE_ENABLED,sec:s||l.nJ.SETTINGS_VIEWING_EMAIL_TAB,interactionType:(0,c.getInteractionFromEvent)(e)}}))(e,S,t);return(0,d.Uw)(a)(s,o)}},A=({event:e,plusFeatureRequested:t})=>(s,d)=>{const{getBlockedDomainsUsageAndLimit:E,getDEAUsageAndLimit:_,getPrimaryAccountId:u}=(0,i.selectors)(d()),m=u(),S=l.nJ.SETTINGS_MAIL_PLUS_TAB,p=(t,r,i,l)=>t&&t.limit>0&&t.usage>=t.limit?s({type:a.MAIL_PLUS_FEATURE_REQUESTED,i13nModel:{mKey:l,sec:S,interactionType:(0,c.getInteractionFromEvent)(e)},plusFeatureRequested:r}):s((0,o.Ch)({route:(0,n.Tx)({settingsGroupId:i,primaryAccountID:m}),i13nModel:{mKey:l,sec:S,interactionType:(0,c.getInteractionFromEvent)(e)}}));switch(t){case r.ANe.PREMIUM_DEA:return p(_(),r.ANe.PREMIUM_DEA,r.u5h.ACCOUNTS,l.JE.DEA_MAIL_PLUS_SETTINGS);case r.ANe.BLOCKED_DOMAINS:return p(E(),r.ANe.BLOCKED_DOMAINS,r.u5h.SECURITY_AND_PRIVACY,l.JE.DOMAIN_BLOCK_MAIL_PLUS_SETTINGS);case r.ANe.COMPACT_COMPOSE:return p(null,r.ANe.COMPACT_COMPOSE,r.u5h.WRITING_EMAIL,l.JE.COMPACT_COMPOSE_MAIL_PLUS_SETTINGS);case r.ANe.NUDGE_TO_REPLY_ELIGIBLE:return p(null,r.ANe.NUDGE_TO_REPLY_ELIGIBLE,r.u5h.NOTIFICATIONS,l.JE.NUDGE_TO_REPLY_MAIL_PLUS_SETTINGS);case r.ANe.AUTO_FORWARD_EMAIL:return p(null,r.ANe.AUTO_FORWARD_EMAIL,r.u5h.ACCOUNTS,l.JE.AUTO_FORWARD_NOTIFICATION_MAIL_PLUS_SETTINGS);case r.ANe.DEAL_RECO_ELIGIBLE:return p(null,r.ANe.DEAL_RECO_ELIGIBLE,r.u5h.VIEWING_EMAIL,l.JE.DEAL_RECO_MAIL_PLUS_SETTINGS)}},T=()=>(e,t)=>{const{isFeatureEnabled:s}=(0,i.selectors)(t()),a=s(r.Zrf.NUDGE_TO_REPLY_SETTING);return e((0,d.Dy)({name:r.Zrf.NUDGE_TO_REPLY_SETTING,value:!a,runV3:!0}))}},24947:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(50566);const n=e=>({type:a.PURCHASE_MAILPRO_FREE_TRIAL,...e})},38346:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var a=s(50566),n=s(85927),r=s(37422),o=s(3405),i=s(78737);const l=e=>(t,s)=>{const{getAppName:l}=(0,n.selectors)(s());l()===r.BQZ.MAILBOXES_APP&&t((0,i.Ch)({route:(0,o.tf)({email:e.newAccount.email||""})})),t({...e,type:a.ACCOUNT_ADD_REQUESTED})}},36850:(e,t,s)=>{"use strict";s.d(t,{wd:()=>n,Yr:()=>r,_L:()=>o,I4:()=>i});var a=s(50566);const n=e=>({...e,type:a.UNSUBSCRIBE_MARKETING_PREFERENCES}),r=e=>({...e,type:a.SUBSCRIBE_MARKETING_PREFERENCES}),o=e=>({...e,type:a.MARKETING_PREFERENCES_WRITE_SUCCEEDED}),i=e=>({...e,type:a.MARKETING_PREFERENCES_WRITE_FAILED})},38478:(e,t,s)=>{"use strict";s.d(t,{wp:()=>n,j7:()=>r,fh:()=>o,_p:()=>i,CN:()=>l,vv:()=>c});var a=s(50566);const n=e=>({type:a.RIGHT_RAIL_COMMS_ICON_CLICKED,...e}),r=e=>({type:a.TMR_NAVIGATE_TO_ATOS,...e}),o=e=>({type:a.TMR_NAVIGATE_TO_URL,...e}),i=e=>({type:a.TMR_TAB_CHANGE,...e}),l=e=>({type:a.TMR_SPIN_COMPLETED,...e}),c=e=>({type:a.TMR_POINT_ICON_CLICK,...e})},14196:(e,t,s)=>{"use strict";s.d(t,{fP:()=>E,D1:()=>_,BE:()=>u,Hy:()=>m,Bz:()=>S,uq:()=>p,P8:()=>C,pc:()=>A,X6:()=>T,Ty:()=>h,Qj:()=>g,cS:()=>I,fV:()=>R,h2:()=>O,EM:()=>D,Cz:()=>N,MR:()=>f,x4:()=>M,zI:()=>L,Ju:()=>P});var a=s(50566),n=s(85927),r=s(37422),o=s(17016),i=s(92559),l=s(78737),c=s(87367),d=s(31057);const E=e=>({type:a.PREVIEW_MESSAGE_REQUESTED,...e}),_=e=>({type:a.FETCH_RAW_MESSAGE,...e}),u=e=>({type:a.FETCH_RAW_MESSAGE_SUCCEEDED,...e}),m=e=>({type:a.FETCH_RAW_MESSAGE_FAILED,...e});function S(e){return{type:a.MESSAGE_BODIES_RECEIVED,...e}}function p(e){return{type:a.MESSAGE_BODIES_FAILED,...e}}function C(e){return{type:a.MESSAGE_GROUP_WITH_BODIES_RECEIVED,...e}}function A(e){return{type:a.MESSAGE_GROUP_WITH_BODIES_FAILED,...e}}const T=e=>t=>{const{itemsToUpdate:s}=e,n=s.length?s[s.length-1]:void 0;return t({...e,streamItem:{listId:n.listId,id:n.messageId},type:a.MESSAGE_CARD_EXPANSION_CHANGED})},h=e=>(t,s)=>{const{listId:r,streamId:o,messageGroupId:i,expansionState:l}=e,{getMessageGroupStreamItems:c,doesStreamExist:d,getCursorItem:E}=(0,n.selectors)(s()),_=d(o)?E(o):void 0,u=i?{id:i,listId:r}:_;if(!u)return;return t({itemsToUpdate:c(u).map((e=>({...e,expansionState:l}))),type:a.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED})},g=e=>({type:a.MESSAGE_PRINT_CANCELED,...e}),I=e=>({type:a.MESSAGE_PRINT_SUCCEEDED,...e}),R=e=>({type:a.MESSAGE_PRINT_CLOSED,...e}),O=({i13nModel:e,streamId:t,composeMode:s,listId:i,triggeredFromContextMenu:l=!1,streamItem:c})=>(d,E)=>{const{__getLastNonDraftMessageIdByGroupId:_,__getMessageWithFlagsAndFolderId:u,doesMessageBodyExist:m,findReplyForwardCsidsOfMessage:S,getMessageBodiesSelectors:p,getDraftMessageId:C,isSent:A,isFeatureEnabled:T,doesStreamExist:h,getCursorItem:g,isSpamMessage:I}=(0,n.selectors)(E()),R=h(t)?g(t):void 0,O=c||R;if(!O)return;const D=_(O.id),N=u(D),f=T(r.ANe.CONVERSATIONS),M=(S(D)||[]).filter((e=>!C(e)&&!A(e))),L=M.length?M[0]:(0,o.generateUID)(),{get:P}=p(),y=!T(r.Zrf.SHOW_IMAGES)||I(D);return d({type:a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,i13nModel:e,csid:L,listId:i,composeMode:s,messageGroupId:O.id,conversationsMode:f,streamId:t,groupId:O.id,messageId:D,triggeredFromContextMenu:l,secure:y,full:!0,message:Object.assign({},N,{id:D,body:m(D)?P(D):void 0})})},D=({i13nModel:e,streamId:t,composeMode:s,listId:i,messageGroupId:l,messageId:c})=>(d,E)=>{const{__getMessageWithFlagsAndFolderId:_,doesMessageBodyExist:u,findReplyForwardCsidsOfMessage:m,getMessageBodiesSelectors:S,getDraftMessageId:p,isSent:C,isFeatureEnabled:A,isSpamMessage:T}=(0,n.selectors)(E()),h=_(c),g=A(r.ANe.CONVERSATIONS),I=(m(c)||[]).filter((e=>!p(e)&&!C(e))),R=I.length?I[0]:(0,o.generateUID)(),{get:O}=S(),D=!A(r.Zrf.SHOW_IMAGES)||T(c);return d({type:a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,i13nModel:e,csid:R,listId:i,composeMode:s,messageGroupId:l,conversationsMode:g,streamId:t,groupId:l,messageId:c,secure:D,full:!0,message:Object.assign({},h,{id:c,body:u(c)?O(c):void 0})})},N=({i13nModel:e,messageGroupId:t,message:s})=>(o,i)=>{const{getCurrentListId:l,getMessageBodiesSelectors:c,isFeatureEnabled:d}=(0,n.selectors)(i()),E=l(),{isSecureMessage:_}=c(),u=d(r.Zrf.SHOW_IMAGES),m=s.id||s.messageId;return o({type:a.MESSAGE_PRINT_REQUESTED,i13nModel:e,messageGroupId:t,mId:m,listId:E,messageId:m,full:!0,secure:_(m)&&u})},f=({streamId:e,listId:t,groupId:s,i13nModel:o})=>(i,l)=>{const{doesStreamExist:c,getSelectedStreamItems:d,getCursorItem:E,getMessageBodiesSelectors:_,isFeatureEnabled:u,__getLastNonDraftMessageIdByGroupId:m}=(0,n.selectors)(l()),S=c(e)?d(e):[],p=c(e)?E(e):void 0;let C;if(s)C=s;else if(S.length>0)C=S[0].id;else{if(!p)return;C=p.id}const{isSecureMessage:A}=_(),T=u(r.Zrf.SHOW_IMAGES),h=m(C);if(h)return i({type:a.MESSAGE_PRINT_REQUESTED,i13nModel:o,messageGroupId:C,mId:h,listId:t,messageId:h,full:!0,secure:A(h)&&T})},M=({listId:e,streamId:t,messageRoute:s,groupId:a,senders:o,i13nModel:d})=>(_,u)=>{const{getSetting:m,isFeatureEnabled:S,isStorefrontRoute:p}=(0,n.selectors)(u()),C=p()?r.EsZ.NO:m(r.Zrf.PREVIEW_PANE),A=S(r.ANe.GEMINI_CONTEXTUAL_ADS),T={mKey:i.JE.OPEN_MSG,sec:i.nJ.MSG_LIST_MSG,mKeyGroup:i.rO.openMsg,...d};return C===r.EsZ.NO?_((0,l.Ch)({route:s,streamItem:{listId:e,id:a},i13nModel:{...T}})):_(E({listId:e,itemId:a,streamId:t,streamItem:{listId:e,id:a},i13nModel:{...T},geminiCategories:A?(0,c.a7)(o):null}))},L=({decos:e,linkTarget:t,messageId:s,message:n})=>{const r=t.getAttribute("href");let o=t.innerText||"";for(let a=0;a<t.childElementCount;a++)if("IMG"===t.children[a].tagName&&t.children[a].alt){o=t.children[a].alt;break}if(o=o.trim().slice(0,256),t.hasAttribute("class")&&-1!==t.getAttribute("class").indexOf("yahoo-enhancr-cardlink")){const e=t.parentNode&&t.parentNode.hasAttribute("data-size")?t.parentNode.getAttribute("data-size").toUpperCase():"";return{type:a.LINK_ENHANCER_OPEN_LINK,message:n,messageId:s,i13nModel:{mKey:i.JE.LINK_ENHANCER_OPEN_LINK,sec:i.nJ.MSG_BODY,mKeyGroup:i.rO.clickMsgLink,actionData:{mHref:r,size:e,linkText:o}}}}return{type:a.MESSAGE_BODY_LINK_CLICKED,message:n,messageId:s,i13nModel:{mKey:i.JE.OPEN_LINK,sec:i.nJ.MSG_BODY,mKeyGroup:i.rO.clickMsgLink,actionData:{decos:e,mHref:r,linkText:o}}}},P=({listId:e,card:t})=>{const{messageId:s,csid:n,streamId:o,folderType:i}=t,l={id:s||n,listId:(0,d.tE)(e,{listContentType:i===r.Sck.DRAFT?r.F6k.COMPOSE:r.F6k.MESSAGE})};return{type:a.MESSAGE_CARD_FOCUSED,streamId:o,streamItem:l,card:t}}},85458:(e,t,s)=>{"use strict";s.d(t,{B6:()=>l,x0:()=>c,nw:()=>d,Ke:()=>E,nh:()=>_,IU:()=>u});var a=s(50566),n=s(37422),r=s(85927),o=s(31057),i=s(78263);const l=e=>(t,s)=>{if(e.streamId)return t({type:a.MOVE_ITEMS_REQUESTED,streamId:e.streamId,...e});const{getRoute:l,getRouteParams:c,doesStreamExist:d,getCursorItem:E,getFeaturesSelectors:_}=(0,r.selectors)(s()),u=l(),m=c(),S=(0,o.LY)(u),p=(0,i.BA)([S]),C={listId:S,id:((d(p)?E(p):{})||{}).id||m.groupId},{isEnabled:A}=_();return!A(n.ANe.CONVERSATIONS)&&e.messageIds&&(C.id=e.messageIds[0]),t({type:a.MOVE_ITEMS_REQUESTED,streamId:p,streamItem:C,...e})},c=e=>l({...e,destinationFolderType:n.Sck.INBOX}),d=e=>l({...e,destinationFolderType:n.Sck.ARCHIVE}),E=e=>l({...e,destinationFolderType:n.Sck.BULK}),_=e=>({...e,type:a.ITEMS_DRAG_STARTED}),u=e=>({...e,type:a.CONFIRM_DELETE_DIALOG_CLOSED})},78737:(e,t,s)=>{"use strict";s.d(t,{Ch:()=>d,n:()=>E,st:()=>_,Fm:()=>u,Hg:()=>m,k1:()=>S,eY:()=>p,Sh:()=>C,YD:()=>A,I3:()=>T,St:()=>h,PV:()=>g,ze:()=>I,bx:()=>R,LG:()=>O,Ah:()=>D,gL:()=>N,KE:()=>f,Qg:()=>M,Mw:()=>L});var a=s(50566),n=s(85927),r=s(3405),o=s(37422),i=s(17016),l=s(31057),c=s(73924);const d=e=>({type:a.OPEN_PAGE_REQUESTED,...e}),E=(e={})=>(t,s)=>{const{createPageForRoute:a,getCurrentHistoryState:i,getPrescribedNumberOfColumns:c,getCurrentPage:E,getSelectedAccountId:_,getPreviousPage:u}=(0,n.selectors)(s());let m=u();const S=E();S&&S.route&&S.route.name===o.n8z.MESSAGE_FROM_LIST&&(0,l.aY)((0,l.LY)(S.route))===o.qd8.SUBSCRIPTIONS&&2===c()&&(m=a((0,r.lB)(_()),-1,i())),t(d({...e,route:m.route,nextPage:m}))},_=(e={})=>(t,s)=>{const{createPageForRoute:a,getCurrentHistoryState:r}=(0,n.selectors)(s()),{replaceInStack:o,route:i}=e;let l;o&&(l=a(i,0,r())),t(d({...e,nextPage:l}))},u=e=>({...d({route:(0,r.jK)(o.K8C.PEOPLE,{accountIds:e.accountId})}),updatedSettingAttributes:e.updatedSettingAttributes,accountId:e.accountId}),m=({csid:e=(0,i.generateUID)(),attachments:t,route:s,...l})=>(i,c)=>{var d;const{getSetting:E,getPreviousPage:_,getRoute:u}=(0,n.selectors)(c()),m=E(o.Zrf.COMPOSE_FORMAT)===o.tTi.COMPACT,S=u(),p="1"===(null==S||null===(d=S.query)||void 0===d?void 0:d.fullscreen),C=_(),A=Array.isArray(t);let T={};if(A&&p&&m&&(T={route:C.route,nextPage:C}),!s&&A)return i({type:a.FORWARD_ATTACHMENTS,csid:e,attachments:t,...l,...T});i(m?{type:a.OPEN_COMPACT_COMPOSE,csid:e,attachments:t,...l,...T}:{type:a.OPEN_PAGE_REQUESTED,csid:e,attachments:t,route:s||(0,r.Rl)(e),...l})},S=e=>(t,s)=>{const{route:a}=e,{shouldNavigateSearchFromToAll:i}=(0,n.selectors)(s()),c=i(a)?(0,r.dM)((0,l.tE)((0,l.LY)(a),{listFilter:o.ukn.ALL})):a;t(d({...e,route:c}))},p=e=>t=>{const{listId:s}=e,a=(0,l.Fh)(s),n=(0,r.KI)((0,l.rA)({folders:[a],listContentType:o.F6k.SENDERS,sortOrder:o.Asd.SENDER}));t(d({route:n}))},C=({streamId:e,i13nModel:t})=>(s,a)=>{const{doesStreamExist:i,getCursorItem:E}=(0,n.selectors)(a()),_=i(e)?E(e):void 0;if(!_)return;const{listId:u,id:m}=_,S=(0,l.WN)(u);if(S===o.F6k.MESSAGES)s(d({route:(0,r.m9)(u,m),i13nModel:t,streamItem:_}));else if(S===o.F6k.IMAGES||S===o.F6k.DOCUMENTS){const{messageId:e,previewable:a,downloadUrl:n}=_;return a?s(d({route:(0,r.Sk)(u,e,m,{fullscreen:"1"}),itemId:m,i13nModel:t,streamItem:_})):(window.open(n,"_blank"),s((0,c.AV)({streamItem:_,i13nModel:t})))}},A=e=>(t,s)=>{const{getDefaultFolderRoute:a}=(0,n.selectors)(s());t(d({route:a(e.inboxFolderId)}))},T=(e={})=>(t,s)=>{const{getRoute:r}=(0,n.selectors)(s());t({type:a.CLOSE_PAGE_REQUESTED,...e,route:e.route||r()})},h=(e={})=>t=>{t({type:a.CLOSE_ALL_PAGES_REQUESTED,...e})},g=e=>({type:a.SYNC_DATA,...e}),I=e=>({type:a.SYNC_NOW_SUCCEEDED,...e}),R=e=>({type:a.SYNC_NOW_FAILED,...e}),O=e=>({type:a.SHOW_APP_RELOAD,...e}),D=e=>({type:a.CANCEL_APP_RELOAD,...e}),N=e=>({type:a.CONFIRM_APP_RELOAD,...e}),f=e=>({type:a.HEADER_NAVIGATION_SELECTED,...e}),M=e=>({type:a.PREVIEW_MESSAGE_CLOSED,...e}),L=e=>(t,s)=>{const{messageGroupIds:r,i13nModel:o}=e,[i]=r,{__getLastNonDraftMessageIdByGroupId:l}=(0,n.selectors)(s()),c=l(i);t({type:a.VIEW_RAW_MESSAGE,i13nModel:o,messageId:c})}},12055:(e,t,s)=>{"use strict";s.d(t,{OA:()=>r,mF:()=>o,V5:()=>i,lK:()=>l,eZ:()=>c,eH:()=>d,Tw:()=>E});var a=s(50566),n=s(85927);const r=e=>({type:a.PHISHING_BANNER_MOUNTED,...e}),o=e=>({type:a.PHISHING_REMOVE_BDM_DECO_SUCCEEDED,...e}),i=e=>({type:a.PHISHING_REMOVE_BDM_DECO_FAILED,...e}),l=e=>(t,s)=>{const{getSelectedMailboxId:r}=(0,n.selectors)(s());return t({type:a.PHISHING_REMOVE_BDM_DECO_REQUESTED,mailboxId:r(),...e})},c=e=>({type:a.REMOVE_SPAM_SCHEMA_SUCCEEDED,...e}),d=e=>({type:a.REMOVE_SPAM_SCHEMA_FAILED,...e}),E=e=>(t,s)=>{const{getSelectedMailboxId:r}=(0,n.selectors)(s());return t({type:a.REMOVE_SPAM_SCHEMA_REQUESTED,mailboxId:r(),...e})}},67607:(e,t,s)=>{"use strict";s.d(t,{zJ:()=>r,WF:()=>o,ZP:()=>i});var a=s(50566),n=s(85927);const r=(e={})=>(t,s)=>{const{isOldNewMailInboxStyle:r}=(0,n.selectors)(s());return r()?t((e=>({...e,isRead:!1,type:a.RECENT_AND_READ_CHANGE_REQUESTED}))({...e})):t((e=>({...e,isRead:!1,type:a.READ_CHANGE_REQUESTED}))({...e}))},o=e=>({...e,isRead:!0,type:a.READ_CHANGE_REQUESTED}),i=e=>(t,s)=>{const{streamItem:r}=e,{getMessageIdsFromMessageGroupId:o,getMessageFlags:i,isOldNewMailInboxStyle:l}=(0,n.selectors)(s()),c=o(r.id).every((e=>i(e).read));return l()&&!1===c?t({type:a.RECENT_AND_READ_CHANGE_REQUESTED,...e,isRead:c}):t({type:a.READ_CHANGE_REQUESTED,...e,isRead:c})}},59098:(e,t,s)=>{"use strict";s.d(t,{eO:()=>n,RX:()=>r,mh:()=>o,Cm:()=>i,e_:()=>l,CC:()=>c});var a=s(50566);const n=(e={})=>({type:a.RECENT_SEARCHES_REQUESTED,...e}),r=e=>({type:a.RECENT_SEARCHES_SUCCEEDED,...e}),o=()=>({type:a.RECENT_SEARCHES_FAILED}),i=e=>({type:a.DELETE_RECENT_SEARCH_REQUESTED,...e}),l=e=>({type:a.DELETE_RECENT_SEARCH_SUCCEEDED,...e}),c=e=>({type:a.DELETE_RECENT_SEARCH_FAILED,...e})},70774:(e,t,s)=>{"use strict";s.d(t,{FW:()=>n,E8:()=>r,Uj:()=>o});var a=s(50566);const n=e=>({type:a.RELATED_SEARCHES_FETCH_SUCCEEDED,...e}),r=e=>({type:a.RELATED_SEARCHES_FETCH_FAILED,...e}),o=({i13nModel:e})=>({type:a.RELATED_SEARCHES_CARD_CLICKED,i13nModel:e})},24047:(e,t,s)=>{"use strict";s.d(t,{EQ:()=>r,ST:()=>o,qp:()=>i,GK:()=>l,zE:()=>c,An:()=>d,yt:()=>E,LW:()=>_,_I:()=>u,rl:()=>m,on:()=>S,Xj:()=>p,_A:()=>C,Vh:()=>A,gs:()=>T,u:()=>h,SD:()=>g,wV:()=>I,kl:()=>R,F:()=>O,VZ:()=>D,rV:()=>N,B6:()=>f,Y_:()=>M,vn:()=>L,vW:()=>P,LK:()=>y,oW:()=>b,hB:()=>F,Vz:()=>U,Ju:()=>v,ch:()=>w,xg:()=>G,yO:()=>k,Ow:()=>H,sC:()=>B,IB:()=>x,DM:()=>V,Cq:()=>W,OL:()=>Z});var a=s(50566),n=s(37422);const r=({retailers:e,i13nModel:t})=>({type:a.LINK_RETAILER_SUCCEEDED,retailers:e,i13nModel:t}),o=(e,t,s,n)=>({type:a.LINK_RETAILER_FAILED,retailerId:e,error:t,errorHint:s,i13nModel:n}),i=({retailerId:e="",loyaltyId:t="",linked:s=null,parentName:n=""}={})=>({type:a.LINK_RETAILER_REQUESTED,retailerId:e,loyaltyId:t,linked:s,parentName:n}),l=({retailers:e})=>({type:a.UNLINK_RETAILER_SUCCEEDED,retailers:e}),c=(e,t)=>({type:a.UNLINK_RETAILER_FAILED,retailerId:e,error:t}),d=({retailerId:e=""}={})=>({type:a.UNLINK_RETAILER_REQUESTED,retailerId:e}),E=({astraEGuid:e,listId:t="",offers:s=[],search:n=""})=>({type:a.OFFERS_LIST_SUCCEEDED,astraEGuid:e,listId:t,offers:s,search:n}),_=(e,t)=>({type:a.OFFERS_LIST_FAILED,listId:e,error:t}),u=(e=[],t={},s="",n="",r={},o)=>{var i;return{type:a.ACTIVATE_OFFER_SUCCEEDED,subTotal:Number(null===(i=t.subTotal)||void 0===i?void 0:i.value).toFixed(2),numberOfItems:t.numberOfItems,listId:s,offers:e,retailerId:n,i13nModel:r,astraEGuid:o}},m=e=>({type:a.ACTIVATE_OFFER_FAILED,error:e}),S=({contextOfUse:e="",retailerId:t="",offer:s={},position:r=-1,parentMessageId:o="",offerIndex:i=-1,score:l="",search:c="",sortOrder:d=n.dS5.RECOMMENDED,fromEmail:E="",cancelAPICall:_=!1}={})=>({contextOfUse:e,type:a.ACTIVATE_OFFER_REQUESTED,retailerId:t,offer:s,position:r,parentMessageId:o,offerIndex:i,score:l,search:c,sortOrder:d,fromEmail:E,cancelAPICall:_}),p=({items:e=[],retailerId:t=""}={})=>({items:e,retailerId:t,type:a.DELETE_GROCERY_ITEMS_REQUESTED}),C=(e=[],t="",s=0,n="",r="",o)=>({type:a.DELETE_GROCERY_ITEMS_SUCCEEDED,subTotal:t,numberOfItems:s,listId:n,offers:e,retailerId:r,astraEGuid:o}),A=e=>({type:a.DELETE_GROCERY_ITEMS_FAILED,error:e}),T=e=>({type:a.CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED,...e}),h=({astraEGuid:e,i13nModel:t,listId:s="",offers:n=[],retailerId:r="",subTotal:o="",numberOfItems:i=0}={})=>({astraEGuid:e,i13nModel:t,listId:s,offers:n,retailerId:r,subTotal:o,numberOfItems:i,type:a.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED}),g=e=>({type:a.CHANGE_GROCERY_ITEMS_QUANTITY_FAILED,error:e}),I=()=>({type:a.REFRESH_SHOPPING_LIST_REQUESTED}),R=({astraEGuid:e,listId:t="",subTotal:s="",numberOfItems:n=0,offers:r=[],numActivatedOffers:o=0})=>({type:a.ACTIVATED_OFFERS_LIST_SUCCEEDED,astraEGuid:e,listId:t,subTotal:s,numberOfItems:n,offers:r,numActivatedOffers:o}),O=(e,t)=>({type:a.ACTIVATED_OFFERS_LIST_FAILED,listId:e,error:t}),D=({zipCode:e="",retailerId:t=""})=>({zipCode:e,retailerId:t,type:a.GET_RETAILER_LOCATIONS_REQUESTED}),N=({locations:e=[],retailerId:t,zipCode:s})=>({locations:e,retailerId:t,zipCode:s,type:a.GET_RETAILER_LOCATIONS_SUCCEEDED}),f=e=>({error:e,type:a.GET_RETAILER_LOCATIONS_FAILED}),M=({retailerId:e,location:t})=>{var s,n;return{retailerId:e,store:[{branchCode:null==t?void 0:t.branchCode,address:{postalCode:null==t||null===(s=t.address)||void 0===s||null===(n=s.postalCode)||void 0===n?void 0:n.substr(0,5),"@type":"PostalAddress"},followed:"true","@type":"Store"}],type:a.UPDATE_PREFERRED_STORE_REQUESTED}},L=({preferredStore:e,retailerId:t})=>({preferredStore:null==e?void 0:e[0],retailerId:t,type:a.UPDATE_PREFERRED_STORE_SUCCEEDED}),P=e=>({error:e,type:a.UPDATE_PREFERRED_STORE_FAILED}),y=({retailerId:e=""}={})=>({type:a.PRINT_OFFERS_REQUESTED,retailerId:e}),b=(e={})=>({type:a.LINK_MODAL_OPENED,...e}),F=(e="")=>({type:a.GROCERY_SEARCH_ASSIST_REQUESTED,keyword:e}),U=({keyword:e="",retailerId:t="",suggestions:s=[]})=>({type:a.GROCERY_SEARCH_ASSIST_SUCCEEDED,keyword:e,retailerId:t,suggestions:s}),v=e=>({type:a.GROCERY_SEARCH_ASSIST_FAILED,error:e}),w=e=>({type:a.TOGGLE_GROCERY_CATEGORIES_EXPANSION,retailerId:e}),G=({astraEGuid:e,parentCategoryId:t,retailerId:s,subcategories:n})=>({type:a.GROCERY_SUBCATEGORIES_SUCCEEDED,astraEGuid:e,parentCategoryId:t,retailerId:s,subcategories:n}),k=e=>({type:a.GROCERY_SUBCATEGORIES_FAILED,error:e}),H=({astraEGuid:e,retailerId:t,items:s})=>({type:a.PREVIOUSLY_ADDED_GROCERY_ITEMS_SUCCEEDED,astraEGuid:e,retailerId:t,items:s}),B=e=>({type:a.PREVIOUSLY_ADDED_GROCERY_ITEMS_FAILED,error:e}),x=({retailerId:e,itemId:t})=>({type:a.RELATED_GROCERY_ITEMS_REQUESTED,retailerId:e,itemId:t}),V=({astraEGuid:e,retailerId:t,itemId:s,items:n})=>({type:a.RELATED_GROCERY_ITEMS_SUCCEEDED,astraEGuid:e,retailerId:t,itemId:s,items:n}),W=e=>({type:a.RELATED_GROCERY_ITEMS_FAILED,error:e}),Z=e=>({type:a.CATEGORY_ITEMS_REQUESTED,categoryListId:e})},93568:(e,t,s)=>{"use strict";s.d(t,{l:()=>n,W:()=>r});var a=s(50566);const n=e=>({type:a.ITEM_LIST_PAGE_SCROLLED,...e}),r=e=>({type:a.SCROLL_TO_SEARCH_PAGE_SCROLLED,...e})},90406:(e,t,s)=>{"use strict";s.d(t,{nJ:()=>n,tB:()=>r,XI:()=>o,Ac:()=>i,o2:()=>l,Y$:()=>c});var a=s(50566);const n=(e={})=>({type:a.SEARCH_INPUT_BLURRED,...e}),r=e=>({type:a.SEARCH_INPUT_FOCUSED,...e}),o=e=>({type:a.SEARCH_INPUT_FORCE_FOCUSED,...e}),i=e=>({type:a.SEARCH_LIST_ITEMS_FAILED,...e}),l=e=>({type:a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED,...e}),c=e=>({type:a.SEARCH_LIST_ITEMS_RECEIVED,...e})},12602:(e,t,s)=>{"use strict";s.d(t,{KX:()=>r,pe:()=>o,jT:()=>i});var a=s(50566),n=s(92559);const r=e=>{const t={isBeaconEvent:!0,eventName:n.fS.SEARCH_SUGGESTION,etrg:"change",outcome:"search_suggestion_dropdown"};return{type:a.SUGGESTIONS_REQUESTED,...e,i13nModel:t}},o=e=>({type:a.SUGGESTIONS_RECEIVED,...e}),i=e=>({type:a.SUGGESTIONS_FAILED,...e})},90583:(e,t,s)=>{"use strict";s.d(t,{RP:()=>n,Wx:()=>r,NA:()=>o,HB:()=>i,h2:()=>l,Hg:()=>c,jg:()=>d,gb:()=>E,Gz:()=>_,iP:()=>u,OM:()=>m,qS:()=>S,iQ:()=>p,it:()=>C,z9:()=>A,PK:()=>T,eq:()=>h,kB:()=>g,ox:()=>I,Rw:()=>R,yO:()=>O,XP:()=>D,e9:()=>N,tm:()=>f,ad:()=>M,Pw:()=>L,AG:()=>P,zc:()=>y,wR:()=>b,LK:()=>F,Nd:()=>U,_O:()=>v,tx:()=>w,Iu:()=>G,KX:()=>k,u9:()=>H,tv:()=>B,yu:()=>x,Ro:()=>V,Zl:()=>W,Gp:()=>Z,TK:()=>K,qm:()=>z,eV:()=>q,$Y:()=>Y});var a=s(50566);const n=e=>({type:a.SETTINGS_MENU_REQUESTED,...e}),r=e=>({type:a.SETTINGS_POPOVER_AUTOOPEN_CHANGED,...e}),o=e=>({type:a.OPT_OUT_OF_NORRIN,...e}),i=e=>({type:a.OPT_OUT_CANCEL_FEEDBACK,...e}),l=e=>({type:a.DISABLED_FEATURE_BUTTON_HOVERED,...e}),c=e=>({type:a.DISABLED_FEATURE_CLOSE_BUTTON_CLICKED,...e}),d=e=>({...e,type:a.MAIL_PLUS_SETTINGS_BUTTON_CLICKED}),E=e=>({type:a.SETTINGS_LOCATION_CHANGE_REQUESTED,...e}),_=e=>({type:a.SETTINGS_LOCATION_CHANGE_SUCCEEDED,...e}),u=e=>({type:a.SETTINGS_LOCATION_CHANGE_FAILED,...e}),m=e=>({type:a.CONVERSATIONS_CHANGE_REQUESTED,...e}),S=e=>({type:a.CONVERSATIONS_CHANGE_SUCCEEDED,...e}),p=e=>({type:a.CONVERSATIONS_CHANGE_FAILED,...e}),C=e=>({type:a.ALIAS_EMAIL_CREATE_REQUESTED,...e}),A=e=>({type:a.ALIAS_EMAIL_CREATE_SUCCEEDED,...e}),T=e=>({type:a.ALIAS_EMAIL_CREATE_FAILED,...e}),h=e=>({type:a.CONFIRM_EMAIL_RESEND_REQUESTED,...e}),g=e=>({type:a.CONFIRM_EMAIL_RESEND_SUCCEEDED,...e}),I=e=>({type:a.CONFIRM_EMAIL_RESEND_FAILED,...e}),R=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED,...e}),O=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED,...e}),D=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED,...e}),N=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED,...e}),f=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_REQUESTED,...e}),M=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_FAILED,...e}),L=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE,...e}),P=e=>({type:a.ACCOUNT_ADD_FINISHED,...e}),y=e=>({type:a.ACCOUNT_ADD_ERROR,...e}),b=e=>({type:a.ACCOUNT_ADD_WIZARD_OPENED,...e}),F=e=>({type:a.ACCOUNT_ADD_SELECT_PROVIDER,...e}),U=e=>({type:a.ACCOUNT_SETTINGS_CANCEL,...e}),v=e=>({type:a.FEEDBACK_SUBMITTED,...e}),w=e=>({type:a.ABOUT_OUR_ADS_PAGE_REQUESTED,...e}),G=e=>({type:a.PRIVACY_TERMS_PAGE_REQUESTED,...e}),k=e=>({type:a.HELP_PAGE_REQUESTED,...e}),H=e=>({type:a.ADFREE_MAIL_PAGE_REQUESTED,...e}),B=e=>({type:a.ABOUT_YAHOO_MAIL_PAGE_REQUESTED,...e}),x=e=>({type:a.SETTINGS_BLOCKED_SENDERS_REQUESTED,...e}),V=e=>({type:a.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED,...e}),W=({i13nModel:e={}})=>({type:a.SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED,i13nModel:e}),Z=e=>({type:a.SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED,...e}),K=e=>({type:a.SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED,...e}),z=e=>({type:a.SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED,...e}),q=e=>({type:a.SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED,...e}),Y=e=>({type:a.SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED,...e})},66588:(e,t,s)=>{"use strict";s.d(t,{be:()=>r,DV:()=>o,Ck:()=>i,Oy:()=>l,s:()=>c,JB:()=>d,S$:()=>E,nK:()=>_,pt:()=>u,eU:()=>m,ah:()=>S,S9:()=>p,Zg:()=>C,bn:()=>A,OP:()=>T,z_:()=>h});var a=s(50566),n=s(37422);const r=e=>({...e,type:Object.keys(n.P$E).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED:a.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED}),o=e=>({...e,type:Object.keys(n.P$E).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED:a.SOCIAL_ACCOUNTS_CONNECT_FAILED}),i=e=>({...e,type:a.SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED}),l=e=>({...e,type:a.SOCIAL_ACCOUNTS_DISCONNECT_FAILED}),c=e=>({...e,type:a.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED}),d=e=>({...e,type:Object.keys(n.P$E).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED:a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED}),E=e=>({...e,type:Object.keys(n.P$E).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED:a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED}),_=e=>({...e,type:a.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED}),u=e=>({...e,type:a.SOCIAL_ACCOUNTS_IMPORT_FAILED}),m=e=>({...e,type:a.SOCIAL_ACCOUNTS_STATUS_RECEIVED}),S=e=>({...e,type:a.SOCIAL_ACCOUNT_STATUS_FETCH_FAILED}),p=e=>({...e,type:Object.keys(n.P$E).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED:a.SOCIAL_ACCOUNTS_CONNECT_REQUESTED}),C=e=>({...e,type:a.IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED}),A=e=>({...e,type:a.DISCONNECT_CONTACTS_PROVIDER_REQUESTED}),T=e=>({...e,type:a.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED}),h=e=>({...e,type:a.CONTACTS_PROVIDERS_STATUS_FETCH_FAILED})},97735:(e,t,s)=>{"use strict";s.d(t,{Hw:()=>o,ww:()=>i,ZP:()=>l});var a=s(50566),n=s(85927),r=s(92559);const o=e=>({...e,isStarred:!1,type:a.STAR_CHANGE_REQUESTED}),i=e=>({...e,isStarred:!0,type:a.STAR_CHANGE_REQUESTED}),l=e=>(t,s)=>{const{i13nModel:o,streamId:i,streamItem:l,triageActionType:c}=e,{getMessageIdsFromMessageGroupId:d,getMessageFlags:E}=(0,n.selectors)(s()),_=d(l.id).some((e=>E(e).flagged));return t({streamItem:l,streamId:i,...o&&{i13nModel:{...o,mKey:_?r.JE.MARK_MSG_UNSTARRED:r.JE.MARK_MSG_STARRED}},isStarred:_,triageActionType:c,type:a.STAR_CHANGE_REQUESTED})}},40818:(e,t,s)=>{"use strict";s.d(t,{w4:()=>n,ab:()=>r,lU:()=>o,qF:()=>i,Hf:()=>l,h7:()=>c,iP:()=>d,LC:()=>E,WC:()=>_,mE:()=>u,yf:()=>m,fC:()=>S,Gp:()=>p,l1:()=>C,B1:()=>A,qs:()=>T,MW:()=>h,YP:()=>g,O$:()=>I,r$:()=>R,mK:()=>O});var a=s(50566);const n=e=>({type:a.STOREFRONT_MODULES_SUCCEEDED,...e}),r=(e,t)=>({type:a.STOREFRONT_MODULES_FAILED,brandId:e,error:t}),o=e=>({type:a.STOREFRONT_DEALS_REQUESTED,...e}),i=e=>({type:a.STOREFRONT_DEALS_SUCCEEDED,...e}),l=e=>({type:a.STOREFRONT_DEALS_FAILED,error:e}),c=e=>({type:a.STOREFRONT_PRODUCTS_REQUESTED,...e}),d=e=>({type:a.STOREFRONT_PRODUCTS_SUCCEEDED,...e}),E=e=>({type:a.STOREFRONT_PRODUCTS_FAILED,error:e}),_=e=>({type:a.RESET_STOREFRONT_NEW_DEAL_COUNT_REQUESTED,...e}),u=e=>({type:a.RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED,...e}),m=e=>({type:a.RESET_STOREFRONT_NEW_DEAL_COUNT_FAILED,error:e}),S=e=>({type:a.STOREFRONT_EMAILS_MODULES_SUCCEEDED,...e}),p=e=>({type:a.STOREFRONT_EMAILS_MODULES_FAILED,error:e}),C=e=>({type:a.STOREFRONT_RECEIPTS_MODULES_SUCCEEDED,...e}),A=e=>({type:a.STOREFRONT_RECEIPTS_MODULES_FAILED,error:e}),T=e=>({type:a.STOREFRONT_BRAND_FOLLOW_REQUESTED,...e}),h=e=>({type:a.STOREFRONT_BRAND_FOLLOW_SUCCEEDED,...e}),g=e=>({type:a.STOREFRONT_BRAND_FOLLOW_FAILED,error:e}),I=e=>({type:a.STOREFRONT_BRAND_UNFOLLOW_REQUESTED,...e}),R=e=>({type:a.STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED,...e}),O=e=>({type:a.STOREFRONT_BRAND_UNFOLLOW_FAILED,error:e})},1035:(e,t,s)=>{"use strict";s.d(t,{$1:()=>n,T7:()=>r,F7:()=>o,nm:()=>i,uQ:()=>l,JV:()=>c});var a=s(50566);const n=e=>({type:a.SUBSCRIPTION_LIST_FETCH_SUCCEEDED,...e}),r=e=>({type:a.SUBSCRIPTION_LIST_FETCH_FAILED,...e}),o=e=>({type:a.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED,...e}),i=e=>({type:a.SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED,...e}),l=e=>({...e,type:a.SUBSCRIPTION_LIST_FILTER_CHANGED}),c=e=>({...e,type:a.SUBSCRIPTION_LIST_SORT_ORDER_CHANGED})},49973:(e,t,s)=>{"use strict";s.d(t,{IB:()=>n,B_:()=>r,P4:()=>o,i_:()=>i,H:()=>l,zZ:()=>c});var a=s(50566);const n=e=>({...e,type:a.UNSUBSCRIBE_BY_EMAIL_REQUESTED}),r=e=>({...e,type:a.UNSUBSCRIBE_BY_EMAIL_SUCCEEDED}),o=e=>({...e,type:a.UNSUBSCRIBE_BY_EMAIL_FAILED}),i=e=>({...e,type:a.UNSUBSCRIBE_BY_BRAND_REQUESTED}),l=e=>({...e,type:a.UNSUBSCRIBE_BY_BRAND_SUCCEEDED}),c=e=>({...e,type:a.UNSUBSCRIBE_BY_BRAND_FAILED})},5199:(e,t,s)=>{"use strict";s.d(t,{G:()=>r,O:()=>o});var a=s(50566),n=s(37422);const r=e=>e.triageActionType===n.Ewo.UNDO_MOVE?{...e,type:a.UNDO_MOVE_SUCCEEDED}:{...e,type:a.UPDATE_ITEMS_SUCCEEDED},o=e=>e.triageActionType===n.Ewo.UNDO_MOVE?{...e,type:a.UNDO_MOVE_FAILED}:{...e,type:a.UPDATE_ITEMS_FAILED}},29519:(e,t,s)=>{"use strict";s.d(t,{aQ:()=>n,yV:()=>r,rC:()=>o,r2:()=>i,IG:()=>l,X:()=>c,ol:()=>d,ys:()=>E,Ez:()=>_,So:()=>u,sb:()=>m});var a=s(50566);const n=e=>({...e,type:a.COUPONS_ADD_TAG_DECO_SUCCEEDED}),r=e=>({...e,type:a.COUPONS_REMOVE_TAG_DECO_SUCCEEDED}),o=e=>({type:a.COUPONS_ADD_TAG_DECO_FAILED,error:e}),i=e=>({type:a.COUPONS_REMOVE_TAG_DECO_FAILED,error:e}),l=e=>({type:a.CATEGORY_FOLLOW_REQUESTED,...e}),c=(e=[])=>({type:a.CATEGORY_FOLLOW_SUCCEEDED,followedCategoryList:e}),d=(e=[],t)=>({type:a.CATEGORY_FOLLOW_FAILED,followedCategoryList:e,error:t}),E=e=>({type:a.CATEGORY_UNFOLLOW_REQUESTED,...e}),_=(e=[])=>({type:a.CATEGORY_UNFOLLOW_SUCCEEDED,followedCategoryList:e}),u=(e=[],t)=>({type:a.CATEGORY_UNFOLLOW_FAILED,followedCategoryList:e,error:t}),m=()=>({type:a.CATEGORY_FOLLOW_FAILURE_RESET})},85671:(e,t,s)=>{"use strict";s.d(t,{l:()=>c,F:()=>d});var a=s(85927),n=s(37422),r=s(31057),o=s(12779),i=s(99839),l=s(10587);const c=({state:e,stateSelectors:t})=>{const s=e?(0,a.selectors)(e):t,{getWindowDimensions:o,getRoute:i,getAccountIdByFolderId:c,getInboxFolderIdByAccountId:d,isFeatureEnabled:E,getSetting:_}=s,u=_(n.Zrf.MARKETING_PREFERENCES_SETTING);if(E(n.ANe.USE_DISPATCHER_CLIENT)&&null!=u&&u[l.Cf])return!1;const{innerWidth:m,innerHeight:S}=o(),p=i();if(m<800||S<625||p.name!==n.n8z.FOLDER)return!1;const C=(0,r.LY)(p),A=(0,r.Fh)(C);return d(c(A))===A},d=({state:e,action:t})=>{const{mailoverlay:s}=t,a=!!s,n=c({state:e}),r=a&&o.BW.find((e=>e===s.template));return i.Z.error("enableDispatcherSubscriptionUpsellsLog",{mailoverlayExists:a,enableUpsell:n,template:r}),!!r&&n}},18644:(e,t,s)=>{"use strict";s.d(t,{Z:()=>lt});var a=s(50566),n=s(57557),r=s.n(n),o=s(30982),i=s(1558),l=s(37422),c=s(85927),d=s(62631),E=s(8106);var _=s(336),u=s(68113);const m=({beaconType:e,reason:t,comment:s,isAdFeedbackV2:a})=>{const n=[["type",e],["subo",t],["cmnt",s]].filter((e=>e[1]));a&&n.push(["afv","2.0"]);return`(${n.map((([e,t])=>`${e}$${t}`)).join(",")})`},S=(e,t,s)=>{const{getAdsSelectors:a}=(0,c.selectors)(e.getState()),n=a().getAdFeedbackBeacon(s).replace("$(AD_FEEDBACK)",t);(0,_.Z)(n)},p=(e,{type:t,reason:s,comment:n,sectionId:r,isAdFeedbackV2:o,feedbackType:i})=>{if(t===a.AD_FEEDBACK_CLICKED){if(!i)return;s=i===u.gT.POSITIVE?100:10}S(e,m({beaconType:"fdb_submit",reason:s,comment:n,isAdFeedbackV2:o}),r)};var C=s(35598);const A=({itemsToUpdate:e,isRead:t,...s})=>void 0!==t?{itemsToUpdate:e.map((({destinationFolder:e,folder:s,flags:a,...n})=>({...n,folder:e,destinationFolder:s,flags:{...a,read:!t}}))),...s,isRead:!t,type:a.UNDO_MOVE_AND_READ_REQUESTED}:{itemsToUpdate:e.map((({destinationFolder:e,folder:t,...s})=>({...s,folder:e,destinationFolder:t}))),...s,type:a.UNDO_MOVE_REQUESTED};var T=s(78850),h=s(95406);function g(e,t,s){const{isMobileRoute:a,getAccountSelectors:n,getFoldersSelectors:r}=e,{getFolderIdsByAccountId:o,hasChildren:i}=r();let c;switch(t){case l.Zrf.AMP_EMAIL:c=l.CbW.AMP_EMAIL;break;case l.Zrf.INTERSTITIAL_FREQUENCY:c=l.CbW.INTERSTITIAL_FREQUENCY;break;case l.Zrf.THEME:c=a()?l.CbW.MOBILE_THEME:l.CbW.THEME;break;case l.Zrf.THEME_MODE:c=a()?l.CbW.MOBILE_THEME_MODE:l.CbW.THEME_MODE;break;case l.Zrf.PREVIEW_PANE:c=l.CbW.PREVIEW_PANE;break;case l.Zrf.COMPOSE_FORMAT:c=l.CbW.COMPOSE_FORMAT;break;case l.Zrf.MSG_LIST_DENSITY:c=l.CbW.MSG_LIST_DENSITY;break;case l.Zrf.SNIPPETS:c=a()?l.CbW.MOBILE_SNIPPETS:l.CbW.SNIPPETS;break;case l.Zrf.COMPOSE_FONT_FAMILY:c=l.CbW.COMPOSE_FONT_FAMILY;break;case l.Zrf.COMPOSE_FONT_SIZE:c=l.CbW.COMPOSE_FONT_SIZE;break;case l.Zrf.MOBILE_NOTIFICATION:c=l.CbW.MOBILE_NOTIFICATION;break;case l.Zrf.DESKTOP_NOTIFICATION:c=l.CbW.DESKTOP_NOTIFICATION;break;case l.Zrf.MARK_AS_READ_INTERVAL:c=l.CbW.MARK_AS_READ_INTERVAL;break;case l.Zrf.SHOW_IMAGES:c=a()?l.CbW.MOBILE_SHOW_IMAGES:l.CbW.BLOCK_IMAGES;break;case l.Zrf.LINK_ENHANCR:c=l.CbW.LINK_ENHANCER;break;case l.Zrf.ACTION_AFTER_MSG_MOVE:c=l.CbW.ACTION_AFTER_MSG_MOVE;break;case l.Zrf.SHOW_CUSTOM_FOLDERS:c=l.CbW.SHOW_CUSTOM_FOLDERS;break;case l.Zrf.SHOW_SMART_VIEWS:c=l.CbW.EXPAND_SMART_VIEWS;break;case l.Zrf.MAIL_TABS:c=l.CbW.MAIL_TABS;break;case l.Zrf.HIDE_AD:c=l.CbW.HIDE_AD;break;case l.Zrf.SHOW_ALL_SYSTEM_FOLDERS:c=l.CbW.SHOW_ALL_SYSTEM_FOLDERS;break;case l.Zrf.EXPANDED_FOLDERS:{c=l.CbW.EXPANDED_FOLDERS;const e=n().getAccountIds();let t=[];e.forEach((e=>{o(e).forEach((e=>{i(e)&&-1!==s.indexOf(e)&&(t=t.concat(e))}))})),s=t;break}case l.Zrf.STATIONERY_DEFAULT_THEME:c=l.CbW.STATIONERY_DEFAULT_THEME;break;case l.Zrf.USE_RICH_TEXT:c=l.CbW.USE_RICH_TEXT;break;case l.Zrf.RECENTLY_USED_EMOJIS:c=l.CbW.RECENTLY_USED_EMOJIS;break;case l.Zrf.SCOUT_ONBOARDING:c=l.CbW.SCOUT_ONBOARDING;break;case l.Zrf.SYSTEM_TABS:c=l.CbW.SYSTEM_TABS;break;case l.Zrf.AD_BLOCK_FEATURE_CUE_ID:c=l.CbW.AD_BLOCK_FEATURE_CUE_ID;break;case l.Zrf.PREFERRED_AD_FORMAT:c=l.CbW.PREFERRED_AD_FORMAT;break;case l.Zrf.BREAKING_NEWS_SETTINGS:c=l.CbW.BREAKING_NEWS;break;case l.Zrf.PACKAGE_TRACKING_SETTINGS:c=l.CbW.PACKAGE_TRACKING;break;case l.Zrf.DEALS_STORIES_SETTINGS:c=l.CbW.DEALS_STORIES;break;case l.Zrf.CONSENT_EVENTS:c=l.CbW.CONSENT_EVENTS;break;case l.Zrf.AUTO_OPEN_FIRST_MESSAGE:c=l.CbW.AUTO_OPEN_FIRST_MESSAGE;break;case l.Zrf.INBOX_STYLE:c=l.CbW.INBOX_STYLE;break;case l.Zrf.SUPPRESSED_UPSELLS:c=l.CbW.SUPPRESSED_UPSELLS;break;case l.Zrf.MIGRATION_STATUS:c=l.CbW.MIGRATION_STATUS;break;case l.Zrf.DISABLED_MESSAGE_READ_CARDS:c=l.CbW.DISABLED_MESSAGE_READ_CARDS;break;case l.Zrf.NUDGE_TO_REPLY_SETTING:c=l.CbW.NUDGE_TO_REPLY}return c}const I=(e,{name:t,value:s,action:a},n)=>{const{dispatch:r,getState:i}=e,d=(0,c.selectors)(i()),{getSelectedMailboxId:E}=d;let _=[];const u=g(d,t,s);return _=_.concat(n.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:E(),attributes:[{id:u,value:u===l.CbW.BLOCK_IMAGES?!s:s}]}).then((()=>{r((0,o.FV)({name:t,requestActionPayload:a})),u!==l.CbW.BLOCK_IMAGES&&u!==l.CbW.INBOX_STYLE||window.setTimeout((()=>window.location.reload()),300)})).catch((()=>r((0,o.f6)({name:t,requestActionPayload:a}))))),Promise.all(_)};var R=s(17591),O=s(17016),D=s(31057);var N=s(12055);var f=s(32440),M=s(590),L=s(35456),P=s(78263),y=s(45578),b=s.n(y),F=s(23493);const U=(e=[])=>e.map((({name:e,email:t})=>({name:e,email:t}))),v=(e,t)=>{const s=(0,c.selectors)(e),{getSelectedMailboxId:a,getDraftFolderIdByAccountEmail:n,getDraftFolderIdForPrimaryAccount:r,getAttachmentMessageReferenceByContentId:o,isReplyMessage:i,isReplyAllMessage:l,isForwardMessage:d,getReplyingToMessageId:E}=s,{to:_,cc:u,bcc:m,from:S,csid:p,subject:C,html:A,attachmentsInfo:T=[],rawFiles:h={},newContentIds:g=[],uiState:{useRichText:I}}=t,R=a(),O=n(S.email)||r(),D=E(p),N=i(p),f=l(p),M=d(p),P=b()(T,"contentId").filter((e=>{const t=g.some((t=>t===e.contentId)),s=o(e.contentId),a=e.id&&e.id.includes("inlineImage");let n=s&&e.partId&&e.partId.indexOf(".")>0;if(n){const t=e.partId.split(".")[0];n=!!T.find((({partId:e})=>e===t))}return(t||s)&&!n&&!a})).map((e=>{const t=o(e.contentId);return t?{...e,messageReference:t,file:void 0}:e})),y=[{name:S.sendingName||S.email,email:S.email}],F=S.replyToAddress?[{name:S.sendingName||S.replyToAddress,email:S.replyToAddress}]:[],v={csid:p,mailboxId:encodeURIComponent(R),subject:C,from:y,replyTo:F,to:U(_),cc:U(u),bcc:U(m),html:I?(0,L.ZK)(A,s):null,text:I?null:(0,L.iT)(A),folderId:O,attachments:P,files:(g||[]).map((e=>h[e])).filter(Boolean)};return D?(v.newMessage=!1,v.inReplyTo={messageReference:{id:D},replied:N||f,forwarded:!(N||f)&&M}):v.newMessage=!0,v},w=s.n(F)()(((e,t)=>{e((0,f.kS)(t))}),2e3);var G=s(72710),k=s(30426),H=s(91742),B=s(90583),x=s(92559);var V=s(40315);const W=e=>({type:a.DOCUMENT_FETCH_FAILED,...e});var Z=s(99691);function K({type:e,subtype:t}){switch((0,Z.SA)(e,t)){case l.sSc.SimplifiedTypes.COMPRESSED:return{code:625,isRetryable:!1};default:return{code:813,isRetryable:!1}}}var z=s(57438);var q=s(5156),Y=s(63352);const j=["lastMinuteGiftShopCue","aptSecurityCue","blkDeleteMsgErnyCue","couponClipperCue","couponsViewCue","categoryFollowingCue","couponsViewLaunchCue","dealsViewCue","groceriesViewCue","inboxCouponsCue","inboxErnyBrndCue","inboxErnyCue","inboxErnyGrthBrndCue","inboxErnyGrthCue","inboxErnySvngsCue","linkedinReauthCue","msgReadDeleteEarnyCue","msgReadErnyCue","newUserOnboardingCue","purchasesViewCue","qtntviewLeftRailCue","qtntviewMsgReadCue","quotientClipperCue","quotientContextualCue","smallBizCue","shopRunnerViewCue","sportsCue","themesCue","valentineDayCue","rRAdFreeReshowUpsellCue","undefined"],Q=e=>b()(e.filter((e=>j.indexOf(e.split(",")[0])<0)).sort(((e,t)=>(0|parseInt(t.split(",")[1],10))-(0|parseInt(e.split(",")[1],10)))),(e=>e.split(",")[0]));var X=s(78737),J=s(3405);const $=({shouldWriteToDataSource:e,success:t,failure:s})=>(a,{name:n,userAction:r,userResponse:o,i13nModel:i},d)=>{const{dispatch:E,getState:_}=a,{getFeaturesSelectors:u,getFeatureCueSelectors:m,getSelectedMailboxId:S}=(0,c.selectors)(_()),{isPersistent:p,isKeySaved:C}=m();return i&&i.mKey===x.JE.CONVERSATIONS_CUE_TAP&&setImmediate((()=>E((0,X.Ch)({route:(0,J.Tx)()})))),n&&n!==l.ANe.PARTNER_RECONSENT_BANNER?!C(n)&&e({userResponse:o,isPersistent:p(n)})?(({feature:e,userResponse:t,apiClients:{mailAPIClient:s},selectors:{getFeatureCueSelectors:a,getSelectedMailboxId:n}})=>{const{getSubkey:r}=a(),o=r(e)||e,i=n();(0,Y.Z)(j.indexOf(o)<0,`${o} is legacy, it shouldn't be rendered`);const c=t?`${t}`:"";(0,Y.Z)(c.length<5,`User Response should be of length 4 or less for ${e}, got ${c}`);const d=("0000"+c).substring(c.length);return s.request("saveArrayAttributes",{mailboxId:i,items:[`${o},${Math.round(Date.now()/1e3)},${d}`],attribute:l.CbW.SCOUT_ONBOARDING,dedupFn:Q})})({feature:n,userResponse:o,apiClients:d,selectors:{getFeaturesSelectors:u,getFeatureCueSelectors:m,getSelectedMailboxId:S}}).then((e=>E(t({feature:n,value:e,userAction:r})))).catch((e=>E(s({feature:n,error:e,userAction:r})))):void 0:Promise.resolve()},ee=$({shouldWriteToDataSource:({userResponse:e,isPersistent:t})=>e||t,success:e=>(0,q.oe)(e),failure:e=>(0,q.Cz)(e)}),te=$({shouldWriteToDataSource:({isPersistent:e})=>!e,success:e=>(0,q.Ts)(e),failure:e=>(0,q.a7)(e)});var se=s(18380);var ae=s(18352);var ne=s(88071);var re=s(30532),oe=s(42907),ie=s(54418),le=s(45481),ce=s(96943);const de=(e,t,s)=>{const{route:a,config:n,type:r}=t,o=((e,t)=>{switch(t.name){case l.n8z.FOLDER:return e.launchFolder;case l.n8z.MESSAGE_FROM_FOLDER_LIST:case l.n8z.MESSAGE_FROM_SEARCH_LIST:return e.launchMessage;default:return e.root}})((0,ie.N)(n,"spaceids"),a),i=(0,ie.N)(n,"geminiForceFilter"),c=(0,ie.N)(n,"geminiCreativeId"),d=(0,ie.N)(n,"sectionIdsToPrefetch")||[],E=(0,ie.N)(n,"geminiSectionIds")||{},_=(0,ie.N)(n,l.ANe.MSG_READ_PENCIL_AD),u=Object.keys(E).reduce(((e,t)=>{if(-1!==d.indexOf(E[t])){if(t===l.e$m.MESSAGE_READ&&!_)return e;e[t]=E[t]}return e}),{});if(!Object.keys(u).length)return Promise.resolve();const m={sectionId:u,publisherInfo:`lu:1||${o}|STRM|`,rotationActionType:r,isAdFeedbackV2:(0,ie._)(n,"adFeedbackV2")?"enabled":"disabled"};return i&&(m.forceFilter=i),c&&(m.creativeId=c),(0,ie._)(n,"geminiSponsoredVideo")&&(m.creativeCode="STRM,STRM_VIDEO",m.contentType="video/mp4,application/vnd.apple.mpegurl"),(0,ie._)(n,"videoSponsoredMoment")&&(m.videoMomentEnabled=!0),(0,ie._)(n,"nobleHybridAd")&&(m.nobleHybridAdEnabled=!0),(0,ie._)(n,"secondPencilFallbackSectionIdEnabled")&&(m.secondPencilFallbackSectionIdEnabled=!0),s.geminiAPIClient.request(m).then((e=>e))},Ee=(e,t,s)=>{const{getAppName:a,isFeatureEnabled:n}=(0,c.selectors)(e.getState()),{route:r,config:o}=t,i=["LREC","LREC4","SKY"];n(l.ANe.LREC_MON_AD_ARBITRATION)&&i.push("MON");const d=(0,le.TE)(o.spaceids,r.name);return s.darlaAdClient.request({spaceId:d,adPositions:i,app:a()}).catch((()=>{})).then((e=>({darlaAds:e})))},_e=e=>ce.Z.feature("darla_launch_syncer_prefetch",{routeName:e.name}),ue=(e,t)=>{t?e.logSuccessAndLatency():e.logFailure()},me=e=>{const t=(e=>{const t={};return Object.values(e||{}).forEach((e=>{e.forEach((e=>{e.vertical&&(void 0!==t[e.vertical]?t[e.vertical]+=1:t[e.vertical]=1)}))})),t})(e);let s={};return Object.keys(t).length&&(s={mKey:x.JE.RELATED_CARDS_REQUEST_SUCCESS,sec:x.nJ.MSG_READ_RELATED_CARDS,interactionType:x.Rb.nav,actionData:{}},Object.keys(t).forEach((e=>{s.actionData[`vertical-${e}`]=t[e]}))),s};var Se=s(99839),pe=s(10587);var Ce=s(71887);var Ae=s(59678);var Te=s(40564);var he=s(41958);const ge=({dispatch:e,getState:t},{listId:s},{mailAPIClient:a})=>{const{getSelectedMailboxId:n,getListsSelectors:r,getFeaturesSelectors:o,getSelectedAccountId:i}=(0,c.selectors)(t()),d=n(),{getItemIdsSelectors:E}=r(),_=o().getSetting(l.Zrf.CARD_GROUPS_FETCH_COUNT),u=E(s).getItemIds().length,m=(0,D.C4)(s),S=(0,D.WW)(s),p=i();return a.request("messageCards.getList",{mailboxId:d,filter:m,offset:u,count:_,sortOrder:S,accountId:p}).then((({cardGroupList:t,hasMoreItems:a})=>{e((0,he.XQ)({listId:s,cardGroupList:t,hasMoreItems:a}))})).catch((t=>{e((0,he.Qn)({listId:s,error:t}))}))},Ie=({dispatch:e,getState:t},{listId:s,count:a=l.snh},{mailAPIClient:n})=>{const{getFeaturesSelectors:r,getSelectedMailboxId:o,getListsSelectors:i,getSelectedAccountId:d,getSelectedStreamItems:E,doesStreamExist:_}=(0,c.selectors)(t()),u=o(),m=d(),S=r().isEnabled(l.ANe.CONVERSATIONS),p=r().isEnabled(l.ANe.SELECT_ALL),{getItemIdsSelectors:C}=i(),A=C(s).getItemIds().length,T={folderId:(0,D.Fh)(s),mailboxId:u,accountId:m,sortOrder:(0,D.WW)(s),filter:(0,D.C4)(s),fromEmails:(0,D.Ob)(s),listIds:(0,D.yd)(s),fromNames:(0,D.dZ)(s),count:a,offset:A,conversationsMode:S,excludeFolderTypes:(0,D.JO)(s)};let h=!1;if(p){const e=(0,P.BA)([s]),t=_(e)?E(e):[];h=t.length>0&&C(s).getItemIds().length===t.length}return n.request("messageGroups.getList",T).then((({messageGroupList:t,hasMoreItems:a})=>e((0,he.tl)({listId:s,messageGroupList:t,hasMoreItems:a,allItemsSelected:h})))).catch((t=>{e((0,he.Iu)({listId:s,error:t}))}))},Re=({dispatch:e,getState:t},{listId:s,count:a=l.snh},{mailAPIClient:n})=>{const{getSelectedMailboxId:r,getListsSelectors:o,getSelectedAccountId:i}=(0,c.selectors)(t()),{doesListExist:d,getListOffset:E,hasMoreItems:_}=o(),u=r(),m=i(),S=l.ukn.ALL_REFUND_CARDS;let p=0;!!d(s)&&_(s)&&(p=d(s)?E(s):0);const C={mailboxId:u,filter:S,count:a,offset:p,sortOrder:l.Asd.CARD_DATE_DESC,accountId:m};return n.request("getMoreReceipts",C).then((t=>{e((0,he.Z$)({listId:s,cardGroupList:t.messageGroupsResponses.cardGroupList,hasMoreItems:t.messageGroupsResponses.hasMoreItems,offset:t.messageGroupsResponses.offset,parentMessagesMap:t.parentMessagesMap}))})).catch((t=>{e((0,he.az)({listId:s,error:t}))}))};var Oe=s(14196);var De=s(29519);const Ne=e=>({type:a.CHECK_NUDGE_AND_SMART_REPLY_FAILED,...e});var fe=s(44908),Me=s.n(fe);const Le=function(e,t,s){const{sectionIds:a,spaceId:n}=t;if(t.unsyncedDataType!==l.sKi.GEMINI_AD||!a||!n)return Promise.resolve();const{dispatch:r,getState:o}=e,{getFeaturesSelectors:i,getAdsSelectors:d,getAction:E,getGroupId:_,getSenderEmailIdsFromMessageGroup:u,getCouponsSelectors:m}=(0,c.selectors)(o()),{isEnabled:S,getSetting:p}=i(),C=d().getGeminiCategories(),A=p(l.Zrf.GEMINI_CREATIVE_ID),T=p(l.Zrf.GEMINI_FORCE_FILTER),h=u([_()]),g=(0,O.getRootDomainFromEmailAddress)(h[0]),{getCouponCategoriesForMessageGroup:I}=m(),R=I(),D={adCount:1,sectionId:a,publisherInfo:`lu:1||${n}|STRM|`,rotationActionType:E().type,isAdFeedbackV2:S(l.ANe.AD_FEEDBACK_V2)?"enabled":"disabled"},N=Object.keys(a).some((e=>e===l.e$m.SHOPPING_CART)),f=Object.keys(a).some((e=>e===l.e$m.DEALS_SHOPPING_CART)),M=Object.keys(a).some((e=>e===l.e$m.CROSS_DOMAIN_DPA_ADS)),L=S(l.ANe.MSG_READ_PENCIL_AD_SEND_DOMAIN)&&g&&Object.keys(a).some((e=>e===l.e$m.MESSAGE_READ));return S(l.ANe.ROTATE_PENCIL_AD_ON_EXPIRE)||setImmediate((()=>r((0,ae.k)({sectionIds:a})))),T&&(D.forceFilter=T),A&&(D.creativeId=A),S(l.ANe.GEMINI_SPONSORED_VIDEO)&&(D.creativeCode="STRM,STRM_VIDEO",D.contentType="video/mp4,application/vnd.apple.mpegurl"),L&&(D.domainParts=(0,le.$U)(h[0]).join(",")),S(l.ANe.SHOPPING_CART_AD)&&g?D.domain=g:S(l.ANe.CROSS_DOMAIN_DPA_ADS)&&g&&(D.categories=R.slice(0,5).map((e=>e.id)).join(","),D.domain=g),C&&C.length&&(D.adCategories=C.join(",")),S(l.ANe.VIDEO_SPONSORED_MOMENT)&&(D.videoMomentEnabled=!0),S(l.ANe.NOBLE_HYBRID_AD)&&(D.nobleHybridAdEnabled=!0),S(l.ANe.PENCIL_AD_URL_VALIDATION)&&(D.pencilAdUrlValidationEnabled=!0),S(l.ANe.SECOND_PENCIL_FALLBACK_SECTION_ID_ENABLED)&&(D.secondPencilFallbackSectionIdEnabled=!0),s.geminiAPIClient.request(D).then((e=>{const t={geminiAd:e,sectionIds:a};if(S(l.ANe.CROSS_DOMAIN_DPA_ADS)&&M){const s=e[a[l.e$m.CROSS_DOMAIN_DPA_ADS]];t.i13nModel={mKey:s?x.JE.CROSS_DOMAIN_DPA_AD_REQUEST_SUCCESS:x.JE.CROSS_DOMAIN_DPA_AD_REQUEST_FAILURE,sec:x.nJ.DPA_ADS,actionData:{domain:g,categories:D.categories}},s&&s.length&&(t.i13nModel.actionData.adCount=s.length)}else if(L){const s=(null==e?void 0:e[a[l.e$m.MESSAGE_READ]])||[];t.i13nModel={mKey:x.JE.DOMAIN_MATCHED_PENCIL_AD_MSG_READ,sec:x.nJ.MSG_READ_AD,actionData:{domain:g,adCount:s.length}}}else if(N||f){const s=N?x.JE.SHOPPING_CART_AD_REQUEST_SUCCESS:x.JE.DEALS_SHOPPING_CART_AD_REQUEST_SUCCESS,n=N?x.JE.SHOPPING_CART_AD_REQUEST_FAILURE:x.JE.DEALS_SHOPPING_CART_AD_REQUEST_FAILURE,r=e[a[l.e$m.SHOPPING_CART]]||e[a[l.e$m.DEALS_SHOPPING_CART]],o=(null==r?void 0:r.length)||0;let i={domain:g};N&&o&&(i={...i,adCount:o,adSource:Me()(r.map((e=>{var t;return null==e||null===(t=e.pencilAd)||void 0===t?void 0:t.adSource}))),brand:Me()(r.map((e=>{var t;return null==e||null===(t=e.pencilAd)||void 0===t?void 0:t.brand})))}),t.i13nModel={mKey:r?s:n,sec:x.nJ.SHOPPING_CART,actionData:i}}return S(l.ANe.SPONSORED_MESSAGE_TRIAGE)&&(t.sponsoredMessageTriage=!0),r((0,ae.nu)(t))})).catch((e=>{let t={};return S(l.ANe.CROSS_DOMAIN_DPA_ADS)&&M?t={mKey:x.JE.CROSS_DOMAIN_DPA_AD_REQUEST_ERROR,sec:x.nJ.DPA_ADS,actionData:{domain:g,categories:D.categories}}:(N||f)&&(t={mKey:N?x.JE.SHOPPING_CART_AD_REQUEST_FAILURE:x.JE.DEALS_SHOPPING_CART_AD_REQUEST_FAILURE,sec:x.nJ.SHOPPING_CART,actionData:{domain:g}}),r((0,ae.lN)({error:e,sectionIds:a,i13nModel:t}))}))};const Pe=function(e,t,s){if(t.unsyncedDataType!==l.sKi.IMPORTANT_CONTACTS_FETCH)return Promise.resolve();const{dispatch:a}=e,{fromEmail:n,listId:r}=t;return s.autoSuggestClient.importantContacts(n).then((e=>{a((0,k.v2)({fromEmail:n,contacts:e,listId:r}))})).catch((()=>{a((0,k.c6)({fromEmail:n,listId:r}))}))};var ye=s(12550);var be=s(59098);var Fe=s(70774);var Ue=s(24047);var ve=s(90406),we=s(73749),Ge=s(43373),ke=s(42655),He=s(63523);var Be=s(12602),xe=s(6273);const Ve=(e,t,s)=>{const{blockSenders:a=null,overWrite:n=!1,delta:r=1}=t,{dispatch:i}=e;return null===a?Promise.resolve():s.mailAPIClient.request("saveArrayAttributes",{items:a||[],overWrite:n,attribute:l.CbW.DELIVERY_BLOCKED_SENDERS}).then((()=>{i((0,o.FV)({name:l.Zrf.DELIVERY_BLOCKED_SENDERS,senders:a,delta:r}))})).catch((e=>{i((0,o.f6)({name:l.Zrf.DELIVERY_BLOCKED_SENDERS,error:e,delta:r}))}))};var We=s(44140),Ze=s.n(We),Ke=s(91097);const ze=(e,t,s)=>{var n;const{dispatch:r,getState:o}=e,{getSelectedMailboxId:i,getRoute:d,getSettingsSelectors:E,getAccountSelectors:_,isFeatureEnabled:u,getAction:m}=(0,c.selectors)(o()),{getSettingsApiCallStatus:S}=E(),p=d(),C=null===(n=m())||void 0===n?void 0:n.type;if(p.name!==l.n8z.SETTINGS&&p.name!==l.n8z.BLOCKED_SENDERS&&p.name!==l.n8z.BLOCKED_DOMAINS&&C!==a.POST_LAUNCH_SYNC_SUCCEEDED)return Promise.resolve();const A=S(),T=u(l.ANe.MAIL_PLUS)||u(l.ANe.MAIL_PLUS_FREE_TRIAL),h=u(l.ANe.USE_SAVED_SEARCH_FOR_FILTERS);if(A===l.DAQ.LOADED)return Promise.resolve();const g=i();return s.mailAPIClient.request("settings.get",{mailboxId:g,primaryAccountDisabled:_().isPrimaryAccountDisabled(),isMailPlusUser:T,useSavedSearchForFilters:h}).then((e=>{r({type:a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED,...e})})).catch((function(e){r({type:a.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED,payload:e})}))};var qe=s(66588);var Ye=s(2464),je=s(49973);var Qe=s(5199);const Xe=(e,t,s)=>{const{dispatch:n,getState:r}=e,{getFeaturesSelectors:o,getSelectedMailboxId:i,getPendingUpdate:d}=(0,c.selectors)(r()),E=o(),_=E.getSetting("bulkActionDialogThreshold"),{unsyncedDataType:u,messageItemsToSync:m=[],isRead:S}=t;if(u!==l.sKi.MESSAGE_ITEM_TO_UPDATE||!m.length)return Promise.resolve();const p=m.length>_||m.filter((e=>!!e.messageQuery)).length>0,T=m.some((e=>e.permanentDelete)),g=E.isEnabled(l.ANe.CONVERSATIONS),{streamId:I,itemsToUpdate:R=[],triageActionType:O="",folderId:D="",destinationFolderId:N="",destinationFolderType:f="",count:M,conversations:L,isAutomatic:P=!1}=d();let y,b=Object.keys(R.reduce(((e,t)=>({...e,[t.id]:!0})),{})).length;switch(P&&m.some((e=>!e.flags.read))&&Se.Z.error("debug_mark_as_read",{actionType:d().type,itemsToUpdate:R,messageItemsToSync:m}),-1!==[l.Ewo.READ_CHANGE_FOLDER_ITEMS,l.Ewo.ARCHIVE_FOLDER_ITEMS,l.Ewo.DELETE_FOLDER_ITEMS].indexOf(O)&&(b=M),O){case l.Ewo.MOVE_SELECTED_ITEMS:case l.Ewo.RESTORE_SELECTED_ITEMS:case l.Ewo.SPAM_SELECTED_ITEMS:case l.Ewo.NOT_SPAM_SELECTED_ITEMS:{const e={streamId:I,itemsToUpdate:R,i13nModel:{mKey:x.JE.UNDO_MOVE_ACTION},triageActionType:l.Ewo.UNDO_MOVE};void 0!==S&&(e.isRead=S),y=A(e);break}case l.Ewo.DELETE_SELECTED_ITEMS:y=T?void 0:A({streamId:I,itemsToUpdate:R,i13nModel:{mKey:x.JE.UNDO_DELETE_ACTION},triageActionType:l.Ewo.UNDO_MOVE});break;case l.Ewo.ARCHIVE_SELECTED_ITEMS:y=A({streamId:I,itemsToUpdate:R,i13nModel:{mKey:x.JE.UNDO_ARCHIVE_ACTION},triageActionType:l.Ewo.UNDO_MOVE})}const F={mailboxId:i(),messageItemsToSync:m,isAsync:p},U={messageItemsToSync:m,itemsToUpdate:R,triageActionType:O,folderId:D,destinationFolderId:N,destinationFolderType:f,isAsync:p,count:b,permanent:T,conversations:g};void 0!==S&&(U.isRead=S),void 0!==L&&(U.conversations=L);const v={successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,...U,undoAction:y},failureAction:{type:a.UPDATE_ITEMS_FAILED,...U},...U},w=((e=[])=>{let t;for(let s=0;s<e.length;s++){const{updateTypes:a}=e[s];if(a.length>1)return"messages.UnifiedUpdate";if(t){if(a[0]!==t)return"messages.UnifiedUpdate"}else t=a[0]}switch(t){case l.oc$.READ:return"messages.readFlagUpdate";case l.oc$.STAR:return"messages.starFlagUpdate";case l.oc$.MOVE:return"messages.move";case l.oc$.DELETE:return"messages.delete";default:return"messages.UnifiedUpdate"}})(m);return s.mailAPIClient.request(w,F).then((({tasks:t,successType:a,shouldCheckMessageStatus:r,failureMap:o})=>{if(a===l.Fa7.ASYNC)n((0,C.Tf)({tasks:t,messageItemsToSync:m,actionPayload:v}));else if(a===l.Fa7.FAIL){if(r)return((e,t,s,a)=>{const{dispatch:n,getState:r}=e,{messageItemsToSync:o=[]}=t,{getSelectedMailboxId:i,getPendingUpdate:l,getFolderHighestModSeq:d}=(0,c.selectors)(r()),E=(0,h.u9)(o[0],"sourceFolder.id",void 0),_=E?{id:E,highestModSeq:d(E)}:{},{streamId:u}=l();return s.mailAPIClient.request("messages.getDeletedMessages",{mailboxId:i(),messages:o.map((e=>({messageId:e.messageId,modSeq:e.modSeq}))),folder:_,messageUpdateFailureMap:a}).then((({deletedMessages:e=[]})=>{n((0,Qe.O)({...t,deletedMessages:e,streamId:u,forceSync:!0}))})).catch((()=>{n((0,Qe.O)(t))}))})(e,U,s,o);n((0,Qe.O)(U))}else n((0,Qe.G)({...U,undoAction:y}))})).catch((()=>{n((0,Qe.O)(U))}))},Je=(e,t,s)=>{const{getState:n}=e,{getSetting:r,isMobileRoute:o}=(0,c.selectors)(n()),i=r(l.Zrf.SCOUT_ONBOARDING),{name:d,value:E,userResponse:_}=t,u=(0,Ae.JV)(i,l.ANe.WEB_PAC_NOTIFICATION_CUE),m=d===l.Zrf.SHOW_IMAGES&&!E&&u>0||d!==l.Zrf.SHOW_IMAGES&&_,S=u>=l.hqH;if(!([a.SETTINGS_CHANGE_REQUESTED,l.sKi.UPDATE_PAC_CUE].indexOf(t.unsyncedDataType)>-1)||o()||S||!m)return Promise.resolve();const p={name:l.ANe.WEB_PAC_NOTIFICATION_CUE,userResponse:_||l.hqH,i13nModel:{sec:x.nJ.FEATURE_CUE,mKey:"cue_pacNotificationCue_invoke",actionData:{fromMsgBody:!!_}}};return te(e,p,s)};var $e=s(47292);var et=s(1035);var tt=s(1656);var st=s(18091);var at=s(36850);var nt=s(40818);var rt=s(49760);const ot=[(e,t,s)=>{const{route:a,selectedMailbox:n,config:r={}}=t,{dispatch:o,getState:i}=e,{isFeatureEnabled:d}=(0,c.selectors)(i()),_=a?(0,D.LY)(a):void 0;if(!a||t.unsyncedDataType!==l.sKi.LAUNCH||-1===[l.n8z.SEARCH,l.n8z.SETTINGS,l.n8z.TUTORIAL,l.n8z.SIGNATURES_FROM_SETTINGS,l.n8z.THEME_CHOOSER,l.n8z.CONTACTS,l.n8z.CONTACT_DETAILS,l.n8z.CONTACT_DETAILS_FROM_SEARCH,l.n8z.EDIT_CONTACT,l.n8z.CREATE_CONTACT,l.n8z.ACCOUNT_LIST_FROM_SETTINGS,l.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST,l.n8z.ADD_ACCOUNT_PROVIDER,l.n8z.ADD_MAILBOX_PROGRESS,l.n8z.BLOCKED_SENDERS,l.n8z.BLOCKED_DOMAINS,l.n8z.AFTER_MESSAGE_MOVE,l.n8z.MESSAGE_PREVIEW,l.n8z.SUBSCRIPTION_LIST,l.n8z.STOREFRONT,l.n8z.REWARDS,l.n8z.PORTRAIT_AD,l.n8z.MAILPLUS_BENEFITS_UPSELL,l.n8z.FOCUSED_INBOX].indexOf(a.name)&&!(0,D.Yd)(_)&&!(0,D.SH)(a)&&(0,D.aY)(_)!==l.qd8.SUBSCRIPTIONS)return Promise.resolve();let u,m=null;d(l.ANe.DARLA_PREFETCH_LAUNCH_SYNCER)&&!(0,E.jU)()&&(u=_e(a),Ee(e,t,s).then((e=>{m=e})));const S=n.id,p=d(l.ANe.MAIL_PLUS),C={...l.zkc,...p?l.UHK:{},...r.compactCompose?l.Ncq:{}};return s.mailAPIClient.request("launch.skeleton",{mailboxId:S,attributesToFetch:C}).then((e=>{o((0,re.E3)({initialMailboxAttributes:t.mailboxAttributes,darlaAds:m,selectedMailbox:n,...e})),d(l.ANe.DARLA_PREFETCH_LAUNCH_SYNCER)&&!(0,E.jU)()&&u&&ue(u,m)})).catch((e=>o((0,re.c5)({error:e}))))},(e,t,s)=>{const{route:a,config:n={},selectedMailbox:r}=t;if(!a)return Promise.resolve();const o=(0,D.LY)(a),i=(0,D.Fh)(o),d=(0,D.WW)(o),_=(0,D.C4)(o),{dispatch:u,getState:m}=e,{isFeatureEnabled:S}=(0,c.selectors)(m());if(t.unsyncedDataType!==l.sKi.LAUNCH||a.name!==l.n8z.FOLDER&&a.name!==l.n8z.EDIT_FOLDER&&a.name!==l.n8z.BASE&&a.name!==l.n8z.LIST||(0,D.GG)(o))return Promise.resolve();const{pencilAd:p,conversations:C,launchFolderTimeout:A,messageFetchCountInitial:T,compactCompose:h=!1}=n,g=ce.Z.feature("gemini_server_prefetch",{routeName:a.name});let I=null;p&&de(0,t,s).then((e=>{I=e}));const R=r.id;let O,N=null,f=null;var M;(S(l.ANe.DARLA_PREFETCH_LAUNCH_SYNCER)&&!(0,E.jU)()&&(O=_e(a),Ee(e,t,s).then((e=>{N=e}))),S(l.ANe.DISPATCHER_UPSELLS_ELIGIBLE)&&!(0,E.jU)())&&(null!==(M=t.memberProfileData)&&void 0!==M&&M.marketingpreferencesData?(f=(0,pe.A9)(t.memberProfileData.marketingpreferencesData),Se.Z.error("launch:marketingPreferences",{optedOutProducts:Object.keys(f||{}).join(",")})):s.marketingPreferencesAPIClient.request("readMemberProfilePreferences").then((e=>{f=e,Se.Z.error("marketingPreferences",{optedOutProducts:Object.keys(e||{}).join(",")})})));return s.mailAPIClient.request("launch.folder",{folderId:i,sortOrder:d,filter:_,count:T,offset:0,conversationsMode:C,mailboxId:R,attributesToFetch:h?l.Ncq:{}},{timeout:A}).then((({error:e,messageGroups:s,...a})=>{u((0,re.E3)({initialMailboxAttributes:t.mailboxAttributes,...a,listId:o,geminiAd:I,darlaAds:N,selectedMailbox:r,messageGroupList:s,optedOutMarketingProducts:f,...e&&{launchError:l.Rtf.FOLDER_ACCESS_FAILED}})),p&&(I?g.logSuccess():g.logFailure()),S(l.ANe.DARLA_PREFETCH_LAUNCH_SYNCER)&&!(0,E.jU)()&&O&&ue(O,N)})).catch((e=>u((0,re.c5)({error:e}))))},(e,t,s)=>{const{route:a,config:n={},mailboxAttributes:r,appName:o,selectedMailbox:i}=t;if(!a||t.unsyncedDataType!==l.sKi.LAUNCH||-1===[l.n8z.MESSAGE_FROM_LIST,l.n8z.MESSAGE_FROM_FOLDER_LIST,l.n8z.MESSAGE_FROM_SEARCH_LIST].indexOf(a.name))return Promise.resolve();const d=a.params,_=(0,D.LY)(a),u=decodeURIComponent(d.groupId),m=(0,D.Fh)(_),S=(0,D.WW)(_),p=(0,D.C4)(_),{value:C=[]}=r[l.CbW.SCOUT_ONBOARDING]||{},{pencilAd:A,conversations:T,messageFetchCountInitial:h,compactCompose:g=!1}=n,{dispatch:I,getState:R}=e,O=(0,Ae.Zo)(C),N=(0,Ae.yW)(C),f=i.id,M=!!r[l.CbW.MOBILE_SHOW_IMAGES]&&(!r[l.CbW.MOBILE_SHOW_IMAGES].value&&!N),L=!!r[l.CbW.BLOCK_IMAGES]&&(r[l.CbW.BLOCK_IMAGES].value&&!O),P=o===l.BQZ.MOBILE_APP?M:L,{isFeatureEnabled:y,getEnabledVerticals:b}=(0,c.selectors)(R());let F=null;A&&de(0,t,s).then((e=>{F=e}));let U,v=null;y(l.ANe.DARLA_PREFETCH_LAUNCH_SYNCER)&&!(0,E.jU)()&&(U=_e(a),Ee(e,t,s).then((e=>{v=e})));const w=b();return s.mailAPIClient.request("launch.messageGroup",{isConversation:T,messageGroupId:u,folderId:m,sortOrder:S,filter:p,count:h,offset:0,secure:P,mailboxId:f,attributesToFetch:g?l.Ncq:{},batchRelatedCards:y(l.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED),enabledVerticals:w}).then((function({messageGroups:e,messageBodiesMap:t,messageMetadataMap:s,messageGroupList:a,hasMoreItems:n,folderId:o,error:c,...d}){const u=me(d.relatedCardsMap);I((0,re.E3)({initialMailboxAttributes:r,...d,selectedMailbox:i,geminiAd:F,darlaAds:v,i13nModel:u,...c?{folderId:o,messageGroupList:a,hasMoreItems:n,launchError:l.Rtf.MESSAGE_ACCESS_FAILED}:{listId:_,messageGroups:e,messageBodiesMap:t,messageMetadataMap:s}})),y(l.ANe.DARLA_PREFETCH_LAUNCH_SYNCER)&&!(0,E.jU)()&&U&&ue(U,v)})).catch((e=>I((0,re.c5)({error:e}))))},(e,t,s)=>{const{route:a,encryptedQueryParams:n,selectedMailbox:r}=t;if(!a||t.unsyncedDataType!==l.sKi.LAUNCH||-1===[l.n8z.NEW_DRAFT,l.n8z.EDIT_DRAFT].indexOf(a.name))return Promise.resolve();const o=decodeURIComponent(a.params.csid),{dispatch:i,getState:d}=e,_=r.id,{isFeatureEnabled:u}=(0,c.selectors)(d()),m=u(l.ANe.MAIL_PLUS);let S,p=null;return u(l.ANe.DARLA_PREFETCH_LAUNCH_SYNCER)&&!(0,E.jU)()&&(S=_e(a),Ee(e,t,s).then((e=>{p=e}))),s.mailAPIClient.request("launch.compose",{csid:o,mailboxId:_,isMailPlusUser:m}).then((e=>{let s;(0,Y.Z)(o,"csid is required and should be in the url");const a={csid:o,initialTo:"",initialCc:"",initialBcc:"",initialSubject:"",initialBody:{}};if(e.message){const{id:n,headers:o,folder:{types:c,id:d}}=e.message;if(s=(0,D.Kw)(d),c[0]&&-1===c[0].indexOf(l.Sck.DRAFT)){const{id:s}=(0,oe.lS)(e.accounts,e.folders);return i((0,re.E3)({initialMailboxAttributes:t.mailboxAttributes,darlaAds:p,...e,selectedMailbox:r,folderId:s,launchError:l.Rtf.COMPOSE_ACCESS_FAILED})),u(l.ANe.DARLA_PREFETCH_LAUNCH_SYNCER)&&!(0,E.jU)()&&S&&ue(S,p),Promise.resolve()}Object.assign(a,{initialFrom:o.from,initialTo:o.to,initialCc:o.cc,initialBcc:o.bcc,initialSubject:o.subject,initialBody:{content:e.messageBodiesMap[n].html}})}i((0,re.E3)({initialMailboxAttributes:t.mailboxAttributes,...e,listId:s,darlaAds:p,selectedMailbox:r,draftData:a,encryptedQueryParams:n})),u(l.ANe.DARLA_PREFETCH_LAUNCH_SYNCER)&&!(0,E.jU)()&&S&&ue(S,p)})).catch((e=>i((0,re.c5)({error:e}))))},async(e,t,s)=>{const{route:a,config:n={},selectedMailbox:r}=t;if(!a)return Promise.resolve();const{dispatch:o,getState:i}=e,{isFeatureEnabled:d}=(0,c.selectors)(i());if(t.unsyncedDataType!==l.sKi.LAUNCH||!d(l.ANe.FOCUSED_INBOX)||a.name!==l.n8z.FOCUSED_INBOX)return Promise.resolve();const _=(0,D.LY)(a),u=(0,D.Fh)(_),m=(0,D.WW)(_),S=(0,D.C4)(_),p=(0,D.Er)(_),{pencilAd:C,conversations:A,launchFolderTimeout:T,messageFetchCountInitial:h,compactCompose:g=!1}=n,I=ce.Z.feature("gemini_server_prefetch",{routeName:a.name});let R=null;C&&(R=await de(0,t,s));const O=r.id;let N,f=null,M=null;var L;(d(l.ANe.DARLA_PREFETCH_LAUNCH_SYNCER)&&!(0,E.jU)()&&(N=_e(a),f=await Ee(e,t,s)),d(l.ANe.DISPATCHER_UPSELLS_ELIGIBLE)&&!(0,E.jU)())&&(null!==(L=t.memberProfileData)&&void 0!==L&&L.marketingpreferencesData?(M=(0,pe.A9)(t.memberProfileData.marketingpreferencesData),Se.Z.error("launch:marketingPreferences",{optedOutProducts:Object.keys(M||{}).join(",")})):(M=await s.marketingPreferencesAPIClient.request("readMemberProfilePreferences"),Se.Z.error("marketingPreferences",{optedOutProducts:Object.keys(M||{}).join(",")})));return(async()=>{try{const e=await s.mailAPIClient.request("launch.folder",{folderId:u,sortOrder:m,filter:S,count:h,offset:0,conversationsMode:A,mailboxId:O,attributesToFetch:g?l.Ncq:{}},{timeout:T}),a=(({jediResponse:e,falconResponse:t})=>({...e,messageGroups:t.messageGroups,hasMoreItems:t.hasMore}))({jediResponse:e,falconResponse:await s.falconAPIClient.getFocusedInbox(O,p,e.folderId,Ce.k)}),{error:n,messageGroups:i,...c}=a;o((0,re.E3)({initialMailboxAttributes:t.mailboxAttributes,...c,listId:_,geminiAd:R,darlaAds:f,selectedMailbox:r,messageGroupList:i,optedOutMarketingProducts:M,...n&&{launchError:l.Rtf.FOLDER_ACCESS_FAILED}}))}catch(e){o((0,re.c5)({error:e}))}C&&(R?I.logSuccess():I.logFailure()),d(l.ANe.DARLA_PREFETCH_LAUNCH_SYNCER)&&!(0,E.jU)()&&N&&ue(N,f)})()}],it=[(e,t,s)=>{const{dispatch:a,getState:n}=e,r=n(),{getDraftFolderIdByAccountEmail:o,getDraftFolderIdForPrimaryAccount:i,getFeaturesSelectors:d,getDraftMessageId:E,getGroupIdContainingMessageId:_,isSendRequested:u,doesComposeHaveFatalError:m}=(0,c.selectors)(r),{isEnabled:S}=d(),p=S(l.ANe.CONVERSATIONS),{from:C,csid:A,lastEditedTimeStamp:T,newContentIds:h=[],showNotification:g,unsyncedDataType:I,rawFiles:R={}}=t,O=g?"messages.saveV3":"messages.autoSaveV3";if(!A||I!==l.sKi.COMPOSE||u(A)||m(A)&&!g)return Promise.resolve();const N=v(r,t),L=o(C.email)||i(),y=(0,D.Kw)(L),b=h.filter((e=>R[e])),F={strategy:M.Z.STRATEGIES.BROWSER_TO_JEDI,timeout:0,...N.files.length?{uploadProgressCallback(e){const{percent:t}=e;w(a,{newFileContentIds:b,percent:parseInt(t,10),csid:A})}}:{}};return s.mailAPIClient.request(O,N,F,N.files).then((e=>{const{html:s,htmlAnnotations:n}=t,r=E(A);e.simpleBody={html:s,htmlAnnotations:n},a((0,f.gc)({...e,lastEditedTimeStamp:T,csid:A,listId:y,conversationsMode:p,draftMessageId:r,draftFolderId:L,previousStreamItem:{listId:y,id:_(r)},streamId:(0,P.BA)([y]),streamItem:{listId:y,id:p?e.message.conversationId:e.message.id}}))})).catch((e=>a((0,f.pl)({lastEditedTimeStamp:T,csid:A,listId:y,newContentIds:h,error:e,showNotification:g}))))},(e,t,s)=>{const{dispatch:a,getState:n}=e,r=n(),{getSendFolderIdByAccountEmail:o,getSendFolderIdForPrimaryAccount:i,getMessagesSelectors:d,getFeaturesSelectors:E,getDraftMessageId:_,getRoute:u,canSendDraft:m,getDraftErrors:S,isSendRequested:p,isSent:C,getMessageCsid:A,doesMessageIdExist:T,didAttachmentUploadFail:h,getGroupIdContainingMessageId:g,getMainStreamListIds:I,getReplyingToMessageId:R}=(0,c.selectors)(r),{isEnabled:O}=E(),{csid:D,from:N,lastEditedTimeStamp:L,attachmentsInfo:y=[],listId:b,unsyncedDataType:F}=t;if(!D||F!==l.sKi.COMPOSE||C(D)||!p(D))return Promise.resolve();const U=v(r,t);if(S(U))return Promise.reject();const w=u(),G=_(D),k=O(l.ANe.CONVERSATIONS),H=o(N.email)||i(),B=R(D),x=I(w),V=x[0],W=(0,P.BA)(x),Z=g(B||G),K=B&&T(B)?A(B):null,z={strategy:M.Z.STRATEGIES.BROWSER_TO_JEDI,timeout:0};if(U.sentFolderId=H,U.secure=!E().isEnabled(l.Zrf.SHOW_IMAGES),m({csid:D,lastEditedTimeStamp:L,attachmentsInfo:y})){let e;return k&&(e=d().getConversationId(G)),s.mailAPIClient.request("messages.send",{...U,messageId:G},z,U.files).then((t=>a((0,f.Wr)({...t,message:{...t.message,folder:{id:H},inReplyTo:U.inReplyTo,conversationId:e},route:w,csid:D,listId:V,streamId:W,...Z?{streamItem:{id:Z,listId:V,messageIds:[G||t.message.id]}}:null,destinationFolderId:H,lastEditedTimeStamp:L,sentFolderId:H,conversationsMode:k,inReplyToMessageCsid:K})))).catch((e=>a((0,f.lN)({csid:D,listId:b,groupId:Z,lastEditedTimeStamp:L,error:e}))))}const q=y.filter((e=>h(e.contentId)));return q.length?Promise.resolve().then((()=>{a((0,f.lN)({csid:D,lastEditedTimeStamp:L,listId:b,groupId:Z,error:{invalidAttachments:q}}))})):s.mailAPIClient.request("messages.saveAndSend",U,z,U.files).then((e=>a((0,f.qN)({...e,message:{...e.message,folder:{id:H}},csid:D,listId:V,streamId:W,...Z?{streamItem:{id:Z,listId:V,messageIds:[G||e.message.id]}}:null,destinationFolderId:H,lastEditedTimeStamp:L,sentFolderId:H,conversationsMode:k,inReplyToMessageCsid:K})))).catch((e=>a((0,f.lN)({csid:D,listId:b,groupId:Z,lastEditedTimeStamp:L,error:e}))))},function(e,t,s){const{dispatch:a,getState:n}=e,{getFeaturesSelectors:r,getSelectedMailboxId:o,getMessagesSelectors:i,isDraftMessage:d,isFeatureEnabled:E,getCurrentListId:_,getGroupIdContainingMessageId:u,getCardConversationIdsFromMessageGroupId:m,getFalconRelatedCardSelectors:S,getEnabledVerticals:p}=(0,c.selectors)(n()),C=o(),A=r(),{doRelatedCardsExistForGroupId:T}=S(),{isFallback:h=!1,messageIds:g=[],secure:I=!0,full:R=!1,messageGroupId:O,draftCsid:D,prefetchMode:N,retryCount:f=0,ineligibleFalconTOMGroupIds:M=[],firstMessageIds:L=[]}=t;if(t.unsyncedDataType!==l.sKi.MESSAGE_ITEM_TO_FETCH)return Promise.resolve();const P=_(),y=A.isEnabled("fetchFullBody"),b=A.isEnabled(l.ANe.CONVERSATIONS),F=A.isEnabled(l.ANe.DEALS),U=A.isEnabled(l.ANe.FLIGHT_CARD_EXTRACTIONS),v=A.isEnabled(l.ANe.RECEIPTS),w=A.isEnabled(l.ANe.PRODUCT_RECOMMENDATIONS),G=E(l.ANe.PKG_TRACKING_TOP_OF_MSG),{messageIds:k,draftMessageIds:H,cardConversationIds:B}=g.reduce((({messageIds:e,draftMessageIds:t,cardConversationIds:s},a)=>{const n=i().getCardConversationId(a);return d(a)?t.push(a):e.push(a),n&&(F||v||U||w||G)&&s.push(n),{messageIds:e,draftMessageIds:t,cardConversationIds:s}}),{messageIds:[],draftMessageIds:[],cardConversationIds:[]}),x=Boolean(H.length)||!b||R||y,V=function({shouldFetchFullBody:e,cardConversationIds:t=[],messageGroupId:s,isFallback:a,draftCsid:n,prefetchMode:r}){let o;if(o=r?e?"messages.prefetchGetBodiesFull":"messages.prefetchGetBodies":e?"messages.getBodiesFull":"messages.getBodies",t.length>0)switch(o){case"messages.getBodies":o="messages.getExtractedBodies";break;case"messages.getBodiesFull":o="messages.getExtractedBodiesFull";break;case"messages.prefetchGetBodies":o="messages.prefetchGetExtractedBodies";break;case"messages.prefetchGetBodiesFull":o="messages.prefetchGetExtractedBodiesFull"}return s?o="messageGroups.get":n&&(o="messages.getCompose"),a?o+"Fallback":o}({shouldFetchFullBody:x,cardConversationIds:B,messageGroupId:O,isFallback:h,draftCsid:D,prefetchMode:N}),W=p();let Z=!1;if("messages.getCompose"!==V&&(Z=E(l.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)),O||D)return s.mailAPIClient.request(V,{mailboxId:C,isConversation:b,messageGroupId:O,csid:D,cardConversationIds:m(O),full:x,secure:I,batchRelatedCards:Z,enabledVerticals:W}).then((e=>{const t=me(e.relatedCardsMap);a((0,Oe.P8)({listId:P,secure:I,full:x,messageGroup:e.messageGroup,messageBodiesMap:e.messageBodiesMap,messageMetadataMap:e.messageMetadataMap,response:e.response||{},ineligibleFalconTOMGroupIds:M,relatedCardsMap:e.relatedCardsMap,i13nModel:t}))})).catch((e=>{a((0,Oe.pc)({listId:P,messageGroupId:O,csid:D,error:e}))}));let K=[],z=[];return Z&&(z=L.filter((e=>{const t=u(e),s=T(t);return s||(K=K.concat([t])),!s})),z=z.concat(g.filter((e=>{const t=u(e),s=-1===K.indexOf(t),a=T(t);return s&&!a})))),s.mailAPIClient.request(V,{mailboxId:C,messageIds:k,draftMessageIds:H,cardConversationIds:B,full:x,secure:I,prefetchMode:N,batchRelatedCards:Z,enabledVerticals:W,messagIdsToFetchCards:z},{retryCount:f}).then((e=>{let t=e.result.relatedCardsMap;t=Object.keys(t||{}).reduce(((e,s)=>{const a=u(s);return a?e[a]=t[s]:e[s]=t[s],e}),{});const s=me(t);a((0,Oe.Bz)({listId:P,full:x,secure:I,messageBodiesMap:e.result.messageBodiesMap,messageMetadataMap:e.result.messageMetadataMap,errorMessageIds:e.error&&e.error.messageIds||[],response:e.result.response||{},ineligibleFalconTOMGroupIds:M,relatedCardsMap:t,i13nModel:s}))})).catch((e=>{a((0,Oe.uq)({listId:P,messageIds:g,error:e}))}))},function(e,t,{bootcampClient:s}){const{dispatch:a,getState:n}=e,{doesSelectedAccountExist:r,getRoute:o,getEmailOfSelectedAccount:i,getListsSelectors:d,getAppName:E,getSetting:_,isFeatureEnabled:u,getPrescribedNumberOfColumns:m}=(0,c.selectors)(n()),{doesListExist:S,getListStatus:p}=d(),C=o();let{listId:A}=t;const T=u(l.ANe.SHOW_RECENT_SUGGESTIONS),g=E()===l.BQZ.MOBILE_APP,I=2===m(),R=C.name===l.n8z.SEARCH||g&&I&&C.name===l.n8z.MESSAGE_FROM_SEARCH_LIST,O=u(l.ANe.SECOND_SEARCH_AD)&&!u(l.ANe.SAME_SEARCH_AD_ON_SECOND_PENCIL)?2:1;if(t.unsyncedDataType!==l.sKi.CONTACT_DETAILS&&(A=(0,D.LY)(C)),(t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||!R||t.listId!==A||(0,He.lX)(A)||S(A)&&p(A)!==l.DAQ.DOES_NOT_EXIST&&!t.isStale)&&t.unsyncedDataType!==l.sKi.CONTACT_DETAILS)return Promise.resolve();const N=r()?i():null;return N?new Promise(((e,t)=>{let r={apiName:"searchStream"};const o=u(l.ANe.PLA_SEARCH_ADS),i=_(o?l.Zrf.PLA_SEARCH_SOURCE_TAG:l.Zrf.SEARCH_SOURCE_TAG),d=!(0,D.GG)(A)&&T,E={...(0,D.Ie)(A,{plaAdsEnabled:o}),limit:_(l.Zrf.SEARCH_FIRST_PAGE_COUNT),threads:u("conversations"),accountemail:`smtp:${N}`,sourceTag:i,ui:d?1:0,device:g?"phone":"desktop"};E.ac=u(l.ANe.ADS)&&u(l.ANe.PENCIL_AD)&&(E.expand||"").split(",").some((e=>[l.ZyO.AL,l.ZyO.PLA].indexOf(e)>-1))?O:0,u(l.ANe.FILTER_COMMERCIAL_IMAGES)&&(E.fci=!0);const m=s.createStream("searchStream",E,(e=>r=e));m.on("data",(e=>{if(200!==e.status&&e.error&&"BootcampApiClient.SearchError"===e.error.name){we.Z.feature("bootcamp_client_stream_call",r).logFailure(e.error)}else{const t={listId:A,response:e};let s=0;if(e.ADS||e.PLAADS){s=(0,h.u9)(e,"ADS.WITH_KEYWORD.items",[]).length;const a=(0,h.u9)(e,"PLAADS.WITH_KEYWORD.items",[]).length,n={mKey:x.JE.SEARCH_AD_FETCHED,sec:x.nJ.MSG_LIST_AD,interactionType:x.Rb.nav,actionData:{keyword:(0,D.Q7)(A),searchAdCount:s,plaAdCount:a}};Object.assign(t,{i13nModel:n})}if(u(l.ANe.ADS)){Se.Z.feature("bootcamp_search_ad_response",{appName:l.BQZ.MAIL_APP,searchAdCount:s,sourceTag:_(l.Zrf.SEARCH_SOURCE_TAG)}).logSuccess()}a((0,ve.o2)(t))}})),m.on("end",(()=>{const{getListsSelectors:t}=(0,c.selectors)(n()),{doesListExist:s,isListEmpty:o,getListStatus:i}=t();if(s(A)&&i(A)!==l.DAQ.LOADING){const t=o(A),s=(0,D.aY)(A),n={listId:A,navigateFromToAll:t&&!s&&(0,D.C4)(A)===l.ukn.FROM,streamId:A,addToRecentSearch:d};t&&!s&&(0,D.WN)(A)===l.F6k.MESSAGES&&(n.i13nModel={isBeaconEvent:!0,eventName:x.fS.SEARCH_ZERO_RESULTS,etrg:x.OI.CHANGE,outcome:x.pf.SEARCH}),a((0,ve.Y$)(n)),e()}else{const e=Object.assign({},r,{searchType:(0,D.lG)(A)?"contact":"keyword",query:(0,D.Q7)(A)});a((0,ve.Ac)({listId:A})),(0,Ge.apiErrorLogger)(we.Z,l.BrN.BootcampClient,e,new ke.Z("BootcampApiClient.SearchChunkError",{errorCode:"SEARCH_CHUNK_ERROR"}))}})),m.on("error",(e=>{e=s.handleCommonError(e,"mailSearch"),a((0,ve.Ac)({listId:A,error:e})),t(e)}))})):Promise.resolve()},function(e,t,{bootcampClient:s}){const{dispatch:a,getState:n}=e,{doesSelectedAccountExist:r,getRoute:o,getEmailOfSelectedAccount:i,getFeaturesSelectors:d,getListsSelectors:E}=(0,c.selectors)(n()),{doesListExist:_,getListStatus:u}=E(),{getSetting:m,isEnabled:S}=d(),p=o(),C=(0,D.LY)(p);if(t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||!(0,He.lX)(C)||t.listId!==C||_(C)&&u(C)!==l.DAQ.DOES_NOT_EXIST&&!t.isStale||S(l.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return Promise.resolve();const A=r()?i():null;if(!A)return Promise.resolve();const T={...(0,D.Ie)(C),accountemail:`smtp:${A}`,limit:m(l.Zrf.SEARCH_FIRST_PAGE_COUNT),listContentType:(0,D.WN)(C),mimeType:(0,D.I1)(C),threads:S("conversations")},h=(0,D.WN)(C),g=(0,D.C4)(C);return s.request("attachmentsViewApi",{...T}).then((e=>{a((0,ve.o2)({listId:C,response:{[h]:{[g]:e}}}))})).catch((e=>{a((0,ve.Ac)({listId:C,error:e}))}))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getFeaturesSelectors:i,getSelectedAccountId:d,getRoute:E,getFolderHighestModSeq:_,isAppVisible:u,getFolderIdsByFolderTypeForAccount:m,getStaleFolderIds:S,shouldUpdateFolders:p,getListsSelectors:C,getAccountSelectors:A,isComposeFocused:T,getAdsSelectors:h,isOldNewMailInboxStyle:g}=(0,c.selectors)(r()),{getSetting:I,isEnabled:R}=i(),{getCheckMailAdRotationIdleTimestamp:O}=h(),N=E(),f=(0,D.LY)(N),{doesListExist:M,getListStatus:L}=C(),P=(0,D.Fh)(f),y=(0,D.SH)(N),b=N.name===l.n8z.SEARCH,F=o(),{getPrimaryAccountId:U}=A();if(t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||!P&&!y&&(0,D.aY)(f)!==l.qd8.FOCUSED_INBOX||(0,D.yE)(f)||(0,D.WN)(f)===l.F6k.SENDERS||!F||b)return Promise.resolve();const v=(0,D.WW)(f),w=(0,D.C4)(f),G=(0,D.JO)(f),k=d(),[H]=m(l.Sck.ALERTSTORE,U()),B=I(l.Zrf.MESSAGE_FETCH_COUNT),x=R(l.ANe.CONVERSATIONS),V=g(),W=R(l.ANe.IS_REINDEXABLE),Z=V&&(0,D.AU)(N)&&!W,K=u(),z=R(l.ANe.NO_HIDDEN_CHECK_MAIL_AD_ROTATIONS),q=R(l.ANe.NO_IDLE_CHECK_MAIL_AD_ROTATIONS),Y=I(l.Zrf.CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL),j=Date.now()-O()>Y,Q=m(l.Sck.INBOX,d()),X=R(l.ANe.ROTATE_ADS_ON_CHECK_MAIL)&&(!q||!j)&&(!z||K)&&!T(),J={highestModSeq:t.isStale||y?0:_(P),resetUnseenCount:K,alertStoreHighestModSeq:H?_(H):0,accountId:k,folderId:P,mailboxId:F,sortOrder:v,filter:w,count:B,offset:0,conversationsMode:x,excludeFolderTypes:G,shouldSelectAll:Z},$=M(f)&&L(f)!==l.DAQ.DOES_NOT_EXIST;return $&&(0,D.ft)(f)&&(0,D.kw)(f)===l.K8C.NEWMAIL&&!t.forceSync?Promise.resolve():(0,D.aY)(f)===l.qd8.FOCUSED_INBOX&&N.name===l.n8z.FOCUSED_INBOX?s.falconAPIClient.getFocusedInbox(F,k,Q,Ce.k).then((({messageGroups:e,folders:s,accountAlerts:r})=>{const o=s?S(s):[];n({type:a.CHANGE_FOLDER_SUCCEEDED,folders:s,staleFolderIds:o,accountAlerts:r,listId:f,streamId:f,messageGroupList:e,hasMoreItems:!1,conversationsMode:x,isAppVisible:K,rotateAds:$&&X,userInitiated:t.userInitiated})})).catch((e=>{n({type:$?a.CHECK_MAIL_FAILED:a.CHANGE_FOLDER_FAILED,listId:f,error:e})})):s.mailAPIClient.request($?"checkMail":"folderChange.getList",J).then((function({folders:e,accountAlerts:s,messageGroupList:r,hasMoreItems:o}){const i=e?S(e):[];if(!t.isStale&&$&&!i.length&&!p(e))return t.forceSync&&n({type:a.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES,listId:f,rotateAds:X,userInitiated:t.userInitiated}),Promise.resolve();n({type:$?a.CHECK_MAIL_RECEIVED_WITH_UPDATES:a.CHANGE_FOLDER_SUCCEEDED,folders:e,staleFolderIds:i,accountAlerts:s,listId:f,streamId:f,messageGroupList:r,hasMoreItems:o,conversationsMode:x,isAppVisible:K,rotateAds:$&&X,userInitiated:t.userInitiated})})).catch((function(e){n({type:$?a.CHECK_MAIL_FAILED:a.CHANGE_FOLDER_FAILED,listId:f,error:e})}))},function(e,t,s){const{dispatch:a,getState:n}=e,{getRoute:r,getSelectedMailboxId:o,getSelectedAccountId:i}=(0,c.selectors)(n());if(t.unsyncedDataType!==l.sKi.SYNC_NOW)return Promise.resolve();const d=r(),E=(0,D.LY)(d),_={accountId:t.accountId||i(),folderId:(0,D.Fh)(E),mailboxId:o()};return s.mailAPIClient.request("mailbox.syncNow",_).then((e=>{const{syncData:t={},error:s}=e;if(s)a((0,X.bx)({error:s}));else{Se.Z.feature("sync_now_response",{syncedMessages:t.syncedMessages,lastSyncTime:t.lastSyncTime}).logSuccess(),a((0,X.ze)({syncData:t}))}})).catch((e=>{a((0,X.bx)({error:e}))}))},(e,t,s)=>{const{dispatch:a,getState:n}=e,{getAdsSelectors:r}=(0,c.selectors)(n()),{getGeminiAdDataFromCreativeId:o}=r();if(t.dataType!==l.sKi.GEMINI_AD_ASSET)return Promise.resolve();const{creativeId:i,url:d}=t;return s.geminiAPIClient.getSponsoredAsset({url:d}).then((e=>{let t=e.text||"";const{nativeAd:s={}}=o(i)||{},{embeddedLandingUrls:n={}}=s;Object.keys(n).forEach((e=>{const{url:s="",landingPage:a="",label:r}=n[e];if("fsubmit"!==r){const n=s.replace("$(AD_POSN)",encodeURIComponent("pp=n,pi=1,st=p"));t=t.replace(`${a}#$embeddedLandingUrl_${e}`,n)}})),a((0,ae.XC)({creativeId:i,asset:t}))})).catch((e=>a((0,ae.Fb)({creativeId:i,error:e,url:d}))))},(e,t,s)=>{const{dispatch:a}=e;return t.dataType!==l.sKi.RELATED_SEARCHES_TO_FETCH?Promise.resolve():s.relatedSearchesAPIClient.request().then((e=>a((0,Fe.FW)({queries:(0,h.u9)(e,"body.queriesPerDomain",{})})))).catch((e=>a((0,Fe.E8)(e))))},function({dispatch:e,getState:t},{unsyncedDataType:s="",cardConversationId:a=""},{mailAPIClient:n}){if(s!==l.sKi.PARENT_MESSAGE_TO_FETCH)return Promise.resolve();const{getSelectedMailboxId:r,getCurrentListId:o}=(0,c.selectors)(t()),i=r();return n.request("couponCards.getParentMessage",{mailboxId:i,cardConversationId:a}).then((([t])=>{e((0,R.is)({listId:o(),hasMoreItems:!1,messageGroup:t}))})).catch((t=>e((0,R.sv)(t))))},function({dispatch:e,getState:t},s,a){const{wssid:n,accountId:r,unsyncedDataType:o,email:d,provider:E}=s;if(o!==l.sKi.ACCOUNT_TO_REAUTH)return Promise.resolve();const{getMailboxesSelectors:_}=(0,c.selectors)(t()),u={...n?{wssid:n}:{}},{id:m}=_().getExpiredAccountAlert(r);return m?a.mailAPIClient.request("account.updateAlerts",{alertId:m},u).then((({accountAlerts:t})=>{t&&t.length>0?e((0,i.MM)({accountAlerts:t,accountId:r})):e((0,i.NO)({accountId:r}))})).catch(((t={})=>{e((0,i.NO)({error:t.statusCode,provider:E,email:d,accountId:r}))})):Promise.reject(new Error(`AlertId not found for account: ${r} to update alerts`))},Xe,async(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e;if(a!==l.sKi.CONTACTS_IMPORT_CSV)return Promise.resolve();const{name:r,file:o,unsyncedDataItemTimestamp:i}=t;try{const e=await s.autoSuggestClient.importContactsFromCsv({filename:r,csvfile:o});n((0,k.sT)({response:e,unsyncedDataItemTimestamp:i}))}catch(c){n((0,k.lB)({error:c,unsyncedDataItemTimestamp:i}))}},async(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e;if(a!==l.sKi.CONTACTS_SNAPSHOT_FETCH)return Promise.resolve();try{const e=await s.autoSuggestClient.fetchContactsSnapshot();n((0,k.JC)({snapshots:e}))}catch(r){n((0,k.HQ)({error:r}))}},async(e,t,s)=>{const{unsyncedDataType:a,snapshotId:n}=t,{dispatch:r}=e;if(a!==l.sKi.CONTACTS_RESTORE)return Promise.resolve();try{const e=await s.autoSuggestClient.restoreContacts({snapshotId:n});r((0,k.oF)(e))}catch(o){r((0,k.nW)({error:o}))}},(e,t,s)=>{const{unsyncedDataType:a,listId:n,sortOrder:r}=t,{dispatch:o}=e;return a!==l.sKi.FETCH_ALL_CONTACTS?Promise.resolve():s.autoSuggestClient.printContacts({sort_by:l.K24[r]}).then((e=>o((0,H.vc)({contacts:e,listId:n})))).catch((e=>o((0,H.i)({error:e,listId:n}))))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.CONTACT_CARD)return Promise.resolve();const{dispatch:a,getState:n}=e,{isFeatureEnabled:r}=(0,c.selectors)(n()),{emails:o,isPrefetch:i}=t;return s.autoSuggestClient.contactDetails({emails:o,isPrefetch:i}).then((e=>{var t;let s={};if(r(l.ANe.CONTACT_CARD_TRACKING)&&(null==e||null===(t=e[0])||void 0===t||!t.website)){const e=(null==o?void 0:o[0])||"",t=e.split("@")[1];s={mKey:x.JE.CONTACT_CARD_LOAD_FAILED,sec:x.nJ.RIGHT_RAIL,actionData:{domain:t,email:e}}}a((0,k.ow)({contacts:e,i13nModel:s,emails:o}))})).catch((()=>{a((0,k.iC)({emails:o}))}))},async(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.ENHANCE_CONTACTS_PREFERENCE_FETCH)return;const{dispatch:a}=e;try{const e=await s.autoSuggestClient.getEnhanceContactsPreference();a((0,B.Gp)({enabled:e}))}catch(n){a((0,B.TK)({error:n}))}},async(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.ENHANCE_CONTACTS_PREFERENCE_CHANGE)return;const{dispatch:a}=e,{enabled:n}=t;try{await s.autoSuggestClient.setEnhanceContactsPreference(n),a((0,B.eV)({enabled:n}))}catch(r){a((0,B.$Y)({error:r}))}},(e,t,s)=>{const{unsyncedDataType:a,listId:n,count:r}=t,{dispatch:o,getState:i}=e;if(a!==l.sKi.CONTACTS_LIST)return Promise.resolve();if((0,D.C4)(n)!==l.ukn.TOP_CONTACTS)return Promise.resolve();const{getEmailOfSelectedAccount:d}=(0,c.selectors)(i()),E=d();return s.autoSuggestClient.topContacts({email:E,maxCount:r}).then((e=>o((0,k.Vj)({listId:n,contacts:e,unsyncedDataType:a})))).catch((e=>o((0,k.hV)({error:e,listId:n,unsyncedDataType:a}))))},(e,t,s)=>{const{unsyncedDataType:a,listId:n,count:r,characters:o,fetchGroupContactsNext:i,sortOrder:c=l.bW1.FIRST_NAME}=t,{dispatch:d}=e;if([l.sKi.CONTACTS_LIST,l.sKi.CONTACTS_CATEGORY_LIST].indexOf(a)<0)return Promise.resolve();return(0,D.C4)(n)!==l.ukn.USER_CREATED_CONTACTS?Promise.resolve():s.autoSuggestClient.alphabeticalContacts({count:r,characters:o,group_by:l.K24[c]}).then((({contacts:e,groups:t,groupIds:s})=>d((0,k.Vj)({listId:n,contacts:e,groups:t,groupIds:s,characters:o,count:r,unsyncedDataType:a,fetchGroupContactsNext:i})))).catch((e=>d((0,k.hV)({error:e,listId:n,characters:o,count:r,unsyncedDataType:a}))))},(e,t,s)=>{const{unsyncedDataType:a,listId:n,sortOrder:r}=t,{dispatch:o}=e;if(a!==l.sKi.CONTACTS_LIST)return Promise.resolve();const i=(0,D.C4)(n),c=(0,D.Q7)(n);return i===l.ukn.GROUPS&&c&&c!==l.c8t?s.autoSuggestClient.contactsInGroup({groupId:c,sort_by:l.K24[r]}).then((e=>{o((0,k.Np)({listId:n,...e,unsyncedDataType:a}))})).catch((e=>{o((0,k.ll)({error:e,listId:n,unsyncedDataType:a}))})):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a,listId:n,fetchGroupContactsNext:r}=t,{dispatch:o}=e;if(a!==l.sKi.CONTACTS_LIST)return Promise.resolve();const i=(0,D.C4)(n),c=(0,D.Q7)(n);return i!==l.ukn.GROUPS||c?Promise.resolve():s.autoSuggestClient.contactGroupsList().then((({groups:e,groupIds:t})=>{o((0,k.Vj)({listId:n,groups:e,groupIds:t,unsyncedDataType:a,fetchGroupContactsNext:r}))})).catch((e=>{o((0,k.hV)({error:e,listId:n,unsyncedDataType:a}))}))},(e,t,s)=>{const{unsyncedDataType:a,listId:n,groupId:r,newName:o,addedEndpoints:i,removedEndpoints:c,oldGroup:d}=t,{dispatch:E}=e;return a!==l.sKi.CONTACTS_GROUP_EDIT?Promise.resolve():s.autoSuggestClient.editContactGroup({groupId:r,newName:o,addedEndpoints:i,removedEndpoints:c}).then((()=>{E((0,k.Yo)({listId:n}))})).catch((e=>{E((0,k.kl)({error:e,listId:n,id:r,oldGroup:d}))}))},(e,t,s)=>{const{unsyncedDataType:a,tempListId:n,tempGroupId:r,name:o,endpoints:i}=t,{dispatch:c}=e;return a!==l.sKi.CONTACTS_GROUP_CREATE?Promise.resolve():s.autoSuggestClient.createContactGroup({name:o,endpoints:i}).then((e=>{c((0,k.QU)({tempListId:n,id:e,tempGroupId:r,newListId:(0,D.tE)(n,{keyword:e})}))})).catch((e=>{c((0,k.rg)({error:e,tempListId:n,tempGroupId:r}))}))},Pe,(e,t,s)=>{const{unsyncedDataType:a,listId:n}=t,{dispatch:r}=e;if(a!==l.sKi.CONTACTS_LIST)return Promise.resolve();const o=(0,D.ci)(n);return o?s.autoSuggestClient.simpleContactsSearch({query:o}).then((e=>r((0,k.Vj)({listId:n,contacts:e,unsyncedDataType:a})))).catch((e=>r((0,k.hV)({error:e,listId:n,unsyncedDataType:a})))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a,provider:n,spid:r,appRootPath:o,scope:i}=t,{dispatch:c}=e;return a!==l.sKi.SOCIAL_ACCOUNT_AUTH_URL?Promise.resolve():((0,E.jU)()||(0,Y.Z)("Credstore social account linking needs be called from the browser"),s.credstoreClient.link({provider:n,spid:r,redirectUri:`https://${window.location.host}${o}/oAuth`,isCorpUser:window.AppBootstrapData.partner===l.rRt,scope:i}).then((({authorizationURL:e})=>c((0,qe.JB)({url:e,provider:n})))).catch((e=>c((0,qe.S$)({error:e,provider:n})))))},(e,t,s)=>{const{unsyncedDataType:a,provider:n,enable:r}=t,{dispatch:o}=e;return a===l.sKi.SOCIAL_ACCOUNT_IMPORT&&l.Nq8[n]?s.autoSuggestClient.triggerProfileImport({provider:n}).then((()=>o((0,qe.nK)({provider:n,enable:r})))).catch((e=>o((0,qe.pt)({provider:n,error:e,enable:r})))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e;return a!==l.sKi.SOCIAL_ACCOUNT_STATUS?Promise.resolve():s.autoSuggestClient.formatted().then((e=>n((0,qe.eU)({response:e})))).catch((e=>n((0,qe.ah)({error:e}))))},(e,t,s)=>{const{unsyncedDataType:a,itemsToUpdate:n,listsToUpdate:r}=t,{dispatch:o}=e;return a===l.sKi.CONTACT_DELETE&&n.filter((({isAffected:e})=>e)).length?s.autoSuggestClient.deleteContacts({editTokenList:n.map((({editToken:e})=>e))}).then((()=>{o((0,k.Qx)({itemsToUpdate:n,listsToUpdate:r}))})).catch((e=>o((0,k.zh)({error:e,itemsToUpdate:n,listsToUpdate:r})))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a,groupId:n}=t,{dispatch:r}=e;return a!==l.sKi.CONTACT_GROUP_DELETE?Promise.resolve():s.autoSuggestClient.contactsGroupDelete({groupId:n}).then((()=>r((0,k.cj)({groupId:n})))).catch((e=>{r((0,k.LF)({error:e,groupId:n}))}))},(e,t,s)=>{const{unsyncedDataType:a,newContact:n,image:r,timestamp:o}=t,{dispatch:i}=e;return a!==l.sKi.CONTACT_CREATE?Promise.resolve():s.autoSuggestClient.createContact({newContact:n,image:r}).then((e=>i((0,H.q$)({contact:e,timestamp:o})))).catch((e=>i((0,H.Y_)({error:e,contact:n,timestamp:o}))))},(e,t,s)=>{const{unsyncedDataType:a,oldContact:n,newContact:r,skipContactDiffCheck:o}=t,{dispatch:i}=e;return a!==l.sKi.CONTACT_SAVE?Promise.resolve():s.autoSuggestClient.contactDetailsEdit({oldContact:n,newContact:r,skipContactDiffCheck:o}).then((e=>i((0,H.GJ)({contact:e})))).catch((e=>i((0,H.Ks)({error:e,contact:n}))))},(e,t,s)=>{const{unsyncedDataType:a,editToken:n,image:r,id:o}=t,{dispatch:i}=e;return a===l.sKi.CONTACT_PHOTO_UPLOAD&&n?s.autoSuggestClient.contactUploadPhoto({editToken:n,image:r}).then((e=>i((0,H.aB)({contact:e})))).catch((e=>i((0,H.hB)({error:e,contact:{image:r,id:o}})))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e;return a!==l.sKi.IMPORT_CONTACTS_PROVIDERS_STATUS?Promise.resolve():s.autoSuggestClient.contactProvidersStatus().then((e=>n((0,qe.OP)({response:e})))).catch((e=>n((0,qe.z_)({error:e}))))},(e,t,s)=>{const{unsyncedDataType:a,provider:n,spid:r,enable:o}=t,{dispatch:i}=e;return a!==l.sKi.SOCIAL_ACCOUNT_IMPORT||l.AJg.indexOf(n)<0?Promise.resolve():s.autoSuggestClient.toggleContactsProviderImporter({provider:n,spid:r,enable:o}).then((()=>i((0,qe.nK)({provider:n,enable:o})))).catch((e=>i((0,qe.pt)({provider:n,error:e,enable:o}))))},(e,t,s)=>{const{unsyncedDataType:a,listId:n,count:r}=t,{dispatch:o}=e;if(a!==l.sKi.CONTACTS_LIST)return Promise.resolve();const i=(0,D.C4)(n),c=(0,D.Q7)(n);if(i!==l.ukn.GROUPS||!c||c!==l.c8t)return Promise.resolve();const d=(0,D.h_)(n);return s.autoSuggestClient.userCuratedEndpoints({endpointTypes:["smtp"],query:d,count:r}).then((e=>{o((0,k.Np)({listId:n,...e,unsyncedDataType:a}))})).catch((e=>{o((0,k.ll)({error:e,listId:n,unsyncedDataType:a}))}))},function({dispatch:e},t,s){const{baseName:a,domain:n,unsyncedDataType:r}=t;return r!==l.sKi.BASENAME_TO_CREATE?Promise.resolve():s.mailAPIClient.request("settings.setBaseNameJWS",{baseName:a,domain:n}).then((()=>{e((0,B.yO)(t))})).catch((s=>e((0,B.XP)({...t,err:s}))))},function({dispatch:e},t,s){const{baseName:a,unsyncedDataType:n}=t;return n!==l.sKi.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH?Promise.resolve():s.mailAPIClient.request("settings.getDEABaseNameSuggestions",{baseName:a}).then((({suggestions:s})=>{s&&s.length&&e((0,B.e9)({...t,suggestions:s}))})).catch((s=>e((0,B.ad)({...t,err:s}))))},(e,{unsyncedDataType:t,taskId:s,pollCount:a=0,progress:n,abort:r,actionPayload:o},i)=>{if(t!==l.sKi.ASYNC_TASK_STATUS)return Promise.resolve();const{dispatch:d,getState:E}=e,{getFeaturesSelectors:_}=(0,c.selectors)(E()),u=_().getSetting(l.Zrf.ASYNC_TASK_POLL_COUNT);if(!s)return Promise.resolve();const{successAction:m,failureAction:S,allSelected:p,streamId:T,itemsToUpdate:h,triageActionType:g,folderId:I,count:R,conversations:O}=o,D=T&&h?A({streamId:T,itemsToUpdate:h}):void 0;return r?i.mailAPIClient.request("task.abort",{taskId:s}).then((()=>d({...m,undoAction:m.undoAction||D,progress:n}))).catch((()=>d((0,C.td)({triageActionType:g,folderId:I,count:R,conversations:O,taskId:s,progress:n})))):a>=u?(d((0,C.Kf)({taskId:s})),Promise.resolve()):i.mailAPIClient.request("task.status",{taskId:s}).then((({task:e})=>{switch(e.status){case l.sZ3.PENDING:return d((0,C.u8)({...e,pollCount:a+1}));case l.sZ3.COMPLETED:return d({...m,undoAction:m.undoAction||D,progress:e.progress});case l.sZ3.FAILED:return e.progress>0?d({...m,undoAction:m.undoAction||D,progress:e.progress}):d(S);default:return d(S)}})).catch((()=>d(n>0&&p?{...m,undoAction:m.undoAction||D,progress:n}:S)))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.FOLDER)return Promise.resolve();const{updateType:n}=t;return n===a.RENAME_FOLDER_REQUESTED?((e,t,s)=>{const{dispatch:a,getState:n}=e,{folderId:r,folderName:o,filters:i,originalFolderName:l,newFolderName:d,subfolders:E}=t,_=(0,c.selectors)(n()).getSelectedMailboxId();return s.mailAPIClient.request("folders.rename",{mailboxId:_,folderId:r,folderName:o,filters:i,subfolders:E}).then((({folder:e,subfolders:t})=>{a((0,se.Yf)({folder:e,subfolders:t,folderId:r,originalFolderName:l,newFolderName:d}))})).catch((e=>{a((0,se.VG)({folderId:r,newFolderName:d,originalFolderName:l,error:e}))}))})(e,t,s):n===a.MOVE_FOLDER_REQUESTED?((e,t,s)=>{const{dispatch:a,getState:n}=e,{folderId:r,folderName:o,filters:i,originalFolderName:l,subfolders:d}=t,E=(0,c.selectors)(n()).getSelectedMailboxId();return s.mailAPIClient.request("folders.rename",{mailboxId:E,folderId:r,folderName:o,filters:i,subfolders:d}).then((({folder:e,subfolders:t})=>{a((0,se.oM)({folder:e,subfolders:t,folderId:r,originalFolderName:l}))})).catch((e=>{a((0,se._r)({folderId:r,originalFolderName:l,error:e}))}))})(e,t,s):n===a.DELETE_FOLDER_REQUESTED?((e,t,s)=>{const{dispatch:a}=e,{folderId:n,folderName:r,i13nModel:o={}}=t;return s.mailAPIClient.request("folders.delete",{folderId:n}).then((()=>{a((0,se.vx)({folderId:n,folderName:r,i13nModel:o}))})).catch((e=>{a((0,se.Me)({folderId:n,folderName:r,error:e}))}))})(e,t,s):Promise.resolve()},function({dispatch:e},{location:t,unsyncedDataType:s},a){if(s!==l.sKi.LOCATION_TO_UPDATE)return Promise.resolve();const n=Ze().determine(),r=n&&n.name();(0,E.jU)()&&new Ke.a({window}).determineClientTimeZone();const o=[{id:l.CbW.TIMEZONE,value:`${t.timezone.name}|${t.city||""}|${t.state||""}|${t.country||""}`},{id:l.CbW.LAST_OBSERVED_TIMEZONE,value:`${r||""}|${t.timezone.name||""}`}];return a.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:o}).then((()=>{e((0,B.Gz)({})),window.setTimeout((()=>window.location.reload()),1500)}),(t=>e((0,B.iP)({err:t}))))},function({dispatch:e,getState:t},{value:s,unsyncedDataType:a},n){if(a!==l.sKi.CONVERSATION_MODE_TO_UPDATE)return Promise.resolve();const{getFeaturesSelectors:r,isMobileRoute:o}=(0,c.selectors)(t()),i=r().getSetting(l.Zrf.TOGGLE_CONV_RELOAD_DELAY),d=o()?l.CbW.MOBILE_CONVERSATIONS:l.CbW.CONVERSATIONS;return n.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:d,value:s}]}).then((()=>{e((0,B.qS)({value:s})),window.setTimeout((()=>window.location.reload()),i)})).catch((t=>e((0,B.iQ)({err:t}))))},Le,(e,t,s)=>{const{dispatch:a,getState:n}=e,{messageId:r,messageIds:o,unsyncedDataType:i}=t,{getAttachmentsByMessageId:d,getCalendarSelectors:E,isMobileRoute:_}=(0,c.selectors)(n()),{getInviteStatus:u}=E();if(i!==l.sKi.MESSAGE_ITEM_TO_FETCH&&i!==l.sKi.RSVP_FETCH||_())return Promise.resolve();const m={},S=[];if((o||[r]).forEach((e=>{const t=((e,t,s)=>{const{SubTypes:a}=l.sSc,n=t(e);if("READY"===s(e))return null;const r=n.find((e=>{const t=(0,h.u9)(e,"subtype","");return t===a.ICS||t===a.CALENDAR}));return r?{downloadUrl:r.downloadUrl}:null})(e,d,u);t&&(S.push(e),m[e]=t)})),null==S||!S.length)return Promise.resolve();const p=[],C={},A=[],g={};return s.calendarClient.getInviteInfo(m[S[0]]).then((e=>(null!=e&&e.startTime&&null!=e&&e.endTime&&null!=e&&e.uid?(A.push(S[0]),g[S[0]]=e):(p.push(S[0]),C[S[0]]=new Error("Mandatory field missing")),S.shift(),Promise.all(S.map((e=>s.calendarClient.getInviteInfo(m[e]).catch((e=>e)))))))).catch((e=>(p.push(S[0]),C[S[0]]=e,S.shift(),Promise.all(S.map((e=>s.calendarClient.getInviteInfo(m[e]).catch((e=>e)))))))).then((e=>{e.forEach(((e,t)=>{e?e.startTime&&e.endTime&&e.uid?(A.push(S[t]),g[S[t]]=e):(p.push(S[t]),C[S[t]]=new Error("Mandatory field missing")):(p.push(S[t]),C[S[t]]=new Error("Fetching Error"))})),p.length>0&&a((0,T.tG)({messageIds:p,errors:C})),A.length>0&&a((0,T.RO)({messageIds:A,inviteInfoGroup:g}))})).catch((e=>a((0,T.tG)({messageIds:S,errors:S.map((()=>e))}))))},(e,t,s)=>{if(t.dataType!==l.sKi.RAW_MESSAGE)return Promise.resolve();const{messageId:a}=t,{getState:n}=e,{getSelectedMailboxId:r,getEnvironmentSelectors:o}=(0,c.selectors)(n()),i=r(),{wssid:d,appId:E}=s.mailAPIClient,_=s.mailAPIClient.ymreqidGenerator.generate(),u=`https://${o().getEndpoint(l.ANM.JWS_HOST)}/ws/v3/mailboxes/@.id==${i}/messages/@.id==${a}/content/rawplaintext?appId=${E}&ymreqid=${_}&wssid=${d}`;return window.open(u,"_blank"),Promise.resolve()},(e,t,s)=>{if(t.dataType!==l.sKi.RAW_MESSAGE_TO_FETCH)return Promise.resolve();const{messageId:a}=t,{getState:n,dispatch:r}=e,{getSelectedMailboxId:o}=(0,c.selectors)(n()),i=o();return s.mailAPIClient.request("messages.getRawMessage",{mailboxId:i,messageId:a}).then((e=>r((0,Oe.BE)({rawMessage:e,messageId:a})))).catch((()=>r((0,Oe.Hy)({messageId:a}))))},function(e,t,s){if(t.unsyncedDataType!==l.sKi.VACATION_RESPONSE_SETTINGS)return Promise.resolve();const{dispatch:a}=e,{value:n,actionType:r,requestTimestamp:i}=t,{mailAPIClient:c}=s;return c.request("settings.saveVacationPreferences",{payload:n}).then((()=>{a((0,o._5)({actionType:r,requestTimestamp:i}))})).catch((()=>{a((0,o.Lz)({requestTimestamp:i}))}))},function({dispatch:e},{unsyncedDataType:t,cardMessageId:s=""},{bootcampClient:n}){const r=(0,D.H7)({referrer:l.qd8.COUPON_RECOMMENDATIONS,keyword:s});return t!==l.sKi.COUPON_RECOMMENDATIONS_TO_FETCH||""===s?Promise.resolve():n.request("getCouponRecommendations",{mid:s}).then((t=>{e({type:a.COUPONS_LIST_SUCCEEDED,listId:r,cardGroupList:t.messageGroupsResponses[0].cardGroupList,hasMoreItems:t.messageGroupsResponses[0].hasMoreItems,parentMessagesMap:t.parentMessagesMap})})).catch((t=>{e({type:a.COUPONS_LIST_FAILED,listId:r,error:t})}))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSelectedAccountId:i,getRoute:d,isFeatureEnabled:E,getSetting:_}=(0,c.selectors)(r()),u=d(),m=(0,D.LY)(u),S=u.name===l.n8z.SEARCH;if(E(l.ANe.DEALS)||t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||(0,D.WN)(m)!==l.F6k.COUPON_CARDS||S)return Promise.resolve();const p=o(),C=i(),A=l.nMQ,T=_(l.Zrf.COUPON_CARDS_FETCH_COUNT),h=(0,V.Qy)(new Date),g=Math.round((new Date).getTime()/1e3)+30*V.K5,I=(0,D.C4)(m),R=(0,D.tE)(m,{listFilter:I===l.ukn.ALL_COUPON_CARDS?l.ukn.SAVED_COUPON_CARDS:l.ukn.ALL_COUPON_CARDS}),O={mailboxId:p,filter:[(0,D.C4)(m),(0,D.C4)(R)],count:T,offset:[0,0],startCardDate:h,endCardDate:g,sortOrder:A,accountId:C,excludeFolderTypes:(0,D.JO)(m)};return s.mailAPIClient.request("consolidatedCoupons.getList",O).then((e=>{e.messageGroupsResponses.forEach((e=>{const t=(0,D.tE)(m,{listFilter:e.filter});n({type:a.COUPONS_LIST_SUCCEEDED,listId:t,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems,offset:e.offset})}))})).catch((e=>{n({type:a.COUPONS_LIST_FAILED,listId:m,error:e})}))},function(e,{unsyncedDataType:t,decoId:s=[],listId:n,isSearch:r,keyword:o,emailAddress:i},{bootcampClient:d}){const{dispatch:E,getState:_}=e,{getSelectedMailboxId:u,getAccountSelectors:m,getSetting:S,getListsSelectors:p,doesListExist:C}=(0,c.selectors)(_()),{getListNextItemsUrl:A,getListOffset:T}=p(),{getAccountIds:h}=m();if(t!==l.sKi.COUPONS_TO_FETCH)return Promise.resolve();const g=C(n),I={nextItemsUrl:g?A(n):"",mailboxId:u(),accountIds:[h()],order:l.xem,limit:S(l.Zrf.COUPON_CARDS_FETCH_COUNT),start:-1===s.indexOf("TAG")?Date.now():0,end:1e3*(Math.round((new Date).getTime()/1e3)+365*V.K5),offset:g?T(n):0,decoId:s,query:o,from:i},R=-1===s.indexOf("TAG")?"getAllCouponsForSmartViewSearch":"getSavedCouponsForSmartViewSearch",O=-1===s.indexOf("TAG")?"getAllCouponsForSmartView":"getSavedCouponsForSmartView";return d.request(r?R:O,I).then((({cardGroupList:e=[],nextItemsUrl:t="",offset:s=0,totalHits:o=0,hasMoreItems:i=!1})=>E({type:a.COUPONS_LIST_SUCCEEDED,listId:n,cardGroupList:e,hasMoreItems:i,offset:s,totalHits:o,nextItemsUrl:t,addToRecentSearch:r}))).catch((e=>E({type:a.COUPONS_LIST_FAILED,listId:n,error:e})))},function({dispatch:e,getState:t},{unsyncedDataType:s="",batchEnabledFeatures:n=[],mailboxId:r=""},{astraClient:o}){if(s!==l.sKi.ASTRA_BATCH_REQUEST)return Promise.resolve();const{getSelectedAccountId:i,getSetting:d,isMobileRoute:E}=(0,c.selectors)(t()),_=d(l.Zrf.QUOTIENT_DEBUG_FLAG),u=i();return o.request("getAstraBatchResponse",{accountId:u,batchEnabledFeatures:n,mailboxId:r,quotientDebugFlag:_,isMobileRoute:E()}).then((t=>{return e((s={response:t},{type:a.ASTRA_BATCH_API_SUCCEEDED,...s}));var s})).catch((t=>{return e((s={error:t},{type:a.ASTRA_BATCH_API_FAILED,...s}));var s}))},function({dispatch:e},{unsyncedDataType:t="",brandId:s=""},{astraClient:a}){return t!==l.sKi.REQUEST_AFFILIATE_OFFERS?Promise.resolve():a.request("getAffiliateOffers",{brandId:s}).then((({affiliateProducts:t=[],statusCode:a})=>e(200===a?(0,st.lR)({affiliateProducts:t,brandId:s}):(0,st.Kr)(`Got error with status code: ${a}`)))).catch((t=>e((0,st.Kr)(t))))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:a="",loyaltyId:n="",parentName:r=""},{astraClient:o})=>{if(s!==l.sKi.RETAILER_LINK)return Promise.resolve();const{getRetailersSelectors:i}=(0,c.selectors)(t()),{getDisplayNameFromRetailerId:d}=i(),E=d(a),_={mKey:x.JE.QTNT_ONBOARD_COMPLETE,sec:x.nJ.QUOTIENT,actionData:{reason:{featurefamily:l.lMo.IC,featurename:l.ANe.GROCERIES,upselltype:r,retailername:E,userinput:n,slot:"na"}}};return o.request("linkRetailer",{retailerId:a,loyaltyId:n}).then((({errorDescription:t="",errorHint:s="",statusCode:r})=>e(200===r?(0,Ue.EQ)({retailers:[{id:a,loyaltyId:n,linked:!0}],i13nModel:_}):(0,Ue.ST)(a,t,s,{..._,mKey:x.JE.QTNT_ONBOARD_FAILURE})))).catch((t=>e((0,Ue.ST)(a,t,void 0,{..._,mKey:x.JE.QTNT_ONBOARD_FAILURE}))))},({dispatch:e},{unsyncedDataType:t="",retailerId:s=""},{astraClient:a})=>t!==l.sKi.RETAILER_UNLINK?Promise.resolve():a.request("unlinkRetailer",{retailerId:s}).then((({errorDescription:t="",statusCode:a})=>e(200===a?(0,Ue.GK)({retailers:[{id:s,linked:!1}]}):(0,Ue.zE)(s,t)))).catch((t=>e((0,Ue.zE)(s,t)))),({dispatch:e},{unsyncedDataType:t="",retailerId:s="",listId:a="",search:n=""},{astraClient:r})=>{if(t!==l.sKi.OFFERS)return Promise.resolve();const o=n.includes(J.be)&&(0,D.DB)(n),i=(0,D.Fv)(n).split("#"),c=i[i.length-1];let d="getOffers",E={retailerId:s,limit:l.wjI};return o?(d="getCategoryOffers",E={retailerId:s,categoryId:c}):n&&!(0,D.Jh)(n)&&(d="getSearchItems",E={retailerId:s,search:n}),r.request(d,E).then((({astraEGuid:t,statusCode:s,offers:r=[],errorDescription:o=""})=>e(200===s?(0,Ue.yt)({astraEGuid:t,listId:a,offers:r,search:n}):(0,Ue.LW)(a,o)))).catch((t=>e((0,Ue.LW)(a,t))))},({dispatch:e},{unsyncedDataType:t="",listId:s="",retailerId:a=""},{astraClient:n})=>t!==l.sKi.ACTIVATED_OFFERS?Promise.resolve():n.request("getActivatedOffers",{limit:l.wjI,retailerId:a}).then((({astraEGuid:t,offers:a=[],numActivatedOffers:n=0,statusCode:r,subTotal:o="",numberOfItems:i=0,errorDescription:l=""})=>e(200===r?(0,Ue.kl)({astraEGuid:t,listId:s,subTotal:o,numberOfItems:i,offers:a,numActivatedOffers:n}):(0,Ue.F)(s,l)))).catch((t=>e((0,Ue.F)(s,t)))),({dispatch:e,getState:t},{unsyncedDataType:s="",contextOfUse:a="",retailerId:n="",offer:r={},offerIndex:o=-1,listId:i="",score:d="",search:E="",sortOrder:_=l.dS5.RECOMMENDED,cancelAPICall:u},{astraClient:m})=>{if(s!==l.sKi.ACTIVATE_OFFER)return Promise.resolve();if(u)return Promise.resolve().then((()=>{e((0,Ue.rl)("cancelledAPICall"))}));const S={groceryStoreView:"grocerysinglestore",groceryStoreSearch:"search",singleStoreSearchAssist:"searchAssist"}[a],{getRetailersSelectors:p}=(0,c.selectors)(t()),{getDisplayNameFromRetailerId:C,isRetailerLinkable:A}=p(),T=C(n),{offerId:h,cardId:g}=r,I={op:"add",path:"/itemListElement/-",value:{"@type":"ShoppingListItem",...A(n)?{coupons:[{"@type":"Deal",dealType:"Coupon","@id":h}]}:{"@id":h}}};return m.request("requestAddToShoppingList",{retailerId:n,cardId:g,payload:I}).then((({error:t={},errorDescription:s="",statusCode:c,result:u={},userInfo:m={}})=>{let p;if(A(n))p={mKey:x.JE.QTNT_COUPON_CLIP,sec:x.nJ.QUOTIENT,actionData:{reason:{featurefamily:l.lMo.IC,featurename:l.ANe.GROCERIES,retailername:T,viewtype:S,actiontype:"activateoffer",offerid:r.offerId,offerdesc:r.description,offerbrandname:r.brandName,query:E}}};else{var C;const{itemListElement:e}=u,t=null==e||null===(C=e.find((e=>e["@id"]===r.offerId)))||void 0===C?void 0:C.status,s={categoryid:r.categories,featurefamily:l.lMo.IC,interactiontype:"addtocart",offerid:r.offerId,oos:"Available"===t?0:1,position:o,retailername:T,score:d,sortOrder:_};a===l.nr6.GROCERY_CATEGORY_SEARCH?(s.xpname=l.pYz.GROCERY_CATEGORY_RESULTS,s.categoryid=(0,D.Fv)(E).split("#")):a===l.nr6.GROCERY_STORE_SEARCH?(s.xpname=l.pYz.GROCERY_SRP,s.query=E):a===l.nr6.GROCERY_ITEM_DETAIL?s.xpname=l.pYz.GROCERY_ITEM_DETAIL:s.xpname=l.pYz.GROCERY_RECO,p={mKey:x.JE.CARD_INTERACT,sec:x.nJ.QUOTIENT,interactionType:x.Rb.click,actionData:s}}return e(200===c||"EQ-1001"===t.errorCode?(0,Ue._I)([{...r,activated:!0}],u,i,n,p,m.astraEGuid||""):(0,Ue.rl)(s))})).catch((t=>e((0,Ue.rl)(t))))},({dispatch:e},{categories:t,contextOfUse:s,interactionType:a,items:n=[],listId:r="",offerIndex:o,retailerId:i="",retailerName:c,score:d,unsyncedDataType:E=""},{astraClient:_})=>E!==l.sKi.CHANGE_PRODUCTS_QUANTITY?Promise.resolve():_.request("requestChangeQuantityFromShoppingList",{retailerId:i,items:n}).then((({astraEGuid:E,errorDescription:_="",statusCode:u,subTotal:m="",numberOfItems:S=0,offers:p=[]})=>{if(200===u){var C,A;const _={categoryid:t,featurefamily:l.lMo.IC,interactiontype:a,offerid:null===(C=n[0])||void 0===C?void 0:C.offerId,oos:"Available"===(null===(A=p[0])||void 0===A?void 0:A.status)?0:1,position:o,retailername:c,score:d};s===l.nr6.GROCERY_CATEGORY_SEARCH?_.xpname=l.pYz.GROCERY_CATEGORY_RESULTS:s===l.nr6.GROCERY_STORE_SEARCH?_.xpname=l.pYz.GROCERY_SRP:s===l.nr6.GROCERY_ITEM_DETAIL?_.xpname=l.pYz.GROCERY_ITEM_DETAIL:s===l.nr6.GROCERY_SHOPPING_CART?_.xpname=l.pYz.GROCERY_CART:_.xpname=l.pYz.GROCERY_RECO;const u={mKey:x.JE.CARD_INTERACT,sec:x.nJ.QUOTIENT,interactionType:x.Rb.click,actionData:_};return e((0,Ue.u)({astraEGuid:E,listId:r,retailerId:i,subTotal:m,numberOfItems:S,offers:p,i13nModel:u}))}return e((0,Ue.SD)(_))})).catch((t=>e((0,Ue.SD)(t)))),({dispatch:e},{unsyncedDataType:t="",items:s=[],listId:a="",retailerId:n=""},{astraClient:r})=>{if(t!==l.sKi.REMOVE_PRODUCTS)return Promise.resolve();const o=s.map((e=>e.offerId));return r.request("requestRemoveFromShoppingList",{retailerId:n,itemIds:o}).then((({astraEGuid:t,errorDescription:r="",statusCode:o,subTotal:i="",numberOfItems:l=0})=>e(200===o?(0,Ue._A)(s.map((e=>({...e,activated:!1}))),i,l,a,n,t):(0,Ue.Vh)(r)))).catch((t=>e((0,Ue.Vh)(t))))},({dispatch:e},{unsyncedDataType:t="",keyword:s="",retailerId:a=""},{bootcampClient:n})=>t!==l.sKi.GROCERY_SEARCH_ASSIST?Promise.resolve():n.request("grocerySearchSuggestions",{keyword:s,retailerId:a}).then((t=>e((0,Ue.Vz)({keyword:s,retailerId:a,suggestions:t})))).catch((t=>e((0,Ue.Ju)(t)))),({dispatch:e},{categoryId:t,retailerId:s,unsyncedDataType:a},{astraClient:n})=>a!==l.sKi.GROCERY_SUBCATEGORIES?Promise.resolve():n.request("getSubcategories",{categoryId:t,retailerId:s}).then((({astraEGuid:a,errorDescription:n,subcategories:r,statusCode:o})=>e(200===o?(0,Ue.xg)({astraEGuid:a,parentCategoryId:t,retailerId:s,subcategories:r}):(0,Ue.yO)(n)))).catch((t=>e((0,Ue.yO)(t)))),({dispatch:e},{unsyncedDataType:t="",retailerId:s=""},{astraClient:a})=>t!==l.sKi.PREVIOUSLY_ADDED_GROCERY_ITEMS?Promise.resolve():a.request("getPreviouslyAddedGroceryItems",{retailerId:s}).then((({astraEGuid:t,statusCode:a,items:n=[],errorDescription:r=""})=>e(200===a?(0,Ue.Ow)({astraEGuid:t,retailerId:s,items:n}):(0,Ue.sC)(r)))).catch((t=>e((0,Ue.sC)(t)))),({dispatch:e},{unsyncedDataType:t="",retailerId:s="",itemId:a=""},{astraClient:n})=>t!==l.sKi.RELATED_GROCERY_ITEMS?Promise.resolve():n.request("getRelatedGroceryItems",{retailerId:s,itemId:a}).then((({astraEGuid:t,statusCode:n,items:r=[],errorDescription:o=""})=>e(200===n?(0,Ue.DM)({astraEGuid:t,retailerId:s,itemId:a,items:r}):(0,Ue.Cq)(o)))).catch((t=>e((0,Ue.Cq)(t)))),({dispatch:e},{unsyncedDataType:t="",retailerId:s="",zipCode:a=""},{astraClient:n})=>t!==l.sKi.RETAILER_LOCATIONS?Promise.resolve():n.request("requestRetailerLocations",{retailerId:s,zipCode:a}).then((({errorDescription:t="",statusCode:n,result:r})=>e(200===n?(0,Ue.rV)({locations:r,retailerId:s,zipCode:a}):(0,Ue.B6)(t)))).catch((t=>e((0,Ue.B6)(t)))),({dispatch:e},{unsyncedDataType:t="",retailerId:s="",store:a=[]},{astraClient:n})=>t!==l.sKi.UPDATE_PREFERRED_STORE?Promise.resolve():n.request("updatePreferredStore",{retailerId:s,store:a}).then((({errorDescription:t="",statusCode:a,result:n})=>e(200===a?(0,Ue.vn)({preferredStore:n,retailerId:s}):(0,Ue.vW)(t)))).catch((t=>e((0,Ue.vW)(t)))),function({dispatch:e,getState:t},{unsyncedDataType:s="",category:a={}},{astraClient:n}){if(s!==l.sKi.FOLLOW_CATEGORY)return Promise.resolve();const{isFeatureEnabled:r}=(0,c.selectors)(t());return n.request(r(l.Zrf.IS_USER_FOLLOWING_CATEGORIES)?"requestCategoryFollow":"requestFirstCategoryFollow",a).then((({statusCode:t,error:s})=>e(200===t?(0,De.X)([a]):(0,De.ol)([a],(0,h.u9)(s,"code","Unknown"))))).catch((t=>e((0,De.ol)([a],t))))},function({dispatch:e},{unsyncedDataType:t="",cardMid:s="",mailboxId:a="",clipping:n=!0},{astraClient:r}){return t!==l.sKi.SAVE_COUPONS?Promise.resolve():r.request("requestSaveCoupon",{cardMid:s,mailboxId:a,clipping:n}).then((({statusCode:t,error:s=""})=>e(200===t?(0,De.aQ)({}):(0,De.rC)(s)))).catch((t=>e((0,De.rC)(t))))},function({dispatch:e},{unsyncedDataType:t="",cardMid:s="",mailboxId:a="",clipping:n=!1},{astraClient:r}){return t!==l.sKi.UNSAVE_COUPONS?Promise.resolve():r.request("requestUnsaveCoupon",{cardMid:s,mailboxId:a,clipping:n}).then((({statusCode:t,error:s=""})=>e(200===t?(0,De.yV)({}):(0,De.r2)(s)))).catch((t=>e((0,De.r2)(t))))},function({dispatch:e},{unsyncedDataType:t="",category:s={}},{astraClient:a}){return t!==l.sKi.UNFOLLOW_CATEGORY?Promise.resolve():a.request("requestCategoryUnfollow",s).then((({statusCode:t,error:a})=>e(200===t?(0,De.Ez)([s]):(0,De.So)([s],(0,h.u9)(a,"code","Unknown"))))).catch((t=>e((0,De.So)([s],t))))},({dispatch:e},{unsyncedDataType:t="",accountId:s,brandId:a},{astraClient:n})=>t!==l.sKi.FOLLOW_STOREFRONT_BRAND?Promise.resolve():n.request("requestStorefrontBrandFollow",{accountId:s,brandId:a}).then((({statusCode:t,errorDescription:s})=>e(200===t?(0,nt.MW)({brandId:a}):(0,nt.YP)(s)))).catch((t=>e((0,nt.YP)(t)))),({dispatch:e},{unsyncedDataType:t="",accountId:s,brandId:a},{astraClient:n})=>t!==l.sKi.UNFOLLOW_STOREFRONT_BRAND?Promise.resolve():n.request("requestStorefrontBrandUnfollow",{accountId:s,brandId:a}).then((({statusCode:t,errorDescription:s})=>e(200===t?(0,nt.r$)({brandId:a}):(0,nt.mK)(s)))).catch((t=>e((0,nt.mK)(t)))),({dispatch:e},{unsyncedDataType:t="",brandId:s,accountId:a},{astraClient:n})=>t!==l.sKi.STOREFRONT_MODULES?Promise.resolve():n.request("getStorefrontModules",{accountId:a,brandId:s}).then((({statusCode:t,errorDescription:a="",...n})=>e(200===t?(0,nt.w4)({brandId:s,...n}):(0,nt.ab)(s,a)))).catch((t=>e((0,nt.ab)(s,t)))),({dispatch:e},{unsyncedDataType:t="",accountId:s,brandId:a},{astraClient:n})=>t!==l.sKi.STOREFRONT_DEALS?Promise.resolve():n.request("getStorefrontDeals",{accountId:s,brandId:a}).then((({statusCode:t,dealsToSave:s,errorDescription:n})=>e(200===t?(0,nt.qF)({brandId:a,dealsToSave:s}):(0,nt.Hf)(n)))).catch((t=>e((0,nt.Hf)(t)))),({dispatch:e},{unsyncedDataType:t="",accountId:s,brandId:a},{astraClient:n})=>t!==l.sKi.STOREFRONT_PRODUCTS?Promise.resolve():n.request("getStorefrontProducts",{accountId:s,brandId:a}).then((({statusCode:t,affiliateProducts:s,errorDescription:n})=>e(200===t?(0,nt.iP)({brandId:a,products:s}):(0,nt.LC)(n)))).catch((t=>e((0,nt.LC)(t)))),({dispatch:e},{unsyncedDataType:t="",accountId:s},{astraClient:a})=>t!==l.sKi.RESET_STOREFRONT_NEW_DEAL_COUNT?Promise.resolve():a.request("resetStorefrontNewDealCount",{accountId:s}).then((({statusCode:t,errorDescription:s})=>e(200===t?(0,nt.mE)():(0,nt.yf)(s)))).catch((t=>e((0,nt.yf)(t)))),(e,{unsyncedDataType:t="",brandDomains:s,listId:a,keyword:n,brandId:r,messagesToFetch:o},{bootcampClient:i})=>{if(t!==l.sKi.STOREFRONT_MODULES)return Promise.resolve();const{dispatch:d,getState:E}=e,{getSelectedMailboxId:_,getListsSelectors:u,doesListExist:m,getSelectedAccountId:S,isFeatureEnabled:p}=(0,c.selectors)(E()),{getListOffset:C}=u(),A=p(l.ANe.CONVERSATIONS),T={mailboxId:_(),accountIds:[S()],order:l.Gos,limit:o,query:n,from:s,offset:m(a)?C(a):0};return i.request("getBrandEmailsForStorefront",T).then(((e={})=>{var t;A&&(e.items=null==e||null===(t=e.items)||void 0===t?void 0:t.map((e=>{var t,s;return{id:null==e||null===(t=e.messages)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.conversationId,messages:null==e?void 0:e.messages}})));return d((0,nt.fC)({response:{[l.F6k.MESSAGES]:{[l.ukn.FROM]:e}},listId:a,brandId:r,numberOfMessages:e.totalHits}))})).catch((e=>d((0,nt.Gp)({error:e,listId:a}))))},({dispatch:e},{unsyncedDataType:t="",accountId:s,brandId:a},{astraClient:n})=>t!==l.sKi.STOREFRONT_MODULES?Promise.resolve():n.request("getStorefrontReceipts",{accountId:s,brandId:a}).then((({statusCode:t,storefrontReceiptsModule:s,errorDescription:n})=>e(200===t?(0,nt.l1)({brandId:a,storefrontReceiptsModule:s}):(0,nt.B1)(n)))).catch((t=>e((0,nt.B1)(t)))),function({dispatch:e,getState:t},{unsyncedDataType:s="",messagesList:n=[]},{smartReplyClient:r}){if(s!==l.sKi.NUDGE_AND_SMART_REPLY)return Promise.resolve();const{getSetting:o,getMessagesSelectors:i,isFeatureEnabled:d}=(0,c.selectors)(t()),{doesMessageIdExist:E}=i(),_=l.Lz3-o(l.ANe.REPLY_NUDGE_COUNT),u=d(l.ANe.NUDGE_TO_REPLY_ELIGIBLE),m=d(l.ANe.SMART_REPLY);return r.requestNudgeAndReplySuggestions(n).then((t=>{var s;const r=null==t||null===(s=t.result)||void 0===s?void 0:s.data;if(r&&Array.isArray(r)){let t=u?[...r].filter((e=>{var t;return e.nudge&&e.nudge.prediction&&E(null==e||null===(t=e.message)||void 0===t?void 0:t.id)&&(e=>{var t;if(null!=e&&null!==(t=e.headers)&&void 0!==t&&t.date){const t=1e3*Number(e.headers.date),s=Math.floor(((new Date).getTime()-t)/l.Zd2);return s>=l.rS$&&s<=l.qBs}return!1})(e.message)})).map((e=>({...e.nudge,message:e.message}))).sort(((e,t)=>t.score-e.score)):[];const s=t.length;t=t.slice(0,_);const i=m?[...r].filter((e=>{var t;return e.replySuggestions&&e.replySuggestions.length&&E(null==e||null===(t=e.message)||void 0===t?void 0:t.id)})).reduce(((e,t)=>(e[t.message.id]=t.replySuggestions,e)),{}):{},c=Object.keys(i).length;return n.forEach((e=>{i[e.id]=i[e.id]||[]})),e((o={predictionList:t,replySuggestionResponse:i,i13nModel:{mKey:x.JE.NUDGE_AND_SMART_REPLY_RESPONSE,sec:x.nJ.NUDGE_AND_SMART_REPLY,actionData:{messagesToFetchCount:n.length,isNudgeEligible:u,nudgeAllowedCount:_,validNudgeInResponseCount:s,isSmartReplyEligible:m,replySuggestionCount:c}}},{type:a.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED,...o}))}var o;return e(Ne({error:(null==t?void 0:t.error)||t}))})).catch((t=>e(Ne({error:t}))))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getFeaturesSelectors:i,getSelectedAccountId:d,getRoute:E}=(0,c.selectors)(r()),{getSetting:_,isEnabled:u}=i(),m=E(),S=(0,D.LY)(m);if(t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||(0,D.WN)(S)!==l.F6k.TRAVEL_CARDS||u(l.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return Promise.resolve();const p=o(),C=d(),A=(0,D.WW)(S),T=_(l.Zrf.CARD_GROUPS_FETCH_COUNT),h={mailboxId:p,filter:(0,D.C4)(S),count:T,offset:0,sortOrder:A,accountId:C,excludeFolderTypes:(0,D.JO)(S)};return s.mailAPIClient.request("messageCards.getList",h).then((e=>{n({type:a.TRAVEL_LIST_SUCCEEDED,listId:S,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems})})).catch((e=>{n({type:a.TRAVEL_LIST_FAILED,listId:S,error:e})}))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getListsSelectors:o,getRouterSelectors:i,getSelectedAccountId:d,getSelectedMailboxId:E}=(0,c.selectors)(r()),{getRoute:_}=i(),u=_(),m=(0,D.LY)(u),{getItemIdsSelectors:S}=o(),{getItemIds:p}=S(m),C=p();if(t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||(0,D.WN)(m)!==l.F6k.REFUND_CARDS||C.length)return Promise.resolve();const A=E(),T=d(),h=l.Asd.CARD_DATE_DESC,g={mailboxId:A,filter:(0,D.C4)(m),count:100,offset:0,sortOrder:h,accountId:T,excludeFolderTypes:(0,D.JO)(m)};return s.mailAPIClient.request("getReceipts",g).then((e=>{n({type:a.RECEIPTS_LIST_SUCCEEDED,listId:m,cardGroupList:e.messageGroupsResponses.cardGroupList,parentMessagesMap:e.parentMessagesMap,hasMoreItems:e.messageGroupsResponses.hasMoreItems,offset:e.messageGroupsResponses.offset})})).catch((e=>{n({type:a.RECEIPTS_LIST_FAILED,listId:m,error:e})}))},function(e,t,s){if(t.unsyncedDataType!==l.sKi.VIDEO_CHANNELS_METADATA_FETCH)return Promise.resolve();const{dispatch:a,getState:n}=e,r=n(),{getSetting:o}=(0,c.selectors)(r),i=o(l.Zrf.EMPTY_FOLDER_VIDEO_CHANNELS),d=i?Object.keys(i).join(","):"";return s.videoAPIClient.request({type:"channels_meta_data",channel_alias:d}).then((e=>{a((0,z.cm)({payload:e.body}))})).catch((e=>{a((0,z.vA)({error:e}))}))},function(e,t,s){if(t.unsyncedDataType!==l.sKi.VIDEO_CHANNEL_FETCH)return Promise.resolve();const{dispatch:a}=e,{channelAlias:n}=t;return s.videoAPIClient.request({type:"channel_video_data",channel_alias:n}).then((e=>{if(!(e&&e.body&&e.body[n]))throw new Error(`${n} channel data is missing`);a((0,z.Lp)({payload:e.body,channel:n}))})).catch((e=>{a((0,z.xp)({error:e,channel:n}))}))},async(e,t,s)=>{const{unsyncedDataType:n,placementname:r}=t;if(n!==l.sKi.STATIC_MAILPLUS_UPSELL_FETCH)return;const{dispatch:o}=e;try{const e=await s.falconAPIClient.getOfferDecisionByAction({payload:[{placementname:r}]});o((i=e,{...i,type:a.STATIC_MAIL_PLUS_UPSELL_FETCH_SUCCEEDED}))}catch(c){o((e=>({...e,type:a.STATIC_MAIL_PLUS_UPSELL_FETCH_FAILED}))({error:c}))}var i},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.SETTINGS_TO_CHANGE)return Promise.resolve();const{updatedSettingAttributes:a}=t;return((e,{updatedSettingAttributes:t=[],action:s},a)=>{const{dispatch:n,getState:r}=e,i=(0,c.selectors)(r()),{getSelectedMailboxId:d}=i;let E=[];const _=t.map((({name:e,value:t})=>{const s=g(i,e,t);return{id:s,value:s===l.CbW.BLOCK_IMAGES?!t:t}}));return E=E.concat(a.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:d(),attributes:_}).then((()=>s.aolSettingsMigration?n((0,o.nt)({requestActionPayload:s})):n((0,o.FV)({requestActionPayload:s})))).catch((()=>s.aolSettingsMigration?n((0,o.SI)({requestActionPayload:s})):n((0,o.f6)({requestActionPayload:s}))))),Promise.all(E)})(e,{updatedSettingAttributes:a,action:t,runV3:!0},s)},function(e,t,s){if(t.unsyncedDataType!==l.sKi.SEARCH_SUGGESTIONS_FETCH)return Promise.resolve();const{dispatch:a,getState:n}=e,{isFeatureEnabled:r}=(0,c.selectors)(n()),{query:o="",fetchEmailSuggestions:i}=t,d=r(l.ANe.SHOW_EMAIL_SEARCH_SUGGESTIONS)&&o.length>=3,E=""===o,_=Object.assign({query:o},{textualSuggest:1},E?{enableEmptyQuery:!0}:null,d&&i?{emailSuggest:1}:null);let u=t.i13nModel;return new Promise(((e,t)=>{const n=s.bootcampClient.createStream("searchSuggestionsStream",_);n.on("data",(e=>{if(e){(d&&e?(0,xe.u6)(e):[]).length&&(u={...u,actionData:{queryLength:o.length},mKey:x.JE.SEARCH_EMAIL_SUGGESTION_SHOWN,sec:x.nJ.HEADER_SEARCH}),a((0,Be.pe)({query:o,suggestions:e,i13nModel:u}))}})),n.on("end",e),n.on("error",(e=>{a((0,Be.jT)({query:o,error:e})),t(e)}))}))},function(e,t,s){const{dispatch:n,getState:r}=e,{isFeatureEnabled:o,getRoute:i,getSelectedMailboxId:d}=(0,c.selectors)(r()),E=i(),_=d(),u=(0,D.LY)(E),m=(0,D.WW)(u),S=o(l.ANe.SENDER_ROLLUP),p=o(l.ANe.SENDER_ROLLUP_FLUSH_CACHE),C=(0,D.WN)(u),A=(0,D.Fh)(u);return t.unsyncedDataType===l.sKi.LIST_TO_UPDATE&&S&&m===l.Asd.SENDER&&C===l.F6k.SENDERS?s.senderRollupAPIClient.sendersApi({limit:5,count:25,offset:0,folderid:A,mailboxId:_,...p?{flush:1}:null}).then((e=>{const t=(0,h.u9)(e,"body.result.rollup",[]);var s;n((s={listId:u,senderRollup:t,hasMoreItems:t.length>0,offset:t.length},{type:a.SENDER_ROLLUP_SUCCEEDED,...s}))})).catch((e=>{var t;n((t=e,{type:a.SENDER_ROLLUP_FAILED,...t}))})):Promise.resolve()},function(e,t,s){const{dispatch:n,getState:r}=e,{isFeatureEnabled:o,getSelectedMailboxId:i,getListsSelectors:d,doesListExist:E}=(0,c.selectors)(r()),_=i(),{listId:u}=t;if(t.unsyncedDataType!==l.sKi.MORE_SENDER_ROLLUP_TO_FETCH||!E(u)||!o(l.ANe.SENDER_ROLLUP))return Promise.resolve();const m=(0,D.Fh)(u),S=E(u)?d().getListOffset(u):0;return s.senderRollupAPIClient.sendersApi({limit:5,count:25,offset:S,folderid:m,mailboxId:_}).then((e=>{const t=(0,h.u9)(e,"body.result.rollup",[]);var s;n((s={listId:u,senderRollup:t,hasMoreItems:t.length>0,offset:t.length>0?S+t.length:""},{type:a.MORE_SENDER_ROLLUP_SUCCEEDED,...s}))})).catch((e=>{var t;n((t={error:e,listId:u},{type:a.MORE_SENDER_ROLLUP_FAILED,...t}))}))},function(e,t,s){if(t.unsyncedDataType!==l.sKi.ACCOUNT_TO_UPDATE)return Promise.resolve();const{dispatch:a}=e,{accountId:n,updatedProperties:i,requestTimestamp:d}=t,{mailAPIClient:E}=s;return function({store:e,accountId:t,updatedProperties:s,mailAPIClient:a}){const n=r()(s,["id","email","type"]),{getState:o}=e,{getAliasAccounts:i,getAccountById:l}=(0,c.selectors)(o()),d=l(t)||i().find((e=>e.id===t));return a.request("settings.updateAccount",{account:d,data:n})}({store:e,accountId:n,updatedProperties:i,mailAPIClient:E}).then((e=>a((0,o.SC)({accountId:n,requestTimestamp:d,updatedProperties:i,updatedAccount:e})))).catch((e=>a((0,o.Hn)({error:e,accountId:n,requestTimestamp:d,updatedProperties:i}))))},(e,t,s)=>{const{query:a,unsyncedDataType:n}=t,{dispatch:r}=e;return n!==l.sKi.COMPOSE_SUGGESTIONS_FETCH?Promise.resolve():s.autoSuggestClient.search(t).then((e=>r((0,G.contactSuggestionSucceeded)({query:a,recipientList:t.recipientList,contextFrom:t.contextFrom,contacts:e.contacts})))).catch((e=>r((0,G.contactSuggestionFailed)({error:e,query:a,recipientList:t.recipientList,contextFrom:t.contextFrom}))))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.DOCUMENT_FETCH)return Promise.resolve();const{documentId:n,startPage:r,endPage:o,type:i="",subtype:d="",retryCount:E}=t,{dispatch:_,getState:u}=e,{getRoute:m,getRouteParams:S,getAttachmentById:p,getMimetypeByAttachmentId:C,getSizeByAttachmentId:A,getAttachmentExtentionByAttachmentId:T}=(0,c.selectors)(u()),g=m(),{attachmentId:I}=S()||{},R=p(I);if(!(0,Z.M)(R))return Promise.resolve().then((()=>_(W({route:g,documentId:n,startPage:r,endPage:o,error:{data:{info:{documentError:K({type:i,subtype:d})}}}}))));const O=C(I),D=A(I),N=T(I);return s.mailAPIClient.request("document.fetch",{documentId:n,startPage:r,endPage:o,mimeType:O,size:D,extension:N,retryCount:E},{strategy:M.Z.STRATEGIES.BROWSER_TO_JEDI,timeout:9e4}).then((e=>{if(815===(0,h.u9)(e,"data.info.documentError.code",null))return _(W({error:e,documentId:n,startPage:r,endPage:o}));var t;_((t={response:e,documentId:n,startPage:r,endPage:o},{type:a.DOCUMENT_FETCH_SUCCEEDED,...t}))})).catch((e=>{_(W({error:e,documentId:n,startPage:r,endPage:o}))}))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.ACCOUNT_DELETE)return Promise.resolve();const{dispatch:a,getState:n}=e,{accountId:r,requestTimestamp:E}=t,{getAccountById:_,getAliasAccounts:u,getAccountSelectors:m}=(0,c.selectors)(n()),S=_(r)||u().find((e=>e.id===r)),p=S.type===l.tO8.DEA&&S.status===l.dpb.DELETE_IN_PROGRESS,C=m().getDisposableEmailAccounts().filter((({status:e})=>e===l.dpb.DISABLED)).map((({id:e})=>e));return s.mailAPIClient.request("settings.deleteAccount",{accountId:r,fetchAccounts:p}).then((e=>{if(a((0,i.AC)({updatedAccount:S})),p){const t=(e||[]).find((({id:e,type:t,status:s})=>t===l.tO8.DEA&&s===l.dpb.ENABLED&&C.indexOf(e)>-1));t&&a((0,o.SC)({accountId:t.id,updatedProperties:{status:t.status},updatedAccount:t,requestTimestamp:E}))}})).then((()=>{if((0,d.Cs)(S))return function(e,t,s){const{email:a}=s,n=(0,d.VH)(s),r=l.wxL[n];if(r){const s=r.oauthDomain;return e.removeOAuthToken({domain:s,email:a}).then((e=>{t((0,i.jw)({response:e}))})).catch((e=>{t((0,i.E2)({error:e}))}))}return Promise.reject(new Error(`No provider found for ${a}`))}(s.credstoreClient,a,S)})).catch((e=>{a((0,i.Vr)({err:e}))}))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.ACCOUNT_ADD)return Promise.resolve();const{dispatch:a,getState:n}=e,{newAccount:r,emailOrPhoneRegAccount:o=!1}=t,{email:d,type:_}=r,{hasAccountWithEmail:u,getDefaultFolderIdForSelectedAccount:m,getFeaturesSelectors:S,isMobileRoute:p}=(0,c.selectors)(n()),{disposableAddressDeleteOnly:C}=S();if(_===l.tO8.DEA&&C)return Promise.reject().catch((()=>a((0,i.hy)({err:"Disposable Email Address is delete only. User cannot add new DEA"}))));const A=m();return u(d)?Promise.reject().catch((()=>a((0,i.hy)({updatedAccount:r})))):s.mailAPIClient.request("settings.addAccount",{account:r}).then((e=>{if(o)return void window.setTimeout((()=>{if(p())return(0,E.X2)({isMobile:!0});window.location.reload()}),300);const t=e.find((e=>e.email===d));return a(t?(0,i.qe)({accounts:e,updatedAccount:t,inboxFID:A,newAccount:t}):(0,i.hy)({err:"New account was not found in the accounts object!",newAccount:t}))})).catch((e=>a((0,i.hy)({err:e,newAccount:r}))))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.MORE_ITEMS_TO_FETCH)return Promise.resolve();const a=(0,c.selectors)(e.getState()),{getRouteName:n}=a,r=n(),{listId:o}=t;return o&&(0,D.Yy)(o)?Ie(e,t,s):r===l.n8z.SEARCH?(({dispatch:e,getState:t},{listId:s},{bootcampClient:a})=>{const{getListsSelectors:n,getFeaturesSelectors:r,doesStreamExist:o,getSelectedStreamItems:i}=(0,c.selectors)(t()),{getItemIdsSelectors:d,getListNextItemsUrl:_}=n(),{getSetting:u}=r(),m=d(s).getItemIds().length,S=(0,D.WN)(s);let p=_(s);const C=r().isEnabled(l.ANe.SELECT_ALL);S===l.F6k.MESSAGES&&(p=(0,E.Y0)(p,{cursor:m,limit:u(l.Zrf.SEARCH_FETCH_COUNT)}));let A=!1;if(C){const e=(0,P.BA)([s]),t=o(e)?i(e):[];A=t.length>0&&d(s).getItemIds().length===t.length}return a.request("searchItems",{url:p,listContentType:S}).then((t=>{e((0,he.Rr)({listId:s,listContentBlock:t,allItemsSelected:A}))})).catch((t=>e((0,he.RP)({listId:s,error:t}))))})(e,t,s):r===l.n8z.LIST&&(0,D.WN)(o)===l.F6k.TRAVEL_CARDS?ge(e,t,s):Ie(e,t,s)},function(e,t,s){if(t.unsyncedDataType!==l.sKi.GIFS_TO_FETCH)return Promise.resolve();const{dispatch:a}=e,{listId:n,query:r,id:o}=t,{getListsSelectors:i,getSelectedMailboxId:d}=(0,c.selectors)(e.getState()),{doesListExist:E,getListNextItemsUrl:_}=i(),u=E(n)?_(n):"";return s.bootcampClient.request("searchGifs",{mailboxId:d(),query:r,nextItemsUrl:u}).then((e=>a((0,ne.by)({altListId:n,query:r,id:o},e)))).catch((e=>a((0,ne.gD)({altListId:n,query:r,id:o},e))))},function({dispatch:e},t,s){return t.unsyncedDataType!==l.sKi.GIF_CATEGORY_TO_FETCH?Promise.resolve():s.bootcampClient.request("getGifCategories").then((({categories:t})=>e((0,ne.Pi)({categories:t})))).catch((t=>e((0,ne.ip)({error:t}))))},function({dispatch:e},{email:t,unsyncedDataType:s},a){return s!==l.sKi.ALIAS_EMAIL_TO_CREATE?Promise.resolve():a.mailAPIClient.request("settings.createAlias",{email:t}).then((({suggestions:s,newAccount:a})=>{s&&s.length?e((0,B.PK)({email:t,suggestions:s})):e(s||a?(0,B.z9)({newAccount:a}):(0,B.PK)({email:t}))})).catch((()=>e((0,B.PK)({email:t}))))},function({dispatch:e},{account:t,unsyncedDataType:s},a){return s!==l.sKi.CONFIRM_EMAIL_TO_RESEND?Promise.resolve():a.mailAPIClient.request("settings.resendConfirmEmail",{account:t}).then((s=>{e((0,B.kB)({account:s,email:t.email}))})).catch((s=>{e((0,B.ox)({err:s,email:t.email}))}))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.BLOCKED_SENDERS_TO_FETCH)return Promise.resolve();const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSettingsSelectors:i}=(0,c.selectors)(r()),{getBlockedSendersApiCallStatus:d}=i();if(d()===l.DAQ.LOADED)return Promise.resolve();const E=o();return s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:E,attributes:[l.CbW.DELIVERY_BLOCKED_SENDERS]}).then((e=>{n({type:a.SETTINGS_BLOCKED_SENDERS_RECEIVED,...e})})).catch((e=>{n({type:a.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED,payload:e})}))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH)return Promise.resolve();const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSettingsSelectors:i,isFeatureEnabled:d}=(0,c.selectors)(r()),{getFiltersAndBlockedSendersApiCallStatus:E}=i();if(E()===l.DAQ.LOADED)return Promise.resolve();const _=o(),u=d(l.ANe.USE_SAVED_SEARCH_FOR_FILTERS);let m,S=Promise.resolve({});return u?(m=s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:_,attributes:[l.CbW.DELIVERY_BLOCKED_SENDERS]}),S=s.mailAPIClient.request("savedSearches.getMessageFilters",{mailboxId:_})):m=s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:_,attributes:[l.CbW.DELIVERY_BLOCKED_SENDERS,l.CbW.MESSAGE_FILTERS]}),Promise.all([m,S]).then((([e={},t])=>{const{savedSearchMessageFilters:s=[]}=(null==t?void 0:t.responses)||{};e.mailboxAttributes&&s.length&&(e.mailboxAttributes.messageFilters={filters:s}),n({type:a.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED,...e})})).catch((e=>{n({type:a.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED,payload:e})}))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,isFeatureEnabled:i}=(0,c.selectors)(r()),d=o();if(!d||t.unsyncedDataType!==l.sKi.COMPOSE_ATTRIBUTES_TO_FETCH)return Promise.resolve();const E=i(l.ANe.MAIL_PLUS)?{...l.zkc,...l.UHK}:l.zkc;return s.mailAPIClient.request("postLaunch.getComposeAttributes",{mailboxId:d,attributes:E}).then((e=>{return n((t={mailboxAttributes:e.responses},{type:a.COMPOSE_ATTRIBUTES_RECEIVED,...t}));var t})).catch((e=>{return n((t={error:e},{type:a.COMPOSE_ATTRIBUTES_FETCH_FAILED,...t}));var t}))},function(e,t,s){if(!(0,E.jU)()||t.unsyncedDataType!==l.sKi.POST_LUNCH_TO_SYNC)return Promise.resolve();const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSelectedAccountIdByRoute:i,getRoute:d,getCurrentGroupId:_,doesMessageGroupIdExist:u,getMessageIdsFromMessageGroupId:m,getCardConversationIdByMessageId:S,isFeatureEnabled:p,getAccountSelectors:C,getAppName:A}=(0,c.selectors)(r()),T=o(),h=i(d()),g=[],I=_(),R=u(I)?m(I):[];let O="";const D=!!C().getVerifiedAutoForwardAccount()&&A()===l.BQZ.MAIL_APP,N=p(l.ANe.MAIL_PLUS_FREE_TRIAL)||p(l.ANe.MAIL_PLUS)||p(l.ANe.MAIL_PLUS_MOBILE_WEB),f=p(l.ANe.DEAL_RECO_ELIGIBLE),M=N&&f,L=p(l.ANe.NUDGE_TO_REPLY_ELIGIBLE),P=N&&L;return R.length&&(O=S(R[0])),g.push(s.mailAPIClient.request("postLaunch.postSync",{mailboxId:T,accountId:h,cardConversationId:O,fetchAutoForwardAttribute:D,fetchMsgReadCardsAttribute:M,fetchNudgeToReplyAttribute:P})),p(l.ANe.SOCIAL_ACCOUNTS)||g.push(((e,t,s)=>(s.autoSuggestClient.isUserXobnified(),Promise.resolve()))(0,0,s)),Promise.all(g).then((([e])=>{return n((t=e,{type:a.POST_LAUNCH_SYNC_SUCCEEDED,...t}));var t})).catch((e=>{return n((t={error:e},{type:a.POST_LAUNCH_SYNC_FAILED,...t}));var t}))},function({dispatch:e,getState:t},{unsyncedDataType:s=""},{bootcampClient:n}){if(s!==l.sKi.TOP_RETAILERS_TO_FETCH)return Promise.resolve();const{getAccountSelectors:r}=(0,c.selectors)(t()),{getAccountIds:o}=r(),i={accountIds:o()};return n.request("getTopRetailers",i).then((t=>{return e((s={topRetailers:t},{type:a.TOP_RETAILERS_REQUEST_SUCCEEDED,...s}));var s})).catch((t=>{return e((s={error:t},{type:a.TOP_RETAILERS_REQUEST_FAILED,...s}));var s}))},function({dispatch:e},{unsyncedDataType:t=""},{bootcampClient:s}){return t!==l.sKi.TOP_DEAL_CATEGORIES_TO_FETCH?Promise.resolve():s.request("getTopDealCategories").then((t=>{return e((s={topDealCategories:t},{type:a.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED,...s}));var s})).catch((t=>{return e((s={error:t},{type:a.TOP_DEAL_CATEGORIES_REQUEST_FAILED,...s}));var s}))},function(e,t,s){const{dispatch:a}=e;return t.unsyncedDataType!==l.sKi.RECENT_SEARCHES_TO_FETCH?Promise.resolve():s.bootcampClient.request("recentSearches",{}).then((e=>{a((0,be.RX)({recentSearches:e}))})).catch((()=>{a((0,be.mh)())}))},function(e,t,s){const{query:a,unsyncedDataType:n}=t;if(n!==l.sKi.RECENT_SEARCH_DELETE)return Promise.resolve();const{dispatch:r,getState:o}=e,{getMailboxesSelectors:i}=(0,c.selectors)(o()),d={query:a,mailboxid:i().getSelectedMailboxId()};return s.bootcampClient.request("deleteRecentSearch",d).then((()=>r((0,be.e_)({query:a})))).catch((()=>r((0,be.CC)({query:a}))))},function({dispatch:e},{accountId:t,updatedProperties:s,unsyncedDataType:a,requestTimestamp:n},{mailAPIClient:r}){return a!==l.sKi.FETCH_PRIMARY_ACCOUNT?Promise.resolve():r.request("accounts.get").then((({accounts:a})=>{if(a&&a.length){const r=a.find((({isPrimary:e})=>e));e((0,o.SC)({accountId:t,updatedProperties:s,updatedAccount:r,requestTimestamp:n}))}})).catch((a=>{e((0,o.Hn)({error:a,accountId:t,updatedProperties:s,requestTimestamp:n}))}))},function(e,t,s){if(t.unsyncedDataType!==l.sKi.LINK_ENHANCER_TO_FETCH)return Promise.resolve();const{dispatch:a}=e,{cardUrl:n}=t;return s.linkEnhancerClient.get(n).then((({linkInfo:e})=>a((0,Te.ND)({id:n,cardUrl:n,linkInfo:e})))).catch((e=>a((0,Te.qP)({id:n,cardUrl:n,error:e}))))},Je,(e,t,s)=>{const{dispatch:a}=e,{unsyncedDataType:n,messageId:r}=t;return n!==l.sKi.UNSUBSCRIBE_EMAIL?Promise.resolve():s.subscriptionAPIClient.unsubscribeByEmail(t).then((e=>a((0,je.B_)({unsubscribe:e,messageId:r})))).catch((e=>a((0,je.P4)({error:e,messageId:r}))))},(e,t,s)=>{const{dispatch:a,getState:n}=e,{unsyncedDataType:r,brandId:o}=t;if(r!==l.sKi.UNSUBSCRIBE_BRAND)return Promise.resolve();if((0,c.selectors)(n()).getSetting(l.ANe.DISABLE_UNSUBSCRIBE_FEATURE))return Promise.resolve().then((()=>{a((0,je.H)({brandId:o,subscriptions:[]}))}));const{subscriptions:i}=(0,Ye.selectors)(n()[Ye.key]).getBrandInfo(o);return s.subscriptionAPIClient.unsubscribeByBrand({subscriptions:i,...t}).then((({subscriptions:e})=>a((0,je.H)({brandId:o,subscriptions:e})))).catch((e=>a((0,je.zZ)({error:e,brandId:o}))))},function({dispatch:e,getState:t},{unsyncedDataType:s},{breakingNewsClient:n}){if(s!==l.sKi.BREAKING_NEWS)return Promise.resolve();const{isFeatureEnabled:r}=(0,c.selectors)(t()),o=r(l.ANe.BREAKING_NEWS_TEST_PARAM);return n.request({testParam:o}).then((t=>{e({type:a.BREAKING_NEWS_SUCCESS,news:t})})).catch((t=>{e({type:a.BREAKING_NEWS_FAILED,error:t})}))},(e,t,a)=>{const{dispatch:n}=e,{mailboxId:r,accountId:o,email:i,sortOrder:c}=t;if(t.unsyncedDataType!==l.sKi.SUBSCRIPTION_LIST)return Promise.resolve();const d=c===l.Asd.ALPHA_ASC?"brandname.asc":"score.desc",E=s.e(841).then(s.bind(s,2464)),_=a.subscriptionAPIClient.getSubscriptions({mailboxId:r,accountId:o,email:i,sort:d});return Promise.all([_,E]).then((([e])=>n((0,et.$1)({response:e,accountId:o,sortOrder:c})))).catch((e=>n((0,et.T7)({error:e,sortOrder:c}))))},(e,t,a)=>{const{dispatch:n,getState:r}=e,{getFeaturesSelectors:o}=(0,c.selectors)(r()),{getSetting:i}=o(),d=i(l.Zrf.SUBHUB_RECO_FILTER),E=i(l.Zrf.SUBHUB_RECO_COUNT),{mailboxId:_,accountId:u,email:m,sortOrder:S}=t;if(t.unsyncedDataType!==l.sKi.SUBHUB_RECOMMENDATION_LIST)return Promise.resolve();let p,C=S===l.Asd.ALPHA_ASC?"brandname.asc":"score.desc";"vz"===d||"thirdParty"===d?p=d:"sortByRandom"===d&&(C="random.desc");const A=s.e(841).then(s.bind(s,2464)),T=a.subscriptionAPIClient.getSubhubRecommendations({mailboxId:_,accountId:u,email:m,sort:C,brandowner:p,count:E});return Promise.all([T,A]).then((([e])=>n((0,et.F7)({response:e,accountId:u,sortOrder:S})))).catch((e=>n((0,et.nm)({error:e,sortOrder:S}))))},(e,t,s)=>{const{unsyncedDataType:a,provider:n}=t,{dispatch:r}=e;return a!==l.sKi.CLOUD_STORAGE_ACCOUNT_AUTH_URL?Promise.resolve():((0,E.jU)()||(0,Y.Z)("Bootcamp cloud storage account linking needs be called from the browser"),s.cloudStorageClient.linkContentProvider({provider:n}).then((({authorizationURL:e})=>{r((0,qe.JB)({url:e,provider:n}))})).catch((e=>r((0,qe.S$)({error:e,provider:n})))))},(e,t,s)=>{const{unsyncedDataType:a,source:n,listId:r,query:o,id:i,path:d}=t,{dispatch:_}=e,{getListsSelectors:u,getSelectedAccountId:m}=(0,c.selectors)(e.getState()),{doesListExist:S,getListNextItemsUrl:p,getListOffset:C}=u(),A=S(r)?p(r):"",T=S(r)?C(r):0,h=m();return a!==l.sKi.CLOUD_STORAGE_ITEMS_TO_FETCH?Promise.resolve():((0,E.jU)()||(0,Y.Z)("Bootcamp cloud storage account linking needs be called from the browser"),s.cloudStorageClient.cloudStorageItems({source:n,query:o,path:d,nextItemsUrl:A,accountId:h,offset:T}).then((e=>_((0,tt.pd)({altListId:r,query:o,path:d,id:i,source:n},e)))).catch((e=>_((0,tt.ob)({altListId:r,query:o,path:d,id:i,source:n},e)))))},function(e,t,s){const{dispatch:a,getState:n}=e,{unsyncedDataType:r}=t,{getFeaturesSelectors:o}=(0,c.selectors)(n()),{isEnabled:i}=o();return r!==l.sKi.FETCH_CLOUD_STORAGE_PROVIDERS?Promise.resolve():i(l.ANe.CLOUD_STORAGE)?s.cloudStorageClient.getContentProviders().then((e=>{a((0,tt.aX)({contentProviders:e}))})).catch((e=>a((0,tt.YS)({error:e})))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a,provider:n,unlink:r}=t,{dispatch:o}=e;return a!==l.sKi.UNLINK_CLOUD_STORAGE_ACCOUNT?Promise.resolve():((0,E.jU)()||(0,Y.Z)("Bootcamp cloud storage account unlinking needs be called from the browser"),s.cloudStorageClient.linkContentProvider({provider:n,unlink:r}).then((()=>{o((0,tt.h_)({provider:n}))})).catch((e=>{o((0,tt.J3)({error:e,provider:n}))})))},(e,t,s)=>{const{unsyncedDataType:a,itemId:n,provider:r}=t,{dispatch:o}=e;return a!==l.sKi.CLOUD_STORAGE_ITEM_SHAREABLE_LINK?Promise.resolve():((0,E.jU)()||(0,Y.Z)("Bootcamp cloud storage shareable link fetching needs be called from the browser"),s.cloudStorageClient.getShareableLink({itemId:n,provider:r}).then((({shareableLink:e})=>{o((0,tt.Av)({shareableLink:e,itemId:n,provider:r}))})).catch((e=>o((0,tt.Cb)({error:e,itemId:n,provider:r})))))},async function(e,t,{mailAPIClient:s}){const{mailboxId:a,messageId:n,unsyncedDataType:r}=t,{dispatch:o}=e;if(r!==l.sKi.PHISHING_REMOVE_BDM_DECO)return;const i=[{messageId:n,decos:[{id:"-"+l.Jd6.BDM}]}];try{await s.request("messages.updateDecos",{mailboxId:a,messageDecosPayloads:i}),o((0,N.mF)({messageId:n,mailboxId:a}))}catch(c){o((0,N.V5)(c))}},async function(e,t,{mailAPIClient:s}){const{mailboxId:a,messageId:n,unsyncedDataType:r}=t,{dispatch:o,getState:i}=e,{getMessagesSelectors:d}=(0,c.selectors)(i()),{getSchemaOrg:E}=d();if(r!==l.sKi.REMOVE_SPAM_SCHEMA)return;const _=E(n),u=[{messageId:n,schemaOrgToUpdate:_}];try{await s.request("messages.updateSchemaOrg",{mailboxId:a,messageSchemaOrgPayloads:u}),o((0,N.eZ)({messageId:n,mailboxId:a}))}catch(m){Se.Z.error("update_schemaOrg_failed",{messageId:n,schemaOrgToUpdate:_}),o((0,N.eH)({error:m,mailboxId:a,messageId:n}))}},({getState:e,dispatch:t},{unsyncedDataType:s},{membershipRewardsClient:n})=>{if(s!==l.sKi.MEMBERSHIP_REWARDS_LAUNCH)return Promise.resolve();const{getSetting:r}=(0,c.selectors)(e()),o={atosTestParam:r(l.Zrf.TMR_ATOS_TEST_PARAM)};return n.request("launch",o).then((e=>{const s=(((0,h.u9)(e,"body.lastRegisteredActions",[]).filter((e=>e.rewardsActionType===l.Zkw.DAILY_CHECKIN))[0]||{}).completedChallenges||[]).some((e=>e.tag===l.to8.DAILY_CHECKIN)),n={atosStatus:(0,h.u9)(e,"body.atos.atosStatus"),lastRegisteredActions:(0,h.u9)(e,"body.lastRegisteredActions"),mailChallengesProgress:(0,h.u9)(e,"body.mailChallengesProgress"),pointsBalance:(0,h.u9)(e,"body.pointsBalance")};if(s){const t=(0,h.u9)(e,"body.mailChallengesProgress",[]).filter((e=>e.tag===l.to8.DAILY_CHECKIN))[0];n.dailyCheckinCount=t.repeatedTimes}t({type:a.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS,data:e.body,i13nModel:{mKey:x.JE.TMR_LAUNCH_SUCCESS,sec:x.nJ.MEMBERSHIP_REWARDS,actionData:n}})})).catch((e=>{t({type:a.MEMBERSHIP_REWARDS_LAUNCH_FAILED,error:e,i13nModel:{mKey:x.JE.TMR_LAUNCH_FAILED,sec:x.nJ.MEMBERSHIP_REWARDS,actionData:{error:e}}})}))},({getState:e,dispatch:t},{unsyncedDataType:s,rewardsActionType:n},{membershipRewardsClient:r})=>{if(s!==l.sKi.TMR_REGISTER_ACTION)return Promise.resolve();const{getMembershipRewardsSelectors:o,getSetting:i}=(0,c.selectors)(e()),{id:d}=o().getRewardsAction(n),E={actionId:d,rewardsActionType:n,atosTestParam:i(l.Zrf.TMR_ATOS_TEST_PARAM)};return r.request("registerUserAction",E).then((e=>{const s={rewardsActionType:n,...e.body};if(n===l.Zkw.DAILY_CHECKIN){if((0,h.u9)(e,"body.completedChallenges",[]).some((e=>e.tag===l.to8.DAILY_CHECKIN))){const t=(0,h.u9)(e,"body.completedChallengesProgress",[]).filter((e=>e.tag===l.to8.DAILY_CHECKIN))[0]||{};s.dailyCheckinCount=t.repeatedTimes}}t({type:a.TMR_REGISTER_ACTION_SUCCESS,data:e.body,rewardsActionType:n,i13nModel:{mKey:x.JE.TMR_REGISTER_ACTION_SUCCESS,sec:x.nJ.MEMBERSHIP_REWARDS,actionData:s}})})).catch((e=>{t({type:a.TMR_REGISTER_ACTION_FAILED,error:e,rewardsActionType:n,i13nModel:{mKey:x.JE.TMR_REGISTER_ACTION_FAILED,sec:x.nJ.MEMBERSHIP_REWARDS,actionData:{error:e}}})}))},({getState:e,dispatch:t},{unsyncedDataType:s},{obiApiClient:n})=>{if(s!==l.sKi.PURCHASE_MAILPRO_FREE_TRIAL)return Promise.resolve();const{getSetting:r,getAccountSelectors:o,getSelectedAccountId:i}=(0,c.selectors)(e()),d=r(l.Zrf.PURCHASE_OFFER_TEST_PARAM),E=r(l.Zrf.LIST_SUBSCRIPTION_TEST_PARAM),_=(o().getPrimaryAccount()||{}).email||"",{getAccountNameByAccountId:u}=o(),m={purchaseOfferTestParam:d,listSubscriptionTestParam:E,contactEmail:_,accountName:u(i())||""};return n.request("purchaseOffer",m).then((()=>{t({type:a.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS,i13nModel:{mKey:x.JE.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS,sec:x.nJ.MAILPRO_FREE_TRIAL}})})).catch((e=>{t({type:a.PURCHASE_MAILPRO_FREE_TRIAL_FAILED,error:e,i13nModel:{mKey:x.JE.PURCHASE_MAILPRO_FREE_TRIAL_FAILED,sec:x.nJ.MAIL_PREMIUM_FREE_TRIAL,actionData:{error:e}}})}))},({getState:e,dispatch:t},{unsyncedDataType:s},{obiApiClient:n})=>{if(s!==l.sKi.LIST_MAIL_PREMIUM_SUBSCRIPTIONS)return Promise.resolve();const{getSetting:r}=(0,c.selectors)(e()),o=r(l.Zrf.LIST_SUBSCRIPTION_TEST_PARAM),i=r(l.Zrf.DAYS_IN_TRIAL_TEST_PARAM);let d=(new Date).getTime();i>=1&&(d=(0,$e.subDays)(new Date,i-1).getTime());const E={listSubscriptionTestParam:o,mockedTrialStartDate:d};return n.request("listSubscription",E).then((e=>{t({type:a.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS,data:e.body,i13nModel:{mKey:x.JE.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS,sec:x.nJ.MAIL_PREMIUM_FREE_TRIAL,actionData:e.body}})})).catch((e=>{t({type:a.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED,error:e,i13nModel:{mKey:x.JE.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED,sec:x.nJ.MAIL_PREMIUM_FREE_TRIAL,actionData:{error:e}}})}))},(e,t,s)=>{const{dispatch:a,getState:n}=e,{unsyncedDataType:r,preferenceCode:o}=t;if(r!==l.sKi.MARKETING_PREFERENCES_TO_UNSUBSCRIBE&&r!==l.sKi.MARKETING_PREFERENCES_TO_SUBSCRIBE)return Promise.resolve();const{getAccountSelectors:i}=(0,c.selectors)(n()),d=(i().getPrimaryAccount()||{}).email||"";let E;return E=r===l.sKi.MARKETING_PREFERENCES_TO_UNSUBSCRIBE?s.marketingPreferencesAPIClient.unsubscribe({preferenceCode:o,email:d}):s.marketingPreferencesAPIClient.subscribe({preferenceCode:o,email:d}),E.then((()=>{a((0,at._L)({preferenceCode:o}))})).catch((e=>{a((0,at.I4)({error:e,preferenceCode:o}))}))},(e,t,s)=>{const{unsyncedDataType:n,eligibleFalconTOMGroupIds:r=[],prefetchMode:o=null,openedGroupId:i="",openedMessageId:d=""}=t,{dispatch:E,getState:_}=e,{getCurrentGroupId:u,getMessageIdsFromMessageGroupId:m,getMessagesSelectors:S,getSubjectsAndSnippetsSelectors:p,getAttachmentCountByMessageId:C,getGroupIdContainingMessageId:A,__getMessage:T,getSelectedMailboxId:h,getSelectedAccountId:g,getEmailOfSelectedAccount:I,getCurrentListId:R,getFalconTOMSubscriptionSelectors:O,isFeatureEnabled:D}=(0,c.selectors)(_());if(n!==l.sKi.MESSAGE_ITEM_TO_FETCH&&n!==l.sKi.POST_LUNCH_TO_SYNC)return Promise.resolve();if(D(l.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED))return Promise.resolve();const N=h(),f=g(),M=I(),L=u();n===l.sKi.POST_LUNCH_TO_SYNC&&L&&r.push(L);const{getMessageIdRfc822:P,getImmutableId:y,getMessageId:b}=S(),{getSubject:F,getSnippet:U}=p(),v=R(),{getFalconTOMSubscriptionsApiCallStatus:w}=O(),G=r.reduce(((e,t)=>{if(w(t)!==l.bYh.LOADING){const s=m(t)[0],a=b(s),n=T(a),{cardConversationId:r,conversationId:o,headers:i,decos:l,schemaOrg:c}=n,d={headers:{...i,subject:F(a,v),internalDate:i.date||"",messageIdRfc822:P(a)},id:a,conversationId:o,cardConversationId:r,immutableid:y(a)||a,snippet:U(a,v),decos:l,attachmentCount:C(a),schemaOrg:c};e.push(d)}return e}),[]);return G.length&&setImmediate((()=>{var e;E((e={groupIds:r},{...e,type:a.FALCON_TOM_SUBSCRIPTIONS_FETCH_REQUESTED}))})),G.length?s.falconAPIClient.getFalconTOMSubscriptions(G,r,o,i,d,N,f,M).then((e=>{const t=e.reduce(((e,t)=>{const s=t&&A(t.messageId);return s&&(e[s]=t),e}),{});var s;E((s={responseList:t,groupIds:r},{...s,type:a.FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED}))})).catch((e=>{var t;E((t={error:e,groupIds:r},{...t,type:a.FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED}))})):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:n,messageIds:r=[],retryCount:o=0,groupId:i}=t,{dispatch:d,getState:E}=e,{getSelectedMailboxId:_,getGroupIdContainingMessageId:u}=(0,c.selectors)(E());if(n!==l.sKi.CARD_TO_FETCH)return Promise.resolve();const m=_();return s.mailAPIClient.request("messages.getBodies",{mailboxId:m,messageIds:r,full:!0,secure:!0,batchRelatedCards:!0,messagIdsToFetchCards:r,suppressed:!0},{retryCount:o}).then((e=>{if(!Object.keys(e.result.relatedCardsMap).length)throw new Error("Falcon related cards response unavailable");const t=Object.keys(e.result.relatedCardsMap).reduce(((t,s)=>{const a=u(s);return a?t[a]=e.result.relatedCardsMap[s]:t[s]=e.result.relatedCardsMap[s],t}),{});var s;d((s={relatedCardsMap:t,groupId:i},{...s,type:a.RELATED_CARDS_FETCH_SUCCEEDED}))})).catch((e=>{var t;d((t={error:e,groupId:i},{...t,type:a.RELATED_CARDS_FETCH_FAILED}))}))},async(e,t,s)=>{const{unsyncedDataType:n,selectedOfferId:r,useDispatcherClient:o=!1,optOutCodes:i,clientos:c}=t;if(n!==l.sKi.DISPATCHER_UPSELLS)return;const{dispatch:d}=e;try{let e;if(o){var E,_;const t=(null===(E=window)||void 0===E||null===(_=E.AppBootstrapData)||void 0===_?void 0:_.buckets)||[];e=await s.subdispatcherAPIClient.plutusSubscriptionUpsells({optOutCodes:i,selectedOfferId:r,clientos:c,bucket:t.length?t.join(","):0})}else e=await s.falconAPIClient.getOfferDecision({selectedOfferId:r});d((u=e,{...u,type:a.DISPATCHER_UPSELL_FETCH_SUCCEEDED}))}catch(m){d((e=>({...e,type:a.DISPATCHER_UPSELL_FETCH_FAILED}))({error:m}))}var u},async(e,t,s)=>{const{unsyncedDataType:n,placementname:r,coreAction:o,contextPayload:i}=t;if(n!==l.sKi.TOUCHPOINT_UPSELL)return Promise.resolve();const{dispatch:c}=e,d=[{parameters:{"mail.coreAction":o},placementname:r,context:i}];return s.falconAPIClient.getOfferDecisionByAction({payload:d}).then((e=>c((e=>({...e,type:a.TOUCHPOINT_UPSELL_FETCH_SUCCEEDED}))(e)))).catch((e=>c((e=>({...e,type:a.TOUCHPOINT_UPSELL_FETCH_FAILED}))({error:e}))))},async(e,t,s)=>{const{unsyncedDataType:n,placementname:r}=t;if(n!==l.sKi.RIGHT_RAIL_ADBLOCK_UPSELL)return;const{dispatch:o}=e,i=[{placementname:r}];try{o((e=>({...e,type:a.RIGHT_RAIL_ADBLOCK_UPSELL_FETCH_SUCCEEDED}))(await s.falconAPIClient.getOfferDecisionByAction({payload:i})))}catch(c){o((e=>({...e,type:a.RIGHT_RAIL_ADBLOCK_UPSELL_FETCH_FAILED}))({error:c}))}},function({dispatch:e},t,{tastemakerClient:s}){return t.unsyncedDataType!==l.sKi.CONSUME_TASTEMAKER?Promise.resolve():s.consumeTastemaker(t.featureName).then((t=>{e({type:a.TASTEMAKER_CONSUME_SUCCEEDED})})).catch((t=>{e((e=>({type:a.TASTEMAKER_CONSUME_FAILED,error:e}))(t))}))},function({dispatch:e},t,{tastemakerClient:s}){return t.unsyncedDataType!==l.sKi.DELETE_TASTEMAKER?Promise.resolve():s.deleteTastemaker(t.featureName).then((t=>{e({type:a.TASTEMAKER_DELETE_SUCCEEDED})})).catch((t=>{e((e=>({type:a.TASTEMAKER_DELETE_FAILED,error:e}))(t))}))},async(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e;if(a!==l.sKi.BLOCKED_DOMAINS_FETCH)return Promise.resolve();try{const e=await s.mailAPIClient.request("savedSearches.getBlockedDomains");n((0,rt.WX)({items:e}))}catch(r){n((0,rt.Ze)(r))}},async(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e,{domainNames:r,isFromSubscriptionsView:o}=t;if(a!==l.sKi.BLOCKED_DOMAIN_ADD)return Promise.resolve();try{const e=await s.mailAPIClient.request("savedSearches.addBlockedDomain",{domainNames:r});n((0,rt.Io)({items:e,domainNames:r,isFromSubscriptionsView:o}))}catch(i){n((0,rt.Z0)({error:i,domainNames:r}))}},async(e,t,s)=>{const{unsyncedDataType:a,id:n}=t,{dispatch:r}=e;if(a!==l.sKi.BLOCKED_DOMAIN_DELETE)return Promise.resolve();try{const e=await s.mailAPIClient.request("savedSearches.deleteBlockedDomain",{id:n});r((0,rt.JN)({items:e,id:n}))}catch(o){r((0,rt.IL)({error:o,id:n}))}}],lt={[a.SYNC_DATA]:[...ot.map((e=>({syncer:e,isomorphic:!0}))),...it.map((e=>({syncer:e})))],[a.CREATE_FOLDER_REQUESTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e,r=n(),{getSelectedMailboxId:o,isMobileRoute:i}=(0,c.selectors)(r);if(!i())return Promise.resolve();const{folderName:l,accountId:d}=t,E=o();return s.mailAPIClient.request("folders.create",{mailboxId:E,folderName:l,accountId:d}).then((e=>{a((0,se.zX)({folder:e.folder}))})).catch((e=>a((0,se.aU)({folderName:l,error:e}))))},[a.MORE_RECEIPTS_REQUESTED]:Re,[a.LOCATION_SUGGEST_REQUESTED]:function(e,t,s){const{dispatch:a}=e,{query:n,i13nModel:r,partner:o}=t;return Promise.resolve(s.locationAutoSuggestClient.getLocationSuggestion(n,o)).then((e=>{a((0,ye.ci)({...n,...e,i13nModel:r}))})).catch((e=>a((0,ye.rY)(e))))},[a.RESPOND_TO_INVITE]:(e,t,s)=>{const{messageId:a,uid:n,response:r,oldResponse:o,email:i}=t,{dispatch:l}=e,c={numGuests:0,partStat:r,email:i,comment:""};return s.calendarClient.sendReply(n,c).then((()=>l((0,T.kr)({uid:n,response:r,messageId:a})))).catch((()=>l((0,T.iv)({uid:n,response:o,messageId:a}))))},[a.OPEN_PAGE_REQUESTED]:[ze],[a.EXTRACT_COUPON_REQUESTED]:function({dispatch:e,getState:t},{messageId:s,description:a,expiryDate:n},{mailAPIClient:r}){const{getSelectedMailboxId:o,getFoldersSelectors:i,getMessagesSelectors:d,getMessageFolderId:E}=(0,c.selectors)(t()),{getUserCardFolderIds:_,getAccountIdByFolderId:u}=i(),{getFromAddresses:m,getReplyToAddresses:S}=d(),p=o(),C=u(E(s)),A=_(C),T=[{id:l.Jd6.CRD,type:l.cip.NORMAL},{id:l.Jd6.CPN,type:l.cip.NORMAL},{id:l.Jd6.TAG,type:l.cip.NORMAL}],h={from:m(s),replyTo:S(s),subject:a},g=[{schema:{"@id":(0,O.generateRandomStringWithLength)({min:10,max:40}),"@type":l.rgK.Coupon,validThrough:n,description:a,identifier:[{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"searchTerms",value:a},{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"cardDate",value:"$.validThrough"}]}}];if(!(s&&A&&a&&n))return Promise.resolve();r.request("cards.create",{mailboxId:p,messageId:s,destinationFolderId:A,headers:h,decos:T,schemaOrg:g}).then((t=>{e((0,R.eu)({messageId:s,listId:(0,D.tE)("{}",{listContentType:l.F6k.COUPON_CARDS,listFilter:l.ukn.SAVED_COUPON_CARDS,accountIds:[C],referrer:l.qd8[l.K8C.COUPONS]}),...t}))})).catch((t=>{e((0,R.V3)(t))}))},[a.LAUNCH_COMPLETED]:[function(e,t,s){const a=ce.Z.feature("migrate_aol_settings"),{dispatch:n,getState:r}=e,{getSelectedMailboxId:i,getSetting:d}=(0,c.selectors)(r()),E=i();if(d(l.ANe.ENABLE_SETTINGS_MIGRATION)&&""===d(l.Zrf.MIGRATION_STATUS)&&1===d(l.Zrf.SNIPPETS)&&!1===d(l.Zrf.SHOW_IMAGES)){let e=[];return(0,Y.Z)(E,"mailboxId is missing -> in the migrate_aol_settings middleware must be executed  *after* the get_mailboxes_with_wssid middleware."),s.mailAPIClient.request("mailbox.getAttributes",{mailboxId:E,attributes:l.C2H},{appId:"aolwebmail"}).then((t=>{var s;if(null==t||!t.responses)throw new Error("mailbox.getAttributes response returned empty");if(e=function(e){const t={[l.C2H.AOL_MOBILE_SNIPPETS]:{migrateTo:l.Zrf.SNIPPETS,newValue:e=>e},[l.C2H.AOL_MOBILE_BLOCK_IMAGES]:{migrateTo:l.Zrf.SHOW_IMAGES,newValue:e=>!e}},s=[];return Object.keys(e).forEach((a=>{const n=e[a],r=t[a];r&&s.push({name:r.migrateTo,value:r.newValue(n[a]||n.value)})})),s}(t.responses),null===(s=e)||void 0===s||!s.length)throw new Error("mailbox.getAttributes response returned incorrect");n((0,o.zp)({updatedSettingAttributes:e})),a.logSuccessAndLatency()})).catch((e=>{n((0,o.SI)({error:e})),a.logFailure(e)}))}},ze],[a.DELETE_CONTACT_SUGGESTIONS_REQUESTED]:(e,t,s)=>{const{dispatch:a}=e;return s.autoSuggestClient.blockContact(t).then((()=>a((0,G.deleteContactSuggestionSucceeded)({contactInfo:t.contactInfo})))).catch((e=>a((0,G.deleteContactSuggestionFailed)(e))))},[a.FEATURE_CLOSED]:ee,[a.FEATURE_TRY_NOW_REQUESTED]:ee,[a.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED]:te,[a.BLOCK_SENDERS_REQUESTED]:Ve,[a.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:Ve,[a.SETTINGS_CHANGE_REQUESTED]:[Je,I],[a.AOL_SETTINGS_MIGRATION_SUCCEEDED]:I,[a.SETTINGS_SAVE_FILTERS_REQUESTED]:function(e,t,s){const{dispatch:a,getState:n}=e,{isFeatureEnabled:r,getPrimaryAccountId:i,getSelectedMailboxId:d,getFolderIdsByPath:E,getSetting:_}=(0,c.selectors)(n()),{name:u,value:m,actionType:S,selectedFilterIds:p}=t;let C,A;if(r(l.ANe.USE_SAVED_SEARCH_FOR_FILTERS)){const e=i(),t=d();let n;switch(S){case"create":case"update":{"update"===S?n=m.find((e=>e.id===p[0])):(n=m[m.length-1],n.priority=(0,O.getFilterPriority)(_(l.Zrf.MESSAGE_FILTERS)));const s=E(n.actions[0].value.folderActionValueBean.folder.name);n.folderId=s[0],C="savedSearches.saveMessageFilters",A={mailboxId:t,actionType:S,accountId:e,newFilter:n};break}case"rearrange":{const s=m.find((e=>e.id===p[0])),a=m.find((e=>e.id===p[1]));((e,t)=>{e.priority=e.priority+t.priority,t.priority=e.priority-t.priority,e.priority=e.priority-t.priority})(s,a),C="savedSearches.updateMessageFilterPriority",A={mailboxId:t,actionType:S,accountId:e,filtersToUpdate:[s,a]};break}case"delete":C="savedSearches.deleteMessageFilter",A={mailboxId:t,actionType:S,newFilter:{id:p[0]}}}return s.mailAPIClient.request(C,{...A}).then((e=>{if("create"===S){const t=e;m[m.length-1].id=t.id}return a((0,o.FV)({name:u,value:m}))})).catch((e=>a((0,o.f6)({error:e,name:u,value:m}))))}return s.mailAPIClient.request("settings.saveMessageFilters",{payload:m}).then((()=>a((0,o.FV)({name:u,value:m})))).catch((e=>a((0,o.f6)({error:e,name:u,value:m}))))},[a.AD_FEEDBACK_STARTED]:(e,{sectionId:t,isAdFeedbackV2:s})=>{S(e,m(s?{beaconType:"fdb_cta",isAdFeedbackV2:s}:{beaconType:"fdb_start"}),t)},[a.AD_FEEDBACK_SUBMITTED]:p,[a.AD_FEEDBACK_CLICKED]:p,[a.SPONSORED_SAVE_TO_INBOX_REQUESTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e,{getAccountSelectors:r,getSelectedMailboxId:o,getRoute:i,getAccountIdByFolderId:l,getInboxFolderIdByAccountId:d}=(0,c.selectors)(n()),{getAccountById:E}=r(),_=o(),u=i(),m=(0,D.LY)(u),S=l((0,D.Fh)(m)),p=E(S),C=d(S),A={csid:(0,O.generateUID)(),mailboxId:_,subject:t.subject,html:t.asset,from:[p],folderId:C};return s.mailAPIClient.request("sponsoredMessages.save",A,{strategy:M.Z.STRATEGIES.BROWSER_TO_JEDI,timeout:35e3}).then((({message:e})=>{a((0,ae.Xw)({message:e,simpleBody:{html:A.html,htmlAnnotations:[]}}))})).catch((()=>a((0,ae.WA)())))},[a.SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED]:(e,t,s)=>{const{dispatch:a}=e,{provider:n}=t;return s.credstoreClient.unlink({spid:l.ZUn[n],provider:n}).then((()=>{a((0,qe.s)({provider:n}))})).catch((e=>{a((0,qe.Oy)({error:e}))}))},[a.POST_LAUNCH_SYNC_SUCCEEDED]:[ze]}},73821:(e,t,s)=>{"use strict";s.d(t,{pB:()=>d,qP:()=>E,nw:()=>_,nu:()=>u,XL:()=>m,Dj:()=>S,zJ:()=>p,WF:()=>C,Sm:()=>A,z_:()=>T});var a=s(50566),n=s(37422),r=s(31057),o=s(13556),i=s(85927);function l(e,t){const{getFolderIdsForSelectedAccount:s}=(0,i.selectors)(e.store.getState());return s(t)[0]}function c(e,t,s){const{getListLmv3Query:n,getSelectedAccountId:l,doesListExist:c}=(0,i.selectors)(e.store.getState()),d=l(),{listId:E,destinationFolderId:_,allItemsCount:u,flags:m,triageActionType:S}=t,p=(0,r.Fh)(E),C=c(E)?n(E):void 0,A=C?JSON.parse(C):void 0;let T=A?A.base:null;if(!T&&p&&(T=(0,o.q$)({folderId:p})),!T)return;A&&A.token&&(T+=` querytoken:${A.token}`);const h=-1!==[a.DELETE_ITEMS_REQUESTED,a.READ_CHANGE_REQUESTED].indexOf(s)?p:_;e.dispatch(s,{...t,accountId:d,folderId:h,isAsync:!0,conversations:!1,count:u,allSelected:!0,isV2Action:!0,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:S,folderId:h,conversations:!1},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:S,folderId:h}});const g={folderId:p,query:T,isAsync:!0,isConversation:!1,..._&&{destinationFolderId:_},...m&&{flags:m}},I=t.permanent?"folderList.delete":"folderList.update";return e.mailAPIClient.request(I,[g]).then((({task:t})=>e.dispatch(a.BULK_PROGRESS_RECEIVED,t))).catch((s=>e.dispatch(a.UPDATE_ITEMS_FAILED,{conversations:!1,count:u,allSelected:!0,destinationFolderType:t.destinationFolderType,triageActionType:S,error:s})))}function d(e,t){return c(e,{...t,triageActionType:n.Ewo.MOVE_ALL_ITEMS,flags:null},a.MOVE_ITEMS_REQUESTED)}function E(e,t){return c(e,{...t,flags:null,destinationFolderType:n.Sck.TRASH,destinationFolderId:l(e,n.Sck.TRASH),triageActionType:n.Ewo.DELETE_ALL_ITEMS},a.DELETE_ITEMS_REQUESTED)}function _(e,t){return c(e,{...t,flags:null,destinationFolderType:n.Sck.ARCHIVE,destinationFolderId:l(e,n.Sck.ARCHIVE),triageActionType:n.Ewo.ARCHIVE_ALL_ITEMS},a.MOVE_ITEMS_REQUESTED)}function u(e,t){return c(e,{...t,flags:null,destinationFolderType:n.Sck.INBOX,destinationFolderId:l(e,n.Sck.INBOX),triageActionType:n.Ewo.RESTORE_ALL_ITEMS},a.MOVE_ITEMS_REQUESTED)}function m(e,t){return c(e,{...t,flags:{spam:!0},destinationFolderType:n.Sck.BULK,destinationFolderId:l(e,n.Sck.BULK),triageActionType:n.Ewo.SPAM_ALL_ITEMS},a.MOVE_ITEMS_REQUESTED)}function S(e,t){return c(e,{...t,flags:{ham:!0},destinationFolderType:n.Sck.INBOX,destinationFolderId:l(e,n.Sck.INBOX),triageActionType:n.Ewo.NOT_SPAM_ALL_ITEMS},a.MOVE_ITEMS_REQUESTED)}function p(e,t){return c(e,{...t,isRead:!1,flags:{read:!0},triageActionType:n.Ewo.READ_CHANGE_ALL_ITEMS},a.READ_CHANGE_REQUESTED)}function C(e,t){return c(e,{...t,isRead:!0,flags:{read:!1},triageActionType:n.Ewo.READ_CHANGE_ALL_ITEMS},a.READ_CHANGE_REQUESTED)}function A(e,t){return c(e,{...t,isStarred:!1,flags:{flagged:!0},triageActionType:n.Ewo.STAR_CHANGE_ALL_ITEMS},a.STAR_CHANGE_REQUESTED)}function T(e,t){return c(e,{...t,isStarred:!0,flags:{flagged:!1},triageActionType:n.Ewo.STAR_CHANGE_ALL_ITEMS},a.STAR_CHANGE_REQUESTED)}},62201:(e,t,s)=>{"use strict";s.d(t,{wD:()=>i,AV:()=>l,vr:()=>c,Ve:()=>d,FH:()=>E});var a=s(50566),n=s(37422),r=s(99691),o=s(85927);function i(e){return{...e,type:a.ATTACHMENT_ZOOMED}}function l(e,{i13nModel:t}){e.dispatch(a.ATTACHMENT_OPENED,{i13nModel:t})}function c(e,{documentId:t,pageNumber:s=1}){const{getDocumentSelectors:i}=(0,o.selectors)(e.store.getState()),l=i().getNumberOfPages(t)||n._ob.PAGES_CHUNK_SIZE,{startPage:c,endPage:d}=(0,r.Vb)(s,l,n._ob.PAGES_CHUNK_SIZE);e.dispatch(a.DOCUMENT_FETCH_REQUESTED,{documentId:t,startPage:c,endPage:d})}function d({attachment:e,i13nModel:t}){const{id:s,filename:n,downloadUrl:r}=e;return{attachment:e,type:a.ATTACHMENT_DOWNLOADED,download:{downloadId:s,downloadUrl:r,filename:n,fileCount:1},i13nModel:t}}function E({attachments:e,downloadUrl:t,downloadId:s,filename:n,i13nModel:r}){return{attachments:e,type:a.ALL_ATTACHMENTS_DOWNLOADED,download:{downloadId:s,downloadUrl:t,filename:n,fileCount:e.length},i13nModel:r}}},13556:(e,t,s)=>{"use strict";s.d(t,{DT:()=>l,q$:()=>d,L6:()=>E,UA:()=>_,tk:()=>u,HE:()=>m,zA:()=>S,WD:()=>p,p2:()=>C});var a=s(50566),n=s(31057),r=s(3405),o=s(37422),i=s(85927);const l=1e4;function c(e,t){const{getFeaturesSelectors:s}=(0,i.selectors)(e.store.getState());return t>=s().getSetting("bulkActionDialogThreshold")}function d({folderId:e,filterUnread:t=!1}){let s=`folderId:${e} count:${l}`;return t&&(s+=" is:unread"),s}function E(e,{accountId:t,folderName:s,alertFromModalDialog:n=!1,i13nModel:r={}}){return e.dispatch(a.CREATE_FOLDER_REQUESTED,{accountId:t,folderName:s,i13nModel:r}),e.mailAPIClient.request("folders.create",{folderName:s,accountId:t}).then((t=>{e.dispatch(a.CREATE_FOLDER_SUCCEEDED,{folder:t.folder,alertFromModalDialog:n})})).catch((t=>{e.dispatch(a.CREATE_FOLDER_FAILED,{folderName:s,alertFromModalDialog:n,error:t})}))}function _(e,{streamId:t,listId:s,folderId:n,unreadCount:r,i13nModel:i}){const d=Math.min(r,l),E=c(e,d);e.dispatch(a.READ_CHANGE_REQUESTED,{folderId:n,listId:s,isAsync:E,count:d,isRead:!1,flags:{read:!0},allSelected:!0,streamId:t,triageActionType:o.Ewo.READ_CHANGE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.Ewo.READ_CHANGE_FOLDER_ITEMS,folderId:n},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:o.Ewo.READ_CHANGE_FOLDER_ITEMS,folderId:n},i13nModel:i})}function u(e,{folderId:t,total:s,streamId:r,i13nModel:i}){const d=(0,n.Kw)(t),E=o.Sck.ARCHIVE,_=Math.min(s,l),u=c(e,_);e.dispatch(a.MOVE_ITEMS_REQUESTED,{streamId:r,listId:d,folderId:t,destinationFolderType:E,isAsync:u,count:_,allSelected:!0,triageActionType:o.Ewo.ARCHIVE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.Ewo.ARCHIVE_FOLDER_ITEMS,folderId:t},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:o.Ewo.ARCHIVE_FOLDER_ITEMS,folderId:t},i13nModel:i})}function m(e,{folderId:t,total:s,streamId:d,i13nModel:E}){const{isPermDeleteFolderType:_,getMainStreamItems:u,normalizeRoute:m}=(0,i.selectors)(e.store.getState()),S=(0,n.Kw)(t),p=_(t),C=Math.min(s,l),A=c(e,C),T=m((0,r.i5)(t));e.dispatch(a.DELETE_ITEMS_REQUESTED,{streamId:d,listId:S,folderId:t,destinationFolderType:o.Sck.TRASH,permanent:p,isAsync:A,count:C,conversations:!1,allSelected:!0,triageActionType:o.Ewo.DELETE_FOLDER_ITEMS,streamItems:u(T),isV2Action:!0,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.Ewo.DELETE_FOLDER_ITEMS,folderId:t},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:o.Ewo.DELETE_FOLDER_ITEMS,folderId:t},i13nModel:E})}function S(e,{i13nModel:t}){e.dispatch(a.FOLDER_CONTEXT_MENU_REQUESTED,{i13nModel:t})}function p(e,{i13nModel:t}){e.dispatch(a.EXPAND_ACCOUNT_LIST,{i13nModel:t})}function C(e,{folderId:t,i13nModel:s}){e.dispatch(a.DELETE_NON_EMPTY_FOLDER_REQUESTED,{folderId:t,i13nModel:s})}},98901:(e,t,s)=>{"use strict";s.d(t,{OO:()=>T,hB:()=>h,YC:()=>g,Gh:()=>I,hb:()=>R,aI:()=>O,SL:()=>D,$v:()=>N,XL:()=>f,Dj:()=>M,XV:()=>L,O6:()=>P,zJ:()=>y,WF:()=>b,Sm:()=>F,z_:()=>U,ts:()=>k,Uz:()=>H,qU:()=>B,eH:()=>x,QM:()=>V,sR:()=>W});var a=s(50566),n=s(37422),r=s(42907),o=s(31057),i=s(18247),l=s(17016),c=s(85927),d=s(78263);function E(e,t){const{getFeaturesSelectors:s}=(0,c.selectors)(e.store.getState()),a=s();return t.length>=a.getSetting("bulkActionDialogThreshold")}function _(e,{sourceListId:t,fromMessageGroupView:s,destinationFolderId:r,messageIds:o,messageGroupIds:i,nextGroupId:l,streamId:d,streamItem:_,i13nModel:u}){const m=i.length,S=E(e,i),{getFeaturesSelectors:p}=(0,c.selectors)(e.store.getState()),A=p().isEnabled(n.ANe.CONVERSATIONS);if(0===(o=C(e,t,r,o,s)).length)return;const T={triageActionType:n.Ewo.MOVE_SELECTED_ITEMS,count:m,conversations:A,folderId:r},h={triageActionType:n.Ewo.MOVE_SELECTED_ITEMS,count:m,conversations:A};e.dispatch(a.MOVE_ITEMS_REQUESTED,{messageIds:o,destinationFolderId:r,isAsync:S,count:m,folderId:r,conversations:A,nextGroupId:l,listId:t,streamId:d,streamItem:_,i13nModel:u,triageActionType:n.Ewo.MOVE_SELECTED_ITEMS,isV2Action:!0,fromMessageGroupView:s,checkForDuplicates:i.length<=n.xRm,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,...T},failureAction:{type:a.UPDATE_ITEMS_FAILED,...h}})}function u(e,{messageIds:t,sourceListId:s,fromMessageGroupView:a,destinationFolderType:n,flags:r,isAsync:o,checkForDuplicates:i}){const{__getFolderIdMapFromFolderType:l}=(0,c.selectors)(e.store.getState()),d=l(t,n);return Object.keys(d).map((t=>{let n=d[t];return n=C(e,s,t,n,a),Object.assign({destinationFolderId:t,messageIds:n,checkForDuplicates:i,isAsync:o},r&&{flags:r})}))}function m(e,{sourceListId:t,streamId:s,streamItem:r,i13nModel:o,fromMessageGroupView:i,destinationFolderType:l,messageIds:d,messageGroupIds:_,flags:m,triageActionType:S,checkForDuplicates:p}){const C=E(e,_),A=u(e,{sourceListId:t,destinationFolderType:l,messageIds:d,messageGroupIds:_,fromMessageGroupView:i,flags:m,isAsync:C,checkForDuplicates:p});if(0===(d=A.reduce((function(e,t){return e.concat(t.messageIds)}),[])).length)return;const T=_.length,{getFeaturesSelectors:h}=(0,c.selectors)(e.store.getState()),g=h().isEnabled(n.ANe.CONVERSATIONS);e.dispatch(a.MOVE_ITEMS_REQUESTED,{messageIds:d,destinationFolderType:l,isAsync:C,i13nModel:o,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:S,count:T,conversations:g},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:S,count:T,conversations:g},count:T,conversations:g,listId:t,fromMessageGroupView:i,triageActionType:S,streamId:s,streamItem:r,checkForDuplicates:A.some((e=>e.checkForDuplicates)),isV2Action:!0})}function S(e,t){return t&&t===n.Sck.SENT||!t?e:function(e){return(0,i.Zr)(e,(e=>e!==n.Sck.SENT))}(e)}const p=[{moveFrom:n.Sck.DRAFT,allow:!1},{moveTo:n.Sck.DRAFT,allow:!1},{moveTo:n.Sck.SENT,allow:!1}];function C(e,t=null,s,a,l){const{__patchV2MessageId__:d}=(0,c.selectors)(e.store.getState()),{getFeaturesSelectors:E,doesFolderIdExist:_,getPrimaryFolderTypeByFolderId:u}=(0,c.selectors)(e.store.getState()),m=u(s);let C=a.map((e=>d(e,t)));const A=(0,o.Fh)(t),T=A&&_(A)&&u(A)||null,h=E().isEnabled(n.ANe.CONVERSATIONS);return l?m!==n.Sck.TRASH&&(C=S(C,T)):(C=function(e,t,s){if(t&&s){const s={[n.Sck.TRASH]:!0,[n.Sck.BULK]:!0};return s[t]?(0,i.Zr)(e,(e=>e===t)):(0,i.Zr)(e,(e=>!s[e]))}return e}(C,T,h),C=S(C,T)),function(e,t){return e.filter((e=>{const s=(0,r.IZ)(e.folder);let a=!0;return p.some((e=>{let n=!1;return(e.hasOwnProperty("moveFrom")&&e.moveFrom===s||e.hasOwnProperty("moveTo")&&e.moveTo===t)&&(a=e.allow,n=!0),n})),a}))}(C,m).map((({id:e})=>e))}function A(e,{messageIds:t,flags:s,itemId:a,streamId:n,streamItem:r,route:o,isRead:i,isStarred:l,i13nModel:d,persistStreamItemExpansionStates:E,triageActionType:_},{pendingActionType:u}){const{getCurrentListId:m,doesMessageGroupIdExist:S,getMainStreamItems:p}=(0,c.selectors)(e.store.getState()),C=o?p(o):void 0,A=m();S(a)&&e.dispatch(u,{i13nModel:d,isV2Action:!0,messageIds:t,itemId:a,listId:A,streamId:n,streamItem:r,streamItems:C,flags:s,isRead:i,isStarred:l,persistStreamItemExpansionStates:E,triageActionType:_})}function T(e,{listId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return _(e,{sourceListId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i})}function h(e,{listId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return _(e,{sourceListId:t,fromMessageGroupView:!0,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i})}function g(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.ARCHIVE,sourceListId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.ARCHIVE_SELECTED_ITEMS})}function I(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{fromMessageGroupView:!0,destinationFolderType:n.Sck.ARCHIVE,messageIds:s,messageGroupIds:a,sourceListId:t,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.ARCHIVE_SELECTED_ITEMS})}function R(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.INBOX,sourceListId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.RESTORE_SELECTED_ITEMS})}function O(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.RESTORE_SELECTED_ITEMS})}function D(e,t){const{messageGroupIds:s,permanent:r,listId:o,fromMessageGroupView:i,conversationsFlagFromAction:l=!0}=t,d=(0,c.selectors)(e.store.getState()),{__patchV2MessageId__:_,getFeaturesSelectors:m,getRoute:S,isPermDeleteFolderType:p}=d,C=m().isEnabled(n.ANe.CONVERSATIONS)&&l,A=E(e,s),T=s.length<=n.xRm;let h,{messageIds:g}=t;if(S().name===n.n8z.SEARCH){let t=null,a=null;const r=g.map((e=>_(e))).filter((({folder:e})=>p(e.id))).map((({id:e})=>e)),l=g.map((e=>_(e))).filter((({folder:e})=>!p(e.id))).map((({id:e})=>e));l.length&&(t=u(e,{destinationFolderType:n.Sck.TRASH,sourceListId:o,fromMessageGroupView:i,messageIds:l,messageGroupIds:s,checkForDuplicates:T,isAsync:A})),r.length&&(a={messageIds:r,checkForDuplicates:T,isAsync:A}),h={trashPayload:t,deletePayload:a}}else r?h={messageIds:g,checkForDuplicates:T,isAsync:A}:(h=u(e,{destinationFolderType:n.Sck.TRASH,sourceListId:o,fromMessageGroupView:i,messageIds:g,messageGroupIds:s,checkForDuplicates:T,isAsync:A}),g=h.reduce(((e,{messageIds:t})=>e.concat(t)),[]));const I=s.length;if(0===g.length)return;const R={triageActionType:n.Ewo.DELETE_SELECTED_ITEMS,count:I,conversations:C,permanent:r},O={triageActionType:n.Ewo.DELETE_SELECTED_ITEMS,count:I,conversations:C};e.dispatch(a.DELETE_ITEMS_REQUESTED,Object.assign({},t,{isV2Action:!0,triageActionType:n.Ewo.DELETE_SELECTED_ITEMS,messageIds:g,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,...R},failureAction:{type:a.UPDATE_ITEMS_FAILED,...O},count:I,conversations:C,checkForDuplicates:T,isAsync:A}))}function N(e,{listId:t,messageIds:s,messageGroupIds:a,permanent:r,streamId:o,streamItem:i,i13nModel:l,conversationsFlagFromAction:c}){return D(e,{i13nModel:l,listId:t,streamId:o,streamItem:i,destinationFolderType:n.Sck.TRASH,messageIds:s,fromMessageGroupView:!0,messageGroupIds:a,permanent:r,conversationsFlagFromAction:c})}function f(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.BULK,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{spam:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=n.xRm})}function M(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.INBOX,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{ham:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=n.xRm})}function L(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.BULK,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{spam:!0,read:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=n.xRm})}function P(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{ham:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=n.xRm})}function y(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,route:i,i13nModel:l,persistStreamItemExpansionStates:c}){return A(e,{i13nModel:l,messageIds:t,itemId:s,isRead:!1,flags:{read:!0},streamId:r,streamItem:o,route:i,persistStreamItemExpansionStates:c,triageActionType:n.Ewo.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:a.READ_CHANGE_REQUESTED})}function b(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return A(e,{i13nModel:i,messageIds:t,itemId:s,isRead:!0,flags:{read:!1},streamId:r,streamItem:o,triageActionType:n.Ewo.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:a.READ_CHANGE_REQUESTED})}function F(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return A(e,{i13nModel:i,messageIds:t,itemId:s,isStarred:!1,flags:{flagged:!0},streamId:r,streamItem:o,triageActionType:n.Ewo.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:a.STAR_CHANGE_REQUESTED})}function U(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return A(e,{i13nModel:i,messageIds:t,itemId:s,isStarred:!0,flags:{flagged:!1},streamId:r,streamItem:o,triageActionType:n.Ewo.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:a.STAR_CHANGE_REQUESTED})}const v=n.AGu.Modes;function w(e,t,s,n,r,o=!1){return e.dispatch(a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,{i13nModel:r,composeMode:n,triggeredFromContextMenu:o,...G(e,t,s)})}function G(e,t,s){const a=s.id||s.messageId,r=(0,c.selectors)(e.store.getState()),{getCurrentListId:o,doesMessageBodyExist:i,findReplyForwardCsidsOfMessage:E,getDraftMessageId:_,isSent:u,isFeatureEnabled:m,isSpamMessage:S}=r,p=o(),C=(0,d.BA)([p]),{getFeaturesSelectors:A}=(0,c.selectors)(e.store.getState()),T=A().isEnabled(n.ANe.CONVERSATIONS),h=(E(a)||[]).filter((e=>!_(e)&&!u(e))),g=h.length?h[0]:(0,l.generateUID)(),{getMessageBodiesSelectors:I}=(0,c.selectors)(e.store.getState()),{get:R}=I();return{csid:g,listId:p,messageGroupId:t,conversationsMode:T,groupId:t,streamId:C,messageId:a,secure:!m(n.Zrf.SHOW_IMAGES)||S(a),full:!0,message:Object.assign({},s,{id:a,body:i(a)?R(a):void 0})}}function k(e,{messageGroupId:t,message:s,i13nModel:a,triggeredFromContextMenu:n=!1}){return w(e,t,s,v.REPLY,a,n)}function H(e,{messageGroupId:t,message:s,selectedReplySuggestion:n,i13nModel:r,triggeredFromContextMenu:o=!1}){return function(e,t,s,n,r,o,i=!1){return e.dispatch(a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,{selectedReplySuggestion:n,i13nModel:o,composeMode:r,triggeredFromContextMenu:i,...G(e,t,s)})}(e,t,s,n,v.REPLY_ALL,r,o)}function B(e,{messageGroupId:t,message:s,i13nModel:a,triggeredFromContextMenu:n=!1}){return w(e,t,s,v.REPLY_ALL,a,n)}function x(e,{messageGroupId:t,message:s,i13nModel:a,triggeredFromContextMenu:n=!1}){return w(e,t,s,v.FORWARD,a,n)}function V(e,{messageGroupId:t,message:s,composeMode:a,i13nModel:n}){return w(e,t,s,a,n)}function W(e,{messageId:t}){const{getSelectedMailboxId:s,getEnvironmentSelectors:a}=(0,c.selectors)(e.store.getState()),{mailAPIClient:r}=e,{wssid:o,appId:i}=r,l=r.ymreqidGenerator.generate(),d=s(),E=`https://${a().getEndpoint(n.ANM.JWS_HOST)}/ws/v3/mailboxes/@.id==${d}/messages/@.id==${t}/content/rawplaintext?appId=${i}&ymreqid=${l}&wssid=${o}`;window.open(E,"_blank")}},58608:(e,t,s)=>{"use strict";s.d(t,{Zs:()=>i,u4:()=>l,W9:()=>c,AK:()=>d,$D:()=>E,bn:()=>_,y4:()=>u,uX:()=>m,ih:()=>S,DO:()=>p,rL:()=>C,sK:()=>A,J4:()=>T,oX:()=>h,wd:()=>g,Mf:()=>I,Mw:()=>R,oD:()=>O,iG:()=>D,fs:()=>N});var a=s(98901),n=s(37422),r=(s(31057),s(85927));function o(e,t,s=(()=>!0)){const{getMessageIdsFromMessageGroupId:a,__getMessageWithFlagsAndFolderId:n}=(0,r.selectors)(e.store.getState()),o=t.map((e=>a(e).filter((e=>{const t=n(e);return s(t)}))));return[].concat(...o)}function i(e,{destinationFolderId:t,listId:s,messageGroupIds:n,streamId:r,streamItem:i,i13nModel:l}){a.OO(e,{destinationFolderId:t,listId:s,streamId:r,streamItem:i,messageIds:o(e,n),messageGroupIds:n,i13nModel:l})}function l(e,{destinationFolderId:t,listId:s,messageGroupIds:n,streamId:r,streamItem:i,i13nModel:l}){a.hB(e,{listId:s,streamId:r,streamItem:i,destinationFolderId:t,messageIds:o(e,n),messageGroupIds:n,i13nModel:l})}function c(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.YC(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function d(e,{messageGroupIds:t,listId:s,streamId:n,streamItem:r,i13nModel:i}){a.Gh(e,{messageIds:o(e,t),messageGroupIds:t,listId:s,streamId:n,streamItem:r,i13nModel:i})}function E(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.hb(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function _(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.aI(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function u(e,{listId:t,messageGroupIds:s,permanent:i,streamId:l,streamItem:c,i13nModel:d,batchRemoveItems:E,batchDelete:_}){let u=o(e,s);if(0!==u.length){if(i){const{__isPermDeleteMessage:t}=(0,r.selectors)(e.store.getState());u=u.filter((e=>t(e)))}return a.SL(e,{listId:t,streamId:l,streamItem:c,isV2Action:!0,destinationFolderType:n.Sck.TRASH,messageIds:u,messageGroupIds:s,permanent:i,i13nModel:d,batchRemoveItems:E,batchDelete:_})}}function m(e,{listId:t,permanent:s,messageGroupIds:n,streamId:i,streamItem:l,i13nModel:c}){const{doesMessageGroupIdExist:d}=(0,r.selectors)(e.store.getState()),E=n.filter((e=>d(e)));0!==E.length&&a.$v(e,{messageGroupIds:E,messageIds:o(e,E),permanent:s,listId:t,streamId:i,streamItem:l,i13nModel:c})}function S(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.XL(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function p(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.Dj(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function C(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.XV(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function A(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.O6(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function T(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.zJ(e,{itemId:t[0],messageIds:o(e,t,(e=>!e.flags.read)),streamId:s,streamItem:n,i13nModel:r})}function h(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.WF(e,{itemId:t[0],messageIds:o(e,t,(e=>e.flags.read)),streamId:s,streamItem:n,i13nModel:r})}function g(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.Sm(e,{itemId:t[0],messageIds:o(e,t,(e=>!e.flags.flagged)),streamId:s,streamItem:n,i13nModel:r})}function I(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.z_(e,{itemId:t[0],messageIds:o(e,t,(e=>e.flags.flagged)),streamId:s,streamItem:n,i13nModel:r})}function R(e,{messageGroupIds:t,i13nModel:s}){const[n]=t,{__getLastNonDraftMessageIdByGroupId:o}=(0,r.selectors)(e.store.getState()),i=o(n);a.sR(e,{messageId:i,i13nModel:s})}function O(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:n=!1}){const{__getLastNonDraftMessageIdByGroupId:o,__getMessageWithFlagsAndFolderId:i}=(0,r.selectors)(e.store.getState()),l=i(o(t));a.ts(e,{messageGroupId:t,message:l,i13nModel:s,triggeredFromContextMenu:n})}function D(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:n=!1}){const{__getLastNonDraftMessageIdByGroupId:o,__getMessageWithFlagsAndFolderId:i}=(0,r.selectors)(e.store.getState()),l=i(o(t));a.qU(e,{messageGroupId:t,message:l,i13nModel:s,triggeredFromContextMenu:n})}function N(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:n=!1}){const{__getLastNonDraftMessageIdByGroupId:o,__getMessageWithFlagsAndFolderId:i}=(0,r.selectors)(e.store.getState()),l=i(o(t));a.eH(e,{messageGroupId:t,message:l,i13nModel:s,triggeredFromContextMenu:n})}},62739:e=>{"use strict";e.exports={className:{default:{image:"W_3n13i H_7aG4",upsellPage:"t_C M_1WSbm8",loginPage:"t_C Y_6LEV",emailInput:"W_3qWeB",header:"P_0 u_b A_6LEV i_6UbO Y_6DEy U_6LEV",body:"t_C A_6EqO i_6FIA jb_6MGW",footer:"t_C C_Z1TsNbA",userName:"cZ1RN91d_GG",description:"M_0 C_Z1TsNbA",providersOption:"Y_6Fd5",switchAccount:"C_Z2aVTcY",accountList:"M_0 P_0 hd_n",listItem:"P_1Eu6qC M_1EAG48 D_X",label:"C_Z281SGl u_dPo A_6EWk i_6LEV M_27msYt",supportedProviderCaption:"t_C A_6EqO C_Z1WBuqm M_6DEy",errorMessage:"C_ZnTFMv M_fq7",primaryButton:"A_6EqO u_e69 W_3nqmc P_Z1E2XDm M_eo6 I_Z2aVTcY b_n e_dRA C_4SSH I4_Z29WjXl b4_n C4_4SSH",legalText:"A_6DUj a_3z5BY M_hvBM4",note:"C_Z1WBuqm A_6DUj M_hDwes a_3z5BY",link:"C_Z2aVTcY Q_dRA u_e69 r_P"}},_key:"1yd8QR"}},1191:(e,t,s)=>{"use strict";s.d(t,{Q5:()=>E,dS:()=>_,kL:()=>u,sF:()=>m,wD:()=>S,PV:()=>p});var a=s(50566),n=s(8106),r=s(85927),o=s(37422),i=s(1558),l=s(44140),c=s.n(l);let d=5;function E(e){const{getCurrentListId:t,isFeatureEnabled:s}=(0,r.selectors)(e.store.getState()),i=s(o.ANe.SILENT_TIMEZONE_CORRECTION),l=c().determine(),d=l&&l.name(),E=i&&(0,n.mL)(d)?d:null;e.dispatch(a.LAUNCH_COMPLETED,{listId:t(),clientInferredTimezone:E})}function _(e){e.dispatch(a.APP_LOAD_COMPLETED)}function u(e,{isVisible:t}){const s=e.heartbeatAPIClient.emergencyRefresh,{getFeaturesSelectors:n,isAppVisible:l,getApplicationLastVisibleTimeStamp:c,getPrimaryAccount:E,getRoute:_}=(0,r.selectors)(e.store.getState()),u=n().getSetting("appRefreshIdleInterval"),m=l(),S=E(),{name:p}=_();t!==m&&(t&&p===o.n8z.SETTINGS&&S.forwardEmail&&!S.forwardEmailVerified&&d>0&&(e.store.dispatch(i.In({accountId:S.id,updatedProperties:{forwardEmailVerified:S.forwardEmailVerified}})),d--),e.dispatch(a.APPLICATION_VISIBILITY_DID_CHANGE,{isVisible:t,emergencyRefresh:s,appRefreshIdleInterval:u,applicationLastVisibleTimeStamp:c()}))}function m(e){e.dispatch(a.SETTINGS_MENU_CLOSED)}function S(e,{i13nModel:t}){e.dispatch(a.OPEN_TABS_MENU,{i13nModel:t})}function p(e,t){e.dispatch(a.SYNC_DATA,t)}},70426:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F D_F ab_C gl_C"}},_key:"vwCkd"}},52664:(e,t,s)=>{"use strict";var a={};s.r(a),s.d(a,{getBlockPayload:()=>ws,transformResponse:()=>Gs});var n={};s.r(n),s.d(n,{getBlockPayload:()=>ks,transformResponse:()=>Hs});var r=s(82492),o=s.n(r),i=s(590),l=s(23560),c=s.n(l),d=s(57557),E=s.n(d),_=s(17673),u=s(17901),m=s(63352),S=s(37422),p=s(54418),C=s(42655),A=s(34443),T=s(43373),h=s(8106),g=s(95406),I=s(51917),R=s(8575),O=s(12476),D=s.n(O),N=s(6097);const f=/^[\w\-]+:.+$/gim;function M({boundary:e,useBuffer:t=!0,consolidate:s=!1}){let a="";return D()((function(n){t||(a="");const r=(n=a+n).split(new RegExp(`--${e}-{0,2}`,"gm")),o=[];for(;r.length>1;){const e=r.shift().replace(f,"").trim();""!==e&&(s?o.push(e):this.emit("data",e))}s&&o.length>0&&this.emit("data",o),a=r[0]}))}var L=s(40315),P=s(60037),y=s(18247),b=s(27955),F=s.n(b),U=s(16980),v=s(98109),w=s(52300);function G(e){const t=e=>({email:e.id,name:e.name});return e.map((e=>{const s=Number(e.creationDate)/1e3,a={id:e.mid,folder:{id:e.folderNumber.toString()},conversationId:e.conversationId,flags:{flagged:e.isFlagged,read:e.isRead},cardConversationId:e.cardConversationId||"",decos:e.decos||[],headers:{subject:e.subject||"",cc:e.ccList?e.ccList.map(t):[],bcc:e.bccList?e.bccList.map(t):[],to:e.toList?e.toList.map(t):[],from:e.fromList?e.fromList.map(t):[],date:s},snippet:e.snippet||"",attachments:k(e.attachments.map((t=>Object.assign({},t,{mid:e.mid,creationDate:e.creationDate,csid:e.csid})))).map((e=>e.attachment)),verifiedDomains:e.verifiedDomains||[]};return e.csid&&(a.csid=e.csid),a}))}function k(e){return e.map((e=>{const[t,s]=e.mimeType.split("/"),{partId:a=e.id,conversationId:n,csid:r,source:o}=e,{Dispositions:i}=S.sSc,l=e.mid?(0,y.K)(e.mid):void 0;return{attachment:{id:l?(0,y.ad)({partId:a},l,!1):e.id,virus:"N",filename:e.name,size:e.size,partId:a,type:t,subtype:s,conversationId:n,source:o,csid:r,disposition:e.disposition||i.ATTACHMENT,downloadUrl:e.online?e.onlineContentLink:e.downloadLink,thumbnailUrl:e.thumbnail,isExternal:e.online||!1,creationDate:e.creationDate,documentId:e.documentId},message:{id:l,subject:e.subject}}}))}const H={[S.F6k.MESSAGES]:function(e,t){return e.map((e=>{const{itemType:t}=e;return"THREAD"===t?{id:e.conversationId,messages:G(e.messages.reverse())}:"MESSAGE"===t?{id:e.mid,messages:G([e])}:void 0}))},[S.F6k.DOCUMENTS]:k,[S.F6k.IMAGES]:k,[S.F6k.PEOPLE]:function(e,{allowEnhancedContactData:t}){return e.filter((e=>!!e.payload)).map((e=>{var s;const a=e.payload,n=a.id,r={[n]:a},o=S.F6k.PEOPLE,i={[`smtp:${o}`]:[n]},l=e.relationshipHistory;return{contactDetails:(null===(s=(0,U.ed)({emails:[o],contacts_info:r,contacts_by_ep:i,relationshipHistory:l},t))||void 0===s?void 0:s[0])||{}}}))},[S.F6k.ADS]:function(e){return e&&e.length>0?e.reduce((({PLAADS:e=[],ADS:t=[]},s)=>{const a=JSON.parse(w.DS.decode(s.ads));let n=[],r={},o=[];if("AL"===s.itemType){(0,g.u9)(a,"response.search.moduleGroups",[]).forEach((({name:e,modules:t=[]})=>{"adNorth"!==e&&"adSouth"!==e&&"adEast"!==e||t.forEach((e=>{o=o.concat((0,g.u9)(e,"data.list",[]))}))}))}else if("PLA"===s.itemType){const e=(0,g.u9)(a,"response.search.results",{});Object.keys(e).forEach((t=>{if("ads.pla"===t){if(n=n.concat(e[t].data||[]),n.length){var s;const{ClientID:a="",ImpressionGUID:n="",SearchID:o=""}=(null===(s=e[t])||void 0===s?void 0:s.instrumentation)||{};r={clientId:a,impressionGuid:n,searchId:o}}}else"ads.north"!==t&&"ads.south"!==t&&"ads.east"!==t||(o=o.concat(e[t].data||[]))}))}return{PLAADS:{ads:[...e,...n.map((e=>function(e){var t,s,a,n,r,o,i,l,c;const d=e.installmentInfo||{},E=0===parseInt((e.originalprice||"").replace(/\D/g,""),10)?d.amount:e.originalprice;return{title:F()(e.title.replace(/<[^>]+>/g,""))||"",url:e.url||"",abstract:F()(e.abstract)||"",thumbnailUrl:e.thumbnailUrl||"",sellerName:e.sellername||"",originalPrice:E||"",installmentInfo:d,eliteBadge:e.eliteBadge?{domain:(null===(t=e.eliteBadge)||void 0===t?void 0:t.domain)||"",rating:(null===(s=e.eliteBadge)||void 0===s?void 0:s.rating)||"",numberOfRatings:(null==e||null===(a=e.eliteBadge)||void 0===a?void 0:a.numberOfRatings)||""}:null,merchantPromotion:e.merchantPromotion?{displayedText:(null==e||null===(n=e.merchantPromotion)||void 0===n?void 0:n.displayedText)||"",promotionalText:(null==e||null===(r=e.merchantPromotion)||void 0===r?void 0:r.promotionalText)||"",daysFromExpiration:(null==e||null===(o=e.merchantPromotion)||void 0===o?void 0:o.daysFromExpiration)||"",url:(null==e||null===(i=e.merchantPromotion)||void 0===i?void 0:i.url)||""}:null,priceDropAlert:e.priceDropAlert?{displayedText:(null==e||null===(l=e.priceDropAlert)||void 0===l?void 0:l.displayedText)||"",longText:(null==e||null===(c=e.priceDropAlert)||void 0===c?void 0:c.longText)||""}:null,productRating:e.productRating&&{rating:e.productRating&&e.productRating.rating||"",numberOfReviews:e.productRating&&e.productRating.numberOfReviews||""},ns:e.appNs||"",k:e.k||"",impressionId:e.ImpressionId||""}}(e)))],instrumentation:r},ADS:[...t,...o.map((e=>function(e){return{creativeId:"",pencilAd:{adHeadline:F()(e.title)||"",adSummary:F()(e.abstract)||"",adImg:e.iconUrl||"",adSource:e.displayDomain||e.displayUrl||"",clickUrl:e.url||"",beacon:"",impressionTrackingUrls:[],type:v.aB.SearchAdType,adFeedbackBeacon:"",rating:(0,g.u9)(e,"merchantRating.rating",null)}}}(e)))]}}),{}):[]},[S.F6k.GIFS]:function(e){return(e||[]).map((e=>{const{downloadLink:t,height:s,width:a,id:n,online:r,onlineContentLink:o,ownerId:i,source:l,thumbnail:c,thumbnailHeight:d,thumbnailWidth:E,thumbnails:_,feedbackUrl:u="",h1_title:m=""}=e;return{downloadLink:t,height:s,width:a,id:n,online:r,onlineContentLink:o,ownerId:i,source:l,thumbnail:c,thumbnailHeight:d,thumbnailWidth:E,thumbnails:_,feedbackUrl:u,altText:m}}))},[S.F6k.COUPON_CARDS]:function(e=[]){return e.map((({immutableId:e,messageMetadata:t})=>({id:e,messages:[{...E()({...t,schemaCards:(0,y.Se)(t)},["schemaOrg"]),id:e}]})))},[S.F6k.CLOUD_STORAGE_ITEMS]:function(e){return(e||[]).map((e=>{const{previewLink:t,source:s,thumbnail:a}=e;return{...e,previewLink:t,thumbnail:"dropbox"===s&&a&&!a.includes("data.mail.yahoo.com")?void 0:a}}))}};function B(e,{listContentType:t},s){if(!e||!t)throw new C.Z("BootcampApiClient.SearchError");const{items:a=[],totalHits:n,extendUrl:r="",queryResponse:o,cursor:i}=e;return{totalHits:n,offset:a.length?i:"",nextItemsUrl:r,queryResponse:o,items:H[t]?H[t](a,s):a}}const x=e=>"CPN"===e.id,V=e=>"CRD"===e.id;function W(e,t){return(e=>e.reduce(((e,t)=>{if("CARDS"!==t.blockType)e.push(t);else{const s={};t.content.items.forEach((e=>{const{decos:a}=e.messageMetadata;let n=S.F6k.CARDS;a.some(V)&&a.some(x)&&(n=S.F6k.COUPON_CARDS),s[n]||(s[n]={...t,blockType:n,content:{...t.content,items:[]}}),s[n].content.items.push(e)})),e.push(...(0,g.VO)(s))}return e}),[]))(e.reduce(((e,t={})=>e.concat((0,g.u9)(t,"contentBlocks",[]))),[])).reduce(((e,s={})=>{const{filter:a=S.ukn.WITH_KEYWORD,content:n}=s,{blockType:r}=s;if("ADS"===r){const t=n?H[r](n.items):{};for(const s in t){var o,i;const n="PLAADS"===s?null===(o=t[s])||void 0===o?void 0:o.ads:t[s],r="PLAADS"===s?null===(i=t[s])||void 0===i?void 0:i.instrumentation:{};n&&n.length>0&&(e[s]={[a]:{suggestedWords:[],totalHits:0,nextItemsUrl:"",offset:0,items:n,instrumentation:r}})}return e}if(!S.ukn[a]||(e=>e&&e.items&&0===e.items.length&&!!e.extendUrl)(n))return e;if(e[r]||(e[r]={}),e[r][a]={items:[],suggestedWords:[],totalHits:0,nextItemsUrl:"",offset:0},n){const{items:s=[],suggestedWords:o=[],extendUrl:i="",totalHits:l,cursor:c,queryResponse:d}=n;e[r][a]={totalHits:l,offset:s.length?c:void 0,nextItemsUrl:i,suggestedWords:o,items:H[r]?H[r](s,t):s,...d&&{lmv3Query:d}}}return e}),{})}function Z(e){if(!e||!e.response)throw new C.Z("BootcampApiClient.SuggestionError");return e.response.suggestions}const K={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};var z=s(68591);var q=s(73749);function Y({boundary:e,headers:t}){const s=Object.keys(t).reduce(((e,s)=>`${e}${s}: ${t[s]}\n`),"");return D()((function(t){this.queue(`--${e}\n${s}\n${t}\n\n`)}),(function(){this.queue(`--${e}--`),this.queue(null)}))}const j={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};const Q=class{constructor(e){this.loggerParams=e,this.startTime=Date.now(),this.loggers={}}logLatency(e,t=0,s=0){Object.keys(e||{}).forEach((a=>{Object.keys(e[a]||{}).forEach((e=>{const n=a+"__"+e;if(!this.loggers[n]){q.Z.feature("bootcamp_client_stream_call",Object.assign({},this.loggerParams,{contentType:a,filterType:e,bootcampRequestTS:t,bootcampResponseTS:s}),this.startTime).logLatency(),this.loggers[n]=!0}}))}))}},X={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"},J={[P.ZI]:class{constructor({appId:e,httpRetry:t,appName:s,allowEnhancedContactData:a}){this.urlPrefix=(s===S.BQZ.MOBILE_APP?S.IZo:S.jQ2)+"/bootcamp_api",this.appId=e,this.httpRetry=t,this.allowEnhancedContactData=a}_getHttpTransport(e,t,s){const a=(0,z.Sf)()?(0,z.Ow)():{};return new N.Z(e,t,{...s,tls:a})}searchStream(e,t){const s=this.urlPrefix+"/search",a=this._getHttpTransport("GET",s,{timeout:P.Gf,httpRetry:this.httpRetry});let n=0;a.setHeader("Accept","multipart/form-data"),a.withCredentials=!0;const r=a.createStream(e),o=r.pipe(M({boundary:P.WW,useBuffer:!1,consolidate:!0})).pipe(D()((function(e){try{const s=e.slice(n);if(n=e.length,0===s.length)return;const a=Object.keys(S.F6k),r=s.reduce(((e,s)=>{const n=JSON.parse(s);return t.logLatency(n),Object.keys(n).forEach((t=>{if(-1===a.indexOf(t))return e;e[t]||(e[t]={}),Object.keys(n[t]).forEach((s=>{e[t][s]=n[t][s]}))})),e}),{});this.emit("data",r)}catch(s){this.emit("data",{status:500,error:C.Z.errorify(s)})}})));return r.on("error",(e=>o.emit("error",e))),o}itemsApi(e){const t=this.urlPrefix+"/items",s=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!0,s.send(e).then((e=>JSON.parse(e.text)))}searchSuggestionsStream(e){const t=this.urlPrefix+"/suggestions",s=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});let a=0;s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0;const n=s.createStream(Object.assign({multipart:!0},e)),r=n.pipe(M({boundary:P.WW,useBuffer:!1,consolidate:!0})).pipe(D()((function(e){let t;try{const s=e.slice(a);if(a=e.length,0===s.length)return;t=s.reduce(((e,t)=>e.concat(JSON.parse(t))),[])}catch(s){this.emit("data",{status:500,error:C.Z.errorify(s)})}this.emit("data",t)})));return n.on("error",(e=>r.emit("error",e))),r}recentSearchesApi(e){const t=this.urlPrefix+"/recentSearches",s=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!0,s.send(e).then((e=>JSON.parse(e.text)))}},[P._v]:class{constructor({appId:e,bootcampHost:t,cookie:s,headers:a,bootcampYHeaders:n={},httpRetry:r,allowEnhancedContactData:o}){this.appId=e,this.cookie=s,this.bootcampHost=t,this.headers=Object.assign({},a,n),this.httpRetry=r,this.allowEnhancedContactData=o}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach((s=>{e.setHeader(s,t[s])}))}_getHttpTransport(e,t,s){const a=(0,z.Sf)()?(0,z.Ow)():{};return new N.Z(e,t,{...s,tls:a})}searchStream(e,t){const s=this.bootcampHost+"/psearch/v3/srp?",a=this._getHttpTransport("GET",s,{timeout:P.Gf,httpRetry:this.httpRetry}),n=E()(e,["keyword","buckets"]);a.setHeader("Accept","multipart/form-data"),a.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),a.setHeader("User-Agent",e.userAgent),a.setCookieHeader(this.cookie),this._setCustomHeaders(a,this.headers),a.withCredentials=!0,n.query=e.keyword,n.bucketid=(e.buckets||[]).join(",");const{sortOrder:r=S.Asd.DATE_DESC}=e,o=this.allowEnhancedContactData;n.order=j[r];const i=a.createStream(n),l=i.pipe(M({boundary:P.WW})).pipe((c={timezone:e.timezone,formatDateUsingUTC:"false"!==e.formatDateUsingUTC,searchStreamLogger:t,allowEnhancedContactData:o},D()((function(e){try{const{status:t,response:s}=JSON.parse(e);if(401===t)throw new C.Z(A.tO,{statusCode:t,errorCode:"AUTH",refresh:!0});if(!s||200!==t)throw new C.Z("BootcampApiClient.SearchError");if(s.verticals){const e=W(s.verticals,c);c.searchStreamLogger.logLatency(e,s.requestTS,s.responseTS),(0,g.xb)(e)||this.emit("data",JSON.stringify(e))}}catch(t){return this.emit("data",JSON.stringify({status:500,error:C.Z.errorify(t)}))}})))).pipe(Y({boundary:P.WW,headers:{"Content-Type":"application/json"}}));var c;return i.on("error",(e=>l.emit("error",e))),l}itemsApi(e){const{wssid:t,buckets:s,timeout:a,ymreqid:n,listContentType:r,timezone:o,userAgent:i}=e,l=this.allowEnhancedContactData,c=(0,h.Y0)(e.url,{wssid:t,bucketid:(s||[]).join(",")}),d=this._getHttpTransport("GET",c,{httpRetry:this.httpRetry,timeout:a});return i&&d.setHeader("User-Agent",i),d.setHeader("Accept","application/json"),d.setCookieHeader(this.cookie),this._setCustomHeaders(d,this.headers),d.withCredentials=!0,d.send({ymreqid:n}).then((e=>JSON.stringify(B(JSON.parse(e.text),{listContentType:r},{timezone:o,allowEnhancedContactData:l}))))}searchSuggestionsStream(e){const t=this.bootcampHost+"/psearch/v3/suggestions?",s=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});s.setHeader("Accept","multipart/form-data"),s.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),s.setCookieHeader(this.cookie),this._setCustomHeaders(s,this.headers),s.withCredentials=!0;const a=s.createStream(e),n=a.pipe(M({boundary:P.WW})).pipe(D()((function(e){try{const t=JSON.parse(e),{status:s,response:a}=t;if(!a||200!==s)throw new C.Z("BootcampApiClient.SuggestionError");if(a.suggestions){const e=Z(t);(0,g.xb)(e)||this.emit("data",JSON.stringify(e))}}catch(t){return this.emit("data",JSON.stringify({status:500,error:C.Z.errorify(t)}))}}))).pipe(Y({boundary:P.WW,headers:{"Content-Type":"application/json"}}));return a.on("error",(e=>n.emit("error",e))),n}recentSearchesApi(e){const t=this.bootcampHost+"/psearch/v3/recentSearches?",{ymreqid:s,wssid:a,appid:n}=e,r=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.setCookieHeader(this.cookie),r.withCredentials=!0,r.send({ymreqid:s,wssid:a,appid:n}).then((e=>JSON.parse(e.text)))}},[P.vo]:class{constructor({httpRetry:e,endpoints:t,useBootcampYCPIProxy:s,appId:a,allowEnhancedContactData:n}){this.endpoints=t,this.httpRetry=e,this.useBootcampYCPIProxy=s,this.appId=a||S.JfS,this.allowEnhancedContactData=n}_getHttpTransport(e,t,s){return new N.Z(e,t,s)}_getPsearchHost(){return this.useBootcampYCPIProxy?"":this.endpoints.BOOTCAMP_HOST}_getDefaultGifUrl({anonid:e,query:t,mailboxId:s,wssid:a,offset:n}){const r=Object.assign({appid:this.appId,cursor:n,limit:P.sh,mailboxId:s,mimeTypes:"image/gif",order:"desc",query:t,source:S.LJ$.TENOR,vertical:"WEB",wssid:a},e?{anonid:e}:{});return this._getPsearchHost()+"/psearch/v3/items?"+(0,_.stringify)(r)}_getGifCategoriesUrl({wssid:e,locale:t}){const s={wssid:e,appid:this.appId,limit:P.sh,locale:t};return this._getPsearchHost()+"/psearch/v3/categories/expanded?"+(0,_.stringify)(s)}_fullNextItemsUrl(e,{anonid:t,wssid:s}){const{host:a}=(0,R.parse)(this.endpoints.BOOTCAMP_HOST);e=e.replace(/data.mail.yahoo.com/,a).replace(/YMailNorrin/,this.appId);const n=Object.assign({wssid:s},t?{anonid:t}:{},-1===e.indexOf(`appid=${this.appId}`)?{appid:this.appId}:{});return e+"&"+(0,_.stringify)(n)}gifsApi(e){const{ymreqid:t,timezone:s}=e,a=e.nextItemsUrl?this._fullNextItemsUrl(e.nextItemsUrl,e):this._getDefaultGifUrl(e),n=this._getHttpTransport("GET",a,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then((e=>B(JSON.parse(e.text),{listContentType:S.F6k.GIFS},{timezone:s})))}gifCategoriesApi(e){const{ymreqid:t,timezone:s}=e,a=this._getGifCategoriesUrl(e),n=this._getHttpTransport("GET",a,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then((e=>function(e,{listContentType:t},s){if(!e||!t)throw new C.Z("BootcampApiClient.gifCategoriesApiError");return{categories:e.categories.map((({gifs:a={},itemsUrl:n="",queryString:r=""},o)=>{const{items:i=[],extendUrl:l="",cursor:c=""}=a;return{...e.categories[o],gifs:{offset:c,nextItemsUrl:l||n||"",items:H[t]?H[t](i,[],s):i},itemsUrl:n||"",queryString:r||""}}))}}(JSON.parse(e.text),{listContentType:S.F6k.GIFS},{timezone:s})))}getCouponsApi({ymreqid:e,decoId:t,accountIds:s,wssid:a,cursor:n=0,mailboxId:r,limit:o,start:i,end:l,vertical:c,order:d,appid:E,from:_,query:u}){const m=`mailboxId=${r}&limit=${o}&start=${i}&end=${l}&vertical=${c}&order=${d}&appid=${E}${u?`&query=${encodeURIComponent(u)}`:""}${_?`&from=${_}`:""}`,p=`${this._getPsearchHost()}/psearch/v3/items?cursor=${n||0}&decoId=(${t.join(" ")})&accountIds=${s.join(",")}&${m}&wssid=${a}`,C=this._getHttpTransport("GET",p,{httpRetry:this.httpRetry});return C.setHeader("Accept","application/json"),C.withCredentials=!0,C.send({ymreqid:e}).then((e=>function({items:e=[],cursor:t=0,totalHits:s=0,extendUrl:a=""}={}){return{cardGroupList:H[S.F6k.COUPON_CARDS](e),offset:parseInt(""===t?0:t,10),totalHits:s,hasMoreItems:!!a,nextItemsUrl:a}}(JSON.parse(e.text))))}getStorefrontBrandMessages({ymreqid:e,accountIds:t,wssid:s,cursor:a,mailboxId:n,limit:r,vertical:o,order:i,appid:l,from:c,query:d}){const E=`mailboxId=${n}&limit=${r}&vertical=${o}&order=${i}&appid=${l}${d?`&query=${encodeURIComponent(d)}`:""}${c?`&fromdomain=${c}`:""}`,_=`${this._getPsearchHost()}/psearch/v3/items?cursor=${a||0}&accountIds=${t.join(",")}&${E}&wssid=${s}`,u=this._getHttpTransport("GET",_,{httpRetry:this.httpRetry});return u.setHeader("Accept","application/json"),u.withCredentials=!0,u.send({ymreqid:e}).then((e=>B(JSON.parse(e.text),{listContentType:S.F6k.MESSAGES},{allowEnhancedContactData:this.allowEnhancedContactData})))}localStoresApi({wssid:e,senderEmail:t="",latlong:s="",ymreqid:a}){const n=`${this._getPsearchHost()}/psearch/v3/items?appid=${this.appId}&lcount=1&source=locals&wssid=${e}&sendersmtp=${encodeURIComponent(t)}`+(s?`&latlong=${s}`:""),r=this._getHttpTransport("GET",n,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:a}).then((e=>function(e){if(!e)throw new C.Z("BootcampApiClient.LocalStoresError");const{items:[{listing:[t={}]=[]}={}]=[]}=e;return{nearbyListing:t}}(JSON.parse(e.text))))}couponRecommendations(e){const{ymreqid:t,wssid:s,limit:a=5,cursor:n=0,mid:r,mailboxemail:o=""}=e,i={appid:this.appId,wssid:s,vertical:"CARDS",decoId:S.Jd6.CPN,cursor:n,limit:a,context:r?`mid:${r}`:"view:recommended",mailboxemail:o},l=this._getPsearchHost()+"/psearch/v3/items?"+(0,_.stringify)(i),c=this._getHttpTransport("GET",l,{httpRetry:this.httpRetry});return c.setHeader("Accept","application/json"),c.withCredentials=!0,c.send({ymreqid:t}).then((e=>function(e){if(!e)throw new C.Z("BootcampApiClient.LocalStoresError");return{messageGroupsResponses:[{cardGroupList:e.items.map((e=>({id:e.immutableId,messages:[E()({...e.messageMetadata,schemaCards:(0,y.Se)(e.messageMetadata)},["schemaOrg"])]}))),filter:S.ukn.ALL_COUPON_CARDS,hasMoreItems:!1,offset:""}],parentMessagesMap:{}}}(e.body)))}itemsApi(e){const{wssid:t,buckets:s}=e;let a=e.url.replace(`${this.endpoints.BOOTCAMP_HOST}/psearch`,`${this._getPsearchHost()}/psearch`)+"&wssid="+t;s&&s.length&&(a+="&bucketid="+s.join(","));const n=this._getHttpTransport("GET",a,{httpRetry:this.httpRetry}),{ymreqid:r,listContentType:o,timezone:i}=e,l=this.allowEnhancedContactData;return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:r}).then((e=>B(JSON.parse(e.text),{listContentType:o},{timezone:i,allowEnhancedContactData:l})))}recentSearchesApi(e){const t=this._getPsearchHost()+"/psearch/v3/recentSearches?",{ymreqid:s,wssid:a,appid:n}=e,r=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:s,wssid:a,appid:n}).then((e=>function(e){if(!e)throw new C.Z("BootcampApiClient.RecentSearchError");return e}(JSON.parse(e.text))))}topRetailersApi(e){const{ymreqid:t,wssid:s,appid:a,mailboxid:n,accountIds:r}=e,o=this._getPsearchHost()+`/psearch/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${a}&mailboxid=${n}&accountIds=${r.join(",")}`,i=this._getHttpTransport("POST",o,{httpRetry:this.httpRetry}),l={vertical:"CARDS",decoIds:["CPN"],startTime:Date.now(),endTime:1e3*(Math.round((new Date).getTime()/1e3)+365*L.K5),pivotList:[{pivotType:"SENDER",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:1}]}]};return i.setHeader("Accept","application/json"),i.withCredentials=!0,i.send(l).then((e=>function(e){const t=(0,g.u9)(e,"pivotInfoList.0.pivotInfoList",null);if(!t)throw new C.Z("BootcampApiClient.TopRetailersError");return t.map((({count:e,pivotName:t,contentItems:s})=>({count:e,email:t,nameFromEmail:(0,g.u9)(s,"0.internalKVSet.custom.messageMetadata.headers.from.0.name","")})))}(e.body)))}topDealCategoriesApi(e){const{ymreqid:t,wssid:s,appid:a,mailboxid:n}=e,r=this._getPsearchHost()+`/psearch/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${a}&mailboxid=${n}`,o=this._getHttpTransport("POST",r,{httpRetry:this.httpRetry}),i={vertical:"CARDS",decoIds:["CPN"],endTime:Date.now()+5184e6,pivotList:[{pivotType:"CATEGORY",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:0}]}]};return o.setHeader("Accept","application/json"),o.withCredentials=!0,o.send(i).then((e=>function(e){const t=(0,g.u9)(e,"pivotInfoList.0.pivotInfoList",null),s={};if(!t)throw new C.Z("BootcampApiClient.TopDealCategoriesError");for(const a of t){const e=a.pivotName.split(">")[0];"Other"!==e&&(s[e]=s[e]?s[e]+a.count:a.count)}return Object.keys(s).sort(((e,t)=>s[t]-s[e]))}(JSON.parse(e.text))))}deleteRecentSearchApi(e){const{wssid:t,ymreqid:s,appid:a,...n}=e,r=`${this._getPsearchHost()}/psearch/v3/clearSearchHistoryQuery?wssid=${t}&ymreqid=${s}&appid=${a}`,o=this._getHttpTransport("POST",r);return o.setHeader("Accept","application/json"),o.withCredentials=!0,o.send(n).catch((()=>{throw new C.Z("BootcampApiClient.DeleteRecentSearch")}))}searchStream(e,t){const s=this._getPsearchHost()+"/psearch/v3/srp?",a=this._getHttpTransport("GET",s,{timeout:P.hR,httpRetry:this.httpRetry}),n=E()(e,["keyword","buckets"]);a.setHeader("Accept","multipart/form-data"),a.withCredentials=!0,n.query=e.keyword,e.buckets&&e.buckets.length&&(n.bucketid=(e.buckets||[]).join(","));const{sortOrder:r=S.Asd.DATE_DESC}=e,o=this.allowEnhancedContactData;n.order=K[r];let i=0;const l=a.createStream(n),c=l.pipe(M({boundary:P.WW,useBuffer:!1,consolidate:!0})).pipe(D()((function(s){try{const a=s.slice(i),n=Object.keys(S.F6k);if(i=s.length,0===a.length)return;const r=a.reduce(((s,a)=>{const{status:r,response:i}=JSON.parse(a);if(401===r)throw new C.Z(A.tO,{statusCode:r,errorCode:"AUTH",refresh:!0});if(!i||200!==r)throw new C.Z("BootcampApiClient.SearchError");let l;return i.verticals&&(l=W(i.verticals,{timezone:e.timezone,formatDateUsingUTC:"false"!==e.formatDateUsingUTC,allowEnhancedContactData:o}),t.logLatency(l,i.requestTS,i.responseTS)),(0,g.xb)(l)||Object.keys(l).forEach((e=>{if(-1===n.indexOf(e))return s;s[e]||(s[e]={}),Object.keys(l[e]).forEach((t=>{s[e][t]=l[e][t]}))})),s}),{});this.emit("data",r)}catch(a){this.emit("data",{status:500,error:C.Z.errorify(a)})}})));return l.on("error",(e=>c.emit("error",e))),c}searchSuggestionsStream(e){const t=this._getPsearchHost()+"/psearch/v3/suggestions?",s=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});this.allowEnhancedContactData;s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0;const a=s.createStream(Object.assign({multipart:!0},e)),n=a.pipe(M({boundary:P.WW,useBuffer:!1})).pipe(D()((function(t){let s;try{s=Z(JSON.parse(t),e.timezone)}catch(a){this.emit("data",{status:500,error:C.Z.errorify(a)})}this.emit("data",s)})));return a.on("error",(e=>n.emit("error",e))),n}grocerySearchSuggestionsApi({wssid:e,ymreqid:t,keyword:s,retailerId:a}){const n=`${this.endpoints.BOOTCAMP_HOST}/f/m/api/searchassist-service/v1/suggest?q=${s}&retailer=${a}&wssid=${e}`,r=new N.Z("GET",n,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:t}).then((e=>function(e){var t;if(!e)throw new C.Z("BootcampApiClient.GrocerySearchSuggestionsError");return(null===(t=e.r)||void 0===t?void 0:t.map((e=>e.k)))||[]}(e.body)))}}};class $ extends u.Z{constructor({appName:e=S.BQZ.MAIL_APP,appId:t=S.JfS,strategy:s=P.ZI,bootcampHost:a,executeRequestsSequentially:n=(0,h.jU)(),guidHash:r,locale:o,cookie:i,crumb:l,wssid:c,loggerParams:d,region:E,httpRetry:_,requestQueue:u,isOnline:C,headers:A,bootcampYHeaders:T={},buckets:g,timezone:R={},config:O={},userAgent:D,endpoints:N}){const f=(0,p._)(O,"bootcampProxy");super({loggerName:S.BrN.BootcampClient,loggerParams:(0,h.jU)()?{}:d,crumb:l,wssid:c,isOnline:C,endpoints:N}),(0,m.Z)(s===P.ZI||s===P._v,`Invalid strategy ${s}`),(0,m.Z)(N.BOOTCAMP_HOST,"BOOTCAMP_HOST is missing in endpoints"),this.allowEnhancedContactData=(0,p._)(O,S.ANe.SHOW_ENHANCED_CONTACTS_INFO),this.strategy=(0,h.jU)()&&f?P.vo:s,this._getRequest=function(s=this.strategy){return new J[s]({appId:t,appName:e,headers:A,bootcampYHeaders:T,bootcampHost:a,cookie:i,httpRetry:_,endpoints:this.endpoints,allowEnhancedContactData:this.allowEnhancedContactData,...f?{useBootcampYCPIProxy:(0,p._)(O,"useBootcampYCPIProxy")}:void 0})},this.appName=e,this.appId=t,this.cookie=i,this.headers=Object.assign({},A,T),this.httpRetry=_,this.bootcampHost=a,this.timezone=R.name,this.executeRequestsSequentially=n,this.requestQueue=u,this.region=E,this.locale=o,this.buckets=g,this.userAgent=D,this.suggestionsStrategyOverride=(0,h.jU)()&&(0,p._)(O,"suggestionsNoProxy")?P.vo:void 0,r&&(this.ymreqidGenerator=new I.Z(r,S.N7x,S.Q_q))}getDefaultUrlParams(){const e=this.strategy===P.vo||this.strategy===P.ZI?this.getMailboxParams():null,t=Object.assign({appid:this.appId,wssid:this.wssid,clientId:"mailsearch",timezone:this.timezone,allowGoogleDocs:1,ymreqid:this.ymreqidGenerator.generate(),timeout:P.Gf},e);return this.strategy===P.ZI&&(t.crumb=this.crumb),t}getOffsetFromUrl(e){if(e){const t=(0,_.parse)(e);return t&&t.cursor}return"0"}isRetryableError(e,t){return t<1&&e.name===A.bD}getMarketValue(){const e=P.Ib[this.region]||["en-US"];return-1!==e.indexOf(this.locale)?this.locale:e[0]}searchStream(e,t,s){e="mailSearch";const a=this.getDefaultUrlParams(),n=this.isOnline(),{ymreqid:r}=a,o={...this.loggerParams,apiName:e,ymreqid:r,isOnline:n},i=q.Z.feature(S.BrN.BootcampClient,o),{expand:l}=t;(0,m.Z)(l,"Bootcamp SRP expand parameter is required"),t=Object.assign({},a,t,{userAgent:this.userAgent}),c()(s)&&s(o);let d=Object.assign({multipart:!0},t);t.emailAddresses&&t.emailAddresses.length>0&&(d.filters=t.listFilter),this.strategy!==P._v&&this.strategy!==P.vo||Object.assign(d,{sourceTag:t.sourceTag,market:this.getMarketValue(),buckets:this.buckets});let{folders:_=[],accountIds:u=[],emailAddresses:p=[],contactIds:C=[]}=t;_=[].concat(_),u=[].concat(u),p=[].concat(p),C=[].concat(C),_.length?d.folders=_.join(","):u.length&&(d.accountIds=u.join(","));const A=p.length;A>0?d.contentId=A>20&&C.length?`x:${C[0]}`:p.slice(0,20).map((e=>"smtp:"+e)).join(","):C.length&&(d.contentId=`x:${C[0]}`),d=E()(d,["referrer","name","listContentType","listFilter","emailAddresses","contactIds"]);const h=new Q(o);let g;return g=this.executeRequestsSequentially?this.requestQueue.addStream((()=>this._getRequest().searchStream(d,h)),e):this._getRequest().searchStream(d,h),g.on("end",i.logSuccessAndLatency),g.on("error",(t=>{t=this.handleCommonError(t,e),(0,T.apiErrorLogger)(q.Z,S.BrN.BootcampClient,o,t)})),g}searchItems(e,t,s=0){const a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n,retryCount:s};let o;return t.expand&&"AL"===t.expand&&(r.apiName="getSearchAds"),this.strategy!==P._v&&this.strategy!==P.vo||(t.buckets=this.buckets),o=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add((()=>this._getRequest().itemsApi({...a,...t})),e):this._getRequest().itemsApi(Object.assign({},a,t)),this.logRequest(o,r),o.catch((a=>{if(a=this.handleCommonError(a,e),this.isRetryableError(a,s))return this.searchItems(e,t,++s);throw a}))}searchMessages(e,t){this.strategy=P._v;const s=this.getDefaultUrlParams(),a=Object.assign({},s,t),{appid:n,mailboxid:r,keyword:o,accountIds:i,sortOrder:l=S.Asd.DATE_DESC,cursor:c,limit:d}=a,E=X[l],_=`${this.bootcampHost}/psearch/v3/items?vertical=MESSAGES&threads=false&mailboxid=${r}&appid=${n}&accountIds=${i[0]}&query=${encodeURIComponent(o)}&order=${E}&limit=${d}&cursor=${c}`;return this.searchItems("searchItem",{...t,url:_})}attachmentsViewApi(e,t){this.strategy=P.vo;const s=this.getDefaultUrlParams(),a=Object.assign({},s,t),{accountemail:n,accountIds:r,appid:o,cursor:i=0,keyword:l,limit:c,listContentType:d,mailboxid:E,sortOrder:_=S.Asd.DATE_DESC,threads:u,timezone:m,mimeType:p}=a,C={accountemail:n,accountIds:r[0],appid:o,cursor:i,limit:c,mailboxid:E,order:X[_],query:l,threads:u,timezone:m,vertical:d,mimeTypes:P.$y[p]||""},A=this.endpoints.BOOTCAMP_HOST+"/psearch/v3/items?"+Object.keys(C).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(C[e]))).join("&");return this.searchItems("searchItems",{...t,url:A})}getSearchAds(e,t){this.strategy=P._v;const s=this.getDefaultUrlParams(),a=Object.assign({},s,t),{appid:n,keyword:r,sourceTag:o,expand:i}=a,l=(0,h.Y0)(`${this.bootcampHost}/psearch/v3/items`,{vertical:i,appid:n,query:r,sourceTag:o,device:"desktop",market:this.getMarketValue(),adCount:t.secondSearchAd?2:1});return this.searchItems("searchItem",{...t,url:l,userAgent:this.userAgent,timeout:P.im}).then((e=>(0,g.u9)((0,h.OA)(e),"items.ADS",[]).map((e=>e.pencilAd))))}searchGifs(e,t,s=0){const a=P.vo,n=this.getDefaultUrlParams(),{ymreqid:r}=n,o={apiName:e,ymreqid:r,retryCount:s};let i;return t.offset=this.getOffsetFromUrl(t.nextItemsUrl),i=this.executeRequestsSequentially?this.requestQueue.add((()=>this._getRequest(a).gifsApi({...n,...t})),e):this._getRequest(a).gifsApi(Object.assign({},n,t)),this.logRequest(i,o,null,s),i.catch((a=>{if(a=this.handleCommonError(a,e),this.isRetryableError(a,s))return this.searchGifs(e,t,++s);throw a}))}getGifCategories(e,t){const s=P.vo,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).gifCategoriesApi(Object.assign({locale:this.locale},a,t));return this.logRequest(o,r),o.catch((t=>{throw t=this.handleCommonError(t,e)}))}getAllCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getAllCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getCouponsForSmartView(e,{mailboxId:t="",limit:s=0,decoId:a=[],offset:n=0,nextItemsUrl:r="",start:o,end:i,accountIds:l=[],vertical:c="CARDS",order:d="time",query:E,from:_}={}){const u=P.vo,m=this.getDefaultUrlParams(),{ymreqid:S}=m,p={apiName:e,ymreqid:S},C={mailboxId:t,limit:s,cursor:n,extendUrl:r,start:o,end:i,decoId:a,accountIds:l,vertical:c,order:d,query:E,from:_,...m},A=this._getRequest(u).getCouponsApi(C);return this.logRequest(A,p),A.catch((t=>{throw t=this.handleCommonError(t,e)}))}getBrandEmailsForStorefront(e,{mailboxId:t="",limit:s=0,decoId:a=[],offset:n=0,nextItemsUrl:r="",accountIds:o=[],vertical:i=S.F6k.MESSAGES,order:l=S.Gos,query:c,from:d}={}){const E=P.vo,_=this.getDefaultUrlParams(),{ymreqid:u}=_,m={apiName:e,ymreqid:u},p={mailboxId:t,limit:s,cursor:n,extendUrl:r,decoId:a,accountIds:o,vertical:i,order:l,query:c,from:d,..._},C=this._getRequest(E).getStorefrontBrandMessages(p);return this.logRequest(C,m),C.catch((t=>{throw t=this.handleCommonError(t,e)}))}getLocalStores(e,t){const s=P.vo,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).localStoresApi(Object.assign(a,t));return this.logRequest(o,r),o.catch((t=>{throw t=this.handleCommonError(t,e)}))}getCouponRecommendations(e,t){const s=P.vo,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).couponRecommendations(Object.assign(a,t));return this.logRequest(o,r),o.catch((t=>{throw t=this.handleCommonError(t,e)}))}searchSuggestionsStream(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={...this.loggerParams,apiName:e,ymreqid:a,crumb:this.crumb},r=q.Z.feature(S.BrN.BootcampClient,n);let o;return t=Object.assign({},s,t),o=this.executeRequestsSequentially?this.requestQueue.addStream((()=>this._getRequest(this.suggestionsStrategyOverride).searchSuggestionsStream(t)),e):this._getRequest(this.suggestionsStrategyOverride).searchSuggestionsStream(t),o.on("end",r.logSuccessAndLatency),o.on("error",(t=>{t=this.handleCommonError(t,e),(0,T.apiErrorLogger)(q.Z,S.BrN.BootcampClient,n,t)})),o}grocerySearchSuggestions(e,t){const s=P.vo,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).grocerySearchSuggestionsApi(Object.assign(a,t));return this.logRequest(o,r),o.catch((t=>{throw t=this.handleCommonError(t,e)}))}recentSearches(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a,crumb:this.crumb};let r;return r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add((()=>this._getRequest().recentSearchesApi({...s,...t})),e):this._getRequest().recentSearchesApi(Object.assign({},s,t)),this.logRequest(r,n),r}getTopRetailers(e,t){const s=P.vo,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).topRetailersApi(Object.assign(a,t));return this.logRequest(o,r),o.catch((t=>{throw this.handleCommonError(t,e)}))}getTopDealCategories(e){const t=P.vo,s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._getRequest(t).topDealCategoriesApi(s);return this.logRequest(r,n),r.catch((t=>{throw this.handleCommonError(t,e)}))}deleteRecentSearch(e,t){const s=this.getDefaultUrlParams(),{wssid:a,ymreqid:n,appid:r}=s,o=Object.assign({},this.loggerParams,{apiName:e,ymreqid:n}),i=this._getRequest(P.vo).deleteRecentSearchApi({...t,wssid:a,ymreqid:n,appid:r});return this.logRequest(i,o),i}createStream(e,t,s=(()=>{})){return this[e](e,t,s)}request(e,t){return this[e](e,t)}handleAuthError(e,t){const{statusCode:s}=e;return 401!==s||"mailSearch"!==t&&"searchItems"!==t?null:new C.Z(A.tO,{statusCode:s,errorCode:"AUTH",body:e.getDataByName("body",""),refresh:!0})}handleWssidReissueError(e){const{statusCode:t}=e;if(403===t){const s=(0,g.u9)(e,"data.body.code","");if("EC-4003"===s||"Client.ClientRedirect.SessionIdReissue"===s){const a=(0,g.u9)(e,"data.body.wssid","");if(a)return this.wssid=a,new C.Z(A.bD,{statusCode:t,errorCode:s,wssid:a})}}return null}handleCommonError(e,t=""){let s=null;return e=C.Z.errorify(e),s||(s=this.handleAuthError(e,t)),s||(s=this.handleYdodError(e)),s||(s=this.handleWssidReissueError(e)),s||e}}const ee=$;var te=s(96943),se=s(99839),ae=s(24350),ne=s.n(ae);function re(e,t=v.aB.VideoPrimary){let s;return Array.isArray(e.assets)&&e.assets.length>0?(e.assets.forEach((e=>{e.usageType===t&&(s=e.mediaInfo.map((e=>e)))})),s):null}function oe(e,t,s){return Array.isArray(s)&&s?{videoMediaAssets:s,clickUrl:t.clickUrl||"",rules:e.rules,actionUrls:e.actionUrls,callToAction:t.callToAction,thumbnail:t.thumbnailImage||t.hqImage||""}:null}function ie(e,t){const s=re(t,v.aB.VideoPortrait);return s?oe(e,t,s):null}function le(e,t,s={}){if(!t)return;const a=s[v.aB.VideoPreview]||{},n=s[v.aB.ImagePortrait]||s[v.aB.ImagePortraitWithBG]||{},r="image/jpeg"===n.contentType?n.url:"",o=(t.adextensions||[]).filter((e=>e.type===v.wV)),i=function(e=[]){const t=(new Date).getTime();return e.filter((e=>e.endDate>t&&e.startDate<t))}(t.promotions);return t.secThumbnailImage=/^https:\/\//.test(t.secThumbnailImage)?t.secThumbnailImage:"",{adHeadline:t.headline||"",adSummary:t.summary||"",adImg:t.secThumbnailImage||t.secImage||"",adSource:t.source||"",clickUrl:t.clickUrl||"",landingUrl:t.landingUrl||"",creativeId:e.creativeId.toString(),impressionTrackingUrls:t.imprTrackingUrls?t.imprTrackingUrls:[t.imprTrackingUrl],adFeedbackBeacon:t.ad_feedback_beacon||"",rules:e.rules,actionUrls:e.actionUrls,previewVideoContentType:a.contentType||"",previewVideoUrl:a.url||"",callToAction:t.callToAction||"",flashSaleEndTime:(0,g.u9)(t,"passThroughFields.flashSaleCountdownMilliSec",null),imagePortrait:r||t.secOrigImg||t.origImg||"",origImg:t.secOrigImg||t.origImg||"",brand:(0,g.u9)(t,"passThroughFields.brand"),productAdActivity:(0,g.u9)(t,"passThroughFields.productAdActivity"),productAdActivityMessage:(0,g.u9)(t,"passThroughFields.productAdActivityMessage"),salePrice:(0,g.u9)(t,"passThroughFields.salePrice"),fullPrice:(0,g.u9)(t,"passThroughFields.fullPrice"),videoPortraitAssets:ie(e,t),promotions:i,hqImage:t.secHqImage||t.hqImage||"",callExtension:o[0]||{}}}function ce(e,t="",s={}){if(!Array.isArray(e))return[];const a=s.loggerParams||{};return e.map(((e,n)=>{var r,o,i;const l=function(e,t){let s;try{s=JSON.parse(e)}catch(a){te.Z.error("Gemini ad tag is not valid JSON",t)}return s}(e.tag,a);if(!l)return;const c=function(e){if(!Array.isArray(e.assets)||e.assets.length<=0)return{};let t=e.assets.filter((e=>Array.isArray(e.mediaInfo)));return t=t.map((e=>e.mediaInfo.map((function(t){const s=e.embeddedLandingUrls||[];return t.usageType=e.usageType,t.embeddedLandingUrls=s.reduce(((e,t)=>(e[t.index.toString()]=t,e)),{}),t})).reduce(((e,t)=>(t.usageType!==v.aB.ImagePortrait&&t.usageType!==v.aB.ImagePortraitWithBG||t.contentLabel===v.iw)&&t.url?t:e),{}))),ne()(t,(e=>e.usageType))}(l),d=oe(e,l,re(l,v.aB.VideoPrimary)),E=function(e,t,s={}){if(!t)return;const{actionUrls:a,ccCode:n}=e,{url:r,contentType:o,usageType:i,embeddedLandingUrls:l}=s,c=new RegExp("(.png|.gif|.jpg|.jpeg)$","i");let d="";return r&&r.match(c)&&(d=[`<a target="_blank" href="${t.landingUrl}" rel="noreferrer">`,`<img src="${r}" style="display: block; margin: auto; max-width: 100%;"/>`,"</a>"].join("")),{contentType:o||"",url:r||"",usageType:i||"",geminiSponsoredAsset:d,actionUrls:"STRM_VIDEO"===n?"":a,embeddedLandingUrls:l}}(e,l,c[v.aB.HtmlPrimary]),_=le(e,l,c);Array.isArray(null==_||null===(r=_.actionUrls)||void 0===r?void 0:r.STATIC_VIEW_3P)&&(_.actionUrls.STATIC_VIEW_3P=_.actionUrls.STATIC_VIEW_3P.map((e=>e?e.replace("$(S_VIEW_TYPE)",_.rules.viewabilityDefStatic3P[0].t):e)));const u=function(e,t,s,a,n){return a.productAdActivity?v.aB.ShoppingCartAdType:"STRM_VIDEO"===e&&t?v.aB.VideoAdType:s.usageType===v.aB.HtmlPrimary&&s.url?v.aB.NativeAdType:!a.flashSaleEndTime||null!=a&&a.promotions.length?n.hasOwnProperty(v.aB.VideoPortrait)?v.aB.VideoPortraitAdType:n.hasOwnProperty(v.aB.ImagePortrait)?v.aB.PortraitAdType:n.hasOwnProperty(v.aB.ImagePortraitWithBG)&&n.hasOwnProperty(v.aB.CarouselImage)?v.aB.PortraitCarouselAdType:v.aB.PencilAdType:v.aB.FlashSaleAdType}(e.ccCode,d,E,_,c);_.sectionId=t,_.beacon=e.beacon.replace("$(AD_POSN)",n+1)||"",_.type=u,_.domain=s.domain,_.carouselAssets=function(e,t,s){const a=[],n=s===v.aB.PortraitAdType||s===v.aB.PortraitCarouselAdType?v.Em:v.Sp;return!e.assets||+t!==v.a_&&+t!==v.vY&&+t!==v.Pu&&+t!==v.H6||e.assets.forEach((({callToAction:e,clickUrl:t,headline:s,assetId:r,mediaInfo:o,assetIndex:i})=>{if(t){let l="";const c=`pp=m,st=c,si=${i},sa=${r}`;o.forEach((e=>{e.contentLabel===n&&(l=e.url)})),a.push({callToAction:e,clickUrl:t,headline:s,assetId:r,img:l||o[0].url,adPosnMacro:c})}else se.Z.error("clickURL not present in Ad",{assetId:r})})),a}(l,t,u);const m=l.afb_cfg_url||"",S=function(e,t){let s=!1;const a=e=>!e||/^https:\/\//.test(e),n=e=>e.map((e=>a(e))),r={};return["adFeedbackBeacon","adFeedbackConfigUrl","adImg","beacon","clickUrl","impressionTrackingUrls","actionUrls"].forEach((t=>{Array.isArray(e[t])?(r[t]=n(e[t]),r[t].indexOf(!1)>-1&&(s=!0)):null!==e[t]&&"object"==typeof e[t]?(r[t]={},Object.keys(e[t]).forEach((o=>{Array.isArray(e[t][o])?(r[t][o]=n(e[t][o]),r[t][o].indexOf(!1)>-1&&(s=!0)):(r[t][o]=a(e[t][o]),r[t][o]||(s=!0))}))):(r[t]=a(e[t]),r[t]||(s=!0))})),s&&te.Z.feature("gemini_non_https_url",{...e,...t}).logFailure(),r}({..._,adFeedbackConfigUrl:m},a);return s.pencilAdUrlValidationEnabled&&null!==(o=S.impressionTrackingUrls)&&void 0!==o&&o.length&&null!==(i=_.impressionTrackingUrls)&&void 0!==i&&i.length&&(_.impressionTrackingUrls=_.impressionTrackingUrls.filter(((e,t)=>S.impressionTrackingUrls[t]))),{creativeId:e.creativeId.toString(),nativeAd:E,pencilAd:_,videoAd:d,adFeedbackConfigUrl:m}})).filter(Boolean)}var de=s(11282),Ee=s.n(de);const _e=Ee().create("norrin/gemini_client");var ue=s(88913),me=s(39593),Se=s.n(me),pe=s(24908),Ce=s.n(pe),Ae=s(47745);const Te=36e5,he=new(Se())({max:5,maxAge:Te}),ge=(new(Se())({max:5,maxAge:Te}),{keyPath:"/var/run/athenz/service.key.pem",certPath:"/var/run/athenz/service.cert.pem",caPath:"/opt/yahoo/share/ssl/certs/yahoo_certificate_bundle.pem"});function Ie(e){try{return Ce().readFileSync(e).toString()}catch(t){return se.Z.error("MTLS auth error: Cannot load file",{filePath:e,error:t&&t.stack}),""}}const Re=N.W.GET,Oe=new(Se())({maxAge:216e5}),De={Transport:N.Z,request:e=>{const t=e.sectionId,s=Object.keys(t).filter((e=>"string"==typeof t[e]||"number"==typeof t[e])).map((s=>De._sendRequest(e,t[s]).then((a=>{if((0,g.u9)(a,"body.error")){const n=e.loggerParams||{},r={...a.body,sectionId:t[s]};return _e.feature("gemini_no_ads",{...n,loggerInfo:r}).logFailure(),{body:r}}return a}))));return Promise.all(s).then((t=>De._constructAdResponses(t,e))).then((t=>De._appendAdFeedbackConfig(t,e)))},_appendAdFeedbackConfig:(e,t)=>{if("enabled"!==t.isAdFeedbackV2)return Promise.resolve(e);const{logRequest:s=(()=>{}),appId:a,locale:n,ymreqid:r}=t,o=a===S.gUS?"phone":"desktop",i=[];return Object.values(e).forEach((e=>{Array.isArray(e)&&e.forEach((e=>{const{adFeedbackConfigUrl:l}=e||{};if(l){const c=l.replace("$(AD_FEEDBACK_SITE_LOCALE)",n).replace("$(AD_FEEDBACK_DEVICE_TYPE)",o);if(Oe.has(c))return void(e.adFeedbackConfig=Oe.get(c));const d=new De.Transport(Re,c,{timeout:v.LX}).send().then((s=>{if((0,g.u9)(s,"body.error")){const e={...s.body};return _e.feature("gemini_no_feedback_config",{...t.loggerParams,loggerInfo:e}).logFailure(),{body:e}}const{config:a}=s.body;return e.adFeedbackConfig=a,Oe.set(c,a),s}));s(d,{apiName:"geminiAdConfig.get",appId:a,ymreqid:r,locale:n}),i.push(d)}}))})),Promise.all(i).then((()=>e))},_sendRequest:(e,t)=>{(0,m.Z)(e.ymreqid,"ymreqid is required for making requests to Gemini ssi"),(0,m.Z)(e.userAgent,"userAgent is required for making requests to Gemini ssi");const{logRequest:s=(()=>{}),ymreqid:a,rotationActionType:n,region:r,colo:o}=e,i=!(0,h.jU)()&&"pullrequest"!==Ae.N&&"devbox"!==Ae.N,l=i?function(e=ge){const t=JSON.stringify(e);let s=he.get(t);if(!s){if(s=Object.assign({key:Ie(e.keyPath),cert:Ie(e.certPath)},e.caPath?{ca:Ie(e.caPath)}:null),!s.key||!s.cert)return;he.set(t,s)}return s}({keyPath:v.py,certPath:v.Vr}):{},c=new De.Transport(Re,v.kl+v.dW,{timeout:v.LX,tls:l});c.setHeader("Accept","application/json"),c.setHeader("User-Agent",e.userAgent),(0,ue.Eo)()||c.setHeader("X-Forwarded-For",e.remoteAddress),e.cookie&&!e.creativeId&&c.setHeader("Cookie",e.cookie);const d={apiName:"geminiAd.get",sectionId:t,rotationActionType:n,ymreqid:a,intl:r,colo:o,isGeminiMTLSEnabled:i},E=De._getQueryParams(e,t),_=c.send(E);return s(_,d),_},getForceFilter:e=>{const t=_.stringify({useForceFilter:!0,forceFilter:"creative_id:"+e,useSpaceBall:!1,useFrequencyCapping:!1,useBudget:!1,useDeviceTargeting:!1,useBooleanQueries:!1,useSegmentsTargeting:!1,useBudgetCampaignFineThrottling:!1,useCF:!1,honorBlacklistedProperties:!1,dedupOnTitleSummaryHash:!1,"grouping.maxCreativesPerAdvertiser":5});return new Buffer(t).toString("base64")},_getQueryParams:(e,t)=>{const{locale:s,region:a,ymreqid:n}=e,r="zh-Hant-HK"===s||"zh-Hant-TW"===s?"zh_TW":s.substr(0,2),o=Object.assign({format:"json",apiVersion:2,size:"3x3",sectionId:v.$I,creativeCode:"STRM",propertyName:"mail_norrin",siteLanguage:r,countryCode:a,requestId:`${n}-${t}`,publisherInfo:"lu:1||159600001|STRM|",contentInHttps:1},e);o.sectionId=t||v.$I,o.adCount=v.XH[+t]||1,e.buckets&&e.buckets.length&&(o.bucket=e.buckets.join(",")),+t!==v.PM||e.videoMomentEnabled||(o.creativeCode="STRM"),v.df.indexOf(+t)>-1&&(o.domain=o.domainParts),"devbox"===e.environment&&(o.nonRevenue=1),o.creativeId&&(o.forceFilter=De.getForceFilter(o.creativeId),o.nonRevenue=2);const i={};for(const l in o)v.CW[l]&&(i[v.CW[l]]=o[l]);return i},_constructAdResponses:(e,t)=>{const s={};return e.forEach((e=>{if((0,g.u9)(e,"body.ads",null)){const a=(0,g.u9)(e,"body.section.id",v.$I),n=ce(e.body.ads,a,t);s[a]=n}else if((0,g.u9)(e,"body.error")){const t=(0,g.u9)(e,"body.sectionId");t!==v.vG.toString()&&t!==v.Mj.toString()||(s[t]={pencilAd:{},nativeAd:{},error:(0,g.u9)(e,"body.error"),additionalErrorInfo:(0,g.u9)(e,"body.additionalErrorInfo"),status:(0,g.u9)(e,"body.status")})}})),t.secondPencilFallbackSectionIdEnabled&&(s[v.Fq]=s[v.Fq]||s[v.YA]),t.nobleHybridAdEnabled&&s[v.X5]&&(s[v.lC]=s[v.X5]),s}},Ne=De;class fe{constructor({appName:e}){this.proxyURL=`${e===S.BQZ.MOBILE_APP?S.IZo:S.jQ2}/gemini_api/`}request(e){const t=new N.Z(N.W.GET,this.proxyURL,{timeout:33e3});return t.setHeader("Accept","application/json"),t.send(e).then((e=>e.body))}}const Me=(0,g.gP)(["NODE_TO_GEMINI","BROWSER_TO_NODE"]);class Le extends u.Z{constructor({appName:e=S.BQZ.MAIL_APP,appId:t=S.JfS,loggerParams:s,wssid:a,isOnline:n,guidHash:r,cookie:o,crumb:i,userAgent:l,remoteAddress:c,environment:d,region:E,locale:_,colo:u,buckets:m,referer:p},C){super({loggerName:S.BrN.GeminiAPIClient,loggerParams:(0,h.jU)()?{}:s,crumb:i,wssid:a,isOnline:n}),this.strategy=C||this.getDefaultStrategy(),this.browserProxy=new fe({appName:e}),this.REQUESTS={Gemini:Ne.request,BrowserProxy:this.browserProxy.request},this.validateStrategy(this.strategy),this.appId=t,this.cookie=o,this.environment=d,this.buckets=m,this.locale=_,this.region=E,this.colo=u,this.remoteAddress=c,this.userAgent=l,this.referer=p,r&&(this.ymreqidGenerator=new I.Z(r,S.N7x,S.Q_q))}getDefaultStrategy(){return(0,h.jU)()?Me.BROWSER_TO_NODE:Me.NODE_TO_GEMINI}validateStrategy(e){if("string"!=typeof e||!Me[e])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(Me)));if((0,h.jU)()&&e===Me.NODE_TO_GEMINI)throw new Error(Me.NODE_TO_GEMINI+" strategy can not be used in the browser");if(!(0,h.jU)()&&e===Me.BROWSER_TO_NODE)throw new Error(Me.BROWSER_TO_NODE+" strategies can not be used on the server")}request(e){let t;if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated. making a request or initialize GeminiAPIClient with `guidHash`, so that it can generate a new one");const s=this.ymreqidGenerator.generate(),a=this.crumb,n=Object.assign({},e,{ymreqid:s,appId:this.appId,crumb:a,loggerParams:this.loggerParams});switch(this.strategy){case Me.NODE_TO_GEMINI:Object.assign(n,{userAgent:this.userAgent,remoteAddress:this.remoteAddress,buckets:this.buckets,cookie:this.cookie,environment:this.environment,region:this.region,locale:this.locale,colo:this.colo,referer:this.referer,logRequest:this.logRequest.bind(this)}),t=this.REQUESTS.Gemini;break;case Me.BROWSER_TO_NODE:Object.assign(n,{locale:this.locale}),t=this.REQUESTS.BrowserProxy.bind(this.browserProxy)}const r=t(n);if(this.strategy===Me.BROWSER_TO_NODE){const t={ymreqid:s,crumb:a,intl:this.region,apiName:"geminiAd.get",sectionIds:e.sectionId,rotationActionType:e.rotationActionType};this.logRequest(r,t)}return r}getSponsoredAsset(e){const t=new N.Z(N.W.GET,e.url,{timeout:1e3}),s={intl:this.region,apiName:"geminiSponsoredAsset.get",url:e.url};t.setHeader("Accept","text/html");const a=t.send();return this.logRequest(a,s),a}}const Pe=Le;class ye extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,guidHash:s,wssid:a,httpRetry:n,isOnline:r,endpoints:o,config:i={}}){super({loggerName:S.BrN.XobniClient,loggerParams:e,wssid:a,isOnline:r}),(0,m.Z)(o.BOOTCAMP_HOST,"BOOTCAMP_HOST is missing in endpoints");const l={guidHash:s,httpRetry:n,isOnline:r,wssid:a,host:(0,p.N)(i,"xobniHost"),classicabHost:o.BOOTCAMP_HOST+"/classicab"};(0,m.Z)(l.guidHash,"Xobni `guidHash` is a required option"),this.ymreqidGenerator=new I.Z(l.guidHash,S.N7x,S.Q_q),this.appId=t,this.httpRetry=l.httpRetry,this.allowEnhancedContactData=i[S.ANe.SHOW_ENHANCED_CONTACTS_INFO],this.instanceOptions=l}transport(e,t=N.W.GET,s={}){const a=new N.Z(t,e,{httpRetry:this.httpRetry});return t===N.W.GET&&a.setHeader("Accept","application/json"),(0,g.xb)(s)||Object.keys(s).forEach((e=>{a.setHeader(e,s[e])})),a.withCredentials=!0,a}request(e,t,s,a,n={},r=0){const{appendMailboxParams:o=!0,reqHeaders:i={},urlParams:l={},formData:c}=n,d=a===N.W.POST||a===N.W.DELETE,E=this.getRequestId(),u=this.appId;let m=e;if(d){const t=_.stringify({...l,ymreqid:E,appId:u,wssid:this.wssid});m=`${e}?${t}`}else t={...t,ymreqid:E,appId:u};s={...s,ymreqid:E},t=o?Object.assign(t||{},this.getMailboxParams()):t;const S=this.transport(m,a,i).send(c||t).then((e=>e.body));return this.logRequest(S,s,null,r),S.catch((o=>{if(o=this.handleCommonError(o),d&&this.isRetryableError(o,r))return this.request(e,t,s,a,n,++r);throw o}))}getRequestId(){return this.ymreqidGenerator.generate()}getSearchQueries(e){return{q:(e=Object.assign({query:"",includeLists:!0,includeTypes:"smtp",contextFrom:"",recipientList:[],identifier:"",limit:6},e)).query,i_l:e.includeLists,i_t:e.includeTypes,c_t:e.recipientList.join(","),c_f:e.contextFrom,k:e.identifier,l:e.limit}}isRetryableError(e,t){return t<1&&e.name===A.bD&&(this.wssid=e.data.wssid,!0)}isUserXobnified(){return this.request(`${this.instanceOptions.host}/pachinko/v2/xobnified`,{},{apiName:"isUserXobnified"})}normalizeResponse(e){const t={};for(const s in e)e.hasOwnProperty(s)&&void 0!==e[s]&&(t[s]=e[s]);return t}normalizeImportantContactsResponse(e){return(e.endpoint_info_list||[]).map((e=>{const t=(e.endpoint?[e.endpoint]:[]).filter((e=>/^smtp:(\S+)/.test(e))).map((e=>e.match(/^smtp:(\S+)/)[1]));return{emails:t,name:e.c_name,xobniId:e.c_id,id:t[0]}}))}triggerProfileImport({provider:e}){(0,m.Z)(e,"`provider` is a required option");const t={apiName:"triggerProfileImport",provider:e=e.toLowerCase()},s=`${this.instanceOptions.host}/credentials/workflow`;return this.request(s,{},t,N.W.POST,{urlParams:{source:e},appendMailboxParams:!1})}blockContact({contactInfo:e={}}={}){const{email:t}=e;t||(0,m.Z)(t,"`email` is a required option to block the email contact");const s={apiName:"blockContactEndpoint",blocklistedEmail:t};return this.request(`${this.instanceOptions.host}/v4/endpoints/${t}/blacklist`,{},s,N.W.POST)}search(e){const t=this.getSearchQueries(e),s={apiName:"searchSimpleEndpoint",...t};return this.request(this.instanceOptions.host+"/v4/endpoints/s",t,s).then((e=>this.normalizeResponse({identifier:e.k,contacts:e.r.map((function(e){return"LIST"===e.i?{id:e.n+e.ct,email:e.n+e.ct,name:e.n,list:e.es.map((e=>({id:e.e,email:e.e,name:e.n})))}:{id:e.c,email:e.e,name:e.n||e.nd||"",filteredResults:{fullName:e.f&&(e.f.FN||e.f.ND)||[],email:e.f&&e.f.E||[]}}}))})))}simpleContactsSearch(e){const t=this.getSearchQueries(e),s={apiName:"searchSimpleContact",...t};return this.request(this.instanceOptions.host+"/v4/contacts/alpha/s",t,s).then((e=>(0,U.i6)(e.r)))}deleteContacts({editTokenList:e=[]}){e.length||(0,m.Z)(e.length,"`editToken` is a required option to delete the contact");const t={sources:e},s={apiName:"deleteContacts",editTokenList:JSON.stringify(e)};return this.request(`${this.instanceOptions.host}/v4/contacts/delete`,t,s,N.W.POST).then((({deleted_contacts:e=[]})=>e.map((e=>(0,U.WS)(e,this.allowEnhancedContactData)))))}importantContacts(e){e||(0,m.Z)(e,"`email` is a required option to fetch important endpoints");const t={include_types:"smtp",context_from:e,max_count:100},s={apiName:"importantEndpoints",context_from:e};return this.request(this.instanceOptions.host+"/v4/endpoints/important",t,s).then((e=>this.normalizeImportantContactsResponse(e)))}topContacts({email:e,maxCount:t=20}){e||(0,m.Z)(e,"`email` is a required option to specify the context");const s={exclude_known_entities:!0,context_from:e,max_count:t,no_me_contact:!0,include_favorite:!0},a={apiName:"importantContacts",context_from:e,max_count:t};return this.request(this.instanceOptions.host+"/v4/contacts/important",s,a).then(U.Kl)}userCuratedEndpoints({endpointTypes:e=[],count:t=1e4,query:s}){return this.request(this.instanceOptions.host+"/v4/endpoints/userCurated",{i_t:e,l:t,q:s},{apiName:"userCuratedEndpoints"}).then((e=>(0,U.HT)({response:e})))}contactGroupsList(){return this.request(this.instanceOptions.host+"/v4/groups",{},{apiName:"contactGroupsList"}).then((e=>(0,U.Dv)({response:e})))}contactsInGroup({groupId:e,sort_by:t=S.K24[S.bW1.FIRST_NAME]}){(0,m.Z)(null!=e,"`Contact Group id` is a required parameter");return this.request(this.instanceOptions.host+`/v4/groups/${e}?include_types=smtp,tel,adr,hidden&sort_by=${t}`,{},{apiName:"contactsInGroup"}).then((e=>(0,U.Ir)({response:e})))}editContactGroup({groupId:e,newName:t,addedEndpoints:s,removedEndpoints:a}){(0,m.Z)(null!=e,"`Contact Group id` is a required parameter");const n=(0,U.K6)({newName:t,addedEndpoints:s,removedEndpoints:a}),r={apiName:"editContactGroup",newName:n.new_name,addedEndpoints:JSON.stringify(n.added_endpoints),removedEndpoints:JSON.stringify(n.removed_endpoints)};return this.request(this.instanceOptions.host+`/v4/groups/${e}/edit`,n,r,N.W.POST,{appendMailboxParams:!1})}createContactGroup({name:e,endpoints:t}){(0,m.Z)(e,"`Contact Group name` is a required parameter");const s=(0,U.qr)({name:e,endpoints:t}),a={apiName:"createContactGroup",name:e,endpoints:JSON.stringify(s.endpoints)};return this.request(this.instanceOptions.host+"/v4/groups",s,a,N.W.POST,{appendMailboxParams:!1}).then((e=>((e||{}).created_group||{}).id))}contactsGroupDelete({groupId:e}){e||(0,m.Z)(e,"`groupId` is a required option to delete contact group");const t=N.W.DELETE;return this.request(this.instanceOptions.host+`/v4/groups/${e}`,{},{apiName:"contactGroupsDelete"},t).then((e=>(0,U.Dv)({response:e})))}fetchContactsSnapshot(){const e={wssid:this.wssid},t={...e,apiName:"fetchContactsSnapshot"};return this.request(this.instanceOptions.host+"/v4/contacts/snapshots",e,t).then((e=>(null==e?void 0:e.snapshots)||[]))}importContactsFromCsv({filename:e,csvfile:t}){const s={wssid:this.wssid,filename:e,apiName:"importContactsFromCsv"},a=new FormData;a.append("csvfile",t,e);return this.request(this.instanceOptions.host+"/v4/contacts/import/csv",{},s,N.W.POST,{formData:a})}restoreContacts({snapshotId:e}){const t={snapshot_id:e,wssid:this.wssid,apiName:"restoreContacts"};return this.request(this.instanceOptions.host+"/v4/contacts/restore",{},t,N.W.POST,{appendMailboxParams:!1,urlParams:{snapshot_id:decodeURIComponent(e)}})}printContacts({sort_by:e=S.K24[S.bW1.FIRST_NAME],count:t=1e4}){const s={format:"json",count:t,sort_by:e},a={...s,apiName:"printContacts"};return this.request(this.instanceOptions.host+"/v4/contacts/export",s,a).then((e=>(0,U.bj)(e)))}alphabeticalContacts({count:e,characters:t=[],group_by:s=S.K24[S.bW1.FIRST_NAME]}){const a={count:e,group_by:s};t.length>0&&(a.categories=t.join(","));const n={apiName:"alphabeticalContacts",...a};return this.request(this.instanceOptions.host+"/v4/contacts/alpha",a,n).then((t=>(0,U.ci)({response:t,count:e,allowEnhancedContactData:this.allowEnhancedContactData})))}contactDetailsEdit({oldContact:e,newContact:t,skipContactDiffCheck:s}){const a=(0,U.zD)(e,t),n=Object.keys(a.changes).filter((e=>!Array.isArray(a.changes[e])||a.changes[e].length)).length;if(!s&&!n)return Promise.resolve(e);if(!a.source)return Promise.reject({error:"no editToken"});const{removed_endpoints:r,added_endpoints:o,...i}=a.changes,l={apiName:"contactDetailsEdit",editToken:a.editToken,...i,removed_endpoints:JSON.stringify(r),added_endpoints:JSON.stringify(o)};return this.request(`${this.instanceOptions.host}/v4/contacts/liteEdit`,a,l,N.W.POST,{appendMailboxParams:!1}).then((e=>(0,U.WS)(e.resulting_contacts&&e.resulting_contacts[0],this.allowEnhancedContactData,e.deleted_contacts&&e.deleted_contacts[0])))}createContact({newContact:e,image:t}){if((0,g.xb)(e))return;const s={apiName:"createContact",newContact:JSON.stringify(e),image:t},a=(0,U.Gt)({contact:e,image:t});if(!Object.keys(a.source_contacts).length)return Promise.reject({error:"no changes"});return this.request(`${this.instanceOptions.host}/v4/contacts/create`,a,s,N.W.POST,{appendMailboxParams:!1}).then((e=>(0,U.WS)(e.resulting_contacts&&e.resulting_contacts[0],this.allowEnhancedContactData)))}contactUploadPhoto({image:e,editToken:t}){const s={apiName:"contactUploadPhoto",image:e,editToken:t};if(!t)return Promise.reject({error:"no editToken"});return this.request(`${this.instanceOptions.host}/v4/contacts/uploadPhoto`,{image:e,source:t},s,N.W.POST,{appendMailboxParams:!1}).then((e=>(0,U.WS)(e.resulting_contacts&&e.resulting_contacts[0],this.allowEnhancedContactData)))}contactDetails({emails:e,isPrefetch:t}){e||(0,m.Z)(e,"`emails` is a required option");const s={apiName:"contactDetailsByEndpoint",emails:e,isPrefetch:t},a=`smtp:${e.join(",smtp:")}`;return this.request(`${this.instanceOptions.host}/v4/contacts/by/ep`,{ep:a},s).then((t=>(0,U.ed)({emails:e,...t},this.allowEnhancedContactData)))}getEnhanceContactsPreference(){return this.request(`${this.instanceOptions.host}/util/user_preferences`,{},{apiName:"getEnhanceContactsPreference"},N.W.GET).then((e=>!e.opt_out_elcaro_zippy))}setEnhanceContactsPreference(e){const t={apiName:"setEnhanceContactsPreference",enabled:e};return this.request(`${this.instanceOptions.host}/util/user_preferences`,{opt_out_elcaro_zippy:!e},t,N.W.POST)}toggleContactsProviderImporter({provider:e,enable:t=!0,spid:s}){(0,m.Z)(e,"`provider` is a required option"),(0,m.Z)(s,"`spid` is a required option");const a={sync:t?"on":"off",src:e=e.toLowerCase(),spid:s},n={apiName:"toggleContactsProviderImporter",provider:e,enable:t},r=`${this.instanceOptions.host}/v4/contacts/import`;return this.request(r,a,n,N.W.POST,{urlParams:{custId:"ymail"}})}contactProvidersStatus(){return this.request(`${this.instanceOptions.host}/v4/contacts/preferences`,{custId:"ymail"},{apiName:"contactProvidersStatus"}).then((e=>(0,U.OC)({response:e})))}formatted(){return this.request(`${this.instanceOptions.host}/v4/util/credentials/formatted`,{},{apiName:"socialAccountStatus"}).then((e=>(0,U._l)(e)))}handleWssidReissueError(e){const{statusCode:t}=e;if(403===t){const s=(0,g.u9)(e,"data.body.code","");if("Client.ClientRedirect.SessionIdReissue"===s){const a=(0,g.u9)(e,"data.body.wssid","");if(a)return this.wssid=a,new C.Z(A.bD,{statusCode:t,errorCode:s,wssid:a})}}return null}}const be=ye;class Fe extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,cookie:s,guid:a,crumb:n,wssid:r,guidHash:o,endpoints:i}={}){(0,m.Z)(i.CREDSTORE_HOST,"CREDSTORE_HOST is missing in endpoints"),super({loggerName:S.BrN.CredstoreClient,loggerParams:e,crumb:n,wssid:r,endpoints:i}),this.guid=a,this.cookie=s,this.appId=t,this.credstoreHost=this.endpoints.CREDSTORE_HOST,this.ymreqidGenerator=new I.Z(o,S.N7x,S.Q_q)}getRequestId(){return this.ymreqidGenerator.generate()}_isEmptySuccessResponse(e){if(e&&e.data){const{statusCode:t}=e.data;return 200===t||204===t}return!1}transport(e,t,s={}){t||(t=N.W.GET);const a=new N.Z(t,e,{tls:s});return a.withCredentials=!0,a}unlink({provider:e,spid:t}={}){(0,m.Z)(t,"`spid` is a required option");const s=this.getRequestId(),a={apiName:"unlinkSocialAccount",provider:e,ymreqid:s},n=`${this.endpoints.CREDSTORE_HOST}/v1/users/${this.guid}/service-providers/${t}/credential?ymreqid=${s}&appId=${this.appId}`,r=this.transport(n,N.W.DELETE);this.cookie&&r.setHeader("cookie",this.cookie);const o=r.send().catch((e=>{if(this._isEmptySuccessResponse(e))return e.data.responseText;throw e}));return this.logRequest(o,a),o}removeOAuthToken({domain:e,email:t}={}){(0,m.Z)(e,"`domain` is a required option"),(0,m.Z)(t,"`email` is a required option");const s=this.getRequestId(),a=_.stringify({relyingParty:"comms",domain:e,email:t,ymreqid:s,wssid:this.wssid,appId:this.appId}),n={apiName:"removeOAuthToken",domain:e,email:t,ymreqid:s},r=`${this.endpoints.CREDSTORE_HOST}/v1/users/${this.guid}/service-providers/spid/credential?${a}`,o=this.transport(r,N.W.DELETE).send().catch((e=>{if(this._isEmptySuccessResponse(e))return e.data.responseText;throw e}));return this.logRequest(o,n),o}contextualizeredirectUri(e,t){const s=t?"1":null,a=_.stringify({isCorp:s,crumb:this.crumb});return-1!==e.indexOf("?")?`${e}&${a}`:`${e}?${a}`}getAuthorizationURL({provider:e,email:t,redirectUri:s,isCorpUser:a=!1}={}){(0,m.Z)(e,"`provider` is a required option"),(0,m.Z)(t,"`email` is a required option"),(0,m.Z)(s,"`redirectUri` is a required option");const n=this.getRequestId(),{oauthDomain:r,scope:o}=S.wxL[e],i=_.stringify({appId:this.appId,wssid:this.wssid,ymreqid:n}),l={apiName:"getAuthorizationURL",domain:r,email:t,provider:e,ymreqid:n},c={applicationAttributes:{relyingParty:"comms",domain:r,email:t},redirectUri:this.contextualizeredirectUri(s,a),scope:o||""};let d=`${this.credstoreHost}/v1/users/@me/service-providers/spid/authorization-url?${i}`,E={};(0,z.e_)(this.appId)&&(E=(0,z.Ow)(),d=`${this.credstoreHost}/v1/users/@me/mtls/service-providers/spid/authorization-url?${i}`);const u=this.transport(d,N.W.POST,E);this.cookie&&u.setHeader("cookie",this.cookie);const p=u.setHeader("Content-Type","application/json").setHeader("Accept","application/json").send(c).then((e=>e.body));return this.logRequest(p,l),p}link({spid:e,provider:t,redirectUri:s,isCorpUser:a=!1,scope:n}={}){(0,m.Z)(e,"`spid` is a required option"),(0,m.Z)(s,"`redirectUri` is a required option");const r=this.getRequestId(),o={apiName:"linkSocialAccount",provider:t,scope:n,ymreqid:r},i={applicationAttributes:{relyingParty:"comms"},redirectUri:this.contextualizeredirectUri(s,a),scope:n||""},l=`${this.credstoreHost}/v1/users/@me/service-providers/${e}/authorization-url?ymreqid=${r}&appId=${this.appId}`,c=this.transport(l,N.W.POST).setHeader("Content-Type","application/json").setHeader("Accept","application/json").send(i).then((e=>e.body));return this.logRequest(c,o),c}}var Ue=s(10728);const ve="https://s.yimg.com/nq/storm/assets/enhancrV2/23/logos/",we="https://s.yimg.com/lb/brands/80x80_",Ge={domainLogo:"",domainColor:Ue.E6z.vzm_black},ke="BROWSER_TO_LUCY_STRATEGY",He="BROWSER_TO_NODE_STRATEGY",Be="NODE_TO_LUCY_STRATEGY",xe={default:Ge,"yahoo.com":{domainLogo:`${we}yahoo.png`,domainColor:Ue.E6z.vzm_grape_jelly},"aol.com":{domainLogo:`${we}aol.png`,domainColor:Ue.E6z.vzm_black},"tumblr.com":{domainLogo:`${ve}tumblr.png`,domainColor:"#3E97C5"},"ebay.com":{domainLogo:`${ve}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"craigslist.ca":{domainLogo:`${ve}craigslist.png`,domainColor:"#56088f"},"google.ro":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"amazon.co.uk":{domainLogo:`${ve}amazon.png`,domainColor:Ue.E6z.vzm_black},"amazon.com":{domainLogo:`${ve}amazon.png`,domainColor:Ue.E6z.vzm_black},"cnn.com":{domainLogo:`${ve}cnn.png`,domainColor:"#cc1417"},"ebay.fr":{domainLogo:`${ve}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"ebay.ca":{domainLogo:`${ve}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"google.com.mx":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"docs.google.com":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"google.it":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"google.com.br":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"goog.gl":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"ebay.com.au":{domainLogo:`${ve}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"picasaweb.google.com":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"google.de":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"amazon.ca":{domainLogo:`${ve}amazon.png`,domainColor:Ue.E6z.vzm_black},"tripadvisor.fr":{domainLogo:`${ve}tripadvisor.png`,domainColor:"#49913d",displayName:"Tripadvisor"},"google.co.uk":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"google.co.in":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"realtor.com":{domainLogo:`${ve}realtor.png`,domainColor:"#e91b28"},"autotrader.com":{domainLogo:`${ve}autotrader.png`,domainColor:"#12377d"},"ebay.de":{domainLogo:`${ve}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"amazon.fr":{domainLogo:`${ve}amazon.png`,domainColor:Ue.E6z.vzm_black},"amazon.de":{domainLogo:`${ve}amazon.png`,domainColor:Ue.E6z.vzm_black},"airbnb.com":{domainLogo:`${ve}airbnb.png`,domainColor:"#ff5a5f"},"mercadolibre.com.ar":{domainLogo:`${ve}mercadolibre.png`,domainColor:"#fce404"},"google.com":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"google.fr":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"plus.google.com":{domainLogo:`${ve}googleplus.png`,domainColor:"#dd4B39"},"craigslist.org":{domainLogo:`${ve}craigslist.png`,domainColor:"#56088f"},"google.es":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"google.ca":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"olx.ph":{domainLogo:`${ve}olx.png`,domainColor:"#03273b"},"play.google.com":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"amazon.es":{domainLogo:`${ve}amazon.png`,domainColor:Ue.E6z.vzm_black},"gumtree.com.au":{domainLogo:`${ve}gumtree.png`,domainColor:"#1d1d1b"},"amazon.in":{domainLogo:`${ve}amazon.png`,domainColor:Ue.E6z.vzm_black},"airbnb.fr":{domainLogo:`${ve}airbnb.png`,domainColor:"#ff5a5f"},"tripadvisor.co.uk":{domainLogo:`${ve}tripadvisor.png`,domainColor:"#49913d",displayName:"Tripadvisor"},"ebay.it":{domainLogo:`${ve}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"support.google.com":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"craigslist.co.uk":{domainLogo:`${ve}craigslist.png`,domainColor:"#56088f"},"google.gr":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"tripadvisor.ca":{domainLogo:`${ve}tripadvisor.png`,domainColor:"#49913d",displayName:"Tripadvisor"},"apple.com":{domainLogo:`${ve}apple.png`,domainColor:Ue.E6z.vzm_black},"windows.microsoft.com":{domainLogo:`${ve}microsoft.png`,domainColor:"#feb800"},"foxnews.com":{domainLogo:`${ve}foxnews.png`,domainColor:"#d92226"},"walmart.com":{domainLogo:`${ve}walmart.png`,domainColor:"#2484c6",displayName:"Walmart"},"behance.net":{domainLogo:`${ve}behance.png`,domainColor:"#0b7fff"},"johnlewis.com":{domainLogo:`${ve}johnlewis.png`,domainColor:"#939393"},"wnd.com":{domainLogo:`${ve}wnd.png`,domainColor:"#2c3d44"},"ebay.co.uk":{domainLogo:`${ve}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"homedepot.com":{domainLogo:`${ve}homedepot.png`,domainColor:"#f58020",displayName:"Home Depot"},"wayfair.com":{domainLogo:`${ve}wayfair.png`,domainColor:"#592148"},"monster.com":{domainLogo:`${ve}monster.png`,domainColor:"#652d90"},"signupgenius.com":{domainLogo:`${ve}signupgenius.png`,domainColor:"#231f20"},"aliexpress.com":{domainLogo:`${ve}aliexpress.png`,domainColor:"#f2cb4a",displayName:"AliExpress"},"buzzfeed.com":{domainLogo:`${ve}buzzfeed.png`,domainColor:"#ee3323"},"sportsdirect.com":{domainLogo:`${ve}sportsdirect.png`,domainColor:"#e8341b"},"amazon.it":{domainLogo:`${ve}amazon.png`,domainColor:Ue.E6z.vzm_black},"dhgate.com":{domainLogo:`${ve}dhgate.png`,domainColor:"#727071"},"breitbart.com":{domainLogo:`${ve}breitbart.png`,domainColor:Ue.E6z.vzm_black},"indeed.com":{domainLogo:`${ve}indeed.png`,domainColor:"#1a65f6"},"redfin.com":{domainLogo:`${ve}redfin.png`,domainColor:"#a02021"},"washingtonpost.com":{domainLogo:`${ve}washingtonpost.png`,domainColor:"#3a3a3a"},"tocmai.ro":{domainLogo:`${ve}tocmai.png`,domainColor:"#aabb00"},"drive.google.com":{domainLogo:`${we}google.png`,domainColor:"#3d79f7"},"gumtree.com":{domainLogo:`${ve}gumtree.png`,domainColor:"#1d1d1b"},"fool.com":{domainLogo:`${ve}fool.png`,domainColor:"#ffcc99"},"myrecipes.com":{domainLogo:`${ve}myrecipes.png`,domainColor:"#921e1e"},"laredoute.fr":{domainLogo:`${ve}laredoute.png`,domainColor:"#201e1f"},"wsj.com":{domainLogo:`${ve}wsj.png`,domainColor:"#001022"},"economist.com":{domainLogo:`${ve}economist.png`,domainColor:"#e3120b"},"allrecipes.com":{domainLogo:`${ve}allrecipes.png`,domainColor:"#fc6700"},"upworthy.com":{domainLogo:`${ve}upworthy.png`,domainColor:"#ff6a00"},"eventbrite.com":{domainLogo:`${ve}eventbrite.png`,domainColor:"#ff7200"},"allegro.pl":{domainLogo:`${ve}allegro.png`,domainColor:"#ff5a00"},"jcpenney.com":{domainLogo:`${ve}jcpenney.png`,domainColor:"#d61e20"},"alternet.org":{domainLogo:`${ve}alternet.png`,domainColor:"#f15f2c"},"bloomberg.com":{domainLogo:`${ve}bloomberg.png`,domainColor:Ue.E6z.vzm_black},"4shared.com":{domainLogo:`${ve}4shared.png`,domainColor:"#267aa8"},"realestate.com.au":{domainLogo:`${ve}realestate.png`,domainColor:"#e3002b"},"dell.com":{domainLogo:`${ve}dell.png`,domainColor:"#0085c5"},"usatoday.com":{domainLogo:`${ve}usatoday.png`,domainColor:"#009bff"},"latimes.com":{domainLogo:`${ve}latimes.png`,domainColor:Ue.E6z.vzm_black},"hm.com":{domainLogo:`${ve}hm.png`,domainColor:"#bc0114"},"submarino.com.br":{domainLogo:`${ve}submarino.png`,domainColor:"#083f89"},"issuu.com":{domainLogo:`${ve}issuu.png`,domainColor:"#ed5224"},"forever21.com":{domainLogo:`${ve}forever21.png`,domainColor:"#0d0b0c"},"mindbodygreen.com":{domainLogo:`${ve}mindbodygreen.png`,domainColor:"#73d54c"},"mashable.com":{domainLogo:`${ve}mashable.png`,domainColor:"#00aef0"},"toysrus.com":{domainLogo:`${ve}toysrus.png`,domainColor:"#0062ae"},"governmentjobs.com":{domainLogo:`${ve}governmentjobs.png`,domainColor:"#ef5f3c"},"overstock.com":{domainLogo:`${ve}overstock.png`,domainColor:"#c61e2b"},"staples.com":{domainLogo:`${ve}staples.png`,domainColor:"#ec1c29",displayName:"Staples"},"costco.com":{domainLogo:`${ve}costco.png`,domainColor:"#e51d37"},"fotocasa.es":{domainLogo:`${ve}fotocasa.png`,domainColor:"#001e41"},"americanas.com.br":{domainLogo:`${ve}americanas.png`,domainColor:"#e50007"},"marriott.com":{domainLogo:`${ve}marriott.png`,domainColor:"#bc1d31"},"potterybarn.com":{domainLogo:`${ve}potterybarn.png`,domainColor:Ue.E6z.vzm_black},"bedbathandbeyond.com":{domainLogo:`${ve}bedbathandbeyond.png`,domainColor:"#002f8b"},"zulily.com":{domainLogo:`${ve}zulily.png`,domainColor:Ue.E6z.vzm_black},"tripadvisor.com":{domainLogo:`${ve}tripadvisor.png`,domainColor:"#49913d",displayName:"Tripadvisor"},"davidsbridal.com":{domainLogo:`${ve}davidsbridal.png`,domainColor:"#ee8e92"},"etsy.com":{domainLogo:`${ve}etsy.png`,domainColor:"#f56400"},"webmd.com":{domainLogo:`${ve}webmd.png`,domainColor:"#20272f"},"zazzle.com":{domainLogo:`${ve}zazzle.png`,domainColor:"#676767"},"stepstone.de":{domainLogo:`${ve}stepstone.png`,domainColor:"#656a6d"},"npr.org":{domainLogo:`${ve}npr.png`,domainColor:"#3366cc"},"homes.com":{domainLogo:`${ve}homes.png`,domainColor:"#f7841a"},"dailykos.com":{domainLogo:`${ve}dailykos.png`,domainColor:"#db7b27"},"indiegogo.com":{domainLogo:`${ve}indiegogo.png`,domainColor:"#e32875"},"instagram.com":{domainLogo:`${ve}instagram.png`,domainColor:Ue.E6z.vzm_black},"trulia.com":{domainLogo:`${ve}trulia.png`,domainColor:"#00c000"},"weather.com":{domainLogo:`${ve}weather.png`,domainColor:"#003399"},"zappos.com":{domainLogo:`${ve}zappos.png`,domainColor:"#020001"},"thrillist.com":{domainLogo:`${ve}thrillist.png`,domainColor:Ue.E6z.vzm_black},"pinterest.com":{domainLogo:`${ve}pinterest.png`,domainColor:"#bb0919"},"lemonde.fr":{domainLogo:`${ve}lemonde.png`,domainColor:Ue.E6z.vzm_black},"loopnet.com":{domainLogo:`${ve}loopnet.png`,domainColor:"#df002b"},"newyorker.com":{domainLogo:`${ve}newyorker.png`,domainColor:"#252324"},"har.com":{domainLogo:`${ve}har.png`,domainColor:"#005ca4"},"meetup.com":{domainLogo:`${ve}meetup.png`,domainColor:"#e62028"},"travelzoo.com":{domainLogo:`${ve}travelzoo.png`,domainColor:"#020607"},"olx.ro":{domainLogo:`${ve}olx.png`,domainColor:"#03273b"},"coursera.org":{domainLogo:`${ve}coursera.png`,domainColor:"#1e9ef5"},"articulo.mercadolibre.com.mx":{domainLogo:`${ve}mercadolibre.png`,domainColor:"#fce404"},"cbssports.com":{domainLogo:`${ve}cbssports.png`,domainColor:"#004b8f"},"microsoft.com":{domainLogo:`${ve}microsoft.png`,domainColor:"#feb800"},"chicagotribune.com":{domainLogo:`${ve}chicagotribune.png`,domainColor:"#12172b"},"lefigaro.fr":{domainLogo:`${ve}lefigaro.png`,domainColor:"#407bbd"},"livestrong.com":{domainLogo:`${ve}livestrong.png`,domainColor:"#fc5b00"},"cnet.com":{domainLogo:`${ve}cnet.png`,domainColor:"#d50100"},"autotrader.co.uk":{domainLogo:`${ve}autotrader.png`,domainColor:"#12377d"},"boredpanda.com":{domainLogo:`${ve}boredpanda.png`,domainColor:"#a0a297"},"thedailybeast.com":{domainLogo:`${ve}thedailybeast.png`,domainColor:"#ee2f28"},"nbcnews.com":{domainLogo:`${ve}nbcnews.png`,domainColor:"#113850"},"itunes.apple.com":{domainLogo:`${ve}apple.png`,domainColor:Ue.E6z.vzm_black},"sears.com":{domainLogo:`${ve}sears.png`,domainColor:"#0d358c"},"entrepreneur.com":{domainLogo:`${ve}entrepreneur.png`,domainColor:"#242424"},"seek.com.au":{domainLogo:`${ve}seek.png`,domainColor:"#e60a7c"},"airbnb.co.uk":{domainLogo:`${ve}airbnb.png`,domainColor:"#ff5a5f"},"salon.com":{domainLogo:`${ve}salon.png`,domainColor:Ue.E6z.vzm_black},"immobilienscout24.de":{domainLogo:`${ve}immobilienscout24.png`,domainColor:"#ff7500"},"yelp.com":{domainLogo:`${ve}yelp.png`,domainColor:"#da262e"},"livingsocial.com":{domainLogo:`${ve}livingsocial.png`,domainColor:"#a70a36"},"leboncoin.fr":{domainLogo:`${ve}leboncoin.png`,domainColor:"#b9afa3"},"time.com":{domainLogo:`${ve}time.png`,domainColor:"#f12500"},"popsugar.com":{domainLogo:`${ve}popsugar.png`,domainColor:"#731644"},"shutterstock.com":{domainLogo:`${ve}shutterstock.png`,domainColor:"#cf221f"},"box.com":{domainLogo:`${ve}box.png`,domainColor:"#00aef0"},"hudl.com":{domainLogo:`${ve}hudl.png`,domainColor:"#f47623"},"emag.ro":{domainLogo:`${ve}emag.png`,domainColor:"#00589b"},"macys.com":{domainLogo:`${ve}macys.png`,domainColor:"#e11a2d",displayName:"Macys"},"naturalnews.com":{domainLogo:`${ve}naturalnews.png`,domainColor:"#2aa9e0"},"twitter.com":{domainLogo:`${ve}twitter.png`,domainColor:"#1bb2e7"},"realtor.ca":{domainLogo:`${ve}realtor.png`,domainColor:"#e91b28"},"patch.com":{domainLogo:`${ve}patch.png`,domainColor:"#519542"},"facebook.com":{domainLogo:`${ve}facebook.png`,domainColor:"#3b579d"},"holidaylettings.co.uk":{domainLogo:`${ve}holidaylettings.png`,domainColor:"#0b71d6"},"dailymotion.com":{domainLogo:`${ve}dailymotion.png`,domainColor:"#0066ca"},"reverbnation.com":{domainLogo:`${ve}reverbnation.png`,domainColor:"#2c2d28"},"github.com":{domainLogo:`${ve}github.png`,domainColor:"#010101"},"bizjournals.com":{domainLogo:`${ve}bizjournals.png`,domainColor:"#163174"},"kohls.com":{domainLogo:`${ve}kohls.png`,domainColor:"#7e2b79"},"zara.com":{domainLogo:`${ve}zara.png`,domainColor:Ue.E6z.vzm_black},"pbs.org":{domainLogo:`${ve}pbs.png`,domainColor:Ue.E6z.vzm_black},"adevarul.ro":{domainLogo:`${ve}adevarul.png`,domainColor:"#231f20"},"target.com":{domainLogo:`${ve}target.png`,domainColor:"#e51837",displayName:"Target"},"nordstrom.com":{domainLogo:`${ve}nordstrom.png`,domainColor:"#635f5c",displayName:"Nordstrom"},"fedex.com":{domainLogo:`${ve}fedex.png`,domainColor:"#381c73"},"marketwatch.com":{domainLogo:`${ve}marketwatch.png`,domainColor:"#1e1f20"},"today.com":{domainLogo:`${ve}today.png`,domainColor:"#ff7e00"},"cnbc.com":{domainLogo:`${ve}cnbc.png`,domainColor:"#152945"},"techcrunch.com":{domainLogo:`${ve}techcrunch.png`,domainColor:"#0a9e00"},"zoopla.co.uk":{domainLogo:`${ve}zoopla.png`,domainColor:"#5b1760"},"archiveofourown.org":{domainLogo:`${ve}archiveofourown.png`,domainColor:"#9c1111"},"spiegel.de":{domainLogo:`${ve}spiegel.png`,domainColor:"#06100f"},"paypal.com":{domainLogo:`${ve}paypal.png`,domainColor:"#003184"},"food.com":{domainLogo:`${ve}food.png`,domainColor:"#feb800"},"rightmove.co.uk":{domainLogo:`${ve}rightmove.png`,domainColor:"#74c045"},"seloger.com":{domainLogo:`${ve}seloger.png`,domainColor:"#ce393b"},"alibaba.com":{domainLogo:`${ve}alibaba.png`,domainColor:"#f47221"},"simplyhired.com":{domainLogo:`${ve}simplyhired.png`,domainColor:"#ff6600"},"ruten.com.tw":{domainLogo:`${ve}ruten.png`,domainColor:Ue.E6z.vzm_black},"trademe.co.nz":{domainLogo:`${ve}trademe.png`,domainColor:Ue.E6z.vzm_black},"jobstreet.com":{domainLogo:`${ve}jobstreet.png`,domainColor:"#fde200"},"dailymail.co.uk":{domainLogo:`${ve}dailymail.png`,domainColor:"#004eb2"},"rollingstone.com":{domainLogo:`${ve}rollingstone.png`,domainColor:"#d5222a"},"huffingtonpost.com":{domainLogo:`${ve}huffingtonpost.png`,domainColor:"#2e7161"},"infowars.com":{domainLogo:`${ve}infowars.png`,domainColor:Ue.E6z.vzm_black},"epicurious.com":{domainLogo:`${ve}epicurious.png`,domainColor:"#ff3b2e"},"argos.co.uk":{domainLogo:`${ve}argos.png`,domainColor:"#c2291b"},"segundamano.es":{domainLogo:`${ve}segundamano.png`,domainColor:"#fe9426"},"istockphoto.com":{domainLogo:`${ve}istockphoto.png`,domainColor:Ue.E6z.vzm_black},"westelm.com":{domainLogo:`${ve}westelm.png`,domainColor:"#b92025",displayName:"west elm"},"dubizzle.com":{domainLogo:`${ve}dubizzle.png`,domainColor:"#bb1718"},"snapdeal.com":{domainLogo:`${ve}snapdeal.png`,domainColor:"#b81e23"},"thekitchn.com":{domainLogo:`${ve}thekitchn.png`,domainColor:"#bdc7bf"},"restorationhardware.com":{domainLogo:`${ve}restorationhardware.png`,domainColor:"#010101"},"newsmax.com":{domainLogo:`${ve}newsmax.png`,domainColor:"#2f4da3"},"seekingalpha.com":{domainLogo:`${ve}seekingalpha.png`,domainColor:"#ff5f39"},"priceline.com":{domainLogo:`${ve}priceline.png`,domainColor:"#108dde",displayName:"Priceline"},"idealist.org":{domainLogo:`${ve}idealist.png`,domainColor:"#fed300"},"apartmentguide.com":{domainLogo:`${ve}apartmentguide.png`,domainColor:"#d80000"},"examiner.com":{domainLogo:`${ve}examiner.png`,domainColor:"#59a686"},"hightail.com":{domainLogo:`${ve}hightail.png`,domainColor:"#3a383a"},"rei.com":{domainLogo:`${ve}rei.png`,domainColor:"#1c1b17"},"bestbuy.com":{domainLogo:`${ve}bestbuy.png`,domainColor:"#055182"},"subito.it":{domainLogo:`${ve}subito.png`,domainColor:"#fb4230"},"naukri.com":{domainLogo:`${ve}naukri.png`,domainColor:"#066db8"},"flipkart.com":{domainLogo:`${ve}flipkart.png`,domainColor:"#f7e830",displayName:"Flipkart"},"kayak.com":{domainLogo:`${ve}kayak.png`,domainColor:"#ff7d00"},"jabong.com":{domainLogo:`${ve}jabong.png`,domainColor:"#201e1f"},"booking.com":{domainLogo:`${ve}booking.png`,domainColor:"#023682",displayName:"Booking"},"lowes.com":{domainLogo:`${ve}lowes.png`,domainColor:"#004893",displayName:"Lowes"},"groupon.com":{domainLogo:`${ve}groupon.png`,domainColor:"#7fb545"},"idealista.com":{domainLogo:`${ve}idealista.png`,domainColor:"#d2fb21"},"victoriassecret.com":{domainLogo:`${ve}victoriassecret.png`,domainColor:"#222021"},"cargurus.com":{domainLogo:`${ve}cargurus.png`,domainColor:"#0099ff"},"francetvinfo.fr":{domainLogo:`${ve}francetvinfo.png`,domainColor:"#0e52d1"},"bodybuilding.com":{domainLogo:`${ve}bodybuilding.png`,domainColor:"#00b0f3"},"theblaze.com":{domainLogo:`${ve}theblaze.png`,domainColor:"#ea1606"},"academia.edu":{domainLogo:`${ve}academia.png`,domainColor:"#3c3f42"},"lightinthebox.com":{domainLogo:`${ve}lightinthebox.png`,domainColor:"#c72128"},"goodreads.com":{domainLogo:`${ve}goodreads.png`,domainColor:"#e6e1c3"},"finn.no":{domainLogo:`${ve}finn.png`,domainColor:"#1096cb"},"bhphotovideo.com":{domainLogo:`${ve}bhphotovideo.png`,domainColor:"#e15733"},"homeaway.com":{domainLogo:`${ve}homeaway.png`,domainColor:"#0074b3"},"scribd.com":{domainLogo:`${ve}scribd.png`,domainColor:"#063748"},"boston.com":{domainLogo:`${ve}boston.png`,domainColor:"#9b1c1f"},"orientaltrading.com":{domainLogo:`${ve}orientaltrading.png`,domainColor:"#e00120"},"houzz.com":{domainLogo:`${ve}houzz.png`,domainColor:"#7ac144",displayName:"Houzz"},"okazii.ro":{domainLogo:`${ve}okazii.png`,domainColor:"#f7a418"},"wetransfer.com":{domainLogo:`${ve}wetransfer.png`,domainColor:"#3099da"},"theguardian.com":{domainLogo:`${ve}theguardian.png`,domainColor:"#214583"},"medium.com":{domainLogo:`${ve}medium.png`,domainColor:"#242021"},"ziprecruiter.com":{domainLogo:`${ve}ziprecruiter.png`,domainColor:"#18181a"},"change.org":{domainLogo:`${ve}change.png`,domainColor:"#ed2d23"},"gofundme.com":{domainLogo:`${ve}gofundme.png`,domainColor:"#999999"},"glassdoor.com":{domainLogo:`${ve}glassdoor.png`,domainColor:"#72b533"},"sfgate.com":{domainLogo:`${ve}sfgate.png`,domainColor:"#d12827"},"mercadolivre.com.br":{domainLogo:`${ve}mercadolivre.png`,domainColor:"#fce503"},"disney.go.com":{domainLogo:`${ve}disney.png`,domainColor:Ue.E6z.vzm_black},"instructables.com":{domainLogo:`${ve}instructables.png`,domainColor:"#fbc210"},"bestjobs.ro":{domainLogo:`${ve}bestjobs.png`,domainColor:"#1357a0"},"linkedin.com":{domainLogo:`${ve}linkedin.png`,domainColor:"#0077b5"},"businessinsider.com":{domainLogo:`${ve}businessinsider.png`,domainColor:"#1d5b7d"},"careerbuilder.com":{domainLogo:`${ve}careerbuilder.png`,domainColor:"#182642"},"homelidays.com":{domainLogo:`${ve}homelidays.png`,domainColor:"#282828"},"kickstarter.com":{domainLogo:`${ve}kickstarter.png`,domainColor:"#081245"},"asos.com":{domainLogo:`${ve}asos.png`,domainColor:Ue.E6z.vzm_black},"khanacademy.org":{domainLogo:`${ve}khanacademy.png`,domainColor:"#95ae3c"},"youtube.com":{domainLogo:`${ve}youtube.png`,domainColor:"#e52d27"},"youtu.be":{domainLogo:`${ve}youtube.png`,domainColor:"#e52d27"},"usps.com":{domainLogo:`${ve}usps.png`,domainColor:"#233d8e"},"nydailynews.com":{domainLogo:`${ve}nydailynews.png`,domainColor:"#fe3835"},"imobiliare.ro":{domainLogo:`${ve}imobiliare.png`,domainColor:"#b31e24"},"hotels.com":{domainLogo:`${ve}hotels.png`,domainColor:"#ec3925"},"newegg.com":{domainLogo:`${ve}newegg.png`,domainColor:"#f79727",displayName:"Newegg"},"cdiscount.com":{domainLogo:`${ve}cdiscount.png`,domainColor:"#5fb0e3"},"indiatimes.com":{domainLogo:`${ve}indiatimes.png`,domainColor:"#fd4664"},"timeout.com":{domainLogo:`${ve}timeout.png`,domainColor:"#080300"},"prezi.com":{domainLogo:`${ve}prezi.png`,domainColor:"#1867cc"},"mercola.com":{domainLogo:`${ve}mercola.png`,domainColor:"#acacac"},"surveymonkey.com":{domainLogo:`${ve}surveymonkey.png`,domainColor:"#dde3b5"},"dropbox.com":{domainLogo:`${ve}dropbox.png`,domainColor:"#007ee4"},"6pm.com":{domainLogo:`${ve}6pm.png`,domainColor:"#9c132d"},"hollywoodreporter.com":{domainLogo:`${ve}hollywoodreporter.png`,domainColor:"#e01e26"},"bbc.com":{domainLogo:`${ve}bbc.png`,domainColor:"#429be8"},"msn.com":{domainLogo:`${ve}msn.png`,domainColor:"#0076da"},"ticketmaster.com":{domainLogo:`${ve}ticketmaster.png`,domainColor:"#009cde"},"slickdeals.net":{domainLogo:`${ve}slickdeals.png`,domainColor:"#0071bb"},"usajobs.gov":{domainLogo:`${ve}usajobs.png`,domainColor:"#b92025"},"babycenter.com":{domainLogo:`${ve}babycenter.png`,domainColor:"#00b0c7"},"zillow.com":{domainLogo:`${ve}zillow.png`,domainColor:"#0074e4"},"vimeo.com":{domainLogo:`${ve}vimeo.png`,domainColor:"#00b3ec"},"flickr.com":{domainLogo:`${ve}flickr.png`,domainColor:"#206dd7"},"vrbo.com":{domainLogo:`${ve}vrbo.png`,domainColor:"#2b3180"},"nike.com":{domainLogo:`${ve}nike.png`,domainColor:"#fd642a",displayName:"Nike"},"expedia.com":{domainLogo:`${ve}expedia.png`,domainColor:"#00335a"},"foodnetwork.com":{domainLogo:`${ve}foodnetwork.png`,domainColor:"#c42126"},"telegraph.co.uk":{domainLogo:`${ve}telegraph.png`,domainColor:"#121212"},"bleacherreport.com":{domainLogo:`${ve}bleacherreport.png`,domainColor:"#ef3f23"},"nytimes.com":{domainLogo:`${ve}nytimes.png`,domainColor:Ue.E6z.vzm_black},"agoda.com":{domainLogo:`${ve}agoda.png`,domainColor:"#929291"},"reuters.com":{domainLogo:`${ve}reuters.png`,domainColor:"#666666"},"wired.com":{domainLogo:`${ve}wired.png`,domainColor:Ue.E6z.vzm_black},"walgreens.com":{...Ge,displayName:"Walgreens"},"bloomingdales.com":{...Ge,displayName:"Bloomingdales"},"worldmarket.com":{...Ge,displayName:"Worldmarket"},"barnesandnoble.com":{...Ge,displayName:"Barnes and Noble"},"crateandbarrel.com":{...Ge,displayName:"Crate and Barrel"},"audible.com":{...Ge,displayName:"Audible"},"officedepot.com":{...Ge,displayName:"Office Depot"},"neimanmarcus.com":{...Ge,displayName:"Neiman Marcus"},"orbitz.com":{...Ge,displayName:"Orbitz"},"glossier.com":{...Ge,displayName:"Glossier"},"sephora.com":{...Ge,displayName:"Sephora"},"chewy.com":{...Ge,displayName:"Chewy"},"abebooks.com":{...Ge,displayName:"Abe Books"},"emirates.com":{...Ge,displayName:"Emirates"},"samsclub.com":{...Ge,displayName:"Sams Club"},"cvs.com":{...Ge,displayName:"CVS"},"avon.com":{...Ge,displayName:"Avon"},"finishline.com":{...Ge,displayName:"Finish Line"},"cratejoy.com":{...Ge,displayName:"Cratejoy"},"selfridges.com":{...Ge,displayName:"Selfridges"},"hiltonhotels.com":{...Ge,displayName:"Hilton Hotels"},"footlocker.com":{...Ge,displayName:"Footlocker"},"currys.co.uk":{...Ge,displayName:"Currys"},"anthropologie.com":{...Ge,displayName:"Anthropologie"},"skyscanner.com":{...Ge,displayName:"Skyscanner"},"ssense.com":{...Ge,displayName:"SSENSE"},"vons.com":{...Ge,displayName:"Vons"},"monoprice.com":{...Ge,displayName:"Monoprice"},"lecreuset.com":{...Ge,displayName:"Le Creuset"},"everlane.com":{...Ge,displayName:"Everlane"}};function Ve(e){const t=function(e){if(e["@graph"]&&e["@graph"][0]&&e["@graph"][0]["@type"])return e["@graph"][0]}(e);if(!t)throw new C.Z("LinkEnhancerClient.NoRootType");if("WebSnippet"!==t["@type"])throw new C.Z("LinkEnhancerClient.NoWebSnippet");return e=function(e){if(e.docproc){const t=e.docproc.linkinfo,{fetchedtime:s,fetchedurl:a,requestedurl:n,urldomain:r}=e;if(t){const{title:e,description:o,type:i,offers:l,image:c,author:d,video:E}=t,_={fetchedtime:s,fetchedurl:a,requestedurl:n,urldomain:r,linkInfo:{title:e,description:o,type:i}};return l&&(l.forEach((e=>Ke(e))),Object.assign(_.linkInfo,{offers:l})),c&&(Ke(c),Object.assign(_.linkInfo,{images:Ze(c)})),d&&d.name&&Object.assign(_.linkInfo,{author:d.name}),E&&(Ke(E),Object.assign(_.linkInfo,{video:E})),Object.assign(_.linkInfo,{domainStyles:We(r)}),_}}}(t)}function We(e){const t=e.replace(/www\./i,"").toLowerCase(),s=function(e){const t=e.match(/[a-z0-9][a-z0-9\-]{1,63}\.[a-z\.]{2,6}$/i);if(t)return t[0];return e}(t);return xe[t]?xe[t]:xe[s]?xe[s]:xe.default}function Ze(e){const{url:t,height:s,width:a}=e;return{thumbnails:["400x200","800x280","80x80"].reduce(((t,s)=>{const a=e[`simage${s}`];if(a){const e=s.split("x");return t[s]={url:a,width:parseInt(e[0],10),height:parseInt(e[1],10)},t}}),{}),url:t,height:s,width:a}}function Ke(e){delete e["@type"],delete e["@id"]}const ze=S.JKT+"/linkEnhancer";const qe=new RegExp("(.{8})-(.{4})-(.{4})-(.{4})-(.{12})");const Ye={[He]:class{constructor({crumb:e}){this.crumb=e}get(e){const{ymreqid:t,url:s}=e;if(!s)return Promise.reject(new C.Z("LinkEnhancerClient.InvalidRequestUrl"));const a=`${ze}?crumb=${this.crumb}&url=${encodeURIComponent(s)}&ymreqid=${t}`,n=new N.Z(S.f2m.GET,a,{timeout:3500});n.setHeader("Accept","application/json");return n.send().then((e=>e.body))}},[Be]:class{constructor({cookie:e,ymreqid:t}){this.cookie=e,this.ymreqid=t}get(e){const{url:t}=e;if(!t)return Promise.reject(new C.Z("LinkEnhancerClient.InvalidRequestUrl"));if(!this.ymreqid||!qe.test(this.ymreqid))return Promise.reject({statusCode:400,errorCode:"BAD_REQUEST"});const s=`https://le.yahooapis.com/v1/lucy?url=${encodeURIComponent(t)}&appname=mailenhancr&ymreqid=${this.ymreqid}`,a=new N.Z(S.f2m.GET,s,{timeout:3e3});a.setHeader("User-Agent","Mail-FE-Norrin"),a.setCookieHeader(this.cookie);return a.send().then((e=>{if(!e.body)throw new C.Z("LinkEnhancerClient.EmptyResponseBody");return Ve(e.body)})).catch((e=>{throw e}))}},[ke]:class{get(e){const{ymreqid:t,url:s}=e;if(!s)return Promise.reject(new C.Z("LinkEnhancerClient.InvalidRequestUrl"));const a=`/v1/lucy/?url=${encodeURIComponent(s)}&appname=mailenhancr&ymreqid=${t}`,n=new N.Z(S.f2m.GET,a,{timeout:3e3});n.setHeader("Accept","application/json"),n.withCredentials=!0;return n.send().then((e=>{if(!e.body)throw new C.Z("LinkEnhancerClient.EmptyResponseBody");return Ve(e.body)})).catch((e=>{throw e}))}}};class je extends u.Z{constructor({loggerParams:e,crumb:t,guidHash:s,config:a={},strategy:n=He,...r}){super({loggerName:S.BrN.LinkEnhancerClient,loggerParams:e,crumb:t}),this.useLucyYCPIProxy=(0,p._)(a,"useLucyYCPIProxy"),this.strategy=(0,h.jU)()&&this.useLucyYCPIProxy?ke:n,this.restParams=r,this.crumb=t,this._getRequest=function(e=this.strategy){return new Ye[e]({crumb:t,...r})},s&&(this.ymreqidGenerator=new I.Z(s,S.N7x,S.Q_q))}get(e){var t;const s=this.ymreqidGenerator&&this.ymreqidGenerator.generate()||(null===(t=this.restParams)||void 0===t?void 0:t.ymreqid),a={apiName:"lucy",...this.crumb?{crumb:this.crumb}:void 0,ymreqid:s,useLucyYCPIProxy:this.useLucyYCPIProxy,...this.strategy===Be?{alertTAE:!1}:void 0},n=this._getRequest().get({url:e,ymreqid:s});return this.logRequest(n,a),n}}var Qe=s(94801),Xe=s.n(Qe),Je=s(91884),$e=s.n(Je),et=s(94844),tt=s.n(et),st=s(62680),at=s.n(st),nt=s(91318),rt=s.n(nt),ot=s(69723),it=s.n(ot),lt=(s(15616),s(41143)),ct=s.n(lt);function dt(e){const{event:t,state:s,email:a}=e;return t.startTime&&(t.startTime=Et(t.startTime)),t.endTime?t.endTime=Et(t.endTime):t.duration&&t.startTime?t.endTime=function(e,t){const s=[{unit:"D",addFunction:tt()},{unit:"T",addFunction:e=>e},{unit:"H",addFunction:at()},{unit:"M",addFunction:rt()},{unit:"S",addFunction:it()}];let a=1,n=e;return s.forEach((({unit:e,addFunction:s})=>{const r=t.indexOf(e,a);if(r>-1){const e=parseInt(t.substring(a,r),10)||0;n=s(n,e),a=r+1}})),n}(t.startTime,t.duration):t.startTime&&(t.endTime=t.startTime),t.email=a||"",t.state=s||"",t.response=t.partStat||"",t.startTime&&t.endTime&&(t.isSameDay=Xe()(t.startTime,t.endTime)),t.firstAttendeeStatus=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee[0].partStat}(t.attendees),t.location=t.location||null,t.videoLink=function(e){const t=/https:\/\/plus.google.com\/hangouts\/_\/.*\/.*/.exec(e);return t&&t[0]||null}(t.description),t.attendees=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee.map((e=>e.email))}(t.attendees),t.firstAttendeeEmail=t.attendees[0]||"",t.organizerEmail=t.organizer&&t.organizer.email||"",t}function Et(e){const t=$e()(e);return ct()("Invalid Date"!==t.toString(),"Invalid Date"),t}const _t=Ee().create("norrin/calendar");var ut=s(39713);class mt extends u.Z{constructor({appId:e=S.JfS,loggerParams:t,crumb:s,isOnline:a,httpRetry:n,locale:r,environment:o,region:i}){super({loggerName:S.BrN.LocationAutoSuggestClient,loggerParams:t,crumb:s,isOnline:a}),this.httpRetry=n,this.appid=e,this.locale=r,this.region=i,this.environment=o}getLocationSuggestion(e){const t=ut.Uk,s={text:e.keyword,language:"en-us"},a={locale:this.locale,appid:this.appid,region:this.region,environment:this.environment,...s},n=new N.Z(N.W.GET,t,{timeout:ut.LX,httpRetry:this.httpRetry});n.setHeader("Accept","application/json");const r=n.send(s);return this.logRequest(r,a),r.then((e=>({suggestions:e.body.result||e.body.results})))}}const St=mt;var pt=s(28295);const Ct=(0,pt.Wc)(S.A3t.WEEKLY,(0,pt.kw)((0,pt.a9)(S.A3t.WEEKLY),(0,pt.a9)(S.A3t.MONTHLY),(0,pt.a9)(S.A3t.YEARLY))),At=(0,pt.Wc)({ftype:S.A3t.WEEKLY,fval:0},(0,pt.Ry)({ftype:Ct,fval:(0,pt.Wc)("0",(0,pt.Z_)()).map(parseFloat)})),Tt=(0,pt.Ry)({domain:(0,pt.Z_)(),listId:(0,pt.Wc)("",(0,pt.Z_)()),fromName:(0,pt.Wc)("",(0,pt.Z_)()),fromEmail:(0,pt.Z_)(),score:(0,pt.Rx)(),status:(0,pt.Z_)(),unsubRequestTs:(0,pt.Wc)("0",(0,pt.Z_)()).map(parseFloat),frequency:At,requestStatus:(0,pt.jt)((0,pt.Ry)({code:(0,pt.Wc)("",(0,pt.Z_)()),message:(0,pt.Wc)("",(0,pt.Z_)()),status:(0,pt.Wc)("success",(0,pt.kw)((0,pt.a9)("success"),(0,pt.a9)("failed")))})),subid:(0,pt.Z_)(),lastOpened:(0,pt.Wc)("-1",(0,pt.Z_)()).map(parseFloat),isUsb:(0,pt.Wc)("false",(0,pt.Z_)()),ver:(0,pt.Z_)(),meta:(0,pt.Wc)("",(0,pt.Z_)())}),ht=(0,pt.Wc)([],(0,pt.IX)(Tt)),gt=(0,pt.Ry)({name:(0,pt.Z_)(),unsubRequestTs:(0,pt.Wc)("0",(0,pt.Z_)()).map(parseFloat),frequency:At,lastOpened:(0,pt.Wc)("-1",(0,pt.Z_)()).map(parseFloat),score:(0,pt.Rx)(),subscriptions:(0,pt.IX)(Tt)}),It=(0,pt.Ry)({subscription:(0,pt.Ry)({email:(0,pt.Ry)({brand:(0,pt.jt)((0,pt.IX)(gt)).map((e=>e||[]))}),query:(0,pt.Wc)({count:0,total:0},(0,pt.Ry)({count:(0,pt.Wc)("0",(0,pt.Z_)()).map(parseFloat),total:(0,pt.Wc)("0",(0,pt.Z_)()).map(parseFloat)}))}),status:(0,pt.jt)((0,pt.Z_)()),message:(0,pt.jt)((0,pt.Z_)()),code:(0,pt.jt)((0,pt.Z_)())}),Rt=(0,pt.Ry)({subscription:(0,pt.Ry)({email:(0,pt.Ry)({brand:(0,pt.IX)((0,pt.Ry)({name:(0,pt.Z_)(),subscriptions:(0,pt.IX)((0,pt.Ry)({name:(0,pt.jt)((0,pt.Z_)()),fromEmails:(0,pt.IX)((0,pt.Z_)()),meta:(0,pt.Z_)(),displayName:(0,pt.Z_)(),description:(0,pt.Z_)(),subscriptionInfo:(0,pt.IX)((0,pt.Ry)({url:(0,pt.jt)((0,pt.Z_)()),method:(0,pt.Z_)()})),recoid:(0,pt.Z_)()}))}))})}),status:(0,pt.jt)((0,pt.Z_)()),message:(0,pt.jt)((0,pt.Z_)()),code:(0,pt.jt)((0,pt.Z_)())});function Ot(e){return"object"==typeof e&&!!e}const Dt="https://data.mail.yahoo.com/f/subscription";class Nt extends u.Z{constructor({loggerParams:e,appId:t,guidHash:s,...a}){super({...a,loggerParams:e,loggerName:S.BrN.SubscriptionAPIClient}),this.appid=t,this.ymreqidGenerator=new I.Z(s,S.N7x,S.Q_q)}unsubscribeByEmail({messageId:e,accountId:t,mailboxId:s}){const{wssid:a,appid:n}=this,r=this.ymreqidGenerator.generate(),o=(0,_.stringify)({acctid:t,mboxid:s,wssid:a,appid:n,ymreqid:r}),i=new N.Z(S.f2m.POST,`${Dt}/email/unsubscribe/${e}?${o}`);i.setHeader("Accept","application/json"),i.withCredentials=!0;const l=i.send().then((e=>{const t=Ot(e.body)?e.body:{};if("failed"===t.status)throw new C.Z("ApiError",String(t.message||"unsubscribeByEmail error"),{errorCode:t.code});return t}));return this.logRequest(l,{apiName:"unsubscribeByEmail",appId:n,ymreqid:r}),l}unsubscribeByBrand({subscriptions:e,accountId:t,mailboxId:s}){const{wssid:a,appid:n}=this,r=this.ymreqidGenerator.generate(),o=(0,_.stringify)({acctid:t,mboxid:s,wssid:a,appid:n,ymreqid:r}),i=new N.Z(S.f2m.POST,`${Dt}/email/unsubscribe?${o}`);i.setHeader("Accept","application/json"),i.withCredentials=!0;const l={subscriptions:e},c=i.send(l).then((e=>{const t=Ot(e.body)?e.body:{};if("failed"===t.status)throw new C.Z("ApiError",String(t.message||"unsubscribeByBrand error"),{errorCode:t.code});return{subscriptions:ht.runWithException(t.subscriptions)}}));return this.logRequest(c,{apiName:"unsubscribeByBrand",appId:n,ymreqid:r}),c}getSubscriptions({mailboxId:e,accountId:t,email:s,sort:a}){const{wssid:n,appid:r}=this,o=this.ymreqidGenerator.generate(),i=(0,_.stringify)({acctid:t,mboxid:e,wssid:n,appid:r,ymreqid:o,email:s,sort:a}),l=new N.Z(S.f2m.GET,`${Dt}/email/brand?${i}`);l.setHeader("Accept","application/json"),l.withCredentials=!0;const c=l.send().then((({body:e})=>It.runWithException(e))).then((e=>{if("failed"===e.status)throw new C.Z("ApiError",e.message,{errorCode:e.code});return e}));return this.logRequest(c,{apiName:"subscriptions",appId:r,ymreqid:o}),c}getSubhubRecommendations({mailboxId:e,accountId:t,email:s,sort:a,brandowner:n,count:r}){const{wssid:o,appid:i}=this,l=this.ymreqidGenerator.generate(),c=(0,_.stringify)({acctid:t,mboxid:e,wssid:o,appid:i,ymreqid:l,email:s,sort:a,count:r}),d=void 0!==n?"&brandowner="+n:"",E=new N.Z(S.f2m.GET,`${Dt}/email/recommended/brand?${c}${d}`);E.setHeader("Accept","application/json"),E.withCredentials=!0;const u=E.send().then((({body:e})=>Rt.runWithException(e))).then((e=>{if("failed"===e.status)throw new C.Z("ApiError",e.message,{errorCode:e.code});return e}));return this.logRequest(u,{apiName:"subscriptionRecommendations",appId:i,ymreqid:l,sort:a,brandOwner:n||"undefined"}),u}}class ft extends u.Z{constructor({appId:e=S.JfS,loggerParams:t,crumb:s,isOnline:a,locale:n,environment:r,region:o}){super({loggerName:S.BrN.RelatedSearchesAPIClient,loggerParams:t,crumb:s,isOnline:a}),this.appid=e,this.locale=n,this.region=o,this.environment=r}request(){const e={apiName:"relatedSearches",appId:this.appId,locale:this.locale,region:this.region,environment:this.environment},t=new N.Z(N.W.GET,"https://s.yimg.com/yo/m2s/EXP/test.json");t.setHeader("Accept","application/json");const s=t.send();return this.logRequest(s,e),s}}var Mt=s(81463),Lt=s.n(Mt);const Pt=Ee().create("norrin/astra_client"),yt="Retailer";function bt(e,t,s){(0,T.apiPassiveErrorLogger)({logger:Pt,loggerName:S.BrN.AstraClient,apiName:e,statusCode:t,errorCode:s,message:`${e} request failed`})}function Ft(e=[]){return e.filter((e=>e["@id"]&&e.name)).map((e=>{const t=e.name.split(">"),s=t[t.length-1];return{id:e["@id"],name:s,level:t.length}})).reduce(((e,t)=>(e.some((e=>e.id===t.id))||e.push(t),e)),[])}function Ut(e=null){var t,s,a,n,r;if(!e)return[];let o=[];const i=(null===(t=e.discountType)||void 0===t?void 0:t.charAt(0).toLowerCase())+(null===(s=e.discountType)||void 0===s?void 0:s.slice(1)),l=(null===(a=e[i])||void 0===a?void 0:a.value)||(null===(n=e[i])||void 0===n?void 0:n.maxValue)||"",c=(null===(r=e[i])||void 0===r?void 0:r.currency)||"";switch(i){case S.eN2.PERCENT_OFF:var d;if(l>0&&l<100)o=[{discountType:i,hasUpToField:!(null===(d=e[i])||void 0===d||!d.maxValue),value:`${l}%`}];break;case S.eN2.MONEY_OFF:var E;if(l>0)o=[{discountType:i,hasUpToField:!(null===(E=e[i])||void 0===E||!E.maxValue),value:`${c}${l}`}];break;case S.eN2.FREE_SHIPPING:o=[{discountType:i}]}return o}function vt(e={}){var t,s,a,n,r,o,i,l;const c=e["@id"],{description:d="",url:E="",retailer:{name:_="",logo:{contentUrl:u=""}={}}={},category:m=[],validThrough:S="",saved:p="",additionalProperties:C=[],discountInfo:A,images:T=[]}=e,h=(null===(t=C.find((e=>"messageId"===e.propertyID)))||void 0===t?void 0:t.value)||(null===(s=C.find((e=>"MessageSource"===e["@type"])))||void 0===s?void 0:s.messageId)||"",g=(null===(a=C.find((e=>"senderEmail"===e.propertyID)))||void 0===a?void 0:a.value)||(null===(n=C.find((e=>"MessageSender"===e["@type"])))||void 0===n||null===(r=n.senderEmail)||void 0===r?void 0:r[0])||"",I=(null===(o=C.find((e=>"ccid"===e.propertyID)))||void 0===o?void 0:o.value)||"",R=(null===(i=T[0])||void 0===i?void 0:i.url)||"",O=(null===(l=m.find((e=>"Great Savings"===e.name)))||void 0===l?void 0:l.name)||"",D=Ut(A);return{categories:Ft(m),cardConversationId:I,cmid:c,dealLink:E,description:d,discountInfo:D,imageUrl:R,parentMessageId:h,retailer:_,retailerLogoUrl:u,saved:"true"===p,senderEmails:[g],src:"sndr",unusualDiscount:O,validThrough:S}}function wt(e={}){var t,s,a;const n=null==e?void 0:e.statusCode,r=null==e||null===(t=e.error)||void 0===t?void 0:t.code;if(400===n&&"EC-4003"===r)throw new C.Z(A.bD,{errorCode:r,statusCode:n,wssid:"Wrong astra wssid"});if(void 0===e.result)throw new C.Z("AstraApiClient.RetailerOffersError");const{result:o,userInfo:i={}}=e,{astraEGuid:l=""}=i,c=(null===(s=o.cards)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.data)||{},{productOffers:d=[],coupons:E=[]}=c;return{astraEGuid:l,offers:[...d,...E].map(((e={})=>{const{category:t=[],dealType:s="Coupon",description:a="",discountInfo:n={},eligibleQuantity:r,images:i=[],ingredients:l=[],itemOffered:c={},nutrition:d={},priceSpecification:E={},recommendationReason:_="",saved:u="",score:m={},shortDescription:p="",sourceOfferId:C="",specialFeatures:A=[],trackingBeacons:T=[],validThrough:h=""}=e,g="ProductOffer"===s;let I,R,O,D,N,f,M,L,P,y,b;if(g){var F,U;M=Number(null==r?void 0:r.value)||1,L=E.price||"NaN",I=E.priceCurrency||"USD";const{eligibleQuantity:e={},priceComponent:t={}}=E;D=e.unitText,N=(null===(F=i[1])||void 0===F?void 0:F.contentUrl)||"",f=(null===(U=i[2])||void 0===U?void 0:U.contentUrl)||"",P=m.scoreValue,y=d.servingSize||"",b=t.unitPriceDisplay}else{var v,w;L=n.amount||"NaN",I=n.priceCurrency||"USD",O=n.discountType,R=(null===(v=c.brand)||void 0===v?void 0:v.name)||"",f=(null===(w=i[0])||void 0===w?void 0:w.contentUrl)||""}const G=h?new Date(h).getTime():null,k=e["@id"]||"",{cardId:H=""}=o.cards[0],B=g||O===S.iNd.AMOUNT?Number(L).toFixed(2):Number(L).toFixed(0),x=t.map(((e={})=>({id:e["@id"],name:e.name}))),V="true"===u,W=T.reduce(((e,t)=>({...e,[t.name]:t.url})),{});return{activated:V,amountUnit:I,brandName:R,cardId:H,categories:x,description:a,discountType:O,eligibleUnitText:D,expiryTimestamp:G,highResImgUrl:N,imageUrl:f,ingredients:l[0]||"",isSponsoredAd:"SponsoredAd"===_,maxQuantity:M,offerId:k,scoreValue:P,servingSize:y,shortDescription:p,sourceOfferId:C,specialFeatures:A[0]||"",trackingBeacons:W,unitPriceDisplay:b,value:B}})),statusCode:n}}function Gt(e={}){var t,s;const a=null==e?void 0:e.statusCode,n=null==e||null===(t=e.error)||void 0===t?void 0:t.code;if(400===a&&"EC-4003"===n)throw new C.Z(A.bD,{errorCode:n,statusCode:a,wssid:"Wrong astra wssid"});if(void 0===e.result)throw new C.Z("AstraApiClient.RetailerActivatedOffersError");const{result:r,userInfo:o={}}=e,{astraEGuid:i=""}=o;return{astraEGuid:i,offers:(r.itemListElement||[]).map(((e={})=>{const t=e.hasOwnProperty("itemOffered"),s=e.hasOwnProperty("coupons");let a={},n=1;if(t)a=e.itemOffered||{},n=e.quantity;else if(s){var r;a=(null===(r=e.coupons)||void 0===r?void 0:r[0])||{}}const{category:o=[],description:i="",discountInfo:l={},eligibleQuantity:c,images:d=[],ingredients:E=[],itemOffered:_={},nutrition:u={},priceSpecification:m={},shortDescription:p="",sourceOfferId:C="",specialFeatures:A=[],validThrough:T=""}=a;let h,g,I,R,O,D,N,f,M,L;if(t){var P,y;N=Number(null==c?void 0:c.value)||1,f=m.price||"NaN",h=m.priceCurrency||"USD";const{eligibleQuantity:e={},priceComponent:t={}}=m;R=e.unitText,O=(null===(P=d[1])||void 0===P?void 0:P.contentUrl)||"",D=(null===(y=d[2])||void 0===y?void 0:y.contentUrl)||"",M=u.servingSize||"",L=t.unitPriceDisplay}else{var b,F;f=l.amount||"NaN",h=l.priceCurrency||"USD",I=l.discountType,g=(null===(b=_.brand)||void 0===b?void 0:b.name)||"",D=(null===(F=d[0])||void 0===F?void 0:F.contentUrl)||""}const U=T?new Date(T).getTime():null,v=a["@id"]||e["@id"]||"",{status:w=""}=e,G=t||I===S.iNd.AMOUNT?Number(f).toFixed(2):Number(f).toFixed(0),k=o.filter((e=>!!e.name)).map((e=>e.name));return s&&0===k.length&&null!=_&&_.category&&k.push(_.category),{amountUnit:h,brandName:g,categories:k,description:i,discountType:I,eligibleUnitText:R,expiryTimestamp:U,highResImgUrl:O,imageUrl:D,ingredients:E[0]||"",maxQuantity:N,offerId:v,quantity:n,servingSize:M,shortDescription:p,sourceOfferId:C,specialFeatures:A[0]||"",status:w,unitPriceDisplay:L,value:G}})),numActivatedOffers:r.numberOfItems,subTotal:Number(null===(s=r.subTotal)||void 0===s?void 0:s.value).toFixed(2),numberOfItems:r.numberOfItems,statusCode:a}}function kt(e={}){if(void 0===e.result)throw new C.Z("AstraApiClient.AffiliateOffersError");const{result:t={},statusCode:s=-1}=e;return{statusCode:s,affiliateProducts:(t.cards||[]).map((e=>{var t,s,a,n,r,o,i,l,c,d,E;const _=(null==e?void 0:e.data)||{},u=_["@id"],m=(null===(t=_.priceSpecification)||void 0===t?void 0:t.priceCurrency)||"USD",S=Lt()(m),p=_.description||"",C=(null===(s=_.images)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.url)||(null===(n=_.images)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.contentUrl)||"";let A=null===(o=_.originalPriceSpecification)||void 0===o?void 0:o.price,T=null===(i=_.priceSpecification)||void 0===i?void 0:i.price;const h=_.url||"",g=Ft(_.category),I=void 0===_.saved?void 0:"true"===_.saved,R=(null===(l=_.score)||void 0===l||null===(c=l.scoreValue)||void 0===c?void 0:c.toString())||"0.0";return A&&(A=`${S}${null===(d=Number(A))||void 0===d?void 0:d.toFixed(2)}`),T&&(T=`${S}${null===(E=Number(T))||void 0===E?void 0:E.toFixed(2)}`),{categories:g,description:p,imgUrl:C,originalPrice:A,price:T,productId:u,saved:I,url:h,score:R}}))}}function Ht(e={}){var t,s;const a=e.statusCode,n=null===(t=e.error)||void 0===t?void 0:t.code;if(400===a&&"EC-4003"===n)throw new C.Z(A.bD,{errorCode:n,statusCode:a,wssid:"Wrong astra wssid"});if(void 0===e.result)throw new C.Z("AstraApiClient.StorefrontModulesError");const{result:{cards:r=[]},userInfo:o={}}=e,{astraEGuid:i=""}=o,l=(null===(s=(r.find(((e={})=>(e.cardType||"").includes(yt)))||{}).data)||void 0===s?void 0:s.senderEmailIds)||[],c=r.filter(((e={})=>{var t;return((null===(t=e.data)||void 0===t?void 0:t.dealTypes)||[]).includes(S.WSI.COUPON)})).reduce(((e,t={})=>{var s;return[...e,...(null===(s=t.data)||void 0===s?void 0:s.coupons)||[]]}),[]),d=r.filter(((e={})=>{var t;return((null===(t=e.data)||void 0===t?void 0:t.dealTypes)||[]).includes(S.WSI.PRODUCT_OFFER)})).reduce(((e,t={})=>{var s;return[...e,...(null===(s=t.data)||void 0===s?void 0:s.productOffers)||[]]}),[]),E=c.map((e=>vt(e))).filter((e=>!!e.description)),_={},u=d.map(((e={})=>{var t,s,a;const n=e["@id"],{url:r="",description:o="",priceSpecification:{priceCurrency:i="USD",price:l},originalPriceSpecification:{price:c},images:d=[],category:E=[]}=e,u=(null===(t=d[0])||void 0===t?void 0:t.contentUrl)||"",m=Lt()(i),S=E.map((e=>e["@id"]));return E.forEach((e=>{const t=e["@id"],{name:s,level:a}=e;_[t]?_[t].productIds.push(n):_[t]={id:t,name:s,level:a,productIds:[n]}})),{productId:n,description:o,imgUrl:u,originalPrice:c?`${m}${null===(s=Number(c))||void 0===s?void 0:s.toFixed(2)}`:"",price:l?`${m}${null===(a=Number(l))||void 0===a?void 0:a.toFixed(2)}`:"",url:r,categoryIds:S}})),m=r.filter(((e={})=>{var t;return((null===(t=e.data)||void 0===t?void 0:t["@type"])||[]).includes(S.WSI.PAYMENT_DETAIL)})).map(((e={})=>{var t,s,a,n,r,o;const i=e.cardId,l=null==e||null===(t=e.sources)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.messageId,c=null==e||null===(a=e.data)||void 0===a?void 0:a.total,d=(null==c?void 0:c.currency)||"USD",E=Lt()(d),_=null!=c&&c.value?`${E}${null===(n=Number(c.value))||void 0===n?void 0:n.toFixed(2)}`:"",{inferredOrderDate:u="",orderDate:m="",orderedItem:S=[],orderNumber:p="",orderStatus:C="",seller:A={}}=null==e||null===(r=e.data)||void 0===r||null===(o=r.paymentFor)||void 0===o?void 0:o[0];return{cardId:i,messageId:l,orderDate:m||u,orderedItems:S.map((e=>{var t,s,a;const{category:n=[],image:r={},name:o="",offers:i=[]}=e,l=(null==i||null===(t=i[0])||void 0===t?void 0:t.priceCurrency)||"USD",c=Lt()(l),d=null!=i&&null!==(s=i[0])&&void 0!==s&&s.price?`${c}${null===(a=Number(i[0].price))||void 0===a?void 0:a.toFixed(2)}`:"";return{category:n,image:null==r?void 0:r.contentUrl,itemId:e["@id"],name:o,price:d}})),orderNumber:p,orderStatus:C,price:_,seller:A}}));return{astraEGuid:i,dealsToSave:E,statusCode:a,storefrontBrandCategories:_,storefrontBrandEmailIds:l,storefrontProductsModule:u,storefrontReceiptsModule:m}}function Bt(e={}){var t;const s=null==e?void 0:e.statusCode,a=null==e||null===(t=e.error)||void 0===t?void 0:t.code;if(400===s&&"EC-4003"===a)throw new C.Z(A.bD,{errorCode:a,statusCode:s,wssid:"Wrong astra wssid"});if(void 0===e.result)throw new C.Z("AstraApiClient.GroceryItemsError");const{errorDescription:n="",result:r,userInfo:o={}}=e,{astraEGuid:i=""}=o;return{astraEGuid:i,errorDescription:n,items:(r.cards||[]).map(((e={})=>{var t,s;const a=e.data||{},n=a["@id"]||"",{category:r=[],description:o="",eligibleQuantity:i,images:l=[],priceSpecification:c={},saved:d="",shortDescription:E="",sourceOfferId:_=""}=a,u=r.filter((e=>!!e["@id"])).map((e=>e["@id"])),m=Number(null==i?void 0:i.value)||1,S=(null===(t=l[1])||void 0===t?void 0:t.contentUrl)||"",p=(null===(s=l[2])||void 0===s?void 0:s.contentUrl)||"",{eligibleQuantity:C={},price:A="NaN",priceComponent:T={},priceCurrency:h="USD"}=c,g=C.unitText,I=Number(A).toFixed(2);return{activated:"true"===d,amountUnit:h,categories:u,description:o,eligibleUnitText:g,highResImgUrl:S,imageUrl:p,offerId:n,itemId:_,maxQuantity:m,shortDescription:E,unitPriceDisplay:T.unitPriceDisplay,value:I}})),statusCode:s}}function xt({responseText:e,astraWssid:t}={}){if(!e)throw new C.Z("AstraApiClient.BatchCallError");const s={astraWssid:t},a=(null==e?void 0:e.split("\n"))||[];let n="";return a.forEach((e=>{e.startsWith("Content-RequestId: ")?n=e.split(":")[1].trim():e.startsWith('{"')&&(s[n]=e)})),Object.keys(s).forEach((e=>{if("astraWssid"===e)return;const t=JSON.parse(s[e]);switch(e){case S.G1D.STOREFRONT_BRANDS:case S.G1D.AFFILIATE_RETAILERS:s[e]=function(e={}){var t;200!==e.statusCode&&bt(e.id||S.G1D.STOREFRONT_BRANDS,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const{result:s=[],statusCode:a=-1,userInfo:n={}}=e,{astraEGuid:r=""}=n;return{astraEGuid:r,brands:s.map(((e={},t)=>{var s;const{domain:a,facebookUrl:n,featured:r,followed:o,logo:i={},name:l,twitterUrl:c,url:d,aggregateOffers:E=[],emailDomains:_=[]}=e;return{domain:a,facebookUrl:n,featured:"true"===r,followed:"true"===o,brandId:e["@id"],logo:i.contentUrl,name:l,twitterUrl:c,website:d,hasAffiliateProducts:E.some((e=>e.dealType===S.WSI.PRODUCT_OFFER&&e.offerCount>10)),newDealsCount:Number(null===(s=E.find((e=>e.dealType===S.WSI.COUPON)))||void 0===s?void 0:s.newOfferCount),brandDomains:_,affinityNumber:t+1}})),statusCode:a}}(t);break;case S.G1D.RECOMMENDED_DEALS:case S.G1D.ALL_INBOX_DEALS:s[e]=function(e={}){var t;200!==e.statusCode&&bt(S.G1D.RECOMMENDED_DEALS,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const{result:{cards:s=[]}={},statusCode:a=0,userInfo:n={}}=e,{astraEGuid:r=""}=n;return{astraEGuid:r,recommendedAndStaticDeals:s.map((e=>{var t,s,a,n,r,o,i;const l=(null==e||null===(t=e.sources)||void 0===t||null===(s=t.find((e=>"MessageSource"===e["@type"])))||void 0===s?void 0:s.messageId)||"",c=(null==e||null===(a=e.sources)||void 0===a||null===(n=a.find((e=>"MessageSender"===e["@type"])))||void 0===n?void 0:n.senderEmail)||[],{cardId:d="",data:E={}}=e,{broker:_={},description:u="",url:m="",retailer:{name:p="",logo:{contentUrl:C=""}={}}={},category:A=[],validThrough:T="",score:h="",saved:g=""}=E,I=(null==E||null===(r=E.images)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.url)||"",R=Ut(null==E?void 0:E.discountInfo),O=Ft(A),D=(null===(i=A.find((e=>"Great Savings"===e.name)))||void 0===i?void 0:i.name)||"",N=parseFloat(h)||0;let f="";return"Inbox"===(null==_?void 0:_.name)?f=S.WSI.RECOMMENDED_DEAL:"yahoo"===(null==_?void 0:_.name)&&(f=S.WSI.STATIC_DEAL),{id:d,messages:[{id:d,schemaCards:[{id:d,type:"Coupon",categories:O,cmid:d,dealLink:m,dealType:f,description:u,discountInfo:R,imageUrl:I,parentMessageId:l,relevanceScore:N,retailer:p,retailerLogoUrl:C,saved:"true"===g,senderEmails:c,src:"sndr",unusualDiscount:D,validThrough:T}]}]}})).sort(((e,t)=>t.messages[0].schemaCards[0].relevanceScore-e.messages[0].schemaCards[0].relevanceScore)),statusCode:a}}(t);break;case S.G1D.GROCERY_RETAILERS:s[e]=function(e={}){var t;200!==e.statusCode&&bt(S.G1D.GROCERY_RETAILERS,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const{errorDescription:s="",result:a=[],statusCode:n=0,userInfo:r={}}=e,{astraEGuid:o=""}=r;return{astraEGuid:o,errorDescription:s,retailers:a.map(((e={})=>{const{category:t=[],displayName:s="",emailDomains:a=[],logo:{contentUrl:n=""},name:r="",senderEmailIds:o=[],sourceRetailerData:i=[],stores:l=[]}=e,c=e["@id"]||"",d=l.map(((e={})=>(delete e.geo,e))),E=t.map(((e={})=>{const t=e["@id"]||"",{displayName:s="",name:a="",image:n={},score:r={}}=e;return{displayName:s,id:t,logo:n.contentUrl||"",name:a,scoreValue:r.scoreValue}})),_=i[0]||{},{accountInfo:u={},additionalProperties:m=[]}=_,S="true"===u.isConnected,p=u.additionalProperties||[],{loyaltyCard:C=""}=p.reduce(((e,t)=>({...e,[t.name]:t.value})),{}),{linkable:A="",loyaltyCardLength:T="",loyaltyCardPrefix:h="",proxyType:g="",marlonRegistrationUrl:I="",registrationInfo:R=""}=m.reduce(((e,t)=>({...e,[t.name]:t.value})),{});return{brandImage:n,categories:E,displayName:s||r,emailIds:o,id:c,isLinkable:"true"===A,linked:S,loyaltyCardLength:T,loyaltyCardPrefix:h,loyaltyId:C,proxyType:g,registrationInfo:R,registrationUrl:I,stores:d,subDomains:a}})),statusCode:n}}(t);break;case S.G1D.GROCERY_RETAILERS_CATEGORY:s[e]=function(e={}){var t;200!==e.statusCode&&bt(S.G1D.GROCERY_RETAILERS_CATEGORY,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const{errorDescription:s="",result:a=[],statusCode:n=0}=e;return{errorDescription:s,groceryCategories:a.map((e=>({id:(0,g.u9)(e,"@id",""),displayName:(0,g.u9)(e,"displayName",""),name:(0,g.u9)(e,"name",""),logo:(0,g.u9)(e,"image.contentUrl","")}))),statusCode:n}}(t);break;case S.G1D.CATEGORY_FOLLOWING_LIST:s[e]=function(e={}){var t,s,a;200!==e.statusCode&&bt(S.G1D.CATEGORY_FOLLOWING_LIST,e.statusCode,null===(a=e.error)||void 0===a?void 0:a.code);const n=(null==e?void 0:e.statusCode)||-1,r=(null==e||null===(t=e.error)||void 0===t?void 0:t.code)||(200===n?"":"Unknown");return{astraEGuid:(null==e||null===(s=e.userInfo)||void 0===s?void 0:s.astraEGuid)||"",followedCategoryList:((null==e?void 0:e.result)||[]).map((e=>(e.id=e["@id"],e.type=e["@type"],(0,g.oF)(e,["@id","@type"])))),statusCode:n,errorCode:r}}(t);break;case S.G1D.SPICE_TO_GPT:s[e]=function(e={}){var t;200!==e.statusCode&&bt(e.id||S.G1D.SPICE_TO_GPT,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const{result:s=[],statusCode:a=-1}=e;return{mapping:s.map(((e={})=>{var t,s;return{[null===(t=e.taxonomyProperties)||void 0===t?void 0:t.topicId]:null===(s=e.relatedCategories)||void 0===s?void 0:s.map((e=>({id:e["@id"],name:e.name})))}})),statusCode:a}}(t)}})),s}function Vt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Wt{constructor({config:e,httpRetry:t,wssid:s}){Vt(this,"transport",((e,t=N.W.GET)=>{const s=new N.Z(t,e,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!0,this.astraBucketHeaderString&&s.setHeader("X-astra-bucket",this.astraBucketHeaderString),s})),Vt(this,"checkForAstraWssid",(e=>{if(this.isItFirstAstraCall){this.isItFirstAstraCall=!1;const t=`${this.host}/user/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared&ymreqid=${e}`;return this.transport(t).send().then((e=>{var t,s,a,n,r;200===(null==e||null===(t=e.body)||void 0===t?void 0:t.statusCode)&&"EC-4003"===(null==e||null===(s=e.body)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.code)&&(this.astraWssid=(null==e||null===(n=e.body)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.astraWssid)||"")}))}return new Promise((e=>{setTimeout((()=>e("done!")),400)}))})),Vt(this,"getAstraWssidParam",(async e=>(await this.checkForAstraWssid(e),this.astraWssid?`&astraWssid=${this.astraWssid}`:Promise.reject("Astra wssid not found")))),this.astraWssid="",this.httpRetry=t,this.isItFirstAstraCall=!0,this.wssid=s,this.namespace=e.aolUser?S.Tzw.AOL:S.Tzw.YAHOO,this.host=(e[S.ANe.ASTRA_YCPI_HOST]?"":`https://astra.commerce.${this.namespace}.com`)+"/astra/v1",this.sponseredProductAds=!!e[S.ANe.SPONSERED_PRODUCT_ADS];const a=(e.bucketMetainfo||[]).filter((e=>"astra"in e)).map((e=>e.astra));this.astraBucketHeaderString=a.reduce(((e,t)=>{for(const s in t)e=e.concat(`${s}=${t[s]}`);return e}),[]).join("&")}async astraBatchApi({ymreqid:e="",accountId:t="",appid:s="",mailboxId:a="",batchEnabledFeatures:n=[],isMobileRoute:r=!1}){const o=await this.getAstraWssidParam(e),i=r?`&wssid=${this.wssid}`:"",l=`${this.host}/user/batch?q=cardView:Deal&accountId=1${o}&ymreqid=${e}&appid=${s}&mailboxId=${a}${i}`,c={requests:[(n.includes(S.ANe.STOREFRONT)||n.includes(S.ANe.SHOW_SEARCH_CONTACT_CARD)||n.includes(S.ANe.FETCH_AFFILIATE_RETAILERS))&&{id:n.includes(S.ANe.STOREFRONT)||n.includes(S.ANe.SHOW_SEARCH_CONTACT_CARD)?S.G1D.STOREFRONT_BRANDS:S.G1D.AFFILIATE_RETAILERS,uri:n.includes(S.ANe.STOREFRONT)||n.includes(S.ANe.SHOW_SEARCH_CONTACT_CARD)?`/astra/v1/user/retailers?source=inbox,storefrontAffiliate&accountId=${t}&viewContext=storefrontBrandShortcut&siteId=us-inbox`:`/astra/v1/user/retailers?accountId=${t}&source=inbox`,method:S.f2m.GET},n.includes(S.ANe.RECOMMENDED_DEALS)&&!n.includes(S.ANe.FETCH_COMBINE_DEALS_FROM_ASTRA)&&{id:S.G1D.RECOMMENDED_DEALS,uri:"/astra/v1/user/cards?q=cardView:Deal+AND+source:inbox,yahoo&sortBy=score&accountId=1&limit=400",method:S.f2m.GET},n.includes(S.ANe.GROCERIES)&&{id:S.G1D.GROCERY_RETAILERS,uri:"/astra/v1/user/retailers?accountId=1&source=groceryAffiliate",method:S.f2m.GET},n.includes(S.ANe.SHOW_USER_FOLLOWED_CATEGORIES)&&{id:S.G1D.CATEGORY_FOLLOWING_LIST,uri:"/astra/v1/user/categories?source=inbox&type=inferred&accountId=1",method:S.f2m.GET},n.includes(S.ANe.FETCH_COMBINE_DEALS_FROM_ASTRA)&&{id:S.G1D.ALL_INBOX_DEALS,uri:"/astra/v1/user/cards?q=cardView:Deal+AND+source:inbox,yahoo&sortBy=score&accountId=1&limit=1000",method:S.f2m.GET}].filter(Boolean)},d=this.transport(l,N.W.POST);return d.setHeader("Accept","multipart/form-data"),n.includes(S.ANe.FETCH_COMBINE_DEALS_FROM_ASTRA)&&d.setHeader("X-astra-bucket",this.astraBucketHeaderString+"cardsService.includeLastOneMonthInboxDealsInTopDeals=true&cardsService.sortLastOneMonthInboxDealsByExpiryTime=true"),d.send(c).then((e=>xt({responseText:e.text,astraWssid:this.astraWssid})))}async affiliateOffersApi({ymreqid:e="",brandId:t=""}){const s=await this.getAstraWssidParam(e),a=`${this.host}/user/cards?q=cardView:Deal+AND+source:affiliate+AND+data.dealType:ProductOffer+AND+retailer:${t}&sortBy=score&accountId=1&limit=15${s}&ymreqid=${e}`;return this.transport(a).send().then((e=>kt(e.body)))}async storefrontModulesApi({ymreqid:e="",accountId:t=1,brandId:s,appid:a=""}){const n=await this.getAstraWssidParam(e),r=`${this.host}/user/cards?q=retailer:${s}&accountId=${t}&appid=${a}&viewContext=storefrontBrandShortcut&siteId=us-inbox${n}&limit=${S.JaR}&ymreqid=${e}`;return this.transport(r).send().then((e=>Ht(e.body)))}async storefrontDealsApi({ymreqid:e="",accountId:t=1,brandId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/cards?q=cardView:Deal%20AND%20retailer:${s}&sortBy=cardCreateTime&accountId=${t}&viewContext=storefrontBrandShortcut&siteId=us-inbox${a}&ymreqid=${e}&limit=100`;return this.transport(n).send().then((e=>function(e={}){if(void 0===e.result)throw new C.Z("AstraApiClient.StorefrontDealsError");const{result:t={},statusCode:s=-1}=e;return{statusCode:s,dealsToSave:(t.cards||[]).map((e=>vt({...e.data,additionalProperties:e.sources}))).filter((e=>!!e.description))}}(e.body)))}async storefrontProductsApi({ymreqid:e="",accountId:t=1,brandId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/cards?q=cardView:Deal+AND+source:affiliate+AND+data.dealType:ProductOffer+AND+retailer:${s}&accountId=${t}${a}&ymreqid=${e}&limit=100`;return this.transport(n).send().then((e=>kt(e.body)))}async storefrontReceiptsApi({ymreqid:e="",accountId:t=1,brandId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/cards?q=cardView:PaymentDetail+AND+retailer:${s}&sortBy=cardCreateTime&accountId=${t}${a}&ymreqid=${e}`;return this.transport(n).send().then((e=>Ht(e.body)))}async resetStorefrontNewDealCountApi({ymreqid:e="",accountId:t=1}){const s=await this.getAstraWssidParam(e),a=`${this.host}/user/retailers?source=inbox,storefrontAffiliate&resetNewCount=true&accountId=${t}${s}&ymreqid=${e}`;return this.transport(a,S.f2m.POST).send().then((e=>e.body))}async linkRetailerApi({ymreqid:e="",retailerId:t,loyaltyId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/sources/quotient/retailers?accountId=1${a}&ymreqid=${e}`,r={"@type":"Retailer","@id":t,accountInfo:{"@type":"PartnerAccount",additionalProperties:[{"@type":"PropertyValue",propertyID:"loyaltyCard",value:s}]}};return this.transport(n,N.W.POST).send(r).then((e=>function(e){if(!e)throw new C.Z("AstraApiClient.LinkRetailerError");const{error:t={},statusCode:s=0}=e,{validationErrors:a=[]}=t,{errorHint:n}=JSON.parse(a[0]||'{"errorHint": ""}');return{errorHint:n,statusCode:s}}(e.body)))}async unlinkRetailerApi({ymreqid:e="",retailerId:t=""}){const s=await this.getAstraWssidParam(e),a=`${this.host}/user/sources/quotient/retailers/${t}?accountId=1${s}&ymreqid=${e}`;return this.transport(a,N.W.DELETE).send().then((e=>e.body))}async addItemToShoppingList({ymreqid:e="",retailerId:t="",payload:s={}}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/retailers/${t}/shoppingList/cpg?accountId=1&viewContext=ShoppingList&siteId=us-inbox&pageId=inbox-grocery${a}&ymreqid=${e}`;return this.transport(n,N.W.PATCH).send([s]).then((e=>e.body))}async removeItemFromShoppingList({ymreqid:e="",retailerId:t="",itemIds:s=[]}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/retailers/${t}/shoppingList/cpg?accountId=1&viewContext=ShoppingList&siteId=us-inbox&checkout=true&pageId=inbox-grocery${a}&ymreqid=${e}`,r=s.map((e=>({op:"remove",path:`/itemListElement/[@id==${e}]`})));return this.transport(n,N.W.PATCH).send(r).then((e=>Gt(e.body)))}async changeItemQuantityFromShoppingList({ymreqid:e="",retailerId:t="",items:s=[]}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/retailers/${t}/shoppingList/cpg?accountId=1&viewContext=ShoppingList&siteId=us-inbox&pageId=inbox-grocery${a}&ymreqid=${e}`,r=s.map((e=>({op:"replace",path:`/itemListElement/[@id==${e.offerId}]/quantity`,value:e.quantity})));return this.transport(n,N.W.PATCH).send(r).then((e=>Gt(e.body)))}async retailerOffersApi({ymreqid:e="",retailerId:t}){const s=await this.getAstraWssidParam(e),a=this.sponseredProductAds?`${this.host}/user/cards?q=cardView:DealCollection+AND+source:groceryAffiliate+AND+data.dealType:ProductOffer,Coupon+AND+retailer:${t}&include=sponsored&limit.sponsored=1&siteId=us-inbox&pageId=inbox-grocery&accountId=1&sortBy=score&limit=100${s}&ymreqid=${e}`:`${this.host}/user/cards?q=cardView:DealCollection+AND+source:groceryAffiliate+AND+data.dealType:ProductOffer,Coupon+AND+retailer:${t}&siteId=us-inbox&pageId=inbox-grocery&viewContext=ShoppingList&accountId=1&sortBy=score&limit=100${s}&ymreqid=${e}`;return this.transport(a).send().then((e=>wt(e.body)))}async retailerActivatedOffersApi({ymreqid:e="",retailerId:t}){const s=await this.getAstraWssidParam(e),a=`${this.host}/user/retailers/${t}/shoppingList/cpg?accountId=1&siteId=us-inbox&pageId=inbox-grocery&viewContext=ShoppingList${s}&ymreqid=${e}`;return this.transport(a).send().then((e=>Gt(e.body)))}async activateOfferApi({ymreqid:e="",cardId:t,payload:s={}}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/cards/${t}?accountId=1&q=cardView:Deal%20AND%20source:Quotient${a}&ymreqid=${e}`;return this.transport(n,N.W.POST).send(s).then((e=>e.body))}async clipCoupon({ymreqid:e="",cardMid:t="",mailboxId:s="",wssid:a="",clipping:n=!0}){const r=await this.getAstraWssidParam(e),o=`${this.host}/user/cards/${t}?accountId=1${r}&mailboxId=${s}&wssid=${a}&ymreqid=${e}`,i={action:n?"save":"unsave",source:"inbox"};return this.transport(o,N.W.POST).send(i).then((e=>e.body))}async getRetailerLocations({ymreqid:e="",retailerId:t="",zipCode:s=""}){const a=await this.getAstraWssidParam(e),n=`${this.host}/retailers/${t}/stores?location.zipCode=${s}&storeLimit=5${a}&ymreqid=${e}`;return this.transport(n).send().then((e=>e.body))}async updatePreferredStoreApi({ymreqid:e="",retailerId:t="",store:s=[]}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/retailers/${t}/stores?accountId=1&${a}&ymreqid=${e}`;return this.transport(n,N.W.PUT).send(s).then((e=>e.body))}async categoryOffersApi({ymreqid:e="",retailerId:t,categoryId:s}){const a=await this.getAstraWssidParam(e),n=this.sponseredProductAds?`${this.host}/user/cards?q=cardView:DealCollection+AND+source:groceryAffiliate+AND+data.dealType:ProductOffer,Coupon+AND+retailer:${t}+AND+category:${s}&include=sponsored&limit.sponsored=1&siteId=us-inbox&pageId=inbox-grocery&accountId=1&sortBy=score&limit=100${a}&ymreqid=${e}`:`${this.host}/user/cards?q=cardView:DealCollection+AND+source:groceryAffiliate+AND+data.dealType:ProductOffer,Coupon+AND+retailer:${t}+AND+category:${s}&siteId=us-inbox&pageId=inbox-grocery&accountId=1&viewContext=ShoppingList&sortBy=score&limit=100${a}&ymreqid=${e}`;return this.transport(n).send().then((e=>function(e={}){var t,s,a;const n=null==e?void 0:e.statusCode,r=null==e||null===(t=e.error)||void 0===t?void 0:t.code;if(400===n&&"EC-4003"===r)throw new C.Z(A.bD,{errorCode:r,statusCode:n,wssid:"Wrong astra wssid"});if(void 0===e.result)throw new C.Z("AstraApiClient.CategoryOffersError");const{result:o,userInfo:i={}}=e,{astraEGuid:l=""}=i,c=(null===(s=o.cards)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.data)||{},{productOffers:d=[],coupons:E=[]}=c;return{astraEGuid:l,offers:[...d,...E].map(((e={})=>{const{category:t=[],dealType:s="Coupon",description:a="",discountInfo:n={},eligibleQuantity:r,images:i=[],ingredients:l=[],nutrition:c={},priceSpecification:d={},recommendationReason:E="",saved:_="",shortDescription:u="",sourceOfferId:m="",specialFeatures:p=[],trackingBeacons:C=[],validThrough:A=""}=e,T="ProductOffer"===s;let h,g,I,R,O,D,N,f,M;if(T){var L,P;D=Number(null==r?void 0:r.value)||1,N=d.price||"NaN",h=d.priceCurrency||"USD";const{eligibleQuantity:e={},priceComponent:t={}}=d;I=e.unitText,R=(null===(L=i[1])||void 0===L?void 0:L.contentUrl)||"",O=(null===(P=i[2])||void 0===P?void 0:P.contentUrl)||"",f=c.servingSize||"",M=t.unitPriceDisplay}else{var y;N=n.amount||"NaN",h=n.priceCurrency||"USD",g=n.discountType,O=(null===(y=i[0])||void 0===y?void 0:y.contentUrl)||""}const b=A?new Date(A).getTime():null,F=e["@id"]||"",{cardId:U=""}=o.cards[0],v=T||g===S.iNd.AMOUNT?Number(N).toFixed(2):Number(N).toFixed(0),w=t.map(((e={})=>({id:e["@id"],name:e.name}))),G="true"===_,k=C.reduce(((e,t)=>({...e,[t.name]:t.url})),{});return{activated:G,amountUnit:h,cardId:U,categories:w,description:a,discountType:g,eligibleUnitText:I,expiryTimestamp:b,highResImgUrl:R,imageUrl:O,ingredients:l[0]||"",isSponsoredAd:"SponsoredAd"===E,maxQuantity:D,offerId:F,servingSize:f,shortDescription:u,sourceOfferId:m,specialFeatures:p[0]||"",trackingBeacons:k,unitPriceDisplay:M,value:v}})),statusCode:n}}(e.body)))}async searchItemsApi({ymreqid:e="",retailerId:t,search:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/cards?q=cardView:DealCollection%20AND%20source:groceryAffiliate%20AND%20data.dealType:ProductOffer,Coupon%20AND%20retailer:${t}&keyword=${s}&siteId=us-inbox&pageId=inbox-grocery&accountId=1&viewContext=ShoppingList&sortBy=score&limit=100${a}&ymreqid=${e}`;return this.transport(n).send().then((e=>wt(e.body)))}async subcategoriesApi({ymreqid:e="",categoryId:t,retailerId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/categories?source=groceryAffiliate&category=${t}&retailerId=${s}&accountId=1${a}&ymreqid=${e}`;return this.transport(n).send().then((e=>function(e={}){var t;const{error:s={},statusCode:a=0}=e,{code:n="",validationErrors:r=[]}=s,{errorDescription:o}=JSON.parse(r[0]||'{"errorDescription": ""}');if(400===a&&"EC-4003"===n)throw new C.Z(A.bD,{errorCode:n,statusCode:a,wssid:"Wrong astra wssid"});if(void 0===e.result)throw new C.Z("AstraApiClient.SubcategoriesError");return{astraEGuid:(null==e||null===(t=e.userInfo)||void 0===t?void 0:t.astraEGuid)||"",errorDescription:o,subcategories:(e.result||[]).map((e=>({id:(null==e?void 0:e["@id"])||"",displayName:(null==e?void 0:e.displayName)||"",name:(null==e?void 0:e.name)||""}))),statusCode:a}}(e.body)))}async previouslyAddedGroceryItems({ymreqid:e="",retailerId:t}){const s=await this.getAstraWssidParam(e),a=`${this.host}/user/cards?q=cardView:Deal%20AND%20source:walmart_grocery%20AND%20data.dealType:ProductOffer%20AND%20retailer:${t}&context.productList.type=shoppingListHistory&siteId=us-inbox&pageId=inbox-grocery&accountId=1${s}&ymreqid=${e}`;return this.transport(a).send().then((e=>Bt(e.body)))}async relatedGroceryItems({ymreqid:e="",retailerId:t,itemId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/cards?q=cardView:Deal%20AND%20source:walmart_grocery%20AND%20data.dealType:ProductOffer%20AND%20retailer:${t}&context.productList.ids=${s}&siteId=us-inbox&pageId=inbox-grocery&limit=50&accountId=1${a}&ymreqid=${e}`;return this.transport(n).send().then((e=>Bt(e.body)))}async firstCategoryFollowApi({ymreqid:e="",id:t="",name:s=""}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/profile?accountId=1${a}&ymreqid=${e}`,r={"shopping.affinity.productCategory.name=categoryFollow.type=Declared":{"@type":"ItemList",itemListElement:[{"@id":t,"@type":"CategoryListItem",name:s}]}};return this.transport(n,N.W.POST).send(r).then((e=>e.body))}async categoryFollowApi(e){const{ymreqid:t="",id:s="",name:a=""}=e,n=await this.getAstraWssidParam(t),r=`${this.host}/user/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared${n}&ymreqid=${t}`,o=[{op:"add",path:"/itemListElement/-",value:{"@id":s,"@type":"CategoryListItem",name:a}}];return this.transport(r,N.W.PATCH).send(o).then((e=>e.body))}async categoryUnfollowApi({ymreqid:e="",id:t=""}){const s=await this.getAstraWssidParam(e),a=`${this.host}/user/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared${s}&ymreqid=${e}`,n=[{op:"remove",path:`/itemListElement/[@id==${t}]`}];return this.transport(a,N.W.PATCH).send(n).then((e=>e.body))}async storefrontBrandFollowApi({ymreqid:e="",accountId:t,brandId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/profile?accountId=${t}&attribute=shopping.affinity.merchantAffinity.name=retailerFollow.type=Declared${a}&ymreqid=${e}`,r=[{op:"add",path:"/itemListElement/-",value:{"@id":s,"@type":"RetailerListItem"}}];return this.transport(n,N.W.PATCH).send(r).then((e=>e.body))}async storefrontBrandUnfollowApi({ymreqid:e="",accountId:t,brandId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/profile?accountId=${t}&attribute=shopping.affinity.merchantAffinity.name=retailerFollow.type=Declared${a}&ymreqid=${e}`,r=[{op:"remove",path:`/itemListElement/[@id==${s}]`}];return this.transport(n,N.W.PATCH).send(r).then((e=>e.body))}}class Zt extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,astraHost:s,cookie:a,guidHash:n,headers:r,httpRetry:o,wssid:i,timezone:l={},config:c={}}){super({loggerName:S.BrN.AstraClient,loggerParams:e}),this._request=new Wt({appId:t,astraHost:s,cookie:a,headers:r,httpRetry:o,config:c,wssid:i}),this.appId=t,this.wssid=i,this.config=c,this.timezone=l.name,n&&(this.ymreqidGenerator=new I.Z(n,S.N7x,S.Q_q))}getDefaultUrlParams(){return{appid:this.appId,wssid:this.wssid,timezone:this.timezone,config:this.config,ymreqid:this.ymreqidGenerator.generate()}}getAstraBatchResponse(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.astraBatchApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getStorefrontModules(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontModulesApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getStorefrontDeals(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontDealsApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getStorefrontProducts(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontProductsApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getStorefrontReceipts(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontReceiptsApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestStorefrontBrandFollow(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontBrandFollowApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestStorefrontBrandUnfollow(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontBrandUnfollowApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}resetStorefrontNewDealCount(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.resetStorefrontNewDealCountApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getAffiliateOffers(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.affiliateOffersApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}linkRetailer(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.linkRetailerApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}unlinkRetailer(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.unlinkRetailerApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((e=>{throw e=this.handleCommonError(e)}))}getOffers(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.retailerOffersApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((e=>{throw e=this.handleCommonError(e)}))}getActivatedOffers(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.retailerActivatedOffersApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getCategoryOffers(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.categoryOffersApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((e=>{throw e=this.handleCommonError(e)}))}getSearchItems(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.searchItemsApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((e=>{throw e=this.handleCommonError(e)}))}requestAddToShoppingList(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.addItemToShoppingList(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestRemoveFromShoppingList(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.removeItemFromShoppingList(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestChangeQuantityFromShoppingList(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.changeItemQuantityFromShoppingList(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}activateOffer(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.activateOfferApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestSaveCoupon(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.clipCoupon(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestUnsaveCoupon(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.clipCoupon(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestRetailerLocations(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.getRetailerLocations(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}updatePreferredStore(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.updatePreferredStoreApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getSubcategories(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.subcategoriesApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((e=>{throw e=this.handleCommonError(e)}))}getPreviouslyAddedGroceryItems(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.previouslyAddedGroceryItems(Object.assign(s,t));return this.logRequest(r,n),r.catch((e=>{throw e=this.handleCommonError(e)}))}getRelatedGroceryItems(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.relatedGroceryItems(Object.assign(s,t));return this.logRequest(r,n),r.catch((e=>{throw e=this.handleCommonError(e)}))}requestFirstCategoryFollow(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.firstCategoryFollowApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestCategoryFollow(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.categoryFollowApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestCategoryUnfollow(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.categoryUnfollowApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}request(e,t){return this[e](e,t)}}const Kt="NODE_TO_ATHENA_STRATEGY",zt=["WEB_DESKTOP","WEB_MOBILE","MOBILE_IOS","MOBILE_ANDROID"];const{ATHENA_HOST_MTLS:qt,TOKEN_FILE:Yt,KEY_FILE:jt,CERT_FILE:Qt}=z.bO;const Xt={[Kt]:class{constructor({athenaHost:e,cookie:t,headers:s}){this.cookie=t,this.athenaHost=e,this.headers=s}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach((s=>{e.setHeader(s,t[s])}))}userSegmentApi(e){const t=(0,z.Sf)(),s=(t?qt:this.athenaHost)+"/v1/commsdata/userprofile?",a=t?(0,z.Ow)({keyPath:jt,certPath:Qt}):{},n=t?(0,z.Fc)({tokenJsonPath:Yt}):null,r=new N.Z("GET",s,{timeout:1250,tls:a});return n&&n.key&&r.setHeader("Athenz-Authorization",`Bearer ${n.key}`),r.setHeader("Accept","application/json"),r.setCookieHeader(this.cookie),this._setCustomHeaders(r,this.headers),r.withCredentials=!0,r.send(e).then((e=>function(e){if(e&&Array.isArray((0,g.u9)(e,"commsDataUserProfile.result.0.userProfile.attributesList")))return(0,g.u9)(e,"commsDataUserProfile.result.0.userProfile.attributesList").filter((e=>!(!e||!e.platform)&&-1!==zt.indexOf(e.platform))).reduce(((e,t)=>({...e,[t.platform]:t})),{});return{}}(JSON.parse(e.text))))}}};class Jt extends u.Z{constructor({appId:e=S.JfS,strategy:t=Kt,guidHash:s,wssid:a,crumb:n,isOnline:r,cookie:o,athenaHost:i,headers:l,timezone:c,loggerParams:d}){super({loggerName:S.BrN.AthenaClient,loggerParams:d,crumb:n,wssid:a,isOnline:r}),(0,m.Z)(t===Kt,`Invalid strategy ${t}`),this.appId=e,this.cookie=o,this.athenaHost=i,this.timezone=c,this.strategy=t,this._request=new Xt[t]({headers:l,athenaHost:i,cookie:o}),s&&(this.ymreqidGenerator=new I.Z(s,S.N7x,S.Q_q))}request(e,t){return this[e](e,t)}getUserSegmentData(e,t){const s={apiName:e},a=this._request.userSegmentApi(Object.assign({appId:this.appId},t));return this.logRequest(a,s),a}}const $t=Jt,es=Ee().create("norrin/video_client"),ts=S.JKT+"/video_api";class ss extends u.Z{constructor({appId:e=S.JfS,loggerParams:t,crumb:s,isOnline:a,locale:n,environment:r,region:o,guidHash:i}){super({loggerName:S.BrN.MembershipRewardsClient,loggerParams:t,crumb:s,isOnline:a}),this.proxyURL=`${e===S.gUS?S.IZo:S.jQ2}/membership_rewards/`,this.crumb=s,this.appid=e,this.locale=n,this.region=o,this.environment=r,i&&(this.ymreqidGenerator=new I.Z(i,S.N7x,S.Q_q))}request(e,t){if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated.");const s=this.ymreqidGenerator.generate(),a={apiName:e,appId:this.appId,locale:this.locale,region:this.region,environment:this.environment};t={...t,crumb:this.crumb,ymreqid:s};const n=this.proxyURL+e,r=new N.Z(N.W.GET,n);r.setHeader("Accept","application/json");const o=r.send(t);return this.logRequest(o,a),o}}class as extends u.Z{constructor({appId:e=S.JfS,loggerParams:t,crumb:s,guidHash:a}){super({loggerName:S.BrN.ObiApiClient,loggerParams:t,crumb:s}),this.proxyURL=`${S.jQ2}/obi/`,this.crumb=s,this.appid=e,a&&(this.ymreqidGenerator=new I.Z(a,S.N7x,S.Q_q))}request(e,t){if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated.");const s=this.ymreqidGenerator.generate(),a={apiName:e,appId:this.appId,params:t};t={...t,crumb:this.crumb,ymreqid:s};const n=this.proxyURL+e,r=new N.Z(N.W.GET,n);r.setHeader("Accept","application/json");const o=r.send(t);return this.logRequest(o,a),o}}var ns=s(42907);const rs="/",os=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"GET",payloadType:"embedded"}),is=(e,{appId:t}={appId:S.JfS})=>{const s=function(e){const t="@B@Bulk",s="Spam",a="DELETE_IN_PROGRESS";return e.filter((e=>e.status!==a)).map((e=>{let a=!0,n=e.name;return-1!==e.types.indexOf(S.Sck.USER)&&(a=!1),n===t&&(n=s),{unread:e.unread,total:e.total,types:e.types,name:n,path:n,id:e.id,isSystem:a,accountId:e.acctId,highestModSeq:e.highestModSeq,uidNext:e.uidNext}}))}(e.response.result.folders),a=t&&t.includes(S.L1J);return s.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)),function(e,t=!1){const s=[],a={};return e.forEach((e=>{a[e.accountId]||(a[e.accountId]={}),a[e.accountId][e.name]=e})),e.forEach((e=>{var n;const r=a[e.accountId],o=e.name;let i=!0;-1!==o.indexOf(rs)&&(e.isSystem||!o.startsWith(rs)&&!r[o.substr(0,o.indexOf(rs))])&&(i=!1);const l="Saved/";if(t&&null!==(n=e.name)&&void 0!==n&&n.startsWith(l)){const t=e.name,s=e.name.replace(l,"");r[s]||(e.name=s,e.path=s,r[s]=r[t],delete r[t])}const c=(0,ns.b8)(e,r,i),d=0;(0,ns.PH)(s,e,c,d)})),s}(s,a)};const ls="GetFolders",cs={getBatchPayload:({mailboxId:e})=>({requests:[os(ls,{mailboxId:e})]}),transformResponses:({successMap:e})=>({folders:is(e[ls])})},ds=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/@.id==${t.folderId}`,method:"DELETE"}),Es="DeleteFolders",_s={getBatchPayload:({mailboxId:e,folderId:t})=>({requests:[ds(Es,{mailboxId:e,folderId:t})]}),transformResponses:()=>1},us=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"PUT",payloadType:"embedded",payload:{folder:{types:[S.Sck.USER],acctId:t.accountId,name:t.folderName}}}),ms=e=>{const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,path:t.name,isSystem:!1,accountId:t.acctId,highestModSeq:t.highestModSeq,uidNext:t.uidNext}},Ss="CreateFolders",ps={getBatchPayload:({mailboxId:e,accountId:t,folderName:s})=>({requests:[us(Ss,{mailboxId:e,accountId:t,folderName:s})]}),transformResponses:({successMap:e})=>({folder:ms(e[Ss])})},Cs={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/${t.folderId}`,method:"POST",payloadType:"embedded",payload:{folder:{name:t.folderName}}}),transformResponse(e){const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,isSystem:!1,accountId:t.acctId}}},As=(e,t)=>`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${t}`,Ts={getBlockPayload:(e,t)=>{const{mailboxId:s,value:a}=t,n=As(s,e);return{id:e,method:"POST",uri:n,payload:{id:e,link:{type:"RELATIVE",href:n},value:a}}},get getChainedBlockPayload(){return(e,{mailboxId:t,value:s})=>{const{getSaveBlockPayload:a}=this;let n;return-1!==[S.CbW.DELIVERY_BLOCKED_SENDERS,S.CbW.MESSAGE_FILTERS,S.CbW.CONSENT_EVENTS].indexOf(e)?a(e,{mailboxId:t,value:s}):(n={select:{testAndSet:"$..value.testAndSet"}},{id:"GetMailboxAttribute_"+e,uri:As(t,e),method:"GET",filters:n,requests:[a(e,{mailboxId:t,value:s})]})}},getSaveBlockPayload:(e,{mailboxId:t,value:s})=>{const a=As(t,e),n=[S.CbW.DELIVERY_BLOCKED_SENDERS,S.CbW.VACATION_PREFERENCES,S.CbW.MESSAGE_FILTERS,S.CbW.CONSENT_EVENTS];let r;return-1===n.indexOf(e)&&(s.testAndSet="$(testAndSet)"),-1===n.indexOf(e)&&(r={select:{testAndSet:"$..value.testAndSet"}}),{id:"SetMailboxAttribute_"+e,method:"POST",uri:a,payload:{id:e,link:{type:"RELATIVE",href:a},value:s},filters:r}},get getMultiAttributeChain(){return({mailboxId:e,attributes:t})=>{const{getChainedBlockPayload:s}=this,a=t.map((({id:t,value:a})=>s(t,{mailboxId:e,value:a}))),n=a[0];let r;return a.forEach((e=>{r?r.requests?(r.requests[0].requests=[e],r=e):(r.requests=[e],r=e):r=e})),{requests:[n]}}},transformResponse:()=>1},hs="RenameFolders",gs="messageFilters",Is={getBatchPayload({mailboxId:e,folderId:t,folderName:s,filters:a,subfolders:n=[]}){const r=Cs.getBlockPayload(hs+t,{mailboxId:e,folderId:t,folderName:s}),o=n.map((({folderId:t,folderName:s})=>Cs.getBlockPayload(hs+t,{mailboxId:e,folderId:t,folderName:s})));return 0===a.length?{requests:[r,...o]}:{requests:[{...r,requests:[Ts.getBlockPayload(gs,{mailboxId:e,value:{filters:a}})]},...o]}},transformResponses:(e,t)=>({folder:Cs.transformResponse(e.successMap[hs+t.folderId]),subfolders:Object.keys(e.successMap).filter((e=>e!==hs+t.folderId)).map((t=>Cs.transformResponse(e.successMap[t])))})};var Rs=s(79137);const Os={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:a,isAsync:n,deleteDuplicates:r})=>{if(!s&&!a)throw new Error("POST Delete Message requires either a list of ids or a query string.");const o=[];s&&o.push(`id:(${s.join(" ")})`),a&&o.push(a);const i=encodeURIComponent(o.join(" AND ")),l=r?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:`${e}_$(dedupId)`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"DELETE"}]}}(e,t,i):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"DELETE"}}(e,t,i);return n&&(l.uri+="&async=true"),l},getBatchError:({failureMap:e})=>"EC-4007"===(0,g.u9)(e,"DeleteMessages.response.error.code")?null:Object.keys(e).length>0?new Rs.Z(A.dO,e):null,transformResponse:()=>1};const Ds={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"GET"}),transformResponse(e){const t=e.response.result;if(!t)return{};const s=t.task;return s?{id:s.id,link:s.link.href,status:s.status,progress:s.progress,expires:s.expiryTime}:{}}},Ns="DeleteList",fs={getBatchPayload:e=>({requests:e.map((({mailboxId:e,query:t,isAsync:s=!0})=>((0,m.Z)(e,"`mailboxId` missing."),(0,m.Z)(t,"`query` missing."),Os.getBlockPayload(Ns,{mailboxId:e,query:t,isAsync:s}))))}),transformResponses({successMap:e}){const t=e[Ns];return t.response?{task:Ds.transformResponse(t)}:Os.transformResponse(t)}},Ms={getBatchPayload(e){const t=e.map((({mailboxId:e,query:t,isAsync:s})=>((0,m.Z)(e,"`mailboxId` missing."),(0,m.Z)(t,"`query` missing."),{mailboxId:e,query:t,isAsync:s})));return fs.getBatchPayload(t)},transformResponses:({successMap:e})=>fs.transformResponses({successMap:e})},Ls={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:a,destinationFolderId:n,flags:r,cardConversationId:o,isAsync:i,payload:l,deleteDuplicates:c})=>{if(!s&&!a)throw new Error("POST Update Message requires either a list of ids or a query string.");const d=[];s&&d.push(`id:(${s.join(" ")})`),a&&d.push(a);const E=encodeURIComponent(d.join(" AND ")),_=c?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:`${e}_$(dedupId)`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"POST",payloadType:"embedded",payload:{message:{}}}]}}(e,t,E):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"POST",payloadType:"embedded",payload:{message:{}}}}(e,t,E),u=c?_.requests[0]:_;if(i&&(_.uri+="&async=true"),!(n||r||o||l))throw new Error("POST Update Message requires either a folder id, flags, cardConversationId or payload");return l?u.payload=l:(n&&(u.payload.message.folder={},u.payload.message.folder.id=n),r&&(u.payload.message.flags=r),o&&(u.payload.message.cardConversationId=o)),_},transformResponse:()=>1,getBatchError:({failureMap:e})=>"EC-4007"===(0,g.u9)(e,"DeleteMessages.response.error.code")?null:Object.keys(e).length>0?new Rs.Z(A.dO,e):null};const Ps="UpdateList",ys={getBatchPayload:e=>({requests:e.map((({mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n=!0})=>((0,m.Z)(e,"`mailboxId` missing."),(0,m.Z)(t,"`query` missing."),(0,m.Z)(s||a,"`destinationFolderId` or `flags` required."),Ls.getBlockPayload(Ps,{mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n}))))}),transformResponses({successMap:e}){const t=e[Ps];return t.response?{task:Ds.transformResponse(t)}:Ls.transformResponse(t)}},bs={getBatchPayload(e){const t=e.map((({mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n})=>((0,m.Z)(e,"`mailboxId` missing."),(0,m.Z)(t,"`query` missing."),(0,m.Z)(s||a,"`destinationFolderId` or `flags` required."),{mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n})));return ys.getBatchPayload(t)},transformResponses:({successMap:e})=>ys.transformResponses({successMap:e})};var Fs=s(55831);function Us(e){const t={id:e.immutableid||e.id,conversationId:e.conversationId,snippet:e.snippet||"",flags:Object.assign(e.flags,{flagged:!!e.flags.flagged,read:!!e.flags.read,ham:!!e.flags.ham}),folder:{id:e.folder.id,types:e.folder.types},headers:{replyTo:e.headers.replyTo||"",subject:e.headers.subject||"",from:e.headers.from?vs(e.headers.from):[],to:e.headers.to?vs(e.headers.to):[],cc:e.headers.cc?vs(e.headers.cc):[],bcc:e.headers.bcc?vs(e.headers.bcc):[],date:Number(e.headers.internalDate),messageIdRfc822:e.headers.messageIdRfc822},attachments:[],attachmentCount:0,classification:e.classification&&e.classification.category,verifiedDomains:e.verifiedDomains||[]};e.spame&&(t.spame=e.spame),e.captcha&&(t.captcha=e.captcha),e.csid&&(t.csid=e.csid),e.attachments&&(e.attachments=t.attachments=function(e,t,s,a){return e.map((e=>({id:(0,y.ad)(e,s,!1),virus:e.virus||"N",filename:e.filename,size:e.size,partId:e.partId,type:e.type,subtype:e.subtype,disposition:e.disposition,downloadUrl:e.downloadUrl,thumbnailUrl:e.thumbnailUrl,isExternal:!1,creationDate:1e3*t||e.creationDate,textExtractionUrl:e.textExtractionUrl,contentId:e.contentId,dataIds:e.dataIds,documentId:e.documentId,csid:a})))}(e.attachments,t.headers.date,t.id,e.csid)),void 0!==e.attachmentCount&&(t.attachmentCount=e.attachmentCount),e.headers.inReplyTo&&(t.headers.inReplyTo=e.headers.inReplyTo),e.inReplyTo&&(t.inReplyTo={...e.inReplyTo,messageIdRfc822:e.headers.messageIdRfc822,id:e.immutableid||e.id}),e.downloadAllUrl&&(t.downloadAllUrl=e.downloadAllUrl),e.schemaOrg&&(t.schemaCards=(0,y.Se)(e)),e.cardConversationId&&(t.cardConversationId=e.cardConversationId),e.decos&&(t.decos=e.decos),e.modSeq&&(t.modSeq=e.modSeq);const{filterResult:s}=e;return s&&s.folderOfDelivery&&(t.folderOfDelivery=s.folderOfDelivery),e.schemaOrg&&(t.schemaOrg=e.schemaOrg),t}function vs(e){return e.map((({email:e="",...t})=>({...t,email:e.toLowerCase()})))}function ws(e,{mailboxId:t,offset:s,count:a,folderId:n,sortOrder:r,filter:o,excludeFolderTypes:i=[],ids:l,cidFilter:c,cardConversationIds:d,startCardDate:E,endCardDate:_,accountId:u,encodeCardConversationId:p=!0,query:C={},fromNames:A=[],fromEmails:T=[],listIds:h=[],cursorOffsetId:g,shouldSelectAll:I}){let R="";(0,m.Z)(t,"mailboxId is a required field");const O=[];switch(h.length?O.push(`listid:(${h.map((e=>`"${e}"`)).join(" OR ")})`):(T.length&&O.push(`fromEmail:(${T.join(" OR ")})`),A.length&&O.push(`from:(${A.map((e=>`"${e}"`)).join(" OR ")})`)),R+=n?"folderId"+Fs.cF+n:"",R+=I?Fs.L_+"all:1":"",R+=o?(0,Fs.od)(o):"",R+=i.length?Fs.L_+encodeURIComponent(i.map((e=>`-folderType:(${e})`)).join("")):"",R+=O.length?Fs.L_+encodeURIComponent(`(${O.join(" OR ")})`):"",R+=g?Fs.L_+"cursorOffsetId"+Fs.cF+g:"",R+=Fs.L_+"count"+Fs.cF+a,R+=Fs.L_+"offset"+Fs.cF+s,R+=l?encodeURIComponent(` id:(${l.join(" ")})`):"",d&&(R+=p?encodeURIComponent(` cardConversationId:(${d.join(" ")})`):`%20cardConversationId%3A(${d.join("%20")})`),R+=c?`%20conversationId%3A(${c})`:"",R+=r===S.nMQ&&E&&_?`${Fs.L_}cardDate${Fs.cF}${Fs.R1}${E}${Fs.L_}TO${Fs.L_}${_}${Fs.om}`:"",R+=u&&!n?"%20acctId"+Fs.cF+u:"",R+=encodeURIComponent(Object.keys(C).reduce(((e,t)=>Array.isArray(C[t])?e+C[t].map((e=>" "+t+":"+e)):e+" "+t+":"+C[t]),"")),r){case S.Asd.DATE_ASC:R+=Fs.L_+"sort"+Fs.cF+"date";break;case S.Asd.DATE_DESC:R+=Fs.L_+"-sort"+Fs.cF+"date";break;case S.Asd.CARD_DATE_DESC:R+=Fs.L_+"-sort"+Fs.cF+"cardDate";break;case S.Asd.SENDER:case S.Asd.RECIPIENT:case S.Asd.SUBJECT:case S.Asd.UNREAD:case S.Asd.STARRED:case S.Asd.ATTACHMENT:case S.nMQ:R+=Fs.L_+"sort"+Fs.cF+r}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${R}`,method:"GET",payloadType:"embedded"}}function Gs(e,t){const s=e.response.result,{messages:a}=s,n={messageGroups:a.map((e=>({id:e.id,messages:[Us(e)]})))};if(!isNaN(t)){let e=!1;a.length&&(e=a[0].folder.total>t),n.hasMore=e}return n}function ks(e,{mailboxId:t,offset:s,count:a,folderId:n,sortOrder:r,filter:o,excludeFolderTypes:i=[],ids:l,cidFilter:c,startCardDate:d,endCardDate:E,accountId:_,groupBy:u="conversationId",fromNames:p=[],fromEmails:C=[],listIds:A=[],shouldSelectAll:T}){let h="";(0,m.Z)(t,"mailboxId is a required field");const g=[];switch(A.length?g.push(`listid:(${A.map((e=>`"${e}"`)).join(" OR ")})`):(C.length&&g.push(`fromEmail:(${C.join(" OR ")})`),p.length&&g.push(`from:(${p.map((e=>`"${e}"`)).join(" OR ")})`)),h+=n?"folderId"+Fs.cF+n:"",h+=T?Fs.L_+"all:1":"",h+=_?Fs.L_+"acctId"+Fs.cF+_:"",h+=o?(0,Fs.od)(o):"",h+=g.length?Fs.L_+encodeURIComponent(`(${g.join(" OR ")})`):"",h+=`${Fs.L_}groupBy${Fs.cF}${u}`,h+=Fs.L_+"count"+Fs.cF+a,h+=Fs.L_+"offset"+Fs.cF+s,h+=l?encodeURIComponent(` conversationId:(${l.join(" ")})`):"",h+=c?`%20conversationId%3A(${c})`:"",h+=d&&E?`${Fs.L_}cardDate${Fs.cF}${Fs.R1}${d}${Fs.L_}TO${Fs.L_}${E}${Fs.om}`:"",h+=i.length?Fs.L_+encodeURIComponent(i.map((e=>`-folderType:(${e})`)).join("")):"",h+=o===S.ukn.PEOPLE?Fs.L_+encodeURIComponent([S.Sck.USER,S.Sck.INBOX].map((e=>`+folderType:(${e})`)).join("")):"",r){case S.Asd.DATE_ASC:h+=Fs.L_+"sort"+Fs.cF+"date";break;case S.Asd.DATE_DESC:h+=Fs.L_+"-sort"+Fs.cF+"date";break;case S.Asd.CARD_DATE_ASC:h+=Fs.L_+"sort"+Fs.cF+"cardDate";break;case S.Asd.CARD_DATE_DESC:h+=Fs.L_+"-sort"+Fs.cF+"cardDate";break;case S.Asd.SENDER:case S.Asd.SUBJECT:case S.Asd.UNREAD:case S.Asd.STARRED:case S.nMQ:h+=Fs.L_+"sort"+Fs.cF+r}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${h}`,method:"GET",payloadType:"embedded"}}function Hs(e){const{conversations:t,messages:s,query:a}=e.response.result,n=new Map;s.forEach((e=>n.set(e.id,e)));const r={messageGroups:t.filter((({messageIds:e})=>e.some((e=>!!n.get(e))))).map((({id:e,messageIds:t})=>({id:e,messages:t.filter((e=>n.get(e))).map((e=>Us(n.get(e)))).reverse()})))};if(r.hasMore=0!==t.length,a&&a.options){const e=(0,Fs.v2)(a);r.hasMore=t.length>=e}return r}var Bs=s(97665);const xs=(e,t)=>{const{accountId:s,mailboxId:a}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/decos/@.id==FTI`,method:"POST",payload:{id:"FTI",counts:[{accountId:s,unseen:0}]}}},Vs=e=>{if(e){const{id:t,httpCode:s,response:a}=e,n={apiName:t,errorCode:a&&a.error&&a.error.code,httpCode:s};Bs.Z.feature(S.BrN.MailAPIClient,{data:n}).logFailure()}return null};var Ws=s(7739),Zs=s.n(Ws),Ks=s(85564),zs=s.n(Ks),qs=s(43174),Ys=s.n(qs);function js(e){const t=e.every((e=>e.headers&&e.headers.date));return(0,m.Z)(t,"date is missing in the headers"),e.sort(((e,t)=>t.headers.date-e.headers.date)).slice(1)}function Qs(e=[]){const[t=[],s=[]]=Ys()(e,(({csid:e,folder:t})=>e&&-1!==t.types.indexOf("DRAFT"))),a=Ys()(t,(e=>!e.inReplyTo)),n=Zs()(a[0],"csid"),r=Zs()(a[1],"conversationId"),o=Object.keys(n).filter((e=>n[e].length>1)).map((e=>js(n[e])));let i=Object.keys(r).map((e=>Zs()(r[e],"csid"))).reduce(((e,t)=>{const s=Object.keys(t).filter((e=>t[e].length>1)).map((e=>js(t[e])));return s.length&&e.push(...zs()(s)),e}),[...zs()(o)]);if(t.length&&s.length){const e=t.filter((e=>s.some((({csid:t,folder:s})=>t===e.csid&&-1!==s.types.indexOf("SENT")))));i=i.concat(e)}return i.length?e.filter((({id:e})=>!i.find((({id:t})=>e===t)))):e}var Xs=s(44908),Js=s.n(Xs);const $s="GetMessageGroupList",ea={getBatchPayload({mailboxId:e,accountId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:l,fromNames:c,fromEmails:d,listIds:E,conversationsMode:_,excludeFolderTypes:u=[],ids:m,cardConversationIds:S,query:p,shouldSelectAll:C}){const A=_&&!S?n:a;return u=Js()([...u,...Fs.z_]),{requests:[A.getBlockPayload($s,{mailboxId:e,accountId:t,folderId:s,count:r,offset:o,filter:l,sortOrder:i,excludeFolderTypes:u,ids:m,cardConversationIds:S,query:p,fromEmails:d,fromNames:c,listIds:E,shouldSelectAll:C})]}},transformResponses({successMap:e},t){const{conversationsMode:s,offset:r,count:o,cardConversationIds:i}=t,l=r+o,c=s&&!i?n:a,{response:{result:d}}=e[$s],{messages:E}=d,{messageGroups:_,hasMore:u}=c.transformResponse({response:{result:{...d,messages:Qs(E)}}},l,t.folder);return{messageGroupList:_,hasMoreItems:u}}},ta="GetMessageGroupList",sa="UnseenCountReset",aa={getBatchPayload({accountId:e,mailboxId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:l,conversationsMode:c,excludeFolderTypes:d=[],shouldSelectAll:E}){const _=c?n:a;return d=Js()([...d,...Fs.z_]),{requests:[_.getBlockPayload(ta,{accountId:e,mailboxId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:l,excludeFolderTypes:d,shouldSelectAll:E}),xs(sa,{mailboxId:t,accountId:e})]}},transformResponses:(e,t)=>ea.transformResponses(e,t),getBatchError:({failureMap:e})=>{const t=Object.keys(e).length,s=e[sa];return s&&1===t?Vs(s):t?new Rs.Z(A.ps,e):null}},na=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts`,method:"GET"}),ra=e=>(0,g.u9)(e,"response.result.accounts");var oa=s(60039);const ia="GetMailboxAttribute_",la={getBatchPayload:({mailboxId:e,attributes:t=S.bxj})=>({requests:Object.keys(t).map((s=>{const a=t[s];return oa.Z.getBlockPayload(ia+a,{mailboxId:e,attributeId:a})}))}),updateFailureMap:e=>{const t=Object.keys(e).filter((e=>0===e.indexOf(ia)));if(t.length>0){const s=t.map((t=>e[t])),a=t.map((e=>e.replace(ia,"")));return(0,T.apiPassiveErrorLogger)({logger:Bs.Z,apiName:s[0].id,statusCode:s[0].httpCode,errorCode:(0,g.u9)(s[0],"response.error.code",""),ymreqid:(0,g.u9)(s[0],"response.error.requestId",""),extraStatusCode:s.map((e=>(0,g.u9)(e,"httpCode",""))).join(","),extraErrorCode:s.map((e=>(0,g.u9)(e,"response.error.code",""))).join(","),message:`failed to load attribute values ${a.join(",")}.`}),E()(e,t)}return e},transformResponses:({successMap:e},{attributes:t=S.bxj,userNamespace:s})=>{let a=t;Array.isArray(t)||(a=Object.keys(t).map((e=>t[e])));const n=a.length,r={};let o=!0;for(let i=0;i<n;i++){const t=a[i],n=e[ia+t];if(n){const e=oa.Z.transformResponse(n,{userNamespace:s});Object.assign(r,e)}else o=!1}return{responses:r,success:o}}},ca="GetFolders",da="GetAccounts",Ea={getBatchPayload:({mailboxId:e,attributesToFetch:t={}},{appName:s,appId:a})=>{const n=a&&a.includes(S.L1J)?S.El5:S.$It,r=s===S.BQZ.MOBILE_APP?n:{...S.CuF,...t};return{requests:[os(ca,{mailboxId:e}),na(da,{mailboxId:e})].concat(la.getBatchPayload({mailboxId:e,attributes:r}).requests)}},getBatchError:({failureMap:e})=>{const t=la.updateFailureMap(e);return Object.keys(t).length>0?new Rs.Z(A.dO,t):null},transformResponses:({successMap:e},{appName:t,appId:s,attributesToFetch:a={}})=>{const n=s&&s.includes(S.L1J)?S.El5:S.$It,r=t===S.BQZ.MOBILE_APP?n:{...S.CuF,...a},o=la.transformResponses({successMap:e},{attributes:r});return{folders:is(e[ca],{appId:s}),accounts:ra(e[da]),mailboxAttributes:o}}},_a="GetFolders",ua="GetMessageGroupList",ma="GetAccounts",Sa={getBatchPayload:({folderId:e="null",count:t,offset:s,sortOrder:r,filter:o,conversationsMode:i,excludeFolderTypes:l=[],mailboxId:c,attributesToFetch:d={}},{appName:E,appId:_})=>{const u=i?n:a,m=_&&_.includes(S.L1J)?S.El5:S.$It;l=Js()([...l,...Fs.z_]);const p=E===S.BQZ.MOBILE_APP?m:{...S.CuF,...d};return{requests:[{...na(ma,{mailboxId:c}),filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[{...os(_a,{mailboxId:c}),filters:{iterator:`$..folders[?((@.id=='${e}' && '${e}' in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && '${e}' nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},requests:[u.getBlockPayload(ua,{mailboxId:c,folderId:"$(folderId)",sortOrder:r,filter:o,count:t,offset:s,excludeFolderTypes:l})]}]}].concat(la.getBatchPayload({mailboxId:c,attributes:p}).requests)}},transformResponses({successMap:e},t){const{appName:s,appId:r,offset:o,count:i,conversationsMode:l,ymreqid:c,folderId:d,mailboxId:E,attributesToFetch:_={}}=t,u=is(e[_a],{appId:r}),m=ra(e[ma]),p=o+i,C=l?n:a,h=r&&r.includes(S.L1J)?S.El5:S.$It,g=s===S.BQZ.MOBILE_APP?h:{...S.CuF,..._},I=la.transformResponses({successMap:e},{attributes:g}),{response:{result:{query:R}}}=e[ua],O=(0,Fs.jZ)(R),D=C.transformResponse(e[ua],p,O),{messageGroups:N,hasMore:f}=D,M={accounts:m,folders:u,messageGroups:N,hasMoreItems:f,mailboxAttributes:I,folderId:O};if(d&&O!==d){const t=[...e[ua].headers];t[2]={key:"Status-Code",value:500};const s={[ua]:{headers:t,httpCode:500,id:ua,response:{error:{code:"ET-5006",requestId:c,resource:`/ws/v3/mailboxes/@.id==${E}/messages/@.select==q`}}}};return(0,T.apiPassiveErrorLogger)({logger:Bs.Z,apiName:ua,statusCode:0,errorCode:"",message:"failed to load provided folder id"}),{...M,error:new Rs.Z(A.dO,s)}}return M},getBatchError:({failureMap:e})=>{const t=la.updateFailureMap(e);return Object.keys(t).length?new Rs.Z(A.ps,t):null}},pa={getBlockPayload:(e,{mailboxId:t,messageId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}`,method:"GET"}),transformResponse:(e,t)=>Us(e.response.result.message)};var Ca=s(17016);const Aa=function(e,{mailboxId:t,messageId:s,secure:a=!1,full:n=!0,suppressed:r=!1}){let o=`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/content/simplebody`;return n&&(o+="/full"),a&&(o+="/secure"),{id:e,uri:o,method:"GET",payloadType:"embedded",suppressResponse:r}},Ta=function(e,t){const{message:s,simpleBody:a}=e.response.result,n=Us(s),{attachments:r,headers:o,csid:i,id:l,inReplyTo:c,downloadAllUrl:d,schemaCards:E,schemaOrg:_=null}=n,u={attachments:r,headers:o,csid:i,inReplyTo:c,downloadAllUrl:d,schemaOrg:_};if(s.headers=o,s.inReplyTo=c,s.id=l,s.attachments=r,s.downloadAllUrl=d,s.schemaOrg=_,E){const e=E.find((e=>e.type===S.rgK.EmailMessage));e&&(u.spiceCategories=e.categories)}return{id:l,body:(0,Ca.transformSimpleBody)(a),message:s,metadata:u}},ha=(e,t=new Date)=>{if(""===e)return{};const s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())),a=new Date(e);return a.setUTCHours(23),a.setUTCMinutes(59),a.setUTCSeconds(59),{date:a.getDate(),month:a.getMonth(),dateDiff:Math.floor((a.getTime()-s.getTime())/864e5),timestamp:a.getTime()}},ga=function(e,{appId:t,simpleBodyRequestId:s,enabledVerticals:a=[]}){return{id:e,uri:`/ws/comms/falcon/f/cards/tom/gsb?appid=${t}&enableModules=${a.join(",")}`,method:"POST",payloadFromExport:`$(${s})`}},Ia=function(e,{ymreqid:t}){let s=[];try{const{cards:a,message:n}=e.response.result;return a.length&&null!=n&&n.id&&(s=a.map((e=>{var s,a;const{data:r,meta:o,vertical:i,subType:l,ttl:c}=e;if(i===S.VRv.OFFERS&&null!=r&&r.length&&null!==(s=r[0].gemini)&&void 0!==s&&null!==(a=s.ads)&&void 0!==a&&a.length){const{sku:e,gemini:{ads:s}}=r[0],{tag:a,beacon:o=""}=s[0],l=JSON.parse(a),d=o;if(l){const a=le(s[0],l),{adHeadline:r,adSummary:o,callToAction:E,adImg:_,clickUrl:u,impressionTrackingUrls:m,creativeId:S}=a;return{strings:{heading:(0,Ca.sanitizeData)(r),body:(0,Ca.sanitizeData)(o),ctaText:(0,Ca.sanitizeData)(E)},falconTOMImageUrl:(0,Ca.sanitizeData)(_),impressionTracker:m[0]||"",impressionBeacon:d,redirectUrl:u,version:S,messageId:n.id,ymreqid:t,sku:e,isPrefetched:!1,vertical:i,ttl:c}}}if(i===S.VRv.DPA&&Object.keys(r||{}).length){return{data:Object.keys(r).reduce(((e,s)=>{const{ads:a=[],additionalErrorInfo:n=""}=r[s];if(n){const{error:a="",errorCode:o}=r[s];return(0,T.apiPassiveErrorLogger)({logger:Bs.Z,apiName:"GetRelatedCards",ymreqid:t,message:a,errorCode:o,extraErrorCode:n,batchRelatedCards:!0}),e[s]=r[s],e}const o=[{ads:a.map((e=>{const{actionUrls:t={},beacon:s,tag:a,carouselAssets:n=[],rules:r,creativeId:o}=e,i=JSON.parse(a);if(i){const{headline:e="",summary:a="",secThumbnailImage:l="",secImage:c="",source:d="",callToAction:E="",clickUrl:_="",landingUrl:u="",imprTrackingUrls:m=[],ad_feedback_beacon:S="",passThroughFields:p={},secOrigImg:C="",origImg:A="",secHqImage:T="",hqImage:h=""}=i,{brand:g="",flashSaleEndTime:I="",productAdActivity:R="",productAdActivityMessage:O="",fullPrice:D="",salePrice:N=""}=p;return{pencilAd:{adHeadline:e,adSummary:a,callToAction:E,clickUrl:_,origImg:C||A,actionUrls:t,beacon:s,carouselAssets:n,rules:r,impressionTrackingUrls:m,adImg:l||c,adSource:d,landingUrl:u,creativeId:o.toString(),adFeedbackBeacon:S,imagePortrait:C||A,brand:g,productAdActivity:R,productAdActivityMessage:O,fullPrice:D,salePrice:N,flashSaleEndTime:I,hqImage:T||h}}}}))}];return e[s]=o,e}),{}),vertical:i,ttl:c}}if(i===S.VRv.COMMERCE&&Object.keys(r||{}).length){let e=[];if(l===S.W2H.AFF_PRO_OFF)e=r.map((e=>{var t,s,a,n,r,o;const i=null==e||null===(t=e.data)||void 0===t?void 0:t["@id"],{category:l,description:c="",images:d=[],originalPriceSpecification:E={},priceSpecification:_={},score:u={},url:m=""}=(null==e?void 0:e.data)||{},p=_.priceCurrency||"USD",C=Lt()(p),A=(null===(s=d[0])||void 0===s?void 0:s.url)||(null===(a=d[0])||void 0===a?void 0:a.contentUrl)||"",T=Ft(l);let h=E.price,g=_.price;return h&&(h=`${C}${null===(n=Number(h))||void 0===n?void 0:n.toFixed(2)}`),g&&(g=`${C}${null===(r=Number(g))||void 0===r?void 0:r.toFixed(2)}`),{categories:T,dealType:S.WSI.AFFILIATE_PRODUCT_OFFER,description:c,imgUrl:A,originalPrice:h,price:g,productId:i,score:(null==u||null===(o=u.scoreValue)||void 0===o?void 0:o.toString())||"0.0",url:m}}));else if(l===S.W2H.STA_OFF)e=r.map((e=>{const t=null==e?void 0:e.data,{description:s="",score:a,url:n="",validThrough:r=""}=t||{};return{cardId:e.cardId,dealLink:n,dealType:S.WSI.STATIC_DEAL,description:s,score:a,validThrough:r}}));else if(l===S.W2H.EER){var d,E,_,u,m,p,C,A,h,g;const t=null==r||null===(d=r[0])||void 0===d?void 0:d.cardConversationId,s=(null==r||null===(E=r[0])||void 0===E||null===(_=E.schemaOrg)||void 0===_||null===(u=_[0])||void 0===u||null===(m=u.schema)||void 0===m?void 0:m.identifier)||[],a=JSON.parse((null===(p=s.find((({propertyID:e})=>"extractionMeta"===e)))||void 0===p?void 0:p.value)||"[]")[0]||{};e=(null==r||null===(C=r[0])||void 0===C||null===(A=C.schemaOrg)||void 0===A||null===(h=A[0])||void 0===h||null===(g=h.schema)||void 0===g?void 0:g.recommendedItem).map((e=>{const s=e["@id"],n=e["@type"],{image:r="",name:o="",url:i=""}=e;return{cardId:s,cardConversationId:t,dealLink:i,dealType:S.WSI.PRODUCT_RECOMMENDATION_DEAL,description:o,imageUrl:r,entity:n,extractionMeta:a}}))}else e=r.map((e=>{var t,s,a;const{cardConversationId:n="",cardId:r="",decos:i=[],id:c=""}=e||{},d=null==e||null===(t=e.schemaOrg)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.schema,{category:E=[],description:_="",image:u={},url:m="",validThrough:p=""}=d||{},C=(0,Fs.m3)(i,S.Jd6.TAG),A=Ft(E),T=(null==d||null===(a=d.offerSubType)||void 0===a?void 0:a[0])||{},h=Object.keys(T).filter((e=>!e.startsWith("@"))).map((e=>{const t=T[e],s=(null==t?void 0:t.value)||(null==t?void 0:t.maxValue)||"",a=(null==t?void 0:t.currency)||"";switch(e){case S.eN2.PERCENT_OFF:if(s)return{discountType:e,hasUpToField:!!t.maxValue,value:`${s}%`};break;case S.eN2.MONEY_OFF:if(s)return{discountType:e,hasUpToField:!!t.maxValue,value:`${a}${s}`};break;case S.eN2.FREE_SHIPPING:return{discountType:e,value:t}}}));let g="";return l===S.W2H.CPN&&(null==o?void 0:o.jcds)===S.e3F.EMAIL?g=S.WSI.EXTRACTED_DEAL:l===S.W2H.CPN&&(null==o?void 0:o.jcds)===S.e3F.MAILBOX&&(g=S.WSI.INBOX_DEAL),{cardConversationId:n,cardId:r,categories:A,cmid:c,dealLink:"object"==typeof m?m.value:m,dealType:g,description:_,discountInfo:h.filter((e=>!!e)),expirationTime:ha(p),imageUrl:(null==u?void 0:u.url)||"",saved:C}}));return{data:e,vertical:i}}if(i===S.VRv.KE&&Object.keys(r||{}).length){var I,R,O,D;const{Name:e="",Image:t,IncludeAttributes:s}=r||{},a=s.find((e=>"website"===e.key));return{data:{email:(null==n||null===(I=n.headers)||void 0===I||null===(R=I.from)||void 0===R||null===(O=R[0])||void 0===O?void 0:O.email)||"",image:null==t||null===(D=t.signedImages)||void 0===D?void 0:D.simg50x50,name:e,website:a.value||""},vertical:i}}return e}))),s}catch(a){return(0,T.apiPassiveErrorLogger)({logger:Bs.Z,apiName:"GetRelatedCards",ymreqid:t,message:a.message,batchRelatedCards:!0}),s}},Ra="GetSimpleBody",Oa="GetRelatedCards",Da={getBatchPayload({id:e,mailboxId:t,messageId:s,batchRelatedCards:a,enabledVerticals:n,full:r=!0,secure:o=!1,suppressed:i=!1},{appId:l}){const c=Ra+"_"+(void 0!==e?e:s);return Object.assign({},Aa(c,{mailboxId:t,messageId:s,full:r,secure:o,suppressed:i}),a?{filters:{exportResponse:!0},requests:[ga(Oa+"_"+s,{appId:l,simpleBodyRequestId:c,enabledVerticals:n})]}:{})},transformResponses:({successMap:e={}},{batchRelatedCards:t,id:s,messageId:a,ymreqid:n})=>({simpleBodyResponse:Ta(e[Ra+"_"+(void 0!==s?s:a)]),relatedCardsResponse:t&&e[Oa+"_"+a]?Ia(e[Oa+"_"+a],{ymreqid:n}):[]}),passivelyLogAnyError(e,{batchRelatedCards:t,ymreqid:s}){const a=t&&Object.keys(e).filter((e=>0===e.indexOf(Oa)))||[];if(!a.length)return;let n="0";const r=a.reduce(((t,s)=>{const a=e[s];return n=a.httpCode||"0",t.push(`${s}:${n}`),t}),[]).join(",")||"0";let o="0";const i=a.reduce(((t,s)=>{const a=e[s];return o=(0,g.u9)(a,"response.error.code","0"),t.push(`${s}:${o}`),t}),[]).join(",")||"0";(0,T.apiPassiveErrorLogger)({logger:Bs.Z,apiName:Oa,statusCode:n,errorCode:o,extraStatusCode:r,extraErrorCode:i,ymreqid:s,message:A.xj,batchRelatedCards:t})}},Na="GetFolders",fa="GetAccounts",Ma="GetMessage",La={getBatchPayload:({messageId:e,mailboxId:t,attributesToFetch:s={},batchRelatedCards:a=!1,enabledVerticals:n},{appName:r,appId:o})=>{const i=o&&o.includes(S.L1J)?S.El5:S.$It,l=r===S.BQZ.MOBILE_APP?i:{...S.CuF,...s};return{requests:[pa.getBlockPayload(Ma,{mailboxId:t,messageId:e}),Da.getBatchPayload({mailboxId:t,messageId:e,full:!0,batchRelatedCards:a,enabledVerticals:n},{appId:o}),os(Na,{mailboxId:t}),na(fa,{mailboxId:t})].concat(la.getBatchPayload({mailboxId:t,attributes:l}).requests)}},transformResponses:({successMap:e,failureMap:t},{appName:s,appId:a,attributesToFetch:n={},messageId:r,batchRelatedCards:o,ymreqid:i})=>{const l={},{simpleBodyResponse:c,relatedCardsResponse:d}=Da.transformResponses({successMap:e},{batchRelatedCards:o,messageId:r,ymreqid:i}),{id:E,body:_,metadata:u}=c,m=a&&a.includes(S.L1J)?S.El5:S.$It,p=s===S.BQZ.MOBILE_APP?m:{...S.CuF,...n},C=la.transformResponses({successMap:e},{attributes:p}),A=Object.assign(pa.transformResponse(e[Ma]),{attachments:u.attachments});return d.length&&(l[r]=d),Da.passivelyLogAnyError(t,{batchRelatedCards:o,ymreqid:i}),{folders:is(e[Na],{appId:a}),accounts:ra(e[fa]),message:A,messageBodiesMap:{[E]:_},messageMetadataMap:{[E]:u},mailboxAttributes:C,relatedCardsMap:l}}};function Pa(e,{mailboxId:t,csid:s}){let a=encodeURIComponent(`csid:${s} folderType:DRAFT`);return a+=`${Fs.L_}-sort${Fs.cF}date`,{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${a}`,method:"GET"}}const ya="GetFolders",ba="GetAccounts",Fa="GetSimpleBody",Ua="GetMessageByCsid",va={getBatchPayload:function({csid:e,mailboxId:t,isMailPlusUser:s},{appName:a,appId:n}){const r=Object.assign({},S.CuF,S.zkc,s?S.UHK:{}),o=n&&n.includes(S.L1J)?S.El5:S.$It;return{requests:[Object.assign({},Pa(Ua,{mailboxId:t,csid:e}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[Aa(Fa,{mailboxId:t,messageId:"$(messageId)",full:!0,secure:!1})]}),os(ya,{mailboxId:t}),na(ba,{mailboxId:t})].concat(la.getBatchPayload({mailboxId:t,attributes:a===S.BQZ.MOBILE_APP?o:r}).requests)}},transformResponses:function({successMap:e},{appName:t,appId:s,isMailPlusUser:a}){const n=Object.assign({},S.CuF,S.zkc,a?S.UHK:{}),r=s&&s.includes(S.L1J)?S.El5:S.$It,o={mailboxAttributes:la.transformResponses({successMap:e},{attributes:t===S.BQZ.MOBILE_APP?r:n}),folders:is(e[ya],{appId:s}),accounts:ra(e[ba])};if(e[Fa]){const{id:t,body:s,message:a,metadata:n}=Ta(e[Fa]);Object.assign(o,{message:a,messageBodiesMap:{[t]:s},messageMetadataMap:{[t]:n}})}return o},getBatchError:function({successMap:e,failureMap:t}){const s=la.updateFailureMap(t),a=new Rs.Z("MailApiClient.LaunchCompose",s);if(s[Ua])return a;let n=0;const r=e[Ua];r&&(n=r.response.result.messages.length);if(s[Fa]&&n>0)return a;if(s[ya]||s[ba])return a;return null}};const wa={getBlockPayload(e,{mailboxId:t,messageGroupId:s,isConversation:a,excludeFolderTypes:n=[]}){(0,m.Z)(t,"mailboxId is a required field"),(0,m.Z)(s,"messageGroupId is required");const r=encodeURIComponent(s);let o=a?`conversationId:(${r})`:`id:(${r})`;return o+=n.length?Fs.L_+encodeURIComponent(n.map((e=>`-folderType:(${e})`)).join("")):"",{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${o}`,method:"GET",payloadType:"embedded"}},transformResponse(e,t){const s=e.response.result.messages,{isConversation:a}=t,n=s.map((e=>Us(e))).reverse();return{messageGroup:{id:a?n[0].conversationId:n[0].id,messages:n}}}},Ga="GetFolders",ka="GetConversationMessageGroup",Ha="GetAccounts",Ba="GetMessage",xa="GetMessageGroupList",Va="OnEmpty",Wa="GetRelatedCards",Za="OnEmpty",Ka="OnFailure",za={getBatchPayload:({isConversation:e,messageGroupId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:l,excludeFolderTypes:c=[],secure:d=!1,mailboxId:E,attributesToFetch:_={},batchRelatedCards:u=!1,enabledVerticals:m},{appName:p,appId:C})=>{const A=[],T=((e,t,s,r)=>o=>({...na(Ha,{mailboxId:r}),id:Ha+o,filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[{...os(Ga,{mailboxId:r}),filters:{iterator:`$..folders[?((@.id==${e} && ${e} in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && ${e} nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},id:Ga+o,requests:[{...(t?n:a).getBlockPayload(xa,{mailboxId:r,folderId:"$(folderId)",...s}),id:xa+o}]}]}))(s,e,{sortOrder:i,filter:l,count:r,offset:o,excludeFolderTypes:c=Js()([...c,...Fs.z_])},E),h=C&&C.includes(S.L1J)?S.El5:S.$It,g=p===S.BQZ.MOBILE_APP?h:{...S.CuF,..._};return e?(A.push(Object.assign({},wa.getBlockPayload(ka,{mailboxId:E,messageGroupId:t,isConversation:e,excludeFolderTypes:c}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"},exportResponse:!0},suppressResponse:!1,requests:[Da.getBatchPayload({mailboxId:E,messageId:"$(id)",full:!0,secure:d},{appId:C})]},{onEmpty:{id:Va,suppressResponse:!1,applyFilterOn:`$(${ka})`,requests:[T(Za)]},onFailure:T(Ka)})),u&&A.push(Object.assign({},wa.getBlockPayload("GetConversationMessageGroupForTOM",{mailboxId:E,messageGroupId:t,isConversation:e,excludeFolderTypes:c}),{filters:{iterator:"$..messages[0]",select:{id:"$.id"}},suppressResponse:!0,requests:[Da.getBatchPayload({mailboxId:E,messageId:"$(id)",id:"TOM",full:!0,secure:d,batchRelatedCards:u,suppressed:!0,enabledVerticals:m},{appId:C})]}))):(A.push(Object.assign({},pa.getBlockPayload(Ba,{mailboxId:E,messageId:t}),{onFailure:T(Ka)})),A.push(Object.assign({},Da.getBatchPayload({mailboxId:E,messageId:t,full:!0,secure:d,batchRelatedCards:u,enabledVerticals:m},{appId:C})))),{requests:[...A,os(Ga,{mailboxId:E}),na(Ha,{mailboxId:E})].concat(la.getBatchPayload({mailboxId:E,attributes:g}).requests)}},transformResponses:({successMap:e,failureMap:t},s)=>{const{isConversation:r,messageGroupId:o,offset:i,count:l,appName:c,appId:d,attributesToFetch:E={},batchRelatedCards:_,ymreqid:u}=s,m=d&&d.includes(S.L1J)?S.El5:S.$It,p=c===S.BQZ.MOBILE_APP?m:{...S.CuF,...E},C=la.transformResponses({successMap:e},{attributes:p}),T={folders:is(e[Ga],{appId:d}),accounts:ra(e[Ha]),mailboxAttributes:C},h=r?n:a,g=e[xa+Za]||e[xa+Ka];if(g){const e=i+l,{response:{result:{query:s}}}=g,a=(0,Fs.jZ)(s),n=h.transformResponse(g,e,a),{messageGroups:r,hasMore:o}=n;return{...T,messageGroupList:r,hasMoreItems:o,folderId:a,error:new Rs.Z(A.dO,t)}}const I=r?(e=>wa.transformResponse(e[ka],{isConversation:!0}).messageGroup)(e):((e,t)=>({id:t,messages:[pa.transformResponse(e[Ba])]}))(e,o),R={},O={},D={};return I.messages.forEach((t=>{const{simpleBodyResponse:s,relatedCardsResponse:a}=Da.transformResponses({successMap:e},{batchRelatedCards:_,messageId:t.id,ymreqid:u});R[t.id]=s.body,O[t.id]=s.metadata,a.length&&!D[o]&&(D[o]=a)})),Da.passivelyLogAnyError(t,{batchRelatedCards:_,ymreqid:u}),{...T,messageGroups:[I],messageBodiesMap:R,messageMetadataMap:O,relatedCardsMap:D}},getBatchError:({failureMap:e},{isConversation:t})=>{const s=la.updateFailureMap(e);if(0===Object.keys(s).length)return null;if(!Object.values(s).filter((e=>!e.id.startsWith(Wa+"_"))).length)return null;const a=t?s[ka]:s[Ba];if(a&&a.response&&a.response.error){const{response:{error:{code:e}}}=a;if(["EC-4001","ET-5005","ET-5006"].indexOf(e)>=0)return(0,T.apiPassiveErrorLogger)({logger:Bs.Z,apiName:a.id,statusCode:a.httpCode,errorCode:e,message:"failed to load provided message/conversation id"}),null}return new Rs.Z(A.dO,s)}},qa=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts`,method:"GET"}),Ya=e=>{if(!e)return[];const t=e.response.result.alerts;let s=[];return Array.isArray(t)&&(s=t.map((e=>({id:e.id,accountId:e.accountId,type:e.type,state:e.state,data:e.data})))),s},ja=e=>{if(e){const{id:t,httpCode:s,response:a}=e,n={apiName:t,errorCode:a&&a.error&&a.error.code,httpCode:s};Bs.Z.feature(S.BrN.MailAPIClient,{data:n}).logFailure()}return null},Qa="UnseenCountReset",Xa="GetAccountAlerts",Ja="GetMessagesByGroup",$a="GetAutoForwardAllowedAttribute",en="GetDisabledMsgReadCardsAttribute",tn="GetNudgeToReplyAttribute",sn={getBatchPayload({accountId:e,mailboxId:t,cardConversationId:s="",fetchAutoForwardAttribute:a=!1,fetchMsgReadCardsAttribute:n=!1,fetchNudgeToReplyAttribute:r=!1}){const o={requests:[xs(Qa,{mailboxId:t,accountId:e}),qa(Xa,{mailboxId:t})]};return n&&o.requests.push(oa.Z.getBlockPayload(en,{mailboxId:t,attributeId:S.CbW.DISABLED_MESSAGE_READ_CARDS})),a&&o.requests.push(oa.Z.getBlockPayload($a,{mailboxId:t,attributeId:S.CbW.AUTO_FORWARD_ALLOWED})),r&&o.requests.push(oa.Z.getBlockPayload(tn,{mailboxId:t,attributeId:S.CbW.NUDGE_TO_REPLY})),s&&o.requests.push(ws(Ja,{mailboxId:t,offset:0,count:50,cardConversationIds:[s],encodeCardConversationId:!1})),o},transformResponses({successMap:e}){const t={accountAlerts:Ya(e[Xa])};if(e[Ja]){const s=Gs(e[Ja]).messageGroups.filter((e=>e.messages.some((e=>e.decos&&e.decos.some((e=>e&&e.id===S.Jd6.CRD)))))).map((e=>({...e,id:e.messages[0].cardConversationId})));t.cardGroupList=s}return e[$a]&&(t.mailboxAttributes={...t.mailboxAttributes,...oa.Z.transformResponse(e[$a])}),e[tn]&&(t.mailboxAttributes={...t.mailboxAttributes,...oa.Z.transformResponse(e[tn])}),e[en]&&(t.mailboxAttributes={...t.mailboxAttributes,...oa.Z.transformResponse(e[en])}),t},getBatchError:({failureMap:e})=>{const t=e[Qa],s=e[Xa],a=e[Ja];return t&&Vs(t),s&&ja(s),a?new Rs.Z(A.ps,e):null}},an="GetConversationMessageGroup",nn="GetMessagesByGroup",rn={getBatchPayload:({messageGroupId:e,mailboxId:t,isConversation:s,secure:a,full:n,cardConversationIds:r,batchRelatedCards:o=!1,enabledVerticals:i},{appId:l})=>{const c=[];return c.push(Object.assign({},wa.getBlockPayload(an,{mailboxId:t,messageGroupId:e,isConversation:s}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"}},requests:[Da.getBatchPayload({mailboxId:t,messageId:"$(id)",full:n,secure:a},{appId:l})]})),o&&c.push(Object.assign({},wa.getBlockPayload("GetConversationMessageGroupForTOM",{mailboxId:t,messageGroupId:e,isConversation:s}),{filters:{iterator:"$..messages[0]",select:{id:"$.id"}},suppressResponse:!0,requests:[Da.getBatchPayload({mailboxId:t,messageId:"$(id)",id:"TOM",full:n,secure:a,batchRelatedCards:o,suppressed:!0,enabledVerticals:i},{appId:l})]})),r&&r.length>0&&c.push(Object.assign({},ws(nn,{mailboxId:t,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:r}))),{requests:c}},transformResponses:({successMap:e,failureMap:t},{isConversation:s,batchRelatedCards:a,ymreqid:n,messageGroupId:r})=>{const o={},i={};let l;const c=wa.transformResponse(e[an],{isConversation:s}).messageGroup;return c.messages.forEach((t=>{const{simpleBodyResponse:s,relatedCardsResponse:l}=Da.transformResponses({successMap:e},{batchRelatedCards:a,messageId:t.id,ymreqid:n});o[t.id]=s.body,Object.assign(t.headers,s.metadata.headers),t.attachments=s.message.attachments||[],l.length&&!i[r]&&(i[r]=l)})),Da.passivelyLogAnyError(t,{batchRelatedCards:a,ymreqid:n}),Object.keys(e).forEach((t=>{if(-1!==t.indexOf(nn)){const s=Gs(e[t]).messageGroups.filter((e=>{const[t={decos:[]}]=e.messages,s=t.decos.map((e=>e.id)).filter((e=>"CPN"===e||"CRD"===e));return t&&s.length>=2})).map((e=>({...e,id:e.messages[0].cardConversationId})));l={[S.F6k.COUPON_CARDS]:{[S.ukn.ALL_COUPON_CARDS]:{items:s}}}}})),{messageGroup:c,messageBodiesMap:o,response:l,relatedCardsMap:i}}},on="GetMessageCardsList",ln={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:a,sortOrder:r,startCardDate:o,endCardDate:i,accountId:l,excludeFolderTypes:c})=>({requests:[n.getBlockPayload(on,{mailboxId:e,count:s,offset:a,filter:t,sortOrder:r,startCardDate:o,endCardDate:i,accountId:l,excludeFolderTypes:c,groupBy:"cardConversationId"})]}),transformResponses({successMap:e},t){const{offset:s,count:a}=t,n=Hs(e[on]),{messageGroups:r,hasMore:o}=n;return{cardGroupList:r.filter((({messages:e})=>e.some((({decos:e=[]})=>e.some((({id:e})=>"EML"===e)))))),hasMoreItems:o}}},cn="GetParentMessageByGroup",dn={getBatchPayload:({mailboxId:e,cardConversationId:t=""})=>{let s;return""!==t&&(s=ws(cn,{mailboxId:e,offset:0,count:1,cardConversationIds:[t]})),{requests:[s]}},transformResponses:e=>{const{successMap:t}=e;return t.GetParentMessageByGroup?t.GetParentMessageByGroup.response.result.messages.filter((({decos:e=[]}={})=>e.some((({id:e=""})=>e===S.Jd6.EML)))).map((({id:e,...t})=>({id:e,messages:[{id:e,...t}]}))):[]}},En="GetConsolidatedCouponsList",_n={getBatchPayload:({mailboxId:e,filter:t=[],count:s,offset:a=[],sortOrder:n=S.nMQ,startCardDate:r,endCardDate:o,accountId:i})=>({requests:t.map(((t,l)=>ws(`${En}_${t}`,{mailboxId:e,count:s,offset:a[l],filter:t,sortOrder:n,startCardDate:r,endCardDate:o,accountId:i})))}),transformResponses:({successMap:e},t)=>{const{offset:s,count:a,filter:n}=t,r=[];return Object.keys(e).forEach((t=>{if(-1!==t.indexOf(En)){const o=Gs(e[t]),{messageGroups:i}=o,l=t.replace(`${En}_`,""),c=n.indexOf(l),d=s[c],E=i.length===a,_=i.length<a?d+i.length:d+a,u=i.filter((({messages:[{headers:{subject:e="",from:[{email:t,name:s}={}]=[]}={}}={}]=[]}={})=>e&&t&&s));r.push({cardGroupList:u,hasMoreItems:E,filter:l,offset:E?_:""})}})),{messageGroupsResponses:r}}},un="GetReceiptsList",mn={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:a,sortOrder:n=S.Asd.CARD_DATE_DESC,accountId:r})=>({requests:ws(un,{mailboxId:e,count:s,offset:a,filter:t,sortOrder:n,accountId:r})}),transformResponses:({successMap:e},t)=>{const{count:s,offset:a}=t,n=Gs(e[un]),r=n.messageGroups.length<s?a+n.messageGroups.length:a+s,{messageGroups:o}=n,i=n.messageGroups.filter((({messages:[{headers:{from:[{email:e,name:t}={}]=[]}={}}={}]=[]}={})=>e&&t)),l=o.length===s;return{cardGroupList:i,hasMoreItems:l,offset:l?r:""}}},Sn="GetMessageGroupList",pn={getBatchPayload:({accountId:e,mailboxId:t,ids:s=[]})=>({requests:[ws(Sn,{accountId:e,mailboxId:t,ids:s,count:s.length,offset:0})]}),transformResponses:(e,t)=>ea.transformResponses(e,t),getBatchError:({failureMap:e})=>Object.keys(e).length?new Rs.Z(A.ps,e):null},Cn={getNakedRequestUrl:(e,t)=>`${(0,Fs.ow)(e)}://${e}/ws/v3/mailboxes/?${_.stringify(t)}`,getBlockPayload:e=>({id:e,uri:"/ws/v3/mailboxes",method:"GET",payloadType:"embedded"}),getMailboxFilters:()=>({select:{mailboxId:"$..mailboxes[?(@.isSelected==true)].id"}}),transformResponse:e=>e.response.result.mailboxes.map(An),getExtendedResponse:e=>{const{mailboxes:t,guid:s,shardId:a}=e.response.result;return{mailboxes:t.map(An),guid:s,shardId:a}}};function An(e){return{id:e.id,email:e.email,isPrimary:e.isPrimary,isSelected:e.isSelected,type:e.type,state:e.state}}const Tn="GetMailboxes",hn={getBatchPayload:()=>({requests:[Cn.getBlockPayload(Tn)]}),transformResponses:({successMap:e})=>Cn.transformResponse(e[Tn])},gn="GetFolders",In={getBatchPayload:({mailboxId:e})=>({requests:os(gn,{mailboxId:e})}),transformResponses:({successMap:e},{appId:t})=>({folders:is(e[gn],{appId:t})})},Rn=(e,t)=>{const{accountId:s,mailboxId:a,folderId:n}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/accounts/@.id==${s}/syncnow`,method:"POST",payload:n?{folder:{id:n}}:{}}},On=e=>{if(e){const{id:t,httpCode:s,response:a}=e,n={apiName:t,errorCode:a&&a.error&&a.error.code,httpCode:s};Bs.Z.feature(S.BrN.MailAPIClient,{data:n}).logFailure()}return null},Dn=e=>e.response.result,Nn="SyncNow",fn={getBatchPayload:({accountId:e,folderId:t,mailboxId:s})=>({requests:[Rn(Nn,{accountId:e,folderId:t,mailboxId:s})]}),getBatchError:({failureMap:e})=>{const t=e[Nn];return t?On(t):null},transformResponses({successMap:e,failureMap:t}){let s={};const a=e[Nn];return a?s=Dn(a):s.error=new Rs.Z(A.dO,t),s}},Mn="GetMailboxes",Ln="GetAccounts",Pn={getBatchPayload:()=>({requests:[Object.assign({},Cn.getBlockPayload(Mn),{filters:Cn.getMailboxFilters(),requests:[{...na(Ln,{mailboxId:"$(mailboxId)"})}]})]}),transformResponses:({successMap:e})=>({accounts:ra(e[Ln])})},yn="GetMailboxes",bn="GetMessage",Fn={getBatchPayload:({messageId:e})=>({requests:[Object.assign({},Cn.getBlockPayload(yn),{filters:Cn.getMailboxFilters(),requests:[pa.getBlockPayload(bn,{mailboxId:"$(mailboxId)",messageId:e})]})]}),transformResponses:({successMap:e})=>({message:pa.transformResponse(e[bn])})},Un="GetMessagesByGroup",vn={getBatchPayload:({mailboxId:e,cardConversationIds:t=[],offset:s=0,count:a=200})=>{let n;if(t.length>0){n=ws(Un+"_0",{mailboxId:e,offset:s,count:a,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:t})}return{requests:[n]}},transformResponses:e=>{const{successMap:t}=e;let s=[];return Object.keys(t).forEach((e=>{-1!==e.indexOf("GetMessagesByGroup")&&(s=t[e].response.result.messages)})),{result:{extractedMessagesList:s}}}},wn="GetSimpleBody",Gn="GetMessageByCsid",kn="GetRelatedCards",Hn={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:a=[],full:n,secure:r,batchRelatedCards:o=!1,messagIdsToFetchCards:i=[],suppressed:l=!1,enabledVerticals:c},{appId:d})=>{const E=t.map(((t,s)=>Da.getBatchPayload({id:s,mailboxId:e,messageId:t,full:n,secure:r,batchRelatedCards:o&&-1!==i.indexOf(t),suppressed:l,enabledVerticals:c},{appId:d}))),_=s.map(((s,a)=>{const n=wn+"_"+(a+t.length);return Aa(n,{mailboxId:e,messageId:s,full:!0,secure:!1})})),u=a.map(((a,n)=>{const r=Gn+"_"+(n+t.length+s.length),o=wn+"_"+(n+t.length+s.length);return Object.assign({},Pa(r,{mailboxId:e,csid:a}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[Aa(o,{mailboxId:e,messageId:"$(messageId)",full:!0,secure:!1})]})}));return{requests:E.concat(_,u)}},transformResponses:(e,t)=>{const{messageIds:s=[],draftMessageIds:a=[],draftMessageCsids:n=[],batchRelatedCards:r,ymreqid:o}=t,{successMap:i,failureMap:l={}}=e,c={},d={},E={},_=[],u=s.concat(a,n),m={},S=[];return u.forEach((e=>{m[e]=!1})),Object.keys(i).forEach((e=>{if(0===e.indexOf(wn)){const t=Ta(i[e]);c[t.id]=t.body,d[t.id]=t.metadata,m[t.id]=!0,_.push({id:t.id,messages:[t.message]}),t.metadata.csid&&(m[t.metadata.csid]=!0)}else if(r&&0===e.indexOf(kn)){const t=Ia(i[e],{ymreqid:o}),s=/^GetRelatedCards_(.*)$/.exec(e);s&&(E[s[1]]=t)}})),u.forEach((e=>{m[e]||S.push(e)})),Da.passivelyLogAnyError(l,{batchRelatedCards:r,ymreqid:o}),{result:{messageBodiesMap:c,messageMetadataMap:d,messageGroups:_,relatedCardsMap:E},error:{messageIds:S}}},getBatchError:({failureMap:e={}},{messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:a=[]})=>{const n=Object.values(e).filter((e=>!e.id.startsWith(kn+"_")));return n.length?n.length!==t.concat(s,a).length?null:new Rs.Z("All requests in method `getBodies` failed",e):null}},Bn={getBatchPayload:({mailboxId:e,csid:t,full:s,secure:a})=>Hn.getBatchPayload({mailboxId:e,draftMessageCsids:[t],full:s,secure:a}),transformResponses:(e,{csid:t})=>{const{result:{messageBodiesMap:s,messageMetadataMap:a,messageGroups:n}}=Hn.transformResponses(e,{draftMessageCsids:[t]});return{messageBodiesMap:s,messageMetadataMap:a,messageGroup:n[0]}},getBatchError:(e,{csid:t})=>{const{error:s}=Hn.transformResponses(e,{draftMessageCsids:[t]});return s.messageIds.length?new Rs.Z("Request for csid failed",e.failureMap):null}},xn="GetSimpleBody",Vn="GetMessagesByGroup",Wn="GetRelatedCards",Zn={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],cardConversationIds:a=[],full:n,secure:r,batchRelatedCards:o=!1,enabledVerticals:i},{appId:l})=>{const c=t.map(((t,s)=>Da.getBatchPayload({id:s,mailboxId:e,messageId:t,full:n,secure:r,batchRelatedCards:o,enabledVerticals:i},{appId:l}))),d=s.map(((s,a)=>{const n=xn+"_"+(a+t.length);return Aa(n,{mailboxId:e,messageId:s,full:!0,secure:!1})})),E=[];if(a.length>0){const t=ws(Vn+"_0",{mailboxId:e,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:a});E.push(t)}return{requests:c.concat(d).concat(E)}},transformResponses:(e,{messageIds:t=[],draftMessageIds:s=[],batchRelatedCards:a,ymreqid:n})=>{const{successMap:r,failureMap:o={}}=e,i={},l={},c={},d=t.concat(s);let E=[];const _={},u=[];d.forEach((e=>{_[e]=!1})),Object.keys(r).forEach((e=>{if(-1!==e.indexOf("GetSimpleBody")){const t=Ta(r[e]);i[t.id]=t.body,l[t.id]=t.metadata,_[t.id]=!0}else if(-1!==e.indexOf("GetMessagesByGroup")){const t=Gs(r[e]);E=t.messageGroups}else if(a&&-1!==e.indexOf(Wn)){const t=Ia(r[e],{ymreqid:n}),s=/^GetRelatedCards_(.*)$/.exec(e);s&&(c[s[1]]=t)}})),Da.passivelyLogAnyError(o,{batchRelatedCards:a,ymreqid:n});const m=E.filter((e=>{const[t={decos:[]}]=e.messages,s=t.decos.map((e=>e.id)).filter((e=>"CPN"===e||"CRD"===e));return t&&s.length>=2})).map((e=>({...e,id:e.messages[0].cardConversationId})));d.forEach((e=>{_[e]||u.push(e)}));const p=E.filter((e=>{const[t={decos:[]}]=e.messages,s=t.decos.filter((({id:e=""})=>"POE"===e||"ORD"===e||"CRD"===e));return t&&s.length>=3})).map((e=>({...e,id:e.messages[0].cardConversationId}))),C=E.filter((e=>{const[t={decos:[]}]=e.messages,s=t.decos.filter((({id:e=""})=>"ORD"===e||"CRD"===e));return t&&s.length>=2})).map((e=>({...e,id:e.messages[0].cardConversationId}))),A=E.filter((e=>{const[t={schemaCards:[]}]=e.messages,s=t.schemaCards&&t.schemaCards.filter((({type:e=""})=>"Recommendation"===e));return t&&s&&s.length>0})).map((e=>({...e,id:e.messages[0].cardConversationId}))),T=E.filter((e=>{const[t={decos:[]}]=e.messages,s=t.decos.map((e=>e.id)).filter((e=>"PKG"===e));return t&&s.length>0})).map((e=>({...e,id:e.messages[0].cardConversationId})));return{result:{messageBodiesMap:i,messageMetadataMap:l,relatedCardsMap:c,response:{[S.F6k.COUPON_CARDS]:{[S.ukn.ALL_COUPON_CARDS]:{items:m}},[S.F6k.REFUND_CARDS]:{[S.ukn.ALL_REFUND_CARDS]:{items:p}},[S.F6k.RECEIPT_CARDS]:{[S.ukn.ALL_RECEIPT_CARDS]:{items:C}},[S.F6k.RECOMMENDATION_CARDS]:{[S.ukn.ALL_DEAL_RECOMMENDATION_CARDS]:{items:A}},[S.F6k.PKG_TRACKING_CARD]:{[S.ukn.ALL_PKG_TRACKING_CARD]:{items:T}}}},error:{messageIds:u}}},getBatchError:({failureMap:e={}},{messageIds:t=[],draftMessageIds:s=[],cardConversationIds:a=[]})=>{const n=Object.values(e).filter((e=>!e.id.startsWith(Wn+"_")));return n.length?n.length!==t.concat(s).concat(a).length?null:new Rs.Z("All requests in method `getExtractedBodies` failed",e):null}};var Kn=s(19822),zn=s(99691);const qn={spam:"false",read:"true"},Yn={getBlockPayload:(e,{mailboxId:t,csid:s,inReplyTo:a,subject:n,to:r,cc:o,bcc:i,from:l,replyTo:c,html:d,text:E,attachments:_=[],files:u=[],folderId:m})=>{const p={partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{csid:s,newMessage:!a,headers:{subject:n,from:l,replyTo:c||l,to:Xn(r),cc:Xn(o),bcc:Xn(i)},folder:{id:m},flags:qn,inReplyTo:a},simpleBody:{attachments:Qn(_.filter((({disposition:e,type:t,contentId:s})=>!(!s&&e===S.sSc.Dispositions.INLINE&&t===S.sSc.Types.TEXT))))}}};return d?p.payload.simpleBody.html=d:p.payload.simpleBody.text=E,p.inReplyTo||delete p.inReplyTo,{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages?uploadCount=${u.length}&totalAttachments=${_.length}`,method:"POST",payloadType:"multipart",payloadParts:[p].concat(jn(u))}},transformResponse({response:e}){const t=(0,Ca.transformSimpleBody)(e.result.simpleBody),s=Us(e.result.message);return s.attachments=(0,zn.fA)(s,s.attachments,!1),{message:s,simpleBody:E()(t,"attachments")}}};function jn(e){return e.map((({mimeType:e,name:t})=>({contentType:e,partName:encodeURIComponent(t),payloadReference:`multipart://${encodeURIComponent(t)}`})))}function Qn(e){return e.map((({contentId:e,filename:t,disposition:s,messageReference:a})=>{const n={disposition:s,contentId:e};return a?n.messageReference=a:n.multipartName=`multipart://${encodeURIComponent(t)}`,n}))}function Xn(e){return(e=(0,Kn.makeArray)(e)).map((function(e){return"string"==typeof e.email&&(e.email=e.email.trim()),e})).filter((function(e){return(0,Ca.isValidEmail)(e.email)}))}const Jn="SaveMessage",$n={getBatchPayload:e=>({requests:[Object.assign(Yn.getBlockPayload(Jn,e),{filters:{select:{cid:"$..message.conversationId"}}})]}),transformResponses:({successMap:e},t)=>{const s=e[Jn],{message:a,simpleBody:n}=Yn.transformResponse(s,t);return{message:a,simpleBody:n}},getBatchError({successMap:e,failureMap:t}){const s=e[Jn];if(s){if("ES-2001"===(0,g.u9)(s,"response.error.code",null))return new Rs.Z("MailApiClient.Save",Object.keys(e).reduce(((t,s)=>{const{httpCode:a,response:n}=e[s],{error:r={}}=n;return{...t,[s]:{httpCode:a,response:{error:r}}}}),{}),!1)}return Object.keys(t).length>0?new Rs.Z("MailApiClient.Save",t):null}},er=(e,{mailboxId:t,messageId:s,csid:a,folderId:n})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/send`,method:"POST",payloadType:"embedded",payload:{csid:a,destinationFolder:{id:n}}}),tr=({response:e})=>e.result.message,sr="SaveMessage",ar="SendMessage",nr="GetSimpleBody",rr="UpdateMessages",or={getBatchPayload:e=>{const{mailboxId:t,sentFolderId:s,secure:a,inReplyTo:n={},messageId:r,csid:o}=e,{messageReference:{id:i}={},replied:l,forwarded:c}=n,d=r&&o,E=er(ar,d?{mailboxId:t,messageId:r,csid:o,folderId:s}:{mailboxId:t,folderId:s,messageId:"$(messageId)",csid:"$(csid)"});return E.requests=[],(l||c)&&E.requests.push(Ls.getBlockPayload(rr,{mailboxId:t,messageIds:[i],flags:{answered:!!l,forwarded:!!c},isAsync:!0})),d?{requests:[E]}:{requests:[Object.assign(Yn.getBlockPayload(sr,e),{filters:{select:{messageId:"$..message.immutableid",csid:"$..message.csid",cid:"$..message.conversationId"}},requests:[Aa(nr,{mailboxId:t,messageId:"$(messageId)",secure:a,full:!0}),E]})]}},transformResponses:({successMap:e},t={})=>{const s=e[nr],a=e[ar];if(!s)return{message:tr(a)};const{body:n,message:r}=Ta(s),o=e[sr],i=o?Yn.transformResponse(o,t).message:r;if(e[ar]){const s=tr(e[ar],t);i.id=s.id}return{message:i,simpleBody:n}},getBatchError:({failureMap:e,successMap:t})=>{const s=t[sr];if(!Object.keys(e).length&&Object.keys(t).length){if(s){if("ES-2001"===(0,g.u9)(s,"response.error.code",null))return new Rs.Z("MailApiClient.SaveAndSend",Object.keys(t).reduce(((e,s)=>{const{httpCode:a,response:n={}}=t[s],{error:r={}}=n;return{...e,[s]:{httpCode:a,response:{error:r}}}}),{}),!1)}return null}if(s){const t=(0,g.u9)(s,"response.result.message",null);if(t&&"C"===t.spame)return null;if(t&&"N"===t.spame&&e[ar])return new Rs.Z("MailApiClient.SaveAndSend",e,!1,{spame:!0})}return new Rs.Z("MailApiClient.SaveAndSend",e)}},ir=(e,t)=>{const{messageId:s,mailboxId:a,decos:n}=t;if((0,g.xb)(n)||!s)throw new Error("POST Update Message decos requires a list of non empty messageId and deco attributes.");return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/messages/@.id==${s}`,method:"POST",payload:{message:{decos:n}}}},lr="UpdateMessageDecos",cr={getBatchPayload:({mailboxId:e,messageDecosPayloads:t=[]})=>({requests:t.map(((t,s)=>{const a=lr+"_"+s,{messageId:n,decos:r}=t;return ir(a,{mailboxId:e,messageId:n,decos:r})}))}),getBatchError:({successMap:e,failureMap:t})=>Object.keys(e).length?null:new Rs.Z("All requests in method `messages.updateDecos` failed.",t),transformResponses:()=>1},dr=["sendercompromised","answered","forwarded","notmymail","phished","spam","flagged","read","recent"];class Er{constructor(){this.payload={message:{}}}flag(e,t){(0,m.Z)(dr.indexOf(e)>=0,"name must be a valid flag"),this.payload.message.flags||(this.payload.message.flags={}),this.payload.message.flags[e]=t}folder(e){this.payload.message.folder||(this.payload.message.folder={}),this.payload.message.folder.id=e}}const _r={UnifiedUpdateMessage:"UnifiedUpdateMessage",UnifiedDeleteMessage:"UnifiedDeleteMessage"};function ur(e){const t={},s=e.some((e=>Boolean(e.messageQuery&&e.isBatch)));e=e.filter((e=>!s||Boolean(e.messageQuery)));for(const a of e){const{messageId:e,folder:s,accountId:n,flags:r,permanentDelete:o,updateTypes:i,messageQuery:l,deleteDuplicates:c}=a,d=o?{permanentDelete:!0}:new Er;if(o)(0,m.Z)(i.indexOf(S.oc$.DELETE)>=0||i.indexOf(S.oc$.MOVE)>=0,"updateTypes DELETE or MOVE is required for permanentDelete");else for(const t of i)switch(t){case S.oc$.READ:(0,m.Z)(void 0!==r.read,`flags.read is required for operation ${t}`),d.flag("read",r.read);break;case S.oc$.RECENT:(0,m.Z)(void 0!==r.recent,`flags.recent is required for operation ${t}`),d.flag("recent",r.recent);break;case S.oc$.STAR:(0,m.Z)(void 0!==r.flagged,`flags.flagged is required for operation ${t}`),d.flag("flagged",r.flagged);break;case S.oc$.ANSWER:(0,m.Z)(void 0!==r.answered,`flags.answered is required for operation ${t}`),d.flag("answered",r.answered);break;case S.oc$.FORWARD:(0,m.Z)(void 0!==r.forwarded,`flags.forwarded is required for operation ${t}`),d.flag("forwarded",r.forwarded);break;case S.oc$.SPAM:case S.oc$.HAM:d.flag("spam",!!r.spam),s&&d.folder(s.id);break;case S.oc$.MOVE:case S.oc$.DELETE:s&&d.folder(s.id)}const E=(0,Ca.getHash)(d,n,l,c);t[E]?t[E].messages.push(e):t[E]={payload:o?void 0:d.payload,...e&&!l&&{messages:[e]},messageQuery:l,batchId:o?_r.UnifiedDeleteMessage:_r.UnifiedUpdateMessage,getBlockPayload:o?Os.getBlockPayload:Ls.getBlockPayload,deleteDuplicates:c}}return(0,g.VO)(t)}function mr(e){const t=[e=>e.batchId===_r.UnifiedDeleteMessage?0:1,e=>e.messageQuery?1:0,e=>e.messageQuery?0:e.messages.length];e.sort((function(e,s){for(let a=0;a<t.length;a++){const n=t[a],r=n(e)-n(s);if(0!==r)return r}return 0}))}function Sr(e,t=350){const s=[];for(let a=0;a<e.length;a++){const n=e[a];n.messages&&!n.messageQuery&&(n.messages.length>t&&s.push(a))}for(let a=0;a<s.length;a++){const s=e[a],n=s.messages,r=[];for(let e=0;e<n.length;e+=t){const a=n.slice(e,e+t);r.push({...s,isAsync:!1,messages:a})}e.splice(a,1,...r)}}function pr(e,t,s=3){if(t)for(let a=e.length-1;a>=0;a--)s>0?(e[a].isAsync=!0,s--):e[a].isAsync=!1}function Cr(e){return e.reduce(((e,t)=>[{...t,...e.length&&{requests:e}}]),[])}const Ar=({successMap:e,failureMap:t})=>{let s=!0,a=!1;const n=Object.keys(e).length,r=(0,g.VO)(t).reduce(((e,t)=>{if(t.id.indexOf(_r.UnifiedDeleteMessage)>=0){return Os.getBatchError({failureMap:{DeleteMessages:t}})?e+1:e}return"EC-4007"===Ls.getBatchError({failureMap:{UpdateMessages:t}}).errorCode&&(a=!0),e+1}),0),o=(0,g.VO)(e).reduce(((e,t)=>{const s=(0,g.u9)(t,"response.result.task");return s&&e.push(s),e}),[]);return o.length>0?s=S.Fa7.ASYNC:0===n&&r>0?s=S.Fa7.FAIL:n>0&&r>0?s=S.Fa7.PARTIAL:0===r&&(s=S.Fa7.SUCCESS),{successType:s,tasks:o,shouldCheckMessageStatus:a,failureMap:t}},Tr={REQUEST_IDS:_r,_testFn:{serializeBlockPayload:Cr,limitMaxAsyncRequests:pr,limitMidsPerRequest:Sr,prioritizeRequests:mr,transformToDistinctRequests:ur},getBatchPayload:e=>{const{mailboxId:t,messageItemsToSync:s,isAsync:a}=e,n=function(e,t){return Sr(e,350),mr(e),pr(e,t,3),e}(ur(s),a);return{requests:Cr(n.map(((e,s)=>e.getBlockPayload(`${e.batchId}_${s}`,{mailboxId:t,...!e.messageQuery&&{messageIds:e.messages},query:e.messageQuery,payload:e.payload,isAsync:void 0===e.isAsync?a:e.isAsync,deleteDuplicates:e.deleteDuplicates}))))}},transformResponses:({successMap:e,failureMap:t})=>Ar({successMap:e,failureMap:t}),getBatchError:({successMap:e,failureMap:t})=>{const{successType:s,shouldCheckMessageStatus:a}=Ar({successMap:e,failureMap:t});return s!==S.Fa7.FAIL||a?null:new Rs.Z("All requests in method `messages.update` failed.",t)}},hr={getBlockPayload(e,{mailboxId:t,messages:s,folder:a}){const n=[],r=s.map((e=>`"${e.messageId}@${e.modSeq}"`)).join(" ");n.push(`queryTokenState:${a.highestModSeq}`),n.push(`folderId:${a.id}`),n.push(`messageState:(${r})`),n.push(`count:${s.length}`);return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${encodeURIComponent(n.join(" "))}`,method:"GET"}},transformResponse:e=>({deletedMessages:(0,g.u9)(e,"response.result.messages",[]).filter((e=>(0,g.u9)(e,"flags.stateDeleted",!1)))})},gr="GetDeletedMessages",Ir={_setMessageUpdateFailureMap(e){this.messageUpdateFailureMap=e},_getMessageUpdateFailureMap(){return this.messageUpdateFailureMap},_setMessages(e){this.messages=e},_getMessages(){return this.messages},getBatchPayload({mailboxId:e,messages:t=[],folder:s={},messageUpdateFailureMap:a={}}){return this._setMessageUpdateFailureMap(a),this._setMessages(t),{requests:[hr.getBlockPayload(gr,{mailboxId:e,messages:t,folder:s})]}},getBatchError:({failureMap:e})=>Object.keys(e).length?new Rs.Z("All requests in method `messages.getWindowDiff` failed.",e):null,transformResponses(e){const{successMap:t}=e,{deletedMessages:s=[]}=hr.transformResponse(t[gr]),a=this._getMessageUpdateFailureMap();return this._getMessages().length!==s.length?new Rs.Z(A.dO,a):{deletedMessages:s}}},Rr=(e,t)=>{const{mailboxId:s,messageId:a}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${s}/messages/@.id==${a}/content/rawplaintext`,method:"GET"}},Or=e=>e.responseString,Dr="GetRawMessage",Nr={getBatchPayload:({mailboxId:e,messageId:t})=>({requests:[Rr(Dr,{mailboxId:e,messageId:t})]}),transformResponses:({successMap:e})=>Or(e[Dr])},fr={read:!1,spam:!1,ham:!0},Mr=(e,t,{mailboxId:s,folderId:a})=>{const n="mimeMsg"+t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${s}/messages`,method:"POST",payloadType:"multipart",payloadParts:[{partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{newMessage:!0,folder:{id:a},flags:fr,headers:null},mimeBody:"multipart://"+n}}].concat({contentType:"application/octet-stream",partName:n,disposition:"form-data",payloadReference:"multipart://"+n})}},Lr="SaveRawMessage",Pr={getBatchPayload:e=>({requests:e.map(((e,t)=>Mr(Lr+"_"+t,t,e)))}),transformResponses:({successMap:e,failureMap:t})=>({result:{successMap:e},error:{failureMap:t}})},yr="GetFolders",br="GetMessageGroupList",Fr={getBatchPayload({mailboxId:e,folderId:t,sortOrder:s,filter:r,count:o,conversationsMode:i}){const l=i?n:a,c={};return c.requests=[os(yr,{mailboxId:e}),l.getBlockPayload(br,{mailboxId:e,folderId:t,sortOrder:s,filter:r,count:o,offset:0,excludeFolderTypes:Fs.z_})],c},transformResponses({successMap:e},{folderId:t,conversationsMode:s,count:r}){const o=s?n:a,i=is(e[yr]),{messageGroups:l}=o.transformResponse(e[br],r,t);return{folders:i,messageGroupList:l}},getBatchError:({failureMap:e})=>Object.keys(e).length?new Rs.Z("`undo.list` failed.",e):null},Ur=700,vr=701,wr=702,Gr={0:"ON_DEMAND",1:"PRE_CONVERTED"},kr={802:{message:"Missing App Id"},803:{message:"Missing Document Id"},804:{message:"Missing Document URL"},805:{message:"Missing Fetch Options"},806:{message:"Malformed Download URL"},807:{message:"Inaccessible Download URL"},808:{message:"Invalid Fetch Options"},809:{message:"Document Read Error"},810:{message:"Error Inserting In Queue"},811:{message:"Error Reading Info"},812:{message:"Error Processing Document"},813:{message:"Unsupported File Type"},814:{message:"Document still queued"},816:{message:"Document Password Protected Unviewable"},817:{message:"Missing Request for 1st Page"}},Hr={602:{message:"Document failed due to unknown reasons"},605:{message:"Conversion First page being Processed"},606:{message:"The document url is not accessible"},610:{message:"The document failed to be converted to HTML"},611:{message:"The document failed to convert to PDF"},612:{message:"All Resources are busy"},621:{message:"Conversion Queued"},625:{message:"Zipped file found"},640:{message:"PDF file is malformed"}},Br=e=>({"docs-document-id":e}),xr=(e,t,s,a)=>({id:e,uri:"/ws/docpreview/v2/fetch",method:"POST",payload:{start_page:t,end_page:s,retryCount:a},payloadType:"embedded"}),Vr=({response:e})=>{const{info:t,pages:s,code:a}=e;return 815===a?{data:{info:{documentError:{code:a,isRetryable:!1}}}}:t?{statusCode:e.statuscode,code:a,pages:Zr(s),numPages:t.num_pages,height:t.dimension.h,width:t.dimension.w,exceptions:t.exceptions,sheets:t.sheetInfo||{}}:{statusCode:e.statuscode,code:a,pages:Zr(s)}},Wr=(e,t,s)=>{const a=Object.keys(e).length?e:t,{response:n={},httpCode:r}=a[s],{code:o=0,statuscode:i=0,handler:l=0,pages:c}=n;if(kr.hasOwnProperty(o)||Hr.hasOwnProperty(i)){const e=function(e,t){switch(e){case 807:case 810:case 811:return!0;case 812:return 606===t||612===t;case 814:return 605===t||621===t;default:return!1}}(o,i),{message:t}=kr[o]||{},{message:n}=Hr[i]||{},r=(t?`[Fetch Error] ${t}`:"")+(n?` [Conversion Error] ${n}`:"");return Object.assign(a[s],{info:{fetchCode:o,conversionCode:i,isRetryable:e,handler:Gr[l]}}),new Rs.Z(r,a,e)}if(600===i&&Object.keys(c).some((e=>c[e].statuscode===vr)))return Object.assign(a[s],{info:{fetchCode:vr,conversionCode:i,isRetryable:!1}}),new Rs.Z("Page has not converted even though the document is said to be successfully converted",a,!1);if(t&&r>=400){const e="ET"===(0,g.u9)(t[s],"response.error.code","").split("-")[0]||500===r;return Object.assign(a[s],{info:{isRetryable:e}}),new Rs.Z("Returned with not-ok status code",t,e)}return null};function Zr(e){const t={};return Object.keys(e).forEach((s=>{const a=Number(s.slice(4)),n=e[s].statuscode;n!==wr&&(t[a]=n===Ur?{content:e[s],state:S.DAQ.LOADED}:{content:null,state:S.DAQ.ERROR})})),t}const Kr="FetchDocument",zr={getHeaders:({documentId:e})=>Br(e),getBatchPayload:({startPage:e,endPage:t,retryCount:s})=>({requests:[xr(Kr,e,t,s)]}),transformResponses:({successMap:e})=>Vr(e[Kr]),getBatchError:({successMap:e,failureMap:t})=>{const s=Wr(e,t,Kr);if(s){const{isRetryable:e,failureMap:t,message:a}=s,{response:n,info:r,info:{fetchCode:o="",conversionCode:i=""}}=t[Kr],l={};if(r&&(Object.assign(l,{documentError:r}),n&&(o||i))){const e=`DOC-${o}`+(i?`_${i}`:"");Object.assign(n,{error:{code:e}})}return new Rs.Z(a,t,e,l)}return null}},qr="TaskStatus",Yr={getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[Ds.getBlockPayload(qr,{mailboxId:e,taskId:t})]}),transformResponses:({successMap:e})=>({task:Ds.transformResponse(e[qr])})},jr={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"DELETE"}),transformResponse:()=>1},Qr="TaskAbort",Xr={getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[jr.getBlockPayload(Qr,{mailboxId:e,taskId:t})]}),getBatchError:({failureMap:e})=>e[Qr]?new Rs.Z(A.ps,e):null,transformResponses:()=>({result:jr.transformResponse()})},Jr={getBlockPayload:(e,{mailboxId:t})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/savedsearches`,method:"GET",payload:{}}),transformResponse({response:e}){var t;const s=(null==e||null===(t=e.result)||void 0===t?void 0:t.savedSearches)||[],a=s.filter((({id:e,name:t,types:s,priority:a})=>"fOOS"!==e&&!(null!=t&&t.startsWith("RecentSearchQueries"))&&(((e,t)=>"USER"===e&&t>1499&&t<2e3)(s[0],a)||((e,t)=>"FILTER"===e&&t>999&&t<1500)(s[0],a)))).sort(((e,t)=>e.priority-t.priority));return a.map(((e,t)=>{e.index=t+1})),a}};let $r;!function(e){e.COLON="colon",e.LITERAL="literal",e.KEYWORD="keyword",e.IDENTIFIER="identifier",e.PARENTHESIS="parenthesis"}($r||($r={}));const eo=(e,t,s,a,n=!1)=>{let r=0,o=s[a];if(t.test(o)){let i="";for(;o&&t.test(o)&&(i+=o,r++,!n);)o=s[a+r];return[r,{type:e,value:i}]}return[0,null]},to=[(e,t)=>/\s/.test(e[t])?[1,null]:[0,null],(e,t)=>eo($r.COLON,/^[:]/,e,t,!0),(e,t)=>eo($r.PARENTHESIS,/^[()]/,e,t,!0),(e,t)=>{const[s,a]=eo($r.IDENTIFIER,/[a-z-]/i,e,t);let n="",r=t+s;do{n=e[r++]}while(r<e.length&&" "===n);return":"!==n&&a&&(a.type=$r.KEYWORD),[s,a]},(e,t)=>{if('"'!==e[t])return[0,null];let s="",a=1,n=!1,r=!1;for(;t+a<e.length;){let o=e[t+a++];if(n)n=!1;else if("\\"===o)o="",n=!0;else if('"'===o&&s.length){r=!0;break}s+=o}return r?[a,{type:$r.LITERAL,value:s}]:(se.Z.error(`unterminated saved search query string literal at ${t}`),[0,null])},(e,t)=>eo($r.LITERAL,/[0-9]/,e,t)],so={from:"SENDER",to:"TOORCC",cc:"TOORCC",subject:"SUBJECT",body:"BODY"},ao={SENDER:"from",SUBJECT:"subject",BODY:"body"},no=" AND ",ro=(e,t)=>{let s=(e=>{const t=(e||[]).reduce(((e,t)=>{let s=t.value.replace(/([\+\-!\(\)\{\}\[\]\^\"~\*\?:\t/)])/g,"\\$&");switch(t.operator){case"CONTAINS":s='"*'+s+'*"';break;case"NOTCONTAINS":s='"'+s+'"';break;case"BEGINSWITH":s='"'+s+'*"';break;case"ENDSWITH":s='"*'+s+'"'}return"TOORCC"===t.field?"NOTCONTAINS"===t.operator?e+=`(-to:${s} OR -cc:${s})`:e+=`(to:${s} OR cc:${s})`:"NOTCONTAINS"===t.operator?e+=`-${ao[t.field]}:${s}`:e+=`${ao[t.field]}:${s}`,e+no}),"");return t.substring(0,t.length-no.length)})(e.criterions);return s.length&&(s=" AND ("+s+")"),"acctid:"+(t||"1")+s},oo=e=>{let t=0;const s=(e=>{let t=0;const s=[];for(;t<e.length;){let a=!1;if(to.forEach((n=>{if(a)return;const[r,o]=n(e,t);0!==r&&(a=!0,t+=r),o&&s.push(o)})),!a)return se.Z.error(`Invalid char in saved search query: ${e} -> ${e[t]} at position ${t}`),[]}return s})(e),a=[],n=(e="",t="")=>{const s=t[0],a=t[t.length-1],n={value:t,operator:"CONTAINS",field:so[e]};return"-"===e[0]?(n.operator="NOTCONTAINS",n.value=t,n.field=so[e.slice(1)]):"*"===s&&"*"===a?(n.operator="CONTAINS",n.value=t.slice(1,-1)):"*"!==s&&"*"===a?(n.operator="BEGINSWITH",n.value=t.slice(0,-1)):"*"===s&&"*"!==a&&(n.operator="ENDSWITH",n.value=t.slice(1)),n};for(;t<s.length;){const e=s[t];switch(e.type){case $r.COLON:case $r.KEYWORD:case $r.PARENTHESIS:break;case $r.IDENTIFIER:{const r=e.value;++t;const o=s[++t];o&&o.type===$r.LITERAL||se.Z.error(`unexpected token ${o.value}: expected a string`),-1===["acctid","cc","-cc"].indexOf(r)&&a.push(n(r,o.value))}}t++}return a},io="GetFolders",lo="GetMessageFilters";function co(e){const{primaryAccountDisabled:t,appName:s,userNamespace:a,isMailPlusUser:n,useSavedSearchForFilters:r}=e;if(t)return S.lHI;if(s===S.BQZ.MOBILE_APP){const e=n?{...S.NVH,...S._WP}:S.NVH;return a===S.Tzw.AOL?S.zUD:e}return a===S.Tzw.AOL?r?{...S.wp2,MESSAGE_FILTERS:"messageFilters"}:S.wp2:n?{...S.DES,...S.UHK}:S.DES}const Eo={getBatchPayload:({mailboxId:e,primaryAccountDisabled:t=!1,isMailPlusUser:s=!1,useSavedSearchForFilters:a=!1},n)=>{const{appName:r,userNamespace:o}=n,i=co({primaryAccountDisabled:t,appName:r,userNamespace:o,isMailPlusUser:s,useSavedSearchForFilters:a});let l=[];return i.MESSAGE_FILTERS&&a&&(l.push(os(io,{mailboxId:e})),l.push(Jr.getBlockPayload(lo,{mailboxId:e})),delete i.MESSAGE_FILTERS),l=[...l,...la.getBatchPayload({mailboxId:e,attributes:i}).requests],{requests:l}},transformResponses:({successMap:e,primaryAccountDisabled:t=!1},s)=>{const{appName:a,userNamespace:n,isMailPlusUser:r,appId:o}=s,i=co({primaryAccountDisabled:t,appName:a,userNamespace:n,isMailPlusUser:r}),l=la.transformResponses({successMap:e},{attributes:i}).responses;if(e[lo]){const t=((e,t)=>{const s=(0,ns.YY)(t);return e.map((({id:e,name:t,index:a,priority:n,query:r,decorations:o})=>{var i,l,c,d,E,_;return{id:e,name:t,index:a,priority:n,criterions:oo(r),actions:[(E=null==o||null===(i=o[0])||void 0===i||null===(l=i.id)||void 0===l||null===(c=l.slice)||void 0===c?void 0:c.call(l,1),d=(null===(_=s[E])||void 0===_?void 0:_.path)||"",{type:"MOVETOFOLDER",value:{folderActionValueBean:{folder:{name:d}}}})]}}))})(Jr.transformResponse(e[lo]),is(e[io],{appId:o}));l.messageFilters={filters:t}}return{mailboxAttributes:l}}},_o="vacationPreferences",uo={getBatchPayload:e=>{const{mailboxId:t,payload:s}=e,{enabled:a,startDate:n,endDate:r,messageBody:o,domainSpecificResponse:{domains:i},domainSpecificResponse:{domainMessageBody:l}}=s;return{requests:[Ts.getBlockPayload(_o,{mailboxId:t,value:{enabled:a,startDate:n,endDate:r,messageBody:o,domainSpecificResponse:{domains:i,domainMessageBody:l}}})]}},transformResponses:()=>1},mo="messageFilters",So={getBatchPayload:e=>{const{mailboxId:t,payload:s}=e;return{requests:[Ts.getBlockPayload(mo,{mailboxId:t,value:{filters:s}})]}},transformResponses:()=>1},po="deliveryBlockedSenders",Co={getBatchPayload(e){const{mailboxId:t,senders:s}=e;return{requests:[Ts.getBlockPayload(po,{mailboxId:t,value:{senders:s}})]}},transformResponses:()=>1},Ao="GetMailboxes",To={getBatchPayload:e=>{const{mailboxId:t,attributes:s}=e,a=Ts.getMultiAttributeChain({mailboxId:t||"$(mailboxId)",attributes:s.map((({id:e,value:t})=>{let s=`${e}`;return e===S.CbW.DELIVERY_BLOCKED_SENDERS&&(s="senders"),{id:e,value:e===S.CbW.DEA_BASE_NAME||e===S.CbW.CONSENT_EVENTS?t:{[s]:t}}}))});return t?a:{requests:[Object.assign({},Cn.getBlockPayload(Ao),{filters:Cn.getMailboxFilters(),requests:a.requests})]}},transformResponses:e=>e},ho="GetMailboxes",go={getBatchPayload:({mailboxId:e=null,attributes:t=S.bUm})=>{let s;return s=e?la.getBatchPayload({mailboxId:e,attributes:t}).requests:[Object.assign({},Cn.getBlockPayload(ho),{filters:Cn.getMailboxFilters(),requests:la.getBatchPayload({mailboxId:"$(mailboxId)",attributes:t}).requests})],{requests:s}},getBatchError:()=>null,transformResponses:({successMap:e},{attributes:t=S.bUm,userNamespace:s})=>{const a=la.transformResponses({successMap:e},{attributes:t,userNamespace:s}).responses;if(ho in e){return{mailboxes:Cn.transformResponse(e[ho]),mailboxAttributes:a}}return{mailboxAttributes:a}}},Io={getBlockPayload(e,t){const{account:s,mailboxId:a}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/accounts`,method:"POST",payload:{account:s}}},transformResponse:e=>e.response.result},Ro="AddAccount",Oo="GetAccounts",Do={getBatchPayload:e=>{const{mailboxId:t,account:s}=e;return{requests:[Object.assign({},Io.getBlockPayload(Ro,{account:s,mailboxId:t}),{requests:[na(Oo,e)]})]}},transformResponses:({successMap:e})=>ra(e[Oo]),getBatchError:({failureMap:e},{account:t={}})=>{const s=e[Ro],a=e[Oo];return s&&(409!==s.httpCode||409===s.httpCode&&(null==t?void 0:t.type)===S.tO8.DEA)||a?new Rs.Z(A.ps,e):null}},No=(e,t)=>{const{account:s,data:a}=t,n={type:s.type};return Object.assign(n,a),{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${s.id}`,method:"POST",payload:{account:n}}},fo="GetAccount",Mo="UpdateAccount",Lo={getBatchPayload:e=>{const{mailboxId:t,account:s,data:a}=e;return{requests:[{...No(Mo,{account:s,mailboxId:t,data:a}),requests:[{id:fo,uri:`/ws/v3/mailboxes/@.id==${t}/accounts/@.id==${s.id}`,method:"GET"}]}]}},transformResponses:({successMap:e})=>e[fo].response.result},Po=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${t.accountId}`,method:"DELETE"}),yo="deleteAccount",bo="GetAccounts",Fo={getBatchPayload(e){const{mailboxId:t,accountId:s,fetchAccounts:a=!1}=e;return{requests:[Object.assign({},Po(yo,{accountId:s,mailboxId:t}),a?{requests:[na(bo,{mailboxId:t})]}:{})]}},transformResponses:({successMap:e})=>e[bo]?ra(e[bo]):1},Uo="SetDeaPrefix",vo="GetDeaSuggestion",wo="disposableAddressesPrefix",Go={getBatchPayload({mailboxId:e,baseName:t,domain:s,fetchSuggestionsOnFailure:a=!1}){const n=wo,r=`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${n}`,o={id:vo,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1};return{requests:[{id:Uo,uri:r,method:"POST",payload:{id:n,link:{type:"RELATIVE",href:r},value:{deaPrefix:t,deaDomain:s}},...a?{onFailure:o}:null,suppressResponse:!1}]}},getBatchError({successMap:e,failureMap:t}){const s=t[Uo],a=t[vo],n=e[vo];return!(!s||!a&&(0,g.u9)(n,"response.response.idSuggestionsList",!1))&&new Rs.Z("All batch requests failed",t)},transformResponses({successMap:e}){const t=e[vo];if(!t)return[];return{suggestions:(0,g.u9)(t,"response.response.idSuggestionsList",[])}}},ko="GetDeaSuggestion",Ho={getBatchPayload({baseName:e}){const t="/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(e);return{requests:[{id:ko,uri:t,method:"GET",suppressResponse:!1}]}},getBatchError:({failureMap:e})=>!!e[ko]&&new Rs.Z("All batch requests failed",e),transformResponses({successMap:e}){var t,s;const a=e[ko];if(!a)return[];return{suggestions:(null==a||null===(t=a.response)||void 0===t||null===(s=t.response)||void 0===s?void 0:s.idSuggestionsList)||[]}}},Bo={getBlockPayload(e,t){const{account:s}=t;return{id:e,uri:s.link.href,method:"POST",payload:{account:{type:s.type,resendVerification:!0}}}},transformResponse:e=>e.response.result},xo="ResendConfirmEmail",Vo={getBatchPayload:e=>{const{account:t}=e;return{requests:[Bo.getBlockPayload(xo,{account:t})]}},transformResponses:({successMap:e})=>e[xo].response.result},Wo="AddAccount",Zo="IdSuggestions",Ko={getBatchPayload({mailboxId:e,email:t}){const s=`/ws/v3/mailboxes/@.id==${e}/accounts/`,a=-1===t.indexOf("@")?t+"@yahoo.com":t;return{requests:[{id:Wo,uri:s,method:"POST",payload:{account:{email:a,type:"ALIAS",description:"Extra email address account"}},onFailure:{id:Zo,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError:({failureMap:e})=>{const t=e[Wo],s=e[Zo];return t&&s?new Rs.Z("All batch requests failed",e):null},transformResponses({successMap:e}){const t=e[Wo],s=e[Zo];let a,n;return!t&&s&&s.response&&s.response.response?a=s.response.response.idSuggestionsList:t&&t.response&&t.response.result&&(n=t.response.result),{suggestions:a,newAccount:n}}},zo="UnseenCountReset",qo={getBatchPayload:({mailboxId:e,accountId:t})=>({requests:[xs(zo,{mailboxId:e,accountId:t})]}),getBatchError:({failureMap:e})=>{const t=e[zo];return t?Vs(t):null},transformResponses:()=>1},Yo="GetAccountAlerts",jo={getBatchPayload:({mailboxId:e})=>({requests:[qa(Yo,{mailboxId:e})]}),transformResponses:({successMap:e})=>{let t=[];return e[Yo]&&(t=Ya(e[Yo])),t},getBatchError:({failureMap:e})=>{const t=e[Yo];return t?ja(t):null}},Qo=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts/@.id==${t.alertId}`,method:"POST",payload:{alert:{state:5e3}}}),Xo="GetAccountAlerts",Jo="UpdateAccountAlerts",$o={getBatchPayload:({mailboxId:e,alertId:t})=>({requests:[Object.assign({},Qo(Jo,{mailboxId:e,alertId:t}),{requests:[qa(Xo,{mailboxId:e})]})]}),transformResponses:({successMap:e})=>e[Xo]?{accountAlerts:Ya(e[Xo])}:{accountAlerts:[]}},ei=(e,{mailboxId:t,destinationFolderId:s,flags:a,headers:n,decos:r,schemaOrg:o,simpleBody:i,actions:l})=>{const c={id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages`,method:"POST",payloadType:"embedded",payload:{message:{}}};return c.payload.message.newMessage=!0,s&&(c.payload.message.folder={},c.payload.message.folder.id=s),a&&(c.payload.message.flags=a),n&&(c.payload.message.headers=n),r&&(c.payload.message.decos=r),o&&(c.payload.message.schemaOrg=o),i&&(c.payload.simpleBody=i),l&&(c.payload.actions=l),c},ti="CreateMessage",si="UpdateMessages",ai="GetMessagesByGroup",ni={getBatchPayload:({mailboxId:e,messageId:t,destinationFolderId:s,headers:a=[],decos:n=[],schemaOrg:r={}})=>(n.some((e=>e&&e.id===S.Jd6.CRD))||n.push({id:S.Jd6.CRD,type:S.cip.NORMAL}),{requests:[{...ei(ti,{mailboxId:e,destinationFolderId:s,flags:{read:!0,spam:!1},headers:a,decos:n,schemaOrg:r,simpleBody:{text:""},actions:{responseMessage:!0,responseMessageV2:!1,applyAntispam:!1,generateCardConversationId:!0}}),filters:{iterator:"$..result",select:{cardConversationId:"$..message.cardConversationId"}},suppressResponse:!0,requests:[{...Ls.getBlockPayload(si,{mailboxId:e,messageIds:[t],cardConversationId:"$(cardConversationId)"}),suppressResponse:!0,requests:[ws(ai,{mailboxId:e,offset:0,count:50,cardConversationIds:["$(cardConversationId)"],encodeCardConversationId:!1})]}]}]}),transformResponses:({successMap:e})=>{const t=Gs(e[ai]).messageGroups;return{cardGroupList:t.filter((e=>e.messages.some((e=>e.decos&&e.decos.some((e=>e&&e.id===S.Jd6.CRD)))))).map((e=>({...e,id:e.messages[0].cardConversationId}))),parentMessagesMap:t.filter((e=>e.messages.some((e=>e.decos&&e.decos.some((e=>e&&e.id===S.Jd6.EML)))))).reduce(((e,t)=>({...e,[t.messages[0].id]:{...t.messages[0]}})),{})}}};const ri=class{request(){return Promise.resolve()}};class oi extends u.Z{constructor({loggerParams:e,appId:t,guidHash:s,crumb:a,endpoints:n={BOOTCAMP_HOST:"https://data.mail.yahoo.com"}}){super({loggerName:S.BrN.SmartReplyClient,loggerParams:e,crumb:a}),this.appId=t,this.ymreqidGenerator=new I.Z(s,S.N7x,S.Q_q),this.API_BASE=`${n.BOOTCAMP_HOST}/f/eml/predict`}getDefaultUrlParams(){return(0,_.stringify)({appid:this.appId,ymreqid:this.ymreqidGenerator.generate()})}requestNudgeAndReplySuggestions(e=[]){const t=this.getDefaultUrlParams(),s=`${this.API_BASE}/reply?${t}`,a=new N.Z(S.f2m.POST,s);a.withCredentials=!0;const n={messages:e},r=a.send(n);return this.logRequest(r,{messageIdsCount:e.length,queryParams:t,apiName:"smartReply"}),r.then((e=>e.body))}}const ii=["high"];class li extends u.Z{constructor({loggerParams:e,crumb:t,isOnline:s}){super({loggerName:S.BrN.BreakingNewsClient,loggerParams:e,crumb:t,isOnline:s})}request({testParam:e}){const t="https://ncp-gw-mail.media.yahoo.com/api/v1/gql/stream_view?namespace=mail&id=breakingnews&version=v1"+(e?"&subsite=test":""),s=new N.Z(N.W.GET,t,{timeout:3e3});s.setHeader("Accept","application/json");const a=s.send();return this.logRequest(a,{apiName:"breakingNews"}),a.then((t=>{if(!t.body)throw new Error("BreakingNewsClient.EmptyResponseBody");return((e,t)=>{const s=(0,g.u9)(e,"data.breakingnews.stream",[]).find((e=>{const s=(0,g.u9)(e,"editorialContent.severity","");return t||ii.indexOf(s)>-1}));return s?{id:s.id||"",title:F()((0,g.u9)(s,"editorialContent.title","")),clickUrl:F()((0,g.u9)(s,"editorialContent.linkUrl","")),severity:F()((0,g.u9)(s,"editorialContent.severity",""))}:{}})(t.body,e)})).catch((e=>{throw e=this.handleCommonError(e)}))}}const ci=S.JKT+"/sender_rollup_api";class di extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,crumb:s,guidHash:a}){super({loggerName:S.BrN.SenderRollupClient,loggerParams:e,crumb:s}),this.appId=t,this.ymreqidGenerator=new I.Z(a,S.N7x,S.Q_q)}getDefaultUrlParams(){return{appid:this.appId,ymreqid:this.ymreqidGenerator.generate(),crumb:this.crumb}}sendersApi(e){const t=this.getDefaultUrlParams(),s=ci+"/sender_rollup",a=new N.Z("GET",s).send(Object.assign({},t,e));return this.logRequest(a,{apiName:"sendersApi"}),a}}class Ei extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,crumb:s,wssid:a,guidHash:n,endpoints:r,config:o={},timezone:i={}}={}){(0,m.Z)(r.BOOTCAMP_HOST,"BOOTCAMP_HOST is missing in endpoints"),super({loggerName:S.BrN.CloudStorageClient,loggerParams:e,crumb:s,wssid:a,endpoints:r}),this.appId=t,this.timezone=i.name,this.ymreqidGenerator=new I.Z(n,S.N7x,S.Q_q),this.cloudStorageHost=(0,p._)(o,"useBootcampYCPIProxy")?"":this.endpoints.BOOTCAMP_HOST}_getHttpTransport(e,t,s){return new N.Z(e,t,s)}_handleInternalServerError(e){const{statusCode:t,errorCode:s}=e;if(500===t){const a=(0,g.u9)(e,"data.body.code","")||s;return new C.Z("CloudStorageClient.CloudStorageResultsError",{statusCode:t,errorCode:a,body:e.getDataByName("body","")})}return null}handleWssidReissueError(e){const{statusCode:t}=e;if(403===t){const s=(0,g.u9)(e,"data.body.code","");if("Client.ClientRedirect.SessionIdReissue"===s){const a=(0,g.u9)(e,"data.body.wssid","");if(a)return this.wssid=a,new C.Z(A.bD,{statusCode:t,errorCode:s,wssid:a})}}return null}handleCommonError(e){let t=null;return e=C.Z.errorify(e),t||(t=this.handleYdodError(e)),t||(t=this.handleWssidReissueError(e)),t||(t=this._handleInternalServerError(e)),t||e}isRetryableError(e,t){return t<1&&e.name===A.bD}_getDefaultUrlParams(){return{appid:this.appId,wssid:this.wssid,allowGoogleDocs:1,timezone:this.timezone,timeout:6e4,clientId:"mailsearch",ymreqid:this.ymreqidGenerator.generate(),...this.getMailboxParams()}}getContentProviders(){const{appid:e,wssid:t,ymreqid:s}=this._getDefaultUrlParams(),a=`${this.cloudStorageHost}/psearch/v3/contentProviders?allsources=1`,n=this._getHttpTransport("GET",a,{httpRetry:this.httpRetry});n.setHeader("Accept","application/json"),n.withCredentials=!0;const r=n.send({appid:e,wssid:t,ymreqid:s});return this.logRequest(r,{ymreqid:s,apiName:"getContentProviders"}),r.then((e=>JSON.parse(e.text).reduce(((e,t)=>{const{name:s,isConnected:a,additionalProperties:n={}}=t,r=(n.additionalStatus||[]).reduce(((e,t)=>Object.assign(e,{[t.name]:"connected"===t.status})),{});return Object.assign(e,{[s]:{isConnected:a,connectionDetails:r}})}),{}))).catch((e=>{throw e=this.handleCommonError(e)}))}cloudStorageItems(e,t=0){const s=this._getDefaultUrlParams(),{wssid:a,source:n,mailboxid:r,ymreqid:o,appid:i,timezone:l,offset:c,query:d,path:E,accountId:_}={...s,...e},u=0!==c?`&cursor=${c}`:"",m=n===S.hKF.YMAIL?"&mimeTypes=images,docs":"",p=`${this.cloudStorageHost}/psearch/v3/items?source=${n}&wssid=${a}&order=name&mailboxid=${r}&appid=${i}${u}${m}${d?`&query=${encodeURIComponent(d)}`:`&path=${encodeURIComponent(E)}`}&accountIds=${_}`,C=this._getHttpTransport("GET",p,{httpRetry:this.httpRetry});C.setHeader("Accept","application/json"),C.withCredentials=!0;const A={ymreqid:o,retryCount:t,provider:n,apiName:"cloudStorageItems"},T=C.send({ymreqid:o});return this.logRequest(T,A),T.then((e=>B(JSON.parse(e.text),{listContentType:S.F6k.CLOUD_STORAGE_ITEMS},{timezone:l}))).catch((s=>{if(s=this.handleCommonError(s),this.isRetryableError(s,t))return this.cloudStorageItems(e,++t);throw s}))}getShareableLink(e){const t=this._getDefaultUrlParams(),{itemId:s,wssid:a,ymreqid:n,appid:r}={...t,...e},o=`${this.cloudStorageHost}/psearch/v3/items/${encodeURIComponent(s)}/shareableLink?wssid=${a}&appid=${r}`,i=this._getHttpTransport("GET",o,{httpRetry:this.httpRetry});i.setHeader("Accept","application/json"),i.withCredentials=!0;const l={ymreqid:n,provider:e.provider,apiName:"getShareableLink"},c=i.send({ymreqid:n});return this.logRequest(c,l),c.then((e=>JSON.parse(e.text))).catch((e=>{throw e=this.handleCommonError(e)}))}getFilePermissions(e){const t=this._getDefaultUrlParams(),{itemId:s,wssid:a,ymreqid:n,appid:r}={...t,...e},o=`${this.cloudStorageHost}/psearch/v3/items/${encodeURIComponent(s)}/permission?wssid=${a}&appid=${r}`,i=this._getHttpTransport("GET",o,{httpRetry:this.httpRetry});i.setHeader("Accept","application/json"),i.withCredentials=!0;const l={ymreqid:n,provider:e.provider,apiName:"getFilePermissions"},c=i.send({ymreqid:n});return this.logRequest(c,l),c.then((e=>JSON.parse(e.text))).catch((e=>{throw e=this.handleCommonError(e)}))}linkContentProvider(e){const t=this._getDefaultUrlParams(),{wssid:s,appid:a,provider:n,ymreqid:r}={...t,...e},o=e.unlink?"/remove":"",i=`${this.cloudStorageHost}/psearch/v3/contentProviders/${n}${o}?appid=${a}&wssid=${s}&ymreqid=${r}`,l={redirectUrl:`https://${window.location.hostname}/d/oAuth`,errorUrl:`https://${window.location.hostname}/d/oAuth`},c=this._getHttpTransport("POST",i,{httpRetry:this.httpRetry});c.setHeader("Accept","application/json"),c.withCredentials=!0;const d={ymreqid:r,crumb:this.crumb,provider:e.provider,apiName:"linkContentProvider",unlinkAction:e.unlink||!1},E=c.send(l);return this.logRequest(E,d),E.then((e=>JSON.parse(e.text))).catch((e=>{throw e=this.handleCommonError(e)}))}}class _i extends u.Z{constructor({appId:e=S.JfS,loggerParams:t,crumb:s,isOnline:a,guidHash:n,httpRetry:r,cookie:o,requestQueue:i}){super({loggerName:S.BrN.MarketingPreferencesAPIClient,loggerParams:t,crumb:s,isOnline:a}),this.proxyURL=`${S.jQ2}/marketing_preferences/`,this.crumb=s,this.appid=e,this.httpRetry=r,this.requestQueue=i,this.cookie=o,n&&(this.ymreqidGenerator=new I.Z(n,S.N7x,S.Q_q))}request(e,t){if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated.");const s=this.ymreqidGenerator.generate(),a=this.proxyURL+e,n=N.W.GET,r={apiName:e,crumb:this.crumb,ymreqid:s};let o={crumb:this.crumb,ymreqid:s};if("unsubscribe"===e||"subscribe"===e){const{preferenceCode:e,email:s}=t;o={...o,email:s,appname:this.appid},e&&(o.preferences=e,r.preferences=e)}const i=new N.Z(n,a,{timeout:3e4,httpRetry:this.httpRetry,apiName:e});i.setHeader("Accept","application/json"),i.setHeader("Content-Type","application/x-www-form-urlencoded");const l=te.Z.feature(S.BrN.MarketingPreferencesAPIClient,r),c=i.send(o);return c.then(l.logSuccessAndLatency,l.logFailure),c}unsubscribe(e={}){return this.requestQueue.add(this.request.bind(this,"unsubscribe",e),"marketingPreferences.unsubscribe")}subscribe(e={}){return this.requestQueue.add(this.request.bind(this,"subscribe",e),"marketingPreferences.subscribe")}}var ui=s(12779);const mi={offerImage:"offerImg",logoImage:"logoImg",toolTipImage:"tooltipImg"},Si=e=>e.reduce(((e,t)=>{const{name:s,url:a="",alt:n="",...r}=t,o=s.search(/\dx/),i=-1===o?s:s.slice(0,o),l=-1===o?"1x":s.slice(o),c=mi[i];return c&&("1x"===l&&(e[`${c}Alt`]=n&&(0,Ca.sanitizeData)(n)||""),e[c]={...e[c],..."1x"===l?{oneX:a&&(0,Ca.sanitizeData)(a)||""}:{twoX:a&&(0,Ca.sanitizeData)(a)||""},...r}),e}),{}),pi=(e={})=>{const{status:t,body:s={}}=e,{result:a={}}=s,{placements:n=[]}=a;if(200!==t||0===n.length)return{mailoverlay:void 0};const{offers:r=[]}=n[0]||{};if(0===r.length)return{mailoverlay:void 0};const{content:o={}}=r[0],{headline:i,summary:l,cta:c,images:d=[],clickUrl:E,impressionUrl:_,additionalProperties:u}=o,{marketingPrefCode:m,renderContext:S,renderTemplate:p,tooltipText:C,creativeId:A,clickContext:T,...h}=u||{};return{mailoverlay:{...h,productCode:m,cueTypeComponent:S||ui.j4.MODAL,template:p,redirectUrl:E||"",impressionTracker:_||"",headingText:i,descriptionText:l,ctaText:c,tooltipText:C,version:A,clickContext:T,...Si(d)}}};var Ci=s(71887);class Ai extends u.Z{constructor({loggerParams:e,appId:t,guidHash:s,endpoints:a,timezone:n={},...r}){super({...r,loggerParams:e,loggerName:S.BrN.FalconAPIClient}),this.endpoints=a,this.appid=t,this.timezone=n.name,this.ymreqidGenerator=new I.Z(s,S.N7x,S.Q_q),this.host=`${this.endpoints.BOOTCAMP_HOST}/f`}getRequestId(){return this.ymreqidGenerator.generate()}transport(e,t=S.f2m.GET,s={}){const a=new N.Z(t,e);return a.setHeader("Content-Type","application/json"),a.setHeader("Accept","application/json"),(0,g.xb)(s)||Object.keys(s).forEach((e=>{a.setHeader(e,s[e])})),a.withCredentials=!0,a}request(e,t,s,a=S.f2m.GET,n={}){const{reqHeaders:r={}}=n,o=this.transport(e,a,r).send(t);return this.logRequest(o,s),o}getFalconTOMSubscriptions(e,t=[],s,a="",n="",r,o,i){const{wssid:l,appid:c,timezone:d}=this,{guid:E}=window.AppBootstrapData,u=this.getRequestId(),m=(0,_.stringify)({appid:c,guid:E,wssid:l,mboxid:r,acctid:o,email:i,timezone:d,ymreqid:u}),p=`${`${this.host}/suboffers/emails`}?${m}`,C={apiName:"getFalconTOMSubscriptions",ymreqid:u,groupIds:t.join(","),groupIdsCount:t.length,prefetchMode:s,openedGroupId:a,openedMessageId:n,containsOpenedGroupId:t.includes(a)};return this.request(p,e,C,S.f2m.POST).then((e=>((e,t,s="")=>{var a;if(null!=e&&null!==(a=e.result)&&void 0!==a&&a.subofferMap){const a=e.result.subofferMap||[],n=Object.keys(a),r=[];let o,i;return n.filter((e=>!!a[e].length)).reduce(((e,n)=>{if(a[n].length){const{gemini:c={},sku:d}=a[n][0],{ads:E=[]}=c,_=E[0];try{const{tag:e,beacon:t=""}=_;o=JSON.parse(e),i=t}catch(l){te.Z.error("Falcon ad tag is not valid JSON")}if(o){const a=le(_,o),{adHeadline:l,adSummary:c,callToAction:E,adImg:u,clickUrl:m,impressionTrackingUrls:S,creativeId:p}=a,C={strings:{heading:(0,Ca.sanitizeData)(l),body:(0,Ca.sanitizeData)(c),ctaText:(0,Ca.sanitizeData)(E)},falconTOMImageUrl:(0,Ca.sanitizeData)(u),impressionTracker:S[0]||"",impressionBeacon:i,redirectUrl:m,version:p,messageId:n,ymreqid:t,sku:d,isPrefetched:n!==s};e.push(C),r.push(n)}}return e}),[])}return[]})(e.body,u,n)))}getOfferDecision({selectedOfferId:e}){const{appid:t}=this,s={appid:t,ymreqid:this.getRequestId(),placementname:"mail-overlay"};e&&(s.keyword=e,s.placementname="mail-overlay-override");const a=`${`${this.host}/od`}?${(0,_.stringify)(s)}`,n={apiName:"getOfferDecision",...s};return this.request(a,{},n).then((e=>pi(e)))}getFocusedInbox(e,t,s,a=Ci.k){const{appid:n,wssid:r}=this,o={appid:n,ymreqid:this.getRequestId(),mboxid:e,wssid:r,accid:t,folderid:s,count:a},i={apiName:"getFocusedInbox",...o},l=`${`${this.host}/eml/focused`}?${(0,_.stringify)(o)}`;return this.request(l,{},i,S.f2m.GET).then((e=>Hs({response:e.body})))}getOfferDecisionByAction({payload:e=[]}){const{appid:t}=this,s={appid:t,ymreqid:this.getRequestId()},a=`${`${this.host}/od`}?${(0,_.stringify)(s)}`,n={apiName:"getOfferDecisionByAction",...s};return this.request(a,e,n,S.f2m.POST).then((e=>pi(e)))}}class Ti extends u.Z{constructor({appId:e=S.JfS,loggerParams:t,guid:s,guidHash:a,tastemakerConfig:n,queryStringOverrides:r}){super({loggerName:S.BrN.TastemakerClient,loggerParams:t}),this.appId=e,this.guid=s,this.ymreqidGenerator=new I.Z(a,S.N7x,S.Q_q),this.tastemakerConfig=n,this.ncid=(null==r?void 0:r.ncid)||""}consumeTastemaker(e){var t;if(!e)throw new C.Z("TastemakerApiClient.FeatureNameMissing");const s=S.ryB[e],a={sku:s,orderId:(0,Ca.generateUID)(),attributes:{ncid:this.ncid,userAgent:(null===(t=window.navigator)||void 0===t?void 0:t.userAgent)||""}},{tastemakerUrl:n}=this.tastemakerConfig,r=n+"/mail",o=new N.Z(N.W.POST,r,{timeout:5e3}),i={apiName:"consumeTastemaker",sku:s,ymreqid:this.ymreqidGenerator.generate()};this.setTastemakerRequestHeader(o,e);const l=o.send(a);return this.logRequest(l,i),l.catch((e=>{throw e=this.handleCommonError(e)}))}deleteTastemaker(e){if(!e)throw new C.Z("TastemakerApiClient.FeatureNameMissing");const t=S.ryB[e],s={orderId:(0,Ca.generateUID)(),sku:t},{tastemakerUrl:a}=this.tastemakerConfig,n=`${a}/delmail?${_.stringify(s)}`,r=new N.Z(N.W.POST,n,{timeout:5e3}),o={apiName:"deleteTastemaker",sku:t,ymreqid:this.ymreqidGenerator.generate()};this.setTastemakerRequestHeader(r,e);const i=r.send({});return this.logRequest(i,o),i.catch((e=>{throw e=this.handleCommonError(e)}))}setTastemakerRequestHeader(e,t){const{tastemakerSessionId:s,beaconHashes:a}=this.tastemakerConfig,n=a[t];e.setHeader("Content-Type","application/json"),e.setHeader("x-session-id",s),e.setHeader("x-requested-by",n),e.withCredentials=!0}}const hi=(e,t)=>Number(t.enable)-Number(e.enable);const gi={getBlockPayload:(e,{mailboxId:t})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/savedsearches`,method:"GET",payload:{}}),transformResponse:e=>function(e={}){var t;return((null==e||null===(t=e.result)||void 0===t?void 0:t.savedSearches)||[]).filter((e=>"BLOCKED_DOMAINS"===e.types[0])).map((({id:e,enable:t=!1,name:s})=>({id:e,enable:t,name:s}))).sort(hi)}(e.response)},Ii="GetSavedSearches",Ri={getBatchPayload:({mailboxId:e})=>({requests:[gi.getBlockPayload(Ii,{mailboxId:e})]}),transformResponses:({successMap:e})=>gi.transformResponse(e[Ii])};const Oi={getBlockPayload:(e,{mailboxId:t,domainName:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/savedsearches`,method:"POST",payload:{savedSearch:{name:s,query:`acctid:1 AND from:"*@${s}"`,priority:2e3,types:["BLOCKED_DOMAINS"]}}}),transformResponse:e=>function(e={}){const{id:t,enable:s,name:a}=(null==e?void 0:e.result)||{};return{id:t,enable:s,name:a}}(e.response)},Di="CreateSavedSearches",Ni={getBatchPayload:e=>{const{domainNames:t,mailboxId:s}=e,a=t.map((e=>Oi.getBlockPayload(Di+`-${e}`,{domainName:e,mailboxId:s})));return a[a.length-1]={...a[a.length-1],...Ri.getBatchPayload(e)},{requests:a}},transformResponses:({successMap:e})=>Ri.transformResponses({successMap:e})};const fi={getBlockPayload:(e,{mailboxId:t,id:s})=>({id:e,payload:"",method:"DELETE",uri:`/ws/v3/mailboxes/@.id==${t}/savedsearches/@.id==${s}`}),transformResponse:e=>e.response},Mi="DeleteSavedSearches",Li={getBatchPayload:e=>({requests:[{...fi.getBlockPayload(Mi,e),...Ri.getBatchPayload(e)}]}),transformResponses:({successMap:e})=>Ri.transformResponses({successMap:e})},Pi=(e,t)=>{const{messageId:s,mailboxId:a,schemaOrgToUpdate:n}=t;if(!n||!s)throw new Error("POST Update Message schemaOrg requires a list of non empty messageId and schema to update.");return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/messages/@.id==${s}`,method:"POST",payload:{message:{schemaOrg:n}}}},yi="UpdateSchemaOrg",bi={getBatchPayload:({mailboxId:e,messageSchemaOrgPayloads:t=[]})=>({requests:t.map(((t,s)=>{const a=yi+"_"+s,{messageId:n,schemaOrgToUpdate:r}=t;return Pi(a,{mailboxId:e,messageId:n,schemaOrgToUpdate:r})}))}),getBatchError:({successMap:e,failureMap:t})=>Object.keys(e).length?null:new Rs.Z("All requests in method `messages.updateSchemaOrg` failed.",t),transformResponses:()=>1};class Fi extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,guidHash:s,wssid:a,httpRetry:n,isOnline:r,cookie:o,endpoints:i,userNamespace:l,locale:c,colo:d}){super({loggerName:S.BrN.SubDispatcherAPIClient,loggerParams:e,wssid:a,isOnline:r}),(0,m.Z)(i.GLOBAL_HOST,"GLOBAL_HOST is missing in Dispatcher API Client endpoints");const E={guidHash:s,httpRetry:n,isOnline:r,host:("corp"!==d?"":i.GLOBAL_HOST)+"/subdispatcher",endpoints:i};(0,m.Z)(E.guidHash,"Dispatcher API - `guidHash` is a required option"),this.ymreqidGenerator=new I.Z(E.guidHash,S.N7x,S.Q_q),this.appId=t,this.httpRetry=E.httpRetry,this.cookie=o,this.instanceOptions=E,this.userNamespace=l,this.locale=c}getRequestId(){return this.ymreqidGenerator.generate()}transport(e,t=N.W.GET,s={}){const a=new N.Z(t,e,{httpRetry:this.httpRetry});return t===N.W.GET&&(a.setHeader("Content-Type","application/json"),a.setHeader("Accept","application/json")),(0,g.xb)(s)||Object.keys(s).forEach((e=>{a.setHeader(e,s[e])})),a.withCredentials=!0,a}request(e,t,s,a,n={}){const{reqHeaders:r={}}=n,o=this.getRequestId(),i=this.appId;t={...t,irid:o,appId:i,ns:this.userNamespace},s={...s,ymreqid:o};const l=this.transport(e,a,r).send(t);return this.logRequest(l,s,null),l}plutusSubscriptionUpsells({optOutCodes:e=[],selectedOfferId:t,clientos:s="",bucket:a}){const n={context:"mailoverlay,mailsidebar",device:"desktop",locale:this.locale,optout:e.join(","),clientos:s,bucket:a};let r=this.instanceOptions.host;return t&&(n.forceOfferId=t),this.userNamespace===S.Tzw.AOL&&(r+="/aol"),this.request(r+"/mailapi",n,{apiName:"plutusSubscriptionUpsells"}).then((e=>(e=>{const{status:t,body:s}=e||{},{offers:{mailoverlay:a=[]}={},irid:n}=s||{},{status:r,productSKU:o,offerId:i,context:l,ctaURL:c,template:d,...E}=a[0]||{};if(se.Z.error("plutusSubscriptionUpsellsMapperLog",{status:t,bodyExists:!!s,mailoverlayLength:a.length,mailoverlayStatus:r,offerId:i,template:d,irid:n}),200!==t||!s||!a.length||200!==r||!i||"empty"===i)return{mailoverlay:void 0};const{impressionTracker:_,logoImg:u,logoImgAlt:m,tooltipImg:S,tooltipImgAlt:p,offerImg:C,offerImgAlt:A}=E;return{mailoverlay:{...E,impressionTracker:_?(0,Ca.sanitizeData)(_):_,logoImg:u?{...u,oneX:(0,Ca.sanitizeData)(u.oneX),twoX:(0,Ca.sanitizeData)(u.twoX)}:u,logoImgAlt:m?(0,Ca.sanitizeData)(m):m,tooltipImg:S?{...S,oneX:(0,Ca.sanitizeData)(S.oneX),twoX:(0,Ca.sanitizeData)(S.twoX)}:S,tooltipImgAlt:p?(0,Ca.sanitizeData)(p):p,offerImg:C?{...C,oneX:(0,Ca.sanitizeData)(C.oneX),twoX:(0,Ca.sanitizeData)(C.twoX)}:C,offerImgAlt:A?(0,Ca.sanitizeData)(A):A,productCode:o,version:i,cueTypeComponent:l||ui.j4.MODAL,redirectUrl:c?(0,Ca.sanitizeData)(c):c,template:d}}})(e)))}}const Ui="GetFolders",vi="GetMessageFilters",wi={getBlockPayload({mailboxId:e,newFilter:t,actionType:s,accountId:a}){let n="createFilter_"+t.priority,r=`/ws/v3/mailboxes/@.id==${e}/savedsearches`;return"update"===s&&(n="updateFilter_"+t.id,r=`/ws/v3/mailboxes/@.id==${e}/savedsearches/@.id==${t.id}`),{id:n,uri:r,method:"POST",payload:{savedSearch:{name:t.name,query:ro(t,a),priority:t.priority,types:["USER"],decorations:[{id:"F"+(t.folderId||"1"),type:"FOLDER"}]}}}},transformResponse(e){var t;return null==e||null===(t=e.response)||void 0===t?void 0:t.result}},Gi={getBlockPayload:({mailboxId:e,newFilter:t})=>({id:"deleteFilter_"+t.id,payload:{},method:"DELETE",uri:`/ws/v3/mailboxes/@.id==${e}/savedsearches/@.id==${t.id}`}),transformResponse:e=>e.response},ki={getBlockPayload:({mailboxId:e,newFilter:t})=>({id:"updateFilterPriority_"+t.id,uri:`/ws/v3/mailboxes/@.id==${e}/savedsearches/@.id==${t.id}`,method:"POST",payload:{savedSearch:{priority:t.priority}}}),transformResponse:e=>e.response},Hi={"folders.get":cs,"folders.delete":_s,"folders.create":ps,"folders.rename":Is,"folderList.delete":Ms,"folderList.update":bs,"folderChange.getList":aa,"launch.skeleton":Ea,"launch.folder":Sa,"launch.message":La,"launch.compose":va,"launch.messageGroup":za,"mailbox.getAttributes":la,"postLaunch.getComposeAttributes":la,"postLaunch.postSync":sn,"messageGroups.get":rn,"messageGroups.getFallback":rn,"messageGroups.getList":ea,"messageCards.getList":ln,"couponCards.getParentMessage":dn,"consolidatedCoupons.getList":_n,"refundCards.getList":mn,"mailbox.get":hn,"mailbox.sync":In,"mailbox.syncNow":fn,"accounts.get":Pn,"mrdMessages.get":Fn,"messages.getExtractions":vn,"messages.getCompose":Bn,"messages.getBodies":Hn,"messages.getBodiesFull":Hn,"messages.getExtractedBodies":Zn,"messages.getExtractedBodiesFull":Zn,"messages.prefetchGetBodies":Hn,"messages.prefetchGetBodiesFull":Hn,"messages.prefetchGetExtractedBodies":Zn,"messages.prefetchGetExtractedBodiesFull":Zn,"messages.getBodiesFallback":Hn,"messages.getBodiesFullFallback":Hn,"messages.getExtractedBodiesFallback":Zn,"messages.getExtractedBodiesFullFallback":Zn,"messages.getRawMessage":Nr,"messages.prefetchGetBodiesFallback":Hn,"messages.prefetchGetBodiesFullFallback":Hn,"messages.prefetchGetExtractedBodiesFallback":Zn,"messages.prefetchGetExtractedBodiesFullFallback":Zn,"messages.saveV3":$n,"messages.autoSaveV3":$n,"sponsoredMessages.save":$n,"messages.saveAndSend":or,"messages.saveWithAttachment":$n,"messages.saveAndSendWithAttachment":or,"messages.send":or,"messages.updateDecos":cr,"messages.updateSchemaOrg":bi,"messages.getDeletedMessages":Ir,"messages.UnifiedUpdate":Tr,"messages.readFlagUpdate":Tr,"messages.starFlagUpdate":Tr,"messages.move":Tr,"messages.delete":Tr,"messages.saveRawMessage":Pr,"undo.list":Fr,"document.fetch":zr,"task.status":Yr,"task.abort":Xr,"settings.get":Eo,"settings.saveVacationPreferences":uo,"settings.saveMessageFilters":So,"settings.saveBlockedSenders":Co,"settings.saveMailClientVersionAttributes":To,"settings.saveWebMailboxAttributes":To,"settings.importExistingSettings":To,"landshark.updateInterstitial":To,"settings.getFeatureAttributes":go,"settings.addAccount":Do,"settings.updateAccount":Lo,"settings.deleteAccount":Fo,"settings.setBaseNameJWS":Go,"settings.getDEABaseNameSuggestions":Ho,"settings.resendConfirmEmail":Vo,"settings.createAlias":Ko,"unseenCount.reset":qo,"account.getAlerts":jo,"account.updateAlerts":$o,"cards.create":ni,"senders.getList":pn,"savedSearches.getBlockedDomains":Ri,"savedSearches.addBlockedDomain":Ni,"savedSearches.deleteBlockedDomain":Li,"savedSearches.getMessageFilters":{getBatchPayload:({mailboxId:e})=>({requests:[Jr.getBlockPayload(vi,{mailboxId:e}),os(Ui,{mailboxId:e})]}),transformResponses:({successMap:e},{appId:t})=>{let s=!0,a={};const n=is(e[Ui],{appId:t}),r=Jr.transformResponse(e[vi]);return e[vi]?a={savedSearchMessageFilters:r,folders:n}:s=!1,{responses:a,success:s}}},"savedSearches.saveMessageFilters":{getBatchPayload:e=>{const{mailboxId:t,newFilter:s,actionType:a,accountId:n}=e;return{requests:[wi.getBlockPayload({mailboxId:t,newFilter:s,actionType:a,accountId:n})]}},transformResponses:({successMap:e},{actionType:t,newFilter:{priority:s,id:a}})=>{const n="update"===t?"updateFilter_"+a:"createFilter_"+s;return wi.transformResponse(e[n])}},"savedSearches.deleteMessageFilter":{getBatchPayload:e=>({requests:[Gi.getBlockPayload(e)]}),transformResponses:({successMap:e})=>Gi.transformResponse({successMap:e})},"savedSearches.updateMessageFilterPriority":{getBatchPayload:e=>{const{filtersToUpdate:t=[],mailboxId:s,accountId:a,actionType:n}=e,r=[];if(t.length){t.map((e=>ki.getBlockPayload({actionType:n,mailboxId:s,newFilter:e,accountId:a}))).forEach((e=>{r.push(e)}))}return{requests:r}},transformResponses:({successMap:e})=>ki.transformResponse({successMap:e})}},Bi={apiClientConstructors:{astraClient:Zt,athenaClient:$t,autoSuggestClient:be,bootcampClient:ee,breakingNewsClient:li,calendarClient:class{constructor(e){this.mailWssid=e.wssid,this.isYCorp="ycorp"===e.partner,this.guid=e.guid}getInviteInfo(e,t=0){const{downloadUrl:s,currentOffset:a}=e,n=`/cal/ws/v4/users/calendars/131/events/inviteUp?url=${encodeURIComponent(s)}&offset=${a}&fullAttendeeList=true${this.isYCorp?"&parseIcsOnly=true&supportPublish=true":""}&wssid=${this.calendarWssid}&format=json`,r=new N.Z(N.W.POST,n),o=_t.feature("calendar_get_invite_call",{crumb:this.mailWssid,params:e});r.setHeader("Content-Type","application/json"),r.setHeader("Mailbox-ID",`guid=${this.guid}`),r.setHeader("Accept-Language","en-US");const i=r.send();return i.then(o.logSuccessAndLatency,o.logFailure),i.then(this._handleInviteResponse(e,t+1)).catch(this._handleInviteResponse(e,t+1))}_handleInviteResponse(e,t){return s=>{var a,n,r;const o=null===(a=s.data)||void 0===a?void 0:a.body;if(!o)return Promise.reject({error:"Empty response"});if(null!==(n=o.calendarError)&&void 0!==n&&n.wssid){if(t<=1){var i;this.calendarWssid=null===(i=o.calendarError)||void 0===i?void 0:i.wssid;try{return this.getInviteInfo(e,t)}catch(d){return Promise.reject({error:"Bad response",data:d})}}return Promise.reject(o)}const l=o.invitestate,c=null==l||null===(r=l.event)||void 0===r?void 0:r[0];return null!=c&&c.startTime&&null!=c&&c.endTime?dt({event:c,state:null==l?void 0:l.state}):Promise.reject(new Error("Invalid data"))}}sendReply(e,t){const s=Date.now(),a=`/cal/ws/v3/users/calendar/rsvp/${encodeURIComponent(e)}/?format=json&notify=true&wssid=${this.calendarWssid}&rand=${s}&prog=aeon`,n=new N.Z(N.W.POST,a),r=_t.feature("calendar_invite_reply_call",{wssid:this.calendarWssid,uid:e,data:t});n.setHeader("Content-Type","application/json"),n.setHeader("Accept-Language","en-US");const o=n.send({rsvp:t});return o.then(r.logSuccessAndLatency,r.logFailure),o.then((e=>e.body)).catch((e=>201===e.statusCode?e.data.body:Promise.reject(e)))}},cloudStorageClient:Ei,credstoreClient:Fe,darlaAdClient:ri,subdispatcherAPIClient:Fi,falconAPIClient:Ai,geminiAPIClient:Pe,linkEnhancerClient:je,locationAutoSuggestClient:St,mailAPIClient:i.Z,marketingPreferencesAPIClient:_i,membershipRewardsClient:ss,obiApiClient:as,relatedSearchesAPIClient:ft,senderRollupAPIClient:di,smartReplyClient:oi,subscriptionAPIClient:Nt,videoAPIClient:class{constructor(e){this.lang=e.locale,this.region=e.region}request(e){const t={region:this.region,lang:this.lang,dev_type:"desktop",site:"mail",sort_by:"recent",channels:e.channel_alias,type:e.type,image_sizes:"175x219",locale:this.lang},s=ts+"/getVideos",a=new N.Z(N.W.GET,s);a.setHeader("Accept","application/json");const n=es.feature("video_api_client"),r=a.send(t);return r.then(n.logSuccessAndLatency,n.logFailure),r}},tastemakerClient:Ti},batchMethods:Hi},xi=[{app:S.BQZ.MAIL_APP,name:S.BQZ.MAIL_APP,isBasicApp:!1,ssrUnsupportedRoutes:[S.n8z.SEARCH,S.n8z.SPONSORED_MESSAGE,S.n8z.SETTINGS,S.n8z.LIST,S.n8z.SUBSCRIPTION_LIST,S.n8z.STOREFRONT],paths:{[S.n8z.BASE]:"/",[S.n8z.LIST]:"/list/:serializedListId",[S.n8z.FOLDER]:"/folders/:fid",[S.n8z.FOCUSED_INBOX]:"/focused/:serializedListId",[S.n8z.MESSAGE_FROM_LIST]:"/list/:serializedListId/messages/:groupId",[S.n8z.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[S.n8z.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[S.n8z.NEW_DRAFT]:"/compose/:csid?",[S.n8z.EDIT_DRAFT]:"/:serializedListId/edit/:csid",[S.n8z.SEARCH]:"/search/:query",[S.n8z.SETTINGS]:"/settings/:settingsGroupId/:accountId?/:openReauth?",[S.n8z.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[S.n8z.TUTORIAL]:"/tutorial",[S.n8z.STOREFRONT]:"/storefront/:query",[S.n8z.SUBSCRIPTION_LIST]:"/subscriptions/:query"},actionCreators:{},cssBundles:["mail_app"],jsBundles:["mail_app_vendor","mail_app","mail_app_es6_vendor","mail_app_es6"],ssrBundles:["mail_app"],container:{id:"mail-app-container"}},{app:S.BQZ.MAILBOXES_APP,name:S.BQZ.MAILBOXES_APP,appRootPath:S.ibP,isBasicApp:!1,ssrUnsupportedRoutes:[],paths:{[S.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST]:"/",[S.n8z.ADD_ACCOUNT_PROVIDER]:"/add/:provider",[S.n8z.ADD_MAILBOX_PROGRESS]:"/progress/:email"},cssBundles:["mailboxes_app"],jsBundles:["mailboxes_app_vendor","mailboxes_app"],container:{id:"mailboxes-app-container"}},{app:S.BQZ.MOBILE_APP,name:S.BQZ.MOBILE_APP,appRootPath:"/m",isBasicApp:!1,ssrUnsupportedRoutes:[S.n8z.SEARCH,S.n8z.SPONSORED_MESSAGE,S.n8z.PORTRAIT_AD],paths:{[S.n8z.BASE]:"/",[S.n8z.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId",[S.n8z.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId",[S.n8z.LIST]:"/list/:serializedListId",[S.n8z.MESSAGE_FROM_LIST]:"/list/:serializedListId/messages/:groupId",[S.n8z.FOLDER]:"/folders/:fid",[S.n8z.EDIT_FOLDER]:"/folders/:fid/edit",[S.n8z.NEW_DRAFT]:"/compose/:csid?",[S.n8z.EDIT_DRAFT]:"/:serializedListId/edit/:csid",[S.n8z.SETTINGS]:"/settings",[S.n8z.SUBSCRIPTION_LIST]:"/subscriptions/:query",[S.n8z.CONTACTS]:"/contacts",[S.n8z.CREATE_CONTACT]:"/contacts/create",[S.n8z.CONTACT_DETAILS]:"/contacts/:id",[S.n8z.CONTACT_DETAILS_FROM_SEARCH]:"/search/:query/contacts/:id",[S.n8z.EDIT_CONTACT]:"/contacts/:id/edit",[S.n8z.EDIT_CONTACT_FROM_SEARCH]:"/search/:query/contacts/:id/edit",[S.n8z.THEME_CHOOSER]:"/settings/theme",[S.n8z.SEARCH]:"/search/:query",[S.n8z.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[S.n8z.SIGNATURES_FROM_SETTINGS]:"/settings/signatures",[S.n8z.ACCOUNT_LIST_FROM_SETTINGS]:"/settings/accounts",[S.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST]:"/settings/accounts/add",[S.n8z.ADD_ACCOUNT_PROVIDER]:"/settings/accounts/add/:provider",[S.n8z.BLOCKED_SENDERS]:"/settings/blocked_senders",[S.n8z.BLOCKED_DOMAINS]:"/settings/blocked_domains",[S.n8z.AFTER_MESSAGE_MOVE]:"/settings/after_message_move",[S.n8z.MESSAGE_PREVIEW]:"/settings/message_preview",[S.n8z.REWARDS]:"/reward",[S.n8z.PORTRAIT_AD]:"/portraitAd/:creativeId",[S.n8z.MAILPLUS_BENEFITS_UPSELL]:"/mailplus_benefits"},cssBundles:["mobile_app"],jsBundles:["mobile_app_vendor","mobile_app"],container:{id:"mobile-app-container"}},{app:S.BQZ.BASIC_MAIL_APP,name:S.BQZ.BASIC_MAIL_APP,appRootPath:"/b",isBasicApp:!0,ssrUnsupportedRoutes:[],paths:{[S.n8z.BASE]:"/",[S.n8z.TODAYPAGE]:"/todaypage",[S.n8z.FOLDER]:"/folders/:fid",[S.n8z.SEARCH]:"/search/:query",[S.n8z.MESSAGE]:"/folders/:fid/messages/:mid",[S.n8z.NEW_DRAFT]:"/compose",[S.n8z.EDIT_DRAFT]:"/compose/:csid",[S.n8z.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[S.n8z.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[S.n8z.LIST_FOLDERS]:"/listfolders/:serializedListId",[S.n8z.CONTACTS]:"/contacts",[S.n8z.SETTINGS]:"/settings/:settingsGroup",[S.n8z.LOAD_CONTACT]:"/loadcontact",[S.n8z.TASK_STATUS]:"/taskstatus"},cssBundles:["basic_mail_app"],jsBundles:[],container:{id:"basic-mail-app-container"}},{app:S.BQZ.BASIC_MOBILE_APP,name:S.BQZ.BASIC_MOBILE_APP,appRootPath:S.bCI,isBasicApp:!0,ssrUnsupportedRoutes:[],paths:{[S.n8z.BASE]:"/",[S.n8z.FOLDER]:"/folders/:fid",[S.n8z.SEARCH]:"/search/:query",[S.n8z.LIST_FOLDERS]:"/listfolders/:serializedListId?",[S.n8z.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId",[S.n8z.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[S.n8z.NEW_DRAFT]:"/compose",[S.n8z.EDIT_DRAFT]:"/compose/:csid",[S.n8z.SETTINGS]:"/settings/:settingsGroup",[S.n8z.CONTACTS]:"/contacts"},cssBundles:["basic_mobile_app"],jsBundles:[],container:{id:"basic-mobile-app-container"}}],Vi=[];xi.forEach((e=>{Vi.push(e);const t=Object.assign({},e,{app:`${e.app}_TEST`,paths:{}});Object.keys(e.paths).forEach((s=>{t.paths[s]=`/test${e.paths[s]}`})),t.jsBundles=e.jsBundles.map((e=>e.indexOf("_app")>-1?e.replace("_app","_app_test"):e)),Vi.push(t)}));const Wi={},Zi={};Vi.forEach((e=>{Wi[e.app]=e.paths,Zi[e.app]=e}));var Ki=s(45697),zi=s.n(Ki),qi=s(67294),Yi=s(92743),ji=s(71570),Qi=s(14890),Xi=s(73935),Ji=s(99095),$i=s(9333),el=s(43007),tl=s(76531);const sl=(0,g.gP)(["BAR","MENU"]);var al=s(5223),nl=s.n(al),rl=s(9026),ol=s(78737);function il(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ll=(0,Ji.defineMessages)({noSubject:{id:"tab.title.no_subject",defaultMessage:"No Subject"},loading:{id:"tab.title.loading",defaultMessage:"Loading"},error:{id:"tab.title.error",defaultMessage:"Error"},newDraft:{id:"tab.title.new_draft",defaultMessage:"New Subject"},closeTab:{id:"tab.label.close",defaultMessage:"Close tab"},checkmail:{id:"tab.label.checkmail",defaultMessage:"Check new messages"},searchDefault:{id:"tab.title.search_default",defaultMessage:"All"},settings:{id:"tab.title.settings",defaultMessage:"Settings"},sponsoredAd:{id:"tab.title.sponsored_ad",defaultMessage:"Sponsored"},ad_text:{id:"ad.text",defaultMessage:"AD"}});class cl extends qi.Component{constructor(...e){super(...e),il(this,"state",{hover:!1}),il(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose(e)})),il(this,"checkmail",(e=>{this.props.isActive&&e.stopPropagation(),e.preventDefault(),this.props.checkmail()})),il(this,"handleHoverChange",(e=>{this.setState({hover:e})})),il(this,"onCheckmailIconHover",(e=>{this.setState({checkMailHover:e})})),il(this,"_getCheckmailIconColor",(()=>this.context.getThemeMode()===rl.zg.DARK?this.state.checkMailHover?tl.ColorStates.INVERTED:tl.ColorStates.INVERTED_LESS_DIM:this.state.checkMailHover?this.props.isActive?tl.ColorStates.BLACK:tl.ColorStates.INVERTED:this.props.isActive?tl.ColorStates.FIRST_LEVEL_GRAY:tl.ColorStates.INVERTED_LESS_DIM))}render(){const{formatMessage:e}=this.context.intl,{isActive:t,isCloseable:s,onClick:a,url:n,titleType:r,decorator:o,kind:i,title:l,widthOverride:c,animate:d,showCheckMailIcon:E,badgeCount:_}=this.props,u=o!==S.hmI.NONE,m=i===sl.BAR&&t,p=this.context.getThemeMode()===rl.zg.DARK,C=(0,rl.L_)(this.context.getTheme())&&p,A=_>0&&!t&&!this.state.hover,T=this.context.getCss(nl(),{kind:i,activeBar:m,decoratedMenu:u&&i===sl.MENU,decoratedBar:u&&i===sl.BAR,decoratedSettings:o===S.hmI.SETTINGS,activeHover:t&&this.state.hover,activeMenu:i===sl.MENU&&t,inactiveHover:!t&&this.state.hover,animate:d,darkThemeMode:p,["darkModePhotoTheme_"+this.context.getTheme()+"_bar"]:C&&i===sl.BAR,["darkModePhotoTheme_"+this.context.getTheme()+"_activeBar"]:C&&m,extraIconPadding:[S.hmI.SMARTVIEW_PEOPLE,S.hmI.SMARTVIEW_SHOPPING].indexOf(o)>-1});let h,g=l,I=tl.ColorStates.DARK,R=tl.Sizes.XS;switch(o){case S.hmI.SEARCH:h=tl.Kinds.SEARCH_MINI;break;case S.hmI.SETTINGS:h=tl.Kinds.SETTINGS,R=tl.Sizes.XXXS;break;case S.hmI.COMPOSE:h=tl.Kinds.COMPOSE;break;case S.hmI.SMARTVIEW_PEOPLE:h=tl.Kinds.PEOPLE;break;case S.hmI.SMARTVIEW_SHOPPING:h=tl.Kinds.SHOPPING;break;case S.hmI.SMARTVIEW_PHOTOS:h=tl.Kinds.TAB_IMAGES;break;case S.hmI.SMARTVIEW_DOCUMENTS:h=tl.Kinds.DOCUMENTS_S;break;case S.hmI.SMARTVIEW_COUPONS:h=tl.Kinds.SCISSORS;break;case S.hmI.SMARTVIEW_GROCERIES:h=tl.Kinds.BASKET;break;case S.hmI.SMARTVIEW_RECEIPTS:h=tl.Kinds.DRAFTS;break;case S.hmI.SMARTVIEW_TRAVEL:h=tl.Kinds.TRAVEL;break;case S.hmI.SMARTVIEW_TUTORIAL:h=tl.Kinds.CAL_MAYBE;break;case S.hmI.EXCLAMATION_ALT:h=tl.Kinds.EXCLAMATION_ALT,R=tl.Sizes.XXS}switch(r){case S.Ma6.NO_SUBJECT:g=e(ll.noSubject);break;case S.Ma6.LOADING:g=e(ll.loading);break;case S.Ma6.ERROR:g=e(ll.error);break;case S.Ma6.NEW_DRAFT:g=e(ll.newDraft);break;case S.Ma6.SEARCH_DEFAULT:g=e(ll.searchDefault);break;case S.Ma6.SETTINGS:g=e(ll.settings);break;case S.Ma6.SPONSORED_AD:g=e(ll.ad_text)}i===sl.BAR&&(I=t&&!p?tl.ColorStates.INHERITED:tl.ColorStates.INVERTED),r===S.Ma6.SMART_VIEW&&t&&tl.ColorStates[o]&&(I=tl.ColorStates[o]);return qi.createElement("a",{"data-test-id":"tab-item","data-test-active":t,href:n,style:{width:c},className:p&&i===sl.BAR?T["darkMode_photoTheme"+C]:T.tab,onClick:a,onMouseOver:this.handleHoverChange.bind(this,!0),onMouseLeave:this.handleHoverChange.bind(this,!1),title:g,rel:"noopener"},o!==S.hmI.NONE?qi.createElement("span",{className:T.decorator},qi.createElement(el.Z,{kind:h,size:R,colorState:(e=>e===S.hmI.EXCLAMATION_ALT?tl.ColorStates.WARNING:I)(o)})):null,p?qi.createElement("span",{className:m?T.darkThemeModeActiveBarText:T.text},g):qi.createElement("span",{className:m?T.activeBarText:T.text},g),A&&qi.createElement("span",{className:T.badgeCount},_),s&&this.state.hover?qi.createElement($i.default,{onClick:this.handleClose,className:T.close,kind:tl.Kinds.CLOSE_MINI,size:tl.Sizes.XS,colorState:I,"aria-label":e(ll.closeTab),title:e(ll.closeTab),"data-test-id":"tab-close-button"}):null,E&&this.state.hover&&qi.createElement($i.default,{onClick:this.checkmail,className:T.checkmailIcon,kind:tl.Kinds.REFRESH,size:tl.Sizes.XXS,colorState:this._getCheckmailIconColor(),"aria-label":e(ll.checkmail),title:e(ll.checkmail),onMouseOver:this.onCheckmailIconHover.bind(this,!0),onMouseLeave:this.onCheckmailIconHover.bind(this,!1),isOnDarkBackground:p,"data-test-id":"tab-checkmail-button"}))}}il(cl,"defaultProps",{animate:!1,isCloseable:!0,showCheckMailIcon:!1,checkmail:()=>{},badgeCount:0}),il(cl,"contextTypes",{intl:Ji.intlShape,getCss:zi().func,getThemeMode:zi().func,getTheme:zi().func});const dl=(0,Yi.connect)(void 0,(e=>({checkmail:()=>{e((0,ol.PV)({forceSync:!0,userInitiated:!0}))}})))(cl);var El=s(18030),_l=s(11160),ul=s(31509),ml=s(65304),Sl=s(67498),pl=s(28182),Cl=s(8470),Al=s(85454),Tl=s.n(Al),hl=s(76223),gl=s.n(hl),Il=s(44359),Rl=s(92559);function Ol(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Dl=gl()(Tl());class Nl extends qi.Component{constructor(...e){super(...e),Ol(this,"renderTabButtons",((e,t)=>{const{onSelection:s,onClose:a,smartViews:n}=this.props,r=n&&n.length?`${Ue.jv9}px`:null;return e.map((e=>{const{title:n,titleType:o,url:i,decorator:l,active:c}=e;return qi.createElement("li",{className:Dl.tabItem,key:i},qi.createElement(dl,{onClick:s.bind(null,t?sl.BAR:sl.MENU,e),isCloseable:!0,isActive:c,onClose:a.bind(null,e),title:n,titleType:o,decorator:l,kind:sl.MENU,url:i,widthOverride:r}))}))})),Ol(this,"handleAnchorClick",(e=>{const{barTabs:t=[],smartViews:s=[],onAnchorClick:a}=this.props;a({mKey:Rl.JE.TABS_MENU_OPEN,sec:Rl.nJ.TABS_MENU,interactionType:Rl.Rb.click,actionData:{smartView:!!s.length,addIcon:0===t.length&&s.length>0}},e)}))}render(){const{remainingTabs:e,barTabs:t=[],onCloseAll:s,smartViews:a=[],smartViewCategoriesEnabled:n}=this.props,r=n&&a.length,o=t.length>1,i=a.every((e=>e.status)),l=n&&0===t.length&&!i?tl.Kinds.ADD:tl.Kinds.CHEVRON_UP,c=(0,Ji.defineMessages)({tabsMenu:{id:"tabs_menu.menu_button",defaultMessage:"Tabs menu"}});return qi.createElement(_l.Z,{className:Dl.menuContainer},qi.createElement(ul.Z,null,qi.createElement("span",{className:Dl.menuButtonContainer},qi.createElement(Sl.Z,{"data-test-id":"tabs-menu-button",tabIndex:-1,kind:pl.F.CHROMELESS,className:Dl.menuButton,"aria-label":this.context.intl.formatMessage(c.tabsMenu),onClick:this.handleAnchorClick},qi.createElement("span",{className:Dl.menuSpan},qi.createElement("span",{className:Dl.chevron},qi.createElement(el.Z,{kind:l,size:tl.Sizes.XS,rotate:tl.Rotate.D180,colorState:tl.ColorStates.INVERTED})))))),qi.createElement(El.ZP,{triggerOn:ml.K2.CLICK,offset:3*Ue.mg$,align:ml.xM.END,permittedArrowDirections:[ml.Ji.UP],zAltitude:Ue.LSY.POPOVER.HIGH,animate:!0},qi.createElement("div",{className:Dl.menuContentContainer},t.length?qi.createElement(Cl.Z,{"data-test-id":"tabs-menu",className:Dl.tabList,focusOnMount:!0},this.renderTabButtons(e,!1),this.renderTabButtons(t,!0),!r&&o&&qi.createElement("li",{className:Dl.rule}),o&&qi.createElement("li",null,qi.createElement(Sl.Z,{"data-test-id":"tabs-close-all",onClick:s,className:Dl.closeAllButton,tabIndex:0},qi.createElement("span",{className:Dl.closeAllText},qi.createElement(Ji.FormattedMessage,{id:"tabs.menu_close_all",defaultMessage:"Close all tabs"})))),r&&qi.createElement("li",{className:Dl.rule})):null,r?qi.createElement(Il.ZP,{isMenuMode:!0,showToggleState:!0,showHint:!0}):null)))}}Ol(Nl,"contextTypes",{intl:zi().object});const fl=Nl;var Ml=s(34903),Ll=s.n(Ml),Pl=s(87771),yl=s(5156),bl=s(1191),Fl=s(46046),Ul=s(38829),vl=s(77163),wl=s(3405),Gl=s(85927),kl=s(98217),Hl=s(31057);function Bl(e){const{name:t}=e;return-1!==[S.n8z.MESSAGE_FROM_FOLDER_LIST,S.n8z.MESSAGE_FROM_SEARCH_LIST,S.n8z.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST,S.n8z.MESSAGE_FROM_LIST].indexOf(t)}var xl=s(20305),Vl=s(81660);function Wl(){return(Wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Zl(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}(0,Fl.m)({group:Ul.LQ,keys:{naviToLeftTab:{key:"BracketLeft",description:qi.createElement(Ji.FormattedMessage,{id:"shortcut.navi_tabs_left",defaultMessage:"Navigate to the left tab"})},naviToRightTab:{key:"BracketRight",description:qi.createElement(Ji.FormattedMessage,{id:"shortcut.navi_tabs_right",defaultMessage:"Navigate to the right tab"})}}});const Kl=["[","]"],zl=Ue.lHY+2,ql=Ue.K_u+2,Yl=gl()(Ll());class jl extends qi.Component{constructor(...e){super(...e),Zl(this,"state",{boundingWidth:null}),Zl(this,"getBoundingWidth",(()=>{this._isMounted&&this.setState({boundingWidth:(0,Xi.findDOMNode)(this).getBoundingClientRect().width})})),Zl(this,"closeCue",(e=>{this.props.featureCueClosed({name:e})})),Zl(this,"handleSelection",((e,t,s)=>{var a;s.preventDefault(),this.props.showPeopleSmartViewCue&&(0,Hl.s7)(t.route)===S.ukn.PEOPLE&&this.closeCue(S.ANe.PEOPLE_SMARTVIEW_CUE);const n={route:t.route,...t.fetchFullBody?{full:!0}:{},tabRecencyRank:this.getTabRecencyRank(t)},{groupId:r,attachmentId:o}=(null===(a=n.route)||void 0===a?void 0:a.params)||{};r&&o&&Object.assign(n,{uiContext:{mKey:Rl.JE.TAB_CLICKED_WITH_ATTACHMENT_PREVIEW}}),t.active||(e===sl.MENU?this.context.navigateTo(Object.assign(n,{reorderPage:!0})):this.context.navigateTo(n))})),Zl(this,"handleTabClose",(({route:e},t)=>{t.preventDefault();const s={mKey:Rl.JE.TABS_MENU_CLOSE,sec:Rl.nJ.TABS_MENU};this.props.closePage({route:e,i13nModel:s})})),Zl(this,"handleTabCloseAll",(e=>{e.preventDefault(),this.props.closeAllPages()})),Zl(this,"handleMenuAnchorClick",((e,t)=>{this._categoriesCue&&this.props.showAllTabsPlusCue?(t.stopPropagation(),this.closeCue(S.ANe.ALL_TABS_PLUS_CUE)):(this._peopleViewCue&&this.props.showPeopleSmartViewCue&&this.closeCue(S.ANe.PEOPLE_SMARTVIEW_CUE),e&&e.actionData&&(e.actionData.multiTaskModeSetting=this.props.multiTaskModeSetting),this.context.executeAction(bl.wD,{i13nModel:e}))})),Zl(this,"handleShortCut",(e=>{const{charCode:t}=e;switch(t){case vl.P.BRACKETLEFT:this.tabNaviLeft(e);break;case vl.P.BRACKETRIGHT:this.tabNaviRight(e)}}))}componentDidMount(){this._isMounted=!0,this.getBoundingWidth(),window.addEventListener("resize",this.getBoundingWidth),this.context.bindShortcut(Kl,this.handleShortCut)}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("resize",this.getBoundingWidth),this.context.unbindShortcut(Kl)}UNSAFE_componentWillUpdate(e){const t=e.smartViews.find((e=>this.props.smartViews.find((t=>t.status!==e.status&&t.name===e.name))));t&&(this.changedSmartView=t.name===S.K8C.COUPONS?S.hmI.SMARTVIEW_SHOPPING:S.hmI[`SMARTVIEW_${t.name}`],setTimeout((()=>{this.props.route.name!==S.n8z.SETTINGS&&(t.status?this.props.onSmartViewChange((0,wl.jK)(t.name,{accountIds:this.props.selectedAccountId,excludefolders:this.props.conversationsEnabled?[S.Sck.TRASH,S.Sck.BULK]:[S.Sck.TRASH,S.Sck.BULK,S.Sck.DRAFT,S.Sck.SENT]})):this.props.onSmartViewChange(this.props.isCategorySmartViewActive?this.props.selectedFolderRoute:this.props.route))}),400))}renderToFit(){const{smartViewCategoriesEnabled:e}=this.props,t=[];let s,a=[];const{changedSmartView:n}=this;if(this.state.boundingWidth){let e=Math.floor((this.state.boundingWidth-Ue.A_$)/ql);if(this.tabContent.length>e){e=Math.floor((this.state.boundingWidth-Ue.A_$)/zl);const t=Math.min(e,this.tabContent.length),a=Math.floor((this.state.boundingWidth-Ue.A_$)/t);s=a-2+"px"}this.tabContent.forEach((s=>{!s.active&&t.length<this.tabContent.length-e&&s.isCloseable?t.push(s):a.push(s)}))}else a=this.tabContent.slice(0,4);const r=a.filter((({isCloseable:e})=>e)),o=r.length||t.length||e,i=a.map((e=>{const{title:t,titleType:a,url:r,active:o,decorator:i,isCloseable:l,showCheckMailIcon:c,key:d,badgeCount:E}=e,_={className:Yl.item};return i===S.hmI.SMARTVIEW_PEOPLE&&(_.ref=e=>{this._peopleSmartViewTab=e}),qi.createElement("li",Wl({key:d||r},_),qi.createElement(dl,{onClick:t=>this.handleSelection(sl.BAR,e,t),isCloseable:l,showCheckMailIcon:c,onClose:t=>this.handleTabClose(e,t),title:t,titleType:a,decorator:i,url:r,kind:sl.BAR,isActive:o,widthOverride:s,badgeCount:E,animate:n===i}))}));return o&&i.push(qi.createElement("li",{key:"tabMenu",className:Yl.moreMenu,ref:"moreMenu"},qi.createElement(fl,{barTabs:r,remainingTabs:t,onSelection:this.handleSelection,onClose:this.handleTabClose,onCloseAll:this.handleTabCloseAll,onAnchorClick:this.handleMenuAnchorClick,smartViewCategoriesEnabled:e,smartViews:this.props.smartViews}))),i}_allCategorizationsEnabled(){return this.props.smartViews.every((({status:e})=>!!e))}renderCategoriesCue(){return this.props.showAllTabsPlusCue&&this.refs.moreMenu&&!this._allCategorizationsEnabled()?qi.createElement(El.ZP,{popoverAnchor:this.refs.moreMenu,align:ml.xM.START,triggerOn:ml.K2.MOUNT,permittedArrowDirections:[ml.Ji.UP],onHide:()=>this.closeCue(S.ANe.ALL_TABS_PLUS_CUE),offset:16,zAltitude:Ue.LSY.POPOVER.HIGH,ref:e=>this._categoriesCue=e,hideOnContentClick:!1},qi.createElement(Pl.cr,{import:"../../molecules/categorization/all_tabs_plus_cue",cueName:S.ANe.ALL_TABS_PLUS_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,82535))},_moduleResolver:function(){return 82535}})):(this._categoriesCue=null,null)}_isInsidePeopleView(){const e=this.tabContent.find((({active:e})=>e));return e&&e.decorator===S.hmI.SMARTVIEW_PEOPLE}renderPeopleSmartViewCue(){return this.props.showPeopleSmartViewCue&&this._peopleSmartViewTab&&!this._isInsidePeopleView()?qi.createElement(El.ZP,{popoverAnchor:this._peopleSmartViewTab,align:ml.xM.START,triggerOn:ml.K2.MOUNT,permittedArrowDirections:[ml.Ji.UP],onHide:()=>this.closeCue(S.ANe.PEOPLE_SMARTVIEW_CUE),offset:16,zAltitude:Ue.LSY.POPOVER.HIGH,ref:e=>this._peopleViewCue=e,highlight:!0,hideOnContentClick:!1},qi.createElement(Pl.cr,{import:"../../molecules/categorization/people_smartview_cue",cueName:S.ANe.PEOPLE_SMARTVIEW_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,25076))},_moduleResolver:function(){return 25076}})):(this._peopleViewCue=null,null)}navigateToLeftRail(){const{selectedFolderRoute:e}=this.props;this.context.navigateTo({route:e})}getActiveTabIndex(e){return e.findIndex((e=>!0===e.active))}getTabRecencyRank(e){return this.props.limitedMessageTabs.findIndex((t=>(0,wl.Vu)(t,e.route)))}tabNaviLeft(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(sl.BAR,this.tabContent[this.tabContent.length-1],e):0===t?this.navigateToLeftRail():this.handleSelection(sl.BAR,this.tabContent[t-1],e)}tabNaviRight(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(sl.BAR,this.tabContent[0],e):t===this.tabContent.length-1?this.navigateToLeftRail():this.handleSelection(sl.BAR,this.tabContent[t+1],e)}render(){return this.tabContent=this.props.getTabContent(this.context),qi.createElement("ul",{className:Yl.container,"data-test-id":"tab-list","data-test-count":this.tabContent.length},this.renderPeopleSmartViewCue(),this.renderCategoriesCue(),this.renderToFit())}}function Ql(e,t,s){const{getRoute:a,isFeatureEnabled:n,getSmartViewTypeFromRoute:r,getSmartViewPosition:o,getSmartViewTypeFromListId:i}=s,l=a(),c=n(S.Zrf.MAIL_TABS),d=r(t),{formatMessage:E}=e.intl,_=o(d),u=_===S.sDs.TAB_BAR&&d===S.K8C.COUPONS?S.hmI.SMARTVIEW_SHOPPING:S.hmI[`SMARTVIEW_${d}`];return{route:t,url:e.getUrlFromRoute(t),active:c||d===S.K8C.TUTORIAL?(0,wl.Vu)(l,t):i((0,Hl.LY)(l))===d,title:_===S.sDs.TAB_BAR&&d===S.K8C.COUPONS?E(xl.Z.smart_view_SHOPPING):E(xl.Z[`smart_view_${d}`]),titleType:S.Ma6.SMART_VIEW,decorator:u,showCheckMailIcon:_===S.sDs.TAB_BAR&&(0,Hl.zu)(l),isCloseable:_!==S.sDs.TAB_BAR,key:u,fetchFullBody:!1}}Zl(jl,"contextTypes",{intl:Ji.intlShape.isRequired,getUrlFromRoute:zi().func,executeAction:zi().func,navigateTo:zi().func,bindShortcut:zi().func,unbindShortcut:zi().func}),Zl(jl,"defaultProps",{showAllTabsPlusCue:!1,showPeopleSmartViewCue:!1,smartViews:[],onSmartViewChange:()=>{}});const Xl=e=>t=>{const s=(0,Gl.selectors)(e),{getTabPages:a,getRoute:n,getFolderName:r,getMessageCsid:o,getFolderDisplayTypeByFolderId:i,isFeatureEnabled:l,getMessageGroupsSelectors:c,isMessageGroupLoading:d,doesComposeSessionExist:E,getDraftMessageId:_,getReplyingToMessageId:u,doesMessageFullBodyExist:p,doesMessageBodyHasError:C,getMessageSubject:A,doesMessageIdExist:T,getRelevantMessageIdFromMessageGroupId:h,doesRouteContainFailure:g,getForwardAttachmentIds:I,getSmartViewTypeFromRoute:R,getMessageIdsFromMessageGroupId:O}=s,D=n(),{formatMessage:N}=t.intl,f={[S.zoT.YAHOO]:N(kl.Z.yahoo_account_description),[S.zoT.YAHOO_SB]:N(kl.Z.yahoo_account_description),[S.zoT.YAHOO_INC]:N(kl.Z.yahoo_account_description),[S.zoT.OUTLOOK]:N(kl.Z.outlook_account_description),[S.zoT.AOL]:N(kl.Z.aol_account_description),[S.zoT.GOOGLE]:N(kl.Z.gmail_account_description),[S.zoT.GOOGLE_APP]:N(kl.Z.gmail_account_description)},M=a(),L=l(S.Zrf.MAIL_TABS),P=l(S.ANe.SMARTVIEW_CATEGORIES_ENABLED),y=[];return M.forEach((e=>{const{params:a,name:n,query:l}=e,M={route:e,url:t.getUrlFromRoute(e),active:(0,wl.Vu)(D,e),title:"",titleType:S.Ma6.TEXT,decorator:S.hmI.NONE,showCheckMailIcon:!1,isCloseable:!0,fetchFullBody:!1};switch(n){case S.n8z.LIST:if(!P)return;return void(((0,Hl.zu)(e)?R(e):null)&&y.push(Ql(t,e,s)));case S.n8z.TUTORIAL:return void(P&&y.push(Ql(t,e,s)));case S.n8z.BASE:return;case S.n8z.FOLDER:if(P){let t;const s=(0,Hl.LY)(e),a=(0,Hl.Fh)(s);if(a){const e=i(a);t=(0,ns.h5)(N,e)||r(a)}y.push(Object.assign({},M,{titleType:S.Ma6.TEXT,title:t,decorator:S.hmI.NONE,isCloseable:!1,showCheckMailIcon:D.name===S.n8z.FOLDER,active:L?M.active:a===(0,Hl.Fh)((0,Hl.LY)(D))}))}return;case S.n8z.SETTINGS:M.titleType=S.Ma6.SETTINGS,M.decorator=S.hmI.SETTINGS;break;case S.n8z.SEARCH:{const a=(0,Hl.LY)(e);if((0,Hl.GG)(a)){if(!P)return;const n=(0,Hl.rB)(e),r=(0,Hl.yE)(a);if(!n&&!r)return;if(!n){return void(((0,Hl.zu)(e)?R(e):null)&&y.push(Ql(t,e,s)))}{const e=(0,Hl.kw)(a);M.title=N(xl.Z[`smart_view_${e}`]),M.titleType=S.Ma6.SMARTVIEW,M.active=L?M.active:e===(0,Hl.kw)((0,Hl.LY)(D))}}else M.title=function(e,t,s){const{getFolderName:a,getSelectedAccountIdByRoute:n,getProviderFromAccount:r,getAccountDescriptionByAccountId:o,hasMultipleRootAccounts:i}=e,l=i(),c=(0,Hl.LY)(t),d=(0,Hl.Fh)(c),{name:E,keyword:_}=(0,Hl.Ie)(c),u=(0,Hl.Er)(c),m=n(t),S=r(m),p=o(m);let C;if(d){const e=a(d);C=l?(p||s[S])+"/"+e:e}else 1===u.length&&(C=l?p||s[S]:C);const A=(0,Hl.lG)(c)?E:_;return C?A?C+" "+A:C:A}(s,e,f),M.titleType=M.title?S.Ma6.SEARCH_KEYWORD:S.Ma6.SEARCH_DEFAULT,M.decorator=S.hmI.SEARCH;break}case S.n8z.MESSAGE_FROM_LIST:case S.n8z.MESSAGE_FROM_SEARCH_LIST:case S.n8z.MESSAGE_FROM_FOLDER_LIST:{if(a.attachmentId&&"1"===l.fullscreen)break;if(!c().doesMessageGroupIdExist(a.groupId)||d(a.groupId)){M.titleType=S.Ma6.LOADING;break}const t=(0,Hl.LY)(e),s=h(a.groupId,t);M.badgeCount=O(a.groupId).reduce(((e,t)=>{if(T(t)){const s=o(t);return e+(E(s)?I(s).length:0)}return e}),0);const r=A(s,t)||"";M.title=n===S.n8z.MESSAGE_FROM_SEARCH_LIST?(0,Vl.IX)(r):r,M.title||(M.titleType=S.Ma6.NO_SUBJECT),g(e)&&(M.decorator=S.hmI.EXCLAMATION_ALT);break}case S.n8z.NEW_DRAFT:case S.n8z.EDIT_DRAFT:{const t=decodeURIComponent(a.csid),s=E(t);M.decorator=S.hmI.COMPOSE,t&&s?M.badgeCount=I(t).length:M.titleType=S.Ma6.LOADING;const n=s&&(_(t)||u(t));if(n)if(p(n))if(C(n))M.titleType=S.Ma6.ERROR;else{const t=(0,Hl.LY)(e);M.title=A(n,t)}else M.titleType=S.Ma6.LOADING;else M.titleType=S.Ma6.NEW_DRAFT;M.title||(M.titleType=S.Ma6.NEW_DRAFT),g(e)&&(M.decorator=S.hmI.EXCLAMATION_ALT);break}case S.n8z.SPONSORED_MESSAGE:M.titleType=S.Ma6.SPONSORED_AD;break;case S.n8z.FOCUSED_INBOX:case S.n8z.SUBSCRIPTION_LIST:case S.n8z.STOREFRONT:return;default:(0,m.Z)(!1,`We do not know how to get title of the tab for this route: ${n}`)}y.push(M)})),y.filter(Boolean)},Jl=(0,Qi.compose)((0,Yi.connect)((e=>{const{getFeaturesSelectors:t,getSetting:s,getTabPages:a,getRoute:n,getSelectedAccountId:r,getSmartViewTypeFromRoute:o,getSmartViewPosition:i}=(0,Gl.selectors)(e),l=t(),c=l.isEnabled(S.ANe.SMARTVIEW_CATEGORIES_ENABLED),d=l.isEnabled(S.ANe.ALL_TABS_PLUS_CUE),E=l.isEnabled(S.ANe.PEOPLE_SMARTVIEW_CUE),_=s(S.Zrf.SYSTEM_TABS),u=l.isEnabled(S.Zrf.MAIL_TABS),m=n(),p=a().find((e=>e.name===S.n8z.FOLDER||(0,Hl.rB)(e)||(0,Hl.AU)(e))),C=l.isEnabled(S.ANe.CONVERSATIONS),A=(0,Hl.zu)(m)?o(m):null,T=(0,Hl.zu)(m)&&i(A)===S.sDs.TAB_BAR,h=function(e){const t=(0,Gl.selectors)(e),{getTabPages:s,isDraftGroup:a}=t;return s().filter((e=>Bl(e)&&!a(e.params.groupId))).sort(((e,t)=>(t.timestamp||0)-(e.timestamp||0)))}(e);return{getTabContent:Xl(e),selectedFolderRoute:p,route:m,selectedAccountId:r(),smartViews:_,multiTaskModeSetting:u,smartViewCategoriesEnabled:c,showAllTabsPlusCue:d,showPeopleSmartViewCue:E,isCategorySmartViewActive:T,conversationsEnabled:C,limitedMessageTabs:h}})),(0,Yi.connect)(void 0,(e=>({featureCueClosed:t=>e((0,yl.hN)(t)),closePage:({route:t,i13nModel:s={}})=>e((0,ol.I3)({route:t,i13nModel:s})),closeAllPages:t=>e((0,ol.St)(t)),onSmartViewChange:t=>e((0,ol.Ch)({route:t}))}))))(jl);var $l=s(91041);var ec=s(18446),tc=s.n(ec);class sc extends qi.Component{constructor(e){super(e)}componentDidMount(){const{toast:e}=this.props;e&&this.context.toast(e)}componentDidUpdate(e){const{toast:t}=this.props;t&&t!==e.toast&&this.context.toast(t)}render(){return null}}sc.contextTypes={toast:zi().func};const ac=(0,Yi.connect)(((e,{toastMap:t})=>{const{getAction:s}=(0,Gl.selectors)(e),a=s();let n=t[a.type];return"function"==typeof n&&(n=n(a,e)),n?{toast:{...n,data:a}}:{}}),void 0,void 0,{areStatePropsEqual:tc()})(sc);var nc=s(50566),rc=s(65055);function oc(e){e.dispatch(nc.PREFERRED_TIMEZONE_CHANGE_REJECTED)}var ic=s(67929),lc=s.n(ic);function cc(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const dc=gl()(lc());class Ec extends qi.Component{constructor(...e){super(...e),cc(this,"handleChangeAccept",(()=>{this.context.navigateTo({route:(0,wl.Tx)({settingsGroupId:S.u5h.VIEWING_EMAIL,accountId:this.props.accountId})})})),cc(this,"handleChangeReject",(()=>{this.context.executeAction(oc)}))}render(){return qi.createElement("span",{className:dc.container},qi.createElement(Ji.FormattedMessage,{id:"timezone.change_msg",defaultMessage:"New time zone detected."})," ",qi.createElement("a",{"data-test-id":"primary-button",className:dc.primaryButton,onClick:e=>{e.preventDefault(),this.handleChangeAccept()}},qi.createElement(Ji.FormattedMessage,{id:"timezone.change_accept",defaultMessage:"Update my location"})))}}cc(Ec,"contextTypes",{executeAction:zi().func,navigateTo:zi().func});const _c=Ec;var uc=s(52896),mc=s(98901),Sc=s(18716),pc=s.n(Sc),Cc=s(31280);const Ac=gl()(pc());function Tc({error:e,sendFailureRoute:t},{navigateTo:s,getUrlFromRoute:a}){const{errorCode:n,data:{info:r={}}={}}=e||{},o=a(t),i={message:o?qi.createElement("a",{href:o,className:Ac.link,"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),s({route:t})}},qi.createElement(Ji.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):qi.createElement(Ji.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})};return"EC-4017"===n?qi.createElement(Ji.FormattedMessage,{id:"compose.temp_send_failure_notification",defaultMessage:"Your message cannot be sent because you are attempting to send too many emails at once. Please try again later"}):"EP-4010"===n&&r.spame?qi.createElement(Ji.FormattedMessage,{id:"compose.spam_send_failure_notification",defaultMessage:"Your message cannot be sent because it resembles spam and/or contains only links. Please modify your {message} and try again",values:i}):qi.createElement(Ji.FormattedMessage,{id:"compose.send_failure_notification",defaultMessage:"An error occurred while sending the {message}.",values:i})}function hc({route:e,sentFolderId:t,groupId:s},{navigateTo:a,getUrlFromRoute:n}){const r={name:S.n8z.MESSAGE_FROM_FOLDER_LIST,params:{fid:t,groupId:s},query:e.query||{}},o=n(r);return qi.createElement(Ji.FormattedMessage,{id:"compose.send_success_notification_with_link",defaultMessage:"Your {message} has been sent.",values:{message:o?qi.createElement("a",{href:o,className:Ac.link,"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),a({route:r})}},qi.createElement(Ji.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):qi.createElement(Ji.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})}})}Tc.contextTypes={navigateTo:zi().func,getUrlFromRoute:zi().func},hc.contextTypes={navigateTo:zi().func,getUrlFromRoute:zi().func};const gc=(0,Yi.connect)(((e,t)=>{const{conversationsMode:s,message:a}=t;return{groupId:s?a.conversationId:a.id}}))(hc);function Ic(){return qi.createElement(Ji.FormattedMessage,{id:"compose.already_sent_message",defaultMessage:"The message you are trying to save has already been sent using another session. Please check your sent folder."})}function Rc({messageGroupId:e,message:t,composeMode:s},{executeAction:a}){const n=qi.createElement("span",{onClick:()=>{a(mc.QM,{messageGroupId:e,message:t,composeMode:s})},className:Ac.link,"data-test-id":"notification-retry-compose-action"},qi.createElement(Ji.FormattedMessage,{id:"notification.compose_draft_failed_retry_link",defaultMessage:"Retry"}));return s===S.AGu.Modes.FORWARD?qi.createElement(Ji.FormattedMessage,{id:"notification.draft_forward_failed",defaultMessage:"We encountered some issues while forwarding this message. {link}",values:{link:n}}):qi.createElement(Ji.FormattedMessage,{id:"notification.draft_reply_or_reply_all_failed",defaultMessage:"We encountered some issues while replying to this message. {link}",values:{link:n}})}Rc.contextTypes={executeAction:zi().func};var Oc=s(10745),Dc=s.n(Oc);const Nc=gl()(Dc());class fc extends qi.Component{render(){const{value:e}=this.props,t=`${e}%`,s={width:t};return qi.createElement("div",{className:Nc.progress},qi.createElement("div",{className:Nc.placeholder}),qi.createElement("div",{className:Nc.value,style:s,"data-test-id":"progress-bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e},qi.createElement("span",{className:Nc.label,"data-test-id":"progress-value",role:"presentation"},t)))}}const Mc=fc;var Lc=s(75120),Pc=s.n(Lc);const yc=gl()(Pc());class bc extends qi.Component{render(){const{message:e,subtitle:t,progress:s,onCancel:a,isCancelable:n}=this.props;return qi.createElement("div",{className:yc.container,"data-test-id":"progress-dialog"},qi.createElement("div",{className:yc.messageContainer},qi.createElement("span",{className:yc.message,"data-test-id":"progress-dialog-message"},e),n&&qi.createElement(Sl.Z,{onClick:a,className:yc.cancel,"data-test-id":"progress-dialog-cancel"},qi.createElement(Ji.FormattedMessage,{id:"confirm.cancel",defaultMessage:"Cancel"}))),qi.createElement("div",{className:yc.subtitle},t),qi.createElement("div",{className:yc.bar},qi.createElement(Mc,{value:s})))}}var Fc,Uc,vc;vc={isCancelable:!1,onClose:()=>{}},(Uc="defaultProps")in(Fc=bc)?Object.defineProperty(Fc,Uc,{value:vc,enumerable:!0,configurable:!0,writable:!0}):Fc[Uc]=vc;const wc=bc;var Gc=s(63097),kc=s(35598);function Hc(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Bc extends qi.Component{constructor(...e){super(...e),Hc(this,"handleCancel",(()=>{const{taskId:e}=this.props;this.props.bulkTaskCancelRequest({taskId:e})})),Hc(this,"isTaskCancelable",(()=>{const{taskId:e,status:t}=this.props;return e&&t===S.sZ3.PENDING})),Hc(this,"renderMessage",(()=>{const{triageActionType:e,folderId:t,count:s,conversations:a,itemsToUpdate:n=[]}=this.props,r=n.some((e=>Boolean(e.messageQuery)))?"all":s;switch(e){case S.Ewo.READ_CHANGE_FOLDER_ITEMS:return qi.createElement(Ji.FormattedMessage,{id:"progress.mark_read",defaultMessage:"Marking {emailsNum, plural,\n                        =1 {message}\n                        =all {all messages}\n                        other {# messages}\n                        } in {folderName} as read...\n                    ",values:{emailsNum:r,folderName:qi.createElement(Gc.Z,{folderId:t})}});case S.Ewo.DELETE_FOLDER_ITEMS:return qi.createElement(Ji.FormattedMessage,{id:"progress.delete",defaultMessage:"Deleting {emailsNum, plural,\n                        =1 {message}\n                        =all {all messages}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{emailsNum:r,folderName:qi.createElement(Gc.Z,{folderId:t})}});case S.Ewo.ARCHIVE_FOLDER_ITEMS:return qi.createElement(Ji.FormattedMessage,{id:"progress.archive",defaultMessage:"Archiving {count, plural,\n                        =1 {message}\n                        =all {all messages}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{count:r,folderName:qi.createElement(Gc.Z,{folderId:t})}});case S.Ewo.DELETE_SELECTED_ITEMS:return qi.createElement(Ji.FormattedMessage,{id:"progress.messages_delete",defaultMessage:"Deleting {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:r}});case S.Ewo.DELETE_ALL_FROM_SENDERS:return qi.createElement(Ji.FormattedMessage,{id:"progress.messages_delete_from_senders",defaultMessage:"Deleting {conversations, select, true {conversations} false {messages}}",values:{conversations:a}});case S.Ewo.MOVE_SELECTED_ITEMS:return qi.createElement(Ji.FormattedMessage,{id:"progress.messages_move",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:r}});case S.Ewo.DELETE_ALL_ITEMS:case S.Ewo.MOVE_ALL_ITEMS:case S.Ewo.UNDO_MOVE:return qi.createElement(Ji.FormattedMessage,{id:"progress.move_query",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:r}});case S.Ewo.READ_CHANGE_ALL_ITEMS:case S.Ewo.READ_CHANGE_SELECTED_ITEMS:case S.Ewo.STAR_CHANGE_ALL_ITEMS:case S.Ewo.STAR_CHANGE_SELECTED_ITEMS:return qi.createElement(Ji.FormattedMessage,{id:"progress.mark_query",defaultMessage:"Updating {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:r}});case S.Ewo.ARCHIVE_ALL_ITEMS:case S.Ewo.ARCHIVE_SELECTED_ITEMS:return qi.createElement(Ji.FormattedMessage,{id:"progress.messages_archive",defaultMessage:"Archiving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:r}});case S.Ewo.RESTORE_ALL_ITEMS:case S.Ewo.RESTORE_SELECTED_ITEMS:case S.Ewo.NOT_SPAM_ALL_ITEMS:case S.Ewo.NOT_SPAM_SELECTED_ITEMS:return qi.createElement(Ji.FormattedMessage,{id:"progress.messages_restore",defaultMessage:"Restoring {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    } to Inbox",values:{conversations:a,count:r}});case S.Ewo.SPAM_ALL_ITEMS:case S.Ewo.SPAM_SELECTED_ITEMS:return qi.createElement(Ji.FormattedMessage,{id:"progress.messages_mark_spam",defaultMessage:"Marking {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    } as Spam",values:{conversations:a,count:r}})}return null})),Hc(this,"renderStatus",(()=>{switch(this.props.status){case S.sZ3.ABORTING:return qi.createElement(Ji.FormattedMessage,{id:"progress.aborting",defaultMessage:"Cancelling"});case S.sZ3.ABORT_FAILED:return qi.createElement(Ji.FormattedMessage,{id:"progress.abort_failed",defaultMessage:"Failed to cancel. Please Retry"});default:return null}}))}componentDidUpdate(){clearTimeout(this.handleProgressTimeout),this.handleProgressTimeout=setTimeout((()=>{this.props.forceSync()}),this.props.asyncTaskPollInterval)}componentWillUnmount(){clearTimeout(this.handleProgressTimeout)}render(){const{progress:e=0}=this.props;return qi.createElement(wc,{isCancelable:this.isTaskCancelable(),onCancel:this.handleCancel,progress:e,message:this.renderMessage(),subtitle:this.renderStatus()})}}const xc=(0,Yi.connect)((e=>{const{isAsyncTaskPending:t,getAsyncTask:s,getFeaturesSelectors:a}=(0,Gl.selectors)(e),n=a().getSetting(S.Zrf.ASYNC_TASK_POLL_INTERVAL);if(!t())return{asyncTaskPollInterval:n};const{taskId:r,status:o,progress:i,pollCount:l}=s();return{taskId:r,status:o,progress:i,pollCount:l,asyncTaskPollInterval:n}}),(e=>({bulkTaskCancelRequest:t=>e((0,kc.Kf)({taskId:t})),forceSync:()=>e((0,ol.PV)({forceSync:!0,i13nModel:{}}))})))(Bc);var Vc=s(90108),Wc=s(30884),Zc=s(79483);const Kc=()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_group_edit_succeeded",defaultMessage:"Contact list updated"}),zc=()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_group_edit_in_progress",defaultMessage:"Updating contact list"});var qc=s(43854),Yc=s.n(qc),jc=s(90583);const Qc=gl()(Yc());class Xc extends qi.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"handleClick",(e=>{e.preventDefault(),this.props.onClose(),this.props.toggleAutoOpenSettingsPopover({status:!0})}))}render(){const e=qi.createElement("span",{onClick:this.handleClick,className:Qc.settings,"data-test-id":"settings-link"},qi.createElement(Ji.FormattedMessage,{id:"notification.themes_cue_v3_closed_settings",defaultMessage:"Settings"}));return qi.createElement(Ji.FormattedMessage,{id:"notification.themes_cue_v3_closed",defaultMessage:"Theme saved. For more ways to personalize, go to {Settings}.",values:{Settings:e}})}componentWillUnmount(){this.props.featureCueNotificationClosed({name:S.ANe.THEMES_CUE_V3})}}const Jc=(0,Yi.connect)(null,(e=>({featureCueNotificationClosed:t=>e((0,yl.Jd)(t)),toggleAutoOpenSettingsPopover:t=>e((0,jc.Wx)(t))})))(Xc);function $c({folder:e}){return qi.createElement(Ji.FormattedMessage,{id:"folder.create_success",defaultMessage:"{folderName} folder created",values:{folderName:qi.createElement("strong",null,e.name)}})}function ed({folderName:e}){return qi.createElement(Ji.FormattedMessage,{id:"folder.create_failure",defaultMessage:"Failed creating {folderName} folder",values:{folderName:qi.createElement("strong",null,e)}})}function td({folderId:e,progress:t}){const s=qi.createElement("strong",null,qi.createElement(Gc.Z,{folderId:e}));if(t<100){const e=qi.createElement("strong",null,t,"%");return qi.createElement(Ji.FormattedMessage,{id:"folder.markasread_partial_success",defaultMessage:"{progress} of messages in {folderName} marked as read",values:{folderName:s,progress:e}})}return qi.createElement(Ji.FormattedMessage,{id:"folder.mark_read_success",defaultMessage:"Folder {folderName} was marked as read",values:{folderName:s}})}function sd({folderId:e}){return qi.createElement(Ji.FormattedMessage,{id:"folder.mark_read_failure",defaultMessage:"Failed marking folder {folderName} as read",values:{folderName:qi.createElement("strong",null,qi.createElement(Gc.Z,{folderId:e}))}})}function ad({folderId:e,progress:t}){const s=qi.createElement("strong",null,qi.createElement(Gc.Z,{folderId:e}));if(t<100){const e=qi.createElement("strong",null,t,"%");return qi.createElement(Ji.FormattedMessage,{id:"folder.archive_partial_success",defaultMessage:"{progress} of messages in {folderName} archived",values:{folderName:s,progress:e}})}return qi.createElement(Ji.FormattedMessage,{id:"folder.archive_success",defaultMessage:"Messages in folder {folderName} were moved to archive",values:{folderName:s}})}function nd({folderId:e}){return qi.createElement(Ji.FormattedMessage,{id:"folder.archive_failure",defaultMessage:"Failed moving folder {folderName} messages to archive",values:{folderName:qi.createElement("strong",null,qi.createElement(Gc.Z,{folderId:e}))}})}function rd({folderId:e,progress:t}){const s=qi.createElement("strong",null,qi.createElement(Gc.Z,{folderId:e}));if(t<100){const e=qi.createElement("strong",null,t,"%");return qi.createElement(Ji.FormattedMessage,{id:"folder.delete_partial_success",defaultMessage:"{progress} of messages in {folderName} deleted",values:{folderName:s,progress:e}})}return qi.createElement(Ji.FormattedMessage,{id:"folder.clear_success",defaultMessage:"Folder {folderName} was cleared",values:{folderName:s}})}function od({folderId:e}){return qi.createElement(Ji.FormattedMessage,{id:"folder.clear_failure",defaultMessage:"Failed clearing folder {folderName}",values:{folderName:qi.createElement("strong",null,qi.createElement(Gc.Z,{folderId:e}))}})}function id(){return qi.createElement(Ji.FormattedMessage,{id:"folder.access_failure",defaultMessage:"The folder you're trying to access is no longer valid"})}class ld extends qi.Component{render(){return qi.createElement(Ji.FormattedMessage,{id:"notification.no_internet",defaultMessage:"No internet connection."})}}const cd=(0,Yi.connect)(((e,t)=>{const{isOnline:s}=(0,Gl.selectors)(e);return s()&&t.onClose(),{}}))(ld);var dd=s(83544),Ed=s.n(dd);function _d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ud=gl()(Ed());class md extends qi.Component{constructor(...e){super(...e),_d(this,"handleClick",(e=>{const t={mKey:Rl.JE.FIX_IMAP_ACCOUNT,sec:Rl.nJ.NOTIFICATION_ACTION,interactionType:(0,Ca.getInteractionFromEvent)(e)},{accountId:s,provider:a}=this.props,n=window.screen.width-400,r=window.screen.height-300;window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${r}, left=${n}`),this.props.onClose(),this.context.navigateTo({route:(0,wl.Tx)({settingsGroupId:S.u5h.ACCOUNTS,accountId:s,provider:a,openReauth:!0}),i13nModel:t})}))}render(){const{provider:e}=this.props;let t;return t=e===S.zoT.GOOGLE?qi.createElement(Ji.FormattedMessage,{id:"notifications.signintogoogle",defaultMessage:"Sign in to Google"}):qi.createElement(Ji.FormattedMessage,{id:"notifications.gotosettings",defaultMessage:"Go to Settings"}),qi.createElement("div",null,qi.createElement(Ji.FormattedMessage,{id:"mailbox.not_sycning",defaultMessage:"This mailbox is not syncing and needs permission to resume."})," ",qi.createElement(Sl.Z,{"aria-hidden":!0,kind:pl.F.CHROMELESS,onClick:this.handleClick},qi.createElement("span",{className:ud.actionLink},t)))}}_d(md,"contextTypes",{navigateTo:zi().func});const Sd=(0,Yi.connect)()(md),pd=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement(Ji.FormattedMessage,{id:"notification.move_message_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {conversations} }} false {{count, plural, =1 {message} =all {all messages} other {messages} }} } to the selected folder.",values:{conversations:e,count:a}})},Cd=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement(Ji.FormattedMessage,{id:"notification.markSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation was} other {Conversations were} }} false {{count, plural, =1 {Message was} =all {all messages} other {Messages were} }} } successfully marked as Spam",values:{conversations:e,count:a}})},Ad=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement(Ji.FormattedMessage,{id:"notification.markSpam_failure",defaultMessage:"Unable to mark the {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {conversations} }} false {{count, plural, =1 {message} =all {all messages} other {messages} }} } as Spam.",values:{conversations:e,count:a}})},Td=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement(Ji.FormattedMessage,{id:"notification.notSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation was} =all {all conversations} other {Conversations were} }} false {{count, plural, =1 {Message was} =all {all messages} other {Messages were} }} } moved to Inbox",values:{conversations:e,count:a}})},hd=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement(Ji.FormattedMessage,{id:"notification.notSpam_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {conversations} }} false {{count, plural, =1 {message} =all {all messages} other {messages} }} } to Inbox",values:{conversations:e,count:a}})},gd=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement(Ji.FormattedMessage,{id:"notification.archive_failure",defaultMessage:"Unable to Archive the {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {# conversations} }} false {{count, plural, =1 {message} =all {all messages} other {messages} }} }.",values:{conversations:e,count:a}})},Id=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement(Ji.FormattedMessage,{id:"notification.restore_inbox_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation} =all {all conversations} other {# conversations} }} false {{count, plural, =1 {Message} =all {all messages} other {# messages} }} } moved to Inbox",values:{conversations:e,count:a}})},Rd=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement(Ji.FormattedMessage,{id:"notification.restore_inbox_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {# conversations} }} false {{count, plural, =1 {message} =all {all messages} other {messages} }} } to Inbox",values:{conversations:e,count:a}})},Od=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement(Ji.FormattedMessage,{id:"notification.delete_failure",defaultMessage:"Unable to delete the {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {# conversations} }} false {{count, plural, =1 {message} =all {all messages} other {# messages} }} }.",values:{conversations:e,count:a}})},Dd=()=>qi.createElement(Ji.FormattedMessage,{id:"notification.undo_success",defaultMessage:"Undo succeeded"}),Nd=()=>qi.createElement(Ji.FormattedMessage,{id:"notification.undo_failed",defaultMessage:"Undo failed"}),fd=()=>qi.createElement(Ji.FormattedMessage,{id:"notification.message_access_failure",defaultMessage:"The message you're trying to access is no longer valid"}),Md=({conversations:e})=>qi.createElement(Ji.FormattedMessage,{id:"notification.delete_from_senders_success",defaultMessage:"{conversations, select, true {Conversations} false {Messages} } deleted from selected senders.",values:{conversations:e}}),Ld=({conversations:e})=>qi.createElement(Ji.FormattedMessage,{id:"notification.delete_from_senders_failure",defaultMessage:"Failed to delete {conversations, select, true {conversations} false {messages} } from selected senders.",values:{conversations:e}}),Pd=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement(Ji.FormattedMessage,{id:"notification.update_items_success",defaultMessage:"Updated {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    =all {all conversations}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    =all {all messages}\n                    other {# messages}\n                }}\n            } successfully",values:{conversations:e,count:a}})},yd=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement(Ji.FormattedMessage,{id:"notification.update_items_failure",defaultMessage:"Failed to update {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    =all {all conversations}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    =all {all messages}\n                    other {# messages}\n                }}\n            }",values:{conversations:e,count:a}})},bd=()=>qi.createElement(Ji.FormattedMessage,{id:"notification.activate_offer_failure",defaultMessage:"Unable to add now. Try again later."});class Fd extends qi.Component{render(){const{folderId:e,conversations:t}=this.props;return qi.createElement("div",null,qi.createElement(Ji.FormattedMessage,{id:"folder.move_query_success",defaultMessage:"All {conversations, select, true {conversations} false {messages} } moved to {destinationFolderName}.",values:{destinationFolderName:qi.createElement("strong",null,qi.createElement(Gc.Z,{folderId:e})),conversations:t}}))}}function Ud(){return qi.createElement(Ji.FormattedMessage,{id:"folder.move_query_failure",defaultMessage:"Failed moving all items "})}function vd(){return qi.createElement(Ji.FormattedMessage,{id:"folder.mark_query_success",defaultMessage:"Items were updated"})}function wd(){return qi.createElement(Ji.FormattedMessage,{id:"folder.mark_query_failure",defaultMessage:"Failed updating all items "})}var Gd=s(82723),kd=s.n(Gd),Hd=s(62631);const Bd=gl()(kd());function xd(){return qi.createElement("div",{className:Bd.leftAlign},qi.createElement(Ji.FormattedMessage,{id:"notification.settings_information_deleted_1",defaultMessage:"Your information will be deleted."}),qi.createElement("br",null),qi.createElement(Ji.FormattedMessage,{id:"notification.settings_information_deleted_2",defaultMessage:"Changes may take up to 24 hours."}))}function Vd({showSettingsMessageFiltersLink:e,onClose:t},{navigateTo:s,getUrlFromRoute:a}){if(e){const e=(0,wl.Tx)({settingsGroupId:S.u5h.FILTERS}),n=a=>{a.preventDefault(),s({route:e}),t()};return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_filter_added",defaultMessage:"Filter added. {link}",values:{link:qi.createElement("a",{href:a(e),className:Bd.link,onClick:n},qi.createElement(Ji.FormattedMessage,{id:"notifications.settings_manage_filters",defaultMessage:"Manage filters"}))}})}return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_filter_saved",defaultMessage:"Message filter has been saved successfully"})}Vd.contextTypes={navigateTo:zi().func,getUrlFromRoute:zi().func};const Wd=(0,Yi.connect)(((e,t)=>({showSettingsMessageFiltersLink:(0,g.u9)(t,"i13nModel.mKey",null)===Rl.JE.TOOLBAR_FILTER_MESSAGES_LIKE_THIS})))(Vd);function Zd(){return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_filter_failed_to_save",defaultMessage:"Message filter has failed to save"})}function Kd(){return qi.createElement(Ji.FormattedMessage,{id:"notification.user_preference_failed_to_load",defaultMessage:"Your preferences failed to load at this time due to a temporary error."})}function zd({delta:e}){return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_blocked_senders_added",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} added",values:{count:e}})}function qd({delta:e}){return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_blocked_senders_deleted",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} deleted",values:{count:-e}})}function Yd({delta:e}){return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_blocked_senders_failed_to_add",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to add",values:{count:e}})}function jd({delta:e}){return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_blocked_senders_failed_to_delete",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to delete",values:{count:-e}})}function Qd(){return qi.createElement(Ji.FormattedMessage,{id:"notification.user_preference_failed_to_save",defaultMessage:"Your preferences failed to save at this time due to a temporary error."})}function Xd(){return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_vacation_response_saved",defaultMessage:"Vacation response has been saved."})}function Jd(){return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_vacation_response_deleted",defaultMessage:"Vacation response has been removed."})}function $d({error:e,provider:t,email:s},{yahooBrandNameString:a}){switch(e){case 412:return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_cancel_permission",defaultMessage:"Account connection cancelled."});case 403:return qi.createElement("div",{className:Bd.errorWrapper},qi.createElement("div",{className:Bd.errorHeader},qi.createElement(Ji.FormattedMessage,{id:"notification.settings_different_id_header",defaultMessage:"{email} could not be added",values:{email:s}})),qi.createElement("div",{className:Bd.errorBody},qi.createElement(Ji.FormattedMessage,{id:"notification.settings_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:(0,Hd.zJ)(t),nextLine:qi.createElement("br",null),sign_out:qi.createElement("a",{className:Bd.link,target:"_blank",href:S.wxL[t].providerUrl,rel:"noopener"},qi.createElement(Ji.FormattedMessage,{id:"notification.settings_sign_out",defaultMessage:"sign out"}))}})));case 503:return qi.createElement(Ji.FormattedMessage,{id:"notification.provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please try to connect your account later.",values:{yahooBrandNameString:a,provider:(0,Hd.zJ)(t)}});case 409:return qi.createElement(Ji.FormattedMessage,{id:"notification.account_conflict",defaultMessage:"This account is already connected"});default:return qi.createElement(Ji.FormattedMessage,{id:"notification.account_general_error",defaultMessage:"Unable to add mailbox. Please try again later."})}}$d.contextTypes={yahooBrandNameString:zi().string};const eE=()=>qi.createElement(Ji.FormattedMessage,{id:"notification.reply_reminders_shown",defaultMessage:"Reply reminders are enabled"}),tE=()=>qi.createElement(Ji.FormattedMessage,{id:"notification.reply_reminders_hidden",defaultMessage:"Reply reminders are hidden"});var sE=s(4887);s(44499);var aE=s(66588);const nE=gl()(Ed());class rE extends qi.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"handleClick",(e=>{e.preventDefault(),this.props.onClose(),this.props.connectAccountRequested({url:"",provider:S.kGi.LinkedIn,i13nModel:{mKey:Rl.JE.IMPORT_LINKEDIN_CONTACTS,sec:Rl.nJ.NOTIFICATION_ACTION}})}))}componentDidMount(){setImmediate((()=>{Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.LINKEDIN_AUTH_EXPIRED,sec:Rl.nJ.NOTIFICATION_ACTION}})}))}render(){const{mailBrandNameString:e}=this.context,t=qi.createElement(Sl.Z,{"aria-hidden":!0,kind:pl.F.CHROMELESS,onClick:this.handleClick},qi.createElement("span",{className:nE.actionLink,"data-test-id":"reconnect-link"},qi.createElement(Ji.FormattedMessage,{id:"notification.linkedin_auth_reconnect",defaultMessage:"Reconnect"})));return qi.createElement(Ji.FormattedMessage,{id:"notification.reconnect_to_linkedin",defaultMessage:"{Reconnect} to LinkedIn to see photos and job titles of your {mailBrandNameString} contacts.",values:{Reconnect:t,mailBrandNameString:e}})}}rE.contextTypes={mailBrandNameString:zi().string};const oE=(0,Yi.connect)(null,(e=>({connectAccountRequested:t=>e((0,aE.S9)(t))})))(rE);var iE=s(48003),lE=s.n(iE);const cE=gl()(lE());class dE extends qi.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"viewDeals",(()=>{const{accountId:e,defaultStorefrontBrandId:t,isStorefrontEnabled:s,onClose:a}=this.props,n=s?(0,wl.jK)(S.K8C.STOREFRONT,{accountIds:e,brandId:t}):(0,wl.jK)(S.K8C.COUPONS,{accountIds:e});Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.DEALS_VIEW_NAV_FROM_NOTIFICATION,interactionType:Rl.Rb.click,sec:Rl.nJ.MSG_BODY}}),this.context.navigateTo({route:n}),a()}))}render(){return qi.createElement(Ji.FormattedMessage,{id:"toast.saved_deals",defaultMessage:"Added to 'Saved deals'. {viewLink}",values:{viewLink:qi.createElement("a",{className:cE.link,onClick:this.viewDeals},qi.createElement(Ji.FormattedMessage,{id:"toast.view",defaultMessage:"View"}))}})}}dE.contextTypes={navigateTo:zi().func,getUrlFromRoute:zi().func};const EE=(0,Yi.connect)((e=>{var t;const{getSelectedAccountId:s,getStorefrontBrandsSelectors:a,isFeatureEnabled:n}=(0,Gl.selectors)(e),{getAllStorefrontBrands:r}=a(),o=(null===(t=r()[0])||void 0===t?void 0:t.brandId)||"";return{accountId:s(),defaultStorefrontBrandId:o,isStorefrontEnabled:n(S.ANe.STOREFRONT)}}))(dE);var _E=s(8389),uE=s.n(_E);const mE=gl()(uE());class SE extends qi.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"handleSplunkSearch",(()=>{window.open(this.props.splunkUrl,"_blank")}))}render(){return qi.createElement("div",null,qi.createElement(Ji.FormattedMessage,{id:"notification.exception_occurred",defaultMessage:"Javascript exception occurred."})," ",qi.createElement(Sl.Z,{kind:pl.F.CHROMELESS,"data-test-id":"search-btn",onClick:this.handleSplunkSearch},qi.createElement("span",{className:mE.button},qi.createElement(Ji.FormattedMessage,{id:"notification.exception_run_diagnostics",defaultMessage:"Run diagnostics"}))))}}var pE=s(14369),CE=s.n(pE);const AE=gl()(CE());class TE extends qi.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"undo",(e=>{this.props.onClose(),this.props.onClick(e)}))}render(){return qi.createElement(Sl.Z,{"aria-hidden":!0,"data-test-id":"undo-button",kind:pl.F.CHROMELESS,onClick:this.undo},qi.createElement("span",{className:AE.undo},qi.createElement(Ji.FormattedMessage,{id:"notifications.undo",defaultMessage:"Undo"})))}}const hE=(0,Yi.connect)(void 0,((e,{undoAction:t})=>({onClick:s=>e({...t,i13nModel:{mKey:Rl.JE.UNDO_MOVE_ACTION,sec:Rl.nJ.MSG_LIST_NOTIFICATION,interactionType:(0,Ca.getInteractionFromEvent)(s),...t.i13nModel||{}}})})))(TE);class gE extends qi.Component{render(){const{conversations:e,count:t,isAsync:s,undoAction:a,permanent:n,onClose:r,itemsToUpdate:o=[]}=this.props,i=o.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement("div",null,qi.createElement(Ji.FormattedMessage,{id:"notification.delete_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} =all {all conversations} other {# conversations} }} false {{count, plural, one {Message} =all {all conversations} other {# messages} }} } deleted.",values:{conversations:e,count:i}})," ",!n&&!s&&a&&qi.createElement(hE,{undoAction:a,onClose:r}))}}class IE extends qi.Component{render(){const{conversations:e,count:t,isAsync:s,undoAction:a,onClose:n,itemsToUpdate:r=[]}=this.props,o=r.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement("div",null,qi.createElement(Ji.FormattedMessage,{id:"notification.archive_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} =all {all conversations} other {# conversations} }} false {{count, plural, one {Message} =all {all messages} other {# messages} }} } moved to Archive.",values:{conversations:e,count:o}})," ",!s&&qi.createElement(hE,{undoAction:a,onClose:n}))}}class RE extends qi.Component{render(){const{destinationFolderId:e,count:t,conversations:s,isAsync:a,undoAction:n,onClose:r,itemsToUpdate:o=[]}=this.props,i=o.some((e=>Boolean(e.messageQuery)))?"all":t;return qi.createElement("div",null,qi.createElement(Ji.FormattedMessage,{id:"notification.move_message_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} =all {all conversations} other {# conversations} }} false {{count, plural, one {Message} =all {all messages} other {# messages} }} } moved to {destinationFolderName}.",values:{destinationFolderName:qi.createElement("strong",null,qi.createElement(Gc.Z,{folderId:e})),conversations:s,count:i}})," ",!a&&qi.createElement(hE,{undoAction:n,onClose:r}))}}var OE=s(88225),DE=s.n(OE);const NE=(0,Yi.connect)(void 0,(e=>({openPersonalInboxSettings:()=>e((0,ol.Ch)({route:(0,wl.Tx)({settingsGroupId:S.u5h.PERSONALIZE_INBOX})}))})))((e=>{const t=gl()(DE());return qi.createElement(Ji.FormattedMessage,{id:"notification.disable.breaking.news",defaultMessage:"Don't want Breaking News in Yahoo Mail? Disable in {settingsLink}",values:{settingsLink:qi.createElement("a",{className:t.link,onClick:e.openPersonalInboxSettings,"data-test-id":"settings-link"},qi.createElement(Ji.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"}))}})}));function fE(){return qi.createElement(Ji.FormattedMessage,{id:"cloud_storage_account_link.fetch_failed",defaultMessage:"Unable to fetch shareable link"})}function ME(){return qi.createElement(Ji.FormattedHTMLMessage,{id:"cloud_storage_account_not_verified",defaultMessage:"To share a file, please verify this email address on <a target={target} style={link} href={url}>dropbox.com</a>.",values:{url:"https://www.dropbox.com",link:"color:#188fff;",target:"_blank"}})}const LE=({folderName:e})=>qi.createElement(Ji.FormattedMessage,{id:"epoch.toast.calendar_event_created",defaultMessage:"Event added to {folder} calendar",values:{folder:qi.createElement("b",null,e)}}),PE=({folderName:e})=>qi.createElement(Ji.FormattedMessage,{id:"epoch.toast.calendar_event_create_failed",defaultMessage:"Fail to add event to {folder} calendar",values:{folder:qi.createElement("b",null,e)}}),yE=({folderName:e})=>qi.createElement(Ji.FormattedMessage,{id:"epoch.toast.calendar_event_deleted",defaultMessage:"Event removed from {folder} calendar",values:{folder:qi.createElement("b",null,e)}}),bE=({folderName:e})=>qi.createElement(Ji.FormattedMessage,{id:"epoch.toast.calendar_event_delete_failed",defaultMessage:"Fail to remove event from {folder} calendar",values:{folder:qi.createElement("b",null,e)}}),FE=()=>qi.createElement(Ji.FormattedMessage,{id:"epoch.toast.calendar_event_edited",defaultMessage:"Event has been saved"}),UE=()=>qi.createElement(Ji.FormattedMessage,{id:"epoch.toast.calendar_event_edit_failed",defaultMessage:"Event has not been saved. Please try again."}),vE=()=>qi.createElement(Ji.FormattedMessage,{id:"epoch.toast.calendar_event_replied",defaultMessage:"Your response has been saved."}),wE=()=>qi.createElement(Ji.FormattedMessage,{id:"epoch.toast.calendar_event_reply_failed",defaultMessage:"Your response has not been saved. Please try again."});var GE=s(84210),kE=s.n(GE),HE=s(68085);const{MAILPRO_SIGNUP_THNAKYOU_TOAST:BE,POST_SIGNUP_THANKYOU_TOAST:xE,FREE_TRIAL_ENDING_NOTICATION_1:VE}=S.$AH,WE=(0,HE._)((e=>{const t=gl()(kE()),{daysLeftInTrial:s,upsellId:a,handleLinkClick:n}=e,r=qi.createElement(Ji.FormattedMessage,{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"});switch(a){case BE:return qi.createElement(Ji.FormattedMessage,{id:"mailpro_free_trial_upgrade_success_notification",defaultMessage:"Thanks for activating {YahooMailProBrand}!",values:{YahooMailProBrand:r}});case xE:return qi.createElement(Ji.FormattedMessage,{id:"mailpro_free_trial_success_notification",defaultMessage:"Yay! Now enjoy free {YahooMailProBrand} for {daysDuration} days without any obligation.",values:{YahooMailProBrand:r,daysDuration:S.OIv}});case VE:return qi.createElement(Ji.FormattedMessage,{id:"mailpro_free_trial_upgrade_notification",defaultMessage:"Your {YahooMailProBrand} preview ends in {daysLeftInTrial} days.  {upgradeLink} to keep ad-free mail.",values:{YahooMailProBrand:r,daysLeftInTrial:s,upgradeLink:qi.createElement("a",{className:t.link,onClick:n,"data-test-id":"mailpro-free-trial-upgrade-link"},qi.createElement(Ji.FormattedMessage,{id:"ad.upgrade_now_btn_label",defaultMessage:"Upgrade now"}))}})}}));var ZE=s(64059),KE=s(336);class zE extends qi.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"handleLinkClick",(()=>{const{daysLeftInTrial:e,upsellId:t,toastClickURL:s}=this.props;Zc.ZP.sendI13nModel({i13nModel:{mKey:`toast_${S.ANe.MAILPRO_FREE_TRIAL_UPSELLS}_upgrade_${t}`,sec:Rl.nJ.MAIL_PREMIUM_FREE_TRIAL,actionData:{daysLeftInTrial:e},interactionType:Rl.Rb.click}}),(0,ZE.x)(s)}))}componentDidMount(){const{toastImpressionURL:e,upsellId:t}=this.props;t===S.$AH.FREE_TRIAL_ENDING_NOTICATION_1&&(0,KE.Z)(e,!1)}render(){const{daysLeftInTrial:e,upsellId:t,toastImpressionURL:s}=this.props,a={upsellId:t};return qi.createElement(WE,{"data-test-id":"mailpro-free-trial-toast-notification",daysLeftInTrial:e,cueName:S.ANe.MAILPRO_FREE_TRIAL_UPSELLS,handleLinkClick:this.handleLinkClick,computeUserResponse:()=>t,computeActionData:()=>a,upsellId:t,toastImpressionURL:s})}}const qE=(0,Yi.connect)((e=>{const{getMailPremiumFreeTrialSelectors:t,getSetting:s}=(0,Gl.selectors)(e),{getDaysLeftInTrial:a,getUpsellId:n}=t(),r=a(),o=n(),{toastImpressionURL:i,toastClickURL:l}=s(S.Zrf.MAILPRO_UPSELL_INSTRUMENTATION_URL);return{daysLeftInTrial:r,upsellId:o,toastImpressionURL:i,toastClickURL:l}}))(zE);var YE=s(33055),jE=s.n(YE);const QE=()=>qi.createElement(Ji.FormattedMessage,{id:"notification.deals_shown",defaultMessage:"Deals are enabled"}),XE=()=>qi.createElement(Ji.FormattedMessage,{id:"notification.deals_hidden",defaultMessage:"Deals hidden"}),JE=(0,Yi.connect)((e=>{const{isMobileRoute:t}=(0,Gl.selectors)(e);return{isMobileRoute:t()}}),(e=>({navigateToRoute:t=>e((0,ol.Ch)(t))})))((e=>{const{isMobileRoute:t,navigateToRoute:s}=e,a=gl()(jE(),{isMobileRoute:t}),n=qi.createElement("button",{className:a.button,onClick:e=>{const a={mKey:Rl.JE.SHOW_MAIL_PLUS_TAB,sec:Rl.nJ.NOTIFICATION_ACTION,interactionType:(0,Ca.getInteractionFromEvent)(e)};s({route:(0,wl.Tx)(t?{}:{settingsGroupId:S.u5h.MAIL_PLUS}),i13nModel:a})}},qi.createElement(Ji.FormattedMessage,{id:"notification.settings_link_mail_plus",defaultMessage:"Settings"}));return t?qi.createElement("div",{className:a.container},qi.createElement(XE,null),n):qi.createElement(Ji.FormattedMessage,{id:"notification.deals_hidden_with_settings_link",defaultMessage:"Deals hidden. To bring this feature back, go to {link}",values:{link:n}})})),$E=gl()(Ed()),e_=(0,Yi.connect)((e=>{const{isMobileRoute:t}=(0,Gl.selectors)(e);return{isMobileRoute:t()}}),(e=>({onSettingsLinkClick:t=>e((0,ol.Ch)(t))})))((({isMobileRoute:e,onSettingsLinkClick:t})=>qi.createElement("a",{className:$E.actionLink,onClick:s=>{const a={mKey:Rl.JE.SHOW_SETTINGS_PRIVACY_TAB,sec:Rl.nJ.NOTIFICATION_ACTION,interactionType:(0,Ca.getInteractionFromEvent)(s)};t({route:e?(0,wl.zo)():(0,wl.Tx)({settingsGroupId:S.u5h.SECURITY_AND_PRIVACY}),i13nModel:a})}},qi.createElement(Ji.FormattedMessage,{id:"notification.settings_link_blocked_domains",defaultMessage:"Manage in Settings"})))),t_=(0,Yi.connect)(((e,t)=>{const{brandId:s}=t,{getStorefrontBrandsSelectors:a}=(0,Gl.selectors)(e),{getBrandInfoFromBrandId:n}=a();return{brandName:n(s).name}}))((({brandName:e})=>qi.createElement(Ji.FormattedMessage,{id:"toast.favorite_brands",defaultMessage:"Updates from {brandName} will be shown first.",values:{brandName:e}})));var s_=s(39239),a_=s(90406);const n_=(0,Yi.connect)((e=>{const{getRoute:t}=(0,Gl.selectors)(e);return{routeUrl:t().url}}),(e=>({toggleAdvancedSearchPane:t=>e((0,s_.p)(t)),focusSearch:t=>e((0,a_.tB)(t))})))((e=>{const t=(0,qi.useRef)(!0),s=(0,qi.useRef)(null),a={color:Ue.nGq,cursor:"pointer"},{routeUrl:n,onClose:r,toggleAdvancedSearchPane:o,focusSearch:i}=e,l=e=>{const t={mKey:Rl.JE.ADVANCED_SEARCH,sec:Rl.nJ.NOTIFICATION_ACTION,interactionType:(0,Ca.getInteractionFromEvent)(e)};r(),o({}),i({i13nModel:t})};return(0,qi.useEffect)((()=>{var e;t.current?(t.current=!1,null===(e=s.current)||void 0===e||e.focus()):r()}),[n,r]),qi.createElement(Ji.FormattedMessage,{id:"notification.adv_search_prompt",defaultMessage:"Looking for something? Try {openSearchLink} for a person, business, or keyword",values:{openSearchLink:qi.createElement("a",{ref:s,tabIndex:0,style:a,onClick:l,onKeyDown:e=>{e.key===S.R8U.ENTER&&l(e)}},qi.createElement(Ji.FormattedMessage,{id:"notification.adv_search_prompt.open_search",defaultMessage:"searching"}))}})}));var r_=s(34970);const o_=gl()(Ed()),i_=(0,Yi.connect)((e=>{const{getCurrentFolderDetails:t,getAllItemsCountForListId:s,getFoldersSelectors:a,getRoute:n}=(0,Gl.selectors)(e),r=t(),o=r.listId,i=(0,Hl.Fh)(o),l=s(o),c=n().name===S.n8z.SEARCH,d=i?a().getFolderDisplayTypeByFolderId(i):"";return{allItemsCount:l,folderName:r.formattedFolderName,isSearchRoute:c,folderDisplayType:d}}),((e,{streamId:t,onClose:s})=>({onClick:a=>{return a.preventDefault(),s(),e((n={streamId:t},{...n,type:nc.ALL_STREAM_ITEMS_SELECTED_FOR_BULK_OPERATION,selectionType:S.ie0.ALL}));var n}})))((0,Ji.injectIntl)((({countOfMessageIdsInMemory:e,folderDisplayType:t,intl:s,isSearchRoute:a,countOfMessageGroupIdsInMemory:n,onClose:r,selectedItemsTotal:o,allItemsCount:i,folderName:l,onClick:c})=>{const{formatMessage:d}=s,E=(0,ns.h5)(d,t)||l,_=i>S.DTB,u=(0,qi.createRef)();return(0,qi.useEffect)((()=>{u.current&&u.current.focus(),0===o&&r()})),null===i||e>=i||o<n?null:a&&l!==S.v6P[S.K8C.STARRED]&&l!==S.v6P[S.K8C.UNREAD]?_?qi.createElement("a",{href:"#",className:o_.link,onClick:c,ref:u},qi.createElement(Ji.FormattedMessage,{id:"toast.confirmSelectAllAfterSearchLimitExceeded",defaultMessage:"Select the first 10,000 messages matching this search."})):qi.createElement("a",{href:"#",className:o_.link,onClick:c,ref:u},qi.createElement(Ji.FormattedMessage,{id:"toast.confirmSelectAllAfterSearch",defaultMessage:"Select all {allItemsCount, number} messages matching this search.",values:{allItemsCount:i}})):""===l?_?qi.createElement("a",{href:"#",className:o_.link,onClick:c,ref:u},qi.createElement(Ji.FormattedMessage,{id:"toast.confirmSelectAllNoFolderLimitExceeded",defaultMessage:"Select the first 10,000 messages."})):qi.createElement("a",{href:"#",className:o_.link,onClick:c,ref:u},qi.createElement(Ji.FormattedMessage,{id:"toast.confirmSelectAllNoFolder",defaultMessage:"Select all {allItemsCount, number} messages.",values:{allItemsCount:i}})):_?qi.createElement("a",{href:"#",className:o_.link,onClick:c,ref:u},qi.createElement(Ji.FormattedMessage,{id:"toast.confirmSelectAllLimitExceeded",defaultMessage:"Select the first 10,000 messages in {localizedFolderName}.",values:{localizedFolderName:E}})):qi.createElement("a",{href:"#",className:o_.link,onClick:c,ref:u},qi.createElement(Ji.FormattedMessage,{id:"toast.confirmSelectAll",defaultMessage:"Select all {allItemsCount, number} messages in {localizedFolderName}.",values:{allItemsCount:i,localizedFolderName:E}}))})));var l_=s(78263);const c_=(0,Yi.connect)((e=>{const{getCurrentListId:t,getNumberOfSelectedItemsInList:s,getMessageIdsFromMessageGroupId:a,getListsSelectors:n,getSetting:r,isFeatureEnabled:o}=(0,Gl.selectors)(e),i=t(),l=(0,l_.BA)([i]),c=n().getItemIdsSelectors(i).getItemIds();let d=0;if(r(S.ANe.CONVERSATIONS))for(let E=0;E<c.length;E++)d+=a(c[E]).length;else d=c.length;return{areConversationsEnabled:o(S.ANe.CONVERSATIONS),selectedItemsTotal:s(i),countOfMessageIdsInMemory:d,countOfMessageGroupIdsInMemory:c.length,streamId:l}}))((({areConversationsEnabled:e,selectedItemsTotal:t,streamId:s,countOfMessageIdsInMemory:a,onClose:n,countOfMessageGroupIdsInMemory:r})=>{const o=t<S.DTB?t:S.DTB;return qi.createElement(qi.Fragment,null,qi.createElement(Ji.FormattedMessage,{id:"toast.selectAllConfirmation",defaultMessage:"{areConversationsEnabled, select, true {{displayedTotal, plural, one {conversation} other {# conversations} }} false {{displayedTotal, plural, one {message} other {# messages} }} } selected.",values:{displayedTotal:o,areConversationsEnabled:e}})," ",t<S.DTB?qi.createElement(i_,{streamId:s,onClose:n,selectedItemsTotal:o,countOfMessageGroupIdsInMemory:r,countOfMessageIdsInMemory:a}):null)})),d_={[nc.ALL_STREAM_ITEMS_SELECTED]:({isSelectAllFeatureEnabled:e})=>e?{message:c_,type:S.j_x.NORMAL}:null,[nc.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED]:{message:({isFromSubscriptionsView:e})=>e?qi.createElement(Ji.FormattedMessage,{id:"notification.subhub_blocked_domain_add_success",defaultMessage:"Domain(s) blocked. {link}",values:{link:qi.createElement(e_,null)}}):qi.createElement(Ji.FormattedMessage,{id:"notification.blocked_domain_add_success",defaultMessage:"Blocked domain added"}),type:S.j_x.NORMAL},[nc.SETTINGS_BLOCKED_DOMAIN_ADD_FAILED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.blocked_domain_add_failed",defaultMessage:"Adding blocked domain failed"}),type:S.j_x.WARNING},[nc.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.blocked_domain_delete_success",defaultMessage:"Blocked domain deleted"}),type:S.j_x.NORMAL},[nc.SETTINGS_BLOCKED_DOMAIN_DELETE_FAILED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.blocked_domain_delete_failed",defaultMessage:"Deleting blocked domain failed"}),type:S.j_x.WARNING},[nc.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_group_create_new_success",defaultMessage:"Contact list created"}),type:S.j_x.NORMAL},[nc.CONTACTS_PANE_CREATE_GROUP_REQUESTED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_group_create_new",defaultMessage:"Creating contact list"}),type:S.j_x.PENDING},[nc.CONTACTS_PANE_SAVE_GROUP_REQUESTED]:({doUpdatesExist:e})=>e?{message:zc,type:S.j_x.PENDING}:{message:Kc,type:S.j_x.NORMAL},[nc.CONTACTS_PANE_SAVE_GROUP_SUCCEEDED]:{message:Kc,type:S.j_x.NORMAL},[nc.CONTACTS_PANE_SAVE_GROUP_FAILED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_group_edit_failed",defaultMessage:"Unable to update contact list"}),type:S.j_x.WARNING},[nc.CONTACTS_CSV_IMPORT_SUCCEEDED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contacts_csv_import_api_succeeded",defaultMessage:"Contacts importing initiated."}),type:S.j_x.NORMAL},[nc.CONTACTS_CSV_IMPORT_FAILED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contacts_csv_import_api_failed",defaultMessage:"Unable to import contacts"}),type:S.j_x.WARNING},[nc.CONTACTS_CSV_IMPORT_SIZE_FAILED]:{message:()=>{const e=(0,qi.useRef)(null),t=(0,qi.useCallback)((t=>{null!=e&&e.current&&(e.current.click(),Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.IMPORT_CSV_CONTACTS_CLICKED,sec:Rl.nJ.NOTIFICATION_ACTION,interactionType:(0,Ca.getInteractionFromEvent)(t)}}))}),[]),s=qi.createElement("span",{onClick:t,style:{color:Ue.nGq,cursor:"pointer"}},qi.createElement(Ji.FormattedMessage,{id:"notification.contacts_csv_import_size_failed_try_again",defaultMessage:"try again"}),qi.createElement(Wc.Z,{ref:e}));return qi.createElement(Ji.FormattedMessage,{id:"notification.contacts_csv_import_size_failed",defaultMessage:"Maximum file size exceeded. Please {tryAgainLink} with a file under 5MB.",values:{tryAgainLink:s}})},type:S.j_x.WARNING},[nc.EXPORT_ALL_CONTACTS_REQUESTED]:{message:function(){return qi.createElement(Ji.FormattedMessage,{id:"contacts_export_notifications.export_to_csv",defaultMessage:"Your export will start shortly"})},type:S.j_x.PENDING},[nc.FETCH_ALL_CONTACTS_FAILED]:{message:function(){return qi.createElement(Ji.FormattedMessage,{id:"contacts_export_notifications.print_all_contacts_failed",defaultMessage:"Unable to Print Contacts"})},type:S.j_x.WARNING},[nc.SOCIAL_ACCOUNTS_CONNECT_FAILED]:{message:function({provider:e}){let t;const s=(0,g.u9)(sE.F,`${e}.displayName`);return t=s?qi.createElement(Ji.FormattedMessage,s):e,qi.createElement(Ji.FormattedMessage,{id:"social_account_notifications.auth_failed",defaultMessage:"Unable to connect to {provider}",values:{provider:t}})},type:S.j_x.WARNING},[nc.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED]:{message:function({provider:e}){let t;const s=(0,g.u9)(sE.F,`${e}.displayName`);return t=s?qi.createElement(Ji.FormattedMessage,s):e,qi.createElement(Ji.FormattedMessage,{id:"social_account_notifications.auth_successful",defaultMessage:"Successfully connected to {provider}",values:{provider:t}})},type:S.j_x.NORMAL},[nc.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED]:{message:function({provider:e}){let t;const s=(0,g.u9)(sE.F,`${e}.displayName`);return t=s?qi.createElement(Ji.FormattedMessage,s):e,qi.createElement(Ji.FormattedMessage,{id:"social_account_notifications.auth_url_fetch_failed",defaultMessage:"Unable to redirect to {provider}",values:{provider:t}})},type:S.j_x.WARNING},[nc.SOCIAL_ACCOUNTS_STATUS_RECEIVED]:({response:e},t)=>{const s=(0,g.u9)(e,S.Nq8.LinkedIn,{});if((0,h.jU)()&&s.status===S.UcZ.EXPIRED){const{getSetting:e}=(0,Gl.selectors)(t),a=e(S.Zrf.LINKEDIN_EXPIRY_NOTIFY_DAYS);if(Math.round(window.AppBootstrapData.launchTime/1e3)-s.expiredTimestamp<86400*a)return{message:oE,type:S.j_x.WARNING}}return null},[nc.RENAME_FOLDER_SUCCEEDED]:{message:function({newFolderName:e,originalFolderName:t}){return qi.createElement(Ji.FormattedMessage,{id:"folder.rename_success",defaultMessage:"Folder {originalFolderName} renamed to {newFolderName}",values:{newFolderName:qi.createElement("strong",null,e),originalFolderName:qi.createElement("strong",null,t)}})},type:S.j_x.NORMAL},[nc.RENAME_FOLDER_FAILED]:{message:function({newFolderName:e,originalFolderName:t}){return qi.createElement(Ji.FormattedMessage,{id:"folder.rename_failure",defaultMessage:"Failed renaming folder {originalFolderName} to {newFolderName}",values:{newFolderName:qi.createElement("strong",null,e),originalFolderName:qi.createElement("strong",null,t)}})},type:S.j_x.WARNING},[nc.MOVE_FOLDER_SUCCEEDED]:{message:function({originalFolderName:e}){return qi.createElement(Ji.FormattedMessage,{id:"folder.move_success",defaultMessage:"Folder {originalFolderName} moved successfully",values:{originalFolderName:qi.createElement("strong",null,e)}})},type:S.j_x.NORMAL},[nc.MOVE_FOLDER_FAILED]:{message:function(e){const{originalFolderName:t,error:{data:s={}}}=e;return!!Object.keys(s).find((e=>(0,g.u9)(s[e],"response.error.validationErrors",[]).indexOf("NAME")>-1))?qi.createElement(Ji.FormattedMessage,{id:"folder.move_failure_on_name_length",defaultMessage:"Folder could not be moved because the new path is more than 240 characters"}):qi.createElement(Ji.FormattedMessage,{id:"folder.move_failure",defaultMessage:"Failed moving folder {originalFolderName}",values:{originalFolderName:qi.createElement("strong",null,t)}})},type:S.j_x.WARNING},[nc.CREATE_FOLDER_SUCCEEDED]:({alertFromModalDialog:e=!1})=>({message:$c,type:S.j_x.NORMAL,alertFromModalDialog:e}),[nc.CONTACTS_GROUP_DELETE_REQUESTED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.list_delete_in_progress",defaultMessage:"Deleting Contacts List"}),type:S.j_x.PENDING},[nc.CONTACTS_GROUP_DELETE_SUCCEEDED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.list_delete_succeeded",defaultMessage:"Contacts List Deleted"}),type:S.j_x.NORMAL},[nc.CONTACTS_GROUP_DELETE_FAILED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.list_delete_failed",defaultMessage:"Unable to delete Contacts List"}),type:S.j_x.WARNING},[nc.DELETE_CONTACT_REQUESTED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_delete_in_progress",defaultMessage:"Deleting contact"}),type:S.j_x.PENDING},[nc.DELETE_CONTACT_FAILED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_delete_failed",defaultMessage:"Unable to delete contact"}),type:S.j_x.WARNING},[nc.DELETE_CONTACT_SUCCEEDED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_delete_succeeded",defaultMessage:"Contact deleted"}),type:S.j_x.NORMAL},[nc.CONTACT_SAVE_SUCCEEDED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_save_success",defaultMessage:"Contact updated"}),type:S.j_x.NORMAL},[nc.CONTACT_SAVE_FAILED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_save_failure",defaultMessage:"Unable to save"}),type:S.j_x.WARNING},[nc.CONTACT_SAVE_REQUESTED]:{message:({oldContact:e={}})=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_save_in_progress",defaultMessage:" {option, select, true {Saving contact} false {Creating contact} }",values:{option:!!e.id}}),type:S.j_x.PENDING},[nc.CREATE_CONTACT_SUCCEEDED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_create_success",defaultMessage:"Contact created"}),type:S.j_x.NORMAL},[nc.CREATE_CONTACT_FAILED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_create_failure",defaultMessage:"Unable to create contact"}),type:S.j_x.WARNING},[nc.CONTACT_PHOTO_UPLOAD_SUCCEEDED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_upload_photo_success",defaultMessage:"Contact photo uploaded"}),type:S.j_x.NORMAL},[nc.CONTACT_PHOTO_UPLOAD_FAILED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.contact_upload_photo_failure",defaultMessage:"Unable to upload photo"}),type:S.j_x.WARNING},[nc.CREATE_FOLDER_FAILED]:({alertFromModalDialog:e=!1})=>({message:ed,type:S.j_x.WARNING,alertFromModalDialog:e}),[nc.DELETE_FOLDER_SUCCEEDED]:{message:function({folderName:e}){return qi.createElement(Ji.FormattedMessage,{id:"folder.delete_success",defaultMessage:"{folderName} folder deleted",values:{folderName:qi.createElement("strong",null,e)}})},type:S.j_x.NORMAL},[nc.DELETE_FOLDER_FAILED]:{message:function({folderName:e}){return qi.createElement(Ji.FormattedMessage,{id:"folder.delete_failure",defaultMessage:"Failed deleting {folderName} folder",values:{folderName:qi.createElement("strong",null,e)}})},type:S.j_x.WARNING},[nc.DELETE_NON_EMPTY_FOLDER_REQUESTED]:{message:function({folderId:e}){return qi.createElement(Ji.FormattedMessage,{id:"folder.delete_nonempty",defaultMessage:"Only empty folders can be deleted. Please delete all contents of the {folderName} folder first.",values:{folderName:qi.createElement("strong",null,qi.createElement(Gc.Z,{folderId:e}))}})},type:S.j_x.WARNING},[nc.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED]:{message:Rc,type:S.j_x.WARNING,requireInteraction:!0},[nc.COMPOSE_NO_ADDRESS_DETECTED]:{message:Vc.$6,type:S.j_x.WARNING},[nc.SHOW_INVALID_REPLY_TO_ADDRESS_ALERT]:{message:Vc.rW,type:S.j_x.WARNING},[nc.COMPOSE_RECIPIENT_LIMIT_EXCEEDED]:{message:Vc.s7,type:S.j_x.WARNING},[nc.COMPOSE_ADDRESSING_FAILED]:{message:Vc.$i,type:S.j_x.WARNING},[nc.SEND]:{message:Vc.vw,type:S.j_x.NORMAL,requireInteraction:!0},[nc.V3_MESSAGE_SEND_REQUESTED]:{message:Vc.vw,type:S.j_x.PENDING,sticky:!0,requireInteraction:!0},[nc.SEND_FAILURE]:{message:Tc,type:S.j_x.WARNING},[nc.V3_MESSAGE_SEND_FAILED]:{message:Tc,type:S.j_x.WARNING},[nc.MESSAGE_SAVE_FAILED]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:Ic,type:S.j_x.WARNING}:{message:Vc.GX,type:S.j_x.WARNING,priority:S.l9v.MEDIUM},[nc.V3_MESSAGE_SAVE_FAILED]:({error:e,showNotification:t=!0})=>e&&"ES-2001"===e.errorCode?{message:Ic,type:S.j_x.WARNING}:t?{message:Vc.GX,type:S.j_x.WARNING,priority:S.l9v.MEDIUM}:null,[nc.MESSAGE_AUTO_SAVE_FAILED]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:Ic,type:S.j_x.WARNING}:null,[nc.SPONSORED_SAVE_TO_INBOX_SUCCEEDED]:{message:Vc.FP,type:S.j_x.NORMAL},[nc.SPONSORED_SAVE_TO_INBOX_FAILED]:{message:Vc.jG,type:S.j_x.WARNING},[nc.DELETE_DRAFT_SUCCEEDED]:{message:Vc.SP,type:S.j_x.NORMAL},[nc.DELETE_DRAFT_FAILED]:{message:Vc.Gs,type:S.j_x.WARNING},[nc.UNDO_MOVE_SUCCEEDED]:{message:Dd,type:S.j_x.NORMAL},[nc.UNDO_MOVE_FAILED]:{message:Nd,type:S.j_x.WARNING},[nc.GEMINI_SPONSORED_ASSET_FAILED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.geminiSponsoredAssetFailed",defaultMessage:"Ad asset load failed"}),type:S.j_x.WARNING},[nc.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED]:{message:xd,type:S.j_x.NORMAL},[nc.SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED]:({enabled:e})=>e?null:{message:xd,type:S.j_x.NORMAL},[nc.CONFIRM_EMAIL_RESEND_SUCCEEDED]:{message:function(){return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_resend_confirm_succeed",defaultMessage:"Confirmation email sent."})},type:S.j_x.NORMAL},[nc.CONFIRM_EMAIL_RESEND_FAILED]:{message:function(){return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_resend_confirm_failed",defaultMessage:"Confirmation email sent failed."})},type:S.j_x.WARNING},[nc.ACCOUNT_REAUTH_SUCCEEDED]:{message:function(){return qi.createElement(Ji.FormattedMessage,{id:"notification.settings_account_reauth_succeed",defaultMessage:"Mailbox reauthorized. Sync will begin soon."})},type:S.j_x.NORMAL},[nc.ACCOUNT_REAUTH_FAILED]:{message:$d,type:S.j_x.WARNING},[nc.SETTINGS_CHANGE_SUCCEEDED]:(e,t)=>{switch(e.name){case S.Zrf.DISABLED_MESSAGE_READ_CARDS:{const{isFeatureEnabled:e,getRoute:s}=(0,Gl.selectors)(t),a=e(S.ANe.DEAL_RECOMMENDATIONS_ENABLED),n=s().name===S.n8z.SETTINGS?XE:JE;return{message:a?QE:n,type:S.j_x.NORMAL}}case S.Zrf.NUDGE_TO_REPLY_SETTING:{const{isFeatureEnabled:e}=(0,Gl.selectors)(t);return{message:e(S.Zrf.NUDGE_TO_REPLY_SETTING)?eE:tE,type:S.j_x.NORMAL}}case S.Zrf.MESSAGE_FILTERS:return{message:Wd,type:S.j_x.NORMAL};case S.Zrf.DELIVERY_BLOCKED_SENDERS:return e.delta<0?{message:qd,type:S.j_x.NORMAL}:{message:zd,type:S.j_x.NORMAL}}return null},[nc.SETTINGS_CHANGE_FAILED]:({name:e,delta:t})=>{switch(e){case S.Zrf.MESSAGE_FILTERS:return{message:Zd,type:S.j_x.WARNING};case S.Zrf.DELIVERY_BLOCKED_SENDERS:return t<0?{message:jd,type:S.j_x.WARNING}:{message:Yd,type:S.j_x.WARNING}}return{message:Qd,type:S.j_x.WARNING}},[nc.DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED]:{message:function({baseName:e}){return qi.createElement(Ji.FormattedMessage,{id:"dea_basename_unavailable_text",defaultMessage:"{baseName} is not available. Please use another nickname.",values:{baseName:e}})},type:S.j_x.WARNING},[nc.EXCEPTION_OCCURRED]:{message:SE,type:S.j_x.WARNING,modal:!0},[nc.DOWNLOAD_FAILED]:{message:function(e){const{fileCount:t=1,filename:s,error:a={}}=e,{code:n="",validationErrors:r=[]}=a;return"EC-4001"===n&&r.join("").indexOf("virus")>-1?qi.createElement(Ji.FormattedMessage,{id:"notification.download_virus_error",defaultMessage:"Virus scan failed. Unable to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:t,filename:s}}):qi.createElement(Ji.FormattedMessage,{id:"notification.download_error",defaultMessage:"Failed to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:t,filename:s}})},type:S.j_x.WARNING},[nc.LAUNCH_COMPLETED]:(e,t)=>{const{getLaunchError:s}=(0,Gl.selectors)(t);switch(s()){case S.Rtf.FOLDER_ACCESS_FAILED:return{message:id,type:S.j_x.ADVISORY,icon:tl.Kinds.ATTENTION};case S.Rtf.MESSAGE_ACCESS_FAILED:return{message:fd,type:S.j_x.ADVISORY,icon:tl.Kinds.ATTENTION};case S.Rtf.COMPOSE_ACCESS_FAILED:return{message:Vc.hp,type:S.j_x.ADVISORY,icon:tl.Kinds.ATTENTION};case S.Rtf.SETTINGS_FAILED_TO_LOAD:return{message:Kd,type:S.j_x.ADVISORY,icon:tl.Kinds.ATTENTION}}return null},[nc.POST_LAUNCH_SYNC_SUCCEEDED]:(e,t)=>{const{getRoute:s,getMailboxesSelectors:a,doesFolderIdExist:n,getAccountIdByFolderId:r}=(0,Gl.selectors)(t),o=s(),i=(0,Hl.LY)(o),l=(0,Hl.Fh)(i);if(l&&n(l)){const e=a(),t=r(l);if(e.isAccountExpired(t))return{message:Sd,type:S.j_x.WARNING}}return null},[nc.MAILBOX_NOT_SYNCING]:{message:md,type:S.j_x.WARNING},[nc.TIMEZONE_CHANGE_DETECTED]:{message:_c,type:S.j_x.ADVISORY,icon:tl.Kinds.CLOCK,sticky:!1,requireInteraction:!0},[nc.SEND_SUCCESS]:{message:gc,type:S.j_x.NORMAL},[nc.V3_MESSAGE_SEND_SUCCEEDED]:{message:gc,type:S.j_x.NORMAL},[nc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED]:{message:gc,type:S.j_x.NORMAL},[nc.ONLINE_STATUS_CHANGED]:({online:e})=>e?null:{message:cd,type:S.j_x.WARNING,requireInteraction:!0,icon:tl.Kinds.NO_INTERNET,sticky:!0,priority:S.l9v.HIGH},[nc.FEATURE_CLOSED]:({name:e})=>e===S.ANe.THEMES_CUE_V3?{message:Jc,type:S.j_x.NORMAL}:e===S.ANe.COMPOSE_FORMAT_CUE?{message:Vc.u3,type:S.j_x.NORMAL}:null,[nc.READ_CHANGE_REQUESTED]:({isAsync:e})=>e?{message:xc,type:S.j_x.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[nc.STAR_CHANGE_REQUESTED]:({isAsync:e})=>e?{message:xc,type:S.j_x.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[nc.DELETE_ITEMS_REQUESTED]:({isAsync:e})=>e?{message:xc,type:S.j_x.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[nc.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:({isAsync:e})=>e?{message:xc,type:S.j_x.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[nc.BULK_PROGRESS_INITIATED]:{message:xc,type:S.j_x.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0},[nc.BULK_CANCEL_FAILED]:{message:xc,type:S.j_x.ADVISORY,requireInteraction:!1,sticky:!1,modal:!0},[nc.SETTINGS_SAVE_FILTERS_SUCCEEDED]:{message:Wd,type:S.j_x.NORMAL},[nc.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED]:({actionType:e})=>{switch(e){case uc.aI.SAVE:return{message:Xd,type:S.j_x.NORMAL};case uc.aI.DELETE:return{message:Jd,type:S.j_x.NORMAL};case uc.aI.SWITCH_ON:case uc.aI.SWITCH_OFF:default:return null}},[nc.ATTACHMENT_PREVIEW_FAILED]:{message:function({downloadUrl:e}){const t={color:Ue.nGq};return qi.createElement(Ji.FormattedMessage,{id:"attachment_tray.unsupported_files",defaultMessage:"Please {download} to view this file",values:{download:qi.createElement("a",{style:t,href:e,rel:"noopener"},qi.createElement(Ji.FormattedMessage,{id:"attachment_tray.unsupported_file_download_link",defaultMessage:"download"}))}})},type:S.j_x.WARNING},[nc.DELETE_ITEMS_SUCCEEDED]:{message:gE,type:S.j_x.NORMAL},[nc.COUPONS_ADD_TAG_DECO_SUCCEEDED]:(e,t)=>{const{getRoute:s,isStorefrontRoute:a}=(0,Gl.selectors)(t),n=s(),r=(0,Hl.LY)(n);if((0,Hl.WN)(r)!==S.F6k.COUPON_CARDS&&!a())return{message:EE,type:S.j_x.NORMAL}},[nc.PHISHING_REMOVE_BDM_DECO_SUCCEEDED]:{message:({conversations:e})=>qi.createElement(Ji.FormattedMessage,{id:"notification.phishingRemoveDeco_success",defaultMessage:"{conversations, select, true {Conversation} false {Message} } was successfully marked as safe",values:{conversations:e}}),type:S.j_x.NORMAL},[nc.PHISHING_REMOVE_BDM_DECO_FAILED]:{message:({conversations:e})=>qi.createElement(Ji.FormattedMessage,{id:"notification.phishingRemoveDeco_failure",defaultMessage:"{conversations, select, true {Conversation} false {Message} } could not be marked as safe",values:{conversations:e}}),type:S.j_x.WARNING},[nc.DELETE_ITEMS_FAILED]:{message:Od,type:S.j_x.WARNING},[nc.UPDATE_ITEMS_SUCCEEDED]:e=>{const{messageItemsToSync:t=[],triageActionType:s,isAsync:a=!1}=e,n=t.length>0?t[t.length-1]:{},{updateTypes:r=[]}=n,o=r.length>0?r[r.length-1]:"";switch(s){case S.Ewo.ARCHIVE_FOLDER_ITEMS:return{message:ad,type:S.j_x.NORMAL};case S.Ewo.ARCHIVE_ALL_ITEMS:case S.Ewo.RESTORE_ALL_ITEMS:case S.Ewo.SPAM_ALL_ITEMS:case S.Ewo.NOT_SPAM_ALL_ITEMS:case S.Ewo.MOVE_ALL_ITEMS:return{message:Fd,type:S.j_x.NORMAL};case S.Ewo.DELETE_FOLDER_ITEMS:case S.Ewo.DELETE_ALL_ITEMS:return{message:rd,type:S.j_x.NORMAL};case S.Ewo.READ_CHANGE_FOLDER_ITEMS:case S.Ewo.READ_CHANGE_ALL_ITEMS:return{message:td,type:S.j_x.NORMAL};case S.Ewo.STAR_CHANGE_ALL_ITEMS:return{message:vd,type:S.j_x.NORMAL};case S.Ewo.ARCHIVE_SELECTED_ITEMS:return{message:IE,type:S.j_x.NORMAL};case S.Ewo.RESTORE_SELECTED_ITEMS:return{message:Id,type:S.j_x.NORMAL};case S.Ewo.SPAM_SELECTED_ITEMS:return{message:Cd,type:S.j_x.NORMAL};case S.Ewo.NOT_SPAM_SELECTED_ITEMS:return{message:Td,type:S.j_x.NORMAL};case S.Ewo.MOVE_SELECTED_ITEMS:return{message:RE,type:S.j_x.NORMAL};case S.Ewo.DELETE_SELECTED_ITEMS:return{message:gE,type:S.j_x.NORMAL};case S.Ewo.DELETE_ALL_FROM_SENDERS:return{message:Md,type:S.j_x.NORMAL};case S.Ewo.UNDO_MOVE:return{message:Dd,type:S.j_x.NORMAL};case S.Ewo.DELETE_DRAFT:return{message:Vc.SP,type:S.j_x.NORMAL}}switch(o){case S.oc$.READ:case S.oc$.STAR:case S.oc$.SPAM:case S.oc$.HAM:case S.oc$.ANSWER:case S.oc$.FORWARD:case S.oc$.DECO:return a?{message:Pd,type:S.j_x.NORMAL}:null}},[nc.UPDATE_ITEMS_FAILED]:e=>{const{messageItemsToSync:t=[],triageActionType:s,isAsync:a=!1,deletedMessages:n=[]}=e,r=t.length>0?t[t.length-1]:{},{updateTypes:o=[]}=r,i=o.length>0?o[o.length-1]:"";if(n.length===t.length)return{message:fd,type:S.j_x.ADVISORY,icon:tl.Kinds.ATTENTION};switch(s){case S.Ewo.ARCHIVE_FOLDER_ITEMS:return{message:nd,type:S.j_x.WARNING};case S.Ewo.ARCHIVE_ALL_ITEMS:case S.Ewo.RESTORE_ALL_ITEMS:case S.Ewo.SPAM_ALL_ITEMS:case S.Ewo.NOT_SPAM_ALL_ITEMS:case S.Ewo.MOVE_ALL_ITEMS:return{message:Ud,type:S.j_x.WARNING};case S.Ewo.DELETE_FOLDER_ITEMS:case S.Ewo.DELETE_ALL_ITEMS:return{message:od,type:S.j_x.WARNING};case S.Ewo.READ_CHANGE_FOLDER_ITEMS:case S.Ewo.READ_CHANGE_ALL_ITEMS:return{message:sd,type:S.j_x.WARNING};case S.Ewo.STAR_CHANGE_ALL_ITEMS:return{message:wd,type:S.j_x.WARNING};case S.Ewo.ARCHIVE_SELECTED_ITEMS:return{message:gd,type:S.j_x.WARNING};case S.Ewo.RESTORE_SELECTED_ITEMS:return{message:Rd,type:S.j_x.WARNING};case S.Ewo.SPAM_SELECTED_ITEMS:return{message:Ad,type:S.j_x.WARNING};case S.Ewo.NOT_SPAM_SELECTED_ITEMS:return{message:hd,type:S.j_x.WARNING};case S.Ewo.MOVE_SELECTED_ITEMS:return{message:pd,type:S.j_x.WARNING};case S.Ewo.DELETE_SELECTED_ITEMS:return{message:Od,type:S.j_x.WARNING};case S.Ewo.DELETE_ALL_FROM_SENDERS:return{message:Ld,type:S.j_x.WARNING};case S.Ewo.UNDO_MOVE:return{message:Nd,type:S.j_x.WARNING};case S.Ewo.DELETE_DRAFT:return{message:Vc.Gs,type:S.j_x.WARNING}}switch(i){case S.oc$.READ:case S.oc$.STAR:case S.oc$.SPAM:case S.oc$.HAM:case S.oc$.ANSWER:case S.oc$.FORWARD:case S.oc$.DECO:return a?{message:yd,type:S.j_x.WARNING}:null}},[nc.ACTIVATE_OFFER_FAILED]:({error:e})=>"cancelledAPICall"===e?null:{message:bd,type:S.j_x.WARNING},[nc.LINK_RETAILER_SUCCEEDED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.link_retailer_success",defaultMessage:"Linked retailer successfully."}),type:S.j_x.NORMAL},[nc.UNLINK_RETAILER_SUCCEEDED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.unlink_retailer_success",defaultMessage:"Loyalty card has been sucessfully unlinked"}),type:S.j_x.NORMAL},[nc.UNLINK_RETAILER_FAILED]:{message:()=>qi.createElement(Ji.FormattedMessage,{id:"notification.unlink_retailer_failure",defaultMessage:"Unable to unlink the card now. Try again later."}),type:S.j_x.WARNING},[nc.ACCOUNT_DETAILS_CHANGE_FAILED]:{message:$d,type:S.j_x.WARNING},[nc.UNSUBSCRIBE_BY_EMAIL_SUCCEEDED]:{message:function(){return qi.createElement(Ji.FormattedMessage,{id:"notification.unsub_request_succeeded",defaultMessage:"Unsubscribe request sent."})},type:S.j_x.NORMAL},[nc.UNSUBSCRIBE_BY_EMAIL_FAILED]:{message:function(){return qi.createElement(Ji.FormattedMessage,{id:"notification.unsub_request_failed",defaultMessage:"Unsubscribe failed. Try Again."})},type:S.j_x.WARNING},[nc.BREAKING_NEWS_DISMISSED]:{message:NE,type:S.j_x.NORMAL},[nc.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS]:(e,t)=>{const{POST_SIGNUP_THANKYOU_TOAST:s,FREE_TRIAL_ENDING_NOTICATION_1:a,MAILPRO_SIGNUP_THNAKYOU_TOAST:n}=S.$AH,{getMailPremiumFreeTrialSelectors:r,isFeatureEnabled:o}=(0,Gl.selectors)(t),i=r().getUpsellId();if(o(S.ANe.MAILPRO_FREE_TRIAL_UPSELLS))switch(i){case s:case n:return{message:qE,type:S.j_x.NORMAL,priority:S.l9v.MEDIUM};case a:return{message:qE,type:S.j_x.ADVISORY,icon:tl.Kinds.INFO,priority:S.l9v.MEDIUM};default:return null}return null},[nc.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED]:{message:function({provider:e}){let t=e;const s=(0,g.u9)(S.P$E,`${e}.displayName`);return s&&(t=s),qi.createElement(Ji.FormattedMessage,{id:"cloud_storage_account_notifications.auth_url_fetch_failed",defaultMessage:"Unable to redirect to {provider}",values:{provider:t}})},type:S.j_x.WARNING},[nc.CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED]:{message:function({provider:e}){let t=e;const s=(0,g.u9)(S.P$E,`${e}.displayName`);return s&&(t=s),qi.createElement(Ji.FormattedMessage,{id:"cloud_storage_account_notifications.auth_failed",defaultMessage:"Unable to connect to {provider}",values:{provider:t}})},type:S.j_x.WARNING},[nc.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED]:{message:function({provider:e}){let t=e;const s=(0,g.u9)(S.P$E,`${e}.displayName`);return s&&(t=s),qi.createElement(Ji.FormattedMessage,{id:"cloud_storage_account_notifications.auth_successful",defaultMessage:"Successfully connected to {provider}",values:{provider:t}})},type:S.j_x.NORMAL},[nc.CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED]:{message:function({provider:e}){let t=e;const s=(0,g.u9)(S.P$E,`${e}.displayName`);return s&&(t=s),qi.createElement(Ji.FormattedMessage,{id:"cloud_storage_account_notifications.disconnect_failed",defaultMessage:"Unable to disconnect from {provider}",values:{provider:t}})},type:S.j_x.WARNING},[nc.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED]:{message:function({provider:e}){let t=e;const s=(0,g.u9)(S.P$E,`${e}.displayName`);return s&&(t=s),qi.createElement(Ji.FormattedMessage,{id:"cloud_storage_account_notifications.disconnect_successful",defaultMessage:"Successfully disconnected from {provider}",values:{provider:t}})},type:S.j_x.NORMAL},[nc.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED]:e=>{const{error:t,provider:s}=e,a=null==t?void 0:t.statusCode;return{message:s===S.hKF.DROPBOX&&409===a?ME:fE,type:S.j_x.WARNING}},[nc.SCROLL_TO_SEARCH_PAGE_SCROLLED]:(e,t)=>{const{pageMarkerScrollPosition:s}=(0,Gl.selectors)(t);return s()===r_.Ij.FIRST_PAGE_MARKER?{message:n_,type:S.j_x.NORMAL,icon:tl.Kinds.SEARCH,bottomAlert:!0,requireInteraction:!0}:null},[rc.Z.CREATE_SINGLE_NEW_EVENT_SUCCEEDED]:{message:LE,type:S.j_x.NORMAL,icon:tl.Kinds.FOLDER},[rc.Z.CREATE_RECURR_NEW_EVENTS_SUCCEEDED]:{message:LE,type:S.j_x.NORMAL,icon:tl.Kinds.FOLDER},[rc.Z.EDIT_RECURR_EVENTS_SUCCEEDED]:{message:FE,type:S.j_x.NORMAL,icon:tl.Kinds.FOLDER},[rc.Z.EDIT_SINGLE_EVENT_SUCCEEDED]:{message:FE,type:S.j_x.NORMAL,icon:tl.Kinds.FOLDER},[rc.Z.DELETE_SINGLE_EVENT_SUCCEEDED]:{message:yE,type:S.j_x.WARNING,icon:tl.Kinds.FOLDER},[rc.Z.DELETE_RECURR_EVENTS_SUCCEDDED]:{message:yE,type:S.j_x.WARNING,icon:tl.Kinds.FOLDER},[rc.Z.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED]:{message:vE,type:S.j_x.NORMAL,icon:tl.Kinds.FOLDER},[rc.Z.RSVP_REPLY_RECURR_EVENT_SUCCEEDED]:{message:vE,type:S.j_x.NORMAL,icon:tl.Kinds.FOLDER},[rc.Z.CREATE_SINGLE_NEW_EVENT_FAILED]:{message:PE,type:S.j_x.WARNING},[rc.Z.CREATE_RECURR_NEW_EVENTS_FAILED]:{message:PE,type:S.j_x.WARNING},[rc.Z.EDIT_SINGLE_EVENT_FAILED]:{message:UE,type:S.j_x.WARNING},[rc.Z.EDIT_RECURR_EVENTS_FAILED]:{message:UE,type:S.j_x.WARNING},[rc.Z.RSVP_REPLY_RECURR_EVENT_FAILED]:{message:wE,type:S.j_x.WARNING},[rc.Z.RSVP_REPLY_SINGLE_EVENT_FAILED]:{message:wE,type:S.j_x.WARNING},[rc.Z.DELETE_SINGLE_EVENT_FAILED]:{message:bE,type:S.j_x.WARNING},[rc.Z.DELETE_RECURR_EVENTS_FAILED]:{message:bE,type:S.j_x.WARNING},[nc.STOREFRONT_BRAND_FOLLOW_SUCCEEDED]:{message:t_,type:S.j_x.NORMAL}};var E_=s(95464),__=s(83034),u_=s(52395);function m_(){return(m_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const S_=(0,Yi.connect)((e=>{const{isEnabled:t}=(0,Gl.selectors)(e).getFeaturesSelectors();return{multiTask:t(S.Zrf.MAIL_TABS),conversations:t(S.ANe.CONVERSATIONS),ybarFuji2:t(S.ANe.YBAR_FUJI2_THEME)}}))((({toast:e,role:t,onClose:s,onPause:a,onResume:n,multiTask:r,conversations:o,ybarFuji2:i})=>{const l=(0,qi.useRef)(),c=(0,qi.useRef)(),d=(0,qi.useRef)(),E=(0,u_.I)(),[_,u]=(0,qi.useState)(),m=(0,qi.useCallback)((()=>{e.message===_c&&E({type:nc.PREFERRED_TIMEZONE_CHANGE_REJECTED}),s()}),[E,s,null==e?void 0:e.message]);(0,qi.useEffect)((()=>{const e=document.getElementById("app"),t=t=>{const s=S._tT[t],a=S.av1[t],n=document.createElement("div");return n.setAttribute("role",s),n.setAttribute("aria-live",a),e.appendChild(n),n};l.current=t("ALERT_DIALOG"),c.current=t("STATUS"),d.current=t("ALERT"),u(!0)}),[]);const{message:p,data:C,type:A=S.j_x.WARNING,sticky:T=!1,modal:h=!1,icon:g,bottomAlert:I=!1,alertFromModalDialog:R=!1}=e||{},O=(0,__.Z)(CE(),{bottomAlert:I,alertFromModalDialog:R,multiTask:r&&!I,ybarFuji2:i&&!I,ybarFuji2MultiTask:r&&i&&!I});if(!_||!d.current||!e)return null;let D,N=qi.createElement("div",{className:O.alert,onMouseOver:a,onMouseLeave:n,"data-test-id":"notifications"},qi.createElement(E_.Z,{icon:g,sticky:T,type:A,onClose:m},qi.createElement(p,m_({conversations:o},C,{onClose:m}))));switch(h&&(N=qi.createElement("div",{className:O.modal,"data-test-id":"modal",role:"presentation"},N)),t){case S._tT.ALERT_DIALOG:D=l.current;break;case S._tT.STATUS:D=c.current;break;case S._tT.ALERT:D=d.current}return(0,Xi.createPortal)(N,D)}));var p_=s(54400);function C_(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const A_=(0,Ji.defineMessages)({htmlTitle:{id:"html_title",defaultMessage:"{numUnread, plural, =0 {} one {(# unread) - } other {(# unread) - }}{emailAddress} - {yahooBrand}"},htmlTitleNewMessages:{id:"html_title_new_messages",defaultMessage:"{newItemCount, plural, =1 {# New Message} other {# New Messages}}"}});class T_ extends qi.Component{constructor(...e){super(...e),C_(this,"updateTitle",(()=>{const{defaultFolderUnreadCount:e,activeEmailAddress:t,newItemCount:s}=this.props,a=this.getStandardTitle(e,t);if(s){const e=this.getNotificationTitle(s);this.flashTitle(e,a,4)}else document.title=a})),C_(this,"getStandardTitle",((e,t)=>{const{formatMessage:s}=this.context.intl,a=this.context.mailBrandNameString||s(p_.Z.mailBrandName);return s(A_.htmlTitle,{numUnread:e,emailAddress:t,yahooBrand:a})})),C_(this,"getNotificationTitle",(e=>{const{formatMessage:t}=this.context.intl;return t(A_.htmlTitleNewMessages,{newItemCount:e})})),C_(this,"flashTitle",((e,t,s)=>{if(0===s)return;const{documentTitleNotificationDuration:a,documentTitleStandardDuration:n}=this.props,r=s%2==0;document.title=r?e:t,this.flashTitleTimeout=setTimeout((()=>{this.flashTitle(e,t,s-1)}),r?a:n)}))}componentDidMount(){this.updateTitle()}componentWillUnmount(){clearTimeout(this.flashTitleTimeout)}componentDidUpdate(){clearTimeout(this.flashTitleTimeout),this.updateTitle()}render(){return null}}C_(T_,"contextTypes",{config:zi().object,intl:Ji.intlShape,mailBrandNameString:zi().string});const h_=(0,Yi.connect)((e=>{const{getFeaturesSelectors:t}=(0,Gl.selectors)(e),s=t();return{documentTitleNotificationDuration:s.getSetting("documentTitleNotificationDuration"),documentTitleStandardDuration:s.getSetting("documentTitleStandardDuration")}}))(T_);class g_ extends qi.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"updateFavicon",(()=>{const{newItemCount:e}=this.props;try{this.faviconElem.href=0===e?this.faviconDefaultImageUri:this.faviconAlertImageUri,document.head.removeChild(this.faviconElem),document.head.appendChild(this.faviconElem)}catch(t){}}))}componentDidMount(){this.faviconElem=document.getElementById("favicon"),this.faviconDefaultImageUri=this.faviconElem.href,this.faviconAlertImageUri=document.getElementById("favicon_alert")&&document.getElementById("favicon_alert").href}shouldComponentUpdate(e){return!(0===e.newItemCount&&this.faviconElem.href===this.faviconDefaultImageUri||e.newItemCount>0&&this.faviconElem.href===this.faviconAlertImageUri)}componentDidUpdate(){this.updateFavicon()}render(){return null}}const I_=g_;class R_ extends qi.Component{shouldComponentUpdate({defaultFolderUnreadCount:e,activeEmailAddress:t,newItemCount:s}){const{defaultFolderUnreadCount:a,activeEmailAddress:n,newItemCount:r}=this.props;return e!==a||t!==n||s!==r}render(){return qi.createElement("div",null,qi.createElement(h_,this.props),qi.createElement(I_,this.props))}}const O_=(0,Yi.connect)((e=>{const{isAppVisible:t,getActionTimeStamp:s,getCurrentListId:a,getFoldersSelectors:n,getDefaultFolderIdForSelectedAccount:r,getEmailOfSelectedAccount:o,getApplicationLastVisibleTimeStamp:i,getMessageListItemsSinceTimestamp:l,doesListExist:c}=(0,Gl.selectors)(e),{getFolderUnreadCount:d}=n(),E=d(r()),_=o(),u=a(),m=t()?s():i();return{defaultFolderUnreadCount:E,activeEmailAddress:_,newItemCount:(c(u)?l(u,m):[]).length}}))(R_);function D_(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var N_=s(89963),f_=s(89812),M_=s.n(f_);function L_(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const P_=["meta+shift+/","ctrl+shift+/","meta+shift+,","ctrl+shift+,"];class y_ extends qi.Component{constructor(...e){super(...e),L_(this,"state",{shown:!1}),L_(this,"handleShortcuts",(e=>{e.preventDefault(),e.stopPropagation(),!e.shiftKey||!e.ctrlKey&&!e.metaKey||"Comma"!==e.code&&"Slash"!==e.code||this.show(e)})),L_(this,"show",(e=>{e.preventDefault(),e.stopPropagation(),this.state.shown||this.setState({shown:!0})})),L_(this,"handleDismiss",(()=>{this.setState({shown:!1})})),L_(this,"handleKeyDown",(e=>{"Enter"!==e.key&&"Escape"!==e.key||(e.preventDefault(),e.stopPropagation(),this.handleDismiss())})),L_(this,"renderAdList",(e=>{const{spaceId:t,prevSpaceId:s,positions:a=[],prevPositions:n=[]}=this.props.darlaAdCallResult,r=gl()(M_()),o=e?a:n;if(!o.length)return null;const i=o.map((e=>qi.createElement("div",{key:e.position,className:r.positionRow},e.debugUrl?qi.createElement("a",{className:r.link,href:e.debugUrl,target:"_blank",rel:"noopener noreferrer"},"Position: ",e.position):qi.createElement("span",{className:r.positionCol},"Position: ",e.position),qi.createElement("span",{className:r.positionCol},"Booking Id: ",e.bookId))));return qi.createElement("div",null,qi.createElement("div",{className:r.header},(e?"Current":"Previous")+" ads"),qi.createElement("div",{className:r.spaceid},"Space Id: ",e?t:s),i)})),L_(this,"composePositionList",(e=>e.map((e=>`\n                <tr>\n                <td>Position: ${e.position}</td>\n                <td>Url: ${e.debugUrl?`${e.debugUrl}`:"N/A"}</td>\n                <td>Booking Id: ${e.bookId}</td>\n                </tr>`)))),L_(this,"composeEmailBody",(()=>{const{spaceId:e,prevSpaceId:t,positions:s=[],prevPositions:a=[]}=this.props.darlaAdCallResult;let n='<p>Comment:</p><br style="line-height: 250px">';if(s.length){n+=`<hr><h4>Current ads</h4><p>Space Id: ${e}</p><table><tbody>`,n+=this.composePositionList(s).join(""),n+="</tbody></table>"}if(a.length){n+=`<h4>Previous ads</h4> <p>Space Id: ${t}</p><table><tbody>`,n+=this.composePositionList(a).join(""),n+="</tbody></table>"}return n})),L_(this,"handleSendToCompose",(()=>{this.handleDismiss();const{openComposeView:e}=this.props;e({composeParams:{to:[{email:"yahoomailadsreview@verizonmedia.com"}],subject:"Yahoo Mail Ad Feedback - Ad Details",body:this.composeEmailBody()}})}))}componentDidMount(){this.context.bindShortcut(P_,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(P_)}render(){const{shown:e}=this.state,t=gl()(M_());return e?qi.createElement(N_.Z,{onClose:this.handleDismiss,onKeyDown:this.handleKeyDown},qi.createElement("div",{className:t.container},qi.createElement("div",{className:t.header},"Ad Information"),this.renderAdList(!1),this.renderAdList(!0),this.props.darlaErrorMessage?qi.createElement("div",{className:t.spaceid},"Err:",this.props.darlaErrorMessage):null,qi.createElement("div",{className:t.buttonContainer},qi.createElement("span",null,qi.createElement(Sl.Z,{onClick:this.handleDismiss,className:t.button},"OK"),qi.createElement(Sl.Z,{className:t.button,onClick:this.handleSendToCompose},"Send Feedback"))))):null}}L_(y_,"contextTypes",{bindShortcut:zi().func,unbindShortcut:zi().func});const b_=(0,Yi.connect)((e=>{const{getAdsSelectors:t}=(0,Gl.selectors)(e),s=t().getDarlaAdData();return{darlaAdCallResult:s.ads,darlaErrorMessage:s.errorMessage}}),(e=>({openComposeView:t=>e((0,ol.Hg)(t))})))(y_);var F_=s(13488),U_=s(51572),v_=s.n(U_),w_=s(90521),G_=s(50985);function k_(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const H_="windowIds";var B_=s(8881),x_=s(60919),V_=s.n(x_);function W_(){return(W_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Z_=gl()(V_());class K_ extends qi.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"focus",(()=>{this.refs.input.focus()}))}render(){const e=this.props;return qi.createElement("div",{className:Z_.searchContainer},qi.createElement("input",W_({},e,{ref:"input",className:Z_.input,type:"text"})),qi.createElement("span",{className:Z_.magnifying},qi.createElement(el.Z,{kind:tl.Kinds.SEARCH,size:tl.Sizes.XXS})))}}const z_=K_;var q_=s(3115),Y_=s(70808),j_=s.n(Y_),Q_=s(97845),X_=s.n(Q_);const J_=gl()(X_()),$_={"SHIFT+/":"?"},eu={META:"⌘ Command",SHIFT:"⇧ Shift",BACKSPACE:"⌫ Backspace",SPACE:"⎵ Space",DEL:"⌦ Del",ENTER:"⏎ Enter",UP:"↑ Up",DOWN:"↓ Down",LEFT:"← Left",RIGHT:"→ Right",PERIOD:".",COMMA:","},tu=(0,Ji.defineMessages)({or:{id:"shortcut.or",defaultMessage:"or"}});function su({shortcutString:e},t){const{formatMessage:s}=t.intl,a={},n=t.os;return e.split(B_.ng).forEach((e=>{const t=e.trim();if($_[t])return void(a[$_[t]]=[]);if(n===S.Msg.MAC&&-1!==t.toLowerCase().indexOf("ctrl")||n!==S.Msg.MAC&&-1!==t.toLowerCase().indexOf("meta"))return;const s=t.split(B_.$S),r=(1===s.length?s:s.slice(0,-1)).map((e=>eu[e]||e.toLowerCase())).join(` ${B_.$S} `);a[r]||(a[r]=[]),s.length>1&&s.slice(-1).forEach((e=>{a[r].push(eu[e]||e.toLowerCase())}))})),qi.createElement("span",{className:J_.keyGroups,"data-test-id":"cheat-key"},Object.keys(a).map(((e,t)=>{const n=a[e];return qi.createElement("span",{key:t,className:J_.keyGroup},t>0&&qi.createElement("span",{className:J_.delimit},s(tu.or)),qi.createElement("span",{className:J_.key},e),n.length>0&&qi.createElement("span",{className:J_.delimit},B_.$S),n.length>0&&qi.createElement("span",{className:J_.vertical},n.map(((e,s)=>{const a=[J_.key,s>0?J_.marginTop:""].join(" ");return qi.createElement("span",{key:`${t}-${s}`,className:a},e)}))))})))}su.contextTypes={intl:Ji.intlShape,os:zi().string.isRequired};var au=s(96464),nu=s.n(au);const ru=gl()(nu());function ou({shortcutKey:e,setSearchableText:t},s){const{id:a,description:n,key:r}=e,{formatMessage:o}=s.intl;let i=n;if(n.type===Ji.FormattedMessage)i=qi.cloneElement(n,null,(function(){const e=Array.prototype.slice.call(arguments).map(iu.bind(null,o)).join("");return t(e,a),qi.createElement("span",null,...arguments)}));else if(qi.isValidElement(n)){const e=iu(o,n);t(e,a)}else{const e=o(n);i=e,t(e,a)}return qi.createElement("li",{className:ru.keyRow},qi.createElement("span",{className:ru.description},i),qi.createElement(su,{shortcutString:r}))}function iu(e,t){return qi.isValidElement(t)?t.type!==Ji.FormattedMessage?qi.Children.map(t.props.children,(t=>iu(e,t))).join(""):((0,m.Z)(0===Object.keys(t.props.values).length,"Cheatsheet translation extraction\n            does not support deeply nested rich text translation.\n            Please make it only two levels deep at maximum."),e(t.props)):"object"==typeof t?e(t):t}function lu(e,t,s){return 0===s.length?null:qi.createElement("li",{className:e.column,"data-test-id":"shortcut-group-column"},qi.createElement("ul",{className:e.listView},s.map((e=>qi.createElement(ou,{key:e.id,shortcutKey:e,setSearchableText:t})))))}function cu({keyGroup:{group:e,keys:t},searching:s,setSearchableText:a},n){const r=gl()(j_(),{searching:s}),{formatMessage:o}=n.intl,i=Math.ceil(t.length/2);return qi.createElement("div",{key:e.id,className:r.sectionContainer},qi.createElement("div",{className:r.sectionHeading},o(e.description)),qi.createElement("ul",{className:r.twoColumnList},lu(r,a,t.slice(0,i)),lu(r,a,t.slice(i))))}ou.contextTypes={intl:Ji.intlShape,os:zi().string.isRequired},cu.contextTypes={intl:Ji.intlShape,os:zi().string.isRequired};class du{constructor(e){this.key=e,this.value=null,this.descendantCount=0,this.children={}}insert(e,t){if(!arguments.length)throw new Error("Invalid number of arguments, requires key and value");this._insert(e,t)}_insert(e,t,s){var a=arguments.length;if(s===e.length)return void(null===this.value&&(this.value=t));a<3&&(s=0),this.descendantCount=this.descendantCount+1;const n=e[s];void 0===this.children[n]&&(this.children[n]=new du(n)),this.children[n]._insert(e,t,s+1)}find(e){return!e||e&&0===e.length?[]:this._find(e)}_find(e,t){void 0===t&&(t=0);const s=this.children[e[t]];return s?t===e.length-1?s._getChildrenValues(e):s._find(e,t+1):[]}_getChildrenValues(e){var t,s=[];e||(e=""),this.value&&s.push(this.value);for(const a in this.children)this.children.hasOwnProperty(a)&&(t=this.children[a],s=s.concat(t._getChildrenValues(e+a)));return s}}var Eu=s(88950),_u=s.n(Eu);function uu(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const mu=["shift+/"],Su=(0,Ji.defineMessages)({filterPlaceholder:{id:"shortcut.filter",defaultMessage:"Search shortcuts, e.g. open an email"}});class pu extends qi.Component{constructor(...e){super(...e),uu(this,"state",{shown:!1,filterQuery:"",coldStart:!0}),uu(this,"handleShortcuts",(e=>{e.preventDefault(),e.stopPropagation(),this.isHelpShortCutTriggered(e)&&this.toggleCheatsheet(e)})),uu(this,"toggleCheatsheet",(e=>{e.preventDefault(),e.stopPropagation(),this.setState({shown:!this.state.shown,filterQuery:""},(()=>{this.state.shown&&this.refs.search.focus()}))})),uu(this,"handleDismiss",(()=>{this.setState({shown:!1,filterQuery:""})})),uu(this,"handleModalKeyDown",(e=>{this.isHelpShortCutTriggered(e)&&this.handleDismiss()})),uu(this,"setDictionary",((e,t)=>{this.state.coldStart&&this.descriptionDb.insert(e.toLowerCase(),t)})),uu(this,"handleFilterChange",(e=>{const t=e.target.value.trim();t!==this.state.filterQuery&&this.setState({filterQuery:t})}))}UNSAFE_componentWillMount(){this.descriptionDb=new du}componentDidUpdate(e,t){const{shown:s,coldStart:a}=this.state;t.shown===s||a||this.setState({coldStart:!1})}componentDidMount(){this.context.bindShortcut(mu,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(mu)}isHelpShortCutTriggered(e){return 191===(e.which||e.keyCode||-1)&&e.shiftKey}render(){const{formatMessage:e}=this.context.intl,{allKeys:t}=this.props,{shown:s,filterQuery:a}=this.state,n=gl()(_u());let r=[];if(a){const e=this.descriptionDb.find(a.toLowerCase());r=(0,g.VO)(t).map((({group:t,keys:s})=>({group:t,keys:s.filter((({id:t})=>e.indexOf(t)>=0))}))).filter((({keys:e})=>e.length))}else r=(0,g.VO)(t);return r=r.sort((({group:e},{group:t})=>e.priority-t.priority)),s?qi.createElement(N_.Z,{onClose:this.handleDismiss,onKeyDown:this.handleModalKeyDown},qi.createElement("div",{className:n.container},qi.createElement("div",{className:n.header},qi.createElement(q_.Z,{onClose:this.handleDismiss})),qi.createElement("section",{className:n.cheatContent},qi.createElement("div",{className:n.filterSection},qi.createElement(z_,{ref:"search",onChange:this.handleFilterChange,placeholder:e(Su.filterPlaceholder)})),qi.createElement("div",{className:n.keysetContainer},r.map((e=>qi.createElement(cu,{key:e.group.id,keyGroup:e,searching:!!a,setSearchableText:this.setDictionary}))))))):null}}uu(pu,"contextTypes",{intl:Ji.intlShape,os:zi().string.isRequired,bindShortcut:zi().func,unbindShortcut:zi().func});const Cu=pu;(0,Fl.m)({group:Ul.aU,keys:Object.assign({unread:{key:"K",description:qi.createElement(Ji.FormattedMessage,{id:"shortcut.unread",defaultMessage:"Mark as {unread}",values:{unread:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.unread_strong",defaultMessage:"Unread"}))}})},read:{key:"SHIFT+K",description:qi.createElement(Ji.FormattedMessage,{id:"shortcut.read",defaultMessage:"Mark as {read}",values:{read:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.read_strong",defaultMessage:"Read"}))}})},starred:{key:"L",description:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.starred",defaultMessage:"Star"}))},unstarred:{key:"SHIFT+L",description:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.unstarred",defaultMessage:"Unstar"}))},delete:{key:"BACKSPACE, DEL, #",description:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.message_group_delete",defaultMessage:"Delete"}))},archiveMessageGroup:{key:"E",description:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.message_group_archive",defaultMessage:"Archive"}))},restoreMessageGroup:{key:"SHIFT+E",description:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.message_group_restore",defaultMessage:"Restore to inbox"}))},openMoveMenu:{key:"D",description:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},openFilterEnabledMoveMenu:{key:"SHIFT+D",description:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},previous:{key:"LEFT",description:qi.createElement(Ji.FormattedMessage,{id:"shortcut.previous",defaultMessage:"Go to {previous} message or conversation",values:{previous:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.previous_bold",defaultMessage:"previous"}))}})},next:{key:"RIGHT",description:qi.createElement(Ji.FormattedMessage,{id:"shortcut.next",defaultMessage:"Go to {next} message or conversation",values:{next:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.next_bold",defaultMessage:"next"}))}})}},B_.vL)}),(0,Fl.m)({group:Ul._o,keys:{openPreview:{key:"SHIFT+P",description:qi.createElement(Ji.FormattedMessage,{id:"shortcut.previewr_open",defaultMessage:"Open Preview"})}}});class Au extends qi.Component{UNSAFE_componentWillMount(){this.allShortcuts=(0,Fl.t)()}render(){return qi.createElement(Cu,{allKeys:this.allShortcuts})}}const Tu=Au;var hu=s(18352);var gu=s(82789),Iu=s.n(gu);function Ru(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Ou extends qi.Component{constructor(e){super(e),Ru(this,"onClick",(e=>{const{openCalendarPane:t,closePreviewOpenPane:s,closePreviewRoute:a,isCalendarPaneRendered:n,isCueEnabled:r,closeFeatureCue:o}=this.props,i=r&&!n;a?s({route:a}):t(),i&&o({userAction:"close",i13nModel:{mKey:`cue_${S.ANe.CALENDAR_RIGHT_RAIL_PANE_CUE}_try_it`,sec:Rl.nJ.FEATURE_CUE,interactionType:(0,Ca.getInteractionFromEvent)(e)}})})),Ru(this,"updateContent",(()=>{this.popoverRef&&this.popoverRef.current.updatePosition()})),this.iconRef=qi.createRef(),this.popoverRef=qi.createRef(),this.state={mounted:!1,nowObj:new Date}}componentDidMount(){this.state.mounted||this.setState({mounted:!0})}componentWillUnmount(){this.state.mounted&&this.setState({mounted:!1})}render(){const{verticalLayout:e,property:t,openCalendarPane:a,isCueEnabled:n,isCalendarPaneRendered:r,formattedText:o}=this.props,{nowObj:i}=this.state,l=this.context.getCss(Iu(),{verticalLayout:e}),c=e?ml.Ji.END:ml.Ji.UP,{dataTestId:d}=t,E=r?l.selectedProperty:l.property;return qi.createElement("div",{className:E,"data-test-id":d},qi.createElement("button",{className:l.calendarIconButton,onClick:this.onClick,"data-test-id":"calendar-right-rail-clickable-btn",title:o,"data-iskeynav":!0,tabIndex:-1},qi.createElement(el.Z,{kind:tl.Kinds.CALENDAR_EMPTY,size:tl.Sizes.XS,colorState:tl.ColorStates.INHERITED,ref:this.iconRef}),qi.createElement("div",{className:l.calendarDateText,"data-test-id":"calendar-day-text"},i.getDate())),n&&!r&&this.state.mounted&&qi.createElement(El.yk,{triggerOn:ml.K2.MOUNT,zAltitude:Ue.LSY.POPOVER.HIGH,popoverAnchor:this.iconRef.current,persistent:!0,ref:this.popoverRef,align:ml.xM.END,permittedArrowDirections:[c]},qi.createElement(Pl.cr,{import:"../../calendar_pane_cue",bundleName:"epochCalendar",cueName:S.ANe.CALENDAR_RIGHT_RAIL_PANE_CUE,onShow:this.updateContent,launchCalendarPane:a,_moduleLoader:function(){return Promise.all([s.e(567),s.e(309),s.e(13)]).then(s.bind(s,50533))},_moduleResolver:function(){return 50533}})))}}Ru(Ou,"contextTypes",{getCss:zi().func.isRequired});const Du=(0,Yi.connect)((e=>{const{getFeaturesSelectors:t,getRoute:s,normalizeRoute:a,getActionableRightRailPane:n}=(0,Gl.selectors)(e),{isEnabled:r}=t(),o=s(),i=n()===S._Ab.CalendarPane;let l;if(o&&o.params&&o.query){l=o.params.attachmentId&&"1"!==o.query.fullscreen?a((0,wl.m9)((0,Hl.LY)(o),o.params.groupId)):null}return{isCalendarPaneRendered:i,closePreviewRoute:l,isCueEnabled:r(S.ANe.CALENDAR_RIGHT_RAIL_PANE_CUE)}}),(e=>({openCalendarPane:()=>{return e({...t,type:nc.RIGHT_RAIL_COMMS_ICON_CLICKED,name:S.Qk$.CALENDAR_PANE});var t},closePreviewOpenPane:t=>e((e=>({...e,name:S.Qk$.CALENDAR_PANE}))((0,ol.Ch)(t))),closeFeatureCue:t=>e((0,yl.hN)(t))})),null,{areStatePropsEqual:tc()})(Ou);var Nu=s(91742);function fu(){return(fu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Mu(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Lu extends qi.Component{constructor(e){super(e),Mu(this,"state",{mounted:!1}),Mu(this,"onClick",(e=>{const{closePreviewOpenPane:t,openContactsPane:s,closePreviewRoute:a,isContactsPaneRendered:n,isCueEnabled:r,closeFeatureCue:o}=this.props,i={mKey:n?Rl.JE.CONTACTS_PANE_ICON_OFF:Rl.JE.CONTACTS_PANE_ICON_ON,sec:Rl.nJ.CONTACTS_PANE,interactionType:(0,Ca.getInteractionFromEvent)(e)},l=r&&!n;a?t({i13nModel:i,uiContext:{mKey:Rl.JE.CONTACTS_PANE_ICON_ON},route:a}):s({i13nModel:i}),l&&o({userAction:"close",i13nModel:{mKey:`cue_${S.ANe.CONTACTS_PANE_CUE}_try_it`,sec:Rl.nJ.FEATURE_CUE,interactionType:(0,Ca.getInteractionFromEvent)(e)}})})),Mu(this,"updateContent",(()=>{this.popoverRef&&this.popoverRef.current.updatePosition()})),this.iconRef=qi.createRef(),this.popoverRef=qi.createRef()}componentDidMount(){this.state.mounted||this.setState({mounted:!0})}componentWillUnmount(){this.state.mounted&&this.setState({mounted:!1})}render(){const{kind:e,formattedText:t,verticalLayout:a,isContactsPaneRendered:n,isCueEnabled:r,openContactsPane:o}=this.props,i=this.context.getCss(Iu(),{verticalLayout:a});return qi.createElement("button",fu({onClick:this.onClick,className:n?i.selectedProperty:i.property,"aria-label":t,title:t,"data-iskeynav":!0,"data-test-id":"contacts-pane-icon"},a?{tabIndex:-1}:{}),qi.createElement(el.Z,{kind:e,size:tl.Sizes.XS,colorState:tl.ColorStates.INHERITED,ref:this.iconRef}),r&&!n&&this.state.mounted&&qi.createElement(El.yk,{triggerOn:ml.K2.MOUNT,zAltitude:Ue.LSY.POPOVER.HIGH,popoverAnchor:this.iconRef.current,align:ml.xM.CENTER,persistent:!0,ref:this.popoverRef,permittedArrowDirections:[ml.Ji.END,ml.Ji.UP]},qi.createElement(Pl.cr,{import:"../../contacts_pane_cue",bundleName:"contacts",cueName:S.ANe.CONTACTS_PANE_CUE,onShow:this.updateContent,launchContactsPane:o,_moduleLoader:function(){return s.e(421).then(s.bind(s,45893))},_moduleResolver:function(){return 45893}})))}}Mu(Lu,"contextTypes",{intl:Ji.intlShape.isRequired,getCss:zi().func.isRequired});const Pu=(0,Yi.connect)((e=>{const{getFeaturesSelectors:t,getRoute:s,normalizeRoute:a,getActionableRightRailPane:n}=(0,Gl.selectors)(e),{isEnabled:r}=t(),o=s(),i=n()===S._Ab.ContactsPane;let l;if(o&&o.params&&o.query){l=o.params.attachmentId&&"1"!==o.query.fullscreen?a((0,wl.m9)((0,Hl.LY)(o),o.params.groupId)):null}return{isContactsPaneRendered:i,closePreviewRoute:l,isCueEnabled:r(S.ANe.CONTACTS_PANE_CUE)}}),(e=>({openContactsPane:t=>e((0,Nu.$9)(t)),closePreviewOpenPane:t=>e((0,Nu.yf)((0,ol.Ch)(t))),closeFeatureCue:t=>e((0,yl.hN)(t))})))(Lu);var yu=s(50621);function bu(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Fu={tw:qi.createElement("path",{d:"M13.663 13.949c-.816.716-2.664 1.065-3.653 1.051-1.011.014-2.837-.335-3.653-1.051C5.116 12.86 4.981 11 4.981 10.587h10.058c0 .413-.135 2.273-1.376 3.362M7.71 6.563c.509 0 .922.425.922.948a.935.935 0 0 1-.922.947.935.935 0 0 1-.922-.947c0-.523.413-.948.922-.948m4.553 0a.922.922 0 1 1 0 1.845.922.922 0 0 1 0-1.845M9.999 2A8 8 0 1 0 10 17.999 8 8 0 0 0 9.999 2"}),hk:qi.createElement("path",{d:"M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16zM7.816 6h-1.49c-.256 0-.412.275-.275.485L8.9 10.93c.034.05.051.109.051.169v3.213a.322.322 0 0 0 .327.317h1.287a.322.322 0 0 0 .326-.317v-3.249c0-.06.018-.12.051-.17l2.847-4.406c.14-.21-.016-.486-.274-.486H12.09a.33.33 0 0 0-.28.152l-1.764 2.659c-.128.205-.094.203-.22-.002l-1.73-2.654A.33.33 0 0 0 7.815 6z"})};class Uu extends qi.Component{constructor(...e){super(...e),bu(this,"onClick",(()=>{let e;this.props.isMembershipRewardsPaneActive||(e={mKey:Rl.JE.REWARDS_ICON,sec:Rl.nJ.MEMBERSHIP_REWARDS,interactionType:Rl.Rb.click}),this.props.membershipRewardsIconToggled({name:S.Qk$.MEMBERSHIP_REWARDS,i13nModel:e})})),bu(this,"updateContent",(()=>{this.popoverContent&&this.popoverContent.updatePosition()})),bu(this,"renderPopoverContent",(e=>this.iconRef?qi.createElement(El.yk,{triggerOn:ml.K2.MOUNT,zAltitude:Ue.LSY.POPOVER.HIGH,popoverAnchor:this.iconRef,align:ml.xM.CENTER,persistent:!0,permittedArrowDirections:[ml.Ji.END],ref:e=>{this.popoverContent=e}},qi.createElement(Pl.cr,{import:"../../membership_rewards/rewards_icon_popover",cueName:e,onShow:this.updateContent,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,1673))},_moduleResolver:function(){return 1673}})):null))}render(){const{verticalLayout:e,title:t,isMembershipRewardsPaneActive:s,showTMRIconNotification:a}=this.props,n=this.context.getCss(Iu(),{verticalLayout:e});return qi.createElement("button",{"data-test-id":"membership-rewards-icon",onClick:this.onClick,className:s?n.selectedProperty:n.property,title:t,"aria-label":t,tabIndex:-1},qi.createElement("svg",{viewBox:"0 0 20 20",className:n.icon,ref:e=>{this.iconRef=e}},Fu[this.context.region]||Fu.tw),a?this.renderPopoverContent(S.ANe.TMR_ICON_NOTIFICATION):null)}}Uu.contextTypes={getCss:zi().func.isRequired,region:zi().string};const vu=Uu;var wu=s(38478),Gu=s(7426),ku=s(94070);function Hu(){return(Hu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Bu=(0,Ji.defineMessages)({mail_icon:{id:"properties.mail_icon",defaultMessage:"Mail"},contacts_icon:{id:"properties.contacts_icon",defaultMessage:"Contacts"},calendar_icon:{id:"properties.calendar_icon",defaultMessage:"Calendar"},notepad_icon:{id:"properties.notepad_icon",defaultMessage:"Notepad"},help_icon:{id:"properties.help_icon",defaultMessage:"Help"},help_web_text:{id:"properties.help_web_text",defaultMessage:"Go to Help for {mailBrandNameString}"},help_customer_support:{id:"properties.help_customer_support",defaultMessage:'Call premium customer support<br/> <a href="tel:{phoneNumber}">{phoneNumber}</a>'},subproperties_nav:{id:"landmark.subproperties_nav",defaultMessage:"Navigate to other {yahooBrandNameString} properties like Calendar, Contacts, and Notepad"},rewards_icon:{id:"rewards_icon_tooltip",defaultMessage:"Yahoo membership program"},yplus_icon:{id:"yahoo_plus_icon",defaultMessage:"Yahoo Plus"}}),xu=(0,Yi.connect)((e=>{const{isFeatureEnabled:t,getSetting:s,isNarrowScreen:a}=(0,Gl.selectors)(e),n=t(S.ANe.NOTEPAD_TAB),r=s(S.Zrf.CALENDAR_URL),o=s(S.Zrf.NOTEPAD_URL),i=s(S.Zrf.HELP_URL),{yahooPlusClickUrl:l,yahooPlusImpressionTracker:c}=s(S.Zrf.YPLUS_ICON_RIGHT_RAIL_SETTINGS),d=s(S.Zrf.ACTIONABLE_RIGHT_RAIL_CONTENT),E=t(S.ANe.MEMBERSHIP_REWARDS),_=d&&d.currentView===S.Qk$.MEMBERSHIP_REWARDS,u=t(S.ANe.TMR_ICON_NOTIFICATION),m=t(S.ANe.YPLUS_ICON_RIGHT_RAIL),p=!a();return{notepadTabEnabled:n,calendarURL:r,notePadURL:o,helpURL:i,yahooPlusClickUrl:l,yahooPlusImpressionTracker:c,themeMode:s(S.Zrf.THEME_MODE),supportNumber:s(S.Zrf.SUPPORT_PHONE_NUMBER),contactsPaneEnabled:t(S.ANe.CONTACTS_PANE_FEATURE),calendarRightRailPaneEnabled:t(S.ANe.CALENDAR_RIGHT_RAIL_PANE),isShowMktgSupportNumberEnabled:t(S.ANe.SHOW_MKTG_SUPPORT_NUMBER),membershipRewardsEnabled:E,isMembershipRewardsPaneActive:_,showTMRIconNotification:u,showYPlusIconOnTopOfRR:m,isWideScreenMode:p}}),(e=>({membershipRewardsIconToggled:t=>e((0,wu.wp)(t))})))((e=>{const{verticalLayout:t,notepadTabEnabled:s,calendarURL:a,notePadURL:n,helpURL:r,isShowMktgSupportNumberEnabled:o,isWideScreenMode:i,membershipRewardsEnabled:l,onPropertyClick:c,showYPlusIconOnTopOfRR:d,themeMode:E,supportNumber:_,yahooPlusImpressionTracker:u,yahooPlusClickUrl:m}=e,p=(0,__.Z)(Iu(),{verticalLayout:t}),{mailBrandNameString:C,yahooBrandNameString:A}=(0,ku.B)(),{formatMessage:T}=(0,Gu.Y)(),h=[{kind:tl.Kinds.CONTACT_CARD,text:Bu.contacts_icon},{href:a,kind:tl.Kinds.CALENDAR_EMPTY,text:Bu.calendar_icon,mKey:Rl.JE.CALENDAR_ICON,hidden:!1,dataTestId:"right-rail-calendar-icon"},{href:n,kind:tl.Kinds.NOTEPAD,text:Bu.notepad_icon,mKey:Rl.JE.NOTEPAD_ICON,hidden:!s,dataTestId:"right-rail-notepad-icon"},{kind:"membershipRewards",text:Bu.rewards_icon,hidden:!l,dataTestId:"right-rail-rewards-icon"}];(0,qi.useEffect)((()=>{i&&d&&(0,KE.Z)(u,!1)}),[i,d,u]);const g=(e,t)=>{const s=(0,Ca.getInteractionFromEvent)(e);e.stopPropagation(),c(s,t)},I=e=>{g(e,{mKey:Rl.JE.HELP_GO_WEB})},R=s=>{const{href:a,kind:n,text:r,propertyClassNames:o="",dataTestId:i}=s,l=T(r),{contactsPaneEnabled:c,isMembershipRewardsPaneActive:d,membershipRewardsIconToggled:_,showTMRIconNotification:u,calendarRightRailPaneEnabled:m}=e;if(n===tl.Kinds.CONTACT_CARD&&c)return qi.createElement(Pu,{kind:n,formattedText:T(r),verticalLayout:t,key:r.id});if(n===tl.Kinds.CALENDAR_EMPTY&&m)return qi.createElement(Du,{verticalLayout:t,key:r.id,property:s,formattedText:l});const C=n===tl.Kinds.YAHOO_PLUS_BADGE_ALT&&E===S.zgU.LIGHT?tl.ColorStates.PURPLE_GRADIENT:tl.ColorStates.INHERITED,A=n===tl.Kinds.CALENDAR_EMPTY,h=new Date;return"membershipRewards"===n?qi.createElement(vu,{key:r.id,title:l,verticalLayout:t,isMembershipRewardsPaneActive:d,membershipRewardsIconToggled:_,showTMRIconNotification:u}):qi.createElement("a",{key:r.id,onClick:e=>g(e,s),href:a,className:p.property+" "+o,"aria-label":l,title:l,"data-test-id":i,target:n,"data-iskeynav":!0,rel:"noopener",tabIndex:-1},A?qi.createElement("div",{className:p.calendarIcon},qi.createElement(el.Z,{kind:n,size:tl.Sizes.XS,colorState:tl.ColorStates.INHERITED}),qi.createElement("div",{className:p.calendarDateText,"data-test-id":"calendar-day-text"},h.getDate())):qi.createElement(el.Z,{kind:n,size:tl.Sizes.XS,colorState:C}))},O=i||h.filter((({hidden:e})=>!e)).length<4;return O&&!o&&h.push({href:r,kind:tl.Kinds.CAL_MAYBE,text:Bu.help_icon,mKey:Rl.JE.HELP_ICON,dataTestId:"right-rail-help-icon"}),qi.createElement("div",{"data-test-id":"comms-properties",role:"navigation","aria-label":T(Bu.subproperties_nav,{yahooBrandNameString:A}),className:p.properties},h.map((e=>!e.hidden&&R(e))),O&&o?qi.createElement(yu.ZP,{triggerOn:yu.XU.CLICK,triggerOff:yu.Es.CLICK,align:ml.xM.ANY,permittedArrowDirections:t?[ml.Ji.END]:[ml.Ji.UP],isArrowVisible:!0},qi.createElement("button",{"data-test-id":"right-rail-help-icon",tabIndex:"-1",className:p.property},qi.createElement(el.Z,{kind:tl.Kinds.CAL_MAYBE,size:tl.Sizes.XS,colorState:tl.ColorStates.INHERITED,title:T(Bu.help_icon)})),qi.createElement("ul",{className:p.helpMenuContainer,"data-test-id":"right-rail-help-menu"},qi.createElement("li",{className:p.helpMenuItem},qi.createElement("a",{href:r,className:p.helpMenuLink,onClick:I,"data-test-id":"right-rail-help-menu-web",target:"_blank","data-iskeynav":!0,tabIndex:-1,rel:"noopener"},qi.createElement(el.Z,{kind:tl.Kinds.SEARCH_WEB,size:tl.Sizes.XS,colorState:tl.ColorStates.INHERITED}),qi.createElement("div",{className:p.helpMenuText+" "+p.helpMenuLinkText},T(Bu.help_web_text,{mailBrandNameString:C})))),qi.createElement("li",{className:p.separator}),qi.createElement("li",{className:p.helpMenuItem},qi.createElement(el.Z,{kind:tl.Kinds.PHONE,size:tl.Sizes.XS,colorState:tl.ColorStates.INHERITED}),qi.createElement("div",{className:p.helpMenuText+" "+p.helpMenuPhoneText},qi.createElement(Ji.FormattedHTMLMessage,Hu({},Bu.help_customer_support,{values:{phoneNumber:_}})))))):null,i&&d?R({href:m,kind:tl.Kinds.YAHOO_PLUS_BADGE_ALT,text:Bu.yplus_icon,mKey:Rl.JE.RIGHT_RAIL_PLUS_ICON,dataTestId:"right-rail-yplus-icon"}):null)}));var Vu=s(26),Wu=s(16204),Zu=s.n(Wu),Ku=s(78662);function zu(){return(zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function qu(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Yu=(0,Ji.defineMessages)({settingsMenu:{id:"settings_menu_aria_label",defaultMessage:"Settings Menu"}});class ju extends qi.Component{constructor(...e){super(...e),qu(this,"state",{showUserInformation:!1,stickyMenu:!1}),qu(this,"setStickyMenu",(e=>{this.setState({stickyMenu:e})})),qu(this,"handleDismiss",(()=>{this.setState({showUserInformation:!1})})),qu(this,"handleModalKeyDown",(e=>{this.handleOutsideModalClick(e)&&this.handleDismiss()})),qu(this,"handleGearIconClick",(e=>{e.preventDefault(),e.metaKey||e.ctrlKey?(this.setState({showUserInformation:!0}),e.stopPropagation()):(this.props.showSettingsCue&&this.props.featureCueClosed({name:S.ANe.SETTINGS_CUE}),this.props.showSettings({i13nModel:{mKey:Rl.JE.SETTINGS_GEAR_ICON,sec:Rl.nJ.HEADER_NAV}}))})),qu(this,"handleSettingsLabelClick",(e=>{e.preventDefault(),e.metaKey||e.ctrlKey?(this.setState({showUserInformation:!0}),e.stopPropagation()):this.props.showSettings({i13nModel:{mKey:Rl.JE.SETTINGS_LABEL,sec:Rl.nJ.HEADER_NAV}})})),qu(this,"cueTryNowHandler",(()=>{this._container.hide(ml.K2.MOUNT),this._container.show(ml.K2.CLICK)})),qu(this,"updateContent",(()=>{this.popoverContent&&this.popoverContent.updatePosition()})),qu(this,"renderCue",(()=>this.props.showSettingsCue?qi.createElement(El.yk,{triggerOn:ml.K2.MOUNT,onClose:this.cueClosed,zAltitude:Ue.LSY.POPOVER.HIGH,isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},persistent:!0,permittedArrowDirections:[ml.Ji.END]},qi.createElement(Pl.cr,{import:"../../atoms/settings_personalize_cue",cueName:S.ANe.SETTINGS_CUE,onTryNow:this.cueTryNowHandler,onShow:this.updateContent,isAolUser:this.props.isAolUser,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,4441))},_moduleResolver:function(){return 4441}})):null))}handleOutsideModalClick(e){return-1===(e.which||e.keyCode||-1)}componentDidMount(){window.showSettingsPopover&&(this._container.show(ml.K2.CLICK),window.showSettingsPopover=void 0),this.props.autoOpenSettingsPopover&&!window.autoOpenSettingsPopover&&(this._container.show(ml.K2.CLICK),window.autoOpenSettingsPopover=!0);const e=window.document.getElementsByClassName("ybar-icon-sprite")||[];this.homeIconRef=e[e.length-1]}UNSAFE_componentWillReceiveProps(e){!this.props.autoOpenSettingsPopover&&e.autoOpenSettingsPopover&&(this._container.show(ml.K2.CLICK),this.props.toggleAutoOpenSettingsPopover({status:!1}))}render(){const{formatMessage:e}=this.context.intl,{verticalLayout:t,previewPaneSetting:a,hasContactCard:n,windowDimensions:r,commsPropertiesSectionHeight:o,isRTL:i,showContactsPane:l}=this.props,c=t?Ku.F5:o||Ku.ot,d=a===S.EsZ.RIGHT&&!l,E=t?ml.xM.START:ml.xM.END,_=t?ml.Ji.END:ml.Ji.UP,u=(r?r.contentAndRightRailHeight:0)-c-Ku.oc,m=this.context.getCss(Zu(),{verticalLayout:t,verticalPreviewPane:d,hasContactCard:n}),p=e=>qi.createElement(Pl.cr,{import:"./settings_menu",availableHeightBelowCommsProps:u,onUpdateCompleted:e,setStickyMenu:this.setStickyMenu,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,61945))},_moduleResolver:function(){return 61945}},qi.createElement(Pl.nA,{loading:!0},qi.createElement("div",{className:m.menuContainerLazy},qi.createElement(Vu.Z,null))));return qi.createElement("div",{className:m.settingsButtonContainer},qi.createElement(_l.Z,{ref:e=>this._container=e},qi.createElement(ul.Z,null,qi.createElement("button",zu({className:m.settingsButton,"data-iskeynav":!0,"data-test-id":"settings-popover-anchor","aria-label":e(Yu.settingsMenu)},t?{}:{tabIndex:-1}),t?null:qi.createElement("span",{className:m.label,onClick:this.handleSettingsLabelClick,"data-test-id":"settings-link-label"},qi.createElement(Ji.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"})),qi.createElement("span",{onClick:this.handleGearIconClick,className:m.inlineWrapper,"data-test-id":"settings-gear"},qi.createElement(el.Z,{colorState:tl.ColorStates.INHERITED,size:tl.Sizes.XS,kind:tl.Kinds.SETTINGS,title:e(Yu.settingsMenu)})))),qi.createElement(El.yk,{offset:8,align:E,arrowSize:ml.Jk.M,triggerOn:ml.K2.CLICK,overflowScroll:!1,permittedArrowDirections:[_],bg:ml.Ic.LIGHTGRAY,isRTL:i,zAltitude:Ue.LSY.POPOVER.HIGH,persistent:this.state.stickyMenu},p),this.renderCue()),this.state.showUserInformation?qi.createElement(Pl.cr,{import:"../../../../molecules/user_information",onClose:this.handleDismiss,onKeyDown:this.handleModalKeyDown,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,54317))},_moduleResolver:function(){return 54317}}):null)}}qu(ju,"contextTypes",{intl:Ji.intlShape.isRequired,executeAction:zi().func,getCss:zi().func,getThemeMode:zi().func});const Qu=(0,Yi.connect)((e=>{const{getEnvironmentSelectors:t,getActionableRightRailPane:s}=(0,Gl.selectors)(e),a=t(),n=s()===S._Ab.ContactsPane,r=a.getPartner();return{isRTL:"rtl"===a.getPageDirection(),isAolUser:r===S.Ql2.AOL,showContactsPane:n}}),(e=>({featureCueClosed:t=>e((0,yl.hN)(t)),showSettings:t=>e((0,jc.RP)(t)),toggleAutoOpenSettingsPopover:t=>e((0,jc.Wx)(t))})))(ju);var Xu=s(48626),Ju=s.n(Xu),$u=s(68003);function em(){return(em=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function tm(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class sm extends qi.Component{constructor(...e){super(...e),tm(this,"state",{commsPropertiesSectionHeight:null}),tm(this,"componentDidMount",(()=>{this.setState({commsPropertiesSectionHeight:this.commsPropertiesSection.clientHeight})})),tm(this,"componentDidUpdate",(()=>{this.state.commsPropertiesSectionHeight!==this.commsPropertiesSection.clientHeight&&this.setState({commsPropertiesSectionHeight:this.commsPropertiesSection.clientHeight})})),tm(this,"onPropertyClick",((e,t)=>{this.props.handleHeaderNavigation({i13nModel:{mKey:t.mKey,sec:Rl.nJ.HEADER_NAV,interactionType:e}})}))}render(){const{verticalLayout:e}=this.props,t=this.context.getCss(Ju(),{verticalLayout:e});return qi.createElement("div",{ref:e=>this.commsPropertiesSection=e,className:t.container},qi.createElement($u.Z,{axis:e?$u.U.VERTICAL:$u.U.HORIZONTAL,"data-test-id":"comms-properties-bar",groupTabIndex:Ue.iUz.COMMS_PROPERTIES_BAR,className:t.properties},e&&qi.createElement(Qu,this.props),qi.createElement(xu,em({},this.props,{onPropertyClick:this.onPropertyClick})),!e&&qi.createElement(Qu,em({},this.props,{commsPropertiesSectionHeight:this.state.commsPropertiesSectionHeight}))))}}tm(sm,"contextTypes",{executeAction:zi().func,getCss:zi().func,config:zi().object,getTheme:zi().func});const am=sm,nm=(0,Yi.connect)((e=>{const{getFeaturesSelectors:t,getQueryParams:s}=(0,Gl.selectors)(e),a=t();return{previewPaneSetting:a.getSetting(S.Zrf.PREVIEW_PANE),autoOpenSettingsPopover:"1"===s().openSettingsPopover||a.isEnabled("autoOpenSettingsPopover"),showSettingsCue:a.isEnabled(S.ANe.SETTINGS_CUE)}}),(e=>({handleHeaderNavigation:t=>e((0,ol.KE)(t))})))(am);var rm=s(38700),om=s(42357),im=s.n(om),lm=s(68113);class cm extends qi.Component{componentDidMount(){this.context.registerAdPosition({darlaPos:this.props.id})}componentWillUnmount(){this.context.removeAdPosition({darlaPos:this.props.id})}shouldComponentUpdate(e){return this.props.className!==e.className}render(){const{yaftName:e,darla:t}=lm.SO[this.props.id],{clean:s,dest:a}=t;return qi.createElement("div",{id:s,"data-yaft-module":e,className:this.props.className},qi.createElement("div",{id:a}))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(cm,"contextTypes",{registerAdPosition:zi().func,removeAdPosition:zi().func,executeAction:zi().func});const dm=cm;class Em extends qi.Component{render(){return qi.createElement(dm,{id:"MON"})}}class _m extends qi.Component{render(){return qi.createElement(dm,{id:"SKY"})}}class um extends qi.Component{render(){return qi.createElement(dm,{id:"LREC"})}}class mm extends qi.Component{render(){return qi.createElement(dm,{id:"UBASKY",className:this.props.className})}}class Sm extends qi.Component{render(){return qi.createElement(dm,{id:"UBAMON",className:this.props.className})}}class pm extends qi.Component{render(){return qi.createElement(dm,{id:"UBALREC",className:this.props.className})}}class Cm extends qi.Component{render(){return qi.createElement("div",{"data-test-id":"stackedLRECs"},qi.createElement(dm,{id:"LREC",className:this.props.lrecClassName}),qi.createElement(dm,{id:"LREC4"}))}}var Am=s(31144),Tm=s.n(Am);const hm=e=>{const{redirectUrl:t,isRRCompactSize:s,offerImg:a,offerImgAlt:n,impressionTracker:r}=e,o=(0,__.Z)(Tm(),{isRRCompactSize:s}),{oneX:i,twoX:l}=a;(0,qi.useEffect)((()=>{r&&(0,KE.Z)(r)}),[r]);return qi.createElement("a",{rel:"noreferrer noopener",target:"_blank",href:t,tabIndex:-1,onClick:e=>{Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.RIGHT_RAIL_ADBLOCK_UPSELL_CLICK,sec:Rl.nJ.RIGHT_RAIL,interactionType:(0,Ca.getInteractionFromEvent)(e)}})},className:o.container,"aria-hidden":!0},qi.createElement("img",{className:"",src:s?i:l,srcSet:s?i:l+" 2x",alt:n,style:{width:`${s?Ue.y7x:Ue.MLs}px`,height:`${Ue.lHp}px`}}))};function gm(){return(gm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Im(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Rm extends qi.Component{constructor(...e){super(...e),Im(this,"insertDarlaConfig",(()=>{const{darlaAds:e}=this.props,{darlaData:t=""}=e,{locale:s,cspToken:a}=this.context,n=s&&s.name||"en-US";return qi.createElement("div",null,qi.createElement("script",{nonce:a,dangerouslySetInnerHTML:{__html:`\n                        window.DARLA_CONFIG = ${JSON.stringify(Object.assign({},lm.f7,{lang:n,auto_render:!t}))};\n                    `}}),t?qi.createElement("div",{"data-test-id":"darla-data",dangerouslySetInnerHTML:{__html:t}}):null)})),Im(this,"renderDarlaAds",(e=>{const{disabledPositions:t={},lrecMonAdArbitration:s,ubaLrecMonAdArbitration:a,isRRCompactSize:n,darlaPrefetchLaunchSyncer:r,ABPStaticAds:o,jacAdsEnabled:i}=this.props,l=[];let c=null,d=null;if(o){const e=i?"uba-container":void 0;n&&!t.UBASKY?l.push(qi.createElement(mm,{key:"uba_sky_ad",className:e})):(l.push(qi.createElement(pm,{key:"uba_lrec_ad",className:e})),a&&l.push(qi.createElement(Sm,{key:"uba_mon_ad",className:e})))}else!s||t.LREC||t.LREC4?t.LREC4&&!t.LREC?c=qi.createElement(um,{key:"lrec_ad"}):t.LREC4||t.LREC||(c=qi.createElement(Cm,{key:"stacked_lrec",lrecClassName:e.lrec})):(d=t.MON?null:qi.createElement(Em,{key:"mon_ads"}),c=qi.createElement(Cm,{key:"stacked_lrec",lrecClassName:e.lrec})),n&&!t.SKY?l.push(qi.createElement(_m,{key:"sky_ad"})):(l.push(d),l.push(c));return qi.createElement("div",{"aria-hidden":!0,className:e.mainAd,"data-test-id":"right-rail-ad"},o?qi.createElement("div",{className:e.adText},qi.createElement(Ji.FormattedMessage,{id:"ad.text",defaultMessage:"AD"})):null,qi.createElement("div",null,l),r?this.insertDarlaConfig():null)}))}render(){const{isRRCompactSize:e,isWideRightRailPaneWithAds:t,showadblockRRUpsell:s,adblockRRUpsellData:a}=this.props,n=gl()(im(),{isRRCompactSize:e&&!t});return s?qi.createElement(hm,gm({isRRCompactSize:e&&!t},a)):this.renderDarlaAds(n)}}Im(Rm,"contextTypes",{config:zi().object,executeAction:zi().func,locale:zi().object,cspToken:zi().string});const Om=(0,Yi.connect)((e=>{const{isFeatureEnabled:t,isNarrowScreen:s,getAdsSelectors:a,getRightRailPanes:n,getSetting:r}=(0,Gl.selectors)(e),{getDarlaAdData:o}=a(),i=o(),l=(0,g.u9)(i,"prefetchedAds.darlaAds",{}),c=t(S.ANe.DARLA_PREFETCH_LAUNCH_SYNCER),d=n(),E=S.YKE.some((e=>d.includes(e))),_=E?{SKY:"SKY",UBASKY:"UBASKY"}:{},u=r(S.Zrf.RIGHT_RAIL_ADBLOCK_UPSELL_DATA),m=t(S.ANe.JAC_ADS);return{lrecMonAdArbitration:t(S.ANe.LREC_MON_AD_ARBITRATION),ubaLrecMonAdArbitration:t(S.ANe.UBA_LREC_MON_AD_ARBITRATION),isRRCompactSize:s(),darlaAds:l,darlaPrefetchLaunchSyncer:c,ABPStaticAds:t(S.ANe.ABP_STATIC_ADS),showadblockRRUpsell:t(S.ANe.ADBLOCK_RR_UPSELL)&&!(0,g.xb)(u),disabledPositions:_,isWideRightRailPaneWithAds:E,adblockRRUpsellData:u,jacAdsEnabled:m}}))(Rm);var Dm=s(83381),Nm=s.n(Dm),fm=s(36518),Mm=s.n(fm);const Lm=(e,t)=>{const s=t.getCss(Mm());return qi.createElement("div",{className:s.container},qi.createElement(Vu.Z,null))};Lm.contextTypes={getCss:zi().func.isRequired};const Pm=Lm;var ym=s(41874);function bm(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Fm=(0,Ji.defineMessages)({hide_advertisement:{id:"hide_advertisement",defaultMessage:"Hide Advertisement"}});class Um extends qi.Component{constructor(...e){super(...e),bm(this,"state",{chevronHover:!1}),bm(this,"handleChevronHover",(e=>{this.setState({chevronHover:e})})),bm(this,"collapseRightRail",(()=>{this.setState({chevronHover:!1}),this.props.hideAdsTemporarily({i13nModel:{mKey:Rl.JE.HIDE_RIGHT_RAIL_AD,sec:Rl.nJ.RIGHT_RAIL,interactionType:Rl.Rb.click}})})),bm(this,"renderPane",(e=>{switch(e){case S._Ab.AttachmentUi:return qi.createElement(Pl.cr,{import:"./attachment_ui",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,8598))},_moduleResolver:function(){return 8598}});case S._Ab.ContactsPane:return qi.createElement(Pl.cr,{import:"../../../molecules/contacts_pane",key:e,bundleName:"contacts",_moduleLoader:function(){return s.e(421).then(s.bind(s,27958))},_moduleResolver:function(){return 27958}},qi.createElement(Pl.nA,{loading:!0},qi.createElement(rm.Z,{includeHeaders:!0})));case S._Ab.CalendarPane:return qi.createElement(Pl.cr,{bundleName:"epochCalendar",key:e,import:"../../../molecules/calendar_pane",_moduleLoader:function(){return Promise.all([s.e(567),s.e(309),s.e(13)]).then(s.bind(s,27479))},_moduleResolver:function(){return 27479}},qi.createElement(Pl.nA,{loading:!0},qi.createElement(ym.default,{includeHeaders:!0})));case S._Ab.ContactCard:return qi.createElement(Pl.cr,{import:"../../../molecules/contact_card/right_rail_contact_card",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,84812))},_moduleResolver:function(){return 84812}});case S._Ab.SubscriptionCard:return qi.createElement(Pl.cr,{import:"../../../molecules/subscription_list/right_rail_subscription_card",key:e,bundleName:"subscriptions",_moduleLoader:function(){return s.e(841).then(s.bind(s,3949))},_moduleResolver:function(){return 3949}});case S._Ab.MessageBrief:return qi.createElement(Pl.cr,{import:"../../../molecules/list/simple_list",key:e,listContentType:S.F6k.MESSAGES,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,23520))},_moduleResolver:function(){return 23520}});case S._Ab.PhotoBrief:return qi.createElement(Pl.cr,{import:"../../../molecules/list/simple_list",key:e,listContentType:S.F6k.IMAGES,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,23520))},_moduleResolver:function(){return 23520}});case S._Ab.DocumentBrief:return qi.createElement(Pl.cr,{import:"../../../molecules/list/simple_list",key:e,listContentType:S.F6k.DOCUMENTS,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,23520))},_moduleResolver:function(){return 23520}});case S._Ab.RightRailNativeAd:return qi.createElement(Pl.cr,{import:"../../../molecules/ads/right_rail_native_ad",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,62664))},_moduleResolver:function(){return 62664}});case S._Ab.RelatedSearchesCard:return qi.createElement(Pl.cr,{import:"../../../molecules/related_searches_card",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,32243))},_moduleResolver:function(){return 32243}});case S._Ab.TravelCardsGroup:return qi.createElement(Pl.cr,{import:"../../../molecules/right_rail_travel_card/travel_cards_group",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,81301))},_moduleResolver:function(){return 81301}});case S._Ab.PlaAds:return qi.createElement(Pl.cr,{import:"../../../molecules/pla_ads",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,21641))},_moduleResolver:function(){return 21641}});case S._Ab.RightPaneAds:return qi.createElement(Om,{key:e});case S._Ab.RetailerFilter:return qi.createElement(Pl.cr,{import:"../../../molecules/deals/retailer_filter",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,66534))},_moduleResolver:function(){return 66534}});case S._Ab.RightPaneGroceriesList:return qi.createElement(Pl.cr,{import:"../molecules/right_pane_groceries_list",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,80220))},_moduleResolver:function(){return 80220}});case S._Ab.SavedDeals:return qi.createElement(Pl.cr,{import:"../../../molecules/right_rail_saved_deals",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,91247))},_moduleResolver:function(){return 91247}});case S._Ab.MembershipRewards:return qi.createElement(Pl.cr,{import:"../../../molecules/membership_rewards",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,18320))},_moduleResolver:function(){return 18320}},qi.createElement(Pl.nA,{loading:!0},qi.createElement(Pm,null)));case S._Ab.SubhubRecommendations:return qi.createElement(Pl.cr,{import:"../../../molecules/subhub_recommendations",key:e,bundleName:"subscriptions",_moduleLoader:function(){return s.e(841).then(s.bind(s,45315))},_moduleResolver:function(){return 45315}},qi.createElement(Pl.nA,{loading:!0}));case S._Ab.DealsRecommendControl:return qi.createElement(Pl.cr,{import:"../../../molecules/deals_recommend_control/index",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,37816))},_moduleResolver:function(){return 37816}});default:return null}}))}render(){const{hasAttachmentPreview:e,panes:t,showCommsProperties:s,windowDimensions:a}=this.props,{getCss:n,intl:r}=this.context,o=t.length&&t[0],i=o===S._Ab.MembershipRewards||o===S._Ab.SubhubRecommendations,l=n(Nm(),{firstPaneName:o,hasAttachmentPreview:e}),{formatMessage:c}=r,d=t.map(this.renderPane),E=e||!d.length,_=-1===t.indexOf(S._Ab.RightPaneAds)||o===S._Ab.TravelCardsGroup,u=i?"panesContainerWithBgColor":"panesContainer";return qi.createElement("div",{"data-test-id":"mail-right-rail",className:l.rightRailContainer},_?null:qi.createElement("div",{className:this.state.chevronHover?l.activeHideAdsChevronWrapper:l.hideAdsChevronWrapper},qi.createElement("div",{onMouseEnter:()=>this.handleChevronHover(!0),onMouseLeave:()=>this.handleChevronHover(!1),title:c(Fm.hide_advertisement),onClick:this.collapseRightRail,className:l.hideAdsChevron,"data-test-id":"right-rail-hidead-btn"},qi.createElement(el.Z,{kind:tl.Kinds.CHEVRON_UP,colorState:tl.ColorStates.INHERITED,size:tl.Sizes.XS,rotate:tl.Rotate.D90}))),qi.createElement("div",{className:l.rightRail},s?qi.createElement(nm,{key:"CommsProperties",verticalLayout:E,windowDimensions:a}):null,d.length?qi.createElement("div",{className:l[u]},d):null))}}bm(Um,"contextTypes",{intl:Ji.intlShape.isRequired,getCss:zi().func});const vm=(0,Yi.connect)((e=>{const{getRightRailPanes:t,isFeatureEnabled:s}=(0,Gl.selectors)(e),a=s(S.ANe.SHOW_COMMS_PROPERTIES);return{panes:t(),showCommsProperties:a}}),(e=>({hideAdsTemporarily:t=>e((0,hu.P0)(t))})))(Um);var wm=s(13556),Gm=s(30982),km=s(18380),Hm=s(59629),Bm=s.n(Hm),xm=s(51507),Vm=s.n(xm);function Wm(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Zm extends qi.Component{constructor(...e){super(...e),Wm(this,"getClassName",(()=>{const{isActive:e,highlight:t,whiteBackground:s,contextOfUse:a}=this.props,n=this.context.getTheme(),r=this.context.getThemeMode(),o=this.context.getCss(Vm(),{whiteBackground:s&&!t,highlightThemeCombo:`${t}_${n}`,highlightDarkPartnerThemeCombo:`${t&&("MEDIUM"===r||"DARK"===r)}_${n}`,contextOfUse:a,contextOfUse_isActive_themeMode:`${a}_${e}_${r}`});return e?o.activeContainer:o.container}))}render(){const{value:e}=this.props,t=this.getClassName();return qi.createElement("span",{className:t,"data-test-id":this.props["data-test-id"]},e)}}Wm(Zm,"contextTypes",{getCss:zi().func,getTheme:zi().func,getThemeMode:zi().func}),Wm(Zm,"defaultProps",{whiteBackground:!1});const Km=Zm;var zm=s(94482),qm=s(69511),Ym=s(44874);function jm(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Qm=(0,Ji.defineMessages)({accountSettingsMenu:{id:"accounts_settings_menu_aria_label",defaultMessage:"Account settings"},syncingMsg:{id:"syncing_indicator_icon_aria_label",defaultMessage:"Syncing"},notSyncingMsg:{id:"not_syncing_indicator_icon_aria_label",defaultMessage:"Not syncing"},notVerifiedMsg:{id:"account_item_verify_error",defaultMessage:"Not verified"}});class Xm extends qi.Component{constructor(...e){super(...e),jm(this,"state",{hoveredAccountId:null}),jm(this,"handleClick",((e,t)=>{this.props.onClick(t,e,{mKey:Rl.JE.ACCOUNT_SWITCH,sec:Rl.nJ.LEFTRAIL_ACCOUNTS,interactionType:(0,Ca.getInteractionFromEvent)(t)})})),jm(this,"handleMouseOver",(e=>{this.setState({hoveredAccountId:e})})),jm(this,"handleMouseLeave",(()=>{this.setState({hoveredAccountId:null})})),jm(this,"handleGearIconClick",((e,t)=>{this.navigateToSettingsTab(e,t,{mKey:Rl.JE.EDIT_IMAP_ACCOUNT,sec:Rl.nJ.LEFTRAIL_ACCOUNTS,interactionType:(0,Ca.getInteractionFromEvent)(t)})})),jm(this,"handleExpiredIconClick",((e,t)=>{let s=!1;const{id:a}=e;(0,Hd.Cs)(e)&&(e.authType!==S.nxP.PLAIN&&(window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${screen.height-300}, left=${screen.width-400}`)),s=!0),this.navigateToSettingsTab(a,t,{mKey:Rl.JE.FIX_IMAP_ACCOUNT,sec:Rl.nJ.LEFTRAIL_ACCOUNTS,interactionType:(0,Ca.getInteractionFromEvent)(t)},s)})),jm(this,"navigateToSettingsTab",((e,t,s,a=!1)=>{t.preventDefault(),t.stopPropagation(),this.context.navigateTo({route:(0,wl.Tx)({settingsGroupId:S.u5h.ACCOUNTS,accountId:e,openReauth:a}),i13nModel:s})})),jm(this,"updateContent",(e=>{e&&e.updatePosition()})),jm(this,"renderOffice365Cue",(()=>this.accountListRef?qi.createElement(El.yk,{popoverAnchor:this.accountListRef,isRTL:this.props.isRTL,align:ml.xM.CENTER,triggerOn:ml.K2.MOUNT,permittedArrowDirections:[ml.Ji.START],zAltitude:Ue.LSY.POPOVER.HIGH,ref:e=>{this.imapInPopover=e},borderRadius:ml.cM.LOW},qi.createElement(Pl.cr,{import:"../molecules/office365_cue/index",onShow:()=>this.updateContent(this.imapInPopover),_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,43600))},_moduleResolver:function(){return 43600}})):null))}render(){const{switchableAccounts:e,activeAccountId:t,toggleAccountsList:s,expiredAccounts:a,showOffice365Cue:n}=this.props,r=this.context.getCss(Bm()),{formatMessage:o}=this.context.intl,i=e.map((e=>{const{status:n,type:r,createTime:i,accountVerified:l}=e,c=e.id===t,d=this.context.getCss(Bm()),E=e.defaultFolder,_=e.description||e.email,u=("ltr"===(0,qm.getTextDirection)(_)?d.rtlIgnoreDirLTR:d.rtlIgnoreDirRTL)+" "+(c?d.activeText:d.text),m=(0,Hd.hE)({status:n,type:r,createTime:i}),p=this.state.hoveredAccountId===e.id,C=a.find((t=>t.id===e.id));let A;return s||c?(A=C||!l?qi.createElement("span",{className:d.expiredIcon},qi.createElement($i.default,{kind:tl.Kinds.EXCLAMATION_ALT,size:tl.Sizes.XS,colorState:tl.ColorStates.WARNING_GRAD_RED,onClick:this.handleExpiredIconClick.bind(this,e),title:o(l?Qm.notSyncingMsg:Qm.notVerifiedMsg)})):m?qi.createElement("div",{className:d.statusIcon},qi.createElement(Ym.ZP,{size:tl.Sizes.XS,title:o(Qm.syncingMsg)})):p?qi.createElement("span",{className:d.settingGear},qi.createElement($i.default,{onClick:this.handleGearIconClick.bind(this,e.id),"data-iskeynav":!0,paddingLess:!0,size:tl.Sizes.XXS,kind:tl.Kinds.SETTINGS,title:o(Qm.accountSettingsMenu),"aria-label":o(Qm.accountSettingsMenu),colorState:tl.ColorStates.INHERITED})):qi.createElement("span",{className:d.unreadCount},E.unread>0?qi.createElement(Km,{contextOfUse:"AccountSwitcher",value:(0,ns.gm)(E.unread),"data-test-id":"displayed-count",isActive:c,whiteBackground:this.context.getThemeMode()!==rl.zg.LIGHT}):null),qi.createElement(zm.Z,{key:e.email,onMouseOver:this.handleMouseOver.bind(this,e.id),onMouseLeave:this.handleMouseLeave.bind(this,e.id)},qi.createElement("a",{"data-iskeynav":!0,"data-test-id":"account-list-item","data-test-account-email":e.email,"data-test-is-active":c,"data-test-unread-count":E.unread,"data-test-is-expired":!!C,className:d.listItem,href:this.context.getUrlFromRoute({name:S.n8z.FOLDER,params:{fid:E.id}}),onClick:this.handleClick.bind(this,E.id),tabIndex:"-1",rel:"noopener"},qi.createElement("span",{className:u,title:_},_),A))):null}));return qi.createElement("div",{"data-test-id":"account-list",ref:e=>{this.accountListRef=e}},n&&this.renderOffice365Cue(),qi.createElement("ul",{className:r.accountList},i))}}jm(Xm,"contextTypes",{executeAction:zi().func,navigateTo:zi().func,getUrlFromRoute:zi().func.isRequired,getCss:zi().func,getThemeMode:zi().func,intl:Ji.intlShape.isRequired});const Jm=Xm;var $m=s(93234),eS=s.n($m),tS=s(39477);const sS=(0,Ji.defineMessages)({compose:{id:"compose_button.compose",defaultMessage:"Compose"}}),aS=["n"],nS=(0,Yi.connect)((e=>{const{canOpenNewComposeSession:t,isFeatureEnabled:s}=(0,Gl.selectors)(e);return{canOpenNewComposeSession:t,isDisabled:s(S.ANe.COMPOSE_FORMAT_CUE)}}),(e=>({onNavigateToCompose:t=>e((0,ol.Hg)(t))})))((({appRootPath:e="/d",isDisabled:t,onNavigateToCompose:s,canOpenNewComposeSession:a})=>{const n=(0,qi.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),t||!a())return!1;const n={mKey:Rl.JE.COMPOSE_BUTTON,sec:Rl.nJ.LEFTRAIL_COMPOSE,mKeyGroup:Rl.rO.composeMsg,interaction_type:(0,Ca.getInteractionFromEvent)(e)};s({i13nModel:n})}),[t,a,s]),r=e=>{e.preventDefault()};(0,tS.z)(aS,n);const{formatMessage:o}=(0,Gu.Y)(),i=o(sS.compose),l=(0,__.Z)(eS(),{disabledButton:t});return qi.createElement("a",{"data-iskeynav":!0,role:"button",rel:"noopener","aria-label":i,onDrop:e=>{e.preventDefault();const t=e.dataTransfer;Array.from(t&&t.types||[]).some((e=>"Files"===e))&&s({files:Array.from(t.files)})},onClick:n,onDragOver:r,onDragEnter:r,className:l.link,"aria-disabled":!!t,"data-test-id":"compose-button",href:`${e}/compose/`},i)}));var rS=s(91869),oS=s(51135),iS=s(13035),lS=s.n(iS);function cS(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const dS=(0,Ji.defineMessages)({switcherDividerTitle:{id:"switcher_divider.title",defaultMessage:"Expand or collapse the account list"}});class ES extends qi.Component{render(){const e=this.context.getCss(lS()),{formatMessage:t}=this.context.intl;return qi.createElement("div",{className:e.divider,onClick:this.props.onClick,title:t(dS.switcherDividerTitle),"aria-label":t(dS.switcherDividerTitle)},qi.createElement("button",{className:e.moreButton,"data-iskeynav":!0,tabIndex:"-1"}),qi.createElement(el.Z,{kind:tl.Kinds.MORE,colorState:tl.ColorStates.INHERITED,className:e.moreIcon}))}}cS(ES,"defaultProps",{onClick:()=>{}}),cS(ES,"contextTypes",{getCss:zi().func,intl:Ji.intlShape.isRequired});const _S=ES;var uS=s(51943),mS=s.n(uS);function SS(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const pS=(0,Ji.defineMessages)({add_mailbox_option:{id:"add_mailbox_option",defaultMessage:"Add Mailbox"}});class CS extends qi.Component{constructor(...e){super(...e),SS(this,"navigateToMailboxesSettings",(e=>{e.preventDefault(),e.stopPropagation(),this.props.navigateToRoute({route:(0,wl.Tx)({settingsGroupId:S.u5h.ACCOUNTS}),i13nModel:{mKey:Rl.JE.TMR_ADD_MAILBOX_CLICK,sec:Rl.nJ.MEMBERSHIP_REWARDS,interactionType:Rl.Rb.click}})}))}renderPopoverContent(e,t){return qi.createElement(El.yk,{triggerOn:ml.K2.MOUNT,zAltitude:Ue.LSY.POPOVER.HIGH,popoverAnchor:this.link,offset:20,align:ml.xM.START,persistent:!0,permittedArrowDirections:[ml.Ji.START]},qi.createElement(Pl.cr,{import:"../molecules/membership_rewards/add_mailbox_popover",cueName:e,imapInChallengePoints:t,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,38872))},_moduleResolver:function(){return 38872}}))}render(){const{formatMessage:e}=this.context.intl,t=this.props.themeMode,s=t===rl.zg.LIGHT?tl.ColorStates.IMPROVED_GRAY_DARK:tl.ColorStates.WHITE,a=gl()(mS(),{isThemeModeDark:t!==rl.zg.LIGHT});return qi.createElement("div",{"data-test-id":"add-mailbox-option",className:a.addMailboxOptionContainer,"data-iskeynav":!0,onClick:this.navigateToMailboxesSettings,ref:e=>{this.link=e}},qi.createElement(el.Z,{kind:tl.Kinds.ADD,size:tl.Sizes.XS,colorState:s,"aria-label":e(pS.add_mailbox_option),title:e(pS.add_mailbox_option)}),e(pS.add_mailbox_option),this.props.showAddMailBoxPopover&&this.renderPopoverContent(S.ANe.ADD_MAILBOX_POPOVER,this.props.imapInChallengePoints))}}SS(CS,"contextTypes",{intl:Ji.intlShape.isRequired});const AS=CS;var TS=s(78137),hS=s(3176),gS=s(68537),IS=s.n(gS),RS=s(58073),OS=s.n(RS),DS=s(78603),NS=s(26208),fS=s(40918),MS=s(42981),LS=s.n(MS);function PS(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const yS=gl()(LS()),bS={maxWidth:"230px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},FS=(0,Ji.defineMessages)({mark_folder_read:{id:"mark_folder_read",defaultMessage:"Mark emails as read"},archive_inbox_messages:{id:"archive_inbox_messages",defaultMessage:"Clean your Inbox"},archive_folder_messages:{id:"archive_folder_messages",defaultMessage:"Archive all emails"},empty_folder_messages:{id:"folder_menu.empty_folder_messages",defaultMessage:"Empty {folderName}"},delete_folder_messages:{id:"delete_folder_messages",defaultMessage:"Delete all emails"},rename_folder:{id:"rename_folder",defaultMessage:"Rename folder"},move_folder:{id:"move_folder",defaultMessage:"Move folder"},delete_folder:{id:"delete_folder",defaultMessage:"Delete folder"},create_subfolder:{id:"create_subfolder",defaultMessage:"Create subfolder"}});class US extends qi.Component{constructor(...e){super(...e),PS(this,"handleDeleteClick",(e=>{e.preventDefault();const t={interactionType:(0,Ca.getInteractionFromEvent)(e),actionData:{depth:this.props.depth}};this.props.onDelete({folder:this.props.folder,i13nModel:t,hasSubFolder:this.props.hasChildren})})),PS(this,"handleRenameClick",(e=>{e.preventDefault(),this.props.onRename()})),PS(this,"handleMoveClick",(e=>{e.preventDefault(),this.props.onMove()})),PS(this,"handleSubfolderClick",(e=>{e.preventDefault(),this.props.onSubfolderCreate()})),PS(this,"handleMarkReadClick",(e=>{e.preventDefault();const t={interactionType:(0,Ca.getInteractionFromEvent)(e),actionData:{numMsg:this.props.folder.unread}};this.props.onMarkRead({folder:this.props.folder,i13nModel:t})})),PS(this,"handleArchiveClick",(e=>{e.preventDefault(),this.props.onArchive(this.props.folder)})),PS(this,"handleClearClick",(e=>{e.preventDefault(),this.props.onClear(this.props.folder)})),PS(this,"getMarkAsReadMenuItem",(e=>{const t=0===this.props.folder.total||0===this.props.folder.unread,{formatMessage:s}=this.context.intl;return qi.createElement(NS.Z,{key:e,name:"mark_folder_read",disabled:t,onClick:this.handleMarkReadClick},qi.createElement("div",{style:bS,title:s(FS.mark_folder_read)},s(FS.mark_folder_read)))})),PS(this,"getArchiveMenuItem",(e=>{const t=this.props.folder.type,s=0===this.props.folder.total,{formatMessage:a}=this.context.intl;return qi.createElement(NS.Z,{key:e,name:"archive_folder_messages",disabled:s,onClick:this.handleArchiveClick},t===S.Sck.INBOX?qi.createElement("div",{style:bS,title:a(FS.archive_inbox_messages)},a(FS.archive_inbox_messages)):qi.createElement("div",{style:bS,title:a(FS.archive_folder_messages)},a(FS.archive_folder_messages)))})),PS(this,"getDeleteMenuItem",(e=>{const t=this.props.folder.type,s=0===this.props.folder.total,{formatMessage:a}=this.context.intl,n=S.Sck.BULK||t===S.Sck.TRASH?a(FS.empty_folder_messages,{folderName:(0,ns.h5)(a,t)}):a(FS.delete_folder_messages);return qi.createElement(NS.Z,{key:e,name:"delete_folder_messages",disabled:s,onClick:this.handleClearClick},qi.createElement("div",{style:bS,title:n},n))})),PS(this,"getRenameFolderMenuItem",(e=>{const t=this.props.hasChildren,{formatMessage:s}=this.context.intl;return qi.createElement(NS.Z,{key:e,name:"rename_folder",disabled:t,onClick:this.handleRenameClick},qi.createElement("div",{style:bS,title:s(FS.rename_folder)},s(FS.rename_folder)))})),PS(this,"getMoveFolderMenuItem",(e=>{const{formatMessage:t}=this.context.intl,s=this.props.hasChildren;return qi.createElement(NS.Z,{key:e,name:"move_folder",disabled:s,onClick:this.handleMoveClick},qi.createElement("div",{style:bS,title:t(FS.move_folder)},t(FS.move_folder)))})),PS(this,"getDeleteFolderMenuItem",(e=>{const{formatMessage:t}=this.context.intl;return qi.createElement(NS.Z,{key:e,name:"delete_folder",onClick:this.handleDeleteClick},qi.createElement("div",{style:bS,title:t(FS.delete_folder)},t(FS.delete_folder)))})),PS(this,"getCreateFolderMenuItem",(e=>{const{formatMessage:t}=this.context.intl;return qi.createElement(NS.Z,{key:e,name:"create_subfolder",onClick:this.handleSubfolderClick,"data-test-id":"create-subfolder"},qi.createElement("div",{style:bS,title:t(FS.create_subfolder)},t(FS.create_subfolder)))})),PS(this,"getSeparatorItem",(e=>qi.createElement(zm.Z,{key:e,className:yS.separator}))),PS(this,"renderMenuItems",(()=>{const e=(0,ns.Dy)(this.props.folder.type),t=[];return e.map(((e,s)=>{switch(e){case S.lsH.MARK_READ:t.push(this.getMarkAsReadMenuItem(s));break;case S.lsH.ARCHIVE:t.push(this.getArchiveMenuItem(s));break;case S.lsH.DELETE:t.push(this.getDeleteMenuItem(s));break;case S.lsH.RENAME_FOLDER:t.push(this.getRenameFolderMenuItem(s));break;case S.lsH.MOVE_FOLDER:this.props.isMoveFolderFeatureEnabled&&t.push(this.getMoveFolderMenuItem(s));break;case S.lsH.DELETE_FOLDER:t.push(this.getDeleteFolderMenuItem(s));break;case S.lsH.CREATE_FOLDER:t.push(this.getCreateFolderMenuItem(s));break;case S.lsH.SEPARATOR:t.push(this.getSeparatorItem(s))}})),t}))}render(){return qi.createElement("div",{className:yS.container},qi.createElement(Cl.Z,{kind:fS.F.MENU,focusOnMount:!0,onShow:this.props.onShow,onEscape:this.props.onEscape},this.renderMenuItems()))}}PS(US,"contextTypes",{intl:Ji.intlShape.isRequired}),PS(US,"defaultProps",{onEscape:function(){}});const vS=US;var wS=s(53373),GS=s(46669),kS=s(33954);function HS(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const BS=()=>{},xS=(0,Ji.defineMessages)({folder_tooltip:{id:"folder_tooltip",defaultMessage:"{folderName}{isSelected} - {totalNum, plural, =0 {{folderType, select, DRAFT {no drafts} other {no emails}}} =1 {{folderType, select, DRAFT {{totalNum, number} draft} other {{totalNum, number} email}}} =-1 {{folderType, select, DRAFT {} other {}}} other {{folderType, select, DRAFT {{totalNum, number} drafts} other {{totalNum, number} emails}}}} {unreadTooltip} {folderStateTooltip}"},unread_tooltip:{id:"unread_tooltip",defaultMessage:"{numUnreads, plural, other {(# unread)}}"},folder_is_open:{id:"folder_is_open",defaultMessage:"Folder is expanded. Collapse its contents using left arrow."},selected_folder:{id:"selected_folder",defaultMessage:", selected"},folder_is_closed:{id:"folder_is_closed",defaultMessage:"Folder is collapsed. Expand its contents using right arrow."},show_folders:{id:"show_folders",defaultMessage:"Click to show folders"},hide_folders:{id:"hide_folders",defaultMessage:"Click to hide folders"},rename_folder_input_aria_label:{id:"rename_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to rename folder]"},rename_folder_dismiss_input:{id:"rename_folder_dismiss_input",defaultMessage:"Dismiss input"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},empty_trash_tooltip:{id:"empty_trash_tooltip",defaultMessage:"Empty Trash folder"},empty_spam_tooltip:{id:"empty_spam_tooltip",defaultMessage:"Empty Spam folder"}});class VS extends qi.Component{constructor(...e){super(...e),HS(this,"state",{dragover:!1,unreadCount:(0,ns.PC)(this.props.folder),prevCount:0,showDropDownMenu:!1,showContextMenu:!1}),HS(this,"_getChevronTitle",(()=>{const{formatMessage:e}=this.context.intl;switch(this.props.chevron){case S.Tt3.LEFT:return e(xS.show_folders);case S.Tt3.DOWN:return e(xS.hide_folders);default:return""}})),HS(this,"getTitleText",(()=>{const{folder:e,isActive:t}=this.props,{formatMessage:s}=this.context.intl;let a="",n="";const r=t?s(xS.selected_folder):null;switch(this.props.chevron){case S.Tt3.LEFT:n=s(xS.folder_is_closed);break;case S.Tt3.DOWN:n=s(xS.folder_is_open);break;default:n=""}switch(e.type){case S.Sck.DRAFT:case S.Sck.SENT:case S.Sck.BULK:case S.Sck.TRASH:case S.Sck.ARCHIVE:break;default:a=s(xS.unread_tooltip,{numUnreads:(0,ns.PC)(e)})}return s(xS.folder_tooltip,{folderName:(0,ns.h5)(s,e.type)||e.name,folderType:e.type,totalNum:e.total,unreadTooltip:a,folderStateTooltip:n,isSelected:r})})),HS(this,"_getI13nModel",(()=>{const{folder:e}=this.props;return{mKey:Rl.JE[`${e.type}_FOLDER`],sec:S.tlB[e.type]?Rl.nJ.LEFTRAIL_SYSFOLDER:Rl.nJ.LEFTRAIL_USERFOLDER,actionData:{depth:this.props.depth},mKeyGroup:Rl.rO.listing}})),HS(this,"handleKeyDown",(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.handleNavClick(e);break;case"ArrowLeft":case"ArrowRight":e.stopPropagation(),this.props.onToggleExpansion(e);break;default:return}})),HS(this,"handleNavClick",(e=>{if(e.preventDefault(),this.folderMenu&&(e.target===this.folderMenu||this.folderMenu.contains(e.target)))return;const t=this._getI13nModel();t.interactionType=Rl.Rb.view,this.props.onClick(e,this.props.folder.id,t)})),HS(this,"handleDoubleClick",(e=>{const{folder:t}=this.props;e.stopPropagation(),S.tlB[t.type]||this.props.hasChildren||this.props.onRenameStart()})),HS(this,"handleRenameStart",(()=>{this.setState({showDropDownMenu:!1,showContextMenu:!1,contextMenuPosition:{x:0,y:0}},(()=>this.props.onRenameStart()))})),HS(this,"handleRename",(({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:this.props.depth}},t),this.props.onRenameSubmit({originalFolderName:this.props.folder.name,newFolderName:e,folderId:this.props.folder.id,i13nModel:t})})),HS(this,"renderInput",(()=>{const{formatMessage:e}=this.context.intl,t=this.props.folder.parentFolderId||"";return qi.createElement(DS.ZP,{onInputSubmit:this.handleRename,onDismiss:this.props.onRenameCancel,initialFolderName:this.props.folder.name,ariaLabel:e(xS.rename_folder_input_aria_label),cancelTitle:e(xS.rename_folder_dismiss_input),activeAccountId:this.props.activeAccountId,parentFolderId:t})})),HS(this,"renderLabel",(e=>{const{folder:t,chevron:s}=this.props,a=this.props.chevron!==S.Tt3.NONE;return qi.createElement("span",{className:e.labelContainer,title:this.getTitleText()},a?qi.createElement(Sl.Z,{title:this._getChevronTitle(),onClick:this.props.onToggleExpansion,className:e.chevron,"data-test-id":"folder-expand-btn"},qi.createElement(el.Z,{kind:tl.Kinds.CHEVRON_UP,colorState:tl.ColorStates.INHERITED,size:tl.Sizes.XS,rotate:s===S.Tt3.DOWN?tl.Rotate.D180:tl.Rotate.D90})):null,qi.createElement("span",{className:e.label},qi.createElement(Gc.Z,{folderId:t.id,"data-test-id":"folder-label"})))})),HS(this,"shouldHandleDrag",(()=>{const{folder:e}=this.props;return-1===[S.Sck.SENT,S.Sck.DRAFT].indexOf(e.type)})),HS(this,"handleDrop",(e=>{if(e.preventDefault(),!this.shouldHandleDrag())return;const t=e.dataTransfer.getData("text/list");let s;try{s=JSON.parse(t)}catch(l){return}const{listId:a,allItemsCount:n,doSelectAll:r}=s;if(!a)return;const o=this.props.folder.id,i=(r?GS.R:GS.Z)[kS.ZP.LIST].move;this.props.onFolderDrop(i,{destinationFolderId:o,listId:a,allItemsCount:n,i13nModel:{interactionType:(0,Ca.getInteractionFromEvent)(e),mKey:Rl.JE.DRAG_DROP_MOVE,sec:Rl.nJ.MSG_LIST,mKeyGroup:Rl.rO.moveMsg}}),this.targets=[],this.setState({dragover:!1})})),HS(this,"handleDragEnter",(e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.targets||(this.targets=[]),this.targets.push(e.currentTarget),1===this.targets.length&&this.setState({dragover:!0}))})),HS(this,"handleDragLeave",(e=>{e.preventDefault(),this.shouldHandleDrag()&&this.targets&&(this.targets.pop(),0===this.targets.length&&this.setState({dragover:!1}))})),HS(this,"handleDragOver",(e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.state.dragover||this.setState({dragover:!0}))})),HS(this,"handleContextMenu",(e=>{if(e.preventDefault(),!this.folderRef)return;const t=this.folderRef.getBoundingClientRect();this.setState({contextMenuPosition:{x:e.clientX-t.left,y:e.clientY-t.top},showContextMenu:!0})})),HS(this,"shouldRenderTrashCanIcon",(()=>{const{isHovered:e,showFolderMenu:t,isRefreshing:s,folder:a}=this.props;return!(s||!t||!e||-1===[S.Sck.TRASH,S.Sck.BULK].indexOf(a.type))})),HS(this,"handleEmptyFolder",(e=>{e.preventDefault(),this.props.folder.total>0&&this.props.onClear(this.props.folder)})),HS(this,"shouldRenderUnreadCount",(()=>{const{isHovered:e,showFolderMenu:t,isRefreshing:s,folder:a}=this.props;return!(s||a.type!==S.Sck.SENT&&(e||t))})),HS(this,"getUnreadCountClass",(e=>{const{folder:t}=this.props;return this.state.prevCount>=this.state.unreadCount||-1!==[S.Sck.DRAFT,S.Sck.SENT,S.Sck.SPAM,S.Sck.TRASH].indexOf(t.type)?e.unreadWrapper:e.unreadFadeIn})),HS(this,"handleMenuAnchorClick",(()=>{this.setState({showDropDownMenu:!this.state.showDropDownMenu})})),HS(this,"renderFolderStateIcon",(e=>{const{isRefreshing:t,folder:s,isActive:a,highlightUnreadCount:n}=this.props,{unreadCount:r}=this.state,{formatMessage:o}=this.context.intl,i=this.shouldRenderUnreadCount(),l=this.shouldRenderTrashCanIcon();if(t)return qi.createElement("span",{className:e.loader},qi.createElement(Vu.Z,{size:Vu.u.S,"data-test-id":"folder-loading-indicator"}));if(i&&r>0)return qi.createElement("span",{className:e.unreadWrapper},qi.createElement(Km,{contextOfUse:"Folder",value:(0,ns.gm)(r),"data-test-id":"displayed-count",isActive:a,highlight:n,whiteBackground:this.context.getThemeMode()!==rl.zg.LIGHT}),this.state.showContextMenu&&this.contextMenuAnchor&&this.renderMenu());if(l){const t=s.type===S.Sck.TRASH?o(xS.empty_trash_tooltip):o(xS.empty_spam_tooltip);return qi.createElement("span",{className:e.trashIconWrapper,title:t},qi.createElement($i.default,{"data-test-id":"trashcan-icon",kind:tl.Kinds.DELETE,size:tl.Sizes.XXS,colorState:tl.ColorStates.INHERITED,onClick:this.handleEmptyFolder,title:t,ariaLabel:t}),this.state.showContextMenu&&this.contextMenuAnchor&&this.renderMenu())}return qi.createElement("span",{className:e.folderMenu,ref:e=>this.folderMenu=e},qi.createElement("div",{className:e.folderMenuIcon,"data-test-id":"folder-menu-hook",ref:e=>{this.dropDownMenuAnchor=e}},!this.state.showContextMenu&&qi.createElement($i.default,{onClick:this.handleMenuAnchorClick,kind:tl.Kinds.INPUT_ARROW_DOWN,size:tl.Sizes.XS,colorState:tl.ColorStates.INHERITED,title:o(xS.show_folder_menu),ariaLabel:o(xS.show_folder_menu),paddingLess:!0}),(this.state.showDropDownMenu&&this.dropDownMenuAnchor||this.state.showContextMenu&&this.contextMenuAnchor)&&this.renderMenu()))})),HS(this,"handleMenuHide",(()=>{this.setState({showDropDownMenu:!1,showContextMenu:!1,contextMenuPosition:{x:0,y:0}},(()=>this.props.handleMenuVisibility(!1)))})),HS(this,"handleMenuShow",(()=>{this.props.handleMenuVisibility(!0)})),HS(this,"renderMenu",(()=>{const{showDropDownMenu:e}=this.state,t=e?ml.xM.CENTER:ml.xM.START,s=e?4*Ue.mg$:0,a=e?this.dropDownMenuAnchor:this.contextMenuAnchor;return qi.createElement(El.ZP,{permittedArrowDirections:[ml.Ji.UP,ml.Ji.DOWN],triggerOn:ml.K2.MOUNT,arrowSize:ml.Jk.XS,offset:s,align:t,overflowScroll:!1,onShow:this.handleMenuShow,onHide:this.handleMenuHide,popoverAnchor:a,isArrowVisible:e},qi.createElement(vS,{"data-test-id":"folder-menu",folder:this.props.folder,onDelete:this.props.onDelete,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,onMarkRead:this.props.onMarkRead,onArchive:this.props.onArchive,onClear:this.props.onClear,onShow:this.props.onFolderMenuShow,onRename:this.handleRenameStart,onMove:this.props.onMove,hasChildren:this.props.hasChildren,depth:this.props.depth,onEscape:this.handleMenuHide,isMoveFolderFeatureEnabled:this.props.isMoveFolderFeatureEnabled}))})),HS(this,"getContainerClassName",(e=>{const{isActive:t}=this.props;return this.state.dragover?t?e.activeDragoverContainer:e.dragoverContainer:t?e.activeContainer:e.container})),HS(this,"handleMouseEnter",(()=>{this.props.handleHover(!0)})),HS(this,"handleMouseLeave",(()=>{this.props.handleHover(!1)}))}static getDerivedStateFromProps(e,t){e.folder.unread<0&&te.Z.error("The user received a negative folder count.");const s=(0,ns.PC)(e.folder);return t.unreadCount!==s?{unreadCount:s,prevCount:t.unreadCount||0}:null}componentWillUnmount(){this.targets=null,clearTimeout(this.timerID)}render(){const{folder:e,depth:t,isActive:s,isActualFolder:a,showFolderMenu:n,sortOrder:r}=this.props,o=this.props.chevron!==S.Tt3.NONE,{contextMenuPosition:i}=this.state;let l;e.isSystem||(l=0===t?o?wS.yr:wS.p_:o?wS.Fn:wS.$n);const c=this.context.getCss(OS(),{indentation:l,showFolderMenu:n,isActive:s});return this.props.renamingFolder?this.renderInput():a?qi.createElement("div",{className:this.getContainerClassName(c),"data-test-folder-container":e.name,"data-test-id":"folder-item-container",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onContextMenu:this.handleContextMenu,onClick:this.handleNavClick,onKeyDown:this.handleKeyDown,"data-iskeynav":!0,tabIndex:-1,ref:e=>{this.folderRef=e}},qi.createElement("span",{style:{position:"absolute",top:i?i.y+"px":0,left:i?i.x+"px":0},ref:e=>{this.contextMenuAnchor=e}}),qi.createElement("a",{href:this.context.getUrlFromRoute({name:S.n8z.FOLDER,params:{fid:(0,Hl.Rm)((0,Hl.Kw)(e.id,r))}}),className:s?c.activeNavContainer:c.navContainer,"data-test-folder-name":e.name,"data-test-id":"folder-list-item",onFocus:this.props.onFocus,onDoubleClick:this.handleDoubleClick,"aria-label":this.getTitleText(),"data-test-unread-count":e.unread,"data-test-total-count":e.total,"data-test-is-active":s,tabIndex:-1,rel:"noopener"},this.renderLabel(c),this.renderFolderStateIcon(c))):qi.createElement("div",{className:c.folderLabelContainer},qi.createElement("span",{className:c.label},qi.createElement(oS.Z,{name:e.name,"data-test-id":"folder-label"})))}}HS(VS,"contextTypes",{intl:Ji.intlShape.isRequired,getCss:zi().func,getThemeMode:zi().func,getUrlFromRoute:zi().func.isRequired}),HS(VS,"defaultProps",{onClick:BS,onRenameStart:BS,onRenameSubmit:BS,onRenameCancel:BS,renamingFolder:!1,isActive:!1,isActualFolder:!0,showFolderMenu:!1,depth:0,hasChildren:!1});const WS=VS;function ZS(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const KS=(0,Ji.defineMessages)({folders_label:{id:"folders_label",defaultMessage:"Folders"},click_to_show_folders_title:{id:"folder_list.click_to_show_folders_title",defaultMessage:"Click here to Show the Folders"},click_to_hide_folders_title:{id:"folder_list.click_to_hide_folders_title",defaultMessage:"Click here to Hide the Folders"}});class zS extends qi.Component{constructor(...e){super(...e),ZS(this,"state",{expanded:this.props.showCustomFolders}),ZS(this,"expand",(()=>{this.state.expanded||this.toggle()})),ZS(this,"collapse",(()=>{this.state.expanded&&this.toggle()})),ZS(this,"toggle",(()=>{const e=this.state.expanded;this.props.onToggleCustomFolders(!e),this.setState({expanded:!e})})),ZS(this,"handleClick",(e=>{e.stopPropagation(),e.preventDefault(),this.toggle()})),ZS(this,"handleKeyDown",(e=>{switch(e.preventDefault(),e.key){case" ":case"Enter":this.toggle();break;case"ArrowLeft":this.collapse();break;case"ArrowRight":this.expand();break;default:return}})),ZS(this,"getTitleText",(()=>{const{formatMessage:e}=this.context.intl;return this.state.expanded?e(KS.click_to_hide_folders_title):e(KS.click_to_show_folders_title)}))}render(){const{formatMessage:e}=this.context.intl,t=this.context.getCss(IS(),{indentation:wS.Vc,...(0,rl.OW)(this.context,!0)}),s={id:"-1",type:S.Sck.USER,name:e(KS.folders_label),total:-1};return qi.createElement("div",null,qi.createElement("div",{"data-test-id":"toggle-folder-tree","data-iskeynav":!0,onKeyDown:this.handleKeyDown,className:t.folderContainer,onClick:this.handleClick},qi.createElement(WS,{isActive:!1,folder:s,onToggleExpansion:()=>{},chevron:S.Tt3.NONE,isActualFolder:!1}),qi.createElement("span",{"data-test-id":"toggle-folder-tree-label",className:t.toggleFolderTree,title:this.getTitleText(),"aria-label":this.getTitleText()},this.state.expanded?qi.createElement(Ji.FormattedMessage,{id:"hide_label",defaultMessage:"Hide"}):qi.createElement(Ji.FormattedMessage,{id:"show_label",defaultMessage:"Show"}))),this.props.children&&this.state.expanded?qi.createElement("ul",{className:t.folderTree,"data-test-id":"custom-folder-list"},qi.createElement("li",null,this.props.children)):null)}}ZS(zS,"contextTypes",{intl:Ji.intlShape.isRequired,getCss:zi().func,getThemeMode:zi().func,getTheme:zi().func});const qS=zS;var YS=s(68949),jS=s(63523),QS=s(90732),XS=s.n(QS);function JS(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class $S extends qi.Component{constructor(...e){super(...e),JS(this,"state",{playAnimation:!1,playAnimationForDeals:!1}),JS(this,"getTitleText",(()=>{const{formatMessage:e}=this.context.intl,{isActive:t,type:s}=this.props;return e(t?xl.Z["smart_view_selected_"+s]:xl.Z[s])})),JS(this,"getFujiIconKind",(e=>{switch(e){case"DOCUMENTS":return tl.Kinds.DOCUMENTS_S;case"PHOTOS":return tl.Kinds.TAB_IMAGES;case"TUTORIAL":return tl.Kinds.CAL_MAYBE;case"COUPONS":case"COUPON_EMAILS":return tl.Kinds.SCISSORS;case"STOREFRONT":return tl.Kinds.DEALS;case"GROCERIES":return tl.Kinds.BASKET;case"RECEIPTS":return tl.Kinds.DRAFTS;case"TRAVEL":return tl.Kinds.TRAVEL;case"SUBSCRIPTIONS":return tl.Kinds.SUBSCRIPTIONS;case"ATTACHMENTS":return tl.Kinds.ATTACHMENT;default:return""}})),JS(this,"handleKeyDown",(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.props.onClick(e,this.props.type);break;default:return}})),JS(this,"handleNavClick",(e=>{this.props.onClick(e,this.props.type)})),JS(this,"handleContextMenu",(e=>{e.preventDefault()})),JS(this,"handleHover",(e=>{this.props.handleHover(e)})),JS(this,"renderGuidedStarAnimation",((e,t)=>{const s=this.context.getThemeMode(),{STARRED:a,STARRED_DARK:n}=tl.ColorStates,{gifUrlLight:r,gifUrlDark:o}=t;return t.name===S.fi6.SLIDEUP?qi.createElement("div",{className:e.starAnimation},qi.createElement(el.Z,{kind:tl.Kinds.STAR,size:tl.Sizes.S,colorState:s===S.yU3.LIGHT?a:n})):t.name===S.fi6.GUIDEDSTAR?qi.createElement("img",{className:e.sparkleGuidedStarAnimation,src:(0,YS.A)(s===S.yU3.LIGHT?r:o),"data-test-id":s===S.yU3.LIGHT?"guided-stars-light":"guided-stars-dark"}):null})),JS(this,"renderLabel",(e=>{const{type:t}=this.props,s=this.context.intl.formatMessage(xl.Z["smart_view_"+t]),a=qi.createElement("span",null,s);return qi.createElement("div",{className:e.labelContainer,title:this.getTitleText()},qi.createElement("span",{className:e.label},a))})),JS(this,"getListId",(()=>{const{type:e,activeAccount:t}=this.props,s={accountIds:[t.id]},a=(0,jS.qt)(e,s);return(0,Hl.tr)((0,Hl.Ez)(a))})),JS(this,"getIconColor",(()=>{let e;return e="LIGHT"===this.context.getThemeMode()?this.props.isActive?tl.ColorStates.NORMAL:tl.ColorStates.DISABLED:this.props.isActive?tl.ColorStates.INVERTED:tl.ColorStates.SMARTVIEW_DARK,e})),JS(this,"getIcon",((e,t,s,a,n,r)=>t?qi.createElement("span",{className:e.smartViewIcon+" "+e.rtlRawScaleX},qi.createElement(el.Z,{kind:s,size:a,title:n,colorState:r})):null))}UNSAFE_componentWillReceiveProps(e){"STARRED"===e.type&&e.guidedStarAnimation&&e.hasGuidedStarAnimation&&!this.state.playAnimation&&this.setState({playAnimation:!0},(()=>setTimeout((()=>{this.setState({playAnimation:!1})}),e.guidedStarAnimation.duration))),"COUPONS"===e.type&&e.guidedStarAnimation&&e.hasDealsStarAnimated&&!this.state.playAnimationForDeals&&this.setState({playAnimationForDeals:!0},(()=>setTimeout((()=>{this.setState({playAnimationForDeals:!1})}),e.guidedStarAnimation.duration)))}render(){const{type:e,isActive:t,guidedStarAnimation:s={}}=this.props,{name:a=""}=s,n=this.getFujiIconKind(e),r=this.getIconColor(),o=!!n,i=!o&&t,l=this.context.getCss(XS(),{isActive:t,isActiveAndNoIcon:i,hasIcon:o,animation:a}),c=this.getListId();let d,E={query:c};switch(e){case S.K8C.TUTORIAL:d=S.n8z.TUTORIAL;break;case S.K8C.SUBSCRIPTIONS:d=S.n8z.SUBSCRIPTION_LIST;break;case S.K8C.STOREFRONT:d=S.n8z.STOREFRONT;break;case S.K8C.RECEIPTS:case S.K8C.COUPONS:case S.K8C.COUPON_EMAILS:case S.K8C.GROCERIES:case S.K8C.TRAVEL:d=S.n8z.LIST,E={serializedListId:c};break;default:d=S.n8z.SEARCH}return qi.createElement("a",{href:this.context.getUrlFromRoute({name:d,params:E}),onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),className:t?l.activeContainer:l.container,"data-test-smartview-type":e,"data-test-id":"smartview-list-item",onClick:this.handleNavClick,onContextMenu:this.handleContextMenu,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-is-active":t,"data-iskeynav":!0,tabIndex:-1,rel:"noopener"},this.getIcon(l,o,n,tl.Sizes.XS,this.getTitleText(),r,e),this.renderLabel(l),this.state.playAnimation?this.renderGuidedStarAnimation(l,s):null,this.state.playAnimationForDeals?this.renderGuidedStarAnimation(l,s):null)}}JS($S,"contextTypes",{intl:Ji.intlShape.isRequired,getCss:zi().func,getThemeMode:zi().func,getUrlFromRoute:zi().func.isRequired}),JS($S,"defaultProps",{onClick:()=>{},isActive:!1});const ep=(0,Yi.connect)((e=>{const{isFeatureEnabled:t,getSetting:s}=(0,Gl.selectors)(e);return{hasDealsStarAnimated:t(S.Zrf.HAS_DEALS_STAR_ANIMATION),hasGuidedStarAnimation:t(S.Zrf.HAS_GUIDED_STAR_ANIMATION),guidedStarAnimation:s(S.Zrf.GUIDED_STAR_ANIMATION)}}))($S);class tp extends qi.Component{render(){return qi.createElement(ep,this.props)}}const sp=(0,Yi.connect)((function(e){const{getSelectedAccountId:t,getAccountById:s}=(0,Gl.selectors)(e);return{activeAccount:s(t())}}))(tp);var ap=s(23224),np=s(38569),rp=s.n(np);function op(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ip=(0,Ji.defineMessages)({search_placeholder:{id:"folder_menu.search",defaultMessage:"Find a folder"},no_result_label:{id:"folder_menu.empty_search_result",defaultMessage:"No folders found"},selectFolderPlaceholder:{id:"select_folder_placeholder",defaultMessage:"Select folder"},placeAtTopLevel:{id:"moveFolderDialog.place_at_top_level",defaultMessage:"Place at top level"}});class lp extends qi.Component{constructor(e,t){super(e),op(this,"handleMenuShow",(()=>{this.selectedFolderId=null,this.setState({isFilterFocused:!0,isOpen:!0},(()=>{this.props.handleMenuVisibility(!0),setTimeout((()=>{this.focusSearch()}),0)}))})),op(this,"handleMenuHide",(e=>{const t={filterString:"",isFilterActive:!1,isOpen:!1};e&&(this.selectedFolderId=e,t.selectedFolderId=e),this.setState(t,(()=>{this.state.selectedFolderId&&this.props.onClick(this.state.selectedFolderId),this.props.handleMenuVisibility(!1),this.focusSelect()}))})),op(this,"focusSelect",(()=>{this.selectInput&&this.selectInput.focus()})),op(this,"focusSearch",(()=>{this.searchInput&&this.searchInput.focus()})),op(this,"handleMenuItemClick",((e,t)=>{t.preventDefault(),t.stopPropagation(),this.handleMenuHide(e)})),op(this,"handleSearchKeyDown",(e=>{this.state.isFilterActive&&e.key===S.R8U.ENTER&&this.selectedFolderId&&this.handleMenuItemClick(this.selectedFolderId,e)})),op(this,"handleSearchClear",(()=>{this.resetSelectedItem(),this.focusSearch()})),op(this,"handleSearchChange",(e=>{this.resetSelectedItem(e.target.value)})),op(this,"handleSearchFocus",(()=>{this.setState({isFilterActive:!0})})),op(this,"handleSearchBlur",(e=>{(0,Xi.findDOMNode)(this.foldersList).contains(e.relatedTarget)||this.handleMenuHide()})),op(this,"handleKeyDown",(e=>{if(this.menuContainer.contains(e.target)||e.target.contains(this.menuContainer))return e.target===this.searchInput.bidiInput&&this.handleSearchKeyDown(e),e.key===S.R8U.ARROW_DOWN?(e.preventDefault(),e.stopPropagation(),this.focusSearch()):void 0})),op(this,"selectItem",(e=>{if(this.foldersContainer){const t=(0,Xi.findDOMNode)(e),s=this.foldersContainer.getBoundingClientRect(),a=t.getBoundingClientRect();(a.top<s.top||a.bottom>s.bottom)&&t.scrollIntoView()}this.selectedFolderId=e.id,this.setState({selectedFolderId:e.id})})),op(this,"resetSelectedItem",((e="")=>{this.selectedFolderId=null,this.setState({selectedFolderId:null,filterString:e}),this.props.onClick(null),this.foldersList&&this.foldersList.resetCursorIndex()})),op(this,"renderSearchInput",(()=>{const{classNames:e}=this,{filterString:t}=this.state,{formatMessage:s}=this.context.intl;return qi.createElement(zm.Z,{key:"folder-search","data-test-id":"item-move-to-folder-id-search"},qi.createElement("div",{className:e.searchInputContainer,onClick:e=>e.stopPropagation()},qi.createElement(el.Z,{kind:tl.Kinds.SEARCH_MINI,size:tl.Sizes.XS,colorState:tl.ColorStates.DISABLED}),qi.createElement(ap.Z,{ref:e=>this.searchInput=e,className:e.searchInput,type:"text",id:"folder-menu-search-input","data-test-id":"folder-menu-search-input",value:t,onClear:this.handleSearchClear,onChange:this.handleSearchChange,onFocus:this.handleSearchFocus,onBlur:this.handleSearchBlur,onKeyDown:e=>{this.foldersList.handleKeyDown(e)},isClearable:!0,placeholder:s(ip.search_placeholder),autoComplete:"off","data-iskeynav":!0})))})),op(this,"_getListStyle",(e=>{let t=4*Ue.mg$,s=2*Ue.mg$*(e+2)+Ue.mg$;return this.props.isRTL&&(t=2*Ue.mg$*(e+2)+Ue.mg$,s=4*Ue.mg$),{paddingLeft:`${s}px`,paddingRight:`${t}px`,width:98.5*Ue.mg$+"px"}})),op(this,"renderEmptyResult",(()=>{const{formatMessage:e}=this.context.intl;return qi.createElement(zm.Z,null,qi.createElement("div",{className:this.classNames.noResultContainer,style:this._getListStyle(0)},e(ip.no_result_label)))})),op(this,"renderMenuItems",(e=>{const{classNames:t}=this,s=[],{formatMessage:a}=this.context.intl;return e.forEach((({id:e,name:n,type:r,level:o,disabled:i})=>{const l=this.selectedFolderId===e;s.push(qi.createElement(zm.Z,{key:e,name:"item-move-folder-id-"+e},qi.createElement(Sl.Z,{id:e,"data-test-id":"item-move-folder-id-"+e,kind:pl.F.MENUITEM,onClick:this.handleMenuItemClick.bind(this,e),style:this._getListStyle(o),disabled:i,title:(0,ns.h5)(a,r)||n,overridingClass:l&&!i?t.highlightedListItem:t.listItem,"data-iskeynav":!0},qi.createElement("span",{className:t.fullLabel},qi.createElement("span",{className:t.itemLabel},qi.createElement(Gc.Z,{folderId:e}))))))})),s})),op(this,"renderPlaceAtTopLevelOption",(()=>{const{classNames:e}=this,t=this.selectedFolderId===wS.cE,{formatMessage:s}=this.context.intl;return qi.createElement(zm.Z,{key:wS.cE,className:e.placeAtTopLevel},qi.createElement(Sl.Z,{id:wS.cE,"data-test-id":"item-move-place-top-level",kind:pl.F.MENUITEM,onClick:this.handleMenuItemClick.bind(this,wS.cE),style:this._getListStyle(0),title:s(ip.placeAtTopLevel),overridingClass:t?e.highlightedListItem:e.listItem,"data-iskeynav":!0},qi.createElement("span",{className:e.fullLabel},qi.createElement("span",{className:e.itemLabel}," ",s(ip.placeAtTopLevel)))))})),op(this,"handleSelectKeyDown",(e=>{const{isOpen:t}=this.state;switch(e.key){case S.R8U.ENTER:e.preventDefault(),e.stopPropagation();break;case S.R8U.ARROW_DOWN:t||this.handleMenuShow()}})),op(this,"handleSelectClick",(()=>{const{isOpen:e}=this.state;e?this.handleMenuHide():this.handleMenuShow()})),op(this,"renderSelectLabel",(()=>{const{formatMessage:e}=this.context.intl,{classNames:t}=this,{isOpen:s,selectedFolderId:a}=this.state,n=s?tl.ColorStates.SELECTED:tl.ColorStates.SECOND_LEVEL_GRAY;let r,o;return a===wS.cE?o=e(ip.placeAtTopLevel):(r=this.props.customFolders.find((e=>e.id===a)),o=r?r.name:""),qi.createElement("div",{onKeyDown:this.handleSelectKeyDown,onClick:this.handleSelectClick,"data-test-id":"selectbox-input",className:t.selectBox},qi.createElement("input",{readOnly:!0,type:"text",ref:e=>this.selectInput=e,value:o,onKeyDown:this.handleSelectKeyDown,onClick:this.handleSelectClick,className:t.selectInput}),qi.createElement("div",{className:t.selectLabel},a?qi.createElement("div",{className:t.inputWrapper},qi.createElement("span",{title:o,className:t.selectedValue},o)):qi.createElement("span",{className:t.selectPlaceholder,title:o},e(ip.selectFolderPlaceholder)),qi.createElement("span",{className:t.arrowDown},qi.createElement(el.Z,{size:tl.Sizes.XS,kind:tl.Kinds.INPUT_ARROW_DOWN,colorState:n}))))})),op(this,"renderDropdownMenu",(()=>{const{filterString:e="",isOpen:t}=this.state;if(!t)return;const{classNames:s}=this,{customFolders:a,enablePlaceAtTopLevelOption:n}=this.props,r=a.filter((({name:t})=>-1!==t.toLowerCase().indexOf(e.toLowerCase()))),o=r.length;return qi.createElement("div",{className:s.menuContainer},qi.createElement("div",{"data-test-id":"folder-menu",onKeyDown:this.handleKeyDown,tabIndex:Ue.iUz.FOLDER_SELECTION_MENU,role:"menu",ref:e=>this.menuContainer=e},qi.createElement("ul",{className:s.searchContainer},this.renderSearchInput()),qi.createElement(Cl.Z,{ref:e=>this.foldersList=e,tabIndex:Ue.iUz.FOLDER_SELECTION_MENU,onShow:this.handleMenuShow,selectItemInsteadOfFocus:this.selectItem,onHide:this.handleMenuHide,onEscape:this.handleMenuHide,listNavigationOnInputEnabled:!0},0===o&&qi.createElement("ul",{className:s.emptyMessageContainer},this.renderEmptyResult()),qi.createElement("div",null,o>0&&qi.createElement("ul",{ref:e=>this.foldersContainer=e,className:s.folderContainer},n&&this.renderPlaceAtTopLevelOption(),this.renderMenuItems(r))))))})),this.classNames=t.getCss(rp()),this.state={filterString:"",isOpen:!1,isFilterActive:!1,selectedFolderId:null}}componentDidMount(){setTimeout((()=>{this.focusSelect()}),0)}render(){return qi.createElement("div",null,this.renderSelectLabel(),this.renderDropdownMenu())}}lp.contextTypes={getCss:zi().func,getThemeMode:zi().func,intl:Ji.intlShape.isRequired};const cp=(0,Yi.connect)(((e,{currentFolder:t})=>{const{getEnvironmentSelectors:s,getCustomFolderList:a,getFoldersSelectors:n,getAccountIdByFolderId:r}=(0,Gl.selectors)(e),{getParentFolderId:o}=n(),i=r(t.id),l=[t.id],c=o(t.id);c&&l.push(c);const d=a(i).filter((e=>l.indexOf(e.id)<0));return{enablePlaceAtTopLevelOption:t&&t.level>0,customFolders:d,isRTL:"rtl"===s().getPageDirection()}}),null,null,{withRef:!0})(lp);function dp(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ep=(0,Ji.defineMessages)({heading:{id:"moveFolderDialog.heading",defaultMessage:"Select a new parent folder"},doneBtn:{id:"done_button_title",defaultMessage:"Done"},cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"}});class _p extends qi.Component{constructor(e){super(e),dp(this,"state",{selectedFolderId:"",isMenuVisible:!1}),dp(this,"handleConfirm",(e=>{if(e.stopPropagation(),!this.state.selectedFolderId)return;const t=this.state.selectedFolderId===wS.cE;this.props.onSubmit({destFolderId:t?"":this.state.selectedFolderId,placeFolderAtTopLevel:t})})),dp(this,"handleClose",(e=>{e.stopPropagation(),this.state.isMenuVisible&&this.menuRef?this.menuRef.current.getWrappedInstance().handleMenuHide():this.props.onClose()})),dp(this,"handleFolderSelect",(e=>{this.setState({selectedFolderId:e})})),dp(this,"handleMenuVisibility",(e=>{this.setState({isMenuVisible:e})})),this.menuRef=qi.createRef()}render(){const{formatMessage:e}=this.context.intl,{currentFolder:t}=this.props,s=!this.state.selectedFolderId;return qi.createElement(rS.Z,{onAbort:this.handleClose,onConfirm:this.handleConfirm,hideIcon:!0,title:e(Ep.heading),onOuterClick:this.handleClose,disablePrimaryButton:s,acceptLabel:Ep.acceptLabel},qi.createElement(cp,{onClick:this.handleFolderSelect,currentFolder:t,ref:this.menuRef,handleMenuVisibility:this.handleMenuVisibility}))}}dp(_p,"contextTypes",{intl:Ji.intlShape.isRequired,getCss:zi().func}),dp(_p,"defaultProps",{});const up=_p;function mp(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Sp={},pp=(0,Ji.defineMessages)({create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class Cp extends qi.Component{constructor(...e){super(...e),mp(this,"state",{creatingSubfolder:!1,movingFolder:!1,renamingFolder:!1,isMenuVisible:!1,isHovered:!1}),mp(this,"handleToggle",(e=>{const t=this.props.folder.id;e.stopPropagation(),e.preventDefault(),e.key?"ArrowRight"!==e.key||this.props.expanded?"ArrowLeft"===e.key&&this.props.expanded&&this.props.toggleExpansion(t,!1):this.props.toggleExpansion(t,!0):this.props.toggleExpansion(t,!this.props.expanded)})),mp(this,"handleCreateSubfolderStart",(()=>{this.setState({creatingSubfolder:!0})})),mp(this,"handleMoveFolderStart",(()=>{this.setState({movingFolder:!0})})),mp(this,"handleMoveFolderCancel",(()=>{this.setState({movingFolder:!1})})),mp(this,"handleRenameFolderStart",(()=>{this.setState({renamingFolder:!0})})),mp(this,"handleRenameFolderSubmit",(({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a})=>{e!==t&&this.props.onRename({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a}),this.setState({renamingFolder:!1})})),mp(this,"handleMoveFolderSubmit",(({destFolderId:e,placeFolderAtTopLevel:t,i13nModel:s={}})=>{this.props.onMove({folderName:this.props.folder.name,folderId:this.props.folder.id,destFolderId:e,placeFolderAtTopLevel:t,i13nModel:s}),this.setState({movingFolder:!1})})),mp(this,"handleRenameFolderCancel",(()=>{this.setState({renamingFolder:!1})})),mp(this,"handleCreateSubfolderDone",(({folderName:e,i13nModel:t})=>{this.setState({creatingSubfolder:!1}),t=Object.assign({actionData:{depth:this.props.depth+1}},t),this.props.onSubfolderCreate({folderId:this.props.folder.id,subfolderName:e,i13nModel:t})})),mp(this,"handleCreateSubfolderDismiss",(()=>{this.setState({creatingSubfolder:!1})})),mp(this,"handleMenuVisibility",(e=>{this.setState({isMenuVisible:e})})),mp(this,"handleHover",(e=>{this.setState({isHovered:e})})),mp(this,"handleFolderOpen",((e,t,s)=>{const{folder:a}=this.props;Sp[a.id]&&(Sp[a.id]=!1),this.props.onOpen(e,t,s)})),mp(this,"getChevronState",(()=>{const e=this.props.hasChildren&&!this.props.folder.isSystem;let t=S.Tt3.NONE;return e&&(t=this.props.expanded?S.Tt3.DOWN:S.Tt3.LEFT),t}))}static shouldHighlightUnreadCount(e,t){const{highlightFolderId:s,unread:a,uidNext:n,highestModSeq:r}=t;return s!==e.folder.id&&a>0&&e.highestModSeq!==r&&e.uidNext!==n}componentDidUpdate(e){const t=Sp[this.props.folder.id]||!1;Cp.shouldHighlightUnreadCount(this.props,e)&&!t&&(Sp[this.props.folder.id]=!0,this.forceUpdate())}render(){const{formatMessage:e}=this.context.intl,{folder:t,unread:s,total:a,hasChildren:n,parentFolderId:r}=this.props,o=t.isRTL?{padding:`0 ${8*this.props.depth}px 0 0`}:{padding:`0 0 0 ${8*this.props.depth}px`};return qi.createElement("li",{style:o},"smartview"===t.kind?qi.createElement(sp,{onClick:this.props.onSmartViewOpen,type:t.type,total:a,isActive:this.props.highlightFolderId===t.id,handleHover:this.handleHover}):qi.createElement(WS,{folder:{...t,unread:s,total:a,hasChildren:n,parentFolderId:r},sortOrder:this.props.sortOrder,depth:this.props.depth,onClick:this.handleFolderOpen,onRenameStart:this.handleRenameFolderStart,onRenameSubmit:this.handleRenameFolderSubmit,onRenameCancel:this.handleRenameFolderCancel,renamingFolder:this.state.renamingFolder,isActive:this.props.highlightFolderId===t.id,isRefreshing:this.props.highlightFolderId===t.id&&this.props.folderRefreshing,chevron:this.getChevronState(),onToggleExpansion:this.handleToggle,handleMenuVisibility:this.handleMenuVisibility,handleHover:this.handleHover,showFolderMenu:this.state.isHovered||this.state.isMenuVisible,onDelete:this.props.onDelete,onSubfolderCreate:this.handleCreateSubfolderStart,onMove:this.handleMoveFolderStart,onMarkRead:this.props.onMarkRead,onFolderMenuShow:this.props.onFolderMenuShow,onArchive:this.props.onArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onClear,isHovered:this.state.isHovered,highlightUnreadCount:Sp[t.id]||!1,activeAccountId:this.props.activeAccountId,hasChildren:n,isMoveFolderFeatureEnabled:this.props.isMoveFolderFeatureEnabled}),this.state.creatingSubfolder?qi.createElement(DS.ZP,{onInputSubmit:this.handleCreateSubfolderDone,onDismiss:this.handleCreateSubfolderDismiss,ariaLabel:e(pp.create_folder_input_aria_label),indentation:wS.gG,activeAccountId:this.props.activeAccountId,parentFolderId:t.id}):null,this.state.movingFolder?qi.createElement(up,{onClose:this.handleMoveFolderCancel,onSubmit:this.handleMoveFolderSubmit,currentFolder:this.props.folder}):null)}}mp(Cp,"contextTypes",{intl:Ji.intlShape.isRequired});const Ap=(0,Yi.connect)(((e,{folder:t})=>{const s=t.id,{getFolderHighestModSeq:a,getFoldersSelectors:n}=(0,Gl.selectors)(e),{getFolderUidNext:r,getFolderUnreadCount:o,getFolderTotal:i,hasChildren:l,getParentFolderId:c}=n();return"folder"===t.kind?{highestModSeq:a(s),uidNext:r(s),unread:o(s),total:i(s),hasChildren:l(s),parentFolderId:c(s)}:{unread:0,total:0}}),void 0,void 0,{areOwnPropsEqual:g.PJ})(Cp);function Tp(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const hp=(0,Ji.defineMessages)({click_to_show_more_title:{id:"folder_list.click_to_show_more_title",defaultMessage:"Click here to Show Folders"},click_to_show_less_title:{id:"folder_list.click_to_show_less_title",defaultMessage:"Click here to Hide Folders"},less_label:{id:"folder_list.less_label",defaultMessage:"Less"},more_label:{id:"folder_list.more_label",defaultMessage:"More"}});class gp extends qi.Component{constructor(e){super(e),Tp(this,"toggleExpansion",((e,t)=>{const{expandedFolders:s}=this.state;let a;a=t?(0,TS.R3)(s,e):(0,TS.Od)(s,s.indexOf(e),1),this.setState({expandedFolders:a}),this.props.onFolderExpandToggle(e,t)})),Tp(this,"toggleShowAll",(()=>{const e=!this.state.showAllSystemFolders;this.setState({showAllSystemFolders:e}),this.props.handleToggleSystemFolders(e)})),Tp(this,"handleKeyDown",(e=>{switch(e.key){case" ":case"Enter":this.toggleShowAll();break;case"Left":case"ArrowLeft":this.setState({showAllSystemFolders:!1});break;case"Right":case"ArrowRight":this.setState({showAllSystemFolders:!0});break;default:return}})),Tp(this,"getFolderTreeNodes",(({onOpen:e,onRename:t,onMove:s,onDelete:a,onMarkRead:n,onArchive:r,onFolderDrop:o,onClear:i,onSubfolderCreate:l,onFolderMenuShow:c,highlightFolderId:d,folderRefreshing:E,onSmartViewOpen:_})=>this.filterNonExpandedFoldersChildren(this.props.folderNodes,this.state.expandedFolders).map(((u,m)=>qi.createElement(Ap,{activeAccountId:this.props.activeAccountId,key:u.id,folder:u,onOpen:e,onRename:t,onMove:s,onDelete:a,onMarkRead:n,onArchive:r,onFolderDrop:o,onClear:i,onSubfolderCreate:l,highlightFolderId:d,sortOrder:this.props.sortOrder,folderRefreshing:E,index:m,onSmartViewOpen:_,onFolderMenuShow:c,depth:u.level,toggleExpansion:this.toggleExpansion,expanded:-1!==this.state.expandedFolders.indexOf(u.id),showStarredCue:this.props.showStarredCue,ref:e=>{this.myRef[`${u.name.toLowerCase()}Button`]=e},isMoveFolderFeatureEnabled:this.props.isMoveFolderFeatureEnabled}))))),Tp(this,"filterNonExpandedFoldersChildren",((e,t)=>{const s=[];let a=0;for(let n=0;n<e.length;n++){const r=e[n];if(r.level<a&&(a=r.level),r.level===a){s.push(r);-1!==t.indexOf(r.id)&&(a=r.level+1)}}return s})),Tp(this,"onSubfolderCreate",(({folderId:e,subfolderName:t,i13nModel:s})=>{this.toggleExpansion(e,!0),this.props.onSubfolderCreate({folderId:e,subfolderName:t,i13nModel:s})})),Tp(this,"updateContent",(()=>{this.popoverContent&&this.popoverContent.updatePosition()})),Tp(this,"renderStarredCue",(()=>{const{starredButton:e}=this.myRef;return this.props.showStarredCue&&e?qi.createElement(El.yk,{popoverAnchor:e,triggerOn:ml.K2.MOUNT,permittedArrowDirections:[ml.Ji.START],isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},zAltitude:Ue.LSY.POPOVER.HIGH},qi.createElement(Pl.cr,{import:"../../starred_cue",cueName:S.ANe.STARRED_CUE,onShow:this.updateContent,close:e.props.folder.id===this.props.highlightFolderId,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,49111))},_moduleResolver:function(){return 49111}})):null})),Tp(this,"getTitleText",(()=>{const{formatMessage:e}=this.context.intl;return this.state.showAllSystemFolders?e(hp.click_to_show_less_title):e(hp.click_to_show_more_title)}));const t=(0,TS.R3)(e.expandedFolders),{showAllSystemFolders:a}=e;this.state={expandedFolders:t,showAllSystemFolders:!!a},this.myRef={}}componentDidMount(){this.myRef&&Object.keys(this.myRef).length>0&&this.forceUpdate()}render(){const{indentation:e,folderNodes:t,onOpen:s,onRename:a,onMove:n,onDelete:r,onMarkRead:o,onArchive:i,onFolderDrop:l,onClear:c,highlightFolderId:d,folderRefreshing:E,onFolderMenuShow:_,onSmartViewOpen:u,collapsible:m}=this.props,{formatMessage:S}=this.context.intl,p=this.context.getCss(IS(),{indentation:e,...(0,rl.OW)(this.context,!0)}),C=this.getFolderTreeNodes({onOpen:s,onRename:a,onMove:n,onDelete:r,onMarkRead:o,onArchive:i,onFolderDrop:l,onClear:c,onSubfolderCreate:this.onSubfolderCreate,highlightFolderId:d,folderRefreshing:E,onFolderMenuShow:_,onSmartViewOpen:u}),{showAllSystemFolders:A}=this.state;let T;return t.length?(T=m?A?C:C.slice(0,5):C,qi.createElement("ul",{className:p.folderTree},T,this.renderStarredCue(),m&&C.length>5?qi.createElement("li",{onClick:this.toggleShowAll,onKeyDown:this.handleKeyDown,className:p.collapseFolders,"data-test-id":A?"folder-list-collapse":"folder-list-expand",title:this.getTitleText(),"aria-label":this.getTitleText(),"data-iskeynav":!0,tabIndex:-1},A?qi.createElement("span",{className:p.toggle},qi.createElement(el.Z,{kind:tl.Kinds.CHEVRON_UP,size:tl.Sizes.XS,colorState:tl.ColorStates.INHERITED}),S(hp.less_label)):qi.createElement("span",{className:p.toggle},qi.createElement(el.Z,{kind:tl.Kinds.CHEVRON_UP,size:tl.Sizes.XS,rotate:tl.Rotate.D180,colorState:tl.ColorStates.INHERITED}),S(hp.more_label))):null)):null}}Tp(gp,"contextTypes",{intl:Ji.intlShape.isRequired,getCss:zi().func,getThemeMode:zi().func,getTheme:zi().func});const Ip=(0,Yi.connect)((e=>{const{getEnvironmentSelectors:t,isFeatureEnabled:s}=(0,Gl.selectors)(e);return{isRTL:"rtl"===t().getPageDirection(),isMoveFolderFeatureEnabled:s(S.ANe.MOVE_FOLDER)}}),void 0,void 0,{areOwnPropsEqual:g.PJ})(gp);var Rp=s(76352),Op=s.n(Rp);function Dp(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Np=(0,Ji.defineMessages)({views_label:{id:"views_label",defaultMessage:"Views"},click_to_hide_views_title:{id:"click_to_hide_views_title",defaultMessage:"Click here to Hide the Views"},click_to_show_views_title:{id:"click_to_show_views_title",defaultMessage:"Click here to Show the Views"}});class fp extends qi.Component{constructor(...e){super(...e),Dp(this,"state",{expanded:this.props.showSmartViews,isHovered:!1}),Dp(this,"expand",(()=>{this.state.expanded||this.toggleExpand()})),Dp(this,"collapse",(()=>{this.state.expanded&&this.toggleExpand()})),Dp(this,"toggleExpand",(()=>{const e=this.state.expanded;this.props.onToggleSmartViews(!e),this.setState({expanded:!this.state.expanded})})),Dp(this,"handleClick",(e=>{e.stopPropagation(),e.preventDefault(),this.toggleExpand()})),Dp(this,"handleKeyDown",(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),e.preventDefault(),this.toggleExpand();break;case"Arrowleft":e.stopPropagation(),e.preventDefault(),this.collapse();break;case"ArrowRight":e.stopPropagation(),e.preventDefault(),this.expand();break;default:return}})),Dp(this,"handleHover",(e=>{this.setState({isHoverd:e})})),Dp(this,"getTitleText",(()=>{const{formatMessage:e}=this.context.intl;return this.state.expanded?e(Np.click_to_hide_views_title):e(Np.click_to_show_views_title)})),Dp(this,"renderLabel",(e=>{const{formatMessage:t}=this.context.intl,s=t(Np.views_label),a=qi.createElement("span",null,s),{expanded:n}=this.state;return qi.createElement("div",{"data-test-id":"toggle-smartview-list",className:e.labelContainer,title:this.getTitleText(),onClick:this.handleClick,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1)},qi.createElement("span",{className:e.label},a),qi.createElement("span",{"data-test-id":"toggle-smartview-list-label",className:e.toggleSmartViews,title:this.getTitleText(),"aria-label":this.getTitleText()},n?qi.createElement(Ji.FormattedMessage,{id:"hide_views_label",defaultMessage:"Hide"}):qi.createElement(Ji.FormattedMessage,{id:"show_views_label",defaultMessage:"Show"})))})),Dp(this,"renderSmartviews",(()=>{const{smartViews:e,onSmartViewOpen:t,highlightSmartView:s}=this.props;return e.map((e=>{const{folder:a}=e;return qi.createElement("li",{key:a.id},qi.createElement(sp,{onClick:t,type:(0,jS.BO)(a),isActive:s===a.id,handleHover:this.handleHover,total:a.total,ref:`${a.name.toLowerCase()}Button`}),a.name===S.K8C.PHOTOS?this.renderPhotosCue():null,a.name===S.K8C.COUPONS?this.renderCouponsViewCue():null,a.name===S.K8C.COUPON_EMAILS?this.renderCouponsViewCue():null,a.name===S.K8C.SUBSCRIPTIONS?this.renderSubscriptionsViewCue():null,a.name===S.K8C.GROCERIES?this.renderGroceriesViewCue():null)}))})),Dp(this,"updateContent",(e=>{e&&e.updatePosition()})),Dp(this,"renderPhotosCue",(()=>this.props.showPhotosCue&&this.refs.photosButton?qi.createElement(El.yk,{popoverAnchor:this.refs.photosButton,isRTL:this.props.isRTL,triggerOn:ml.K2.MOUNT,permittedArrowDirections:[ml.Ji.START],ref:e=>{this.popoverContent=e},zAltitude:Ue.LSY.POPOVER.HIGH},qi.createElement(Pl.cr,{import:"../../photos_cue",cueName:S.ANe.PHOTOS_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.photosButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,9575))},_moduleResolver:function(){return 9575}})):null)),Dp(this,"renderWalmartCue",(()=>this.refs.groceriesButton?qi.createElement(El.yk,{bg:ml.Ic.NEON_BLUE,borderRadius:ml.cM.LOW,popoverAnchor:this.refs.groceriesButton,isRTL:this.props.isRTL,triggerOn:ml.K2.MOUNT,permittedArrowDirections:[ml.Ji.START],ref:e=>{this.popoverContent=e},zAltitude:Ue.LSY.POPOVER.HIGH},qi.createElement(Pl.cr,{import:"../../walmart_cue",cueName:S.ANe.WALMART_CUE,onShow:()=>this.updateContent(this.popoverContent),retailerId:this.props.defaultRetailerId,close:this.refs.groceriesButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,53106))},_moduleResolver:function(){return 53106}})):null)),Dp(this,"renderCouponsViewCue",(()=>{const{showCouponsViewCue:e,showDealsViewCue:t,accountId:a,isRTL:n}=this.props;return(e||t)&&this.refs.couponsButton?qi.createElement(El.yk,{popoverAnchor:this.refs.couponsButton,isRTL:n,triggerOn:ml.K2.MOUNT,permittedArrowDirections:[ml.Ji.START],ref:e=>{this.couponPopoverContent=e},zAltitude:Ue.LSY.POPOVER.HIGH,bg:ml.Ic.GRADIENT,borderRadius:ml.cM.MEDIUM},qi.createElement("div",{style:e?{display:"block",minHeight:54*Ue.mg$+"px"}:{display:"flex",alignItems:"center"}},e?qi.createElement(Pl.cr,{import:"../../coupons_view_cue",cueName:S.ANe.COUPONS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,89713))},_moduleResolver:function(){return 89713}}):qi.createElement(Pl.cr,{import:"../../deals/left_rail_cue",route:(0,wl.jK)(S.K8C.COUPONS,{accountIds:a}),cueName:S.ANe.DEALS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,88029))},_moduleResolver:function(){return 88029}}))):null})),Dp(this,"renderGroceriesViewCue",(()=>{const{showWalmartCue:e}=this.props;return e?this.renderWalmartCue():null}))}renderSubscriptionsViewCue(){const{showSubscriptionsViewCue:e,accountId:t,isRTL:a}=this.props;return e&&this.refs.subscriptionsButton?qi.createElement(El.yk,{popoverAnchor:this.refs.subscriptionsButton,isRTL:a,triggerOn:ml.K2.MOUNT,permittedArrowDirections:[ml.Ji.START],ref:e=>{this.couponPopoverContent=e},zAltitude:Ue.LSY.POPOVER.HIGH,bg:ml.Ic.GRADIENT,borderRadius:ml.cM.MEDIUM},qi.createElement("div",{style:{display:"flex",alignItems:"center"}},qi.createElement(Pl.cr,{import:"../../deals/left_rail_cue",route:(0,wl.lB)(t),cueName:S.ANe.SUBSCRIPTIONS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),close:this.refs.subscriptionsButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,88029))},_moduleResolver:function(){return 88029}}))):null}componentDidMount(){this.refs&&Object.keys(this.refs).length>0&&this.forceUpdate()}render(){const e=this.context.getCss(Op(),{indentation:wS.Vc,...(0,rl.OW)(this.context,!0)});return qi.createElement("div",null,qi.createElement("div",{"data-iskeynav":!0,"data-test-id":"keyboard-toggle-smartview-list",onKeyDown:this.handleKeyDown,className:e.smartviewContainer},this.renderLabel(e)),this.state.expanded?qi.createElement("ul",{className:e.smartviewList},this.renderSmartviews()):null)}}Dp(fp,"contextTypes",{intl:Ji.intlShape.isRequired,getCss:zi().func,getThemeMode:zi().func,getTheme:zi().func});const Mp=(0,Yi.connect)((e=>{const{getEnvironmentSelectors:t,getRetailersSelectors:s,isFeatureEnabled:a,getSelectedAccountId:n}=(0,Gl.selectors)(e),{getPageDirection:r}=t(),{getOrderedRetailers:o}=s();let i="";const l=a(S.ANe.WALMART_CUE);if(l){const e=o();i=(0,g.u9)(e,"0.id","269a179b-bbba-46ed-91ca-f7129757c9c1")}return{brandImage:"",isRTL:"rtl"===r(),retailerId:"",retailerName:"",defaultRetailerId:i,accountId:n(),showSubscriptionsViewCue:a(S.ANe.SUBSCRIPTIONS_VIEW_CUE),showWalmartCue:l}}))(fp);var Lp=s(20529),Pp=s.n(Lp);function yp(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class bp extends qi.Component{constructor(...e){super(...e),yp(this,"getSmartViews",(()=>{const e=(0,ns.vJ)(),{showCouponsView:t,showCouponEmailsView:s,showGroceriesView:a,showReceiptsView:n,travelView:r,showSubscriptionsView:o,showAttachmentsView:i,showStorefrontView:l,tutorial:c}=this.props,d={[S.K8C.PHOTOS]:!i,[S.K8C.DOCUMENTS]:!i,[S.K8C.ATTACHMENTS]:i,[S.K8C.SUBSCRIPTIONS]:o,[S.K8C.STOREFRONT]:l,[S.K8C.TUTORIAL]:c,[S.K8C.COUPONS]:t,[S.K8C.COUPON_EMAILS]:s,[S.K8C.GROCERIES]:a,[S.K8C.RECEIPTS]:n,[S.K8C.TRAVEL]:r};return Object.keys(d).forEach((t=>{if(!d[t]){const s=e.findIndex((e=>e.folder.id===t));e.splice(s,1)}})),e}))}render(){const{customFolderList:e,systemFolderListWithSmartView:t,showMailproFreeTrialUpsell:s,enableSmartviews:a}=this.props,n=this.getSmartViews(),r=gl()(Pp(),{showMailproFreeTrialUpsell:s});return qi.createElement("div",{className:"folder-list "+r.scrollOuter,"data-test-id":"folder-list"},qi.createElement(Ip,{activeAccountId:this.props.activeAccountId,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:t.map((e=>({...e,isSystem:!0}))),onOpen:this.props.onFolderOpen,onSmartViewOpen:this.props.onSmartViewOpen,onRename:this.props.onFolderRename,onMove:this.props.onFolderMove,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:wS.Vc,showStarredCue:this.props.showStarredCue,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,collapsible:!0,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.props.handleToggleSystemFolders}),a&&qi.createElement("div",null,qi.createElement("div",{className:r.listSpacer}),qi.createElement(Mp,{smartViews:n,showSmartViews:this.props.showSmartViews,onToggleSmartViews:this.props.onToggleSmartViews,onSmartViewOpen:this.props.onSmartViewOpen,highlightSmartView:this.props.highlightFolderId,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,showDealsViewCue:this.props.showDealsViewCue})),qi.createElement("div",{className:r.listSpacer}),qi.createElement(qS,{showCustomFolders:this.props.showCustomFolders,onToggleCustomFolders:this.props.onToggleCustomFolders},qi.createElement(hS.Z,{onCreate:this.props.onFolderCreate,indentation:wS.Vc,activeAccountId:this.props.activeAccountId}),e.length>0?qi.createElement(Ip,{activeAccountId:this.props.activeAccountId,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:e,onOpen:this.props.onFolderOpen,onRename:this.props.onFolderRename,onMove:this.props.onFolderMove,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:wS.gG,collapsible:!1}):null))}}yp(bp,"contextTypes",{executeAction:zi().func,config:zi().object});const Fp=bp;var Up=s(7e4),vp=s.n(Up);function wp(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Gp=(0,Ji.defineMessages)({confirm_folder_delete_all_title:{id:"confirm.folder_delete_all_title",defaultMessage:"Delete all emails"},confirm_folder_archive_all_title:{id:"confirm.folder_archive_all_title",defaultMessage:"Archive all emails"},confirm_inbox_archive_all_personalized_title:{id:"confirm.confirm_inbox_archive_all_personalized_title",defaultMessage:"{sendingName}, let's clean your Inbox"},confirm_inbox_archive_all_title:{id:"confirm.inbox_archive_all_title",defaultMessage:"Let's clean your Inbox"},archive_emails_button_label:{id:"confirm.archive_emails_button_label",defaultMessage:"Archive emails"}}),kp=["m",";"];(0,Fl.m)({group:Ul.LQ,keys:{openCompose:{key:"N",description:qi.createElement(Ji.FormattedMessage,{id:"shortcut.open_compose",defaultMessage:"Start a {newConvo}",values:{newConvo:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.open_compose_strong",defaultMessage:"New Email Conversation"}))}})},openInbox:{key:"M",description:qi.createElement(Ji.FormattedMessage,{id:"shortcut.open_inbox",defaultMessage:"Go to {inbox}",values:{inbox:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.open_box_strong",defaultMessage:"Inbox"}))}})},openSettings:{key:";",description:qi.createElement(Ji.FormattedMessage,{id:"shortcut.open_settings",defaultMessage:"Go to {settings}",values:{settings:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"}))}})}}});class Hp extends qi.Component{constructor(...e){super(...e),wp(this,"state",{scrollingUnder:!1,confirmRequested:!1,toggleAccountsList:!0}),wp(this,"handleShortcuts",(e=>{const t=String.fromCharCode(e.which).toLowerCase();switch(e.preventDefault(),e.stopPropagation(),t){case"m":this.navigateToInbox(e);break;case";":this.navigateToSettings(e)}})),wp(this,"navigateToFolder",((e,t,{i13nModel:s={},refresh:a=!1}={})=>{const{route:n,isSenderRollupEnabled:r,conversations:o,defaultFolderId:i,defaultFolderRoute:l,rootAccounts:c}=this.props,d=c.map((e=>e.defaultFolder)).concat(i),E=n.name===S.n8z.FOLDER,_=(0,Hl.LY)(n),u=(0,Hl.Fh)(_);if(E&&u===t)return void this.context.executeAction(bl.PV,{forceSync:!0,userInitiated:!0,i13nModel:{mKey:Rl.JE.NAVIGATE_TO_FOLDER,sec:Rl.nJ.LEFTRAIL_FOLDER}});const{getSortOrderForFolderRoute:m}=(0,Gl.selectors)(this.context.store.getState()),p=m(),C=-1===d.indexOf(t)?(0,wl.i5)(t,p):l,A=r&&o&&p===S.Asd.SENDER?(0,wl.kO)(t,p):C;this.context.navigateTo({route:A,i13nModel:s,refresh:a})})),wp(this,"navigateToSettings",(e=>{const{activeSettingsGroupId:t}=this.props,s={mKey:Rl.JE.NAVIGATE_TO_SETTINGS,sec:Rl.nJ.HEADER_NAV,interaction_type:(0,Ca.getInteractionFromEvent)(e)};this.context.navigateTo({route:(0,wl.Tx)({settingsGroupId:t||S.u5h.PERSONALIZE_INBOX}),i13nModel:s})})),wp(this,"handleDragScroll",(e=>{if(e.preventDefault(),e&&e.clientY){const t=this.folderList,{scrollTop:s,scrollHeight:a}=t,n=((e,t,s,a,n=!0)=>{const{top:r,bottom:o,height:i}=t,l=i/8;let c=0;return e<=r+l?(c=n?r/e*10:10,(s-=c)<0&&(s=0)):e>=o-l&&(c=n?e/o*10:10,s+i!==a&&(s+=c)),Math.floor(s)})(e.clientY,t.getBoundingClientRect(),s,a);s!==n&&(t.scrollTop=n)}})),wp(this,"handleFolderClick",((e,t,s)=>{e.preventDefault(),-1===[S.RfP.DRAFT,S.RfP.SENT,S.RfP.SPAM,S.RfP.TRASH].indexOf(t)&&t===this.props.activeFolderId&&"folder"===this.props.route.name?this.navigateToFolder(e,t,{i13nModel:s,refresh:!0}):this.navigateToFolder(e,t,{i13nModel:s,refresh:!1})})),wp(this,"handleSmartViewClick",((e,t)=>{const{activeAccount:s,defaultGroceryRetailerId:a,defaultStorefrontBrandId:n}=this.props;let r;const o=t;e.preventDefault();const i={UNREAD:Rl.JE.UNREAD_SMARTVIEW,STARRED:Rl.JE.STARRED_SMARTVIEW,PHOTOS:Rl.JE.PHOTO_SMARTVIEW,DOCUMENTS:Rl.JE.DOCUMENT_SMARTVIEW,TUTORIAL:Rl.JE.TUTORIAL_SMARTVIEW,COUPONS:Rl.JE.COUPONS_SMARTVIEW,STOREFRONT:Rl.JE.STOREFRONT_SMARTVIEW,GROCERIES:Rl.JE.QTNTVIEW_LEFTRAIL,RECEIPTS:Rl.JE.RECEIPTS_SMARTVIEW,TRAVEL:Rl.JE.TRAVEL_SMARTVIEW,SUBSCRIPTIONS:Rl.JE.SUBSCRIPTIONS_SMARTVIEW,ATTACHMENTS:Rl.JE.ATTACHMENTS_SMARTVIEW}[o];i&&(r={mKey:i,sec:Rl.nJ.LEFTRAIL_SMARTVIEW,interactionType:(0,Ca.getInteractionFromEvent)(e)},o===S.K8C.TUTORIAL&&o===S.K8C.SUBSCRIPTIONS&&o===S.K8C.GROCERIES||(r.mKeyGroup=Rl.rO.listing,r.interactionType=Rl.Rb.view),o===S.K8C.GROCERIES&&(r.actionData={reason:{featurefamily:S.lMo.IC,featurename:S.ANe.GROCERIES,viewtype:"grocerystorelist",origin:"leftrail"}}));const l={accountIds:s.id};o===S.K8C.GROCERIES&&(l.name=a),o===S.K8C.STOREFRONT&&(l.brandId=n),this.context.navigateTo({route:(0,wl.jK)(o,l),i13nModel:r})})),wp(this,"handleFolderDelete",(({folder:e,i13nModel:t,hasSubFolder:s})=>{s||e.total>0?this.context.executeAction(wm.p2,{folderId:e.id,i13nModel:t}):this.deleteFolder({folderId:e.id,folderName:e.name,i13nModel:t})})),wp(this,"deleteFolder",(({folderId:e,folderName:t,i13nModel:s})=>{s=Object.assign({mKey:Rl.JE.FOLDER_CONTEXTMENU_DELETE,sec:Rl.nJ.LEFTRAIL_CONTEXTMENU,mKeyGroup:Rl.rO.deleteFldr},s),e===this.props.activeFolderId&&this.navigateToFolder({},this.props.defaultFolderId),this.props.onDeleteFolder({folderId:e,folderName:t,i13nModel:s})})),wp(this,"handleFolderMenuShow",(()=>{const e={mKey:Rl.JE.FOLDER_CONTEXTMENU,sec:Rl.nJ.LEFTRAIL_CONTEXTMENU};this.context.executeAction(wm.zA,{i13nModel:e})})),wp(this,"handleFolderCreate",(({folderName:e,i13nModel:t})=>{const{activeAccount:s}=this.props;t=Object.assign({mKey:Rl.JE.ADD_FOLDER,sec:Rl.nJ.LEFTRAIL_USERFOLDER,mKeyGroup:Rl.rO.createFldr},t),this.context.executeAction(wm.L6,{folderName:(0,ns.R_)(e,s),accountId:s.id,i13nModel:t})})),wp(this,"handleSubfolderCreate",(({folderId:e,subfolderName:t,i13nModel:s})=>{const{activeAccount:a,getFolderFullName:n}=this.props,r=n(e);s=Object.assign({mKey:Rl.JE.ADD_FOLDER,sec:Rl.nJ.LEFTRAIL_USERFOLDER,mKeyGroup:Rl.rO.createFldr},s),this.context.executeAction(wm.L6,{folderName:(0,ns.R_)(t,a,r),accountId:a.id,i13nModel:s})})),wp(this,"handleFolderRename",(({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a})=>{const{activeAccount:n,getFolderFullName:r}=this.props,o=r(s),i=o.substr(0,o.lastIndexOf(e)-1)||"";a=Object.assign({mKey:Rl.JE.FOLDER_CONTEXTMENU_RENAME,sec:Rl.nJ.LEFTRAIL_CONTEXTMENU,mKeyGroup:Rl.rO.renameFldr},a),this.props.onRenameFolder({folderName:(0,ns.R_)(t,n,i),folderId:s,i13nModel:a})})),wp(this,"handleFolderMove",(({folderName:e,folderId:t,destFolderId:s,placeFolderAtTopLevel:a,i13nModel:n})=>{const{activeAccount:r,getFolderFullName:o}=this.props,i=a?"":o(s);n=Object.assign({mKey:Rl.JE.FOLDER_CONTEXTMENU_MOVE,sec:Rl.nJ.LEFTRAIL_CONTEXTMENU},n),this.props.onMoveFolder({folderName:(0,ns.R_)(e,r,i),folderId:t,i13nModel:n})})),wp(this,"handleFolderMarkRead",(({folder:e,i13nModel:t})=>{const{streamId:s}=this.props;t=Object.assign({mKey:Rl.JE.FOLDER_CONTEXTMENU_ALL_READ,sec:Rl.nJ.LEFTRAIL_CONTEXTMENU,mKeyGroup:Rl.rO.markRead},t),this.context.executeAction(wm.UA,{streamId:s,listId:this.props.listId,folderId:e.id,unreadCount:e.unread,i13nModel:t})})),wp(this,"handleFolderArchive",(e=>{const{streamId:t}=this.props,{selectedFolder:s}=this.state,a={mKey:Rl.JE.FOLDER_CONTEXTMENU_ALL_ARCHIVE,sec:Rl.nJ.LEFTRAIL_CONTEXTMENU,interactionType:(0,Ca.getInteractionFromEvent)(e),mKeyGroup:Rl.rO.archiveMsg,actionData:{numMsg:s.total}};this.context.executeAction(wm.tk,{streamId:t,folderId:s.id,total:s.total,i13nModel:a}),this.hideConfirm()})),wp(this,"handleFolderDrop",((e,t)=>{const{streamId:s}=this.props,{doesStreamExist:a,getSelectedStreamItems:n}=(0,Gl.selectors)(this.context.store.getState()),r=(a(s)?n(s):[]).map((({id:e})=>e));r&&r.length>0&&this.context.executeAction(e,{streamId:s,...t,messageGroupIds:r,...1===r.length?{streamItem:{id:r[0],listId:t.listId}}:{}})})),wp(this,"handleExpandFolderToggle",((e,t)=>{const{expandedFolders:s}=this.props,{getFoldersSelectors:a}=(0,Gl.selectors)(this.context.store.getState()),{getFolderLevelByFolderId:n}=a();if(!(0===n(e)))return;const r=s.indexOf(e),o=-1!==r;let i;if(t&&!o)i=(0,TS.R3)(s,e);else{if(t||!o)return;i=(0,TS.Od)(s,r,1)}this.props.changeSettings({name:S.Zrf.EXPANDED_FOLDERS,value:i})})),wp(this,"handleToggleSmartViews",(e=>{this.props.changeSettings({name:S.Zrf.SHOW_SMART_VIEWS,value:e})})),wp(this,"handleToggleCustomFolders",(e=>{this.props.changeSettings({name:S.Zrf.SHOW_CUSTOM_FOLDERS,value:e})})),wp(this,"handleToggleAccountsLinkClick",(e=>{e.preventDefault();const t={mKey:this.state.toggleAccountsList?Rl.JE.COLLAPSE_ACCOUNT_SWITCHER:Rl.JE.EXPAND_ACCOUNT_SWITCHER,sec:Rl.nJ.LEFTRAIL_ACCOUNTS,interactionType:(0,Ca.getInteractionFromEvent)(e)};this.context.executeAction(wm.WD,{i13nModel:t}),this.setState({toggleAccountsList:!this.state.toggleAccountsList})})),wp(this,"showConfirmDialog",((e,t)=>{this.setState({confirmRequested:!0,confirmType:e,selectedFolder:t})})),wp(this,"hideConfirm",(()=>{this.setState({confirmRequested:!1,confirmType:null,selectedFolder:null})})),wp(this,"handleFolderClear",(e=>{const{streamId:t}=this.props,{selectedFolder:s}=this.state,a={mKey:-1!==[S.Sck.BULK,S.Sck.TRASH].indexOf(s.type)?Rl.JE.FOLDER_CONTEXTMENU_EMPTY:Rl.JE.FOLDER_CONTEXTMENU_ALL_DELETE,sec:Rl.nJ.LEFTRAIL_CONTEXTMENU,interactionType:(0,Ca.getInteractionFromEvent)(e),mKeyGroup:Rl.rO.deleteMsg,actionData:{numMsg:s.total}};this.context.executeAction(wm.HE,{streamId:t,folderId:s.id,total:s.total,i13nModel:a}),this.hideConfirm()})),wp(this,"navigateToInbox",(e=>{this.handleFolderClick(e,this.props.defaultFolderId,{mKey:Rl.JE.INBOX_FOLDER,sec:Rl.nJ.LEFTRAIL_SYSFOLDER,interactionType:(0,Ca.getInteractionFromEvent)(e)}),this.folderList&&(this.folderList.scrollTop=0)})),wp(this,"handleScroll",(()=>{const e=this.folderList.scrollTop;this.state.scrollingUnder&&e<1?this.setState({scrollingUnder:!1}):!this.state.scrollingUnder&&e>0&&this.setState({scrollingUnder:!0})})),wp(this,"handleToggleSystemFolders",(e=>{const t={mKey:!0===e?Rl.JE.SETTINGS_EXPAND_SYSTEM_FOLDERS:Rl.JE.SETTINGS_COLLAPSE_SYSTEM_FOLDERS,sec:Rl.nJ.LEFTRAIL_SYSFOLDER,interactionType:Rl.Rb.click};this.props.changeSettings({name:S.Zrf.SHOW_ALL_SYSTEM_FOLDERS,value:e,i13nModel:t})})),wp(this,"renderConfirmDialog",(()=>{const{formatMessage:e}=this.context.intl,{selectedFolder:t,confirmType:s}=this.state,{conversations:a}=this.props,n=qi.createElement("strong",null,qi.createElement(oS.Z,{folderDisplayType:t.type,name:`"${t.name}"`})),r=this.props.isPermDeleteFolderType(t.id);switch(s){case S.wi4.CLEAR_FOLDER:return qi.createElement(rS.Z,{title:e(Gp.confirm_folder_delete_all_title),onConfirm:this.handleFolderClear,onAbort:this.hideConfirm},r?qi.createElement(Ji.FormattedMessage,{id:"confirm.folder_delete_all_message",defaultMessage:"Are you sure you want to delete {emailsNum, plural, one {the} other {all}}\n                                      {conversations, select,\n                                        true {{emailsNum, plural,\n                                            one {conversation}\n                                            other {# conversations}\n                                        }}\n                                        false {{emailsNum, plural,\n                                            one {message}\n                                            other {# messages}\n                                        }}\n                                      } from {folderName}?",values:{emailsNum:t.total,folderName:n,conversations:a}}):qi.createElement(Ji.FormattedMessage,{id:"confirm.folder_delete_move_all_message",defaultMessage:"Are you sure you want to delete {emailsNum, plural, one {the} other {all}}\n                                      {conversations, select,\n                                        true {{emailsNum, plural,\n                                            one {conversation}\n                                            other {# conversations}\n                                        }}\n                                        false {{emailsNum, plural,\n                                            one {message}\n                                            other {# messages}\n                                        }}\n                                    }, moving {emailsNum, plural, one {it} other {them}} from {folderName} to the Trash?",values:{emailsNum:t.total,folderName:n,conversations:a}}));case S.wi4.ARCHIVE_FOLDER:{const s=t.type===S.Sck.INBOX,{confirm_inbox_archive_all_title:r,confirm_inbox_archive_all_personalized_title:o,confirm_folder_archive_all_title:i,archive_emails_button_label:l}=Gp,c=this.props.activeAccount.sendingName;let d;return d=s?c?o:r:i,qi.createElement(rS.Z,{title:e(d,{sendingName:c}),onConfirm:this.handleFolderArchive,onAbort:this.hideConfirm,hideIcon:!0,acceptLabel:l},s?qi.createElement(Ji.FormattedMessage,{id:"confirm.inbox_archive_all_message",defaultMessage:"You can start with a clean inbox by archiving {emailsNum, plural, one {the} other {all}}\n                                        {conversations, select,\n                                            true {{emailsNum, plural,\n                                                one {conversation}\n                                                other {# conversations}\n                                            }}\n                                            false {{emailsNum, plural,\n                                                one {message}\n                                                other {# messages}\n                                            }}\n                                        } (instead of deleting).\n                                        Don't worry, to find {emailsNum, plural, one {it} other {them}} later, simply go to the Archive folder.",values:{emailsNum:t.total,folderName:n,conversations:a}}):qi.createElement(Ji.FormattedMessage,{id:"confirm.folder_archive_all_message",defaultMessage:"Are you sure you want to archive {emailsNum, plural, one {the} other {all}}\n                                    {conversations, select,\n                                      true {{emailsNum, plural,\n                                          one {conversation}\n                                          other {# conversations}\n                                      }}\n                                      false {{emailsNum, plural,\n                                          one {message}\n                                          other {# messages}\n                                      }}\n                                    }, moving {emailsNum, plural, one {it} other {them}} from {folderName} to your Archive folder?",values:{emailsNum:t.total,folderName:n,conversations:a}}))}default:return null}}))}componentDidMount(){this.context.bindShortcut(kp,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(kp)}render(){const{appRootPath:e,tutorial:t,activeAccount:a,isRTL:n,isPrimaryAccountDisabled:r,showAddMailBox:o,showAddMailBoxPopover:i,imapInChallengePoints:l,themeMode:c,navigateToRoute:d,showStorefrontView:E,switchableAccounts:_}=this.props,u=this.context.getCss(vp(),{scrollingUnder:this.state.scrollingUnder,isRTL:n}),m=_.length;return qi.createElement($u.Z,{"data-test-id":"navigation",className:u.container+" navigation",circularNavigation:!1,groupTabIndex:Ue.iUz.FOLDER_LIST},qi.createElement("div",{ref:e=>{this.composeBtn=e}},qi.createElement(nS,{appRootPath:e})),qi.createElement("div",{className:u.shadow}),qi.createElement("div",{className:u.folderList,onScroll:this.handleScroll,"data-test-id":"left-rail-scrolling-container",ref:e=>this.folderList=e,onDragOver:this.handleDragScroll,onDrop:e=>e.preventDefault()},m>1||r?qi.createElement(Jm,{activeAccountId:this.props.activeAccount.id,switchableAccounts:_,toggleAccountsList:this.state.toggleAccountsList,expiredAccounts:this.props.expiredAccounts,onClick:this.handleFolderClick,showOffice365Cue:this.props.showOffice365Cue,isRTL:this.props.isRTL}):null,o?qi.createElement(AS,{showAddMailBoxPopover:i,imapInChallengePoints:l,themeMode:c,navigateToRoute:d}):null,o&&1===m?qi.createElement(_S,null):null,m>1||r?qi.createElement(_S,{onClick:this.handleToggleAccountsLinkClick}):null,qi.createElement(Fp,{tutorial:t,travelView:this.props.travelView,activeAccountId:this.props.activeAccount.id,customFolderList:this.props.customFolderList,systemFolderListWithSmartView:this.props.systemFolderListWithSmartView,sortOrder:this.props.folderListSortOrder,highlightFolderId:this.props.activeFolderId,folderRefreshing:this.props.folderRefreshing,onFolderOpen:this.handleFolderClick,onFolderDelete:this.handleFolderDelete,onFolderCreate:this.handleFolderCreate,onFolderMarkRead:this.handleFolderMarkRead,onFolderArchive:this.showConfirmDialog.bind(this,S.wi4.ARCHIVE_FOLDER),onFolderDrop:this.handleFolderDrop,onFolderClear:this.showConfirmDialog.bind(this,S.wi4.CLEAR_FOLDER),onSubfolderCreate:this.handleSubfolderCreate,onFolderMenuShow:this.handleFolderMenuShow,onFolderRename:this.handleFolderRename,onFolderMove:this.handleFolderMove,onSmartViewOpen:this.handleSmartViewClick,onToggleSmartViews:this.handleToggleSmartViews,showSmartViews:this.props.showSmartViews,onFolderExpandToggle:this.handleExpandFolderToggle,onToggleCustomFolders:this.handleToggleCustomFolders,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,showGroceriesView:this.props.showGroceriesView,expandedFolders:this.props.expandedFolders,showCustomFolders:this.props.showCustomFolders,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.handleToggleSystemFolders,showCouponsView:this.props.showCouponsView,showCouponEmailsView:this.props.showCouponEmailsView,showReceiptsView:this.props.showReceiptsView,showDealsViewCue:this.props.showDealsViewCue,showSubscriptionsView:this.props.showSubscriptionsView,showStorefrontView:E,showAttachmentsView:this.props.showAttachmentsView,showMailproFreeTrialUpsell:this.props.showMailproFreeTrialUpsell,enableSmartviews:this.props.enableSmartviews}),this.state.confirmRequested?this.renderConfirmDialog():null,qi.createElement("div",null,qi.createElement(Pl.cr,{defer:!0,import:"../../molecules/panel_stack/index",accountId:a.id,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,73794))},_moduleResolver:function(){return 73794}}))))}}wp(Hp,"contextTypes",{executeAction:zi().func,navigateTo:zi().func.isRequired,getCss:zi().func,intl:Ji.intlShape.isRequired,config:zi().object,bindShortcut:zi().func,unbindShortcut:zi().func,store:zi().object.isRequired});const Bp=(0,Yi.connect)(((e,{listId:t})=>{var s,a;const{getRoute:n,getSelectedAccountIdByRoute:r,getAccountById:o,isListStale:i,isListRefreshing:l,getRootAccountsWithDefaultFolder:c,getExpiredAccounts:d,getDefaultFolderIdForSelectedAccount:E,isPermDeleteFolderType:_,getMainStreamListIds:u,getCustomFolderList:m,getSystemFolderListWithSmartView:p,getSmartViewTypeFromListId:C,getSmartViewPosition:A,isFeatureEnabled:T,getSetting:h,getSettingsPageRoute:I,getEnvironmentSelectors:R,getAccountSelectors:O,getMailboxesSelectors:D,getRetailersSelectors:N,getFolderFullName:f,getDefaultFolderRoute:M,getMembershipRewardsSelectors:L,getMailPremiumFreeTrialSelectors:P,getStorefrontBrandsSelectors:y,getSwitchableAccounts:b}=(0,Gl.selectors)(e),F=n(),U=c(),v=D(),w=o(r(F)),G=i(t)&&l(t),k=(0,Hl.Fh)(t),H=h("appRootPath"),B=T(S.ANe.CONVERSATIONS),x=v.getSelectedMailboxId(),{getAllStorefrontBrands:V}=y(),W=b(),{getOrderedRetailers:Z}=N(),K=(null===(s=Z()[0])||void 0===s?void 0:s.id)||"269a179b-bbba-46ed-91ca-f7129757c9c1",z=(null===(a=V()[0])||void 0===a?void 0:a.brandId)||"",q=T(S.ANe.ADD_MAILBOX_OPTION),Y=T(S.ANe.ADD_MAILBOX_POPOVER);let j,Q;F.name===S.n8z.FOLDER||F.name===S.n8z.MESSAGE_FROM_FOLDER_LIST?j=k:F.name===S.n8z.TUTORIAL?j=S.K8C.TUTORIAL:F.name===S.n8z.SUBSCRIPTION_LIST?j=S.K8C.SUBSCRIPTIONS:F.name===S.n8z.STOREFRONT?j=S.K8C.STOREFRONT:(0,Hl.aY)(t)===S.qd8.FOCUSED_INBOX?j=E():(0,Hl.GG)(t)&&(j=C(t));const X=I();X&&(Q=X.params.settingsGroupId);const J=(0,l_.BA)(u(n())),{getChallengeDefns:$}=L(),ee=$(S.to8.IMAPIN),te=(0,g.u9)(ee,"rewards.value",""),se=P().getUpsellId(),{PRE_SIGNUP_LEFT_PANEL_1:ae,PRE_SIGNUP_LEFT_PANEL_2:ne,PRE_SIGNUP_LEFT_PANEL_3:re}=S.$AH,oe=[ae,ne,re].indexOf(se)>-1,ie=T(S.ANe.MAILPRO_FREE_TRIAL_UPSELLS)&&oe;return{route:F,rootAccounts:U,switchableAccounts:W,selectedMailboxId:x,conversations:B,isPrimaryAccountDisabled:O().isPrimaryAccountDisabled(),activeAccount:w,expandedFolders:h(S.Zrf.EXPANDED_FOLDERS),showCustomFolders:T(S.Zrf.SHOW_CUSTOM_FOLDERS),showSmartViews:T(S.Zrf.SHOW_SMART_VIEWS),folderRefreshing:G,activeFolderId:j,activeSettingsGroupId:Q,expiredAccounts:d(),showAllSystemFolders:T("showAllSystemFolders"),appRootPath:H,tutorial:T(S.ANe.TUTORIAL),travelView:T(S.ANe.TRAVEL_VIEW),showCouponsView:T(S.ANe.DEALS)&&!T(S.ANe.DEALS_VIEW_FOR_INTLS)&&!T(S.ANe.STOREFRONT)&&A(S.K8C.COUPONS)===S.sDs.SIDE_BAR,showCouponEmailsView:!T(S.ANe.STOREFRONT)&&T(S.ANe.DEALS_VIEW_FOR_INTLS),showGroceriesView:T(S.ANe.GROCERIES),showReceiptsView:T(S.ANe.RECEIPTS),showSubscriptionsView:T(S.ANe.SUBSCRIPTION_LIST),showStorefrontView:T(S.ANe.STOREFRONT),showAttachmentsView:T(S.ANe.SMARTVIEW_ATTACHMNENTS),showPhotosCue:T(S.ANe.PHOTOS_CUE),showStarredCue:T(S.ANe.STARRED_CUE),showCouponsViewCue:T(S.ANe.COUPONS_VIEW_CUE),showCategoryFollowingCue:T(S.ANe.CATEGORY_FOLLOWING_CUE),showPkgTrackingCue:T(S.ANe.PKG_TRACKING_CUE),defaultFolderId:E(),defaultFolderRoute:M(E()),streamId:J,isPermDeleteFolderType:_,customFolderList:m(w.id),systemFolderListWithSmartView:p(w.id),isRTL:"rtl"===R().getPageDirection(),showDealsViewCue:T(S.ANe.DEALS_VIEW_CUE),showOffice365Cue:T(S.ANe.OFFICE365_CUE),isSenderRollupEnabled:T(S.ANe.SENDER_ROLLUP),getFolderFullName:e=>f(e),defaultGroceryRetailerId:K,defaultStorefrontBrandId:z,showAddMailBox:q,showAddMailBoxPopover:Y,imapInChallengePoints:te,themeMode:h(S.Zrf.THEME_MODE),showMailproFreeTrialUpsell:ie,enableSmartviews:T(S.ANe.SMARTVIEWS)}}),(e=>({onMoveFolder:t=>e((0,km.J1)(t)),onRenameFolder:t=>e((0,km.p0)(t)),onDeleteFolder:t=>e((0,km.Go)(t)),changeSettings:t=>e((0,Gm.Dy)(t)),navigateToRoute:t=>e((0,ol.Ch)(t))})),void 0,{areOwnPropsEqual:g.PJ,areStatePropsEqual:g.PJ})(Hp);var xp=s(61856),Vp=s(78546),Wp=s.n(Vp);const Zp=gl()(Wp());function Kp({children:e}){return qi.createElement("div",{className:Zp.compose,"data-test-id":"compose-styler"},e)}function zp(){return(zp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const qp=e=>qi.createElement(Kp,null,qi.createElement(xp.ZP,zp({initialShowSubject:!0},e,{isCompactCompose:!1})));var Yp=s(42397),jp=s(88641),Qp=s.n(jp),Xp=s(55720),Jp=s(70039),$p=s(24047),eC=s(25397),tC=s(22297),sC=s.n(tC);function aC(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const nC="viewdetails";class rC extends qi.Component{constructor(...e){super(...e),aC(this,"_i13nModel",(()=>{const{contextOfUse:e,offer:t,offerId:s,offerIndex:a,retailerName:n}=this.props;let r=S.pYz.PREV_ADDED;e===S.nr6.SIMILAR_ITEMS?r=S.pYz.SIMILAR_ITEMS:e===S.nr6.RELATED_ITEMS&&(r=S.pYz.RELATED_ITEMS),Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.CARD_INTERACT,sec:Rl.nJ.QUOTIENT,interactionType:Rl.Rb.click,actionData:{featurefamily:S.lMo.IC,interactiontype:nC,itemcategoryid:t.categories.map((e=>e.id)),offerid:s,oos:0,position:a,retailername:n,score:t.scoreValue,xpname:r}}})})),aC(this,"handleOfferActivate",(e=>{e.stopPropagation();const{clipOffer:t,offer:s,offerIndex:a,retailerId:n}=this.props;this._i13nModel(),t({contextOfUse:"previously_added_item",offer:s,offerIndex:a,retailerId:n})})),aC(this,"clickHandler",(()=>{const{fetchCategoryItems:e,getSimilarItems:t,offer:s,offerId:a,retailerId:n}=this.props,r=s.categories[s.categories.length-1]||{},o=(0,Hl.tE)((0,Hl.Ez)({listContentType:S.F6k.OFFER_CARDS,referrer:S.qd8[S.K8C.GROCERIES],listFilter:S.ukn.RECOMMENDED_OFFER_CARDS,name:n,keyword:(0,Hl.RB)(r.id)}));t({retailerId:n,itemId:a}),e(o),this.context.navigateTo({route:(0,wl.gH)(n,`id!${a}`)})}))}render(){const{activated:e,description:t,imageUrl:s,unitPriceDisplay:a,value:n}=this.props,r=gl()(sC());return qi.createElement("div",{className:r.container,"data-test-id":"item-card",onClick:this.clickHandler},qi.createElement("div",{className:r.imageContainer},qi.createElement("img",{className:r.image,src:s}),qi.createElement("div",{className:r.cart},e?qi.createElement(el.Z,{kind:tl.Kinds.CHECKMARK,size:tl.Sizes.S,colorState:tl.ColorStates.SECOND_LEVEL_GRAY}):qi.createElement($i.default,{ariaLabel:"Add item",colorState:tl.ColorStates.INHERITED,"data-test-id":"add-to-shopping-list",kind:tl.Kinds.CART,onClick:this.handleOfferActivate,paddingLess:!0,size:tl.Sizes.S,title:"Add item"}))),qi.createElement("div",{className:r.priceContainer},qi.createElement("div",{className:r.price},"$",n)," ",qi.createElement("div",{className:r.unitPrice,title:a},a)),qi.createElement("div",{className:r.description,title:t},t))}}aC(rC,"defaultProps",{contextOfUse:S.pYz.PREV_ADDED}),aC(rC,"contextTypes",{navigateTo:zi().func});const oC=(0,Yi.connect)(((e,t)=>{const{getOffersSelectors:s,getRetailersSelectors:a}=(0,Gl.selectors)(e),{offerId:n,retailerId:r}=t,{getOffer:o}=s(),i=o(n),{getDisplayNameFromRetailerId:l}=a();return{offer:i,retailerName:l(r)}}),(e=>({clipOffer:t=>e((0,$p.on)(t)),fetchCategoryItems:t=>e((0,$p.OL)(t)),getSimilarItems:t=>e((0,$p.IB)(t))})))(rC);var iC=s(38246),lC=s.n(iC);function cC(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const dC=(0,Ji.defineMessages)({add:{id:"grocery_item.add",defaultMessage:"Add to cart"},final_cost:{id:"grocery_item.final_cost",defaultMessage:"final cost by weight"},ingredients:{id:"grocery_item.ingredients",defaultMessage:"Ingredients"},product_features:{id:"grocery_item.product_features",defaultMessage:"Product Features"},special_features:{id:"grocery_item.special_features",defaultMessage:"Special Features"},quantity:{id:"grocery_item.quantity",defaultMessage:"Net Quantity of Content"},similar:{id:"grocery_item.similar",defaultMessage:"Similar items"},more_from:{id:"grocery_item.more_from",defaultMessage:"More from {categoryName}"},view_all:{id:"grocery_item.view_all",defaultMessage:"View all items"},show_more:{id:"grocery_item.show_more",defaultMessage:"Show more"},show_less:{id:"grocery_item.show_less",defaultMessage:"Show less"}}),EC=()=>{},_C="decrement",uC="increment";class mC extends qi.Component{constructor(e){super(e),cC(this,"state",{enableShowMore:!1,expanded:!1}),cC(this,"addItem",(e=>{var t;e.stopPropagation();const{clipOffer:s,item:a,retailerId:n}=this.props;a.isSponsoredAd&&(0,KE.Z)(null===(t=a.trackingBeacons)||void 0===t?void 0:t.clickURL),s({contextOfUse:S.nr6.GROCERY_ITEM_DETAIL,offer:a,retailerId:n,score:a.scoreValue})})),cC(this,"handleChangeProductsQuantity",((e,t)=>{e.stopPropagation();const{changeProductsQuantity:s,deleteProducts:a,item:n,retailerId:r,retailerName:o}=this.props,{categories:i,maxQuantity:l,quantity:c,scoreValue:d}=n,E={...n,quantity:c+(t?1:-1)},_=t?uC:_C;if(!t||c!==l)return E.quantity?s({categories:i.map((e=>e.id)),contextOfUse:S.nr6.GROCERY_ITEM_DETAIL,interactionType:_,items:[E],offerIndex:-1,retailerId:r,retailerName:o,score:d}):a({retailerId:r,items:[E]})})),cC(this,"handleImageError",(e=>(0,eC.t)(e,S.EFE))),this.carouselContainerRef=qi.createRef(),this.detailsContainerRef=qi.createRef()}componentDidMount(){var e,t;this.carouselContainer=Xi.findDOMNode(this.carouselContainerRef.current),this.detailsContainer=Xi.findDOMNode(this.detailsContainerRef.current);const s=null===(e=this.detailsContainer)||void 0===e?void 0:e.clientHeight;this.setState({...this.state,enableShowMore:s>336}),Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.CARD_VIEW,sec:Rl.nJ.QUOTIENT,interactionType:Rl.Rb.click,actionData:{catetgoryid:null===(t=this.props.item.categories)||void 0===t?void 0:t.map((e=>e.id)),featurefamily:S.lMo.IC,offerId:this.props.item.offerId,retailername:this.props.retailerName,xpname:S.pYz.GROCERY_ITEM_DETAIL}}})}_renderAddButton(e){return qi.createElement("div",{className:e.add,"data-test-id":"add",onClick:this.addItem},this.context.intl.formatMessage(dC.add))}_renderChangeQuantity(e){const{maxQuantity:t,quantity:s}=this.props.item;return qi.createElement("div",{className:e.numberContainer},qi.createElement("div",{className:e.change,"data-test-id":"minus",onClick:e=>this.handleChangeProductsQuantity(e,!1)},qi.createElement(el.Z,{colorState:tl.ColorStates.SELECTED,kind:tl.Kinds.MINUS,size:tl.Sizes.S})),qi.createElement("label",{htmlFor:"quantity"},s),qi.createElement("div",{className:e.change,"data-test-id":"plus",onClick:s===t?EC:e=>this.handleChangeProductsQuantity(e,!0)},qi.createElement(el.Z,{colorState:s===t?tl.ColorStates.SECOND_LEVEL_GRAY:tl.ColorStates.SELECTED,kind:tl.Kinds.ADD,size:tl.Sizes.S})))}renderCarouselItems(e,t,s){var a;const n=null===(a=this.carouselContainer)||void 0===a?void 0:a.offsetWidth,r=t.map((({activated:e,description:t,imageUrl:s,itemId:a,offerId:n,unitPriceDisplay:r,value:o},i)=>qi.createElement(oC,{activated:e,description:t,imageUrl:s,key:a||n,offerId:a||n,offerIndex:i,retailerId:this.props.retailerId,unitPriceDisplay:r,value:o})));return qi.createElement(qi.Fragment,null,qi.createElement("div",{className:e.separator},qi.createElement(Ji.FormattedMessage,s)),qi.createElement("div",{className:e.carouselContainer},qi.createElement(Jp.Z,{itemWidth:3*(S._2h+12),defaultTransitionAmount:3*(S._2h+12),contextOfUse:S.C5$.PRODUCT,navArrows:r.length*(S._2h+12)>n},r)))}render(){const{formatMessage:e}=this.context.intl,{enableShowMore:t,expanded:s}=this.state,a=gl()(lC(),{collapsed:t&&!s}),{categoryName:n,categoryItems:r,item:o,isAddedToCart:i,similarItems:l,retailerName:c}=this.props;return 0===Object.keys(o).length?null:qi.createElement("div",{className:a.container,ref:this.carouselContainerRef},qi.createElement("div",{className:a.header,ref:this.detailsContainerRef},qi.createElement("img",{className:a.image,src:o.highResImgUrl,onError:this.handleImageError}),qi.createElement("div",{className:a.right},qi.createElement("div",{className:a.retailer},c),qi.createElement("div",{className:a.description},o.description),qi.createElement("div",{className:a.value},qi.createElement("span",null,"$",o.value,"Each"===o.eligibleUnitText&&qi.createElement("span",null," ea")),o.unitPriceDisplay&&qi.createElement("span",{className:a.unit},o.unitPriceDisplay)),o.unitPriceDisplay&&qi.createElement("div",{className:a.cost},e(dC.final_cost)),i?this._renderChangeQuantity(a):this._renderAddButton(a),qi.createElement("div",{className:a.details},o.ingredients&&qi.createElement(qi.Fragment,null,qi.createElement("div",{className:a.subtitle},e(dC.ingredients)),qi.createElement("div",{className:a.subtext},o.ingredients)),o.shortDescription&&qi.createElement(qi.Fragment,null,qi.createElement("div",{className:a.subtitle},e(dC.product_features)),qi.createElement("div",{className:a.subtext},o.shortDescription)),o.specialFeatures&&qi.createElement(qi.Fragment,null,qi.createElement("div",{className:a.subtitle},e(dC.special_features)),qi.createElement("div",{className:a.subtext},o.specialFeatures)),o.servingSize&&qi.createElement(qi.Fragment,null,qi.createElement("div",{className:a.subtitle},e(dC.quantity)),qi.createElement("div",{className:a.subtext},o.servingSize)),t&&qi.createElement("div",{className:a.more,onClick:()=>this.setState({expanded:!s})},qi.createElement(el.Z,{size:tl.Sizes.XXS,kind:tl.Kinds.ARROW_RIGHT_DOC,rotate:s?tl.Rotate.D270:tl.Rotate.D90,colorState:tl.ColorStates.SELECTED}),e(s?dC.show_less:dC.show_more))))),null!=l&&l.length?this.renderCarouselItems(a,l,dC.similar):null,null!=r&&r.length?this.renderCarouselItems(a,r,{...dC.more_from,values:{categoryName:n}}):null)}}cC(mC,"contextTypes",{intl:Ji.intlShape.isRequired});const SC=(0,Yi.connect)(((e,t)=>{var s;const{getActivatedOffersSelectors:a,getOffersSelectors:n,getRetailersSelectors:r}=(0,Gl.selectors)(e),{doesOfferExistInActivatedStore:o,getActivatedOffer:i}=a(),{doesOfferExist:l,getOffer:c,getOfferStreamItems:d}=n(),{getDisplayNameFromRetailerId:E,getRelatedItems:_}=r();let u={},m=!1;o(t.itemId)?(u=i(t.itemId),m=!0):l(t.itemId)&&(u=c(t.itemId));const p=E(t.retailerId),C=_(t.retailerId,t.itemId),A=(null===(s=u)||void 0===s?void 0:s.categories)||[],T=A[A.length-1]||{},h=T.id||"",g=T.name||"same category";return{categoryItems:d((0,Hl.tE)((0,Hl.Ez)({listContentType:S.F6k.OFFER_CARDS,referrer:S.qd8[S.K8C.GROCERIES],listFilter:S.ukn.RECOMMENDED_OFFER_CARDS,name:t.retailerId,keyword:(0,Hl.RB)(h)}))),categoryName:g,item:u,isAddedToCart:m,retailerName:p,similarItems:C}}),(e=>({changeProductsQuantity:t=>e((0,$p.gs)(t)),clipOffer:t=>e((0,$p.on)(t)),deleteProducts:t=>e((0,$p.Xj)(t))})))(mC);var pC=s(8205),CC=s(12804),AC=s.n(CC);function TC(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const hC=(0,YS.A)(S._Du),gC=(0,Ji.defineMessages)({grocery_helper_modal_header:{id:"grocery_helper_modal.header",defaultMessage:"Grocery coupons made easy!"},grocery_product_helper_modal_header:{id:"grocery_helper_modal.grocery_product_helper_modal_header",defaultMessage:"Easy online grocery shopping"},grocery_helper_modal_sub_header:{id:"grocery_helper_modal.grocery_helper_modal_sub_header",defaultMessage:"Yahoo Mail and Walmart are now partnering to offer you an easier way to get groceries."},grocery_helper_modal_first:{id:"grocery_helper_modal.first",defaultMessage:"Add coupons you like"},grocery_helper_modal_second:{id:"grocery_helper_modal.second",defaultMessage:"Enter {proxyTypeValue} you use at the store"},grocery_helper_modal_third:{id:"grocery_helper_modal.third",defaultMessage:"Use {proxyTypeValue} at the {retailerName} checkout counter, to have discounts applied automatically"},grocery_helper_modal_primary_button:{id:"grocery_helper_modal.primary_button",defaultMessage:"Got it"},grocery_helper_modal_close:{id:"grocery_helper_modal.close",defaultMessage:"Close"},product_step_1:{id:"grocery_helper_modal.product_step_1",defaultMessage:"Build your basket"},product_step_2:{id:"grocery_helper_modal.product_step_2",defaultMessage:"Checkout with Walmart"},product_sub_step_1:{id:"grocery_helper_modal.product_sub_step_1",defaultMessage:"Add items to your Walmart shopping cart"},product_sub_step_2:{id:"grocery_helper_modal.product_sub_step_2",defaultMessage:"Click the Checkout button to send your full shopping cart to Walmart <br>\n            *Price and availability may vary across stores"}});class IC extends qi.Component{constructor(...e){super(...e),TC(this,"getRapidEvent",((e,t)=>({i13nModel:{mKey:e,interactionType:(0,Ca.getInteractionFromEvent)(t)}}))),TC(this,"handleOverlayClick",(e=>{e.preventDefault(),e.stopPropagation()})),TC(this,"onClose",(e=>{this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))})),TC(this,"_renderStep",((e,t,s)=>{const{formatMessage:a}=this.context.intl,{proxyType:n,retailerName:r}=this.props,o=n===S.KqC.Phone?"phone number":"loyalty card number",i=gl()(AC());return qi.createElement("div",{className:i.step},qi.createElement("div",{className:i.stepNumber},s),qi.createElement("div",{className:i.icon},qi.createElement(el.Z,{kind:e,size:tl.Sizes.S,colorState:tl.ColorStates.IMPROVED_GRAY_DARK})),qi.createElement("div",{className:i.detailedStep},a(t,{proxyTypeValue:o,retailerName:r})))})),TC(this,"_renderProductStep",((e,t,s)=>{const a=gl()(AC()),{formatMessage:n}=this.context.intl;return qi.createElement("div",{className:a.step},qi.createElement("div",{className:a.productStepNumber},"0"+s),qi.createElement("div",{className:a.detailedProductStep},n(e),qi.createElement("div",{className:a.subDetailedStep},qi.createElement(Ji.FormattedHTMLMessage,t))))}))}render(){const{isGroceryWithProduct:e,groceriesWithProductCue:t,brandImage:s}=this.props,{formatMessage:a}=this.context.intl,n={alignSelf:"center",height:9*Ue.mg$+"px",width:78.5*Ue.mg$+"px",fontWeight:Ue.Plh},r=gl()(AC());return qi.createElement(N_.Z,{onClose:this.handleOverlayClick},qi.createElement("div",{className:r.dialog,"data-test-id":"single-store-helper-modal"},qi.createElement("div",{className:r.close},qi.createElement($i.default,{"aria-label":a(gC.grocery_helper_modal_close),"data-test-id":"close-button",kind:tl.Kinds.CLOSE,onClick:t?this.onClose:this.props.onClose,size:tl.Sizes.XS,title:a(gC.grocery_helper_modal_close)})),qi.createElement("img",{className:e?r.walmartLogo:r.logo,"data-test-id":"image",src:e?s:hC}),qi.createElement("span",{className:r.header},a(e?gC.grocery_product_helper_modal_header:gC.grocery_helper_modal_header)),e?qi.createElement("div",{className:r.subHeader},a(gC.grocery_helper_modal_sub_header)):null,e?qi.createElement("div",{className:r.productBody},this._renderProductStep(gC.product_step_1,gC.product_sub_step_1,1),this._renderProductStep(gC.product_step_2,gC.product_sub_step_2,2)):qi.createElement("div",{className:r.body},this._renderStep(tl.Kinds.ADDATTACHMENT,gC.grocery_helper_modal_first,1),this._renderStep(tl.Kinds.CONTACTCARD_OUTLINE,gC.grocery_helper_modal_second,2),this._renderStep(tl.Kinds.CART,gC.grocery_helper_modal_third,3)),qi.createElement(Sl.Z,{"aria-label":a(gC.grocery_helper_modal_primary_button),"data-test-id":"primary-button",kind:pl.F.PRIMARY,marginLess:!0,onClick:t?this.onClose:this.props.onClose,style:n,title:a(gC.grocery_helper_modal_primary_button)},a(gC.grocery_helper_modal_primary_button))))}}TC(IC,"contextTypes",{intl:Ji.intlShape.isRequired});class RC extends qi.Component{render(){const{isGroceryWithProduct:e,groceriesWithProductCue:t,retailerName:s,proxyType:a,cueName:n,onClose:r,brandImage:o}=this.props;return qi.createElement(IC,{onClose:r,retailerName:s,proxyType:a,groceriesWithProductCue:t,cueName:n,isGroceryWithProduct:e,brandImage:o})}}const OC=(0,HE._)(RC);var DC=s(47228),NC=s.n(DC);function fC(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const MC=(0,g.VO)(S.dS5),LC=(0,Ji.defineMessages)({helper_text:{id:"single_store.helper_text",defaultMessage:"How it works"},header:{id:"single_store.header",defaultMessage:"Groceries"},sort_menu:{id:"single_store.sort_grocery_product",defaultMessage:"Sort"},item_detail:{id:"single_store.item_detail",defaultMessage:"Item detail"},search:{id:"single_store.search",defaultMessage:"Search results for {keyword}"},[S.dS5.LOW_TO_HIGH]:{id:"single_store.low_to_high",defaultMessage:"Price : Low to high"},[S.dS5.HIGH_TO_LOW]:{id:"single_store.high_to_low",defaultMessage:"Price : High to low"},[S.dS5.RECOMMENDED]:{id:"single_store.recommended",defaultMessage:"Recommended"}});class PC extends qi.Component{constructor(...e){super(...e),fC(this,"state",{showHelperModal:!1,showCue:!0,sortOrderState:S.dS5.RECOMMENDED}),fC(this,"hideHelperModal",(()=>{this.setState({showHelperModal:!1})})),fC(this,"hideCue",(()=>{this.setState({showCue:!1})})),fC(this,"renderHelperModalCue",((e,t)=>{const{brandImage:s,groceriesWithProductCue:a,isGroceryWithProduct:n}=this.props;return qi.createElement(OC,{onClose:this.hideCue,retailerName:e,groceriesWithProductCue:a,proxyType:t,cueName:S.ANe.GROCERIES_PRODUCT_CUE,isGroceryWithProduct:n,brandImage:s})})),fC(this,"renderSortMenu",(e=>{const{formatMessage:t}=this.context.intl,s=t(LC.sort_menu),a=MC.map((s=>qi.createElement(zm.Z,{key:s,name:"sort-by-"+s},qi.createElement(Sl.Z,{"data-test-id":"sort-by-"+s,kind:pl.F.MENUITEM,onClick:e=>this.props.handleSort(e,s,this.setState({sortOrderState:s})),style:{position:"relative"}},this.state.sortOrderState===s&&qi.createElement("span",{className:e.sortByMenuItemIcon},qi.createElement(el.Z,{kind:tl.Kinds.CHECKMARK,size:tl.Sizes.XXS,colorState:tl.ColorStates.NORMAL})),qi.createElement("span",{className:e.sortByMenuItemLabel},t(LC[s]))))));return qi.createElement("div",{className:e.viewMenu},qi.createElement("div",{className:e.sortMenuContainer},qi.createElement(_l.Z,null,qi.createElement(ul.Z,null,qi.createElement(Sl.Z,{"data-test-id":"toolbar-sort-menu-button",kind:pl.F.CHROMELESS,tabIndex:-1,"data-iskeynav":!0,ref:e=>{this.sortMenuRef=e}},qi.createElement("span",{className:e.sortByMenu},s,qi.createElement(el.Z,{kind:tl.Kinds.CHEVRON_UP,size:tl.Sizes.XS,rotate:tl.Rotate.D180,colorState:tl.ColorStates.INHERITED})))),qi.createElement(El.ZP,{triggerOn:ml.K2.CLICK,permittedArrowDirections:[ml.Ji.UP],offset:4*Ue.mg$,align:ml.xM.END,zAltitude:Ue.LSY.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover"},qi.createElement("div",{className:e.popoverListWrapper},qi.createElement(Cl.Z,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},a))))))})),fC(this,"renderHowItWorks",(e=>{const{formatMessage:t}=this.context.intl,{isCategorySearch:s,isGroceryWithProduct:a,keyword:n}=this.props;return qi.createElement("div",{className:a&&""!==n?e.helpContainerForSearch:e.helpContainer,"data-test-id":"helper",onClick:()=>this.setState({showHelperModal:!0})},qi.createElement(el.Z,{colorState:tl.ColorStates.IMPROVED_GRAY_DARK,kind:tl.Kinds.INFO,size:tl.Sizes.XS}),a&&!s&&qi.createElement("div",{className:n?e.keywordText:e.text},t(LC.helper_text)),!a&&qi.createElement("div",{className:e.text},t(LC.helper_text)))}))}render(){const{brandImage:e,categoryName:t,isCategorySearch:s,isGroceryWithProduct:a,itemDetailId:n,keyword:r,navigateBack:o,retailerIndex:i,retailers:l}=this.props,{formatMessage:c}=this.context.intl,d=this.context.getThemeMode(),E=gl()(NC(),{themeMode:d}),{displayName:_="Retailer",proxyType:u=""}=l[i]||{};let m=c(LC.header);return n?m=c(LC.item_detail):s?m=t:r&&(m=c(LC.search,{keyword:r})),qi.createElement("div",{className:E.container,"data-test-id":"groceries_head"},qi.createElement("div",{className:E.heading},r||n?qi.createElement("div",{className:E.backButton,"data-test-id":"offers-back-button",onClick:o},qi.createElement(el.Z,{colorState:tl.ColorStates.LESS_IMPORTANT,kind:tl.Kinds.ARROW_UP,rotate:tl.Rotate.D270,size:tl.Sizes.S})):null,qi.createElement("div",{"aria-label":"header","data-test-id":"offers-header"},m),qi.createElement("div",{className:a&&s?E.infoTextCategories:E.infoTextMain},this.renderHowItWorks(E)),a&&(s||r)&&qi.createElement("div",{className:E.sortText,"data-test-id":"sort-menu"},this.renderSortMenu(E)),this.props.groceriesWithProductCue&&a&&this.state.showCue?this.renderHelperModalCue(_,u):null,this.state.showHelperModal?qi.createElement(IC,{onClose:this.hideHelperModal,retailerName:_,proxyType:u,isGroceryWithProduct:a,brandImage:e}):null))}}fC(PC,"contextTypes",{getThemeMode:zi().func,intl:Ji.intlShape.isRequired,navigateTo:zi().func});var yC=s(68878),bC=s(85875),FC=s.n(bC);function UC(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const vC=(0,Ji.defineMessages)({enter_zip_code:{id:"select_locations_menu.enter_zip_code",defaultMessage:"Enter your zip code"},error:{id:"select_locations_menu.error",defaultMessage:"Unable to find any available {retailerName} store in zip code “{zipCode}”."},nearby:{id:"select_locations_menu.nearby",defaultMessage:"Nearby pickup stores"},select_store:{id:"select_locations_menu.select_store",defaultMessage:"Select {retailerName} store"},select_store_body:{id:"select_locations_menu.select_store_body",defaultMessage:"Price and availability depend on location. Enter your zip code and select your nearby pickup-eligible store to add items to cart."}});class wC extends qi.Component{constructor(...e){super(...e),UC(this,"state",{zipCode:this.props.currentZipCode||"",isValid:!1}),UC(this,"handleInputChange",(e=>{const{value:t}=e.target;this.setState({zipCode:t,isValid:5===t.length})})),UC(this,"handleKeyDown",(e=>{const{allLocations:t,getRetailerLocations:s,retailerId:a,updateCurrentZipCode:n}=this.props,{zipCode:r,isValid:o}=this.state;"Enter"===(0,yC.getEventKey)(e)&&o&&(null!=t&&t[r]?this.setState({zipCode:r}):s({zipCode:r,retailerId:a}),n(r))})),UC(this,"handleKeyPress",(e=>{const t=e.keyCode||e.which,s=String.fromCharCode(t);/\D+/.test(s)&&e.preventDefault()})),UC(this,"getRetailerLocations",(()=>{const{allLocations:e,getRetailerLocations:t,retailerId:s,updateCurrentZipCode:a}=this.props,{zipCode:n}=this.state;null!=e&&e[n]?this.setState({zipCode:n}):t({zipCode:n,retailerId:s}),a(n)})),UC(this,"_renderMenuBody",((e,t,s)=>{const{retailerName:a,selectStoreLocation:n}=this.props,{zipCode:r}=this.state,{formatMessage:o}=this.context.intl,i=t.map(((t,s)=>{const{name:a,distance:r}=t||{},{addressLocality:o,postalCode:i,streetAddress:l}=t.address||{},c=o&&i?`${o}, ${o} ${i.slice(0,5)}`:"";return qi.createElement("div",{key:a,className:e.addressContainer,"data-test-id":"retailer-store-menu-item",onClick:()=>n(t)},qi.createElement("div",{className:e.indexNumber},s+1),qi.createElement("div",{className:e.address},!!a&&qi.createElement("div",{className:e.addressTitle},a),!!l&&qi.createElement("div",{className:e.addressBody},l),!!c&&qi.createElement("div",{className:e.addressLocality},c)),qi.createElement("div",{className:e.distance},Math.round(100*r)/100+" mi"))}));return t.length?qi.createElement("div",{className:e.menuContainer},qi.createElement("div",{className:e.nearby},o(vC.nearby)),i):s?qi.createElement("div",{className:e.errorHint},qi.createElement("span",null,o(vC.error,{retailerName:a,zipCode:r}))):qi.createElement("div",{className:e.emptyContainer},qi.createElement("div",{className:e.emptyTitle},o(vC.select_store,{retailerName:a})),qi.createElement("div",{className:e.emptybody},o(vC.select_store_body)))}))}render(){var e;const{allLocations:t}=this.props,{zipCode:s,isValid:a}=this.state,{formatMessage:n}=this.context.intl,r=(null==t?void 0:t[s])||[],o=0===(null==t||null===(e=t[s])||void 0===e?void 0:e.length),i=this.context.getCss(FC(),{isValid:a,noLocations:o});return qi.createElement("div",{className:i.container},qi.createElement("div",{className:i.inputContainer},qi.createElement("input",{"data-test-id":"zipcode-input",className:i.zipCodeInput,maxLength:"5",onChange:e=>this.handleInputChange(e),onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,placeholder:n(vC.enter_zip_code),type:"text",value:s}),qi.createElement("span",{className:i.enter},qi.createElement($i.default,{"data-test-id":"zipcode-submit-icon",title:"submit",colorState:tl.ColorStates.WHITE,disabled:!a||o,kind:tl.Kinds.ENTER,onClick:this.getRetailerLocations,size:tl.Sizes.XS}))),this._renderMenuBody(i,r,o))}}UC(wC,"defaultProps",{selectStoreLocation:()=>{},updateCurrentZipCode:()=>{}}),UC(wC,"contextTypes",{getCss:zi().func,intl:Ji.intlShape.isRequired});const GC=(0,Yi.connect)(((e,{retailerId:t=""})=>{const{getRetailersSelectors:s}=(0,Gl.selectors)(e),{getAllStoresLocations:a}=s();return{allLocations:a(t)}}),(e=>({getRetailerLocations:t=>e((0,$p.VZ)(t))})))(wC);var kC=s(95366),HC=s.n(kC);function BC(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const xC=(0,Ji.defineMessages)({close:{id:"select_stores_menu.helper_text",defaultMessage:"Close"}});class VC extends qi.Component{constructor(...e){super(...e),BC(this,"state",{selectedItem:"",groceriesHeadDimensions:{width:0}}),BC(this,"onClick",((e,t,s)=>{const{onClick:a}=this.props;this.setState({selectedItem:t}),a&&a(e,t,s)}))}componentDidMount(){const{groceriesHead:e}=this.props;if(!e)return;const t=Xi.findDOMNode(e).getBoundingClientRect();this.setState({groceriesHeadDimensions:t})}render(){const e=this.context.getCss(HC()),{items:t,defaultItem:s,close:a}=this.props,{formatMessage:n}=this.context.intl,{groceriesHeadDimensions:r,selectedItem:o}=this.state,i={width:r.width},l=o||s.displayName,c={backgroundColor:Ue.gtT},d=t.map(((t,s)=>qi.createElement("a",{"data-test-id":"select-retailer-card-"+t.displayName,key:t.displayName,onClick:e=>this.onClick(e,t.displayName,s),className:e.retailerContainer,style:t.displayName===l?c:null},qi.createElement("div",{"data-test-id":"select-retailer-icon",className:e.icon},qi.createElement("img",{className:e.image,src:t.brandImage})),qi.createElement("div",{"data-test-id":"select-retailer-header",className:e.header},t.displayName))));return qi.createElement("div",{className:e.container,style:i},qi.createElement("div",{className:e.menuContainer},d),qi.createElement("div",{"data-test-id":"select-retailer-close",className:e.close,onClick:()=>a({})},qi.createElement(el.Z,{kind:tl.Kinds.CHEVRON_UP,colorState:tl.ColorStates.SELECTED,size:tl.Sizes.S}),n(xC.close)))}}BC(VC,"contextTypes",{getCss:zi().func,intl:Ji.intlShape.isRequired}),BC(VC,"defaultProps",{items:[]});var WC=s(69635),ZC=s(59427),KC=s(91749),zC=s.n(KC),qC=s(54815),YC=s.n(qC);function jC(){return(jC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function QC(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const XC=(0,Ji.defineMessages)({close:{id:"quotient_modal.close",defaultMessage:"Close"},phone_number_placeholder:{id:"quotient_modal.phone_number_placeholder",defaultMessage:"Enter phone number"},loyalty_card_placeholder:{id:"quotient_modal.loyalty_card_placeholder",defaultMessage:"Enter loyalty card number"},link:{id:"quotient_modal.link",defaultMessage:"Continue"},policyText:{id:"quotient_modal.policyText",defaultMessage:'By clicking <b>Continue</b>, you are agreeing to our partner\'s <a target=\'_blank\' style="color:#878C91; text-decoration:underline;" href="https://www.quotient.com/terms-of-use/">Terms</a> and <a target=\'_blank\' style="color:#878C91; text-decoration:underline;" href="https://www.quotient.com/privacy-policy/">Privacy policy</a>'},subtitle:{id:"quotient_modal.subtitle",defaultMessage:"Find coupons to save at {retailerName} stores"},error:{id:"quotient_modal.error",defaultMessage:"Unable to find a {retailerName} account for this number"},link_card_step_1_phone:{id:"quotient_modal.link_card_step_1_phone",defaultMessage:"Enter phone number used at the store"},link_card_step_1_loyalty:{id:"quotient_modal.link_card_step_1_loyalty",defaultMessage:"Enter your loyalty card number"},link_card_step_2:{id:"quotient_modal.link_card_step_2",defaultMessage:"Add coupons you like"},link_card_step_3:{id:"quotient_modal.link_card_step_3",defaultMessage:"Save at checkout"},other_stores:{id:"quotient_modal.other_stores",defaultMessage:"View other stores"}});class JC extends qi.Component{constructor(...e){super(...e),QC(this,"state",{loyaltyId:"",isValid:!0,isCountShown:!1,count:0}),QC(this,"handleSuccessClick",(()=>{const{closeModal:e,onSuccess:t}=this.props;t(),e()})),QC(this,"handleCloseClick",(()=>{const{closeModal:e,onClose:t}=this.props;t(),e()})),QC(this,"handleOverlayClick",(e=>{e.preventDefault(),e.stopPropagation()})),QC(this,"handleInputChange",(e=>{const{value:t}=e.target,{proxyType:s,loyaltyCardLength:a}=this.props;s===S.KqC.Phone?this.setState({loyaltyId:t,isCountShown:!0,count:this.unmask(t).length,isValid:10===this.unmask(t).length}):this.setState({loyaltyId:t,isValid:!(a&&t.length<a),isCountShown:!0})})),QC(this,"handleKeyDown",(e=>{const{loyaltyId:t,isValid:s}=this.state;"Enter"===e.key&&t&&s&&this.linkCard()})),QC(this,"handleKeyPress",(e=>{const t=e.keyCode||e.which,s=String.fromCharCode(t);/\D+/.test(s)&&e.preventDefault()})),QC(this,"unmask",(e=>e.replace(/\D+/g,""))),QC(this,"linkCard",(()=>{const{linkRetailerRequested:e,parentName:t,proxyType:s,retailerId:a}=this.props;let{loyaltyId:n}=this.state;s===S.KqC.Phone&&(n=this.unmask(n)),e({retailerId:a,loyaltyId:n,parentName:t})})),QC(this,"_renderStep",((e,t,s)=>{const a=gl()(YC()),{formatMessage:n}=this.context.intl;return qi.createElement("div",{className:a.step},qi.createElement("div",{className:a.stepTitle},qi.createElement("div",{className:a.stepNumber},s),qi.createElement(el.Z,{kind:e,size:tl.Sizes.S,colorState:tl.ColorStates.IMPROVED_GRAY_DARK})),qi.createElement("div",{className:a.stepText},n(t)))})),QC(this,"_renderCheck",(()=>{const{proxyType:e}=this.props,t=e===S.KqC.Phone,s=gl()(YC(),{isPhone:t});return qi.createElement("div",{className:s.checkmark},qi.createElement(el.Z,{kind:tl.Kinds.CHECKMARK,size:tl.Sizes.S,colorState:tl.ColorStates.SUCCESS}))})),QC(this,"_renderDigitsCheck",(()=>{const{isValid:e,count:t}=this.state,{proxyType:s}=this.props,a=s===S.KqC.Phone,n=gl()(YC(),{isPhone:a});return 10===t&&e?this._renderCheck():qi.createElement("div",{className:n.digits},t,"/10")})),QC(this,"_renderLoyaltyDigitsCheck",(()=>{const{loyaltyId:e}=this.state,{loyaltyCardLength:t}=this.props,s=gl()(YC());return e.length===parseInt(t,10)?this._renderCheck():qi.createElement("div",{className:s.digits},e.length,"/",t)}))}UNSAFE_componentWillReceiveProps(e){null!==e.linked&&(e.linked?(this.setState({isValid:!0,isCountShown:!1}),this.handleSuccessClick()):this.setState({isValid:!1,isCountShown:!1}))}componentDidMount(){this.textInput&&this.textInput.focus()}render(){const{brandImage:e,errorHint:t,loyaltyCardLength:s,loyaltyCardPrefix:a,proxyType:n,registrationInfo:r,retailerName:o}=this.props,{loyaltyId:i,isValid:l,isCountShown:c}=this.state,{formatMessage:d}=this.context.intl,E=gl()(YC()),_={retailerName:o},u=n===S.KqC.Phone,m=a?a.concat("X".repeat(s-a.length)):d(XC.loyalty_card_placeholder),p=u?d(XC.phone_number_placeholder):m,C=l||c?r:t,A=C.includes("_blank")?C:C.replace("<a ",'<a  style="color:#188fff;" target="_blank" '),T=l||c?"registrationInfo":"errorInfo",h=!!u&&["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],g={width:83.5*Ue.mg$+"px",height:9*Ue.mg$+"px",margin:`${2*Ue.mg$}px ${5*Ue.mg$}px ${5*Ue.mg$}px ${5*Ue.mg$}px`};return qi.createElement(N_.Z,{onClose:this.handleOverlayClick},qi.createElement("div",{className:E.dialog,"data-test-id":"quotient-modal"},qi.createElement("div",{className:E.close},qi.createElement($i.default,{"aria-label":d(XC.close),"data-test-id":"quotient-modal-close-btn",kind:tl.Kinds.CLOSE,onClick:this.handleCloseClick,size:tl.Sizes.XS,title:d(XC.close)})),qi.createElement("div",{className:E.imgContainer},qi.createElement("img",{className:E.logo,onError:e=>(0,eC.t)(e,S.EFE),src:e}),qi.createElement("div",{className:E.overlayContainer},qi.createElement("div",{className:E.overlay}))),qi.createElement("div",{className:E.subtitleContainer},qi.createElement("div",{className:E.subtitle},d(XC.subtitle,_)),qi.createElement("div",{className:E.stepContainer},this._renderStep(tl.Kinds.CONTACTCARD_OUTLINE,u?XC.link_card_step_1_phone:XC.link_card_step_1_loyalty,1),this._renderStep(tl.Kinds.ADDATTACHMENT,XC.link_card_step_2,2),this._renderStep(tl.Kinds.CART,XC.link_card_step_3,3))),a&&!u?qi.createElement("div",{className:E.headerText},qi.createElement(Ji.FormattedHTMLMessage,XC.loyalty_card_placeholder)):null,qi.createElement("div",{className:E.inputFieldContainer},qi.createElement("div",null,qi.createElement(zC(),{className:E.inputField,"data-test-id":"quotient-modal-text-input",guide:!0,mask:h,maxLength:s&&!u?s:"20",onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,placeholder:p,render:(e,t)=>qi.createElement("input",jC({},t,{ref:t=>{this.textInput=e(t)}})),size:u?"23":"25",type:"text"})),u?this._renderDigitsCheck():null,s&&!u?this._renderLoyaltyDigitsCheck():null),qi.createElement("div",{className:"errorInfo"===T?E.error:E.noError},d(XC.error,_)),"errorInfo"===T?qi.createElement("div",{className:E.errorInfo,dangerouslySetInnerHTML:{__html:A},id:"quotient-modal-info","data-test-id":"quotient-modal-info-text"}):null,l||c?qi.createElement("div",{className:E.policy,"data-test-id":"quotient-modal-policy-text"},qi.createElement(Ji.FormattedHTMLMessage,XC.policyText)):null,qi.createElement(Sl.Z,{"data-test-id":"quotient-modal-primary-btn",disabled:!(i&&l),kind:pl.F.PRIMARY,onClick:this.linkCard,style:g},d(XC.link))))}}QC(JC,"contextTypes",{intl:Ji.intlShape.isRequired,navigateTo:zi().func.isRequired}),QC(JC,"defaultProps",{onSuccess:()=>{},onClose:()=>{}});const $C=(0,Yi.connect)(((e,{retailerId:t=""})=>{const{getRetailersSelectors:s,getSelectedAccountId:a}=(0,Gl.selectors)(e),{getBrandImageFromRetailerId:n,getDisplayNameFromRetailerId:r,getErrorHintFromRetailerId:o,getProxyTypeFromRetailerId:i,getRegistrationInfoFromRetailerId:l,getLoyaltyCardLengthFromRetailerId:c,getLoyaltyCardPrefixFromRetailerId:d,isLinkedRetailer:E}=s(),_=a();return{retailerName:r(t),brandImage:n(t),errorHint:o(t),linked:E(t),proxyType:i(t),loyaltyCardPrefix:d(t),loyaltyCardLength:c(t),registrationInfo:l(t),activeAccountID:_}}),(e=>({closeModal:(t={})=>e({type:nc.LINK_MODAL_CLOSED,i13nModel:t}),linkRetailerRequested:t=>e((0,$p.qp)(t))})))(JC);var eA=s(25125),tA=s.n(eA);function sA(){return(sA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function aA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const nA=(0,Ji.defineMessages)({retailer_unlink_modal_header:{id:"retailer_unlink_modal.header",defaultMessage:"Are you sure you want to unlink<br/> <b>{retailerName} card {loyaltyId}</b>?"},retailer_unlink_modal_points:{id:"retailer_unlink_modal.points",defaultMessage:"From within Yahoo Mail groceries:"},retailer_unlink_modal_first:{id:"retailer_unlink_modal.first",defaultMessage:"You won't be able to receive and add coupons with this loyalty card."},retailer_unlink_modal_second:{id:"retailer_unlink_modal.second",defaultMessage:"All information associated with this card will be permanently deleted."},retailer_unlink_modal_body:{id:"retailer_unlink_modal.body",defaultMessage:"After unlinking, you won't be able to add coupons to this loyalty card from Yahoo Mail anymore."},retailer_unlink_modal_primary_button:{id:"retailer_unlink_modal.primary_button",defaultMessage:"Unlink"},retailer_unlink_modal_secondary_button:{id:"retailer_unlink_modal.secondary_button",defaultMessage:"Cancel"},retailer_unlink_modal_close:{id:"retailer_unlink_modal.close",defaultMessage:"Close"}});class rA extends qi.Component{constructor(...e){super(...e),aA(this,"unlinkHandler",(()=>{const{accountIds:e,onClose:t,retailerId:s,unlinkRetailerRequested:a}=this.props;a({retailerId:s}),t(),this.context.navigateTo({route:(0,wl.jK)(S.K8C.GROCERIES,{accountIds:e,name:s})})}))}render(){const{loyaltyId:e,onClose:t,retailerName:s}=this.props,{formatMessage:a}=this.context.intl,n=gl()(tA());return qi.createElement(N_.Z,{onClose:t},qi.createElement("div",{className:n.dialog,"data-test-id":"retailer-unlink-modal"},qi.createElement("div",{className:n.svgContainer},qi.createElement(el.Z,{colorState:tl.ColorStates.WARNING_GRAD_RED,kind:tl.Kinds.EXCLAMATION_ALT,size:tl.Sizes.M})),qi.createElement("div",{className:n.container},qi.createElement("div",{className:n.header},qi.createElement(Ji.FormattedHTMLMessage,sA({},nA.retailer_unlink_modal_header,{values:{retailerName:s,loyaltyId:e}}))),qi.createElement("div",{className:n.body},a(nA.retailer_unlink_modal_body)),qi.createElement("div",null,qi.createElement(Sl.Z,{"aria-label":a(nA.retailer_unlink_modal_primary_button),"data-test-id":"primary-button",kind:pl.F.PRIMARY,overridingClass:n.primaryButton,onClick:this.unlinkHandler,title:a(nA.retailer_unlink_modal_primary_button)},a(nA.retailer_unlink_modal_primary_button)),qi.createElement(Sl.Z,{"aria-label":a(nA.retailer_unlink_modal_secondary_button),"data-test-id":"secondary-button",kind:pl.F.SECONDARY,onClick:t,title:a(nA.retailer_unlink_modal_secondary_button)},a(nA.retailer_unlink_modal_secondary_button))))))}}aA(rA,"contextTypes",{intl:Ji.intlShape.isRequired,navigateTo:zi().func});const oA=(0,Yi.connect)(((e,{retailerId:t=""})=>{const{getRetailersSelectors:s}=(0,Gl.selectors)(e),{getLoyaltyIdFromRetailerId:a}=s();return{loyaltyId:a(t)}}),(e=>({unlinkRetailerRequested:t=>e((0,$p.An)(t))})))(rA);var iA=s(68594),lA=s.n(iA);function cA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const dA=(0,Ji.defineMessages)({link_phone:{id:"single_store.link_phone",defaultMessage:"Link phone number"},link_loyalty:{id:"single_store.link_loyalty",defaultMessage:"Link loyalty card number"},select_store_text:{id:"store_summary.select_store",defaultMessage:"Price and availability depend on Walmart store location."},store:{id:"store_summary.store",defaultMessage:"Select your store"},unlink:{id:"store_summary.unlink",defaultMessage:"Unlink"},other_stores:{id:"store_summary.other_stores",defaultMessage:"Other stores"},more:{id:"store_summary.more",defaultMessage:"more"},change_store:{id:"store_summary.change_store",defaultMessage:"Change store"}});class EA extends qi.Component{constructor(...e){super(...e),cA(this,"state",{currentZipCode:"",showLocationsMenu:!1,showQuotientModal:!1,showStoresList:!1,showUnlinkModal:!1}),cA(this,"handleSelectStoresButtonClick",(()=>{const{showStoresList:e}=this.state;this.setState({showStoresList:!e})})),cA(this,"handleSelectStoresPaneClick",(({overlayClicked:e})=>{e||this.setState({showStoresList:!1,showLocationsMenu:!1})})),cA(this,"handleLocationsMenuClick",(()=>{const{showLocationsMenu:e}=this.state;this.setState({showLocationsMenu:!e})})),cA(this,"selectStoreLocation",(e=>{const{retailerId:t,updatePreferredStore:s}=this.props;s({location:e,retailerId:t}),this.setState({showLocationsMenu:!1})})),cA(this,"updateCurrentZipCode",(e=>{this.setState({currentZipCode:e})})),cA(this,"selectRetailer",((e,t,s)=>{const{retailers:a,accountIds:n,navigateToRoute:r}=this.props,{id:o,linked:i}=a[s],l={mKey:Rl.JE.QTNTVIEW_SMARTVIEW_ACTION,sec:Rl.nJ.QUOTIENT,actionData:{reason:{featurefamily:S.lMo.IC,featurename:S.ANe.GROCERIES,viewtype:"grocerystorelist",actiontype:i?"viewcoupon":"linkstore",origin:"smartview"}}};r({route:(0,wl.jK)(S.K8C.GROCERIES,{accountIds:n,name:o}),i13nModel:l}),this.setState({showStoresList:!1})})),cA(this,"linkHandler",(()=>{const{linked:e}=this.props;return e?this.setState({showUnlinkModal:!0}):this.setState({showQuotientModal:!0})})),cA(this,"closeUnlinkModal",(()=>{this.setState({showUnlinkModal:!1})})),cA(this,"closeQuotientModal",(()=>{this.setState({showQuotientModal:!1})})),cA(this,"_renderImage",((e,t,s,a)=>qi.createElement("div",{"data-test-id":"select-stores-image",className:e.otherImageContainer,key:t,onClick:e=>this.selectRetailer(e,t,a)},qi.createElement("img",{className:e.otherImage,onError:e=>(0,eC.t)(e,S.EFE),src:s}),qi.createElement("div",{className:e.overlayContainer},qi.createElement("div",{className:e.otherOverlay}))))),cA(this,"renderSelectAddress",(e=>{const{doesPreferredStoreExist:t,groceriesChangeStoreRef:s,groceriesStoreSummaryRef:a,isGroceryWithProduct:n,linked:r,preferredStore:o,proxyType:i,retailerId:l,retailerName:c}=this.props,{formatMessage:d}=this.context.intl,{showLocationsMenu:E}=this.state,_="Phone"===i?dA.link_phone:dA.link_loyalty,{streetAddress:u,addressLocality:m,addressRegion:S,postalCode:p}=o.address||{},C=t&&u&&m&&S&&p?`${u}, ${m}, ${S} ${p.substr(0,5)}`:"";return n&&!t?qi.createElement("div",{className:e.groceryWithProduct},d(dA.select_store_text)," ",qi.createElement("span",{className:e.store,"data-test-id":"show-location-menu-button",onClick:this.handleLocationsMenuClick},d(dA.store)),E&&qi.createElement(ZC.Z,{key:"store-locations-pane","data-test-id":"store-locations-pane",alignTo:a.current,alignmentPoints:[WC.K.TopLeft,WC.K.BottomLeft],useShim:!0,onClick:this.handleSelectStoresPaneClick},qi.createElement(GC,{currentZipCode:this.state.currentZipCode,retailerId:l,retailerName:c,selectStoreLocation:this.selectStoreLocation,updateCurrentZipCode:this.updateCurrentZipCode}))):n?qi.createElement("div",null,!!C&&qi.createElement("div",{className:e.selectedAddress},C),qi.createElement("div",{className:e.changeStore,onClick:this.handleLocationsMenuClick,ref:s},d(dA.change_store)),E&&qi.createElement(ZC.Z,{"data-test-id":"store-locations-pane",key:"store-locations-pane",alignTo:a.current,alignmentPoints:[WC.K.TopLeft,WC.K.BottomLeft],useShim:!0,onClick:this.handleSelectStoresPaneClick},qi.createElement(GC,{currentZipCode:this.state.currentZipCode,retailerId:l,retailerName:c,selectStoreLocation:this.selectStoreLocation,updateCurrentZipCode:this.updateCurrentZipCode}))):qi.createElement("span",{"data-test-id":"link-handler",className:e.link,onClick:this.linkHandler},d(r?dA.unlink:_))})),cA(this,"renderSelectStore",(e=>{var t;const{groceriesStoreSummaryRef:s,retailerIndex:a,retailers:n}=this.props,{formatMessage:r}=this.context.intl,o=n.filter((e=>e.index!==a)).slice(0,2),{showStoresList:i}=this.state,l=n.map((e=>({displayName:e.displayName,brandImage:e.brandImage}))),c={width:(null==s||null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect().width)||"unset",height:"100%",background:"rgba(38, 40, 42, 0.5)",overflowX:"hidden",overflowY:"auto"};return qi.createElement("div",{className:e.selectStoreContainer},qi.createElement("div",{className:e.separator}),qi.createElement("div",{"data-test-id":"other-stores",className:e.otherStoresContainer},qi.createElement("div",{className:e.otherStoresTitle},r(dA.other_stores)),qi.createElement("div",{className:e.otherStoresImages},o.map((({brandImage:t,displayName:s,index:a})=>this._renderImage(e,s,t,a))),qi.createElement("div",{"data-test-id":"select-stores-button",className:e.moreStoresContainer,onClick:this.handleSelectStoresButtonClick},"+",n.length-o.length-1," ",r(dA.more),i&&qi.createElement(ZC.Z,{key:"store-list-pane",alignTo:s.current,alignmentPoints:[WC.K.TopLeft,WC.K.BottomLeft],useShim:!0,onClick:this.handleSelectStoresPaneClick,customInlineStyles:c},qi.createElement(VC,{defaultItem:l[a],groceriesHead:s.current,items:l,onClick:this.selectRetailer,close:this.handleSelectStoresPaneClick}))))))}))}componentDidMount(){if(this.setState({showLocationsMenu:this.props.showSelectLocationMenu}),"269a179b-bbba-46ed-91ca-f7129757c9c1"===this.props.retailerId){var e,t;const s=null===(e=window)||void 0===e||null===(t=e.AppBootstrapData)||void 0===t?void 0:t.groceryBeaconHash;s&&(0,KE.J)(`${S.sGZ}&cat=lpwmrtab&u1=${s}&u45=[purchaserType]`)}}UNSAFE_componentWillReceiveProps({isWindowResizingDone:e}){e&&this.setState({showStoresList:!1,showLocationsMenu:!1})}render(){const{accountIds:e,brandImage:t,groceriesStoreSummaryRef:s,linked:a,loyaltyId:n,retailerId:r,retailerName:o,retailers:i}=this.props,l=gl()(lA()),c=n&&`***${n.slice(-4)}`;return qi.createElement("div",{className:l.container,"data-test-id":"store-summary",ref:s},qi.createElement("div",{className:l.cardContainer,"data-test-id":"store-details"},qi.createElement("div",{className:l.imageContainer},qi.createElement("img",{className:l.image,"data-test-id":"store-image",onError:e=>(0,eC.t)(e,S.EFE),src:t}),qi.createElement("div",{className:l.overlayContainer},qi.createElement("div",{className:l.overlay}))),qi.createElement("div",{className:l.messageContainer},qi.createElement("span",{"data-test-id":"store-name"},qi.createElement("span",{className:l.retailer},o)),qi.createElement("span",{className:l.loyaltyInfo},a?qi.createElement("span",{className:l.loyaltyNumber,"data-test-id":"loyalty-id"},c):null,this.renderSelectAddress(l)))),i.length>1?this.renderSelectStore(l):null,this.state.showUnlinkModal?qi.createElement(oA,{"data-test-id":"retailer-unlink-model",accountIds:e,onClose:this.closeUnlinkModal,retailerId:r,retailerName:o}):null,this.state.showQuotientModal?qi.createElement($C,{"data-test-id":"quotient-modal",retailerId:r,onSuccess:this.closeQuotientModal,onClose:this.closeQuotientModal,parentName:"grocerystorelist"}):null)}}cA(EA,"contextTypes",{intl:Ji.intlShape.isRequired});const _A=(0,Yi.connect)(((e,{retailerId:t="",retailers:s,retailerIndex:a})=>{const{getRetailersSelectors:n,isFeatureEnabled:r,isWindowResizingDone:o}=(0,Gl.selectors)(e),{doesPreferredStoreExist:i,getBrandImageFromRetailerId:l,getLoyaltyIdFromRetailerId:c,getPreferredStore:d,getProxyTypeFromRetailerId:E,isLinkedRetailer:_,isRetailerLinkable:u,showSelectLocationMenu:m}=n(),{displayName:p="Retailer"}=s[a]||{};return{brandImage:l(t),doesPreferredStoreExist:i(t),isGroceryWithProduct:r(S.ANe.GROCERIES)&&!u(t),isWindowResizingDone:o(),linked:_(t),loyaltyId:c(t),preferredStore:d(t),proxyType:E(t),retailerName:p,showSelectLocationMenu:m(t)&&!i(t)}}),(e=>({navigateToRoute:t=>e((0,ol.Ch)(t)),updatePreferredStore:t=>e((0,$p.Y_)(t))})))(EA);var uA=s(71421),mA=s(11761),SA=s.n(mA);function pA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const CA=(0,Ji.defineMessages)({title:{id:"grocery_categories.title",defaultMessage:"Top categories"},productTitle:{id:"grocery_categories.productTitle",defaultMessage:"Recommended categories"},view_less:{id:"grocery_categories.view_less",defaultMessage:"View less"},view_all:{id:"grocery_categories.view_all",defaultMessage:"View all categories"}});class AA extends qi.Component{constructor(...e){super(...e),pA(this,"filterOffers",((e,t)=>{const{retailerId:s}=this.props,a=(0,Hl.RB)(e.id);this._i13nModel({mKey:Rl.JE.CARD_INTERACT,category:e,index:t}),this.context.navigateTo({route:(0,wl.gH)(s,a)})}))}componentDidMount(){const{categoryRows:e,isGroceryWithProduct:t}=this.props;t&&e.length&&this._i13nModel({mKey:Rl.JE.CARD_VIEW})}componentDidUpdate(e){const{categoryRows:t,isGroceryWithProduct:s}=this.props;s&&0===e.categoryRows.length&&t.length&&this._i13nModel({mKey:Rl.JE.CARD_VIEW})}_i13nModel({mKey:e,category:t,index:s}){const{categoryRows:a,retailerName:n}=this.props,r=a[0],o=[],i=[],l={featurefamily:S.lMo.IC,retailername:n,xpname:S.pYz.CATEGORY_RECO};r.forEach((({id:e,scoreValue:t})=>{o.push(e),i.push(t)})),e===Rl.JE.CARD_VIEW?(l.categoryid=o,l.score=i):e===Rl.JE.CARD_INTERACT&&(l.categoryid=t.id,l.position=s,l.score=t.scoreValue),Zc.ZP.sendI13nModel({i13nModel:{mKey:e,sec:Rl.nJ.QUOTIENT,actionData:l}})}renderCategoryBlock(e,t,s){const a={backgroundImage:`url('${e.logo}'), linear-gradient(to bottom, rgba(8, 8, 8, 0.1), rgba(8, 8, 8, 0.1) 40%, rgba(8, 8, 8, 0.6))`};return qi.createElement("div",{key:e.id,className:t.block,"data-test-id":"grocery-category",style:a,onClick:()=>this.filterOffers(e,s)},qi.createElement("span",{className:t.name},e.displayName))}render(){const{formatMessage:e}=this.context.intl,t=gl()(SA()),{categoryRows:s,isCategoriesExpanded:a,isGroceryWithProduct:n,retailerId:r,toggleGroceryCategoriesExpansion:o}=this.props,[i=[],...l]=s;let c=0;return qi.createElement("div",{className:t.container},qi.createElement("div",{className:t.headerBar},qi.createElement("span",{className:t.title},e(n?CA.productTitle:CA.title)),l.length?qi.createElement("span",{className:t.expand,"data-test-id":"viewToggle",onClick:()=>o(r)},e(a?CA.view_less:CA.view_all)):null),qi.createElement("div",{className:t.imgContainer,key:c++},i.map(((e,s)=>this.renderCategoryBlock(e,t,s)))),a?l.map((e=>qi.createElement("div",{className:t.imgContainer,key:c++},e.map(((e,s)=>this.renderCategoryBlock(e,t,s)))))):null)}}pA(AA,"defaultProps",{getSubcategories:()=>{}}),pA(AA,"contextTypes",{intl:Ji.intlShape.isRequired,navigateTo:zi().func});const TA=(0,Yi.connect)(((e,{retailerId:t})=>{const{getRetailersSelectors:s,getMainContentWidth:a,isFeatureEnabled:n}=(0,Gl.selectors)(e),{getCategoriesFromRetailerIdV2:r,isCategoriesExpanded:o,isRetailerLinkable:i}=s(),l=(0,g.VO)(r(t)).filter((e=>!(null==e||!e.logo))),c=(0,uA.Bb)(l,Ue.ydg,a()-40),d=n(S.ANe.GROCERIES)&&!i(t);return{categoryRows:c,isCategoriesExpanded:o(t),isGroceryWithProduct:d}}),(e=>({toggleGroceryCategoriesExpansion:t=>e((0,$p.ch)(t))})))(AA);var hA=s(6330),gA=s(40902),IA=s(52386),RA=s.n(IA);function OA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const DA=(0,Ji.defineMessages)({save_value:{id:"offer_list_item.save_value",defaultMessage:"Save {value}"},coupon:{id:"offer_list_item.coupon",defaultMessage:"Coupon"},buy_online:{id:"offer_list_item.buy_online",defaultMessage:"Buy online"},weight:{id:"offer_list_item.weight",defaultMessage:"Final cost by weight"},add_item:{id:"offer_list_item.add_item",defaultMessage:"Add item"},sponsored:{id:"offer_list_item.sponsored",defaultMessage:"Sponsored"}}),NA="decrement",fA="increment",MA="viewdetails";class LA extends qi.Component{constructor(...e){super(...e),OA(this,"state",{clipCouponFromBody:!1,currentZipCode:"",offerCardState:!1,showQuotientModal:!1,showLocationsMenu:!1,showSelectLocationsCue:!1}),OA(this,"_i13nModel",(()=>{var e;const{categories:t,contextOfUse:s,offer:a,offerId:n,offerIndex:r,retailerName:o,score:i,sortOrder:l}=this.props;let c=a.isSponsoredAd?S.pYz.SPONSORED_GROCERY_RECO:S.pYz.GROCERY_RECO;s===S.nr6.GROCERY_CATEGORY_SEARCH?c=a.isSponsoredAd?S.pYz.SPONSORED_GROCERY_CATEGORY_RESULTS:S.pYz.GROCERY_CATEGORY_RESULTS:s===S.nr6.GROCERY_STORE_SEARCH&&(c=S.pYz.GROCERY_SRP),Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.CARD_INTERACT,sec:Rl.nJ.QUOTIENT,interactionType:Rl.Rb.click,actionData:{categoryid:t.map((e=>e.id)),featurefamily:S.lMo.IC,interactiontype:MA,offerid:n,oos:0,position:r,retailername:o,score:i,sortOrder:l,xpname:c}}}),a.isSponsoredAd&&(0,KE.Z)(null===(e=a.trackingBeacons)||void 0===e?void 0:e.clickURL)})),OA(this,"toggleOfferCardState",(()=>{const{doesPreferredStoreExist:e,fetchCategoryItems:t,getSimilarItems:s,isGroceryWithProduct:a,offer:n,offerId:r,retailerId:o}=this.props;if(a)if(e){const e=n.categories[n.categories.length-1]||{},a=(0,Hl.tE)((0,Hl.Ez)({listContentType:S.F6k.OFFER_CARDS,referrer:S.qd8[S.K8C.GROCERIES],listFilter:S.ukn.RECOMMENDED_OFFER_CARDS,name:o,keyword:(0,Hl.RB)(e.id)}));this._i13nModel(),s({retailerId:o,itemId:r}),t(a),this.context.navigateTo({route:(0,wl.gH)(o,`id!${r}`)})}else this.setState({showLocationsMenu:!0});else this.setState({offerCardState:!this.state.offerCardState})})),OA(this,"handleQuotientModalClose",(()=>{const{clipOffer:e,contextOfUse:t,linked:s,offer:a,offerIndex:n,position:r,retailerId:o,fromEmail:i,search:l,sortOrder:c,parentMessageId:d}=this.props;this.setState({showQuotientModal:!1}),s&&e({contextOfUse:t,retailerId:o,offer:a,offerIndex:n,position:r,parentMessageId:d,search:l,sortOrder:c,fromEmail:i})})),OA(this,"handleSelectLocationsMenuPaneClick",(({overlayClicked:e})=>{e||this.setState({showLocationsMenu:!1})})),OA(this,"renderQuotientModal",(e=>qi.createElement($C,{"data-test-id":"quotient-modal",retailerId:e,onSuccess:this.handleQuotientModalClose,onClose:this.handleQuotientModalClose,parentMessageId:this.props.parentMessageId,fromEmail:this.props.fromEmail,contextOfUse:this.state.clipCouponFromBody?"groceriesTopOfMsgBody":this.props.contextOfUse,parentName:"grocerystorelist"}))),OA(this,"selectStoreLocation",(e=>{const{clipOffer:t,contextOfUse:s,fromEmail:a,offer:n,offerIndex:r,parentMessageId:o,position:i,retailerId:l,search:c,sortOrder:d,updatePreferredStore:E}=this.props;E({location:e,retailerId:l}),this.setState({showLocationsMenu:!1}),t({contextOfUse:s,fromEmail:a,offer:n,offerIndex:r,parentMessageId:o,position:i,retailerId:l,search:c,sortOrder:d})})),OA(this,"updateCurrentZipCode",(e=>{this.setState({currentZipCode:e})})),OA(this,"handleLocationsCuePrimaryClick",(()=>{const{clipOffer:e,contextOfUse:t,fromEmail:s,offer:a,offerIndex:n,parentMessageId:r,position:o,retailerId:i,score:l,sortOrder:c,search:d}=this.props;this.setState({showSelectLocationsCue:!1}),e({contextOfUse:t,fromEmail:s,offer:a,offerIndex:n,parentMessageId:r,position:o,retailerId:i,score:l,search:d,sortOrder:c})})),OA(this,"handleLocationsCueSecondaryClick",(()=>{const{showLocationsMenu:e}=this.state;this.setState({showLocationsMenu:!e,showSelectLocationsCue:!1})})),OA(this,"updateContent",(e=>{e&&e.updatePosition()})),OA(this,"renderSelectLocationsCue",(()=>{const{doesPreferredStoreExist:e,groceriesChangeStoreRef:t}=this.props;return t&&this.state.showSelectLocationsCue&&e?qi.createElement(El.yk,{align:ml.xM.ANY,bg:ml.Ic.DEFAULT,borderRadius:ml.cM.LOW,hideOnContentClick:!1,permittedArrowDirections:[ml.Ji.UP],popoverAnchor:t.current,triggerOn:ml.K2.MOUNT,ref:e=>{this.popoverContent=e},zAltitude:Ue.LSY.POPOVER.HIGH},qi.createElement(Pl.cr,{import:"../../atoms/caret_menu/select_locations_cue",onClose:this.handleLocationsCueSecondaryClick,onClick:this.handleLocationsCuePrimaryClick,onShow:()=>this.updateContent(this.popoverContent),_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,21260))},_moduleResolver:function(){return 21260}})):null})),OA(this,"renderSelectLocationMenu",(()=>{const{groceriesStoreSummaryRef:e,retailerId:t,retailerName:s}=this.props;return qi.createElement(ZC.Z,{key:"store-locations-pane",alignTo:e.current,alignmentPoints:[WC.K.TopLeft,WC.K.BottomLeft],useShim:!0,onClick:this.handleSelectLocationsMenuPaneClick},qi.createElement(GC,{currentZipCode:this.state.currentZipCode,retailerId:t,retailerName:s,selectStoreLocation:this.selectStoreLocation,updateCurrentZipCode:this.updateCurrentZipCode}))})),OA(this,"handleOfferActivate",(e=>{var t,s,a;e.stopPropagation();const{activatedOffers:n,clipOffer:r,contextOfUse:o,doesPreferredStoreExist:i,fromEmail:l,isGroceryWithProduct:c,linked:d,offer:E,offerIndex:_,parentMessageId:u,position:m,retailerId:p,score:C,search:A,sortOrder:T,showGroceriesLocationsCue:h}=this.props;this.setState({clipCouponFromBody:!1});const g=null===(t=window)||void 0===t||null===(s=t.AppBootstrapData)||void 0===s?void 0:s.groceryBeaconHash;c&&g&&0===(null==n?void 0:n.length)&&(0,KE.J)(`${S.sGZ}&cat=addtocrt&u1=${g}`),E.isSponsoredAd&&(0,KE.Z)(null===(a=E.trackingBeacons)||void 0===a?void 0:a.clickURL),d||c?c&&!i?this.setState({showLocationsMenu:!0}):(c&&h&&this.setState({showSelectLocationsCue:!0}),r({contextOfUse:o,fromEmail:l,offer:E,offerIndex:_,parentMessageId:u,position:m,retailerId:p,score:C,search:A,sortOrder:T,cancelAPICall:c&&h})):this.setState({showQuotientModal:!0})})),OA(this,"handleImageError",(e=>(0,eC.t)(e,S.EFE))),OA(this,"_renderAddedIcon",(e=>qi.createElement("div",{className:e.addedIcon},"LOADING"===this.props.changeQuantityStatus?qi.createElement(Vu.Z,null):qi.createElement(el.Z,{kind:tl.Kinds.CHECKMARK,size:tl.Sizes.S,colorState:tl.ColorStates.SECOND_LEVEL_GRAY})))),OA(this,"_renderClipButton",(()=>qi.createElement($i.default,{"data-test-id":"clip-fuji-button",colorState:tl.ColorStates.GRAD_BLUE,kind:tl.Kinds.ADDATTACHMENT,onClick:this.handleOfferActivate,size:tl.Sizes.S,title:"Clip offer"}))),OA(this,"_renderCartButton",((e,t,s,a)=>qi.createElement("div",{className:a.walmartCart},qi.createElement($i.default,{ariaLabel:this.context.intl.formatMessage(DA.add_item),colorState:tl.ColorStates.INHERITED,"data-test-id":"add-to-shopping-list",kind:tl.Kinds.CART,onClick:this.handleOfferActivate,paddingLess:!0,size:tl.Sizes.S,title:this.context.intl.formatMessage(DA.add_item)})))),OA(this,"_renderButton",((e,t,s)=>{const{contextOfUse:a,isGroceryWithProduct:n,doesPreferredStoreExist:r}=this.props;if(e===S.ukn.RECOMMENDED_OFFER_CARDS||"singleStoreSearchAssist"===a)return t?this._renderAddedIcon(s):n?this._renderCartButton(r,a,n,s):this._renderClipButton()})),OA(this,"handleChangeProductsQuantity",((e,t)=>{e.stopPropagation();const{categories:s,changeProductsQuantity:a,contextOfUse:n,deleteProducts:r,maxQuantity:o,offerId:i,offerIndex:l,quantity:c,retailerId:d,retailerName:E,score:_}=this.props;if(t&&c===o)return;const u={offerId:i,quantity:c+(t?1:-1)},m=t?fA:NA;return u.quantity?a({categories:s.map((e=>e.id)),contextOfUse:n,interactionType:m,items:[u],offerIndex:l,retailerId:d,retailerName:E,score:_}):r({retailerId:d,items:[u]})}))}_renderChangeQuantity(e){const{maxQuantity:t,quantity:s}=this.props;return qi.createElement("div",{className:e.numberContainer},qi.createElement("div",{className:e.change,"data-test-id":"minus",onClick:e=>this.handleChangeProductsQuantity(e,!1)},qi.createElement(el.Z,{colorState:tl.ColorStates.SELECTED,kind:tl.Kinds.MINUS,size:tl.Sizes.S})),qi.createElement("label",{htmlFor:"quantity"},s),qi.createElement("div",{className:e.change,"data-test-id":"add",onClick:e=>this.handleChangeProductsQuantity(e,!0)},qi.createElement(el.Z,{colorState:s===t?tl.ColorStates.SECOND_LEVEL_GRAY:tl.ColorStates.SELECTED,kind:tl.Kinds.ADD,size:tl.Sizes.S})))}render(){const{brandName:e,contextOfUse:t,dateDiff:s="",discountType:a,imageUrl:n,isActivatedOffer:r,isGroceryWithProduct:o,listContentType:i,listFilter:l,offer:c,offerDescription:d,offerValue:E,retailerId:_,search:u,showGroceriesLocationsCue:m,unitPriceDisplay:p}=this.props,{eligibleUnitText:C}=c,{formatMessage:A}=this.context.intl,T=gl()(RA(),{isGroceryWithProduct:o,expandedCardState:this.state.offerCardState,redExpires:s<=1,contextOfUse:t});return qi.createElement("div",{"data-test-id":"offer-list-item",className:T.container,onClick:this.toggleOfferCardState},qi.createElement("div",{className:T.svgStyle},qi.createElement("img",{className:T.icon,src:n,onError:this.handleImageError}),qi.createElement("div",{className:T.overlayContainer},qi.createElement("div",{className:T.overlay}))),qi.createElement("div",{className:T.cardDetails},o?qi.createElement("div",null,c.isSponsoredAd&&qi.createElement("div",{className:T.coupon},A(DA.sponsored)),qi.createElement("div",{className:T.cardTitle},d)):qi.createElement("div",{className:T.saveContainer},qi.createElement("div",{className:T.save},a===S.iNd.GETXFREE?E:A(DA.save_value,{value:E})),qi.createElement(el.Z,{kind:tl.Kinds.CIRCLE,size:tl.Sizes.XXXS,colorState:tl.ColorStates.FIRST_LEVEL_GRAY}),qi.createElement("div",{className:T.coupon},A(DA.coupon))),o?qi.createElement("div",null,qi.createElement("div",{className:T.saveContainer},qi.createElement("div",{className:T.save},E,"Each"===C&&qi.createElement("span",null," ea")),p&&qi.createElement("div",{className:T.coupon}," ",p)),("Each_Weight"===C||"Weight"===C)&&qi.createElement("div",{className:T.coupon},A(DA.weight)),r&&this._renderChangeQuantity(T)):qi.createElement("div",null,qi.createElement("div",{className:T.cardTitle},(0,Vl.Kq)(e,u,T.highlightedTerm)),qi.createElement("div",{className:T.cardDescription},(0,Vl.Kq)(d,u,T.highlightedTerm)),qi.createElement("div",{className:T.expires},qi.createElement(gA.Z,{type:i,daysUntilExpiry:s})))),this._renderButton(l,r,T),this.state.showQuotientModal?this.renderQuotientModal(_):null,this.state.showLocationsMenu&&this.renderSelectLocationMenu(),m&&this.renderSelectLocationsCue())}}OA(LA,"contextTypes",{intl:Ji.intlShape.isRequired,navigateTo:zi().func}),OA(LA,"defaultProps",{offerIndex:-1,parentMessageId:"",fromEmail:""});const PA=(0,Yi.connect)(((e,t)=>{const{getActivatedOffersSelectors:s,getRoute:a,getOffersSelectors:n,getRetailersSelectors:r,isFeatureEnabled:o,getPrimaryAccountId:i}=(0,Gl.selectors)(e),{getOffer:l,isOfferActivated:c}=n(),{doesPreferredStoreExist:d,getDisplayNameFromRetailerId:E,isLinkedRetailer:_,getPreferredStore:u,isRetailerLinkable:m}=r(),{offerId:p}=t,C=a(),A=(0,Hl.LY)(C),T=(0,Hl.WN)(A),h=(0,Hl.C4)(A),g=t.retailerId||(0,Hl.h_)(A)||"",I=E(g),R=_(g),O=i(),D=o(S.ANe.GROCERIES)&&!m(g),N=c(p),f=l(p),M=u(g),{followTypes:L=[]}=M,P=L.includes("inferred"),{getActivatedOfferStreamItems:y}=s();return{activatedOffers:y((0,Hl.tE)(A,{keyword:"",listFilter:S.ukn.ACTIVATED_OFFER_CARDS})).reverse(),isActivatedOffer:N,linked:R,listContentType:T,listFilter:h,doesPreferredStoreExist:d(g),offer:f,retailerId:g,retailerName:I,primaryAccountId:O,isGroceryWithProduct:D,showGroceriesLocationsCue:o(S.ANe.GROCERIES_LOCATIONS_CUE)&&P}}),(e=>({changeProductsQuantity:t=>e((0,$p.gs)(t)),clipOffer:t=>e((0,$p.on)(t)),deleteProducts:t=>e((0,$p.Xj)(t)),fetchCategoryItems:t=>e((0,$p.OL)(t)),updatePreferredStore:t=>e((0,$p.Y_)(t)),getSimilarItems:t=>e((0,$p.IB)(t))})))(LA);var yA=s(31436),bA=s.n(yA);function FA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class UA extends qi.Component{constructor(e){super(e),FA(this,"state",{dimensions:{},showOverflowCategories:!1}),this.pillContainerRef=qi.createRef()}getPillDimensions(){const e=Xi.findDOMNode(this).querySelectorAll("[data-pill-id]"),t=Array.from(e).reduce(((e,t)=>(e[t.getAttribute("data-pill-id")]={width:t.offsetWidth+2*Ue.mg$,height:t.offsetHeight},e)),{});this.setState({dimensions:t})}componentDidMount(){this.getPillDimensions()}componentDidUpdate(e){this.props.subcategories.length!==e.subcategories.length&&this.getPillDimensions()}render(){var e,t;const s=gl()(bA(),{isCategorySearch:!0}),{dimensions:a,showOverflowCategories:n}=this.state,{filterOffers:r,subcategories:o}=this.props;let i=(null===(e=this.pillContainerRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.offsetWidth)||0;const l=o.reduce(((e,t)=>e+(a[t.id]&&a[t.id].width||0)),0)>i;l&&(i-=20);const c=l?o.reduce(((e,t)=>(i-=a[t.id]&&a[t.id].width||0,i>=0&&++e,e)),0):o.length,d=o.slice(0,c||1),E=o.slice(c||1),_=(e,t)=>qi.createElement("div",{className:s.pill,"data-pill-id":e.id,key:e.id,onClick:()=>r(e,t),title:e.displayName},e.displayName);return qi.createElement("div",{className:s.categoriesBar,"data-test-id":"categoriesBar",ref:this.pillContainerRef},d.map((e=>_(e))),n?E.map((e=>_(e))):null,E.length?(()=>qi.createElement("span",{className:s.toggleButton,onClick:()=>this.setState({showOverflowCategories:!n})},qi.createElement(el.Z,{kind:tl.Kinds.CHEVRON_UP,size:tl.Sizes.XS,colorState:tl.ColorStates.INHERITED,rotate:n?tl.Rotate.D0:tl.Rotate.D180})))():null)}}function vA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}FA(UA,"defaultProps",{filterOffers:()=>{},subcategories:[]});class wA extends qi.Component{constructor(e){super(e),vA(this,"state",{sortProducts:S.dS5.RECOMMENDED}),vA(this,"handleScroll",(()=>{const e=this.props.isCategorySearch?this.innerScrollRef:this.outerScrollRef,{clientHeight:t,scrollHeight:s,scrollTop:a}=e.current||{};t+a>=s&&Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.GROCERY_END_OF_SCROLL,sec:Rl.nJ.QUOTIENT}})})),vA(this,"filterOffers",((e,t)=>{var s;const{keyword:a,retailerId:n,retailerIndex:r,retailers:o}=this.props,i=a?`${a}#${e.id}`:(0,Hl.RB)(e.id);Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.CARD_INTERACT,sec:Rl.nJ.QUOTIENT,actionData:{categoryid:e.id,featurefamily:S.lMo.IC,position:t,retailername:null===(s=o[r])||void 0===s?void 0:s.displayName,xpname:S.pYz.CATEGORY_RECO}}}),this.context.navigateTo({route:(0,wl.gH)(n,i)})})),vA(this,"navigate",(e=>{const{categories:t,retailerId:s}=this.props;if(e===t.length-1)return;const a=t.slice(0,e+1).filter((e=>!!e)).map((e=>e.id)).join("#"),n=a&&(0,Hl.RB)(a);this.context.navigateTo({route:(0,wl.gH)(s,n)})})),vA(this,"handleSort",((e,t)=>{e.preventDefault(),this.setState({sortProducts:t})})),this.outerScrollRef=qi.createRef(),this.innerScrollRef=qi.createRef(),this.groceriesChangeStoreRef=qi.createRef(),this.groceriesStoreSummaryRef=qi.createRef(),this.groceryContainerRef=qi.createRef()}componentDidMount(){const{items:e,isCategorySearch:t,isGroceryWithProduct:s,status:a}=this.props;var n,r;(this.groceryContainer=Xi.findDOMNode(this.groceryContainerRef.current),s&&!t&&a!==S.DAQ.LOADING)&&(this._i13nModel(S.pYz.GROCERY_RECO),null!==(n=e[0])&&void 0!==n&&n.isSponsoredAd&&(this._i13nModel(S.pYz.SPONSORED_GROCERY_RECO),(0,KE.Z)(null===(r=e[0].trackingBeacons)||void 0===r?void 0:r.impressionURL)))}componentDidUpdate(){var e;const{keyword:t,items:s,isCategorySearch:a,isGroceryWithProduct:n,status:r}=this.props,o=null===(e=s[0])||void 0===e?void 0:e.isSponsoredAd;var i;if(!n||a||t||r===S.DAQ.LOADING)if(n&&a&&r!==S.DAQ.LOADING){var l;if(this._i13nModel(S.pYz.GROCERY_CATEGORY_RESULTS),o)this._i13nModel(S.pYz.SPONSORED_GROCERY_CATEGORY_RESULTS),(0,KE.Z)(null===(l=s[0].trackingBeacons)||void 0===l?void 0:l.impressionURL)}else n&&!a&&t&&r!==S.DAQ.LOADING&&this._i13nModel(S.pYz.GROCERY_SRP);else this._i13nModel(S.pYz.GROCERY_RECO),o&&(this._i13nModel(S.pYz.SPONSORED_GROCERY_RECO),(0,KE.Z)(null===(i=s[0].trackingBeacons)||void 0===i?void 0:i.impressionURL))}_i13nModel(e){var t;const{items:s,keyword:a,previouslyAddedItems:n,retailerIndex:r,retailers:o}=this.props,i=[],l=[];e===S.pYz.PREV_ADDED?n.forEach((({itemId:e})=>{i.push(e),l.push("0.0")})):s.forEach((({offerId:e,scoreValue:t})=>{i.push(e),l.push(t)}));const c={featurefamily:S.lMo.IC,offerid:i,retailername:null===(t=o[r])||void 0===t?void 0:t.displayName,score:l,sortOrder:this.state.sortProducts,xpname:e};e===S.pYz.GROCERY_CATEGORY_RESULTS?c.categoryid=(0,Hl.Fv)(a).split("#"):e===S.pYz.GROCERY_SRP&&(c.query=a),Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.CARD_VIEW,sec:Rl.nJ.QUOTIENT,actionData:c}})}renderItems(e){const{isCategorySearch:t,getItemsInOrder:s,keyword:a}=this.props,n=a.trim()||"";let r;const o=s(this.state.sortProducts);return r=t?S.nr6.GROCERY_CATEGORY_SEARCH:n?S.nr6.GROCERY_STORE_SEARCH:S.nr6.GROCERY_STORE_VIEW,qi.createElement("section",{className:e.itemContainer,ref:this.innerScrollRef},o.map((({brandName:e,categories:t,changeQuantityStatus:s="",dateDiff:a,description:o,discountType:i,imageUrl:l,maxQuantity:c,offerId:d,offerValue:E="",quantity:_,scoreValue:u,unitPriceDisplay:m},S)=>qi.createElement(PA,{brandName:e,categories:t,changeQuantityStatus:s,contextOfUse:r,dateDiff:a,discountType:i,groceriesChangeStoreRef:this.groceriesChangeStoreRef,groceriesStoreSummaryRef:this.groceriesStoreSummaryRef,imageUrl:l,key:d,maxQuantity:c,offerDescription:o,offerId:d,offerIndex:S,offerValue:E,quantity:_,score:u,sortOrder:this.state.sortProducts,search:n,unitPriceDisplay:m}))))}renderPreviouslyAddedItems(e){var t;this._i13nModel(S.pYz.PREV_ADDED);const{previouslyAddedItems:s,retailerId:a}=this.props,n=null===(t=this.groceryContainer)||void 0===t?void 0:t.offsetWidth,r=s.map((({activated:e,description:t,imageUrl:s,offerId:n,unitPriceDisplay:r,value:o},i)=>qi.createElement(oC,{activated:e,description:t,imageUrl:s,key:n,offerId:n,offerIndex:i,retailerId:a,unitPriceDisplay:r,value:o})));return qi.createElement(qi.Fragment,null,qi.createElement("div",{className:e.previousItemSeparator},qi.createElement(Ji.FormattedMessage,{id:"previousItems",defaultMessage:"Previously in your cart"})),qi.createElement("div",{className:e.previousItemContainer},qi.createElement(Jp.Z,{itemWidth:3*(S._2h+12),defaultTransitionAmount:3*(S._2h+12),contextOfUse:S.C5$.PRODUCT,navArrows:r.length*(S._2h+12)>n},r)))}renderCategoryNavigator(e){return qi.createElement("div",{className:e.navigator},qi.createElement("div",{className:e.name,onClick:()=>this.navigate(-1)},qi.createElement(Ji.FormattedMessage,{id:"rootCategory",defaultMessage:"All categories"})),this.props.categories.filter((e=>!!e)).map(((t,s)=>qi.createElement("div",{className:e.link,key:s},qi.createElement("div",{className:e.separator},qi.createElement(el.Z,{size:tl.Sizes.XXXS,kind:tl.Kinds.ARROW_RIGHT_DOC,rotate:tl.Rotate.D0,colorState:tl.ColorStates.INHERITED})),qi.createElement("p",{className:s===this.props.categories.length-1?e.boldName:e.name,onClick:()=>this.navigate(s)},t.displayName||`Subcategory_${s}`)))))}renderGroceriesResult(e){var t;const{accountIds:s,isCategorySearch:a,isGroceryWithProduct:n,itemDetailId:r,items:o,keyword:i,listId:l,previouslyAddedItems:c,retailerId:d,retailerIndex:E,retailers:_,subcategories:u,status:m}=this.props;return m===S.DAQ.ERROR?qi.createElement(pC.ZP,{listId:l}):m===S.DAQ.LOADING?qi.createElement("div",{className:e.LoadingIndicatorPositionBox},qi.createElement(Vu.Z,null)):r?qi.createElement(SC,{itemId:r,retailerId:d}):0===o.length?qi.createElement(pC.ZP,{listId:l}):a?qi.createElement(qi.Fragment,null,n&&this.renderCategoryNavigator(e),n&&qi.createElement(UA,{filterOffers:this.filterOffers,subcategories:u}),this.renderItems(e)):i?qi.createElement(qi.Fragment,null,qi.createElement("div",{className:e.search},qi.createElement(Ji.FormattedMessage,{id:"groceries.search",defaultMessage:"Showing all results for {keyword}",values:{keyword:i}})),this.renderItems(e)):qi.createElement(qi.Fragment,null,qi.createElement(_A,{accountIds:s,groceriesChangeStoreRef:this.groceriesChangeStoreRef,groceriesStoreSummaryRef:this.groceriesStoreSummaryRef,retailerId:d,retailerIndex:E,retailers:_}),qi.createElement("div",{className:e.groceryResultContainer,ref:this.outerScrollRef},qi.createElement(TA,{retailerId:d,retailerName:null===(t=_[E])||void 0===t?void 0:t.displayName}),!!c.length&&this.renderPreviouslyAddedItems(e),qi.createElement(hA.fz,{type:S.F6k.SINGLE_STORE_SEPARATOR,isGroceryWithProduct:n}),this.renderItems(e)))}render(){const{accountIds:e,brandImage:t,categoryName:s,groceriesWithProductCue:a,isCategorySearch:n,isGroceryWithProduct:r,itemDetailId:o,keyword:i,navigateBack:l,retailerId:c,retailerIndex:d,retailers:E}=this.props,_=gl()(bA(),{isCategorySearch:n,isSearch:i&&!n});return qi.createElement("div",{className:_.groceryContainer,"data-test-id":"grocery-container",onScroll:this.handleScroll,ref:this.groceryContainerRef},qi.createElement(PC,{accountIds:e,brandImage:t,categoryName:s,groceriesWithProductCue:a,handleSort:this.handleSort,isCategorySearch:n,isGroceryWithProduct:r,itemDetailId:o,keyword:i,navigateBack:l,retailerId:c,retailerIndex:d,retailers:E}),this.renderGroceriesResult(_))}}vA(wA,"contextTypes",{navigateTo:zi().func});const GA=(0,Yi.connect)(((e,{listId:t,route:s})=>{var a,n;const{getMainStreamListIds:r,getListsSelectors:o,getOffersSelectors:i,getRetailersSelectors:l,isFeatureEnabled:c,isWindowResizingDone:d,getSelectedAccountId:E}=(0,Gl.selectors)(e),{doesListExist:_,getListStatus:u}=o(),m=r(s),{getBrandImageFromRetailerId:p,getCategoriesFromRetailerIdV2:C,getOrderedRetailers:A,getPreviouslyAddedItems:T,getSubcategories:h,isRetailerLinkable:g}=l(),I=(0,Hl.Q7)(t),R=(0,Hl.Jh)(I),O=m.reduce(((e,t)=>R?S.DAQ.LOADED:_(t)?e===S.DAQ.LOADING||e===S.DAQ.ERROR?e:u(t):S.DAQ.LOADING),S.DAQ.DOES_NOT_EXIST),{doesOfferExist:D,getOfferStreamItems:N}=i(),f=O===S.DAQ.DOES_NOT_EXIST?[]:N(t),M=(0,Hl.h_)(t)||"",L=A(),P=L.findIndex((e=>e.id===M)),y=[E()],b=p(M),F=c(S.ANe.GROCERIES)&&!g(M),U=!g(M)&&c(S.ANe.GROCERIES_PRODUCT_CUE),v=(0,Hl.DB)(I),w=(0,Hl.Fv)(I).split("#"),G=w.map((e=>C(M)[e])),k=w[w.length-1],H=h(k),B=(null===(a=T(M))||void 0===a?void 0:a.filter((e=>D(e.offerId))))||[],x=null===(n=C(M))||void 0===n?void 0:n[k];return{accountIds:y,brandImage:b,categories:G,categoryName:(null==x?void 0:x.displayName)||"Category",groceriesWithProductCue:U,isCategorySearch:v,isGroceryWithProduct:F,isWindowResizingDone:d(),itemDetailId:R,items:f,getItemsInOrder:e=>N(t,e),keyword:I,listId:t,previouslyAddedItems:B,retailerId:M,retailerIndex:P,retailers:L,route:s,status:O,subcategories:H}}),(e=>({navigateBack:t=>e((0,ol.n)(t))})),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&e.status===t.status&&e.isWindowResizingDone===t.isWindowResizingDone&&e.groceriesWithProductCue===t.groceriesWithProductCue&&tc()(e.retailers,t.retailers)&&tc()(e.items,t.items)&&tc()(e.accountIds,t.accountIds)})(wA);var kA=s(35960),HA=s(78414),BA=s.n(HA);const xA=(0,Yi.connect)((e=>{const{getCurrentFolderDetails:t,getFeaturesSelectors:s,getSetting:a}=(0,Gl.selectors)(e),{isEnabled:n}=s(),{isAccountSyncing:r,isEmptyFolderUpsellEligible:o}=t(),i=a(S.Zrf.STATIC_MAIL_PLUS_UPSELL_DATA);return{isAccountSyncing:r,isEmptyFolderUpsellEligible:o,staticMailplusUpsellEligible:n(S.ANe.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER),themeMode:a(S.Zrf.THEME_MODE),...i}}),null)((e=>{const{ctaText:t,impressionTracker:s,isAccountSyncing:a,isEmptyFolderUpsellEligible:n,themeMode:r,offerImg:o,offerImgAlt:i,redirectUrl:l,staticMailplusUpsellEligible:c}=e,d=n&&c,E=r===S.zgU.DARK,_=(0,__.Z)(BA()),u=!(0,g.xb)(o)&&i&&l,m={width:"100%",height:"100%",backgroundColor:E?Ue.FsO:Ue.Cjz,zIndex:1,display:d?"block":"none"};(0,qi.useEffect)((()=>{s&&n&&(0,KE.Z)(s,!1)}),[s,n]);return u?qi.createElement(kA.Z,{top:"0px",left:"0px",position:"absolute",visibility:"visible",rootId:"mail-app-component",styles:m},a&&qi.createElement("div",{"data-test-id":"smu-header",className:_.header},qi.createElement("div",null,qi.createElement("img",{"data-test-id":"empty-img",src:(0,YS.A)("/img/sync_message_1x.png"),srcSet:(0,YS.A)("/img/sync_message_2x.png"),"aria-hidden":!0,className:_.syncImage})),qi.createElement("div",{className:_.syncMessage},qi.createElement("div",null,qi.createElement(Ji.FormattedMessage,{id:"sync_folder_message",defaultMessage:"We're syncing your mailbox."})),qi.createElement("div",{className:_.syncWaitMessage},qi.createElement(Ji.FormattedMessage,{id:"sync_folder_wait_message",defaultMessage:"Check back soon to see your messages."})))),d&&qi.createElement("div",{"data-test-id":"smu-container",className:_.container},qi.createElement("div",{className:_.contentContainer,"aria-label":i||t},qi.createElement("a",{href:l,rel:"noreferrer noopener",target:"_blank",tabIndex:-1,onClick:e=>{Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.EMPTY_FOLDER_STATIC_MAIL_PLUS_UPSELL_CLICK,sec:Rl.nJ.MAIL_PLUS_UPSELL,interactionType:(0,Ca.getInteractionFromEvent)(e)}})},"aria-hidden":!0},qi.createElement("img",{"data-test-id":"empty-img",src:o.oneX,srcSet:(o.twoX||o.oneX)+" 2x",alt:i||t,className:_.offerImg}))))):null})),VA=Ee().create("norrin/empty_folder_video");var WA=s(67373),ZA=s(26482),KA=s.n(ZA),zA=s(34866),qA=s(56148);function YA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const jA=(0,Ji.defineMessages)({hide:{id:"efv_hide",defaultMessage:"Hide"},featured:{id:"efv_featured_channel",defaultMessage:"Featured"},news:{id:"efv_news_channel",defaultMessage:"News"},finance:{id:"efv_finance_channel",defaultMessage:"Finance"},sports:{id:"efv_sports_channel",defaultMessage:"Sports"},lifestyles:{id:"efv_lifestyles_channel",defaultMessage:"Lifestyles"},entertainment:{id:"efv_entertainment_channel",defaultMessage:"Entertainment"}});class QA extends qi.Component{constructor(...e){super(...e),YA(this,"closePlayer",(e=>{e.preventDefault(),this.props.handleCloseVideoPlayer()})),YA(this,"changeChannel",((e,t)=>{t.preventDefault(),this.props.changeChannel(e)})),YA(this,"renderChannels",(()=>{const{currentChannel:e,channels:t,channelData:s}=this.props;return Object.keys(t).map((t=>{const a=t===e,n=gl()(KA(),{active:a}),r=s[t]?s[t].channelName:"";return qi.createElement(zm.Z,{key:t,name:t},qi.createElement(Sl.Z,{kind:pl.F.MENUITEM,onClick:this.changeChannel.bind(this,t),title:r,"aria-label":r},a?qi.createElement("span",{className:n.checkMark},qi.createElement(el.Z,{kind:tl.Kinds.CHECKMARK,size:tl.Sizes.XS,colorState:tl.ColorStates.NORMAL})):null,qi.createElement("span",{className:n.channelTab},r)))}))}))}render(){const{formatMessage:e}=this.context.intl,{currentChannel:t,channelData:s,isDarkTheme:a}=this.props,n=gl()(KA(),{isDarkTheme:a}),r=s[t]?s[t].channelName:"";return qi.createElement("div",{"data-test-id":"efv-toolbar",className:n.container},!this.props.aolVideoPlayer&&qi.createElement(_l.Z,null,qi.createElement(ul.Z,null,qi.createElement("div",{"data-test-id":"efv-channel-list",className:n.categoryFilterContainer},r&&qi.createElement("p",{className:n.categoryFilterHeader},r),qi.createElement($i.default,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"show-list-button",kind:tl.Kinds.CHEVRON_UP,colorState:tl.ColorStates.INHERITED,size:tl.Sizes.S,rotate:tl.Rotate.D180}))),qi.createElement(El.ZP,{triggerOn:ml.K2.CLICK,isArrowVisible:!1,offset:12},qi.createElement("div",null,qi.createElement(Cl.Z,{focusOnMount:!0,"data-test-id":"gpt-list-menu"},this.renderChannels())))),qi.createElement(zA.Z,null),qi.createElement("span",{className:n.closeWrapper},qi.createElement(qA.Z,{"data-test-id":"efv-toolbar-close",kind:tl.Kinds.CLOSE,size:tl.Sizes.XS,onClick:this.closePlayer,title:e(jA.hide),colorStates:{normal:a?tl.ColorStates.WHITE:tl.ColorStates.NORMAL,hovered:tl.ColorStates.SELECTED}})))}}YA(QA,"contextTypes",{intl:Ji.intlShape});const XA=QA;var JA=s(94697),$A=s.n(JA),eT=s(57438);const tT="640px",sT="360px",aT={mute:!0,playlistUI:{show:!0,position:"bottom"},YVAP:{accountId:"1097",timeout:20,vpaidTimeout:20},site:"Mail",html5:!1,expName:"mailemptyfolderHTML5"};var nT=s(25869);class rT extends qi.Component{constructor(){super(),this.handleIframeLoaded=this.handleIframeLoaded.bind(this)}UNSAFE_componentWillReceiveProps(e){this.playerApi&&this.props.play!==e.play&&(e.play?this.playerApi.play():this.playerApi.pause())}handleIframeLoaded(e){this.playerApi||nT.Z.loadScript(this.props.videoPlayerUrl).then((()=>{window.oath&&window.oath.player&&window.oath.player.loadIframeApi(e,(e=>{this.playerApi=e,this.props.play||this.playerApi.pause()}))}))}render(){const{width:e,height:t,videoPlayerIframeSrc:s}=this.props;return qi.createElement("iframe",{"data-test-id":"aol-video-player",ref:this.handleIframeLoaded,src:s,sandbox:"allow-same-origin allow-scripts",allow:"autoplay",allowFullScreen:!0,width:e,height:t,frameBorder:"0"})}}const oT=(0,Yi.connect)((e=>{const{getSetting:t}=(0,Gl.selectors)(e);return{videoPlayerUrl:t(S.Zrf.AOL_VIDEO_PLAYER_URL),videoPlayerIframeSrc:t(S.Zrf.AOL_VIDEO_PLAYER_IFRAME_SRC)}}))(rT);function iT(){return(iT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function lT(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const cT=(0,Ji.defineMessages)({sub_header:{id:"efv_sub_header",defaultMessage:"Catch up on the most popular videos on {yahooBrandNameString}"},inbox:{id:"efv_inbox",defaultMessage:"Inbox"},unread:{id:"efv_unread",defaultMessage:"Unread"},starred:{id:"efv_starred",defaultMessage:"Starred"},draft:{id:"efv_drafts",defaultMessage:"Drafts"},sent:{id:"efv_sent",defaultMessage:"Sent"},archive:{id:"efv_archive",defaultMessage:"Archive"},spam:{id:"efv_spam",defaultMessage:"Spam"},bulk:{id:"efv_spam",defaultMessage:"Spam"},trash:{id:"efv_trash",defaultMessage:"Trash"}});class dT extends qi.Component{constructor(...e){super(...e),lT(this,"logPlayerEvent",((e={},t)=>{let s=e;if("object"==typeof e){const{adBreakId:t,videoId:a,adBreakItemId:n}=e;s={adBreakId:t,videoId:a,adBreakItemId:n}}VA.info("Empty folder video "+t,{payload:s})})),lT(this,"videoPlayerCallbacks",["onAdPlaybackEnd","onPlaybackComplete","onPlaybackError","onAdError","onPlayerError","onLoadError"].reduce(((e,t)=>(e[t]=e=>this.logPlayerEvent(e,t),e)),{})),lT(this,"constructPlayerConfig",(()=>{const{channelData:e,currentChannel:t,spaceId:s,channels:a,autoplay:n,videoPlayerSapiCobrand:r}=this.props,{region:o}=this.context,i=this.context.getThemeMode()===rl.zg.DARK;let l={};for(const _ in e)if(_===t){l=e[_];break}if(!(0,g.u9)(l,"channelVideos.length",null))return null;const c={mediaItems:[{id:l.channelVideos[0].playlistId}],id:a[t.toLowerCase()]},d=r?{pluginConfigs:{"source-metadata-plugin":{"media/sapi":{qs:{"ad.cobrand":r}}}}}:{},E=Object.assign({pageSpaceId:s,region:o,playlist:c,autoplay:n,...d},aT);return i&&(E.playlistUI.theme="dark"),E})),lT(this,"openPlayer",(e=>{e.preventDefault(),this.props.handleOpenVideoPlayer()})),lT(this,"onUIInteract",(e=>{const{srcElement:t}=e,{handleVideoPlay:s,handleVideoPause:a}=this.props;switch(t){case"ctrl-play-btn":return s();case"ctrl-pause-btn":return a();case"ui_pl_thmb_clk":VA.info("Playlist UI clicked")}})),lT(this,"handleMuteToggled",(e=>{this.mute=e})),lT(this,"renderHeader",(()=>{const{yahooBrandNameString:e}=this.context,{showVideoPlayer:t,folderName:s,isSystemFolder:a,isAccountSyncing:n}=this.props,r=this.context.getThemeMode()===rl.zg.DARK,o=gl()($A(),{videoHidden:n||!t||!this._playerConfig,isDarkTheme:r});return n?qi.createElement("div",{"data-test-id":"efv-header",className:o.header},qi.createElement("div",null,qi.createElement("img",{"data-test-id":"empty-img",src:(0,YS.A)("/img/sync_message_1x.png"),srcSet:(0,YS.A)("/img/sync_message_2x.png"),"aria-hidden":!0,className:o.syncImage})),qi.createElement("div",{className:o.syncMessage},qi.createElement("div",null,qi.createElement(Ji.FormattedMessage,{id:"sync_folder_message",defaultMessage:"We're syncing your mailbox."})),qi.createElement("div",{className:o.syncWaitMessage},qi.createElement(Ji.FormattedMessage,{id:"sync_folder_wait_message",defaultMessage:"Check back soon to see your messages."})))):qi.createElement("div",{"data-test-id":"efv-header",className:o.header},qi.createElement(Ji.FormattedMessage,{id:"efv_header",defaultMessage:'Your "{folder_name}" folder is empty',values:{folder_name:qi.createElement("span",{"data-test-id":"efv-folder-name",className:o.folderName},a&&cT[s.toLowerCase()]?qi.createElement(Ji.FormattedMessage,cT[s.toLowerCase()]):s)}}),this._playerConfig?qi.createElement("div",{"data-test-id":"efv-subheader",className:o.subHeader,onClick:t?null:this.openPlayer},qi.createElement(Ji.FormattedMessage,iT({},cT.sub_header,{values:{yahooBrandNameString:e}}))):null)})),lT(this,"onPlaybackStart",((e,t)=>{this.logPlayerEvent(e,t),this.props.showEmptyFolderVideo&&this.props.isAppVisible||this.forceUpdate()})),lT(this,"renderVideoPlayerContent",(()=>{const{isPaused:e,currentChannel:t,showEmptyFolderVideo:s,aolVideoPlayer:a,isAppVisible:n}=this.props,r=this.context.getThemeMode()===rl.zg.DARK,o=gl()($A(),{aolVideoPlayer:a,isDarkTheme:r});return qi.createElement("div",{"data-test-id":s?"efv-container-visible":"efv-container-hidden",className:o.container},qi.createElement(XA,iT({},this.props,{isDarkTheme:r})),qi.createElement("div",{className:o.contentContainer},this.renderHeader(),qi.createElement("div",{"data-test-id":"video-container",className:o.videoContainer},a?qi.createElement(oT,{play:s,width:tT,height:sT}):qi.createElement(WA.Z,iT({playerConfig:this._playerConfig,width:"100%",height:"100%",play:s&&!e&&n,mute:this.mute,showVideoCoverInitially:!s},this.videoPlayerCallbacks,{onUIInteract:this.onUIInteract,onPlaybackStart:e=>this.onPlaybackStart(e,"onPlaybackStart"),onAdPlaybackStart:e=>this.onPlaybackStart(e,"onAdPlaybackStart"),onMute:this.handleMuteToggled,key:t})))))}))}UNSAFE_componentWillMount(){this._playerConfig=this.props.playerConfig||this._playerConfig}render(){const{folderName:e,showVideoPlayer:t,showEmptyFolderVideo:s,aolVideoPlayer:a}=this.props,n=!!e,r={width:"100%",height:"100%",backgroundColor:this.context.getThemeMode()===rl.zg.DARK?Ue.FsO:Ue.Cjz,zIndex:1};return r.display=s?"block":"none",this._playerConfig=a?this._playerConfig||s:this.constructPlayerConfig(),n?qi.createElement(kA.Z,{top:"0px",left:"0px",position:"absolute",visibility:"visible",rootId:"mail-app-component",styles:r},t&&this._playerConfig?this.renderVideoPlayerContent():this.renderHeader()):null}}lT(dT,"contextTypes",{region:zi().string,yahooBrandNameString:zi().string,getThemeMode:zi().func});const ET=(0,Yi.connect)((e=>{const{getVideoPlayerSelectors:t,getVideoChannelsMetaData:s,getFeaturesSelectors:a,getCurrentSpaceId:n,getCurrentFolderDetails:r,isAppVisible:o}=(0,Gl.selectors)(e),{getSetting:i,isEnabled:l}=a(),{listId:c,isSystemFolder:d,formattedFolderName:E,isAccountSyncing:_,isEmptyFolderUpsellEligible:u}=r(),{getCurrentChannel:m,getShowVideoPlayer:p,getIsPaused:C}=t(),A=m(),T=s(),h=C(),g=i(S.Zrf.EMPTY_FOLDER_VIDEO_CHANNELS),I=l(S.ANe.AUTOPLAY_EMPTY_FOLDER_VIDEO),R=l(S.ANe.AOL_VIDEO_PLAYER),O=n();return{currentChannel:A,showVideoPlayer:p()&&!_,channelData:T,isPaused:h,showEmptyFolderVideo:u,channels:g,autoplay:I,folderName:E,isSystemFolder:d,listId:c,spaceId:O,isAccountSyncing:_,aolVideoPlayer:R,videoPlayerSapiCobrand:i(S.Zrf.VIDEO_PLAYER_SAPI_COBRAND),isAppVisible:o()}}),(e=>({handleOpenVideoPlayer(){e((0,eT.Re)())},handleCloseVideoPlayer(){e((0,eT.wq)())},changeChannel(t){e((0,eT.u3)({channelAlias:t}))},handleVideoPlay(){e((0,eT.Fn)())},handleVideoPause(){e((0,eT.Fd)())}})))(dT);var _T=s(93568);function uT(){return(uT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const mT={_data:{},get(e){return this._data[e]||{lastPageScrollTop:0}},set(e,t){this._data[e]=t}};const ST=(0,Yi.connect)(((e,t)=>{const{getSetting:s,isFeatureEnabled:a}=(0,Gl.selectors)(e);return{listId:t.listId,itemListPageThreshold:s(S.Zrf.ITEM_LIST_PAGE_THRESHOLD),isScrollToSearchEnabled:a(S.ANe.SCROLL_TO_SEARCH)}}),(e=>({scrollToSearchPageScroll:t=>e((0,_T.W)(t))})))(function(e){const t=e.displayName,s=t=>{const{listId:s,scrollToSearchPageScroll:a,isScrollToSearchEnabled:n,itemListPageThreshold:r}=t,o=(0,qi.useRef)(mT.get(s).lastPageScrollTop);(0,qi.useEffect)((()=>(o.current=mT.get(s).lastPageScrollTop,()=>{mT.set(s,{lastPageScrollTop:o.current})})),[s]);const i=(0,qi.useCallback)((({newScrollTop:e})=>{n&&Math.abs(e-o.current)>r&&(a({}),o.current=e)}),[n,r,a]),l=E()(t,["itemListPageThreshold","isScrollToSearchEnabled","scrollToSearchPageScroll"]);return qi.createElement(e,uT({handleScrollToBottom:i},l))};return s.displayName=`withScrollNotify(${t})`,s}(Xp.Z));var pT=s(51799);const CT=(0,Ji.defineMessages)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural, =0 {Message list.} one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.} other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}}"}});class AT extends qi.Component{render(){const{previewpane:e,listId:t,haveScrollToTop:s,isInboxFolder:a,showEmptyFolderStaticMailplusUpsell:n,showEmptyFolderVideo:r,route:o,showInlinePrompt:i}=this.props,{formatMessage:l}=this.context.intl,c=this.context.getCss(Qp());if(i)return qi.createElement(pT.Z,null);if(r)return qi.createElement(ET,null);if(n)return qi.createElement(xA,null);if((0,Hl.WN)(t)===S.F6k.OFFER_CARDS)return qi.createElement(GA,{listId:t,route:o});const d=a?ST:Xp.Z;return qi.createElement("div",{className:c.container,"data-test-id":"mail-reader-container",role:"main","aria-label":l(CT.message_list,{previewpane:e})},qi.createElement(d,{listId:t,haveScrollToTop:s}))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(AT,"contextTypes",{intl:Ji.intlShape.isRequired,getCss:zi().func});const TT=(0,Yi.connect)((e=>{const{getFoldersSelectors:t,getFeaturesSelectors:s,getCurrentListId:a,getRoute:n,isFeatureEnabled:r,couldShowEmptyFolderVideo:o}=(0,Gl.selectors)(e),i=a(),l=n(),c=s(),d=function(e){const t=(0,Hl.WN)(e);return t===S.F6k.MESSAGES||t===S.F6k.IMAGES||t===S.F6k.DOCUMENTS}(i),E=t().isInboxFolder((0,Hl.Fh)(i)),_=r(S.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT)&&(0,Hl.cn)(l);return{previewpane:c.getSetting(S.Zrf.PREVIEW_PANE),listId:i,haveScrollToTop:d,isInboxFolder:E,showEmptyFolderVideo:r(S.ANe.EMPTY_FOLDER_VIDEO)&&!r(S.ANe.THEMES_CUE_V3)&&o(),showEmptyFolderStaticMailplusUpsell:r(S.ANe.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER)&&o(),route:l,showInlinePrompt:_}}),(e=>({changeSettings:t=>e((0,Gm.Dy)(t))})))(AT),hT={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"};class gT extends qi.Component{render(){return qi.createElement(Pl.cr,{import:"../../../../molecules/settings/settings",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,37309))},_moduleResolver:function(){return 37309}},qi.createElement(Pl.nA,{loading:!0},qi.createElement("div",{style:hT},qi.createElement(Vu.Z,null))))}}const IT=gT;function RT(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class OT extends qi.Component{constructor(...e){super(...e),RT(this,"navigateToNewSponsoredCompose",(()=>{const e=(0,Ca.generateUID)();this.context.navigateTo({route:(0,wl.Rl)(e),forwardCreativeId:this.props.creativeId})})),RT(this,"saveSponsoredMessage",(()=>{this.props.saveSponsoredMessage({subject:this.props.subject,asset:this.props.asset}),this.context.navigateTo({route:(0,wl.KI)(this.props.listId)})})),RT(this,"onClose",(({i13nModel:e={}}={})=>{this.props.onClose({listId:this.props.listId,i13nModel:e})})),RT(this,"getVideoConfig",(()=>{const{videoAd:e,pageSpaceId:t,geminiVideoAdId:s,site:a,expName:n,expType:r,landingUrl:o}=this.props,{region:i}=this.context,{videoMediaAssets:l,thumbnail:c,clickUrl:d,rules:E,actionUrls:_}=e;return{site:a,expName:n,expType:r,autoplay:!0,html5:!0,mute:!0,pageSpaceId:t,playlist:{mediaItems:[{id:s,images:{thumbnail:c}}]},YVAP:{standaloneAd:{gemini:{mediaInfo:l,clickUrl:d,landingUrl:o},rules:E,beacons:_}},replayonlyendscreen:!0,ccOnMute:!0,region:i}}))}shouldComponentUpdate(e){const t=(0,g.u9)(e,"videoAd.clickUrl"),s=(0,g.u9)(this.props,"videoAd.clickUrl");return!!e.asset&&e.asset!==this.props.asset||!!t&&t!==s}render(){const{conversations:e}=this.props;return this.props.isLoadingGeminiAsset?null:qi.createElement(Pl.cr,{import:"../../../molecules/ads/sponsored_message_read",asset:this.props.asset,listId:this.props.listId,subject:this.props.subject,actionUrls:this.props.actionUrls,forwardCreative:this.props.videoAd?null:this.navigateToNewSponsoredCompose,saveSponsoredMessage:this.props.videoAd?null:this.saveSponsoredMessage,onClose:this.onClose,videoConfig:this.props.videoAd&&this.getVideoConfig(),source:this.props.source,description:this.props.description,action:(0,g.u9)(this.props,"videoAd.callToAction"),emailAddress:this.props.emailAddress,accountName:this.props.accountName,embeddedLandingUrls:this.props.embeddedLandingUrls,conversations:e,isMailPlusUpsellAd:this.props.isMailPlusUpsellAd,isMisclickSponsoredAd:this.props.isMisclickSponsoredAd,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,56064))},_moduleResolver:function(){return 56064}})}}RT(OT,"displayName","SponsoredMessage"),RT(OT,"contextTypes",{region:zi().string,navigateTo:zi().func});const DT=(0,Yi.connect)((e=>{var t;const{getFeaturesSelectors:s,getAdsSelectors:a,getRoute:n,getAccountSelectors:r,getCurrentSpaceId:o,isLoadingGeminiAsset:i,getSelectedAccountId:l}=(0,Gl.selectors)(e),c=s(),d=n(),E=(0,g.u9)(d,"params.creativeId"),_=o(),u=(0,Hl.LY)(d),m=a(),p=c.isEnabled(S.ANe.CONVERSATIONS),{getSponsoredAd:C}=m,A=c.getSetting(S.Zrf.GEMINI_VIDEO_AD_ID),T=c.getSetting(S.Zrf.GEMINI_VIDEO_AD_SITE),h=c.getSetting(S.Zrf.GEMINI_VIDEO_AD_EXP_NAME),I=c.getSetting(S.Zrf.GEMINI_VIDEO_AD_EXP_TYPE),{nativeAd:R={},pencilAd:O={},videoAd:D}=C(E)||{},N=(0,g.u9)(R,"actionUrls",{}),{getAccountNameByAccountId:f,getAccountEmailByAccountId:M}=r(),L=l(),P=f(L),y=M(L),b=m.isNativeMailPlusUpsellAd(),F=c.isEnabled(S.ANe.MAIL_PLUS_SPONSORED_MESSAGE_ON_AD_MISCLICK)&&1===parseInt(null==d||null===(t=d.params)||void 0===t?void 0:t.isMisclickSponsoredAd,10);return{videoAd:D,pageSpaceId:_,geminiVideoAdId:A,site:T,expName:h,expType:I,creativeId:E,listId:u,asset:R.geminiSponsoredAsset,subject:O.adHeadline,actionUrls:N,source:O.adSource,description:O.adSummary,accountName:P,emailAddress:y,embeddedLandingUrls:R.embeddedLandingUrls,isLoadingGeminiAsset:i(),landingUrl:O.landingUrl,conversations:p,isMailPlusUpsellAd:b,isMisclickSponsoredAd:F}}),(e=>({saveSponsoredMessage:t=>e((0,hu.a5)(t)),onClose:t=>e((0,ol.I3)(t))})))(OT);var NT=s(70426),fT=s.n(NT);const MT=gl()(fT());class LT extends qi.Component{render(){return qi.createElement(Pl.cr,{import:"../../../../molecules/tutorial/index",newMailVideoId:this.props.newMailVideoId,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,95188))},_moduleResolver:function(){return 95188}},qi.createElement(Pl.nA,{loading:!0},qi.createElement("div",{className:MT.container},qi.createElement(Vu.Z,null))))}}const PT=(0,Yi.connect)((e=>{const{getFeaturesSelectors:t}=(0,Gl.selectors)(e);return{newMailVideoId:t().getSetting("newMailVideoId")}}))(LT);function yT(){return(yT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const bT={[S.c7l.COMPOSE]:qp,[S.c7l.MESSAGE]:Yp.ZP,[S.c7l.MAIL_READER]:TT,[S.c7l.SETTINGS]:IT,[S.c7l.SPONSORED_MESSAGE]:DT,[S.c7l.TUTORIAL]:PT,[S.c7l.SUBSCRIPTION_LIST]:function(e){return qi.createElement(Pl.cr,yT({import:"./subscription_list",bundleName:"subscriptions"},e,{_moduleLoader:function(){return s.e(841).then(s.bind(s,42270))},_moduleResolver:function(){return 42270}}),qi.createElement(Pl.nA,{loading:!0},qi.createElement("div",{style:{height:"100%"}},qi.createElement(Vu.Z,{flex:!0}))))},[S.c7l.STOREFRONT]:function(e){return qi.createElement(Pl.cr,yT({import:"./storefront_viewer"},e,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,4655))},_moduleResolver:function(){return 4655}}),qi.createElement(Pl.nA,{loading:!0},qi.createElement("div",{style:{height:"100%"}},qi.createElement(Vu.Z,{flex:!0}))))}},FT={[S.n8z.LIST]:bT[S.c7l.MAIL_READER],[S.n8z.BASE]:bT[S.c7l.MAIL_READER],[S.n8z.FOLDER]:bT[S.c7l.MAIL_READER],[S.n8z.SEARCH]:bT[S.c7l.MAIL_READER],[S.n8z.MESSAGE_FROM_LIST]:bT[S.c7l.MESSAGE],[S.n8z.MESSAGE_FROM_SEARCH_LIST]:bT[S.c7l.MESSAGE],[S.n8z.MESSAGE_FROM_FOLDER_LIST]:bT[S.c7l.MESSAGE],[S.n8z.NEW_DRAFT]:bT[S.c7l.COMPOSE],[S.n8z.EDIT_DRAFT]:bT[S.c7l.COMPOSE],[S.n8z.SPONSORED_MESSAGE]:bT[S.c7l.SPONSORED_MESSAGE],[S.n8z.SETTINGS]:bT[S.c7l.SETTINGS],[S.n8z.TUTORIAL]:bT[S.c7l.TUTORIAL],[S.n8z.SUBSCRIPTION_LIST]:bT[S.c7l.SUBSCRIPTION_LIST],[S.n8z.STOREFRONT]:bT[S.c7l.STOREFRONT],[S.n8z.FOCUSED_INBOX]:bT[S.c7l.MAIL_READER]};class UT extends qi.Component{render(){const e=FT[this.props.route.name];return qi.createElement(e,this.props)}}const vT=(0,Yi.connect)((e=>{const{getRoute:t}=(0,Gl.selectors)(e);return{route:t()}}),(e=>({changeSettings:t=>e((0,Gm.Dy)(t))})))(UT);function wT(e,t){e.dispatch(nc.WINDOW_RESIZING,t)}function GT(e){e.dispatch(nc.WINDOW_RESIZED)}var kT=s(56773),HT=s.n(kT),BT=s(92803),xT=s(88760),VT=s.n(xT),WT=s(32440);const ZT=(0,Ji.defineMessages)({new_subject:{id:"compose_mode.new_subject",defaultMessage:"New Message"},minimize:{id:"compose_mode.minimize",defaultMessage:"Minimize"},maximize:{id:"compose_mode.maximize",defaultMessage:"Maximize"},full_screen:{id:"compose_mode.full_screen",defaultMessage:"Full screen"},save_and_close:{id:"compose_mode.save_and_close",defaultMessage:"Save & close"}}),KT=Ue.lao-Ue.BOt,zT=(0,Yi.connect)(((e,{csid:t})=>{const{getRoute:s,getDraftMessageId:a,getMessageSubject:n,getReplyingToMessageId:r,doesComposeSessionExist:o,findUnsyncedDataByCsid:i,getWindowDimensions:l,isFeatureEnabled:c}=(0,Gl.selectors)(e);let d="";if(o(t)){const e=(0,Hl.LY)(s()),o=a(t)||r(t);d=o?n(o,e):""}d||(d=(i(t)||{}).subject);const{ybarHeight:E}=l(),_=c(S.ANe.SHOW_TABS);return{csid:t,subject:d,unavailableHeight:E+Ue.k5G+Ue.BOt+(_?Ue.w_K:0)}}),(e=>({onMaximize:t=>e((0,ol.Ch)(t)),onClose:t=>e((0,WT.bU)(t)),onMinimize:t=>e((0,WT.Lg)(t))})))((({csid:e,subject:t,isMinimized:s,isHidden:a,onClose:n,onToggle:r,onMaximize:o,unavailableHeight:i,onMinimize:l,rightRailWidth:c})=>{const[d,E]=(0,qi.useState)(KT),_=(0,__.Z)(VT(),{isMinimized:s&&!a,isHidden:s&&a}),{formatMessage:u}=(0,Gu.Y)(),m=t||u(ZT.new_subject),S=(0,qi.useCallback)((()=>n({csids:[e]})),[e,n]),p=(0,qi.useCallback)((t=>{o({route:(0,wl.Rl)(e),i13nModel:{mKey:Rl.JE.COMPOSE_FULL_SCREEN,sec:Rl.nJ.COMPOSE_TOPBAR,interactionType:(0,Ca.getInteractionFromEvent)(t)}})}),[e,o]),C=(0,qi.useCallback)((()=>{r(e,!s),l({csid:e})}),[e,s,r,l]);return(0,qi.useLayoutEffect)((()=>{function e(){E(Math.min(KT,window.innerHeight-i))}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[i]),qi.createElement("div",{className:_.container,"data-test-id":"compact-compose-item",style:s?{right:`-${c-2*Ue.mg$}px`,top:-5*Ue.mg$+"px",transition:"right top .3s ease"}:{}},qi.createElement("div",{className:_.topBar},qi.createElement("div",{role:"button",title:m,onClick:C,className:_.subjectContainer},qi.createElement("p",{className:_.subjectStyle},m)),qi.createElement("div",{className:_.buttonsStyle},qi.createElement($i.default,{size:tl.Sizes.XS,onClick:C,colorState:tl.ColorStates.INVERTED,kind:s?tl.Kinds.WINDOW_BOX:tl.Kinds.UNDERSCORE,title:u(s?ZT.maximize:ZT.minimize),tabIndex:0}),qi.createElement($i.default,{size:tl.Sizes.XS,kind:tl.Kinds.EXPAND,onClick:p,colorState:tl.ColorStates.INVERTED,title:u(ZT.full_screen),tabIndex:0}),qi.createElement($i.default,{size:tl.Sizes.XS,kind:tl.Kinds.CLOSE,onClick:S,colorState:tl.ColorStates.INVERTED,title:u(ZT.save_and_close),tabIndex:0}))),qi.createElement("div",{style:{height:`${d}px`},className:_.content},!s&&qi.createElement("div",{className:_.composeStyler},qi.createElement(xp.ZP,{csid:e,isCompactCompose:!0,showCloseButton:!1}))))})),qT=(e,t,s)=>{const a=t-s-Ue.GZk,n=[];let r=0;for(let o=0;o<e.length;o++){const t=e[o],{isMinimized:s}=t;r+=s?0:Ue.Zbf,s?n.push({...t}):r<=a||0===o?n.push({...t,isHidden:!1}):n.push({...t,isMinimized:!0,isHidden:!0})}return n};var YT=s(18886),jT=s.n(YT),QT=s(53681),XT=s.n(QT);const JT=(0,Ji.defineMessages)({new_subject:{id:"compose_mode.new_subject",defaultMessage:"New Message"},close:{id:"close",defaultMessage:"Close"}}),$T=(0,Yi.connect)(((e,{csid:t})=>{const{doesComposeSessionExist:s,getRoute:a,getDraftMessageId:n,getReplyingToMessageId:r,getMessageSubject:o,findUnsyncedDataByCsid:i}=(0,Gl.selectors)(e);let l="";if(s(t)){const e=(0,Hl.LY)(a()),s=n(t)||r(t);l=s?o(s,e):""}return l||(l=(i(t)||{}).subject),{subject:l}}),null)((e=>{const[t,s]=(0,qi.useState)(!1),a=(0,__.Z)(XT(),{hovered:t}),{formatMessage:n}=(0,Gu.Y)(),{csid:r,subject:o,onClose:i,onBringToFront:l}=e,c=e=>{switch(e.type){case"mouseover":case"focus":s(!0);break;case"mouseleave":case"blur":s(!1)}},d=(0,qi.useCallback)((e=>{e.stopPropagation(),i({csids:[r]})}),[r,i]),E=(0,qi.useCallback)((()=>{l(r,!1)}),[r,l]);return qi.createElement($u.Z,{circularNavigation:!1,axis:$u.U.HORIZONTAL,className:a.container,groupTabIndex:Ue.iUz.MESSAGE_LIST_TOOLBAR,onMouseOver:c,onMouseLeave:c},qi.createElement(Sl.Z,{kind:pl.F.MENUITEM,onClick:E,className:a.draftItemContainer,"data-iskeynav":!0,onFocus:c,onBlur:c},qi.createElement("span",{className:a.textContainer},o||n(JT.new_subject))),qi.createElement($i.default,{kind:tl.Kinds.CLOSE_MINI,size:tl.Sizes.XS,colorState:tl.ColorStates.INHERITED,"data-test-id":"draft-item-close-btn",title:n(JT.close),className:a.closeBtn,onClick:d,"data-iskeynav":!0,onFocus:c,onBlur:c}))})),eh=(0,Ji.defineMessages)({draft:{id:"compose_float_button_draft",defaultMessage:"{count} {count, plural, one {Draft} other {Drafts}}"},closeAll:{id:"compose_float_button_closeall",defaultMessage:"Close all drafts"}}),th=(0,Yi.connect)(null,(e=>({onClose:t=>e((0,WT.bU)(t))})))((e=>{const{onClose:t,csids:s,onBringToFront:a,isSettingsRoute:n,opaqueBackground:r,status:o}=e,i=(0,__.Z)(jT(),{isSettingsRoute:n,opaqueBackground:r,entered:"entered"===o}),{formatMessage:l}=(0,Gu.Y)(),c=l(eh.draft,{count:s.length}),d=s.map((e=>qi.createElement(zm.Z,{name:`draft-item-${e}`,key:e},qi.createElement($T,{csid:e,onClose:t,onBringToFront:a})))),E=(0,qi.useCallback)((()=>t({csids:s})),[s,t]);return qi.createElement(_l.Z,{className:i.popoverContainer},qi.createElement(ul.Z,null,qi.createElement("div",{className:i.container},qi.createElement("button",{className:i.btnContainer,title:c},qi.createElement("div",{className:i.iconButton},qi.createElement(el.Z,{size:tl.Sizes.XS,kind:tl.Kinds.WINDOW_BOX,colorState:tl.ColorStates.INHERITED}))))),qi.createElement(El.ZP,{triggerOn:ml.K2.CLICK,permittedArrowDirections:[ml.Ji.DOWN],align:ml.xM.END,zAltitude:Ue.LSY.POPOVER.HIGH,"data-test-id":"draft-float-button-popover",popoverClassName:i.popoverClassName},qi.createElement("div",{className:i.popoverListWrapper},qi.createElement(Cl.Z,{focusOnMount:!0,isRestrictedHeight:!0,disableHorizontalNavigation:!0},d,qi.createElement(zm.Z,{name:"close-all-draft"},qi.createElement(Sl.Z,{kind:pl.F.MENUITEM,onClick:E,className:i.closeAllContainer,"data-test-id":"close-all-draft-button"},qi.createElement("span",{className:i.textContainer},l(eh.closeAll))))))))}));var sh=s(80552);const ah=(0,Yi.connect)((e=>{const{getCompactComposeSessions:t,getRightRailWidth:s,getEnvironmentSelectors:a,getRoute:n,getRightRailPanes:r}=(0,Gl.selectors)(e),{getWindowDimensions:o}=a(),i=n().name===S.n8z.SETTINGS,l=r().some((e=>[S._Ab.ContactsPane,S._Ab.CalendarPane,S._Ab.RightPaneAds].includes(e)));return{composePanels:t(),rightRailWidth:s(),innerWidth:o().innerWidth,isSettingsRoute:i,opaqueBackground:l}}),null)((({composePanels:e=[],rightRailWidth:t,innerWidth:s,isSettingsRoute:a,opaqueBackground:n})=>{const r=gl()(Wp()),[o,i]=(0,qi.useState)(e);(0,qi.useEffect)((()=>{if(o.length!==e.length||!o.every((({csid:t})=>e.find((e=>e.csid===t)))))if(o.length>e.length)i(o.filter((({csid:t})=>e.find((e=>e.csid===t)))));else{const t=[];e.forEach((e=>{o.find((({csid:t})=>t===e.csid))||t.push(e)})),i([...t,...o])}}),[e,o]),(0,qi.useLayoutEffect)((()=>{const e=qT(o,s,t);tc()(e,o)||i(e)}),[s,t,o]);const l=(e,a)=>{let n=o.map((t=>(t.csid===e&&(t.isMinimized=!t.isMinimized,t.isHidden=!a),t)));if(!a){n=qT(n,s,t);const a=n.find((t=>t.csid===e));if(a.isMinimized){const t=n.filter((t=>t.csid!==e));a.isMinimized=!1,n=[a,...t]}}i(n)},c=o.some((e=>e.isMinimized)),d=o.reduce(((e,t)=>(t.isMinimized&&e.push(t.csid),e)),[]);return qi.createElement("div",{className:r.stackPanelWrapper,"data-test-id":"compact-compose-container"},qi.createElement("div",{className:r.stackRow,style:{paddingRight:`${t}px`}},o.map((({csid:e,isMinimized:s,isHidden:a=!1})=>qi.createElement(zT,{csid:e,isMinimized:s,isHidden:a,onToggle:l,status,key:e,rightRailWidth:t})))),qi.createElement(sh.uT,{in:c,timeout:400,mountOnEnter:!0,unmountOnExit:!0},(e=>qi.createElement(th,{csids:d,onBringToFront:l,isSettingsRoute:a,opaqueBackground:n,status:e}))))}));function nh(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const rh="norrin-wide",oh="bold-focus",{PRE_SIGNUP_LIGHTBOX:ih,FREE_TRIAL_ENDING_NOTICATION_2:lh,FREE_TRIAL_LAST_DAY_NOTIFICATION:ch,FREE_TRIAL_EXPIRED_NOTIFICATION:dh}=S.$AH,Eh=(0,Ji.defineMessages)({main_nav:{id:"landmark.folders_nav",defaultMessage:"Folder"}});class _h extends qi.Component{constructor(...e){super(...e),nh(this,"_renderMainNav",(e=>{const{formatMessage:t}=this.context.intl;return qi.createElement("nav",{className:e.mainNavigation,role:"navigation","aria-label":t(Eh.main_nav),"data-yaft-module":"norrin_navigation"},qi.createElement(Bp,this.props))})),nh(this,"_renderLeftRail",(e=>qi.createElement("div",{className:this.props.hasWideLogo?e.leftRailWide:e.leftRail,"data-test-id":"mail-left-rail"},this._renderMainNav(e)))),nh(this,"_renderRightRail",(()=>{const{hasAttachmentPreview:e,windowDimensions:t}=this.props;return qi.createElement(vm,{hasAttachmentPreview:e,windowDimensions:t})})),nh(this,"_renderCue",(e=>{switch(e){case S.ANe.ADBLOCK_UPSELL_CUE:return qi.createElement(Pl.cr,{import:"../adblock_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,7378))},_moduleResolver:function(){return 7378}});case S.ANe.RIGHT_RAIL_AD_FREE_UPSELL_CUE:return qi.createElement(Pl.cr,{import:"../right_rail_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,5659))},_moduleResolver:function(){return 5659}});case S.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE:return qi.createElement(Pl.cr,{import:"../adblock_to_nodin_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,74610))},_moduleResolver:function(){return 74610}});case S.ANe.AUTO_FORWARD_CUE:return qi.createElement(Pl.cr,{import:"../auto_forward/auto_forward_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,56388))},_moduleResolver:function(){return 56388}});case S.ANe.ADBLOCK_DELAY_DISMISS_CUE:return qi.createElement(Pl.cr,{import:"../adblock_delay_dismiss_cue",cueName:e,computeActionData:()=>({renderCount:(0,BT.SU)()+1}),_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,61547))},_moduleResolver:function(){return 61547}});case S.ANe.GDPR_WARNING_CUE:return qi.createElement(Pl.cr,{import:"../gdpr_warning_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,68855))},_moduleResolver:function(){return 68855}});case S.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL:return qi.createElement(Pl.cr,{import:"../mailpro_to_mailplus_upsell",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,72132))},_moduleResolver:function(){return 72132}});default:return}})),nh(this,"_renderUpdateWiderMailCue",(()=>qi.createElement(Pl.cr,{import:"../update_wider_mail_cue",cueName:S.ANe.UPDATE_WIDER_MAIL_CUE,userDisplayName:this.props.userDisplayName,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,39261))},_moduleResolver:function(){return 39261}}))),nh(this,"_renderThemesCueV3",(()=>qi.createElement(Pl.cr,{import:"../themes_cue_v3",cueName:S.ANe.THEMES_CUE_V3,userDisplayName:this.props.userDisplayName,photoThemes:this.props.photoThemes,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,77990))},_moduleResolver:function(){return 77990}}))),nh(this,"_renderNpsSurveyCue",(()=>qi.createElement(Pl.cr,{import:"../nps_survey_cue",cueName:S.ANe.NPS_SURVEY_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,77050))},_moduleResolver:function(){return 77050}}))),nh(this,"_renderNextGenHomeCue",(()=>qi.createElement(Pl.cr,{import:"../next_gen_home_cue",cueName:S.ANe.NEXT_GEN_HOME_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,46889))},_moduleResolver:function(){return 46889}}))),nh(this,"_renderNewUserTasksCue",(()=>qi.createElement(Pl.cr,{import:"../new_onboarding_cue_v1",cueName:S.ANe.NEW_USER_TASKS_CUE,userDisplayName:this.props.userDisplayName,photoThemes:this.props.photoThemes,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,13753))},_moduleResolver:function(){return 13753}}))),nh(this,"_renderPartnerReconsentBanner",(()=>qi.createElement(Pl.cr,{import:"../reconsent_cue",cueName:S.ANe.PARTNER_RECONSENT_BANNER,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,14689))},_moduleResolver:function(){return 14689}}))),nh(this,"_renderLastPassFreeTrialUpsell",(()=>qi.createElement(Pl.cr,{import:"../lastpass_freetrial",cueName:S.ANe.LASTPASS_FREETRIAL_UPSELL,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,40054))},_moduleResolver:function(){return 40054}}))),nh(this,"_renderAmazonPrimeDayUpsell",(()=>qi.createElement(Pl.cr,{import:"../amazon_prime_day_cue",cueName:S.ANe.AMAZON_PRIME_DAY_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,66470))},_moduleResolver:function(){return 66470}}))),nh(this,"_renderBrandMenuFeedbackUpsell",(()=>qi.createElement(Pl.cr,{import:"../storefront_view/atoms/brand_shortcuts_feedback",cueName:S.ANe.BRAND_MENU_FEEDBACK_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,3880))},_moduleResolver:function(){return 3880}}))),nh(this,"tmrOnboardingCueActionData",(()=>({atosStatus:this.props.tmrAtosStatus,tmrOnboardingCount:this.props.tmrOnboardingCount,userSegmentId:this.props.userSegmentId}))),nh(this,"_renderMembershipRewardsOnboarding",(()=>qi.createElement(Pl.cr,{import:"../membership_rewards/onboarding_cue",cueName:S.ANe.TMR_ONBOARDING_CUE,computeActionData:this.tmrOnboardingCueActionData,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,93408))},_moduleResolver:function(){return 93408}}))),nh(this,"_renderYMobilePromoUpsells",(()=>qi.createElement(Pl.cr,{import:"../ymobile_promo_upsells/index",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,1387))},_moduleResolver:function(){return 1387}}))),nh(this,"_renderYpmpPromoUpsells",(()=>qi.createElement(Pl.cr,{import:"../ymobile_promo_upsells/ypmp_upsell.jsx",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,23761))},_moduleResolver:function(){return 23761}}))),nh(this,"_renderYptGamerUpsells",(()=>qi.createElement(Pl.cr,{import:"../ymobile_promo_upsells/ypt_gamer_upsell.jsx",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,58616))},_moduleResolver:function(){return 58616}}))),nh(this,"_renderDispatcherUpsell",(()=>{const{showDispatcherUpsell:e,showTouchpointUpsell:t}=this.props;return e?qi.createElement(Pl.cr,{import:"../dispatcher_upsells/index",cueName:S.ANe.DISPATCHER_UPSELLS,settingName:S.Zrf.DISPATCHER_UPSELL_DATA,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,34279))},_moduleResolver:function(){return 34279}}):t?qi.createElement(Pl.cr,{import:"../dispatcher_upsells/index",cueName:S.ANe.TOUCHPOINT_UPSELL,settingName:S.Zrf.TOUCHPOINT_UPSELL_DATA,showUnsubscribeButton:!1,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,34279))},_moduleResolver:function(){return 34279}}):null})),nh(this,"_renderFreeTrialLightboxNotification",(()=>{const e={upsellId:this.props.upsellId};return qi.createElement(Pl.cr,{import:"../../atoms/mailpro_free_trial/lightbox_notification",cueName:S.ANe.MAILPRO_FREE_TRIAL_UPSELLS,computeUserResponse:()=>this.props.upsellId,computeActionData:()=>e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,97502))},_moduleResolver:function(){return 97502}})})),nh(this,"_executeWindowResizingAction",(()=>{this._innerContainer&&this.context.executeAction(wT,{screenWidth:window.screen.width,screenHeight:window.screen.height,innerWidth:window.innerWidth,innerHeight:window.innerHeight,contentAndRightRailWidth:this._innerContainer.clientWidth,contentAndRightRailHeight:this._innerContainer.clientHeight,ybarHeight:this.ybarHeight})})),nh(this,"_updateAppMinWidth",(e=>{e.hasAttachmentPreview||e.previewPaneSetting===S.EsZ.RIGHT?document.body.classList.add(rh):document.body.classList.remove(rh)})),nh(this,"_flagForBoldFocusFeature",(e=>{e.useBoldFocus?document.body.classList.add(oh):document.body.classList.remove(oh)}))}UNSAFE_componentWillReceiveProps(e){this.props.hasAttachmentPreview===e.hasAttachmentPreview&&this.props.previewPaneSetting===e.previewPaneSetting||this._updateAppMinWidth(e)}componentDidMount(){const e=document.querySelectorAll("#ybar");this.ybarHeight=e&&e.length&&e[0].clientHeight||0,this._updateAppMinWidth(this.props),this._flagForBoldFocusFeature(this.props),this._executeWindowResizingAction(),window.addEventListener("resize",this._executeWindowResizingAction)}componentDidUpdate(){this.props.isWindowResizingDone&&this.context.executeAction(GT)}componentWillUnmount(){this._innerContainer=null,window.removeEventListener("resize",this._executeWindowResizingAction)}render(){const{previewPaneSetting:e,isSettings:t,isCompactComposeEnabled:a}=this.props,n=e===S.EsZ.RIGHT,r=this.context.getCss(HT(),{verticalPreviewPane:n,...(0,rl.OW)(this.context)});return qi.createElement("div",{className:r.shadedContainer,"data-test-id":"content-area"},qi.createElement("div",{className:r.container,"data-test-id":"content-below-tabs"},t?null:this._renderLeftRail(r),this.props.showAccountAuthWindow&&qi.createElement(Pl.cr,{import:"../../molecules/account_auth_window",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,44499))},_moduleResolver:function(){return 44499}}),this.props.showThemesCueV3&&this._renderThemesCueV3(),this.props.newUserTasksCue&&this._renderNewUserTasksCue(),this.props.showGDPRWarningCue&&this._renderCue(S.ANe.GDPR_WARNING_CUE),this.props.showNpsSurveyCue&&this._renderNpsSurveyCue(),this.props.showNextGenHomeCue&&this._renderNextGenHomeCue(),this.props.showAdBlockUpsellCue&&this._renderCue(S.ANe.ADBLOCK_UPSELL_CUE),this.props.showAdBlockToNodinCue&&this._renderCue(S.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE),this.props.showAdBlockDelayDismissCue&&this._renderCue(S.ANe.ADBLOCK_DELAY_DISMISS_CUE),this.props.showRightRailAdFreeUpsellCue&&this._renderCue(S.ANe.RIGHT_RAIL_AD_FREE_UPSELL_CUE),this.props.showUpdateWiderMailCue&&this._renderUpdateWiderMailCue(),this.props.showPartnerReconsentBanner&&this._renderPartnerReconsentBanner(),this._renderDispatcherUpsell(),this.props.showMailPlusFeaturesUpsell&&qi.createElement(Pl.cr,{import:"../mail_plus_features_upsell/index",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,53232))},_moduleResolver:function(){return 53232}}),this.props.showYMobilePromoUpsells&&this._renderYMobilePromoUpsells(),this.props.showYpmpPromoUpsells&&this._renderYpmpPromoUpsells(),this.props.showYptGamerUpsells&&this._renderYptGamerUpsells(),this.props.showLastPassFreeTrialUpsell&&this._renderLastPassFreeTrialUpsell(),this.props.showAmazonPrimeDayUpsell&&this._renderAmazonPrimeDayUpsell(),this.props.showMembershipRewardsOnboarding&&this._renderMembershipRewardsOnboarding(),this.props.showLightboxNotification&&this._renderFreeTrialLightboxNotification(),this.props.showAutoForwardCue&&this._renderCue(S.ANe.AUTO_FORWARD_CUE),this.props.showBrandMenuFeedbackUpsell&&this._renderBrandMenuFeedbackUpsell(),this.props.showMailProToMailPlusupsell&&this._renderCue(S.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL),qi.createElement("div",{className:r.widthRestrictor,ref:e=>{this._innerContainer=e},id:"mail-app-component-container"},qi.createElement("div",{className:r.mainContent,"data-yaft-module":"norrin_main","data-test-id":"mail-app-component",id:"mail-app-component"},qi.createElement(vT,this.props),a&&qi.createElement(ah,null)),t?null:this._renderRightRail())))}}nh(_h,"contextTypes",{executeAction:zi().func,intl:Ji.intlShape.isRequired,getCss:zi().func,config:zi().object,getThemeMode:zi().func,getTheme:zi().func});const uh=(0,Yi.connect)((e=>{var t;const{isFeatureEnabled:s,getSetting:a,getWindowDimensions:n,isWindowResizingDone:r,getRoute:o,getRouteParams:i,getLaunchError:l,getSortOrderForFolderRoute:c,getSelectedAccountId:d,getAccountNameByAccountId:E,getSocialAccountSelectors:_,getMembershipRewardsSelectors:u,getFeatureCueSelectors:m,getEnvironmentSelectors:p,getMailPremiumFreeTrialSelectors:C,isStorefrontRoute:A,getComposeFormatsSelectors:T}=(0,Gl.selectors)(e),h=a(S.Zrf.PREVIEW_PANE),I=l(),R=o(),O=i(),D=(0,Hl.LY)(R),N=s(S.Zrf.HIDE_AD),f=s("photoThemes"),M=a(S.Zrf.PARTNER_BRAND),L=O.attachmentId&&"1"!==R.query.fullscreen,P=E(d()),y=(null===(t=p().getUserSegmentData().WEB_DESKTOP)||void 0===t?void 0:t.segment_id)||"",b=s(S.ANe.COMPACT_COMPOSE)&&!!T().getAllComposeFormats().length,F=C().getUpsellId(),U=[ih,lh,ch,dh].indexOf(F)>-1,v=s(S.ANe.MAILPRO_FREE_TRIAL_UPSELLS)&&U,w=s(S.ANe.DISPATCHER_UPSELLS)&&!(0,g.xb)(a(S.Zrf.DISPATCHER_UPSELL_DATA)),G=s(S.ANe.TOUCHPOINT_UPSELL)&&!(0,g.xb)(a(S.Zrf.TOUCHPOINT_UPSELL_DATA)),k=a(S.ANe.MAIL_PLUS_FEATURES_UPSELL),H=!(!k||!k.plusFeatureRequested),B=s(S.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL);return{listId:D,previewPaneSetting:h,windowDimensions:n(),isWindowResizingDone:r(),folderListSortOrder:c(),isSettings:R.name===S.n8z.SETTINGS,hideAdUpsellSetting:N,hasAttachmentPreview:L,photoThemes:f,partnerBrand:M,useBoldFocus:s(S.ANe.BOLD_FOCUS),userDisplayName:P,launchError:I,newUserTasksCue:s(S.ANe.NEW_USER_TASKS_CUE),showNextGenHomeCue:s(S.ANe.NEXT_GEN_HOME_CUE),showNpsSurveyCue:s(S.ANe.NPS_SURVEY_CUE),showThemesCueV3:s(S.ANe.THEMES_CUE_V3),showUpdateWiderMailCue:s(S.ANe.UPDATE_WIDER_MAIL_CUE),showAdBlockUpsellCue:s(S.ANe.ADBLOCK_UPSELL_CUE),showAdBlockToNodinCue:s(S.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE),showAdBlockDelayDismissCue:s(S.ANe.ADBLOCK_DELAY_DISMISS_CUE),showRightRailAdFreeUpsellCue:s(S.ANe.RIGHT_RAIL_AD_FREE_UPSELL_CUE),showPartnerReconsentBanner:s(S.ANe.PARTNER_RECONSENT_BANNER),showAutoForwardCue:s(S.ANe.AUTO_FORWARD_CUE),showLastPassFreeTrialUpsell:s(S.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE)&&s(S.ANe.LASTPASS_FREETRIAL_UPSELL),showYMobilePromoUpsells:s(S.ANe.YMOBILE_PROMO_UPSELLS),showYpmpPromoUpsells:s(S.ANe.YPMP_PROMO_UPSELLS),showYptGamerUpsells:s(S.ANe.YPT_GAMER_UPSELLS),hasAds:s(S.ANe.ADS),hasWideLogo:s(S.Zrf.HAS_WIDE_LOGO),showAccountAuthWindow:_().showAuthWindow(),showAmazonPrimeDayUpsell:s(S.ANe.AMAZON_PRIME_DAY_CUE),showMembershipRewardsOnboarding:s(S.ANe.TMR_ONBOARDING_CUE),showBrandMenuFeedbackUpsell:s(S.ANe.BRAND_MENU_FEEDBACK_CUE)&&A(),tmrAtosStatus:u().getAtosStatus(),tmrOnboardingCount:m().getUserResponse(S.ANe.TMR_ONBOARDING_CUE),userSegmentId:y,showLightboxNotification:v,upsellId:F,showDispatcherUpsell:w,showTouchpointUpsell:G,showMailPlusFeaturesUpsell:H,showGDPRWarningCue:s(S.ANe.GDPR_WARNING_CUE),isCompactComposeEnabled:b,showMailProToMailPlusupsell:B}}))(_h);function mh(e,{listId:t}){e.dispatch(nc.BROWSER_NOTIFICATIONS_DISPLAYED,{listId:t})}var Sh=s(40561);function ph(e){return{timestamp:1e3*e.headers.date,id:e.id,folderId:e.folder.id}}function Ch(e){return{titleFormatOptions:function(e){return{newMessageCount:e.length}}(e),bodyFormatOptions:function(e){const t=function(e){return Js()(e.map(Ah))}(e),s={senderCount:t.length};t.length>=1&&(s.senderOne=t[0]);t.length>=2&&(s.senderTwo=t[1]);t.length>=3&&(s.senderThree=t[2]);t.length>3&&(s.remainingSenderCount=t.length-3);return s}(e)}}function Ah(e){const t=e.headers.from[0]||{};return t.name||t.email||""}function Th(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class hh extends qi.Component{constructor(...e){super(...e),Th(this,"_displayNotification",(({title:e,options:t,onClick:s})=>{const a=new window.Notification(e,t);s&&a.addEventListener("click",s)}))}componentDidMount(){const{notification:{title:e,options:t,onClick:s}}=this.props;this._displayNotification({title:e,options:t,onClick:s})}render(){return null}}Th(hh,"contextTypes",{config:zi().object});const gh=hh;function Ih(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Rh=(0,YS.A)("/img/desktop_notification_icon_1x.png"),Oh=(0,Ji.defineMessages)({summaryNotificationTitle:{id:"summary_notification_title",defaultMessage:"You have {newMessageCount, number} new messages"},summaryNotificationBody:{id:"summary_notification_body",defaultMessage:"From {senderCount, plural, =1 {{senderOne}} =2 {{senderOne} and {senderTwo}} =3 {{senderOne}, {senderTwo}, and {senderThree}} other {{senderOne}, {senderTwo}, {senderThree}, and {remainingSenderCount} more}}"},singleNotificationMissingSubject:{id:"single_notification_missing_subject",defaultMessage:"No Subject"}});class Dh extends qi.Component{constructor(...e){super(...e),Ih(this,"_transformMessageGroupsToNotifications",(e=>{const t=this._filterSystemFolders(e),s=this._filterMessageGroups(t);return 0===s.length?[]:s.length>1?[this._generateSummaryNotification(s)]:this._generateSingleNotifications(s)})),Ih(this,"_filterMessageGroups",(e=>this.props.peopleNotifications?e.filter((e=>function(e){return"P"===e.classification}(e.messages[e.messages.length-1]))):e)),Ih(this,"_filterSystemFolders",(e=>e.filter((e=>{const t=e.messages[e.messages.length-1];return!t.folder.isSystem||(0,ns.IZ)(t.folder)===S.Sck.INBOX})))),Ih(this,"_generateSummaryNotification",(e=>{const{formatMessage:t}=this.context.intl,s=e.map((e=>e.messages[e.messages.length-1])),{titleFormatOptions:a,bodyFormatOptions:n}=Ch(s),r=t(Oh.summaryNotificationTitle,a),o=t(Oh.summaryNotificationBody,n),i=this._getSummaryNotificationIcon(),{timestamp:l,id:c,folderId:d}=ph(s[0]);return this._transformNotification({title:r,body:o,icon:i,timestamp:l,id:c,folderId:d})})),Ih(this,"_generateSingleNotifications",(e=>{const{formatMessage:t}=this.context.intl;return e.map((e=>{const s=e.messages[e.messages.length-1],a=function(e){return Ah(e)}(s),n=function(e){return e.headers.subject}(s)||t(Oh.singleNotificationMissingSubject),r=this._getSingleNotificationIcon(s),{timestamp:o,id:i,folderId:l}=ph(s),c=e.id;return this._transformNotification({title:a,body:n,icon:r,timestamp:o,id:i,folderId:l,groupId:c})}))})),Ih(this,"_transformNotification",(({title:e,body:t,icon:s,timestamp:a,id:n,folderId:r,groupId:o})=>({title:e,options:{body:t,icon:s,lang:this.context.intl.locale,timestamp:a,tag:n},onClick:this._getClickHandler({folderId:r,groupId:o})}))),Ih(this,"_getSummaryNotificationIcon",(()=>Rh)),Ih(this,"_getSingleNotificationIcon",(e=>{const t={email:e.headers.from.length?e.headers.from[0].email:""};return(0,Sh.z)(t,"160",Rh)})),Ih(this,"_getClickHandler",(({folderId:e,groupId:t})=>s=>{s.preventDefault(),s.target.close(),window.focus(),this.context.navigateTo({route:t?(0,wl.m9)((0,Hl.Kw)(e),t):(0,wl.i5)(e)})}))}componentDidMount(){const{listId:e}=this.props;this.context.executeAction(mh,{listId:e})}render(){const{messageGroups:e}=this.props,t=this._transformMessageGroupsToNotifications(e);return qi.createElement("div",null,t.map((e=>qi.createElement(gh,{key:e.options.tag,notification:e}))))}}Ih(Dh,"contextTypes",{intl:Ji.intlShape,config:zi().object,executeAction:zi().func,navigateTo:zi().func});const Nh=Dh;function fh(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Mh extends qi.Component{constructor(...e){super(...e),fh(this,"state",{hasPermission:!1}),fh(this,"requestPersmission",(()=>{window.Notification.requestPermission((e=>{"granted"===e&&this.setState({hasPermission:!0})}))}))}componentDidMount(){this._allItemsNotSeen=[],window.Notification&&this.requestPersmission()}componentDidUpdate(){this.props.isAppVisible&&(this._allItemsNotSeen=[])}render(){const{items:e,listContentType:t,isAppVisible:s,listId:a,peopleNotifications:n}=this.props;return 0!==e.length&&this.state.hasPermission&&!s&&this.context.isLatestWindow()?(t===S.F6k.MESSAGES&&(this._allItemsNotSeen=[...this._allItemsNotSeen,...e]),qi.createElement("div",null,t===S.F6k.MESSAGES?qi.createElement(Nh,{peopleNotifications:n,messageGroups:this._allItemsNotSeen,listId:a}):null)):null}}fh(Mh,"contextTypes",{config:zi().object,isLatestWindow:zi().func.isRequired}),fh(Mh,"defaultProps",{items:[]});const Lh=(0,Yi.connect)((e=>{const{getActionTimeStamp:t,getApplicationLastVisibleTimeStamp:s,getCurrentListId:a,isAppVisible:n,doesListExist:r,getMessageListItemsSinceTimestamp:o,__patchV2MessageGroupItem__:i,isFeatureEnabled:l}=(0,Gl.selectors)(e),c=a(),d=(0,Hl.WN)(c),E=n()?t():s(),_=r(c)?o(c,E):[],u=l("peopleNotifications"),m=_.map((e=>i(e,c)));return{...m.length?{items:m}:{},listContentType:d,listId:c,isAppVisible:n(),peopleNotifications:u}}))(Mh),Ph=Ee().create("norrin/push_notifications");var yh=s(53029);const bh=Ee().create("norrin/push_notifications"),Fh="tap_registration",Uh="tap_subscription",vh=async()=>(vh.db||(vh.db=await(0,yh.X3)("tap-sdk",1,{upgrade(e){e.createObjectStore(Fh),e.createObjectStore(Uh)}})),vh.db),wh={get:async e=>(await vh()).get(Fh,e),async set(e,t){const s=await vh();await s.put(Fh,t,e)},async delete(e){const t=await vh();await t.delete(Fh,e)},getSubscription:async()=>(await vh()).get(Uh,"subscription"),async saveSubscription(e){const t=await vh();await t.put(Uh,e,"subscription")},async migrate(){const e=await(0,G_.Gv)(G_.xt,G_.gN);if(e){const s=bh.feature("idb_migration");try{const[t,a]=await Promise.all([(0,G_.Gv)(G_.xt,G_.wC),(0,G_.Gv)(G_.xt,G_.Jn)]);await wh.set("registrationId",e),t&&await wh.set("subscriptionIds",t),a&&await wh.set("timestamp",a),await Promise.all([(0,G_.w4)(G_.xt,G_.gN),(0,G_.w4)(G_.xt,G_.wC),(0,G_.w4)(G_.xt,G_.Jn),(0,G_.w4)(G_.xt,G_.zg)]),s.logSuccess()}catch(t){s.logFailure(t)}}}},Gh=wh;var kh=s(19793);let Hh;function Bh(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}!function(e){e.ADD="add",e.UPDATE="update",e.DELETE="delete"}(Hh||(Hh={}));const xh="x-cp-namespace",Vh="x-rivendell-regid";function Wh(e,t){if(null==e)throw new Error(`${t}; Expected 'val' to be defined, but received ${e}`)}function Zh(e){return`mail/new_mail_v4|notify|${e}|deco:FTI`}class Kh extends u.Z{static isResponseError(e){if("object"!=typeof e||null===e)return!1;const{token:t,name:s,errorCode:a}=e;return"MAIL-ERROR"===t&&"HttpTransport.NotOkStatusCode"===s&&!!a}constructor(e){super({...e,loggerName:"tap_client_request"});const{guidHash:t,appId:s,userNamespace:a}=e;this.ymreqid=new I.Z(t,kh.N7,kh.Q_).generate(),this.appId=s,this.userNamespace=a}async register(e,t,s){const a=new N.Z(S.f2m.POST,"https://client-tap.push.yahoo.com/v1/registration/?"+_.stringify({mailAppId:this.appId,ymreqid:this.ymreqid}));if(a.withCredentials=!0,a.setHeader(xh,this.userNamespace),a.setHeader("Content-Type","application/json"),"update"===e){if(Wh(s,"registrationId must be defined for update operation"),!s)throw new Error("registrationId cannot be an empty string and must be defined for update operation");a.setHeader(Vh,s)}const n=t.toJSON();Wh(n.keys,"keys are missing from parsedSubscription");const r={app:{id:"com.yahoo.mail.browser.chrome"},pushInfo:{pushToken:w.DS.encode(JSON.stringify(n)),pushService:"webpush",osNotificationEnabled:!0,appNotificationEnabled:!0}},o=a.send(JSON.stringify(r)).then((e=>{var t;const s=null===(t=e.body)||void 0===t?void 0:t.registrationId;if(!s)throw new C.Z("PushNotifications.MissingRegistrationId");return{registrationId:s}}));return this.logRequest(o,{apiName:"register",appId:this.appId,operation:e,ymreqid:this.ymreqid}),o}async addRegistration(e){return this.register("add",e)}async updateRegistration(e,t){return this.register("update",e,t)}async associate(e,t,s){const a=new N.Z(S.f2m.POST,"https://client-tap.push.yahoo.com/v1/association/?"+_.stringify({mailAppId:this.appId,ymreqid:this.ymreqid}));a.withCredentials=!0,a.setHeader(Vh,e),a.setHeader(xh,this.userNamespace),a.setHeader("Content-Type","application/json");const n={operation:t,useGuidAsValue:!0};s&&(n.attributes={tags:s.map(Zh)});const r=a.send(JSON.stringify(n));this.logRequest(r,{apiName:"associate",operation:t,appId:this.appId,ymreqid:this.ymreqid}),await r}async addAssociation(e,t){return this.associate(e,Hh.ADD,t)}async updateAssociation(e,t){return this.associate(e,Hh.UPDATE,t)}async deleteAssociation(e){return this.associate(e,Hh.DELETE)}}Bh(Kh,"ERROR_NO_REGISTRATION_EXISTS",400001),Bh(Kh,"ERROR_NO_ASSOCIATION_EXISTS",400013),Bh(Kh,"ERROR_ASSOCIATION_EXISTS",400017);const zh=Kh;var qh=s(30925);const Yh="default",jh="denied",Qh="noop",Xh="renew-subscription",Jh="migrate",$h="subscribe";async function eg({guidHash:e,appId:t}){if(!(0,qh.Z)())throw new Error("Service Workers not supported");const s=Ph.feature("push_notifications_unsubscribe",{migrateToTAP:!0}),a=await window.navigator.serviceWorker.getRegistration();if(!a)return void s.logFailure(new Error("Service worker not subscribed"));const n=a&&await a.pushManager.getSubscription();if(n){if(!(await n.unsubscribe())){const e=new Error("Unsubscribe failed");throw s.logFailure(e),e}return s.logSuccess(),async function({guidHash:e,appId:t}){const s=await Gh.get("registrationId"),a=new zh({guidHash:e,appId:t});if(!s)return;await a.deleteAssociation(s),await Gh.delete("registrationId")}({guidHash:e,appId:t})}}function tg(){var e;return null===(e=window.Notification)||void 0===e?void 0:e.permission}var sg=s(86056),ag=s.n(sg),ng=s(62494),rg=s(29122),og=s(30375);const ig=new Uint8Array([4,227,117,12,199,115,220,127,63,174,149,203,16,189,37,161,153,221,243,25,141,129,140,15,239,208,107,204,154,74,211,59,73,79,73,232,78,169,10,131,161,9,71,153,219,46,209,23,162,120,123,210,6,68,247,154,171,164,170,191,10,141,178,88,216]),lg=ig.reduce(((e,t)=>{let s=(e<<5)-e+t;return s&=s,s}));function cg(e,t){if(null==e)throw new Error(`${t}; Expected 'val' to be defined, but received ${e}`)}const dg=e=>{var t,s;return(null===(t=e.options)||void 0===t||null===(s=t.applicationServerKey)||void 0===s?void 0:s.byteLength)===ig.byteLength},Eg=e=>(cg(e.subscription,"Unable to migrate a missing subscription. This guard must run after ensuring a subscription exists."),!dg(e.subscription)||e.storedApplicationServerKeyVersion!==lg),_g=e=>!e.subscription,ug=e=>!(e.subscriptionIdsString===e.storedSubscriptionIds&&ag()(Date.now(),e.subscriptionTimestamp)<=e.subscriptionValidityPeriod),mg=e=>!e.registrationId,Sg=e=>{var t;return e.storedSubscriptionEndpoint!==(null===(t=e.subscription)||void 0===t?void 0:t.endpoint)},pg=e=>e.permissionState===Yh,Cg=e=>e.type.startsWith("error.platform"),Ag=(e,t)=>Cg(t)&&zh.isResponseError(t.data)&&t.data.errorCode===zh.ERROR_NO_ASSOCIATION_EXISTS,Tg=(e,t)=>Cg(t)&&zh.isResponseError(t.data)&&t.data.errorCode===zh.ERROR_ASSOCIATION_EXISTS,hg=(e,t)=>Cg(t)&&zh.isResponseError(t.data)&&t.data.errorCode===zh.ERROR_NO_REGISTRATION_EXISTS,gg=e=>e.apiRequests>10,Ig=async()=>{const e=await(async()=>{if(!(0,qh.Z)())throw new Error("Push not supported");const e=await window.navigator.serviceWorker.getRegistration();return e?await e.pushManager.getSubscription():null})();cg(e,"Attempted to unsubscribe without a subscription");cg(await e.unsubscribe(),"Unsubscribe failed")},Rg=async()=>{const e=await window.navigator.serviceWorker.ready;return await e.pushManager.subscribe({applicationServerKey:ig,userVisibleOnly:!0})},Og=async e=>{const t=new zh(e.requestContext);return cg(e.subscription,"Subscription required for addRegistration"),t.addRegistration(e.subscription)},Dg=async e=>{const t=new zh(e.requestContext);return cg(e.subscription,"Subscription required for updateRegistration"),cg(e.registrationId,"registrationId required for updateRegistration"),t.updateRegistration(e.subscription,e.registrationId)},Ng=async e=>{const t=new zh(e.requestContext);return cg(e.registrationId,"registrationId required for addAssociation"),t.addAssociation(e.registrationId,e.subscriptionIds)},fg=async e=>{const t=new zh(e.requestContext);return cg(e.registrationId,"registrationId required for updateAssociation"),t.updateAssociation(e.registrationId,e.subscriptionIds)},Mg=async e=>{const t=new zh(e.requestContext);return cg(e.registrationId,"registrationId required for deleteAssociation"),t.deleteAssociation(e.registrationId)},Lg=async e=>{null===e.registrationId?(await Gh.delete("registrationId"),await Gh.delete("timestamp"),await Gh.delete("subscriptionIds")):(await Gh.set("timestamp",String(e.subscriptionTimestamp)),await Gh.set("subscriptionIds",e.storedSubscriptionIds),await Gh.set("registrationId",e.registrationId)),e.subscription&&dg(e.subscription)?await Gh.set("applicationServerKeyVersion",String(lg)):await Gh.delete("applicationServerKeyVersion"),e.storedSubscriptionEndpoint&&await Gh.set("subscriptionEndpoint",e.storedSubscriptionEndpoint),e.storedMigrationFlow&&await Gh.set("migrationFlow",e.storedMigrationFlow)};var Pg=s(46029);const yg=e=>{const t=e.map((e=>e.value));return t.includes("unsubscribeToMigrate")||t.includes("deleteAssociationBeforeStartOver")?Jh:t.includes("subscribe")?$h:t.includes("addAssociation")||t.includes("updateAssociation")?Xh:Qh},bg=e=>e.map((e=>e.value)).join(",");async function Fg(e){const{subscriptionIds:t,subscriptionIdsString:s,disablePushNotifications:a,isPreviousActionNotificationsEnabled:n,onGrantedPermissions:r,subscriptionValidityPeriod:o,guidHash:i,appId:l}=e,{userNamespace:c}=window.AppBootstrapData,d=[];let E=!1;const _=e=>{const t=yg(d),s={scenario:t},r=tg();r===jh&&(s.i13nModel={mKey:Rl.JE.PUSH_NOTIFICATIONS_REQUEST_REJECTED,sec:Rl.nJ.NOTIFICATION_ACTION});const o=n||r===jh;se.Z.feature("push_notifications_subscription_complete",{scenario:t,flow:bg(d),previousRegistrationExists:E,browserPermissionState:r,shouldDisablePush:o}).logFailure(e),o&&a(s)};try{await(0,G_.zs)(),await Gh.migrate();const e=await async function(){if(!(0,qh.Z)())return null;try{const e=await window.navigator.serviceWorker.getRegistration();return e?e.pushManager.getSubscription():null}catch(e){return null}}(),a=await Gh.get("registrationId")||"",n=await Gh.get("subscriptionIds")||"",m=await Gh.get("subscriptionEndpoint")||"",S=Number(await Gh.get("timestamp"))||0,p=Number(await Gh.get("applicationServerKeyVersion"))||-1,C=await Gh.get("migrationFlow")||"";E=!!a;const A=(u={subscription:e,subscriptionIds:t,subscriptionIdsString:s,subscriptionTimestamp:S,subscriptionValidityPeriod:o,storedApplicationServerKeyVersion:p,storedMigrationFlow:C,storedSubscriptionIds:n,storedSubscriptionEndpoint:m,registrationId:a,requestContext:{guidHash:i,appId:l,userNamespace:c},permissionState:tg()},(0,rg.C)({context:{...u,apiRequests:0},tsTypes:{},schema:{context:{},events:{},services:{}},id:"webpush",initial:"unsubscribed",states:{unsubscribed:{entry:"resetApiRequestCounter",on:{SUBSCRIBE:[{cond:"subscriptionDoesNotExist",target:"#webpush.subscribe"},{cond:"registrationDoesNotExist",target:"#webpush.startOver"},{cond:"shouldMigrateSubscription",target:"#webpush.unsubscribeToMigrate"},{cond:"subscriptionEndpointIsStale",target:"#webpush.updateRegistration"},{cond:"associationIsStale",target:"#webpush.updateAssociation"},{target:"#webpush.complete"}]}},startOver:{invoke:{src:"unsubscribe",onDone:[{actions:"clearSubscription",target:"#webpush.subscribe"}],onError:[{target:"#webpush.failed"}]}},unsubscribe:{invoke:{src:"unsubscribe",onDone:[{cond:"requestCountOverLimit",target:"#webpush.failed"},{actions:"clearSubscription",target:"#webpush.deleteAssociation"}],onError:[{target:"#webpush.failed"}]}},unsubscribeToMigrate:{entry:"markMigration",invoke:{src:"unsubscribe",onDone:[{actions:"clearSubscription",target:"#webpush.subscribeWhenAlreadyRegistered"}],onError:[{target:"#webpush.failed"}]}},deleteAssociation:{exit:"clearRegistrationId",invoke:{src:"deleteAssociation",onDone:[{target:"#webpush.unsubscribed"}],onError:[{actions:"logFailureToDeleteAssociation",target:"#webpush.unsubscribed"}]}},subscribe:{invoke:{src:"subscribe",onDone:[{actions:"assignSubscription",target:"#webpush.addRegistration"}],onError:[{target:"#webpush.failed"}]}},subscribeWhenAlreadyRegistered:{invoke:{src:"subscribe",onDone:[{actions:"assignSubscription",target:"#webpush.updateRegistration"}],onError:[{target:"#webpush.failed"}]}},addRegistration:{invoke:{src:"addRegistration",onDone:[{actions:["incrementApiRequestCounter","assignRegistration"],target:"#webpush.addAssociation"}],onError:[{target:"#webpush.failed"}]}},updateRegistration:{invoke:{src:"updateRegistration",onDone:[{actions:"incrementApiRequestCounter",cond:"associationIsStale",target:"#webpush.updateAssociation"},{target:"#webpush.complete"}],onError:[{actions:"incrementApiRequestCounter",cond:"failedBecauseRegistrationDoesNotExist",target:"#webpush.addRegistration"},{target:"#webpush.failed"}]}},addAssociation:{invoke:{src:"addAssociation",onDone:[{target:"#webpush.complete"}],onError:[{cond:"requestCountOverLimit",target:"#webpush.failed"},{actions:"incrementApiRequestCounter",cond:"failedBecauseAssociationAlreadyExists",target:"#webpush.updateAssociation"},{target:"#webpush.failed"}]}},updateAssociation:{invoke:{src:"updateAssociation",onDone:[{target:"#webpush.complete"}],onError:[{cond:"requestCountOverLimit",target:"#webpush.failed"},{actions:"incrementApiRequestCounter",cond:"failedBecauseRegistrationDoesNotExist",target:"#webpush.addRegistration"},{actions:"incrementApiRequestCounter",cond:"failedBecauseAssociationDoesNotExist",target:"#webpush.addAssociation"},{target:"#webpush.failed"}]}},failed:{type:"final"},complete:{entry:"updateContextOnCompletion",invoke:{src:"saveContextToStorage",onDone:[{cond:"previousPermissionStateWasNotGranted",target:"#webpush.processPermissionGrant"},{target:"#webpush.subscribed"}],onError:[{target:"#webpush.failed"}]}},processPermissionGrant:{invoke:{src:"onGrantedPermissions",onDone:[{target:"#webpush.subscribed"}],onError:[{target:"#webpush.failed"}]}},subscribed:{type:"final"}}},{actions:{assignRegistration:(0,ng.f0)({registrationId:(e,t)=>t.data.registrationId}),assignSubscription:(0,ng.f0)({subscription:(e,t)=>t.data}),logFailureToDeleteAssociation:og.cM((e=>`Failed to delete association for ${e.registrationId}, proceeding anyway with unsubscription.`),"[webpush deleteAssociation]"),clearRegistrationId:(0,ng.f0)((e=>({registrationId:null}))),clearSubscription:(0,ng.f0)((e=>({subscription:null}))),resetApiRequestCounter:(0,ng.f0)((e=>({apiRequests:0}))),updateContextOnCompletion:(0,ng.f0)({subscriptionTimestamp:e=>Date.now(),storedSubscriptionIds:e=>e.subscriptionIdsString,storedSubscriptionEndpoint:e=>{var t;return(null===(t=e.subscription)||void 0===t?void 0:t.endpoint)||""}}),markMigration:(0,ng.f0)({storedMigrationFlow:e=>{cg(e.subscription,"subscription required to migrate");let t=e.storedMigrationFlow;return t.length>100&&(t="truncated"),`${t}${t?";":""}${dg(e.subscription)?"webpush":"chrome"}`}}),incrementApiRequestCounter:(0,ng.f0)({apiRequests:e=>e.apiRequests+1})},services:{onGrantedPermissions:()=>Promise.resolve(),subscribe:Rg,unsubscribe:Ig,addRegistration:Og,updateRegistration:Dg,addAssociation:Ng,updateAssociation:fg,deleteAssociation:Mg,saveContextToStorage:Lg},guards:{shouldMigrateSubscription:Eg,subscriptionDoesNotExist:_g,registrationDoesNotExist:mg,associationIsStale:ug,subscriptionEndpointIsStale:Sg,failedBecauseRegistrationDoesNotExist:hg,failedBecauseAssociationDoesNotExist:Ag,failedBecauseAssociationAlreadyExists:Tg,previousPermissionStateWasNotGranted:pg,requestCountOverLimit:gg}})).withConfig({services:{onGrantedPermissions:async()=>r()}}),T=(0,Pg.kJ)(A,{devTools:!0});T.onDone((()=>{const e=d[d.length-1],t=yg(d),s=bg(d);if("failed"===e.value)return _(e.event.data);se.Z.feature("push_notifications_subscription_complete",{scenario:t,flow:s,storedMigrationFlow:C,previousRegistrationExists:E}).logSuccess()})),T.subscribe((e=>d.push(e))),T.start(),T.send({type:"SUBSCRIBE"})}catch(m){_(m)}var u}class Ug extends qi.Component{componentDidMount(){const{notificationsEnabled:e}=this.props,{guidHash:t,appId:s}=this.context;e?this._ensurePushIsSubscribed():eg({guidHash:t,appId:s}).catch((e=>{se.Z.error("unsubscribe_stray_sw",{error:e})}))}componentDidUpdate(e){const{notificationsEnabled:t,subscriptionIdsString:s}=this.props,{guidHash:a,appId:n}=this.context;!t&&e.notificationsEnabled?eg({guidHash:a,appId:n}).catch((e=>{se.Z.error("user_disabled_notifications",{error:e})})):!t||e.notificationsEnabled&&s===e.subscriptionIdsString||this._ensurePushIsSubscribed()}render(){return null}_ensurePushIsSubscribed(){const{subscriptionIds:e,subscriptionIdsString:t,disablePushNotifications:s,onGrantedPermissions:a,isPreviousActionNotificationsEnabled:n,subscriptionValidityPeriod:r}=this.props,{guidHash:o,appId:i}=this.context;return Fg({isPreviousActionNotificationsEnabled:n,subscriptionIds:e,subscriptionIdsString:t,disablePushNotifications:s,onGrantedPermissions:a,subscriptionValidityPeriod:r,guidHash:o,appId:i})}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(Ug,"contextTypes",{guidHash:zi().string,appId:zi().string});const vg=(0,Yi.connect)((e=>{const{getAccountSelectors:t,getSetting:s,getAction:a}=(0,Gl.selectors)(e),n=t().getAccountSubscriptionIds(),r=s("pushSubscriptionValidity"),o=a();return{isPreviousActionNotificationsEnabled:o.type===nc.FEATURE_ENABLED&&o.name===S.ANe.SHOULD_SW_SUBSCRIBE&&!0===o.value,subscriptionIds:n,subscriptionIdsString:n.sort().join(","),subscriptionValidityPeriod:r}}),(e=>({disablePushNotifications:t=>e({type:nc.FEATURE_DISABLED,name:S.ANe.PUSH_NOTIFICATIONS,...t}),onGrantedPermissions:()=>e({type:nc.PUSH_NOTIFICATIONS_REQUEST_GRANTED,i13nModel:{mKey:Rl.JE.PUSH_NOTIFICATIONS_REQUEST_GRANTED,sec:Rl.nJ.NOTIFICATION_ACTION}})})))(Ug);class wg extends qi.Component{render(){const{notificationsEnabled:e,notificationMode:t}=this.props;return t===S.st3.PUSH?qi.createElement(vg,{notificationsEnabled:e}):t===S.st3.BROWSER&&e?qi.createElement(Lh,null):null}}const Gg=(0,Yi.connect)((e=>{const{getFeaturesSelectors:t}=(0,Gl.selectors)(e),s=t();return{notificationsEnabled:s.getSetting(S.Zrf.NOTIFICATION),notificationMode:s.getSetting(S.Zrf.NOTIFICATION_MODE)}}))(wg),kg=(0,YS.A)("/html/status.html");const Hg={STATUS_PAGE_URL:kg,ping:function(){return new N.Z("HEAD",kg,{timeout:9e3}).send()}};function Bg(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class xg extends qi.Component{constructor(...e){super(...e),Bg(this,"checking",!1),Bg(this,"handleOfflineEvent",(()=>{this.checking&&this.stopChecking(),this.setOffline()})),Bg(this,"handleOnlineEvent",(()=>{this.checking?this.check():this.startChecking()})),Bg(this,"handleNetworkRequestFailure",(e=>{e.url!==Hg.STATUS_PAGE_URL&&this.startChecking()})),Bg(this,"handleNetworkRequestSuccess",(()=>{this.checking&&(this.stopChecking(),this.setOnline())})),Bg(this,"check",(()=>{navigator&&void 0!==navigator.onLine&&!1===navigator.onLine||Hg.ping().then((()=>{this.stopChecking(),this.setOnline()}),(()=>{this.checking&&(this.setOffline(),setTimeout(this.check,1e4))}))})),Bg(this,"startChecking",(()=>{this.checking||(this.checking=!0,this.check())})),Bg(this,"stopChecking",(()=>{this.checking=!1})),Bg(this,"setOnline",(()=>{this.props.onChange({online:!0})})),Bg(this,"setOffline",(()=>{this.props.onChange({online:!1})}))}shouldComponentUpdate(){return!1}componentDidMount(){this.props.isEnabled&&(window.addEventListener("offline",this.handleOfflineEvent),window.addEventListener("online",this.handleOnlineEvent),N.Z.on("error",this.handleNetworkRequestFailure),N.Z.on("success",this.handleNetworkRequestSuccess))}componentWillUnmount(){window.removeEventListener("offline",this.handleOfflineEvent),window.removeEventListener("online",this.handleOnlineEvent),N.Z.off("error",this.handleNetworkRequestFailure),N.Z.off("success",this.handleNetworkRequestSuccess)}render(){return null}}const Vg=(0,Yi.connect)((e=>({isEnabled:(0,Gl.selectors)(e).isFeatureEnabled(S.ANe.OFFLINE_CHECKING)})),(e=>({onChange:t=>e((({online:e})=>(t,s)=>{const{isOnline:a,isFeatureEnabled:n}=(0,Gl.selectors)(s());a()!==e&&t({type:nc.ONLINE_STATUS_CHANGED,online:e,rotateAdsOnline:n(S.ANe.ROTATE_ADS_ONLINE)})})(t))})))(xg);var Wg=s(45481),Zg=s(59413);function Kg(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let zg=!1;const qg=Ee().create("norrin/darla"),Yg="meta.y.slotData.trusted_custom",jg=["LREC","MON","LREC4","UBAMON","UBALREC"],Qg=(0,Ji.defineMessages)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},upsell_message_caption:{id:"ad.upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailProBrand}."}});class Xg extends qi.Component{constructor(...e){super(...e),Kg(this,"updateAds",((e,t)=>{e.forEach((e=>{const s=document.querySelector(`#slot_${e}`);s&&(-1===t.indexOf(e)?s.classList.add("rail_ad_hidden"):s.classList.remove("rail_ad_hidden"))}))})),Kg(this,"fetchCurveBallImage",(()=>new N.Z("GET","https://s.yimg.com/av/curveball/ads/pr/RESIZE/82x82/e0c798d5985f074be65e92bcccdb8456.jpeg").send())),Kg(this,"_onSuccess",((e,t)=>{const s=window.DARLA,{spaceId:a,rootSpaceId:n,darlaLookAhead:r,isRightRailAdArbitrationEnabled:o}=this.props,i=o&&t.filter((e=>jg.indexOf(e)>-1));if(i&&i.length&&this.updateAds(jg,i),this.allPosRenderLogger&&this.allPosRenderLogger.logSuccessAndLatency(),this.posRenderLoggers={},this.renderedPositions&&this.renderedPositions.length&&this._executeDarlaAdHandlerAction({spaceId:a.toString(),positions:this.renderedPositions}),r){s.prefetched().length&&s.render(),s.add("prefetch",{name:"prefetch",ps:this.context.getAdPositions().darla.join(","),sp:n,npv:1,ssl:1}),s.prefetch("prefetch")}})),Kg(this,"_onStartParse",(()=>{const e=this.context.getAdPositions().darla.join(",");this.parseLogger=qg.feature("darla_ad_parse",{adPositions:e,intl:this.context.region})})),Kg(this,"_onFinishParse",((e,t)=>{if(!t)return this.parseLogger.logFailure(),void this._executeDarlaAdHandlerAction({error:"Missing ad details"});this.parseLogger.logSuccessAndLatency();const{isRightRailAdArbitrationEnabled:s}=this.props,a=t.ps();let n=[];s&&a.find((e=>{const s=(0,g.u9)(t.item(e),"meta.y.facStatus.exclusionStatus.winners.0.positions","");return s&&(n=s.split(",")),s})),a.forEach((e=>{const{bookID:a,adID:r,creativeID:o,placementID:i,hasErr:l}=t.item(e)||{};if(s&&l&&n.length&&!n.includes(e))return;const c=qg.feature("darla_ad_call",{adPosition:e,bookId:a,adId:r,creativeId:o,placementId:i,intl:this.context.region});l?c.logFailure():c.logSuccessAndLatency()}))})),Kg(this,"_onStartRequest",(()=>{const e=this.context.getAdPositions().darla.join(","),{route:t}=this.props;this.fetchLogger=qg.feature("darla_ad_fetch_call",{adPositions:e,rotationActionType:this.props.actionType,intl:this.context.region,route:null==t?void 0:t.name})})),Kg(this,"_onFinishRequest",(()=>{this.fetchLogger.logSuccessAndLatency()})),Kg(this,"_onRequestTimeout",(()=>{this.fetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:"Request timeout"})})),Kg(this,"_onStartPrefetchRequest",(()=>{const e=this.context.getAdPositions().darla.join(","),{route:t}=this.props;this.prefetchLogger=qg.feature("darla_ad_prefetch_call",{adPositions:e,rotationActionType:this.props.actionType,intl:this.context.region,route:null==t?void 0:t.name})})),Kg(this,"_onFinishPrefetchRequest",((e,t)=>{200===t?this.prefetchLogger.logSuccessAndLatency():(this.prefetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:`Prefetch request error: ${t}`}))})),Kg(this,"_onBeforeStartPosRender",(e=>{if(this.props.premiumAdDetection){const t=window.DARLA,s="true"===(0,g.u9)(e,Yg),a=e.pos,n=t.render.RenderMgr.get(a),r="true"===(0,g.u9)(n,Yg);if(r&&s)return this.props.adRotationSkipped({i13nModel:{isBeaconEvent:!0,eventName:Rl.fS.AD_ROTATION_SKIPPED,pos:a}}),!0;!r&&s?this.props.premiumAdStarted({i13nModel:{isBeaconEvent:!0,eventName:Rl.fS.PREMIUM_AD_STARTED,pos:a}}):r&&!s&&this.props.premiumAdStopped({i13nModel:{isBeaconEvent:!0,eventName:Rl.fS.PREMIUM_AD_STOPPED,pos:a}})}})),Kg(this,"_onStartPosRender",(e=>{const{pos:t}=e;this.posRenderLoggers[t]=qg.feature("darla_ad_pos_render",{adPosition:t,intl:this.context.region})})),Kg(this,"getAdDebugUrl",((e="")=>{const t={DspId:"adSourceId",SeatId:"buyerId",DspCrId:"buyerCreativeId"};let s="http://app-ads-preview.fp.yahoo.com:4080/api/v1/ad-preview?";const a=e.match(/Verizon Media SSP BannerAd (.*?) -->/),n=a?a[1]:null,r=[];return n?(n.split(", ").forEach((e=>{const s=e.split(":");t[s[0]]&&r.push(`${t[s[0]]}=${s[1]}`)})),s+=r.join("&"),s):""})),Kg(this,"_onFinishPosRender",((e,t,s)=>{const a=this.posRenderLoggers[e];this.renderedPositions&&this.renderedPositions.push({bookId:s.bookID,position:s.pos,debugUrl:this.getAdDebugUrl(s.html)}),a&&a.logSuccessAndLatency()})),Kg(this,"_onRenderTimeout",(()=>{Object.keys(this.posRenderLoggers).forEach((e=>{this.posRenderLoggers[e].logFailure()}))})),Kg(this,"_executeDarlaAdHandlerAction",(e=>{this._darlaHandlerTimer=setImmediate((()=>{this.props.darlaAdHandler(e||{spaceId:"",positions:[]})}))})),Kg(this,"_startMessageReadAdRotation",(()=>{if(this.props.ABPStaticAds)return;const{messageReadAdRotationInterval:e,messageReadAdRotationV1:t}=this.props;t&&(this._stopMessageReadAdRotation(),this._messageReadAdRotationTimer=setTimeout(this._messageReadAdRotationCallback,e))})),Kg(this,"_messageReadAdRotationCallback",(()=>{const{messageReadAdRotationTimestampV1:e,messageReadAdRotationIdleInterval:t,messageReadAdRotationV2:s}=this.props;s?(this._messageReadAdRotationTimeToIdle-=this.props.messageReadAdRotationInterval,this._messageReadAdRotationTimeToIdle>0&&this.props.messageReadAdRotationTimer()):Date.now()<=e+t&&(this.props.messageReadAdRotationTimer(),this._startMessageReadAdRotation())})),Kg(this,"_stopMessageReadAdRotation",(()=>{clearTimeout(this._messageReadAdRotationTimer),this._messageReadAdRotationTimer=null})),Kg(this,"_connectToWiderMailExtension",(()=>{const e=location.pathname,t=new RegExp(`^(${S.slz})/test`);let s=[],a=[];if(t.test(e)||"undefined"==typeof chrome||void 0===chrome.runtime||void 0===chrome.runtime.connect)return;const{chromeExtensionAllowlist:n,disableWiderMailExtension:r,chromeLongtermExtensionList:o,legacyExtnDetected:i}=this.props;n.forEach((e=>{const t=chrome.runtime.connect(e);t&&s.push(t),t.onDisconnect.addListener((e=>{s=s.filter((t=>t!==e)),0===s.length&&r()}))})),o.forEach((e=>{const t=chrome.runtime.connect(e);t&&a.push(t),t.onDisconnect.addListener((e=>{a=a.filter((t=>t!==e)),0===a.length&&i()}))}))})),Kg(this,"updateAdblockUiId",(()=>{const{adblockPreviousUi:e,adblockUIUpdate:t}=this.props;let s=1;e<S.ZJ3.length&&(s=e+1);t({uiId:s,i13nModel:{mKey:Rl.JE.ADBLOCK_UI_UPDATE,sec:Rl.nJ.FEATURE_CUE,actionData:{uiId:s}}})})),Kg(this,"dispatchAdbDetected",((e="")=>{const{isMailPro:t,adblockDetected:s}=this.props,a={};e&&(a.errorCode=e),s({mKey:Rl.JE.ADBLOCK_DETECTED,sec:Rl.nJ.FEATURE_CUE,actionData:a}),this.props.adblockUpsellCue&&!t&&this.updateAdblockUiId()}))}detectABP(){return new Promise((e=>{let t=null,s=null;const a=new Image,n=new Image;a.onload=()=>{t=!0,null!==s&&!1===s&&e(!0)},a.onerror=()=>e(!1),n.onload=()=>e(!1),n.onerror=()=>{s=!1,null!==t&&!0===t&&e(!0)},a.src="https://mail.yahoo.com/px.gif?ch=1",n.src="https://mail.yahoo.com/px.gif?ch=2"}))}UNSAFE_componentWillUpdate(e){const{isMessageReadAdRotationActive:t,adRotationId:s,timeToWaitSinceLastAdCall:a,messageReadAdRotationTimestampV2:n,messageReadAdRotationIdleInterval:r,messageReadAdRotationTimestampV1:o,messageReadAdRotationV2:i,messageReadAdRotationV1:l}=this.props,c=s!==e.adRotationId&&e.adRotationId-s>a,d=n!==e.messageReadAdRotationTimestampV2;i?t&&!e.isMessageReadAdRotationActive?this._stopMessageReadAdRotation():!e.isMessageReadAdRotationActive||t&&!c||(this._messageReadAdRotationTimeToIdle=d?this._messageReadAdRotationTimeToIdle:r,this._startMessageReadAdRotation()):l&&(o&&!e.messageReadAdRotationTimestampV1?this._stopMessageReadAdRotation():o!==e.messageReadAdRotationTimestampV1&&this._startMessageReadAdRotation())}detectAdblocker(){const e=["OUTBOUND"];this.props.isOnline&&(!window.DARLA&&this.props.hasGeminiBeenBlocked?this.dispatchAdbDetected():window.DARLA||this.fetchCurveBallImage().catch((t=>{if(t.errorCode&&-1!==e.indexOf(t.errorCode))this.dispatchAdbDetected(t.errorCode);else{const{adblockBeaconFailed:e}=this.props;e({mKey:Rl.JE.ADBLOCK_BEACON_FAILED,sec:Rl.nJ.FEATURE_CUE,actionData:{errorCode:t.errorCode||""}})}})))}componentDidMount(){const{isAdBlockerDetected:e,isOnline:t,abpDetected:s,hasGeminiBeenBlocked:a,geminiError:n}=this.props;this._messageReadAdRotationTimer=null,this.fetchLogger=null,this.prefetchLogger=null,this.parseLogger=null,this.allPosRenderLogger=null,this.reconfigLogger=null,this.posRenderLoggers={},this.renderedPositions=[],this.props.isWiderMailExtnEnabled?this._connectToWiderMailExtension():this.detectABP().then((r=>{r?s({mKey:Rl.JE.ABP_DETECTED,sec:Rl.nJ.RIGHT_RAIL,actionData:{hasGeminiBeenBlocked:a,geminiError:n}}):e||r||!t||(this._detectAdblockTimer=setTimeout(this.detectAdblocker.bind(this),2e4))}))}componentDidUpdate(e){const{spaceId:t,spaceIds:s,route:a,debugDarla:n,darlaLookAhead:r,darlaPrefetch:o,nukeDisplayAdsOnInactive:i,mailProEligible:l,timeToWaitSinceLastAdCall:c,adFeedbackStarted:d,adRotationId:E,abortDarlaInProgress:_,darlaHostname:u,isRRCompactSize:m,isABPDetected:S,isMessageReadActiveCompose:p,noAdRotationOnCompose:C,darlaGeminiArbitration:A,darlaChromaggedonSA:T}=this.props;if(!this.props.hasAds)return;const h=this.context.getAdPositions();if(i&&!e.nukeDisplayAdsOnInactive&&window.DARLA&&(0,g.u9)(window.DARLA,"render.RenderMgr")&&(!C||!p)){const e=window.DARLA,t=h.darla.some((t=>{const s=e.render.RenderMgr.get(t);return s&&"true"===(0,g.u9)(s,Yg)}));return void(e&&"function"==typeof e.inProgress&&!e.inProgress()&&!t&&(0,g.u9)(e,"render.RenderMgr.nuke",!1)&&e.render.RenderMgr.nuke())}let I=E!==e.adRotationId&&E-e.adRotationId>c||e.isRRCompactSize!==m||e.isABPDetected!==S||e.isMessageReadActiveCompose!==p&&!p;if(this.props.noForceDisplayAdRotationOnRouteChange||(I=I||t!==e.spaceId),I&&!d&&0!==h.darla.length&&!this.props.isWiderMailExtnEnabled)if(zg){if(window.DARLA){const e=window.DARLA;if(!(e.inProgress&&e.abort&&e.config&&e.addPos&&e.add&&e.render&&e.event))return;if(e.inProgress()){if(!_)return;e.abort()}if(document.activeElement){const{id:e,tagName:t}=document.activeElement;if("TEXTAREA"===t.toUpperCase()&&(-1!==e.indexOf("LREC")||-1!==e.indexOf("SKY")))return}this.renderedPositions=[],e.add("rotate",{name:"rotate",ps:h.darla.join(","),sp:t,npv:1,ssl:1}),this.rotateAds(h)}}else{const e=this.context.intl.formatMessage,t={CTTRate:0,upsell:l,upsellMsg:e(Qg.upsell_message_caption,{YahooMailProBrand:e(Qg.yahoo_mail_pro_branding)}),onStartRequest:this._onStartRequest,onFinishRequest:this._onFinishRequest,onStartPrefetchRequest:this._onStartPrefetchRequest,onFinishPrefetchRequest:this._onFinishPrefetchRequest,onStartParse:this._onStartParse,onFinishParse:this._onFinishParse,onStartPosRender:this._onStartPosRender,onFinishPosRender:this._onFinishPosRender,onRenderTimeout:this._onRenderTimeout,onRequestTimeout:this._onRequestTimeout,onSuccess:this._onSuccess,onBeforeStartPosRender:this._onBeforeStartPosRender,tpbURI:(0,Wg.s_)(this.context.region),d:n?1:0,debug:n?1:0,servicePath:`https://${u}/sdarla/php/fc.php`,events:{DEFAULT:{ref:(0,Wg.$y)(window.location.hostname,a)}}},{buckets:i}=window.AppBootstrapData,c=(0,Wg.Xd)({darlaGeminiArbitration:A,darlaChromaggedonSA:T},i,{hostname:u});if(c&&(t.events.DEFAULT.sa=c),window.DARLA){const e=window.DARLA.config,s=e(Object.assign({},e(),t));this._darlaRenderTimer=setTimeout((()=>{window.DARLA.render()}),0),this.reconfigLogger=qg.feature("darla_ad_reconfig",{adPositions:h.darla.join(","),intl:this.context.region,darlaLookAhead:r,darlaPrefetch:o}),"OK"===s?this.reconfigLogger.logSuccess():this.reconfigLogger.logFailure({status:s,actionInProgress:"FAIL--522"===s?window.DARLA.inProgress():null})}else if(window.DARLA_CONFIG&&!1===window.DARLA_CONFIG.auto_render)window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},t,{auto_render:!0});else{const e=this.context.locale.name||"en-US";let r=`${`https://${u}/sdarla/php/client.php`}?f=${(0,Wg.TE)(s,a.name)}&l=${h.darla.join(",")}&npv=1&ssl=1&lang=${e}`;window.DARLA_CONFIG||(window.DARLA_CONFIG=Object.assign({},lm.f7,{lang:e})),window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},t);const o=(0,g.u9)(window,"DARLA_CONFIG.events.DEFAULT.ref",!1);o&&(r+="&ref="+encodeURIComponent(o)),r+=c?"&sa="+encodeURIComponent(encodeURIComponent(c)):"",n&&(r+="&debug=1&d=1"),nT.Z.loadScript(r)}zg=!0}}rotateAds(e){const t=window.DARLA,{darlaLookAhead:s,route:a}=this.props,n=t.prefetched(),r=!(!s||!n.length);if(this.allPosRenderLogger=qg.feature("darla_ad_all_pos_render",{adPositions:e.darla.join(","),intl:this.context.region,renderFromCache:r,route:null==a?void 0:a.name}),r){e.darla.every((e=>-1!==n.indexOf(e)))?t.render():t.event("rotate")}else t.event("rotate")}componentWillUnmount(){this._detectAdblockTimer&&clearTimeout(this._detectAdblockTimer),this._darlaRenderTimer&&clearTimeout(this._darlaRenderTimer),this._darlaHandlerTimer&&clearImmediate(this._darlaHandlerTimer)}render(){return null}}Kg(Xg,"contextTypes",{getAdPositions:zi().func,config:zi().object,region:zi().string,locale:zi().object,intl:Ji.intlShape.isRequired});const Jg=(0,Yi.connect)((e=>{const{getFeaturesSelectors:t,getAdsSelectors:s,getCurrentSpaceId:a,getRoute:n,isMessageReadAdRotationActive:r,getAction:o,isNarrowScreen:i,isOnline:l}=(0,Gl.selectors)(e),{getSetting:c,isEnabled:d}=t(),{getAdRotationId:E,getFeedbackStartedSectionIds:_,hasGeminiBeenBlocked:u,getAllGeminiError:m,isAdBlockerDetected:p,getMessageReadAdRotationTimestamp:C,getMessageReadAdRotationTimestampV2:A,getMessageReadAdRotationActive:T,isABPDetected:h}=s(),g=n(),I=d(S.ANe.LREC_MON_AD_ARBITRATION)||d(S.ANe.UBA_LREC_MON_AD_ARBITRATION);return{messageReadAdRotationTimestampV1:C(),messageReadAdRotationTimestampV2:A(),adRotationId:E(),adFeedbackStarted:_().length>0,hasAds:d(S.ANe.ADS),darlaLookAhead:d(S.ANe.DARLA_LOOKAHEAD),darlaPrefetch:d(S.ANe.DARLA_PREFETCH),debugDarla:d(S.ANe.DEBUG_DARLA),isMessageReadActiveCompose:!T()&&(g.name===S.n8z.MESSAGE_FROM_FOLDER_LIST||g.name===S.n8z.MESSAGE_FROM_SEARCH_LIST||g.name===S.n8z.MESSAGE_FROM_LIST),route:g,spaceId:a(),spaceIds:c(S.Zrf.SPACE_IDS),rootSpaceId:c(S.Zrf.SPACE_IDS).root,messageReadAdRotationV1:d(S.ANe.MESSAGE_READ_AD_ROTATION),isRightRailAdArbitrationEnabled:I,messageReadAdRotationInterval:c(S.Zrf.MESSAGE_READ_AD_ROTATION_INTERVAL),messageReadAdRotationIdleInterval:c(S.Zrf.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),isWiderMailExtnEnabled:d(S.ANe.IS_WIDER_MAIL_EXTN_ENABLED),nukeDisplayAdsOnInactive:d(S.ANe.NUKE_DISPLAY_ADS_ON_INACTIVE),mailProEligible:d(S.ANe.MAIL_PRO_ELIGIBLE),premiumAdDetection:d(S.ANe.PREMIUM_AD_DETECTION),timeToWaitSinceLastAdCall:c(S.Zrf.TIME_TO_WAIT_SINCE_LAST_AD_CALL),chromeExtensionAllowlist:c(S.Zrf.CHROME_EXTENSION_ALLOWLIST),chromeLongtermExtensionList:c(S.Zrf.CHROME_LONGTERM_EXTENSION_LIST),abortDarlaInProgress:d(S.ANe.ABORT_DARLA_IN_PROGRESS),hasGeminiBeenBlocked:u(),geminiError:m(),isOnline:l(),isAdBlockerDetected:p(),messageReadAdRotationV2:d(S.ANe.MESSAGE_READ_AD_ROTATION_V2),isMessageReadAdRotationActive:r(),actionType:o().type,adblockUpsellCue:d(S.ANe.ADBLOCK_UPSELL_CUE),adblockPreviousUi:c(S.Zrf.AD_BLOCK_FEATURE_CUE_ID),isMailPro:d(S.ANe.MAIL_PRO),darlaGeminiArbitration:d(S.ANe.DARLA_GEMINI_ARBITRATION),darlaHostname:c(S.Zrf.DARLA_HOSTNAME),ABPStaticAds:d(S.ANe.ABP_STATIC_ADS),noForceDisplayAdRotationOnRouteChange:d(S.ANe.NO_FORCE_DISPLAY_AD_ROTATION_ON_ROUTE_CHANGE),isRRCompactSize:i(),isABPDetected:h(),noAdRotationOnCompose:d(S.ANe.NO_AD_ROTATION_ON_COMPOSE),darlaChromaggedonSA:d(S.ANe.DARLA_CHROMAGGEDON_SA)}}),(e=>({darlaAdHandler:t=>e((0,hu.qV)(t)),messageReadAdRotationTimer:()=>e((0,hu.I5)()),disableWiderMailExtension:()=>e((0,hu.DV)()),legacyExtnDetected:()=>e((0,hu.dw)()),adRotationSkipped:t=>e((0,hu.HZ)(t)),premiumAdStarted:t=>e((0,hu.l)(t)),premiumAdStopped:t=>e((0,hu.ZE)(t)),adblockDetected:t=>e((0,Zg.VK)({i13nModel:t})),adblockUIUpdate:t=>e((0,Zg.h2)(t)),abpDetected:t=>e((0,Zg.yu)({i13nModel:t})),adblockBeaconFailed:t=>e((0,Zg.Uz)({i13nModel:t}))})))(Xg),$g={[S.BQZ.MAIL_APP]:"Yahoo Mail Desktop",[S.BQZ.BASIC_MAIL_APP]:"Yahoo Mail Basic"},eI={service:{adServer:{PG:{}},debug:!1,site:{name:$g[S.BQZ.MAIL_APP]},positions:{LREC:{sizes:["300x250"]},LREC4:{sizes:["300x250"]},MON:{sizes:["300x600"]},SKY:{sizes:["160x620"]},UBASKY:{sizes:["160x620"]},UBAMON:{sizes:["300x600"]},UBALREC:{sizes:["300x250"]}}},client:{positions:{DEFAULT:{nonFriendlyIframe:{enabled:!0},rotation:{enabled:!1},render:{auto:!1},fetch:{auto:!1,minInterval:500}},LREC:{targetElement:"slot_LREC"},LREC4:{targetElement:"slot_LREC4"},MON:{targetElement:"slot_MON"},SKY:{targetElement:"tgtSKY"},UBASKY:{targetElement:"tgtUBASKY"},UBAMON:{targetElement:"slot_UBAMON"},UBALREC:{targetElement:"slot_UBALREC"}}}};var tI=s(50361),sI=s.n(tI);const aI=e=>{const t=(0,qi.useRef)();return(0,qi.useEffect)((()=>{t.current=e}),[e]),t.current},nI=Ee().create("norrin/jac"),rI=e=>{const{abpDetected:t,geminiError:s,hasGeminiBeenBlocked:a}=e,n=(0,qi.useRef)(!1);return(0,qi.useEffect)((()=>{n.current||(n.current=!0,new Promise((e=>{let t=null,s=null;const a=new Image,n=new Image;a.onload=()=>{t=!0,null!==s&&!1===s&&e(!0)},a.onerror=()=>e(!1),n.onload=()=>e(!1),n.onerror=()=>{s=!1,null!==t&&!0===t&&e(!0)},a.src="https://mail.yahoo.com/px.gif?ch=1",n.src="https://mail.yahoo.com/px.gif?ch=2"})).then((e=>{e&&t({mKey:Rl.JE.ABP_DETECTED,sec:Rl.nJ.RIGHT_RAIL,actionData:{hasGeminiBeenBlocked:a,geminiError:s}})})))}),[t,s,a]),null};rI.propTypes={abpDetected:zi().func.isRequired,geminiError:zi().object,hasGeminiBeenBlocked:zi().bool};const oI=(0,Yi.connect)((e=>{const{getAdsSelectors:t}=(0,Gl.selectors)(e),{getAllGeminiError:s,hasGeminiBeenBlocked:a}=t();return{geminiError:s(),hasGeminiBeenBlocked:a()}}),(e=>({abpDetected:t=>e((0,Zg.yu)({i13nModel:t}))})))(rI),iI=e=>{const{chromeExtensionAllowlist:t,disableWiderMailExtension:s,chromeLongtermExtensionList:a,legacyExtnDetected:n}=e,r=(0,qi.useRef)(!1);return(0,qi.useEffect)((()=>{r.current||(r.current=!0,(()=>{const e=location.pathname,r=new RegExp(`^(${S.slz})/test`);let o=[],i=[];r.test(e)||"undefined"==typeof chrome||void 0===chrome.runtime||void 0===chrome.runtime.connect||(t.forEach((e=>{const t=chrome.runtime.connect(e);t&&o.push(t),t.onDisconnect.addListener((e=>{o=o.filter((t=>t!==e)),0===o.length&&s()}))})),a.forEach((e=>{const t=chrome.runtime.connect(e);t&&i.push(t),t.onDisconnect.addListener((e=>{i=i.filter((t=>t!==e)),0===i.length&&n()}))})))})())}),[t,a,s,n]),null};iI.propTypes={chromeExtensionAllowlist:zi().array,chromeLongtermExtensionList:zi().array,disableWiderMailExtension:zi().func,legacyExtnDetected:zi().func};const lI=(0,Yi.connect)((e=>{const{getSetting:t}=(0,Gl.selectors)(e);return{chromeExtensionAllowlist:t(S.Zrf.CHROME_EXTENSION_ALLOWLIST),chromeLongtermExtensionList:t(S.Zrf.CHROME_LONGTERM_EXTENSION_LIST)}}),(e=>({disableWiderMailExtension:()=>e((0,hu.DV)()),legacyExtnDetected:()=>e((0,hu.dw)())})))(iI),cI=(e,{getAdPositions:t,region:s})=>{const{actionType:a,adRotationId:n,clientSidePrefetchEnabled:r,connectIdEnabled:o,darlaGeminiArbitration:i,debugDarla:l,doubleBuffering:c,isABPDetected:d,isAdBlockDetectionEnabled:E,isGeminiAdFeedbackInProgress:_,isRRCompactSize:u,isRightRailAdArbitrationEnabled:m,isWiderMailExtnEnabled:p,jacServiceHost:C,setMessageReadAdRotationTimeStamp:A,messageReadAdRotationIdleInterval:T,messageReadAdRotationInterval:h,messageReadAdRotationEnabled:g,messageReadAdRotationTimestamp:I,route:R,rootSpaceId:O,spaceId:D,timeToWaitSinceLastAdCall:N,userEmail:f}=e,M=aI(u),L=aI(I),P=aI(n),y=aI(D),b=aI(d),F=t().darla,U=(0,qi.useRef)(null),v=(0,qi.useRef)(null),w=(0,qi.useRef)(null),G=(0,qi.useRef)(!1),k=(0,qi.useRef)(null),H=(0,qi.useRef)(a),B=(0,qi.useRef)(!1),x=(0,qi.useRef)(!0);return(0,qi.useEffect)((()=>{const e=()=>{clearTimeout(k.current),k.current=null},t=()=>{e(),k.current=setTimeout((()=>{Date.now()<=I+T&&(A(),t())}),h)};g&&(L&&!I?e():L!==I&&t())}),[g,T,h,I,L,A]),(0,qi.useEffect)((()=>()=>{clearTimeout(null==k?void 0:k.current)}),[]),(0,qi.useEffect)((()=>{if(!window.JAC||!F.length)return;H.current=a;const e=({isPrefetch:e=!1}={})=>{var t,s;const a=e?O:D;window.JAC.setConfig((e=>{const t=sI()(eI),{spaceId:s,siteName:a,features:{debugDarla:n=!1,serviceHost:r="",doubleBuffering:o=!1,connectId:i=!1},excludeUBAPositions:l=!1,userEmail:c="",requestedPositions:d=[]}=e;return i&&c&&(t.client.idProviders={yahoo:{email:c}}),r&&(t.service.host=r),o&&(t.client.positions.DEFAULT.render.doubleBuffering=o),l&&["UBASKY","UBAMON","UBALREC"].forEach((e=>{delete t.service.positions[e],delete t.client.positions[e]})),d.length&&["LREC","LREC4","MON","SKY","UBASKY","UBAMON","UBALREC"].forEach((e=>{d.indexOf(e)<0&&(delete t.service.positions[e],delete t.client.positions[e])})),t.service.site.name=a||$g[S.BQZ.MAIL_APP],t.service.debug=n,t.service.site.spaceId=s,t.service.adServer.PG.siteAttributes=(({features:e={},buckets:t=[]})=>{const{darlaGeminiArbitration:s=!1}=e;return{...s?{geminifed:1}:null,...t.length?{"y-bucket":t.join(",")}:null,rs:`"${["lu:1"].join(";")}"`}})(e),t})({spaceId:a,siteName:$g[S.BQZ.MAIL_APP],features:{darlaGeminiArbitration:i,debugDarla:l,serviceHost:C,doubleBuffering:c,connectId:o},buckets:(null===(t=window)||void 0===t||null===(s=t.AppBootstrapData)||void 0===s?void 0:s.buckets)||[],userEmail:f}))},t=y&&y!==D,E=n!==P&&n-P>N||M!==u||t||b!==d;if(void 0!==window.JAC.getConfig()&&!t||e(),null!=B&&B.current||(B.current=!0,window.JAC.on("FETCH_START",(e=>{var t;const a=(null==e||null===(t=e.meta)||void 0===t?void 0:t.positionNames)||[],n=G.current?"jac_prefetch_call":"jac_fetch_call";U.current=nI.feature(n,{adPositions:a.join(","),rotationActionType:null==H?void 0:H.current,route:null==R?void 0:R.name,intl:s})})),window.JAC.on("FETCH_COMPLETE",(e=>{var t,a,n,r,o,i,l;null!=U&&U.current&&U.current.logSuccessAndLatency();const c=(null==e||null===(t=e.meta)||void 0===t?void 0:t.positionNames)||[],d=(null==e||null===(a=e.meta)||void 0===a||null===(n=a.response)||void 0===n?void 0:n.positions)||{},E=m?((null==e||null===(r=e.meta)||void 0===r||null===(o=r.response)||void 0===o||null===(i=o.adServer)||void 0===i||null===(l=i.exclusionStatus)||void 0===l?void 0:l.replaced)||"").split(","):[];c.forEach((e=>{var t,a,n,r,o;const i=null===(t=d[e])||void 0===t?void 0:t.status,l=1!==i;if(l&&m&&E.indexOf(e)>-1)return;const c=nI.feature("jac_pos_returned",{adPosition:e,adId:(null===(a=d[e])||void 0===a||null===(n=a.content)||void 0===n?void 0:n.adId)||-1,creativeId:(null===(r=d[e])||void 0===r||null===(o=r.content)||void 0===o?void 0:o.crId)||-1,intl:s,status:i});l?c.logFailure():c.logSuccessAndLatency()})),c.length&&!1===G.current&&window.JAC.render(c)})),window.JAC.on("FETCH_ERROR",(()=>{null!=U&&U.current&&U.current.logFailure()})),window.JAC.on("FETCH_TIMEOUT",(()=>{null!=U&&U.current&&U.current.logFailure()})),window.JAC.on("RENDER_START",(e=>{var t;v.current=nI.feature("jac_all_pos_render",{adPositions:((null==e||null===(t=e.meta)||void 0===t?void 0:t.positionNames)||[]).join(","),intl:s,route:null==R?void 0:R.name})})),window.JAC.on("RENDER_COMPLETE",(t=>{var s;null!=v&&v.current&&v.current.logSuccessAndLatency();const a=(null==t||null===(s=t.meta)||void 0===s?void 0:s.positionNames)||[];r&&a.length&&(G.current=!0,e({isPrefetch:!0}),window.JAC.fetch(a))})),window.JAC.on("POSITION_RENDER_START",(e=>{var t;const a=null==e||null===(t=e.meta)||void 0===t?void 0:t.positionName;a&&(w.current={...w.current||{},[a]:nI.feature("jac_pos_render",{adPosition:a,intl:s})})})),window.JAC.on("POSITION_RENDER_COMPLETE",(e=>{var t,s;const a=null==e||null===(t=e.meta)||void 0===t?void 0:t.positionName;a&&null!=w&&null!==(s=w.current)&&void 0!==s&&s[a]&&w.current[a].logSuccessAndLatency()})),window.JAC.on("POSITION_RENDER_FAILED",(e=>{var t,s;const a=null==e||null===(t=e.meta)||void 0===t?void 0:t.positionName;a&&null!=w&&null!==(s=w.current)&&void 0!==s&&s[a]&&w.current[a].logFailure()}))),window.JAC&&F.length&&!_&&(E||x.current)){const e=window.JAC.getFetched();if(e.length&&F.every((t=>e.indexOf(t)>-1)))window.JAC.render(F);else{const e=F.filter((e=>window.JAC.isPositionPending(e)));e.length&&window.JAC.abort(e),G.current=!1,window.JAC.fetch(F)}x.current=!1}}),[a,F,n,r,o,i,l,c,d,_,G,u,m,C,P,b,M,y,s,O,R,D,N,f]),qi.createElement(qi.Fragment,null,p?qi.createElement(lI,null):null,!p&&E?qi.createElement(oI,null):null)};cI.contextTypes={getAdPositions:zi().func,region:zi().string};const dI=(0,Yi.connect)((e=>{var t;const{isFeatureEnabled:s,isNarrowScreen:a,getSetting:n,getCurrentSpaceId:r,getAdsSelectors:o,getAccountSelectors:i,getAction:l,getRoute:c}=(0,Gl.selectors)(e),d=s(S.ANe.ADS),E=s(S.ANe.JAC_ADS),_=r(),{getAdRotationId:u,getFeedbackStartedSectionIds:m,getMessageReadAdRotationTimestamp:p,isABPDetected:C}=o(),A=u(),T=n(S.Zrf.TIME_TO_WAIT_SINCE_LAST_AD_CALL),h=a(),g=s(S.ANe.DARLA_GEMINI_ARBITRATION),I=s(S.ANe.DEBUG_DARLA),R=s(S.ANe.JAC_DOUBLE_BUFFERING),O=s(S.ANe.JAC_CONNECT_ID),D=s(S.ANe.LREC_MON_AD_ARBITRATION),N=n(S.Zrf.JAC_SERVICE_HOST),f=s(S.ANe.JAC_CLIENT_PREFETCH),M=l().type,L=s(S.ANe.IS_WIDER_MAIL_EXTN_ENABLED),P=s(S.ANe.JAC_AD_BLOCK_DETECTION),y=s(S.ANe.MESSAGE_READ_AD_ROTATION),b=p(),F=n(S.Zrf.MESSAGE_READ_AD_ROTATION_INTERVAL),U=n(S.Zrf.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),v=n(S.Zrf.SPACE_IDS).root,w=c(),G=(m()||[]).length>0,k=(null===(t=i().getPrimaryAccount())||void 0===t?void 0:t.email)||"";return{actionType:M,adRotationId:A,clientSidePrefetchEnabled:f,connectIdEnabled:O,darlaGeminiArbitration:g,debugDarla:I,doubleBuffering:R,hasAds:d,isABPDetected:C(),isAdBlockDetectionEnabled:P,isGeminiAdFeedbackInProgress:G,isRRCompactSize:h,isRightRailAdArbitrationEnabled:D,isWiderMailExtnEnabled:L,jacAds:E,jacServiceHost:N,messageReadAdRotationEnabled:y,messageReadAdRotationIdleInterval:U,messageReadAdRotationInterval:F,messageReadAdRotationTimestamp:b,rootSpaceId:v,route:w,spaceId:_,timeToWaitSinceLastAdCall:T,userEmail:k}}),(e=>({setMessageReadAdRotationTimeStamp:()=>e((0,hu.I5)())})))(cI),EI=()=>((0,qi.useEffect)((()=>{const e=Ph.feature("service_worker_ready");if(navigator.serviceWorker)navigator.serviceWorker.ready.then((()=>e.logSuccess()),(t=>e.logFailure(t)));else{const{loggerParams:e={}}=window&&window.AppBootstrapData||{};Ph.error("navigator.serviceWorker is undefined",{...e})}}),[]),null),_I=(0,Yi.connect)((e=>{const{getRoute:t,getSelectedAccountIdByRoute:s,getFoldersSelectors:a}=(0,Gl.selectors)(e),{getFolderIdsFromFolderType:n}=a(),r=s(t());return{inboxFolderId:n(S.Sck.INBOX,r)[0]}}),(e=>({navigateToInbox:t=>e((0,ol.YD)(t))})))((({navigateToInbox:e,inboxFolderId:t})=>((0,qi.useEffect)((()=>{const s=s=>{s.detail&&"mail"===s.detail.id&&e({inboxFolderId:t})};return window.addEventListener("ybar.topnav-link-click",s),()=>{window.removeEventListener("ybar.topnav-link-click",s)}}),[e,t]),null)));var uI=s(34656),mI=s(12782);function SI(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const pI=(0,Ji.defineMessages)({tabs_nav:{id:"landmark.tabs",defaultMessage:"Tabs"},heading_cheatsheet:{id:"keyboardShortcut.heading_cheatsheet",defaultMessage:"Press question mark key to invoke the keyboard shortcuts cheatsheet"}});class CI extends qi.Component{constructor(...e){super(...e),SI(this,"_handleVisibilityChange",(e=>{let t;if("blur"===e.type){const{activeElement:e}=document;if(e&&"iframe"===e.tagName.toLowerCase())return;t=!1}else t="focus"===e.type||"visible"===document.visibilityState;this.context.executeAction(bl.kL,{isVisible:t})})),SI(this,"getStateFromStores",(()=>{const{getFeaturesSelectors:e,getEnvironmentSelectors:t,getAccountById:s,getSelectedAccountId:a,getAccountSelectors:n}=(0,Gl.selectors)(this.context.store.getState()),r=e(),o=r.isEnabled("focusBasedVisibilityDetection"),i=r.isEnabled(S.ANe.YBAR_FUJI2_THEME),l=r.isEnabled("offlineChecking"),c=r.isEnabled(S.ANe.TIMEZONE_CHECK),d=r.isEnabled(S.ANe.SMARTVIEW_CATEGORIES_ENABLED),E=r.isEnabled(S.ANe.IS_WIDER_MAIL_EXTN_ENABLED),_=r.isEnabled(S.ANe.ADS),u=r.isEnabled(S.ANe.JAC_ADS),m=r.isEnabled(S.ANe.EXTRACTIONS_FEEDBACK),p=!!n().getVerifiedAutoForwardAccount()&&r.isEnabled(S.ANe.AUTO_FORWARD_NOTIFICATION)&&!r.isEnabled(S.ANe.MAIL_PRO),C=r.isEnabled(S.Zrf.HAS_WIDE_LOGO),A=r.getSetting("logoUrl"),T=r.getSetting("logoSrcSet"),h="rtl"===t().getPageDirection(),g=s(a()),I=(0,Hd.hE)(g);return{focusBasedVisibilityDetection:o,offlineChecking:l,timezoneCheck:c,smartViewCategoriesEnabled:d,isWiderMailExtnEnabled:E,hasAds:_&&!I,isExtractionsFeedbackEnabled:m,hasWideLogo:C,logoUrl:A,logoSrcSet:T,isRTL:h,ybarFuji2Enabled:i,showAutoForwardNotification:p,jacAds:u}}))}componentDidMount(){const{focusBasedVisibilityDetection:e}=this.getStateFromStores();window.addEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.addEventListener("blur",this._handleVisibilityChange),window.addEventListener("focus",this._handleVisibilityChange)),this.context.executeAction(bl.Q5),window.addEventListener("load",(()=>{Promise.resolve(this.context.executeAction(bl.dS))}))}componentWillUnmount(){const{focusBasedVisibilityDetection:e}=this.getStateFromStores();window.removeEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.removeEventListener("blur",this._handleVisibilityChange),window.removeEventListener("focus",this._handleVisibilityChange))}render(){const{props:e}=this,t=!!e.multiTaskModeSetting,{formatMessage:a}=this.context.intl,{offlineChecking:n,timezoneCheck:r,smartViewCategoriesEnabled:o,isWiderMailExtnEnabled:i,jacAds:l,hasAds:c,isExtractionsFeedbackEnabled:d,hasWideLogo:E,logoUrl:_,logoSrcSet:u,isRTL:m,ybarFuji2Enabled:S,showAutoForwardNotification:p}=this.getStateFromStores(),C=this.context.getCss(v_(),{tabs:t,ads:c,wideLogo:E,ybarFuji2Enabled:S});return qi.createElement(F_.Z,{logoUrl:_,logoSrcSet:u,isRTL:m,className:C.errorContainer},qi.createElement(mI.Z,{className:C.inputModeWrapper,key:i?"widerMailExtnEnabled":"widerMailExtnDisabled"},qi.createElement("div",{className:C.bgContainer},qi.createElement("div",{id:"app","data-test-id":"mail-app",className:C.container,tabIndex:-1},qi.createElement(Pl.cr,{defer:!0,import:"../../molecules/timezone_check",timezoneCheck:r,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,91525))},_moduleResolver:function(){return 91525}}),c&&!l?qi.createElement(b_,null):null,qi.createElement("section",{className:C.appHeader,role:"banner","data-yaft-module":"norrin_header"},qi.createElement("div",{className:C.ybar}),(t||o)&&qi.createElement("div",{className:C.tabWrapper,role:"navigation","aria-label":a(pI.tabs_nav)},qi.createElement("div",{className:C.tabSpace}," "),qi.createElement("div",{className:C.tab},qi.createElement(Jl,null)))),p&&qi.createElement(Pl.cr,{defer:!0,import:"../../molecules/auto_forward/auto_forward_notification_controller.jsx",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,1073))},_moduleResolver:function(){return 1073}}),qi.createElement(ac,{toastMap:d_}),qi.createElement(Tu,null),qi.createElement($l.Z,null),qi.createElement(O_,null),qi.createElement(Gg,null),n&&qi.createElement(Vg,null),qi.createElement(uh,e),c&&!l&&qi.createElement(Jg,null),c&&l&&qi.createElement(dI,null),qi.createElement(Pl.cr,{defer:!0,import:"./controller_views/print",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,42856))},_moduleResolver:function(){return 42856}}),qi.createElement(Pl.cr,{defer:!0,import:"./controller_views/heartbeat",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,60527))},_moduleResolver:function(){return 60527}}),qi.createElement(Pl.cr,{defer:!0,import:"../../molecules/downloader/index",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,51913))},_moduleResolver:function(){return 51913}}),d&&qi.createElement(Pl.cr,{defer:!0,bundleName:"feedback",import:"../../molecules/feedback",_moduleLoader:function(){return Promise.all([s.e(120),s.e(656)]).then(s.bind(s,97890))},_moduleResolver:function(){return 97890}}),S&&qi.createElement(_I,null),qi.createElement(EI,null))),qi.createElement("div",{className:C.accessible,role:"heading","aria-label":a(pI.heading_cheatsheet)})))}}SI(CI,"contextTypes",{executeAction:zi().func,config:zi().object,store:zi().object,intl:Ji.intlShape.isRequired,getCss:zi().func});const AI=(e=>function(e){var t,s;return s=t=class extends qi.Component{constructor(...e){super(...e),k_(this,"_isLatestWindow",(()=>{const e=(0,G_.zP)(H_);let t=!0;return e&&this._windowId!==parseInt(e.split(",").pop(),10)&&(t=!1),t})),k_(this,"_getWindowId",(()=>this._windowId)),k_(this,"_addNewWindow",(()=>{if(this._windowId)return;let e=(0,G_.zP)(H_);this._windowId=Math.floor(Date.now()/1e3),e?e+=`,${this._windowId}`:e=this._windowId,(0,G_.rl)(H_,e)})),k_(this,"_removeWindow",(()=>{let e=(0,G_.zP)(H_);if(!e)return;const t=e.split(",");e=t.filter((e=>this._windowId.toString()!==e)).join(","),(0,G_.rl)(H_,e)}))}getChildContext(){return{getWindowId:this._getWindowId,isLatestWindow:this._isLatestWindow}}componentDidMount(){this._addNewWindow(),window.addEventListener("beforeunload",this._removeWindow)}componentWillUnmount(){this._removeWindow()}render(){return qi.createElement(e,this.props)}},k_(t,"displayName","WindowManager"),k_(t,"childContextTypes",{getWindowId:zi().func,isLatestWindow:zi().func}),s}(e))(w_.JJ(((e,{toastWrapper:t})=>{class s extends qi.Component{constructor(e,t){super(e);const{getFeaturesSelectors:s}=(0,Gl.selectors)(t.store.getState()),a=s();this.showToast=this.showToast.bind(this),this.closeToast=this.closeToast.bind(this),this.clearToastTimeoutHandler=this.clearToastTimeoutHandler.bind(this),this.resumeToast=this.resumeToast.bind(this),this.getRole=this.getRole.bind(this),this.notificationTTL=a.getSetting("notificationTTL")||5e3,this.toastTimeoutHandler=null}getChildContext(){return{toast:this.showToast}}getRole(e){return e.requireInteraction?S._tT.ALERT_DIALOG:e.type===S.j_x.NORMAL?S._tT.STATUS:S._tT.ALERT}renderToastWrapperSubtree({toast:e,role:s}){Xi.unstable_renderSubtreeIntoContainer(this,qi.createElement(t,{toast:e,role:s,onClose:this.closeToast,onPause:this.clearToastTimeoutHandler,onResume:this.resumeToast}),this.toastContainerNode)}showToast(e){(0,h.jU)()&&(this.lastToast&&(0,g.u9)(e,"priority",S.l9v.LOW)<(0,g.u9)(this.lastToast,"priority",S.l9v.LOW)||(this.clearToastTimeoutHandler(),this.lastToast=e,this.renderToastWrapperSubtree({toast:e,role:this.getRole(e)}),e.requireInteraction||(this.toastTimeoutHandler=setTimeout(this.closeToast,this.notificationTTL))))}closeToast(){this.lastToast&&(this.renderToastWrapperSubtree({toast:null,role:this.getRole(this.lastToast)}),delete this.lastToast),this.clearToastTimeoutHandler()}clearToastTimeoutHandler(){this.toastTimeoutHandler&&clearTimeout(this.toastTimeoutHandler)}resumeToast(){this.lastToast&&!this.lastToast.requireInteraction&&(this.toastTimeoutHandler=setTimeout((()=>this.closeToast()),this.notificationTTL))}componentDidMount(){this.toastContainerNode=document.createElement("div");const e=document.getElementById("app");e&&(e.appendChild(this.toastContainerNode),this.renderToastWrapperSubtree({toast:null,role:S._tT.STATUS}))}componentWillUnmount(){this.closeToast()}render(){return qi.createElement(e,this.props)}}return s.contextTypes={store:zi().object},s.childContextTypes={toast:zi().func},s})((TI=(0,ji.w)((0,uI.z)(CI)),gI=hI=class extends qi.Component{constructor(...e){super(...e),D_(this,"adPositions",{darla:[],pencil:[]})}getChildContext(){return{registerAdPosition:({darlaPos:e,pencilPos:t})=>{e&&(this.adPositions.darla=Js()(this.adPositions.darla.concat(e))),t&&(this.adPositions.pencil=Js()(this.adPositions.pencil.concat(t)))},removeAdPosition:({darlaPos:e,pencilPos:t})=>{e&&(this.adPositions.darla=this.adPositions.darla.filter((t=>t!==e))),t&&(this.adPositions.pencil=this.adPositions.pencil.filter((e=>e!==t)))},getAdPositions:()=>this.adPositions}}render(){return qi.createElement(TI,this.props)}},D_(hI,"childContextTypes",{registerAdPosition:zi().func,removeAdPosition:zi().func,getAdPositions:zi().func}),gI),{appName:S.BQZ.MAIL_APP,toastWrapper:S_})));var TI,hI,gI;w_.JJ(CI);var II=s(12913),RI=s(20879),OI=s.n(RI),DI=s(33861),NI=s(76796),fI=s.n(NI),MI=s(7351);function LI(){return(LI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const PI=(0,YS.A)("/img/festive_graphic.png"),yI=gl()(fI()),bI=[S.zoT.GOOGLE,S.zoT.OUTLOOK,S.zoT.AOL],FI={padding:0,height:9*Ue.mg$+"px",width:37*Ue.mg$+"px",margin:2*Ue.mg$+"px 0 0 0"},UI=(0,Ji.defineMessages)({header_message:{id:"external_users_header_message",defaultMessage:"Add your existing mailboxes to {mailBrandNameString}"},switch_account:{id:"external_users_switch_account",defaultMessage:"Switch account"}}),vI=({accountType:e,userName:t,onNext:s,onProviderSelect:a},n)=>{const{intl:{locale:r,formatMessage:o},region:i}=n,l=(0,Hd.tO)(t);-1!==[S.zoT.VERIZON_MEDIA,S.zoT.YAHOO_INC].indexOf(l)&&-1===bI.indexOf(l)&&bI.push(l);const c=e=>{a(e),s&&s()},d=qi.createElement("b",{className:yI.userName},t);return qi.createElement("div",{className:yI.upsellPage},qi.createElement("img",{className:yI.image,alt:o(UI.header_message),src:PI}),qi.createElement("h1",{className:yI.header},qi.createElement(Ji.FormattedMessage,LI({},UI.header_message,{values:{mailBrandNameString:n.mailBrandNameString}}))),qi.createElement("div",{className:yI.body},qi.createElement("div",{className:yI.description},e===S.tO8.PHONE?qi.createElement(Ji.FormattedMessage,{id:"external_phone_login_message",defaultMessage:"You're signed in with phone number {userName}",values:{userName:d}}):qi.createElement(Ji.FormattedMessage,{id:"external_email_login_message",defaultMessage:"You're signed in as {userName}.",values:{userName:d}})," ",qi.createElement("a",{className:yI.switchAccount,href:(0,S.Iu_)(i,r),title:o(UI.switch_account)},qi.createElement(Ji.FormattedMessage,UI.switch_account))),qi.createElement("div",{className:yI.description},l?qi.createElement(Ji.FormattedMessage,{id:"external_users_known_imap_description",defaultMessage:"You can read, compose and sort all your {name} messages from Yahoo Mail.",values:{name:(0,Hd.zJ)(l)}}):qi.createElement(Ji.FormattedMessage,{id:"external_users_unkown_imap_description",defaultMessage:"You can access your Google, Outlook and AOL mailboxes, all from within Yahoo Mail."})),qi.createElement("div",{className:yI.providersOption},qi.createElement("ol",{className:yI.accountList},bI.filter((e=>!l||l===e)).map((e=>qi.createElement("li",{key:e,className:yI.listItem,"data-test-id":"supported-imap-providers"},qi.createElement(MI.Z,{provider:e}),qi.createElement(Sl.Z,{style:FI,kind:pl.F.PRIMARY,"data-test-id":`add-account-${e}-btn`,onClick:c.bind(null,e)},l?qi.createElement(Ji.FormattedMessage,{id:"user_registration_sign_in_btn",defaultMessage:"Sign in to {name}",values:{name:(0,Hd.zJ)(l)}}):qi.createElement(Ji.FormattedMessage,{id:"user_registration_add_account",defaultMessage:"Add account"})))))))),qi.createElement("div",{className:yI.footer},!l&&qi.createElement(Ji.FormattedMessage,{id:"external_supported_providers",defaultMessage:"We only support these providers as of now"})))};vI.contextTypes={intl:Ji.intlShape,region:zi().string,mailBrandNameString:zi().string};const wI=vI;var GI=s(9577),kI=s.n(GI);const HI=gl()(kI()),BI=({provider:e})=>qi.createElement("div",{className:HI.leftRailItemsContainer},qi.createElement("button",{className:HI.link,disabled:!0},qi.createElement(Ji.FormattedMessage,{id:"user_registration_compose_btn",defaultMessage:"Compose"})),e&&qi.createElement("div",{className:HI.accountslist,"data-test-id":"known-imap-provider"},qi.createElement("span",{className:HI.accountsListItem,"data-test-id":"imap-provider-name"},(0,Hd.zJ)(e)),qi.createElement("div",{className:HI.moreIcon},qi.createElement("span",{className:HI.iconContainer},qi.createElement(el.Z,{kind:tl.Kinds.MORE,size:tl.Sizes.XXXS,colorState:tl.ColorStates.SECOND_LEVEL_GRAY})))),qi.createElement("ul",{className:HI.folderList},(0,TS.w6)(9).map((e=>{const t=e%3*10+28+"px";return qi.createElement("li",{key:e,className:HI.listItem},qi.createElement("div",{className:HI.folderName,style:{width:t}}))}))),qi.createElement("div",{className:HI.header},qi.createElement("div",{className:HI.folderName,style:{width:"41px"}}),qi.createElement("div",{className:HI.folderName,style:{width:"25px"}})),qi.createElement("ul",{className:HI.list},[tl.Kinds.TAB_IMAGES,tl.Kinds.DOCUMENTS_S,tl.Kinds.CAL_MAYBE].map(((e,t)=>{const s=t%3*10+28+"px";return qi.createElement("li",{key:e,className:HI.listItem},qi.createElement(el.Z,{kind:e,size:tl.Sizes.XS,colorState:tl.ColorStates.SECOND_LEVEL_GRAY}),qi.createElement("div",{className:HI.folderName,style:{width:s}}))}))));var xI=s(1558),VI=s(38346),WI=s(10312),ZI=s(31025),KI=s(24325);function zI(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const qI=()=>{},YI=gl()(OI()),jI=(0,Ji.defineMessages)({back_button_title:{id:"external_users_back_btn_title",defaultMessage:"Back"},sign_in_button_title:{id:"external_users_sign_in_btn_title",defaultMessage:"Sign in"},cancel_button_title:{id:"external_users_cancel_btn_title",defaultMessage:"Cancel"},relaunch_button_title:{id:"external_users_oauth_relaunch_button_title",defaultMessage:"Relaunch window"}});class QI extends qi.Component{constructor(...e){super(...e),zI(this,"state",{email:"",selectedProvider:""}),zI(this,"handleChange",((e,t)=>{const s=this.state[e],{onEmailProviderSelected:a}=this.props;s!==t&&("provider"===e?this.setState({email:"",selectedProvider:t},(()=>{const e={interactionType:Rl.Rb.nav,mKey:Rl.JE.USERNAME_PHONE_REG_ADD_PROVIDER,sec:Rl.nJ.USERNAME_PHONE_REG,actionData:{selectedProvider:t}};t&&a({i13nModel:e})})):this.setState({[e]:t}))})),zI(this,"handleCancelAuthorize",(({status:e,provider:t,email:s})=>{this.props.onAuthorizationCanceled({i13nModel:{interactionType:Rl.Rb.click,mKey:Rl.JE.USERNAME_PHONE_REG_CANCEL_AUTHORIZE,sec:Rl.nJ.USERNAME_PHONE_REG,actionData:{status:e,provider:t,email:s}}})})),zI(this,"handleCreateAccount",(e=>{const{email:t}=e,{onAddNewAccount:s}=this.props,a={interactionType:Rl.Rb.nav,mKey:Rl.JE.USERNAME_PHONE_REG_ADD_ACCOUNT,sec:Rl.nJ.USERNAME_PHONE_REG,actionData:{email:t}};s({...(0,Hd._K)(e),i13nModel:a})})),zI(this,"_renderSignInComponentTitle",(()=>qi.createElement("h5",{className:YI.titleLabel},qi.createElement(Ji.FormattedMessage,{id:"external_users_add_mailbox_header",defaultMessage:"You are almost done!"})))),zI(this,"_resetProvider",((e=qI)=>{this.setState({selectedProvider:""},e)})),zI(this,"_renderSignInComponentNav",(({onPrevious:e,onNext:t,isStepValid:s})=>{const{formatMessage:a}=this.context.intl;return qi.createElement("div",{className:YI.navWrapper},qi.createElement(Sl.Z,{kind:pl.F.SECONDARY,title:a(jI.back_button_title),"data-test-id":"username-phone-reg-back-btn",onClick:this._resetProvider.bind(this,e)},qi.createElement(Ji.FormattedMessage,jI.back_button_title)),qi.createElement(Sl.Z,{onClick:t,disabled:!s(),kind:pl.F.PRIMARY,"data-test-id":"username-phone-reg-signin-btn",title:a(jI.sign_in_button_title)},qi.createElement(Ji.FormattedMessage,jI.sign_in_button_title)))})),zI(this,"_renderOAuthComponentNav",(({onPrevious:e,onNext:t})=>{const{formatMessage:s}=this.context.intl;return qi.createElement("div",{className:YI.navWrapper},qi.createElement(Sl.Z,{kind:pl.F.SECONDARY,title:s(jI.back_button_title),onClick:e},qi.createElement(Ji.FormattedMessage,jI.back_button_title)),qi.createElement(Sl.Z,{onClick:t,kind:pl.F.PRIMARY,"data-test-id":"username-phone-reg-relaunch-btn",title:s(jI.relaunch_button_title)},qi.createElement(Ji.FormattedMessage,jI.relaunch_button_title)))})),zI(this,"_renderOAuthComponentTitle",(()=>qi.createElement("h5",{className:YI.titleLabel},qi.createElement(Ji.FormattedMessage,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"}))))}_doesEmailAlreadyExist(e){return!!this.props.accounts.find((t=>t.email===e))}_getSteps(){const{email:e,selectedProvider:t}=this.state,{userName:s,accountType:a,appRootPath:n,accounts:r}=this.props,o=(0,Hd.tO)(s),i=[qi.createElement(wI,{key:"upsell",userName:s,accountType:a,onProviderSelect:this.handleChange.bind(this,"provider")})];if(this._doesEmailAlreadyExist(s)&&o){const e=()=>this._getError();return i.push(qi.createElement(e,{key:"external-accounts-error"})),i}return o||i.push(qi.createElement(ZI.ZP,{key:"address",email:e,accounts:r,onAuthorizeAccount:qI,provider:t,onChange:this.handleChange,renderNavComponent:this._renderSignInComponentNav,renderTitleComponent:this._renderSignInComponentTitle})),i.push(qi.createElement(WI.Z,{key:"signin",hideCancelButton:!0,handleAddSuccess:qI,onAuthorizeAccount:qI,appRootPath:n,onAuthorize:this.handleCreateAccount,onCancelAuthorize:this.handleCancelAuthorize,email:o?s:e,provider:o||t,renderNavComponent:this._renderOAuthComponentNav,renderTitleComponent:this._renderOAuthComponentTitle})),i.push(qi.createElement(KI.Z,{key:"add-confirm",isSyncing:!0})),i}_getError(){const{userName:e}=this.props;return qi.createElement("div",{className:YI.errorContainer,"data-test-id":"external-accounts-error"},this._renderOAuthComponentTitle(),qi.createElement("div",{className:YI.errorWrapper},qi.createElement("div",{className:YI.errorIcon},qi.createElement(el.Z,{size:tl.Sizes.XS,kind:tl.Kinds.EXCLAMATION_ALT,colorState:tl.ColorStates.WARNING_GRAD_RED})),qi.createElement(Ji.FormattedMessage,{id:"unr_error_account_add_failed",defaultMessage:"Your email {email} already exists.\n                        If you deleted the mailbox recently, please wait for a few minutes\n                        until the process is complete and try again",values:{email:qi.createElement("strong",null,e)}})),qi.createElement("div",{className:YI.navWrapper},qi.createElement(Sl.Z,{kind:pl.F.SECONDARY,onClick:()=>window.location.reload(),title:this.context.intl.formatMessage(jI.back_button_title)},qi.createElement(Ji.FormattedMessage,jI.back_button_title))))}componentDidMount(){const e={interactionType:Rl.Rb.nav,mKey:Rl.JE.USERNAME_PHONE_REG_ONBOARDING,sec:Rl.nJ.USERNAME_PHONE_REG};this.props.onLoadComplete({i13nModel:e})}render(){const{userName:e,ybarFuji2Enabled:t}=this.props,{selectedProvider:s}=this.state,a=(0,Hd.tO)(e),n=gl()(OI(),{ybarFuji2Enabled:t});return qi.createElement("div",{id:"app",className:n.wrapper},qi.createElement("div",{className:n.shadedContainer},qi.createElement("div",{className:n.container,"data-test-id":"username-phone-reg-upsell"},qi.createElement("nav",{className:n.leftRail},qi.createElement(BI,{provider:a||s})),qi.createElement("main",{className:n.widthRestricter},qi.createElement("section",{className:n.mainContent},qi.createElement(DI.Z,null,this._getSteps())),qi.createElement("aside",{className:n.rightRail})))))}}zI(QI,"contextTypes",{intl:Ji.intlShape.isRequired});const XI=(0,Yi.connect)((function(e){const{getAccountSelectors:t,getFeaturesSelectors:s,getAllAccounts:a}=(0,Gl.selectors)(e),{isEnabled:n,getSetting:r}=s(),o=r("appRootPath"),{type:i}=t().getPrimaryAccount()||{},l=n(S.ANe.YBAR_FUJI2_THEME);return{accountType:i,appRootPath:o,accounts:a(),ybarFuji2Enabled:l}}),(function(e){return{onLoadComplete:t=>e({type:nc.USER_NAME_PHONE_REG_UPSELL_LOADED,...t}),onAuthorizationCanceled:t=>e({type:nc.USER_NAME_PHONE_REG_CANCEL_AUTH,...t}),onAddNewAccount:t=>e((0,VI.j)(t)),onEmailProviderSelected:t=>e((0,xI.hN)(t))}}))(QI);var JI=s(41451);function $I(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const eR="mobile-dialog";var tR=s(51892);const sR=({onDismiss:e,description:t,dismissLabel:s,title:a})=>qi.createElement(tR.Z,{onClose:e,onAccept:e,title:a,message:t,acceptText:s,hideClose:!0}),aR=({title:e,description:t,onDismiss:s,onConfirm:a,dismissLabel:n,confirmLabel:r,overridingClass:o},{intl:i})=>qi.createElement(rS.Z,{hideIcon:!0,title:e,message:t,onConfirm:a,onAbort:s,acceptLabel:r||i.formatMessage({id:"confirm.accept",description:"Accept button label on confirm dialog",defaultMessage:"OK"}),cancelLabel:n||i.formatMessage({id:"confirm.cancel",description:"Cancel button label on confirm dialog",defaultMessage:"Cancel"}),overridingClass:o});aR.contextTypes={intl:Ji.intlShape};const nR=aR;let rR=(0,Yi.connect)((function(e){const{getFeaturesSelectors:t,getAccountSelectors:s}=(0,Gl.selectors)(e),a=s().userHasRegisteredAccount(),n=t().isEnabled(S.Zrf.MAIL_TABS);return{userName:t().getSetting(S.Zrf.LOGIN_NAME),multiTaskModeSetting:n,userHasRegisteredAccount:a}}))((function({userHasRegisteredAccount:e,multiTaskModeSetting:t,userName:s,context:a}){return e?qi.createElement(AI,{multiTaskModeSetting:t,context:a}):qi.createElement(XI,{userName:s})}));rR=((e,{alert:t,confirm:s,prompt:a})=>{class n extends qi.Component{constructor(...e){super(...e),$I(this,"showAlert",(e=>{if(!t)throw new TypeError("Missing Alert component");if(!(0,h.jU)())return;this.renderDialogSubtree(S.w3P.ALERT,{...e,onDismiss:(()=>{this.renderDialogSubtree(S.w3P.ALERT,{},!1),e.onDismiss&&e.onDismiss()}).bind(this)})})),$I(this,"showConfirm",(e=>{if(!s)throw new TypeError("Missing Confirm component");if(!(0,h.jU)())return;this.renderDialogSubtree(S.w3P.CONFIRM,{...e,onDismiss:(()=>{this.renderDialogSubtree(S.w3P.CONFIRM,{},!1),e.onDismiss&&e.onDismiss()}).bind(this),onConfirm:(()=>{this.renderDialogSubtree(S.w3P.CONFIRM,{},!1),e.onConfirm()}).bind(this)})})),$I(this,"showPrompt",(e=>{if(!a)throw new TypeError("Missing Prompt component");if(!(0,h.jU)())return;this.renderDialogSubtree(S.w3P.PROMPT,{...e,onDismiss:(()=>{this.renderDialogSubtree(S.w3P.PROMPT,{},!1),e.onDismiss&&e.onDismiss()}).bind(this),onConfirm:(t=>{this.renderDialogSubtree(S.w3P.PROMPT,{},!1),e.onConfirm(t)}).bind(this)})}))}getChildContext(){return{alert:this.showAlert,confirm:this.showConfirm,prompt:this.showPrompt}}componentDidMount(){this.dialogContainerNode=document.createElement("div"),this.dialogContainerNode.id=eR;document.body.appendChild(this.dialogContainerNode)}renderDialogSubtree(e,n,r=!0){const o={...n,layerRootId:eR};e===S.w3P.ALERT?Xi.unstable_renderSubtreeIntoContainer(this,r?qi.createElement(t,o):qi.createElement("span",null),this.dialogContainerNode):e===S.w3P.CONFIRM?Xi.unstable_renderSubtreeIntoContainer(this,r?qi.createElement(s,o):qi.createElement("span",null),this.dialogContainerNode):e===S.w3P.PROMPT&&Xi.unstable_renderSubtreeIntoContainer(this,r?qi.createElement(a,o):qi.createElement("span",null),this.dialogContainerNode)}render(){return qi.createElement(e,this.props)}}return n.childContextTypes={alert:zi().func,confirm:zi().func,prompt:zi().func},n})(rR,{alert:sR,confirm:nR}),rR=(0,JI.Z)(rR),rR=(0,II.provideContext)(rR,{config:zi().object,store:zi().object,loader:Cc.LoaderType,timezone:Cc.TimezoneType,region:zi().string,locale:Cc.LocaleShape,os:zi().string,rapidParams:zi().object,usmLogString:zi().string,credstoreClient:Cc.CredstoreClientType,cloudStorageClient:Cc.CloudStorageClientType,cspToken:zi().string,nextgenInviteSecret:zi().string,linkEnhancerClient:Cc.LinkEnhancerClientType,partner:zi().string,mailBrandNameString:zi().string,yahooBrandNameString:zi().string,yahooMailPlusBrandName:zi().string,appId:zi().string});const oR=rR;function iR(e,{bundleMapURL:t}={}){return t?(s=t,new N.Z("GET",s).setHeader("Accept","application/json").send().then((e=>JSON.parse(e.text)))).then((t=>(window.__lazyBundles=t,lR(e,t)))):new Promise((t=>t(lR(e,window.__lazyBundles))));var s}function lR(e,t){const s=t.urls[t.urlIndexForEntry[e]];if(!s)throw new Error(`Unknown bundle URL for module ${e}`);return s}class cR{constructor({disabled:e}={}){this._cache={},this._disabled=e}locate(e,{bundleMapURL:t}){return iR(e,{bundleMapURL:t})}fetch(e,{cache:t}){if(!t)return nT.Z.loadScript(e);const s=this._cache;return s[e]||(s[e]=nT.Z.loadScript(e)),s[e]}loadModule(e,{cache:t=!0,bundleMapURL:s}={}){if(this._disabled)return Promise.reject(new Error("Lazy loading disabled"));const a={cache:t,bundleMapURL:s};return this.locate(e,a).then((e=>this.fetch(e,a)))}}const dR={name:"MailFluxibleContextPlugin",plugContext(e){let{config:t,guidHash:s,mailWssid:a,mailboxAttributes:n,crumb:r,signoutCrumb:o,guid:i,csid:l,timezone:c,environment:d,region:E,os:_,browserName:u,farm:m,partner:S,usmLogString:p,locale:C,localeData:A,cspToken:T,__initializeFeatures__:g,queryStringOverrides:I,buildNumber:R,launchTime:O,loggerParams:D,encryptedQueryParams:N,nextgenInviteSecret:f,mailBrandNameString:M,userNamespace:L,yahooBrandNameString:P,yahooMailPlusBrandName:y,appId:b}=e;return{plugComponentContext(e,n){const{store:i,apiClients:l={}}=n;e.crumb=r,e.signoutCrumb=o,e.config=t,e.loader=new cR,e.timezone=c,e.region=E,e.usmLogString=p,e.os=_,e.browserName=u,e.locale=Object.assign({name:C},A),e.cspToken=T,e.nextgenInviteSecret=f,e.store=i,e.mailAPIClient=l.mailAPIClient,e.mailWssid=a,e.credstoreClient=l.credstoreClient,e.linkEnhancerClient=l.linkEnhancerClient,e.cloudStorageClient=l.cloudStorageClient,e.partner=S,e.mailBrandNameString=M,e.yahooBrandNameString=P,e.yahooMailPlusBrandName=y,e.appId=b,e.guidHash=s,e.userNamespace=L},plugActionContext(e,s){const a=s.store;e.encryptedQueryParams=N,e.config=t,e.store=a,e.mailboxAttributes=n,e.timezone=c,e.dispatch=(e,t)=>a.dispatch({...t,type:e}),Object.assign(e,{...s.apiClients,csid:l})},plugStoreContext(){},dehydrate:()=>({buildNumber:R,config:t,launchTime:O,guidHash:s,mailWssid:a,guid:i,crumb:r,signoutCrumb:o,mailboxAttributes:n,csid:l,locale:C,localeData:A,timezone:c,region:E,usmLogString:p,cspToken:T,nextgenInviteSecret:f,os:_,browserName:u,farm:m,partner:S,environment:d,__initializeFeatures__:g,queryStringOverrides:I,loggerParams:(0,h.jU)()?{}:D,encryptedQueryParams:N,mailBrandNameString:M,userNamespace:L,yahooBrandNameString:P,yahooMailPlusBrandName:y,appId:b}),rehydrate(e){R=e.buildNumber,t=e.config,s=e.guidHash,a=e.mailWssid,r=e.crumb,o=e.signoutCrumb,i=e.guid,l=e.csid,O=e.launchTime,C=e.locale,A=e.localeData,c=e.timezone,E=e.region,p=e.usmLogString,_=e.os,u=e.browserName,m=e.farm,S=e.partner,d=e.environment,g=e.__initializeFeatures__,I=e.queryStringOverrides,D=e.loggerParams,T=e.cspToken,f=e.nextgenInviteSecret,N=e.encryptedQueryParams,n=e.mailboxAttributes,M=e.mailBrandNameString,L=e.userNamespace,P=e.yahooBrandNameString,y=e.yahooMailPlusBrandName,b=e.appId}}}};var ER=s(549),_R=s(576),uR=s(30155);const mR=(0,Ji.defineMessages)({hasUnsavedMessage:{id:"warning.has_unsaved_message",defaultMessage:"You are about to leave with unsaved data. Continue?"},confirmRouteChangeModalTitle:{id:"warning.confirm_route_change_modal_title",defaultMessage:"Do you want to leave this page?"},confirmRouteChangeModalBody:{id:"warning.confirm_route_change_modal_body",defaultMessage:"Changes you made may not be saved."},confirmRouteChangeModalLeaveButton:{id:"warning.confirm_route_change_modal_leave_button_text",defaultMessage:"Leave"},confirmRouteChangeModalCancelButton:{id:"warning.confirm_route_change_modal_cancel_button_text",defaultMessage:"Cancel"},unloadPromptMessage:{id:"warning.unsaved_data_unload_prompt_message",defaultMessage:"Changes you made may not be saved."}});var SR=s(45578),pR=s.n(SR);const CR=(0,g.gP)(["mrdparam","search_keyword","to_list","mailboxId"]);(0,g.gP)(["sky.mail.yahoo.com","rogers.mail.yahoo.com"]),S.CbW.DESKTOP_MAIL_VERSION,S.sUv.NORRIN;function AR(e,t){if(!t)return[];const{getMaxTabCounts:s,isDraftGroup:a,doesGroupHasStaleMessageId:n}=(0,Gl.selectors)(e),r=s(),o=[...e.pages,t];if(o&&o.length<=r)return[];const i=o.reduce(((e,t)=>Bl(t)?e.concat(t):e),[]),l=i.reduce(((e,t)=>Bl(t)&&!a(t.params.groupId)?e.concat(t):e),[]);if(l.length<=r)return[];const c=l.length-r,d=l.sort(((e,t)=>(e.timestamp||0)-(t.timestamp||0))).slice(0,c);return[...i.reduce(((e,t)=>n(t)?e.concat(t):e),[]),...d]}const TR=(e,t)=>{const{normalizeRoute:s,getRoute:a,getPreviousRoute:n,getSetting:r,isSingleDraftGroup:o,findUnsyncedDataByCsid:i,getLastSaveTimeStampForDraft:l,getPages:c,doesRouteContainFailure:d,getSmartViewPageByType:E,getQueryParams:_,getStreamsSelectors:u,getSelectedAccountId:m,getDraftFolderIdByAccountId:p,getSmartViewTypeFromRoute:C,getSmartViewPosition:A,getSettingsPageRoute:T,isMobileRoute:h,createPageForRoute:I,getCurrentHistoryState:R,isFeatureEnabled:O,isOldNewMailInboxStyle:D}=(0,Gl.selectors)(e),{type:N,route:f,actionTimestamp:M}=t;switch(N){case nc.INITIAL_STATE:{const e=a(),n=(0,Hl.LY)(e),r=(0,Hl.Fh)(n),o=D(),{folderId:i,launchError:l,encryptedQueryParams:c={},folders:d}=t,E=_(),u="1"===E.openGIFPicker,m="1"===E.openStationery;let p;if(e.timestamp=M,c[CR.mrdparam]&&(0,g.VO)(c[CR.mrdparam]).some(Boolean)&&(p=c[CR.mrdparam]),u&&(p={...p||{},showGIFPicker:u}),m&&(p={...p||{},showStationeryPicker:m}),t={...t,route:e,mrdParams:p},!i&&!(0,Hl.AU)(e))return t;const C=i||r;let A=s((0,wl.i5)(C));const T=d.find((e=>{if(e.folder.types.includes(S.Sck.INBOX)&&e.folder.id===C)return e}));let h=!1;if(T)if(!o||e.name!==S.n8z.FOLDER&&e.name!==S.n8z.BASE)o||!(0,Hl.AU)(e)&&e.name!==S.n8z.BASE||(A=s((0,wl.i5)(C)),h=!0);else{const e=T.folder.accountId;A=s((0,wl.jK)(S.K8C.NEWMAIL,{accountIds:[e],folders:[C]})),h=!0}return(e.name===S.n8z.BASE||l&&A&&A.name||h)&&(t={...t,route:A,listId:(0,Hl.LY)(A)}),t}case nc.OPEN_PAGE_REQUESTED:{const n=a();switch(f.name){case S.n8z.NEW_DRAFT:{const{params:e={}}=f,{params:a={}}=n,r=n.name===f.name&&(l(a.csid)||Boolean(i(a.csid)));return{...t,route:{...s(f),timestamp:M},previousRoute:n,forceNewPage:r,csid:e.csid}}case S.n8z.SEARCH:{const e=(0,Hl.LY)(f),a=(0,Hl.zu)(f)?C(f):null,r=a?E(a):null,o=a?!!r:n&&n.name===S.n8z.SEARCH&&!(0,Hl.yE)((0,Hl.LY)(n));return{...t,route:{...s(f),timestamp:M},previousRoute:r||n,forceNewPage:!r&&(0,Hl.yE)(e),replaceRoute:o}}case S.n8z.LIST:{const e=(0,Hl.zu)(f)?C(f):null,a=e?E(e):null;return{...t,route:{...s(f),timestamp:M},previousRoute:a||n,replaceRoute:!!a}}case S.n8z.SETTINGS:{const e=T()||null;return{...t,route:{...s(f),timestamp:M},previousRoute:e||n,replaceRoute:!!e}}default:{const a=f&&{route:{...s(f),timestamp:M}};return{...t,...a,previousRoute:n,tabsToRemove:AR(e,a.route)}}}}case nc.CLOSE_ALL_PAGES_REQUESTED:{const e=c().filter((e=>{if(e.name===S.n8z.FOLDER)return!1;const t=(0,Hl.zu)(e)?C(e):null;return!(t&&A(t)===S.sDs.TAB_BAR)}));return{...t,pagesToClose:e}}case nc.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const e=t.previousRoute||n();if(h(e)){const a=R(),n=(0,wl.fq)(t.listId,t.csid),r=I(n,1,a);return{...t,previousRoute:e,route:{...s(n),timestamp:M},nextPage:r}}return r(S.ANe.CONVERSATIONS)?O(S.ANe.MESSAGE_LIST_CONTEXT_MENU)&&t.triggeredFromContextMenu?{...t,route:s((0,wl.m9)(t.listId,t.groupId,e.query)),previousRoute:e}:{...t,route:f&&{...s(t.route),timestamp:M}||a(),previousRoute:e}:{...t,previousRoute:e,route:{...s((0,wl.Rl)(t.csid,{},e)),timestamp:M}}}case nc.SETTINGS_CHANGE_REQUESTED:{const e=a(),n=c(),r=()=>n.some((e=>e.name===S.n8z.SETTINGS));return e.timestamp=M,t.name===S.Zrf.MAIL_TABS&&t.value&&e.name!==S.n8z.SETTINGS&&!r()?{...t,previousRoute:e,route:e,pages:[...n,s((0,wl.Tx)({settingsGroupId:S.u5h.PERSONALIZE_INBOX}))]}:{...t,previousRoute:e,route:e}}case nc.SYNC_DATA:{const e=t.previousRoute||n(),r=f&&s(t.route)||a();return r.timestamp=M,{...t,route:r,previousRoute:e,pages:c()}}case nc.V3_MESSAGE_SEND_FAILED:{let e;const r=c(),i=a(),{csid:l,groupId:E,previousRoute:_,listId:C}=t,A=_||n();i.timestamp=M,r.length||r.push(i);const T=(0,Hl.LY)(i),h=O(S.ANe.CONVERSATIONS),g=(0,l_.BA)([T]),{doesStreamExist:I,getCursorSelectors:R}=u(),{id:D,listId:N}=I(g)&&R(g).getCursorItem()||{};if(E)if(o(E)||!h){const t=p(m()),s=(0,Hl.Kw)(t);e=(0,wl.fq)(s,l,i.query)}else e=(0,wl.m9)(C,E,i.query);else e=(0,wl.Rl)(l,i.query);const[f,L]=Ys()(r.slice(1),(e=>e.params&&E&&e.params.groupId===E||d(e)));return E&&E===D&&N===C?{...t,route:i,previousRoute:A,sendFailureRoute:e,pages:pR()([r[0],...f,...L],"url")}:{...t,route:i,previousRoute:A,pages:pR()([r[0],s(e),...f,...L],"url"),sendFailureRoute:e}}default:{const e=t.previousRoute||n(),s=f||a();return s.timestamp=M,{...t,route:s,previousRoute:e}}}},hR=(e,t)=>{const{getMainStreamItems:s,getRoute:a}=(0,Gl.selectors)(e),{type:n,streamItems:r}=t;let o=t.streamId;switch(n){case nc.CLOSE_PAGE_REQUESTED:{const{route:e}=t,s=(0,Hl.LY)(e);return o||(o=(0,l_.k3)(s,e.params.groupId)),{...t,streamId:o}}case nc.STREAM_CURSOR_MOVED:case nc.STREAM_SELECT_CURSOR_MOVED:case nc.STREAM_ITEMS_RANGE_SELECTED:case nc.STREAM_CONTEXT_MENU:case nc.STREAM_ITEM_TOGGLED:case nc.STREAM_ITEMS_SELECTION_CLEARED:case nc.STREAM_ITEMS_SELECTION_CHANGED:case nc.ALL_STREAM_ITEMS_SELECTED:case nc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case nc.V3_MESSAGE_SEND_SUCCEEDED:case nc.CHECK_MAIL_RECEIVED_WITH_UPDATES:case nc.CHANGE_FOLDER_SUCCEEDED:case nc.SEARCH_LIST_ITEMS_RECEIVED:case nc.UNDO_MOVE_SUCCEEDED:case nc.MORE_MESSAGES_REQUEST_SUCCESS:case nc.MORE_SEARCH_LIST_ITEMS_RECEIVED:case nc.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case nc.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case nc.GIF_FETCH_SUCCEEDED:case nc.MORE_COUPONS_SUCCESS:case nc.MORE_RECEIPTS_SUCCESS:case nc.RECEIPTS_LIST_SUCCEEDED:case nc.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case nc.COUPONS_LIST_SUCCEEDED:case nc.EXTRACT_COUPON_SUCCEEDED:case nc.TRAVEL_LIST_SUCCEEDED:case nc.COUPONS_ADD_TAG_DECO_REQUESTED:case nc.MORE_TRAVEL_ITEMS_SUCCEEDED:case nc.ITEMS_DRAG_STARTED:case nc.MOVE_ITEMS_REQUESTED:case nc.MOVE_AND_READ_CHANGE_REQUESTED:case nc.DELETE_ITEMS_REQUESTED:case nc.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case nc.READ_CHANGE_REQUESTED:case nc.STAR_CHANGE_REQUESTED:case nc.RECENT_AND_READ_CHANGE_REQUESTED:case nc.PREVIEW_MESSAGE_REQUESTED:return{...t,streamItems:r||s(a())};case nc.OPEN_PAGE_REQUESTED:if(t.streamItem)return{...t,streamItems:r||s(a())};break;case nc.UPDATE_ITEMS_FAILED:if(t.deletedMessages&&t.deletedMessages.length>0)return{...t,streamItems:r||s(a())}}return t};var gR=s(55636);const IR=(e,t,s,a,n,r,o,i,l,c)=>{const d=(0,Hl.WN)(e);let E;if(void 0!==r&&(E=r),E||void 0===s||(E=Boolean(s)),E||void 0===a||(E=Boolean(a)),void 0!==l&&(l===nc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED||l===nc.V3_MESSAGE_SEND_SUCCEEDED))return{};switch(d){case S.F6k.MESSAGES:case S.F6k.TRAVEL_CARDS:case S.F6k.COUPON_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.RECEIPT_CARDS:return{[e]:{itemIds:(c&&(0,Hl.aY)(e)===S.v6P[S.K8C.COUPON_EMAILS]?t.filter((e=>e.messages.some((e=>(0,Fs.m3)(e.decos,S.Jd6.CPN))))):t).map((e=>e.id)),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case S.F6k.DOCUMENTS:case S.F6k.IMAGES:return{[e]:{itemIds:t.map((({attachment:e})=>e.id)),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case S.F6k.GIFS:return{[e]:{itemIds:t.map((e=>e.id)),nextItemsUrl:s,offset:a,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case S.F6k.CLOUD_STORAGE_ITEMS:return{[e]:{itemIds:t.map((e=>e.id)),nextItemsUrl:s,offset:a,hasMoreItems:E}};case S.F6k.SENDERS:return{[e]:{itemIds:t.map((e=>e.id)),hasMoreItems:E,offset:a}};case S.F6k.PEOPLE:return{[e]:{itemIds:t.map((({contactDetails:e})=>e.xobniId)),nextItemsUrl:s,offset:a,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case S.F6k.CONTACTS:return{[e]:{itemIds:t.map((({id:e})=>e)),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case S.F6k.OFFER_CARDS:return{[e]:{itemIds:t.map((({offerId:e})=>e)),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case S.F6k.SUBSCRIPTIONS:return{[e]:{itemIds:t.map((({id:e})=>e)),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case S.F6k.SUBHUB_RECOMMENDATION_LIST:return{[e]:{itemIds:t.map((({id:e})=>e)),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}}}return{}},RR=(e,t)=>{switch((0,Hl.WN)(e)){case S.F6k.GIFS:return t.reduce(((e,t)=>({...e,[t.id]:t})),{})}return{}},OR=(e,t)=>{switch((0,Hl.WN)(e)){case S.F6k.CLOUD_STORAGE_ITEMS:return t.reduce(((e,t)=>({...e,[t.id]:t})),{})}return{}},DR=(e,t,s)=>{switch((0,Hl.WN)(t)){case S.F6k.COUPON_CARDS:case S.F6k.TRAVEL_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.RECEIPT_CARDS:return s.reduce(((e,t)=>{const s=e[t.id]||[];return{...e,[t.id]:s.concat(t.messages.map((e=>e.id)))}}),{});case S.F6k.MESSAGES:{const{getMessageGroupFolderType:a}=e.getFoldersSelectors(),n=a((0,Hl.Fh)(t)||"");return s.reduce(((e,t)=>{const s=e[t.id]||{};return{...e,[t.id]:{[n]:(s[n]||[]).concat(t.messages.map((e=>e.id)))}}}),{})}}return{}},NR=(e,t,s)=>{const a=(0,Hl.WN)(t),{doesMessageIdExist:n,getMessageCsid:r}=e;switch(a){case S.F6k.MESSAGES:case S.F6k.TRAVEL_CARDS:case S.F6k.COUPON_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.SENDERS:case S.F6k.RECEIPT_CARDS:return s.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>{let s=null;return s=!s&&n(t.id)?r(t.id):t.csid?t.csid:(0,Ca.generateUID)(),{...e,[t.id]:{...E()(t,["snippet","attachments","headers","schemaCards"]),headers:E()(t.headers,["subject"]),...s?{csid:s}:{}}}}),{})})),{})}return{}},fR=(e,t,s)=>{const a=(0,Hl.WN)(t),{getContentIdByAttachmentId:n,doesAttachmentExistById:r}=e.getAttachmentsSelectors();switch(a){case S.F6k.MESSAGES:return s.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.attachments||[]).reduce(((e,s)=>{const a=r(s.id)&&n(s.id)?n(s.id):(0,zn.Rq)();return{...e,[s.id]:{...s,conversationId:s.conversationId||t.conversationId,contentId:a,dataId:a}}}),{})})),{})})),{});case S.F6k.DOCUMENTS:case S.F6k.IMAGES:return s.reduce(((e,{attachment:t})=>{const s=r(t.id)?n(t.id):(0,zn.Rq)();return{...e,[t.id]:{...t,contentId:s,dataId:s}}}),{});case S.F6k.CLOUD_STORAGE_ITEMS:return s.reduce(((e,t)=>{const{mid:s,partId:a,name:o,mimeType:i,thumbnail:l,downloadLink:c}=t,d=`${s}:${a}`,{type:E,subtype:_}=(0,zn.yo)(i),u=r(d)?n(d):(0,zn.Rq)();return{...e,[d]:{...t,contentId:u,dataId:u,filename:o,id:d,virus:"N",thumbnailUrl:l||"",downloadUrl:c,type:E,subtype:_}}}),{})}return{}},MR=(e,t)=>{switch((0,Hl.WN)(e)){case S.F6k.MESSAGES:return t.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,[t.id]:(t.attachments||[]).map((e=>e.id))})),{})})),{});case S.F6k.DOCUMENTS:case S.F6k.IMAGES:return t.reduce(((e,{attachment:t,message:s})=>({...e,[s.id]:[...e[s.id]||[],t.id]})),{});case S.F6k.CLOUD_STORAGE_ITEMS:return t.reduce(((e,t)=>({...e,[t.mid]:[...e[t.mid]||[],`${t.mid}:${t.partId}`]})),{})}return{}},LR=(e,t)=>{switch((0,Hl.WN)(e)){case S.F6k.MESSAGES:case S.F6k.TRAVEL_CARDS:case S.F6k.COUPON_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.RECEIPT_CARDS:return t.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,[t.id]:(t.schemaCards||[]).map((({id:e,type:t})=>({id:e,type:t})))})),{})})),{})}return{}},PR=(e,t)=>{switch((0,Hl.WN)(e)){case S.F6k.MESSAGES:case S.F6k.TRAVEL_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.SENDERS:case S.F6k.RECEIPT_CARDS:return t.reduce(((t,s)=>({...t,...s.messages.reduce(((t,{id:s,headers:a={}})=>({...t,[s]:{[e]:a.subject}})),{})})),{});case S.F6k.DOCUMENTS:case S.F6k.IMAGES:return t.reduce(((t,s)=>({...t,[s.message.id]:{[e]:s.message.subject}})),{})}return{}},yR=(e,t)=>{switch((0,Hl.WN)(e)){case S.F6k.MESSAGES:case S.F6k.TRAVEL_CARDS:return t.reduce(((t,s)=>({...t,...s.messages.reduce(((t,s)=>({...t,[s.id]:{[e]:(0,gR.u6)(s.snippet)}})),{})})),{})}return{}},bR=(e,t)=>{switch((0,Hl.WN)(e)){case S.F6k.PEOPLE:return t.reduce(((e,t)=>({...e,[t.contactDetails.xobniId]:t.contactDetails})),{})}return{}},FR=(e,t)=>{switch((0,Hl.WN)(e)){case S.F6k.MESSAGES:case S.F6k.TRAVEL_CARDS:case S.F6k.COUPON_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.RECEIPT_CARDS:return t.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.schemaCards||[]).reduce(((e,t={})=>({...e,[t.id]:{...t}})),{})})),{})})),{})}return{}},UR=(e,t,s={})=>{switch((0,Hl.WN)(e)){case S.F6k.COUPON_CARDS:return[].concat(Object.keys(s).map((e=>({id:e,messages:[s[e]]}))));default:return t.concat(Object.keys(s).map((e=>({id:e,messages:[s[e]]}))))}},vR=(e,t,s,a,n,r,o,i={},l,c,d=[],E)=>{const{doesFolderIdExist:_,isFeatureEnabled:u}=e,m=u(S.ANe.DEALS_VIEW_FOR_INTLS),p=(0,Hl.WN)(t),C={};let A=s;return d.forEach((e=>{C[e.folder.id]=!0})),p===S.F6k.MESSAGES&&(A=s.filter((e=>{const t=e.messages.filter((e=>_(e.folder.id)||C[e.folder.id]));return e.messages=t,e.messages.length>0}))),{lists:IR(t,A,a,n,r,o,l,c,E,m),groupIdToMessageIdsMap:DR(e,t,A),messages:NR(e,t,UR(t,A,i)),attachments:fR(e,t,A),attachmentIdToMessageIdMap:MR(t,A),subjects:PR(t,A),snippets:yR(t,A),gifItems:RR(t,A),schemaCards:FR(t,A),messageIdToSchemaIdsMap:LR(t,A),people:bR(t,A),cloudStorageItems:OR(t,A)}},wR=(e={},t,s="",a=[])=>{const n=[];return Object.keys(S.F6k).forEach((r=>{Object.keys(e[r]||{}).forEach((o=>{const i=(0,Hl.tE)(s,{listContentType:r,listFilter:o}),l=e[r][o];l&&n.push(vR(t,i,l.items,l.nextItemsUrl,l.offset,l.totalHits,l.hasMoreItems,void 0,l.lmv3Query,l.suggestedWords,a))}))})),n},GR=(e,t)=>{const{getContentIdByAttachmentId:s,doesAttachmentExistById:a}=e,n=Object.keys(t.messageMetadataMap);return{attachments:n.reduce(((e,n)=>{const{attachments:r=[]}=t.messageMetadataMap[n];return{...e,...r.reduce(((e,t)=>{const n=a(t.id)?s(t.id):(0,zn.Rq)();return{...e,[t.id]:{...t,contentId:n,dataId:n}}}),{})}}),{}),attachmentIdToMessageIdMap:n.reduce(((e,s)=>{const{attachments:a=[]}=t.messageMetadataMap[s];return{...e,[s]:a.map((({id:e})=>e))}}),{})}},kR=(e,t,s)=>{const{getMessageCsid:a,getMessageIdsFromMessageGroupId:n,isFeatureEnabled:r}=s,o=e.reduce(((e,t)=>Object.keys(t).reduce(((e,s)=>{return"attachmentIdToMessageIdMap"===s?{...e,[s]:{...e[s],...(a=t[s],Object.keys(a).reduce(((e,t)=>({...e,...a[t].length?Object.assign.apply({},a[t].map((e=>({[e]:t})))):{}})),{}))}}:{...e,[s]:{...e[s],...t[s]}};var a}),e)),{});if(r(S.ANe.CONVERSATIONS))switch(t.type){case nc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case nc.V3_MESSAGE_SAVE_SUCCEEDED:{const{getMessageGroupFolderType:e}=s.getFoldersSelectors(),r=e((0,Hl.Fh)(t.listId)||"");o.groupIdToMessageIdsMap=Object.keys(o.groupIdToMessageIdsMap||{}).reduce(((e,s)=>{const o=(n(s)||[]).filter((e=>a(e)!==t.csid)).concat(t.message.id);return{...e,[s]:{[r]:o}}}),{})}}if(t.type===nc.CHECK_MAIL_RECEIVED_WITH_UPDATES&&o.lists){const e=t.listId,{doesListExist:a,getListItemIds:n}=s,r=a(e)?n(e):[];o.lists[e].itemIds=(0,Hl.fG)(r,o,e)}return o},HR=(e,t)=>{const s=(0,Gl.selectors)(e),a=[];switch(t.type){case nc.OPEN_PAGE_REQUESTED:{var n;const e=(0,Hl.LY)(t.route),{attachments:a=[]}=t;if(a.length){const n=a[0],{doesAttachmentExistById:r,getContentIdByAttachmentId:o}=s.getAttachmentsSelectors(),{contentId:i=(r(n.id)?o(n.id):(0,zn.Rq)())}=n;return{...t,listId:e,listData:{attachments:{[n.id]:{...n,contentId:i,dataId:i}}}}}const i=-1!==[S.n8z.FOLDER,S.n8z.SEARCH,S.n8z.CONTACTS,S.n8z.SUBSCRIPTION_LIST,S.n8z.NEW_DRAFT,S.n8z.SETTINGS].indexOf((null===(n=t.route)||void 0===n?void 0:n.name)||"")||(0,Hl.ft)(e);if(s.isMobileRoute()&&i){const a=[],{getListsSelectors:n,getMessageGroupsSelectors:i,getMessageFlags:l,getSelectedAccountIdByRoute:c,getAccountSelectors:d}=s,{getItemIds:E,getListIdsByListFilter:_,doesListExist:u}=n(),{doesMessageGroupIdExist:m,getAllMessageIdsFromMessageGroupId:p}=i(),{getAccountById:C,getSelectedAccountId:A}=d(),T=c(t.route),h=C(T)?T:A(),g=_(S.ukn.NEWMAIL),I=_(S.ukn.OLDMAIL),R=(0,Hl.Ez)((0,jS.qt)(S.K8C.UNREAD,{accountIds:[h]})),O=u(R)?[R]:[],D=(null==g?void 0:g.length)&&g||(null==O?void 0:O.length)&&O||[];var r,o;if(null!=D&&D.length)return a.push({listId:D[0],itemsToRemove:[...E(D[0]).filter((e=>(m(e)&&p(e)).every((e=>l(e).read))))]}),null!=I&&I.length&&null!==(r=a[0])&&void 0!==r&&null!==(o=r.itemsToRemove)&&void 0!==o&&o.length&&a.push({listId:I[0],itemsToAdd:a[0].itemsToRemove}),{...t,listsToUpdate:a,listId:e}}return{...t,listId:e}}case nc.MESSAGE_AUTO_SAVE_SUCCEEDED:case nc.MESSAGE_SAVE_SUCCEEDED:{const{groupId:e,message:n,listId:r}=t;e&&n&&r&&a.push(vR(s,t.listId,[{id:e,messages:[n]}]));break}case nc.MESSAGE_BODIES_RECEIVED:case nc.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:if(!Object.keys(t.messageMetadataMap).length)return t;a.push({messageMetadataMap:t.messageMetadataMap,...GR(s.getAttachmentsSelectors(),t)}),a.push(...wR(t.response,s,t.listId));break;case nc.ASTRA_BATCH_API_SUCCEEDED:{var i,l,c,d;const{getPrimaryAccountId:e}=s,n=(null===(i=t.response)||void 0===i||null===(l=i.recommendedDeals)||void 0===l?void 0:l.recommendedAndStaticDeals)||[],r=[...(null===(c=t.response)||void 0===c||null===(d=c.allInboxDeals)||void 0===d?void 0:d.recommendedAndStaticDeals)||[],...n];if(r.length){const t=(0,Hl.H7)({referrer:S.v6P.COUPONS,accountIds:[e()]});a.push(vR(s,t,r))}break}case nc.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:{const{getCurrentListId:e}=s;t.categories.forEach((({gifs:t,queryString:n})=>{const r=(0,Hl.tE)(e(),{listContentType:S.F6k.GIFS,keyword:n.toLowerCase(),listFilter:S.ukn.GIFS});a.push(vR(s,r,t.items,t.nextItemsUrl,t.offset,t.totalHits,t.hasMoreItems))}));break}case nc.GIF_FETCH_REQUESTED:{const{getCurrentListId:e}=s,a=(0,Hl.tE)(e(),{listContentType:S.F6k.GIFS,keyword:t.query,listFilter:S.ukn.GIFS});return{...t,listId:a}}case nc.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED:{const{getCurrentListId:e,getSelectedAccountId:a}=s,n=a(),r=(0,Hl.tE)(e(),{listContentType:S.F6k.CLOUD_STORAGE_ITEMS,keyword:t.query,name:t.source,folders:[t.path],listFilter:S.ukn.CLOUD_STORAGE_ITEMS,accountIds:[n]});return{...t,listId:r}}case nc.V3_MESSAGE_SAVE_SUCCEEDED:case nc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:{const{getMessageIdsFromMessageGroupId:e,doesMessageGroupIdExist:n,getFoldersSelectors:r,getAttachmentIdsByMessageId:o,getAttachmentById:i,getMessageSubject:l,getMessageSnippet:c,__getMessageWithFlagsAndFolderId:d}=s,{__get__:E}=r(),{conversationsMode:_,message:u,listId:m}=t,p=_?u.conversationId:u.id,C={id:p};if(n(p)){const t=e(p),s=[];t.forEach((e=>{const t=d(e),a=o(e).map(i).filter(Boolean);s.push({...t,id:e,attachments:a,attachmentCount:a.length,folder:E(t.folderId||t.folderOfDelivery),snippet:c(e,m),headers:{...t.headers,subject:l(e,m)}})})),s.push(u),C.messages=s}else C.messages=[u];a.push(vR(s,(0,Hl.tE)(t.listId,{listContentType:S.F6k.MESSAGES}),[C],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,void 0,void 0,void 0,t.type));break}case nc.INITIAL_STATE:case nc.UNDO_MOVE_SUCCEEDED:case nc.CHECK_MAIL_RECEIVED_WITH_UPDATES:case nc.CHANGE_FOLDER_SUCCEEDED:case nc.MORE_MESSAGES_REQUEST_SUCCESS:case nc.PARENT_MESSAGE_METADATA_SUCCEEDED:case nc.MESSAGE_GROUP_WITH_BODIES_RECEIVED:if(t.messageGroupList&&a.push(vR(s,t.listId,t.messageGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders,"")),t.messageGroup&&a.push(vR(s,(0,Hl.tE)(t.listId,{listContentType:S.F6k.MESSAGES}),[t.messageGroup],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.messageGroups&&a.push(vR(s,(0,Hl.tE)(t.listId,{listContentType:S.F6k.MESSAGES}),t.messageGroups,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.draftMessage&&a.push(vR(s,t.listId,t.draftMessage,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.response&&a.push(...wR(t.response,s,t.listId,t.folders)),t.message&&t.type===nc.INITIAL_STATE){const{messageMetadataMap:e,message:n}=t,{csid:r}=n;if(!Object.keys(e).length)return t;a.push({...GR(s.getAttachmentsSelectors(),t),messages:{[n.id]:{...E()(n,["snippet","attachments","headers","schemaCards"]),headers:E()(n.headers,["subject"]),...r?{csid:r}:{}}},subjects:{[n.id]:{[t.listId]:n.headers.subject}},snippets:{[n.id]:{[t.listId]:n.snippet}}}),t.draftMessageId||(t.draftMessageId=t.message.id)}break;case nc.POST_LAUNCH_SYNC_SUCCEEDED:t.cardGroupList&&a.push(vR(s,(0,Hl.tE)("{}",{listContentType:S.F6k.COUPON_CARDS,listFilter:S.ukn.SAVED_COUPON_CARDS,referrer:S.qd8[S.K8C.COUPONS]}),t.cardGroupList.filter((e=>e&&e.messages.some((e=>e.decos&&e.decos.some((e=>e&&"CPN"===e.id))))))));break;case nc.COUPONS_LIST_SUCCEEDED:case nc.MORE_COUPONS_SUCCESS:a.push(vR(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems));break;case nc.EXTRACT_COUPON_SUCCEEDED:case nc.RECEIPTS_LIST_SUCCEEDED:case nc.MORE_RECEIPTS_SUCCESS:case nc.TRAVEL_LIST_SUCCEEDED:case nc.MORE_TRAVEL_ITEMS_SUCCEEDED:a.push(vR(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,t.parentMessagesMap));break;case nc.MORE_SEARCH_LIST_ITEMS_RECEIVED:{const{listId:e,listContentBlock:n={}}=t;e&&n&&a.push(vR(s,e,n.items,n.offset?n.nextItemsUrl:"",n.offset,n.totalHits,n.hasMoreItems&&!!n.offset));break}case nc.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:case nc.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case nc.SETTINGS_BLOCKED_DOMAINS_FETCHED:{const e=(0,Hl._o)(),{items:s}=t;return{...t,listData:{lists:{[e]:{itemIds:s,totalHits:s.length}}}}}case nc.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const{listId:e,contacts:s}=t,a=s.reduce(((e,t)=>{const{id:s,xobniId:a}=t;return e.contactEmailToId[s]=a,void 0!==e.idToContact[t.xobniId]?(e.idToContact[t.xobniId].emails=Js()([...e.idToContact[t.xobniId].emails,...t.emails]),e):(e.contacts=[...e.contacts,t],e.idToContact[a]=t,e)}),{contacts:[],idToContact:{},contactEmailToId:{}}),n=s.map((({id:e})=>e));return{...t,listData:{lists:{[e]:{itemIds:n,totalHits:n.length}}},contacts:a.contacts,contactEmailToId:a.contactEmailToId}}case nc.CONTACTS_PANE_CREATE_GROUP_REQUESTED:{const{contacts:e}=t,{getContactListSelectors:a,getListsSelectors:n}=s,{getItemIdsSelectors:r}=n(),{getContactById:o}=a(),i={...t},l=[],c=(0,Hl.uh)(S.ukn.GROUPS),d=r(c).getItemIds();return i.tempGroupId="temp:"+(0,Ca.generateUID)(),i.tempListId=(0,Hl.uh)(S.ukn.GROUPS,i.tempGroupId),d.push(i.tempGroupId),i.endpoints=[],e.forEach((({itemType:e})=>{l.push(e),i.endpoints.push({...e,name:o(e.id).name})})),i.listData={},i.listData.lists={[i.tempListId]:{itemIds:l,totalHits:l.length},[c]:{itemIds:d,totalHits:d.length}},i}case nc.CONTACTS_PANE_SAVE_GROUP_REQUESTED:{const{groupId:e,newGroup:a,oldGroup:n}=t,{getContactListSelectors:r}=s,{getContactById:o}=r(),i={...t},{contacts:l=[]}=n,{contacts:c=[]}=a,d=[],E={},_=l.reduce(((e,t)=>(e[t.id]=!0,e)),{});return a.name!==n.name&&(i.newName=a.name),i.listId=(0,Hl.uh)(S.ukn.GROUPS,e),i.addedEndpoints=[],c.forEach((({itemType:e,id:t})=>{d.push(e),E[t]=!0,_[t]||i.addedEndpoints.push({...e,name:o(e.id).name})})),i.removedEndpoints=l.reduce(((e,{itemType:t,id:s})=>E[s]?e:e.concat(t)),[]),i.doUpdatesExist=!!(i.newName||i.addedEndpoints.length||i.removedEndpoints.length),i.listData={},(i.addedEndpoints.length||i.removedEndpoints.length)&&(i.listData.lists={[i.listId]:{itemIds:d,totalHits:d.length}}),i}case nc.CONTACTS_GROUP_FETCH_SUCCEEDED:{const{listId:e,contacts:s=[]}=t,a=s.map((({name:e,...t})=>t));return{...t,listData:{lists:{[e]:{itemIds:a,totalHits:a.length}}}}}case nc.CONTACTS_LIST_FETCH_SUCCEEDED:{const{contacts:e,characters:s=[],groupIds:a,selectedGroup:n}=t,r=s.length>0,o={};let i={};const l=n?(0,Hl.tE)(t.listId,{keyword:n}):t.listId;if(e&&(i=e.reduce(((e,{category:t,contacts:s,remainingCount:a})=>{const n=(0,Hl.tE)(l,{name:t});return{...e,...IR(n,s,"",0,s.length+a,a>0)}}),{})),a){o[(0,Hl.uh)(S.ukn.GROUPS)]={itemIds:a,totalHits:a.length,nextItemsUrl:"",offset:0,hasMoreItems:!1,lmv3Query:void 0,suggestedWords:void 0}}return r||!e?{...t,listData:{lists:{...i,...o}}}:{...t,listId:l,listData:{lists:{...i,...o,[l]:{itemIds:Object.keys(i),nextItemsUrl:"",offset:0,totalHits:e.length,hasMoreItems:!1,lmv3Query:void 0,suggestedWords:void 0}}}}}case nc.FETCH_ALL_CONTACTS_SUCCESS:{const{listId:e,contacts:s=[]}=t,a=[];return s.forEach((e=>{a.push(e.id)})),{...t,listId:e,listData:{lists:{[e]:{itemIds:a,totalHits:a.length}}}}}case nc.CONTACTS_GROUP_DELETE_REQUESTED:{const{groupId:e}=t,{getCustomContactGroups:a}=s,n=(0,Hl.uh)(S.ukn.GROUPS),r=a().filter((t=>t!==e));return{...t,listId:n,newGroupId:r[0]?r[0]:null,listData:{lists:{[n]:{itemIds:r,totalHits:r.length}}}}}case nc.CONTACTS_GROUP_DELETE_FAILED:{const{groupId:e}=t,{getCustomContactGroups:a}=s,n=(0,Hl.uh)(S.ukn.GROUPS),r=a().concat(e);return{...t,listId:n,listData:{lists:{[n]:{itemIds:r,totalHits:r.length}}}}}case nc.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case nc.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case nc.SEARCH_LIST_ITEMS_RECEIVED:case nc.GIF_FETCH_SUCCEEDED:case nc.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:a.push(...wR(t.response,s,t.listId));break;case nc.COUPONS_REMOVE_TAG_DECO_REQUESTED:case nc.COUPONS_ADD_TAG_DECO_REQUESTED:{const{messageDecosPayloads:e,schemaCard:n,listId:r}=t,o=e.map((({messageId:e})=>({id:e,messages:[{id:e,schemaCards:[n]}]})));a.push(vR(s,r,o));break}case nc.OFFERS_LIST_SUCCEEDED:{const{listId:e,offers:n,search:r}=t,o=(0,Hl.tE)(e,{keyword:""}),i=n.filter((e=>!e.activated));r||a.push(vR(s,o,i)),e!==o&&a.push(vR(s,e,i));break}case nc.ACTIVATED_OFFERS_LIST_SUCCEEDED:{const{listId:e,offers:n}=t;a.push(vR(s,e,n));break}case nc.ACTIVATE_OFFER_SUCCEEDED:{const{listId:e,offers:n,retailerId:r}=t;if((0,Hl.WN)(e)!==S.F6k.MESSAGES)a.push(vR(s,e,n));else{const t=(0,Hl.tE)(e,{listContentType:S.F6k.OFFER_CARDS,name:r,emailAddresses:[],contactIds:[],referrer:S.ANe.GROCERIES});a.push(vR(s,t,n))}break}case nc.DELETE_GROCERY_ITEMS_SUCCEEDED:{const{listId:e,offers:n}=t,r=n.filter((e=>"Unavailable"!==e.status)),o=(0,Hl.tE)(e,{listFilter:S.ukn.RECOMMENDED_OFFER_CARDS});a.push(vR(s,e,n)),a.push(vR(s,o,r));break}case nc.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:{const{response:e,sortOrder:n,accountId:r}=t,{brand:o=[]}=e.subscription.email||{},i=o.map((e=>({...e,id:`${e.name}:${r}`,subscriptions:e.subscriptions.filter((e=>"true"===e.isUsb))}))),l=(0,Hl.Bq)(n,r);t.brand=i,a.push(vR(s,l,i));break}case nc.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:{const{response:e,sortOrder:n,accountId:r}=t,{brand:o=[]}=e.subscription.email||{},i=o.map((e=>({...e,id:`${e.name}:${r}`}))),l=(0,Hl.iB)(n);t.brand=i,a.push(vR(s,l,i));break}case nc.SENDER_ROLLUP_SUCCEEDED:case nc.MORE_SENDER_ROLLUP_SUCCEEDED:{const{senderRollup:e,listId:n,hasMoreItems:r,offset:o}=t;a.push(vR(s,n,e,void 0,o,void 0,r));break}case nc.RECENT_AND_READ_CHANGE_REQUESTED:case nc.READ_CHANGE_REQUESTED:return{...t,isTwoColumnLayout:2===s.getPrescribedNumberOfColumns()};default:return t}return{...t,listData:kR(a,t,s)}},BR=(e,t)=>{const{type:s,folders:a=[]}=t;switch(s){case nc.RENAME_FOLDER_REQUESTED:case nc.MOVE_FOLDER_REQUESTED:{const{folderId:s,folderName:a}=t,{getFoldersSelectors:n,getAccountIdByFolderId:r}=(0,Gl.selectors)(e),o=r(s),{getFolderIdsByAccountId:i,getFolderPath:l}=n(),c=i(o),d=l(s)+"/",E=a+"/",_=c.filter((e=>-1!==l(e).indexOf(d)&&e!==s)).map((e=>({folderId:e,folderName:l(e).replace(d,E)})));return{...t,subfolders:_}}case nc.INITIAL_STATE:case nc.UNDO_MOVE_SUCCEEDED:case nc.CHECK_MAIL_RECEIVED_WITH_UPDATES:case nc.CHANGE_FOLDER_SUCCEEDED:case nc.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case nc.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case nc.SEARCH_LIST_ITEMS_RECEIVED:return a.length?{...t,folderMap:(0,ns.YY)(a)}:t;case nc.CREATE_FOLDER_SUCCEEDED:case nc.RENAME_FOLDER_SUCCEEDED:case nc.MOVE_FOLDER_SUCCEEDED:{const{folder:e,subfolders:s=[]}=t;return{...t,folderMap:{[e.id]:e,...s.reduce(((e,t)=>({...e,[t.id]:t})),{})}}}default:return t}},xR=(e,t)=>{const{streamId:s}=t,{doesStreamExist:a,getSelectedStreamItems:n,getCursor:r}=(0,Gl.selectors)(e);if(!s)return t;switch(t.type){case nc.STREAM_ITEM_TOGGLED:case nc.STREAM_CONTEXT_MENU:case nc.ITEMS_DRAG_STARTED:return{...t,selectionPayload:{oldSelectedItems:a(s)?n(s):[]}};case nc.V3_MESSAGE_SAVE_SUCCEEDED:case nc.MESSAGE_SAVE_SUCCEEDED:case nc.MESSAGE_AUTO_SAVE_SUCCEEDED:case nc.STREAM_CURSOR_MOVED:case nc.STREAM_SELECT_CURSOR_MOVED:case nc.STREAM_ITEMS_RANGE_SELECTED:case nc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case nc.V3_MESSAGE_SEND_SUCCEEDED:case nc.CHECK_MAIL_RECEIVED_WITH_UPDATES:case nc.CHANGE_FOLDER_SUCCEEDED:case nc.SEARCH_LIST_ITEMS_RECEIVED:case nc.UNDO_MOVE_SUCCEEDED:case nc.MORE_MESSAGES_REQUEST_SUCCESS:case nc.MORE_SEARCH_LIST_ITEMS_RECEIVED:case nc.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case nc.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case nc.GIF_FETCH_SUCCEEDED:case nc.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case nc.MORE_COUPONS_SUCCESS:case nc.MORE_RECEIPTS_SUCCESS:case nc.RECEIPTS_LIST_SUCCEEDED:case nc.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case nc.COUPONS_LIST_SUCCEEDED:case nc.EXTRACT_COUPON_SUCCEEDED:case nc.TRAVEL_LIST_SUCCEEDED:case nc.COUPONS_ADD_TAG_DECO_REQUESTED:case nc.MORE_TRAVEL_ITEMS_SUCCEEDED:return{...t,selectionPayload:{oldCursor:a(s)?r(s):void 0,oldSelectedItems:a(s)?n(s):[]}};case nc.DELETE_ITEMS_REQUESTED:case nc.MOVE_ITEMS_REQUESTED:case nc.MOVE_AND_READ_CHANGE_REQUESTED:if(void 0!==t.route&&t.route.params.fid===S.RfP.SPAM&&(t.triageActionType===S.Ewo.NOT_SPAM_SELECTED_ITEMS||t.triageActionType===S.Ewo.DELETE_SELECTED_ITEMS))return{...t,streamItems:void 0}}return t};var VR=s(47292);const WR=({state:e,featureName:t,featureCueTimestamps:s})=>{const{isEnabled:a,getSetting:n}=(0,Gl.selectors)(e).getFeaturesSelectors(),r=a(S.ANe.PUSH_NOTIFICATIONS),o=!!n(S.Zrf.NOTIFICATION),i=a("browserNotifications"),l=n(S.Zrf.PUSH_NOTIFICATIONS_EXPERIMENT),c=s[S.ANe.MOBILE_ONBOARDING_CUE]||0;return!!((0,Gl.selectors)(e).isMobileRoute()&&o&&r&&i&&c&&ag()(new Date,1e3*c)>=7&&((e,t)=>-1!=={[S.ANe.PUSH_NOTIFICATIONS_CUE_LAUNCH]:[S.PP5.DEFAULT,S.PP5.LAUNCHV01],[S.ANe.PUSH_NOTIFICATIONS_CUE_PTR]:[S.PP5.PTRV01,S.PP5.PTRV02],[S.ANe.PUSH_NOTIFICATIONS_CUE_COMPOSE]:[S.PP5.COMPOSEV01]}[e].indexOf(t))(t,l)&&tg()===Yh)};var ZR=s(59678),KR=s(85671),zR=s(33471);const qR=({state:e,action:t})=>{switch(t.type){case nc.DEAL_CARD_GROUP_SHOWN:{const{getSetting:t,isFeatureEnabled:s,getPrescribedNumberOfColumns:a}=(0,Gl.selectors)(e),n=2===a();if(t(S.Zrf.PREVIEW_PANE)===S.EsZ.BOTTOM||n)return!1;const r=t(S.Zrf.SCOUT_ONBOARDING),o=(0,ZR.JV)(r,S.ANe.DEALS_RECOMMEND_CONTROL_CUE);return!((s(S.ANe.MAIL_PLUS)||s(S.ANe.MAIL_PLUS_FREE_TRIAL))&&o>0)}default:return!1}};let YR=0;const jR={[S.ANe.PUSH_NOTIFICATIONS_CUE_LAUNCH]:WR,[S.ANe.PUSH_NOTIFICATIONS_CUE_PTR]:WR,[S.ANe.PUSH_NOTIFICATIONS_CUE_COMPOSE]:WR,[S.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE]:({state:e})=>{const{isAdBlockerDetected:t,isABPDetected:s}=(0,Gl.selectors)(e).getAdsSelectors();return t()||s()},[S.ANe.ADBLOCK_DELAY_DISMISS_CUE]:({action:e})=>{const t=(0,BT.SU)();switch(e.type){case nc.ABP_DETECTED:return!t}return!1},[S.ANe.ADBLOCK_UPSELL_CUE]:({state:e,featureCueTimestamps:t})=>{const{isEnabled:s,getSetting:a}=(0,Gl.selectors)(e).getFeaturesSelectors(),n=a(S.Zrf.ADBLOCK_UPSELL_CUE_INTERVAL),r=Date.now()-1e3*t[S.ANe.ADBLOCK_UPSELL_CUE];return s(S.ANe.MAIL_PRO)?!t[S.ANe.ADBLOCK_UPSELL_CUE]:r>n},[S.ANe.AUTO_FORWARD_CUE]:({action:e,state:t})=>{var s,a;const{isFeatureEnabled:n,getAccountSelectors:r}=(0,Gl.selectors)(t),o=(null==e||null===(s=e.mailboxAttributes)||void 0===s||null===(a=s[S.CbW.AUTO_FORWARD_ALLOWED])||void 0===a?void 0:a.value)||null;return!(!n(S.ANe.MAIL_PRO)&&!o)&&!!r().getVerifiedAutoForwardAccount()},[S.ANe.BLOCK_SENDER_CUE]:({state:e,action:t})=>{const{canDisplayBlockSenderMenuItemForMessageId:s,doesMessageGroupIdExist:a,getMessageIdsFromMessageGroupId:n}=(0,Gl.selectors)(e),r=(0,g.u9)(t,"route.params.groupId");if(!r)return!1;if(!a(r))return!1;const o=n(r);return 1===o.length&&s(o[0])},[S.ANe.AOL_ONBOARDING_CUE_ML]:({action:e})=>{const{route:t={}}=e;return!(t.name!==S.n8z.BASE&&t.name!==S.n8z.FOLDER&&!(0,Hl.AU)(t)&&!(0,Hl.rB)(t)&&t.name!==S.n8z.SUBSCRIPTION_LIST&&t.name!==S.n8z.CONTACTS)},[S.ANe.AOL_ONBOARDING_CUE_MR]:({action:e})=>{const{route:t={}}=e;return t.name===S.n8z.MESSAGE_FROM_SEARCH_LIST||t.name===S.n8z.MESSAGE_FROM_FOLDER_LIST||t.name===S.n8z.MESSAGE_FROM_LIST},[S.ANe.AOL_ONBOARDING_CUE_CP]:({action:e})=>{const{route:t={}}=e;return t.name===S.n8z.NEW_DRAFT||t.name===S.n8z.EDIT_DRAFT},[S.ANe.FOCUSED_INBOX_CUE]:({action:e})=>{var t;return(null===(t=e.route)||void 0===t?void 0:t.name)===S.n8z.FOCUSED_INBOX},[S.ANe.PARTNER_RECONSENT_BANNER]:({state:e})=>{const{isComposeRoute:t,isDraftRoute:s}=(0,Gl.selectors)(e);return!(t()||s()||!h.jU)&&(window.OathReConsent&&window.OathReConsent.hasInlineBanner)},[S.ANe.NEXT_GEN_HOME_CUE]:({state:e,action:t})=>{const{route:s,previousRoute:a={}}=t,{isFeatureEnabled:n,getAccountSelectors:r}=(0,Gl.selectors)(e);if(n(S.ANe.AUTO_FORWARD_NOTIFICATION)&&!n(S.ANe.MAIL_PRO)&&!!r().getVerifiedAutoForwardAccount())return!1;switch(t.type){case nc.OPEN_PAGE_REQUESTED:if(s.name===S.n8z.FOLDER&&a.name===S.n8z.MESSAGE_FROM_FOLDER_LIST)return!0;break;case nc.CLOSE_PAGE_REQUESTED:if(s.name===S.n8z.MESSAGE_FROM_FOLDER_LIST)return!0}return!1},[S.ANe.NPS_SURVEY_CUE]:({state:e,action:t})=>{const{getSetting:s,getPrescribedNumberOfColumns:a,getWindowDimensions:n}=(0,Gl.selectors)(e),r=s(S.Zrf.PREVIEW_PANE)!==S.EsZ.NO,o=2===a(),{route:i,previousRoute:l={}}=t;if(n().innerHeight<625)return!1;switch(t.type){case nc.OPEN_PAGE_REQUESTED:if(i.name===S.n8z.FOLDER&&l.name===S.n8z.MESSAGE_FROM_FOLDER_LIST)return!0;if(o&&i.name===S.n8z.MESSAGE_FROM_FOLDER_LIST&&(YR++,YR>1))return!0;break;case nc.PREVIEW_MESSAGE_REQUESTED:case nc.STREAM_CURSOR_MOVED:if(r&&i.name===S.n8z.FOLDER&&(YR++,YR>1))return!0;break;case nc.CLOSE_PAGE_REQUESTED:{const{route:e}=t;if(e.name===S.n8z.MESSAGE_FROM_FOLDER_LIST)return!0;break}case nc.UPDATE_ITEMS_SUCCEEDED:{const{route:e}=t;if(e.name===S.n8z.FOLDER&&l.name!==S.n8z.FOLDER)return!0;break}}return!1},[S.ANe.CONVERSATIONS_CUE]:({state:e})=>!!(0,Gl.selectors)(e).isFeatureEnabled(S.ANe.CONVERSATIONS),[S.ANe.LASTPASS_FREETRIAL_UPSELL]:({state:e})=>{const{isFeatureEnabled:t,getWindowDimensions:s}=(0,Gl.selectors)(e);return s().innerHeight>625&&t(S.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE)},[S.ANe.MOBILE_PAC_NOTIFICATION_CUE]:({state:e,action:t})=>{const{getFeatureCueSelectors:s,isFeatureEnabled:a}=(0,Gl.selectors)(e),{isShown:n}=s(),{route:r={}}=t;return(r.name===S.n8z.MESSAGE_FROM_SEARCH_LIST||r.name===S.n8z.MESSAGE_FROM_FOLDER_LIST||r.name===S.n8z.MESSAGE_FROM_LIST)&&(!n(S.ANe.MOBILE_ONBOARDING_CUE)&&!a(S.Zrf.SHOW_IMAGES))},[S.ANe.OFFICE365_CUE]:({state:e})=>{const{getRootAccountsWithDefaultFolder:t,getAccountSelectors:s,getMailboxesSelectors:a}=(0,Gl.selectors)(e),n=t(),r=s().isPrimaryAccountDisabled(),o=a().getAllMailboxes().length>1;return n.filter((e=>e.status===S.dpb.ENABLED&&(!o||e.defaultFolder&&e.defaultFolder.id))).length>1||r},[S.ANe.THEMES_CUE_V3]:({state:e})=>{const{getSetting:t}=(0,Gl.selectors)(e),s=t(S.Zrf.SCOUT_ONBOARDING);return!((0,ZR.JV)(s,S.ANe.NEW_USER_TASKS_CUE)>0)},[S.ANe.COUPON_LANDSHARK_CUE]:({state:e,action:t,featureCueTimestamps:s})=>{const{getFeatureCueSelectors:a,doesMessageGroupIdExist:n,getMessagesSelectors:r,getMessageIdsFromMessageGroupId:o}=(0,Gl.selectors)(e),{getDecos:i}=r(),{isShown:l}=a(),c=s[S.ANe.MOBILE_ONBOARDING_CUE]||0,d=new Date,E=(0,g.u9)(t,"route.params.groupId");if(!E)return!1;if(!n(E))return!1;const _=o(E),u=i(_[0]),m=(0,Fs.m3)(u,[S.Jd6.CPN]);return 1===_.length&&m&&!l(S.ANe.MOBILE_ONBOARDING_CUE)&&(0,VR.differenceInDays)(d,1e3*c)>1},[S.ANe.PKG_TRACKING_CUE]:({state:e,action:t})=>{var s,a;const{doesMessageGroupIdExist:n,getMessagesSelectors:r,getMessageIdsFromMessageGroupId:o}=(0,Gl.selectors)(e),{getDecos:i}=r(),l=null==t||null===(s=t.route)||void 0===s||null===(a=s.params)||void 0===a?void 0:a.groupId;if(!l)return!1;if(!n(l))return!1;const c=i(o(l)[0]);return(0,Fs.m3)(c,[S.Jd6.PKG])},[S.ANe.GROCERIES_PRODUCT_CUE]:({state:e,action:t,featureCueUserResponse:s})=>{var a,n;const{getRetailersSelectors:r}=(0,Gl.selectors)(e),{isRetailerLinkable:o}=r(),i=null==t?void 0:t.listId;let l=!o((0,Hl.h_)(i)||"");return null!==(a=s[S.ANe.WALMART_CUE])&&void 0!==a&&a.includes("1")&&null!==(n=s[S.ANe.GROCERIES_PRODUCT_CUE])&&void 0!==n&&n.includes("1")&&(l=!1),l},[S.ANe.TMR_ICON_NOTIFICATION]:({state:e,action:t,featureCueTimestamps:s,featureCueUserResponse:a})=>{const n=e=>{if(e===S.mX1.EXPIRED||e===S.mX1.NO_STATE){const e=s[S.ANe.TMR_ICON_NOTIFICATION],t=Date.now()-1e3*e;return!e||t>864e5&&a[S.ANe.TMR_ICON_NOTIFICATION]<=3}if(e===S.mX1.SUSPENDED)return!1;if(e===S.mX1.AGREED){if(t.type===nc.FEATURE_CLOSED)return!0;const e=(0,g.u9)(t,"data.lastRegisteredActions",[]).filter((e=>e.rewardsActionType===S.Zkw.DAILY_CHECKIN))[0].completedChallenges;return!!e.length&&e.some((e=>e.tag===S.to8.DAILY_CHECKIN))}return!1};switch(t.type){case nc.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:return n((0,g.u9)(t,"data.atos.atosStatus",""));case nc.FEATURE_CLOSED:{if(t.name!==S.ANe.TMR_ONBOARDING_CUE)return!1;const{getMembershipRewardsSelectors:s}=(0,Gl.selectors)(e);return n(s().getAtosStatus())}case nc.TMR_REGISTER_ACTION_SUCCESS:{const e=(0,g.u9)(t,"data.completedChallenges");return!!e.length&&e.some((e=>Object.keys(S.to8).indexOf(e.tag)>-1))}default:return!1}},[S.ANe.TMR_ONBOARDING_CUE]:({state:e,action:t,featureCueUserResponse:s})=>{const a=(0,g.u9)(t,"data.atos.atosStatus","");if(!s[S.ANe.TMR_ONBOARDING_CUE])return!!a&&a!==S.mX1.SUSPENDED;const{isFeatureEnabled:n}=(0,Gl.selectors)(e);return n(S.ANe.TMR_ONBOARDING_REMINDER)&&a===S.mX1.NO_STATE},[S.ANe.TMR_MOBILE_ONBOARDING_CUE]:({state:e,action:t,featureCueUserResponse:s,featureCueTimestamps:a})=>{const n=(0,g.u9)(t,"data.atos.atosStatus","");if(n===S.mX1.AGREED&&!s[S.ANe.TMR_MOBILE_ONBOARDING_CUE])return!0;if(!s[S.ANe.TMR_MOBILE_ONBOARDING_CUE]||s[S.ANe.TMR_MOBILE_ONBOARDING_CUE]<3)return n===S.mX1.EXPIRED||n===S.mX1.NO_STATE;const{isFeatureEnabled:r}=(0,Gl.selectors)(e),o=r(S.ANe.TMR_ONBOARDING_REMINDER),i=a[S.ANe.TMR_MOBILE_ONBOARDING_CUE],l=Date.now()-1e3*i;return o&&l>2592e6&&n===S.mX1.NO_STATE},[S.ANe.TMR_MOBILE_DAILY_CHECKIN_CUE]:({state:e,action:t})=>{const s=(0,g.u9)(t,"data.lastRegisteredActions",[]);if(s.length){const{completedChallenges:e}=s.filter((e=>e.rewardsActionType===S.Zkw.DAILY_CHECKIN))[0];return!!e.length&&e.some((e=>e.tag===S.to8.DAILY_CHECKIN))}const{getMembershipRewardsSelectors:a}=(0,Gl.selectors)(e);return!!a().pointsReceivedOnTaskCompletion(S.to8.DAILY_CHECKIN)},[S.ANe.TMR_MOBILE_IMAPIN_CUE]:({action:e})=>{const t=(0,g.u9)(e,"data.completedChallenges");return!!t.length&&t.some((e=>e.tag===S.to8.IMAPIN))},[S.ANe.ADD_MAILBOX_POPOVER]:({state:e,action:t})=>{switch(t.type){case nc.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:if((0,g.u9)(t,"data.atos.atosStatus","")===S.mX1.AGREED){return!(0,g.u9)(t,"data.mailChallengesProgress","").some((e=>e.tag===S.to8.IMAPIN&&e.repeatedTimes>=1))}return!1;case nc.FEATURE_CLOSED:{if(t.name!==S.ANe.TMR_ICON_NOTIFICATION)return!1;const{getMembershipRewardsSelectors:s}=(0,Gl.selectors)(e);if(s().getAtosStatus()===S.mX1.AGREED){return!s().isImapInCompleted()}return!1}default:return!1}},[S.ANe.YMOBILE_PROMO_UPSELLS]:({state:e})=>{const{getRoute:t,getSetting:s,getFoldersSelectors:a}=(0,Gl.selectors)(e),n=t();if(n.name!==S.n8z.FOLDER)return!1;const{getPrimaryFolderTypeByFolderId:r}=a(),o=(0,Hl.LY)(n),i=r((0,Hl.Fh)(o));if(i!==S.Sck.SPAM&&i!==S.Sck.TRASH){if(s(S.Zrf.YMOBILE_UPSELL_VERSION))return!0}return!1},[S.ANe.YPMP_PROMO_UPSELLS]:({state:e})=>{const{getRoute:t,getFoldersSelectors:s}=(0,Gl.selectors)(e),a=t();if(a.name!==S.n8z.FOLDER)return!1;const{getPrimaryFolderTypeByFolderId:n}=s(),r=(0,Hl.LY)(a),o=n((0,Hl.Fh)(r));return o!==S.Sck.SPAM&&o!==S.Sck.TRASH&&(0,zR.gA)((0,Gl.selectors)(e))},[S.ANe.YPT_GAMER_UPSELLS]:({state:e})=>{const{getRoute:t,getFoldersSelectors:s}=(0,Gl.selectors)(e),a=t();if(a.name!==S.n8z.FOLDER)return!1;const{getPrimaryFolderTypeByFolderId:n}=s(),r=(0,Hl.LY)(a),o=n((0,Hl.Fh)(r));return o!==S.Sck.SPAM&&o!==S.Sck.TRASH&&(0,zR.lV)((0,Gl.selectors)(e))},[S.ANe.DISPATCHER_UPSELLS]:KR.F,[S.ANe.MAILPRO_FREE_TRIAL_UPSELLS]:({state:e,action:t,featureCueTimestamps:s,featureCueUserResponse:a})=>{const{INVALID:n,PRE_SIGNUP_LIGHTBOX:r,PRE_SIGNUP_LEFT_PANEL_3:o,POST_SIGNUP_THANKYOU_TOAST:i,FREE_TRIAL_ENDING_NOTICATION_1:l,FREE_TRIAL_ENDING_NOTICATION_2:c,FREE_TRIAL_LAST_DAY_NOTIFICATION:d,FREE_TRIAL_EXPIRED_NOTIFICATION:E,MAILPRO_SIGNUP_THNAKYOU_TOAST:_}=S.$AH,{isFeatureEnabled:u,getEnvironmentSelectors:m,getSetting:p}=(0,Gl.selectors)(e),C=u(S.ANe.ADS),A=s[S.ANe.MAILPRO_FREE_TRIAL_UPSELLS]||0;let T=S.Zd2;const h=p(S.Zrf.MOCKED_RECURRING_INTERVAL),g=p(S.Zrf.DAYS_IN_TRIAL_TEST_PARAM),I=p(S.Zrf.FTWCC_ELIGIBLE_UPSELLS);h>0&&(T=1e3*h);const R=parseInt(a[S.ANe.MAILPRO_FREE_TRIAL_UPSELLS],10)||0;switch(t.type){case nc.LAUNCH_COMPLETED:return C&&(R===n||-1===g)&&I.includes(r);case nc.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:{const{hasFreeTrialInSubList:e,inFreeTrial:s,trialStartDate:a,trialEndDate:n,hasUpgradedToMailpro:u}=t.data||{};if(C&&!e&&R>=r&&R<o){return Date.now()-1e3*A>T&&I.includes(R+1)}if(!C&&u)return I.includes(_);if(!C&&s){const e=(0,VR.differenceInDays)((new Date).getTime(),a)+1;if(R<i&&e>0&&e<7)return I.includes(i);if(R<l&&e>=7&&e<=11){return Date.now()-1e3*A>T&&I.includes(l)}if(R<c&&e>=12&&e<=13){var O;const e=(null===(O=m().getUserSegmentData().WEB_DESKTOP)||void 0===O?void 0:O.segment_id)||"";if(["4","5"].indexOf(e)>-1)return!1;return Date.now()-1e3*A>T&&I.includes(c)}if(R<d&&14===e)return I.includes(d)}return!!(C&&n&&(0,VR.isAfter)((new Date).getTime(),n)&&(0,VR.isBefore)(1e3*A,n))&&I.includes(E)}default:return!1}},[S.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL]:({action:e})=>{switch(e.type){case nc.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:var t;return!!((null==e||null===(t=e.data)||void 0===t?void 0:t.offerIds)||[]).find((e=>-1!==S.Waq.indexOf(e.toString())))}return!1},[S.ANe.DEALS_RECOMMEND_CONTROL_CUE]:qR,[S.ANe.DEALS_RECOMMEND_CONTROL_MOBILE_CUE]:qR,[S.ANe.COMPOSE_FORMAT_CUE]:({state:e,action:t})=>{const{getSetting:s}=(0,Gl.selectors)(e),a=s(S.Zrf.COMPOSE_FORMAT);switch(t.type){case nc.OPEN_PAGE_REQUESTED:return!!t.csid&&a===S.tTi.FULL_SIZED;default:return!1}}},QR=(e,t={})=>{const s=(e,s="value")=>null===s?t[e]:(t[e]||{})[s],a=t[S.CbW.BLOCK_IMAGES]?!t[S.CbW.BLOCK_IMAGES].value:void 0;return Object.keys(t).length?{[S.Zrf.THEME]:s(e?S.CbW.MOBILE_THEME:S.CbW.THEME),[S.Zrf.THEME_MODE]:s(e?S.CbW.MOBILE_THEME_MODE:S.CbW.THEME_MODE),[S.Zrf.MSG_LIST_DENSITY]:s(S.CbW.MSG_LIST_DENSITY),[S.Zrf.PREVIEW_PANE]:s(S.CbW.PREVIEW_PANE),[S.Zrf.SNIPPETS]:s(e?S.CbW.MOBILE_SNIPPETS:S.CbW.SNIPPETS),[S.Zrf.COMPOSE_FONT_FAMILY]:s(S.CbW.COMPOSE_FONT_FAMILY),[S.Zrf.COMPOSE_FONT_SIZE]:s(S.CbW.COMPOSE_FONT_SIZE),[S.Zrf.DESKTOP_NOTIFICATION]:s(S.CbW.DESKTOP_NOTIFICATION),[S.Zrf.MOBILE_NOTIFICATION]:s(S.CbW.MOBILE_NOTIFICATION),[S.Zrf.MARK_AS_READ_INTERVAL]:s(S.CbW.MARK_AS_READ_INTERVAL),[S.Zrf.DELIVERY_BLOCKED_SENDERS]:s(S.CbW.DELIVERY_BLOCKED_SENDERS,"senders"),[S.Zrf.SHOW_IMAGES]:e?s(S.CbW.MOBILE_SHOW_IMAGES):a,[S.Zrf.LINK_ENHANCR]:s(S.CbW.LINK_ENHANCER),[S.Zrf.COMPOSE_FORMAT]:s(S.CbW.COMPOSE_FORMAT),[S.Zrf.CONSENT_EVENTS]:s(S.CbW.CONSENT_EVENTS),[S.Zrf.VACATION_PREFERENCES]:s(S.CbW.VACATION_PREFERENCES,null),[S.Zrf.DEA_BASE_NAME]:s(S.CbW.DEA_BASE_NAME,null),[S.Zrf.MAILBOX_SIZE]:s(S.CbW.MAILBOX_SIZE,null),[S.Zrf.MESSAGE_FILTERS]:s(S.CbW.MESSAGE_FILTERS,"filters"),[S.Zrf.ACTION_AFTER_MSG_MOVE]:s(S.CbW.ACTION_AFTER_MSG_MOVE),[S.Zrf.SHOW_CUSTOM_FOLDERS]:s(S.CbW.SHOW_CUSTOM_FOLDERS),[S.Zrf.SHOW_SMART_VIEWS]:s(S.CbW.EXPAND_SMART_VIEWS),[S.Zrf.MAIL_TABS]:s(S.CbW.MAIL_TABS),[S.Zrf.HIDE_AD]:s(S.CbW.HIDE_AD),[S.Zrf.EXPANDED_FOLDERS]:s(S.CbW.EXPANDED_FOLDERS),[S.Zrf.STATIONERY_DEFAULT_THEME]:s(S.CbW.STATIONERY_DEFAULT_THEME),[S.Zrf.RECENTLY_USED_EMOJIS]:s(S.CbW.RECENTLY_USED_EMOJIS),[S.Zrf.SYSTEM_TABS]:s(S.CbW.SYSTEM_TABS),[S.Zrf.SCOUT_ONBOARDING]:s(S.CbW.SCOUT_ONBOARDING),[S.Zrf.AD_BLOCK_FEATURE_CUE_ID]:s(S.CbW.AD_BLOCK_FEATURE_CUE_ID),[S.Zrf.PREFERRED_AD_FORMAT]:s(S.CbW.PREFERRED_AD_FORMAT),[S.Zrf.USE_RICH_TEXT]:s(S.CbW.USE_RICH_TEXT),[S.Zrf.BREAKING_NEWS_SETTINGS]:s(S.CbW.BREAKING_NEWS),[S.Zrf.PACKAGE_TRACKING_SETTINGS]:s(S.CbW.PACKAGE_TRACKING),[S.Zrf.DEALS_STORIES_SETTINGS]:s(S.CbW.DEALS_STORIES),[S.Zrf.AMP_EMAIL]:s(S.CbW.AMP_EMAIL,"ampEmail"),[S.Zrf.AUTO_OPEN_FIRST_MESSAGE]:s(S.CbW.AUTO_OPEN_FIRST_MESSAGE,S.CbW.AUTO_OPEN_FIRST_MESSAGE),[S.Zrf.INBOX_STYLE]:s(S.CbW.INBOX_STYLE,S.CbW.INBOX_STYLE),[S.ANe.IS_REINDEXABLE]:s(S.CbW.IS_REINDEXABLE,S.CbW.IS_REINDEXABLE),[S.Zrf.SUPPRESSED_UPSELLS]:s(S.CbW.SUPPRESSED_UPSELLS),[S.Zrf.MIGRATION_STATUS]:s(S.CbW.MIGRATION_STATUS,S.CbW.MIGRATION_STATUS),[S.ANe.AUTO_FORWARD_ALLOWED]:s(S.CbW.AUTO_FORWARD_ALLOWED),[S.ANe.PREMIUM_DEA_ALLOWED]:s(S.CbW.PREMIUM_DEA_ALLOWED),[S.Zrf.DISABLED_MESSAGE_READ_CARDS]:s(S.CbW.DISABLED_MESSAGE_READ_CARDS,S.CbW.DISABLED_MESSAGE_READ_CARDS),[S.Zrf.NUDGE_TO_REPLY_SETTING]:s(S.CbW.NUDGE_TO_REPLY,"web.nudgeToReply")}:{}},XR=({__initializeFeatures__:e,featureSequence:t={},featureCueTimestamps:s={},featureCueUserResponse:a={},config:n={},queryStringOverrides:r={}})=>(o,i)=>{const{type:l,name:c,mailboxAttributes:d,...E}=i,_=t[l]||[],u=(({state:e={},action:t={},initializedFeatures:s={},featureCueTimestamps:a={},featureCueUserResponse:n={}})=>r=>{const o=s[r]||{},{isEnabled:i}=(0,Gl.selectors)(e).getFeaturesSelectors(),l=i(S.ANe.SCOUT_PREDICATE);if(i(S.ANe.SCOUT_RECURRING)&&o.isFeatureCue&&o.recurringInterval&&a[r]&&!o.reShowInSession){const e=Math.floor(Date.now()/1e3)-parseInt(a[r],10);if(e>0&&e<o.recurringInterval)return!1}return!l||"function"!=typeof jR[r]||jR[r]({state:e,action:t,featureName:r,featureCueTimestamps:a,featureCueUserResponse:n})})({state:o,action:i,initializedFeatures:e,featureCueTimestamps:s,featureCueUserResponse:a});switch(l){case nc.LAUNCH_PAGE_REQUESTED:return{...i,features:{...n}};case nc.INITIAL_STATE:{const[t]=_.filter(u),{responses:s}=d||{},l=(0,Gl.selectors)(o).isMobileRoute(),c=QR(l,s);r!=={}&&Object.assign(c,r);const m=Object.keys(e).reduce(((s,a)=>(s[a]=(a===t||!!e[a].enabled)&&u(a),s)),{}),p=Object.keys(n).filter((e=>"boolean"!=typeof n[e]&&!(e in c))).reduce(((e,t)=>(e[t]=n[t],e)),c);return{...i,features:Object.assign({},m,p,E.optedOutMarketingProducts?{[S.Zrf.MARKETING_PREFERENCES_SETTING]:E.optedOutMarketingProducts}:null),nextFeature:t||"",featureCues:Object.keys(e).filter((t=>e[t].isFeatureCue)).reduce(((t,s)=>({...t,[s]:{isShown:!1,isKeySaved:!1,isPersistent:!!e[s].isPersistent,subkey:e[s].subkey,userResponse:a[s]||"0",action:e[s].action||[],nextFeatureCues:e[s].nextFeatureCues||{},recurringInterval:e[s].recurringInterval||0,reShowInSession:e[s].reShowInSession||!1,isFeatureCue:!0}})),{})}}case nc.SETTINGS_BLOCKED_SENDERS_RECEIVED:case nc.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case nc.COMPOSE_ATTRIBUTES_RECEIVED:case nc.POST_LAUNCH_SYNC_SUCCEEDED:case nc.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const{mailboxAttributes:e}=i,t=(0,Gl.selectors)(o).isMobileRoute(),s=QR(t,e),[a]=_.filter(u);return{...i,features:s,...a?{nextFeature:a}:{}}}case nc.LEGACY_WIDERMAIL_EXTN_DETECTED:case nc.FEATURE_TRY_NOW_REQUESTED:case nc.FEATURE_DISABLED:case nc.FEATURE_CLOSED:case nc.FEATURE_CUE_NOTIFICATION_CLOSED:{if(!c)return i;const{nextFeatureCues:t={}}=e[c]||{},s=t[l],a=s&&u(s);return{...E,name:c,type:l,nextFeature:a?s:null}}case nc.TMR_REGISTER_ACTION_SUCCESS:return{...i,showTMRNotification:u(S.ANe.TMR_ICON_NOTIFICATION),showTMRMobileImapInCue:u(S.ANe.TMR_MOBILE_IMAPIN_CUE)};default:{const e=(0,Gl.selectors)(o),t=e.isOldNewMailInboxStyle(),[s]=e.getFeatureCueSelectors().shownFeatures().filter((0,Gl.selectors)(o).getFeaturesSelectors().isEnabled),[a]=s?[]:_.filter((e=>!(0,Gl.selectors)(o).getFeatureCueSelectors().isShown(e))).filter(u);return a&&(a!==S.ANe.TMR_ICON_NOTIFICATION||u(S.ANe.TMR_ICON_NOTIFICATION))?{...i,nextFeature:a,isOldNewMailStyle:t}:{...i,isOldNewMailStyle:t}}}},JR="KEYWORD";function $R(e,t,s){const{isMessageRoute:a,getRoute:n}=s,r=t.folder,o=t.destinationFolder,i=(0,ns.IZ)(o),l=(0,ns.IZ)(r),c=n();let d=function(e){const t=100,s={[S.Sck.INBOX]:1,[S.Sck.USER]:1,[S.Sck.ARCHIVE]:1,[S.Sck.BULK]:2,[S.Sck.TRASH]:2,[S.Sck.SENT]:3,[S.Sck.DRAFT]:4};return e.reduce(((e,a)=>{const n=s[e]||t;return n<(s[a]||t)?n:a}),"")}(e);if(d||(d=JR),!function(e,t){return e.accountId===t.accountId}(r,o))return!1;if(r.id===o.id&&i!==S.Sck.TRASH)return!1;switch(d){case S.Sck.INBOX:case S.Sck.USER:case S.Sck.ARCHIVE:if(a()&&!t.isExplicitlySelected)return l!==S.Sck.DRAFT;if(tO(l))return t.isExplicitlySelected;if(eO(l)){const{isExplicitlySelected:e}=t,s=c.name===S.n8z.Search||c.name===S.n8z.MESSAGE_FROM_SEARCH_LIST;return e||s}return!sO(l)&&!sO(i);case S.Sck.SENT:if(a()&&!t.isExplicitlySelected)return l!==S.Sck.DRAFT;if(tO(l))return t.isExplicitlySelected;if(!eO(l)){const{isExplicitlySelected:e}=t,s=c.name===S.n8z.Search||c.name===S.n8z.MESSAGE_FROM_SEARCH_LIST;return e||s}return!sO(i);case S.Sck.DRAFT:return a()&&!t.isExplicitlySelected?l!==S.Sck.DRAFT:l===S.Sck.DRAFT&&(i===S.Sck.TRASH||i===S.Sck.SENT);case S.Sck.TRASH:case S.Sck.BULK:return!sO(i);case JR:return tO(l)?i===S.Sck.TRASH:eO(l)?i!==S.Sck.DRAFT&&i!==S.Sck.BULK:!sO(i);default:return!1}}function eO(e){return e===S.Sck.SENT}function tO(e){return e===S.Sck.DRAFT}function sO(e){return e===S.Sck.DRAFT||e===S.Sck.SENT}const aO={isReadMessage:e=>e.flags.read,isUnreadMessage:e=>!e.flags.read,isStarredMessage:e=>e.flags.flagged,isUnstarredMessage:e=>!e.flags.flagged,isRecentlySentMessage:e=>t=>e.isSendRequested(t.csid),isMoveableMessage:(e,t)=>s=>$R(e,s,t),isFromSenders:e=>t=>function(e,t){if(t.fromAddresses&&t.fromAddresses.some((t=>-1!==e.indexOf(t.email))))return!0;return!1}(e,t),isRecentOrUnreadMessage:e=>e.flags.recent||!e.flags.read,isMoveableOrReadMessage:(e,t)=>s=>$R(e,s,t)||s.flags.read,isMoveableOrUnreadMessage:(e,t)=>s=>$R(e,s,t)||!s.flags.read,default:()=>!1};var nO=s(73498);const{TRASH:rO,BULK:oO,DRAFT:iO}=S.Sck,lO=e=>1===e.length&&/[a-z]/i.test(e),cO=e=>-1!==[S.Ewo.READ_CHANGE_FOLDER_ITEMS,S.Ewo.ARCHIVE_FOLDER_ITEMS,S.Ewo.DELETE_FOLDER_ITEMS,S.Ewo.DELETE_ALL_FROM_SENDERS].indexOf(e),dO=({keyword:e,acctId:t,folderId:s,senderEmailIds:a,filterUnread:n=!1})=>{if(a.length>0)return s?`folderId:${s} count:10000`+a.reduce(((e,t)=>e+` fromEmail:${t}`),""):`acctId:${t} count:10000`+a.reduce(((e,t)=>e+` fromEmail:${t}`),"");let r="";return s&&(r+=`folderId:${s} `),e&&(r+=`keyword:(${e}) `),r+="count:10000 ",n&&(r+="is:unread "),r=r.trim(),r};function EO(e={},t,s){const{folder:a,destinationFolder:n}=e;if(!a)return!1;if([nc.READ_CHANGE_REQUESTED,nc.STAR_CHANGE_REQUESTED,nc.RECENT_AND_READ_CHANGE_REQUESTED,nc.MOVE_AND_READ_CHANGE_REQUESTED].includes(s))return!1;const r=t(a.id),o=n?t(n.id):void 0;return!((0,Hl.WN)(e.listId)!==S.F6k.MESSAGES||!e.isAffected)&&((!o||r!==oO||o===rO)&&((s!==nc.MOVE_ITEMS_REQUESTED||-1===[rO,oO].indexOf(r))&&-1!==[rO,oO,iO].indexOf(r)))}const _O=e=>-1!==[S.F6k.MESSAGES,S.F6k.IMAGES,S.F6k.DOCUMENTS,S.F6k.COUPON_CARDS,S.F6k.TRAVEL_CARDS,S.F6k.REFUND_CARDS].indexOf((0,Hl.WN)(e)),uO=(e,t)=>s=>{const{destinationFolderType:a,checkForDuplicates:n}=t,{getFoldersSelectors:r,doesMessageGroupIdExist:o,getMessagesSelectors:i,getFeaturesSelectors:l,getAttachmentIdsByMessageId:c,getMessageCsid:d,getMessageFolderId:E,getMessageIdsFromMessageGroupId:_,getAccountById:u,getMessageModSeq:m}=(0,Gl.selectors)(e),{getAccountIdByFolderId:p,getFolderIdsFromFolderType:C,getFolderTotal:A,getPrimaryFolderTypeByFolderId:T}=r(),{getConversationId:h,getFromAddresses:g}=i(),{isEnabled:I}=l(),R=((e,t)=>s=>{const{type:a}=t,{getMessageFlags:n}=(0,Gl.selectors)(e),r=n(s)||{};switch(a){case nc.V3_MESSAGE_SEND_SUCCEEDED:case nc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:{const{message:{inReplyTo:e={}}={}}=t,{messageReference:{id:a}={},replied:n,forwarded:o}=e;if(a===s)return{...r,...n?{answered:!0}:null,...o?{forwarded:!0}:null}}}return r})(e,t),O=I(S.ANe.CONVERSATIONS);return s.filter((e=>_O(e.listId)&&o(e.id))).map((e=>{const r=_(e.id);return r.map((o=>{const i=E(o),l=A(i),_=p(i),I=u(_),D=a?C(a,_)[0]:t.destinationFolderId,N=D?SO(D,T(D),p(D)):void 0,f=O?h(o):o,M=(e.messageIds||[]).indexOf(o)>=0||1===r.length,L=!e.messageIds&&r.indexOf(o)>=0,P=g(o),y=(({count:e,checkForDuplicates:t=!1,account:s,destinationFolder:a,conversations:n})=>(t||e<=S.xRm)&&!!a&&(-1!==a.types.indexOf(S.Sck.TRASH)||-1!==a.types.indexOf(S.Sck.BULK))&&n&&"IMAPIN"===s.type&&-1!==S.nht.indexOf(s.serverUri))({count:s.length,checkForDuplicates:n,account:I,destinationFolder:N,conversations:O});return{...e,messageId:o,csid:d(o),modSeq:m(o),isExplicitlySelected:M,isImplicitlySelected:L,groupId:f,folder:SO(i,T(i),_,l),destinationFolder:N,flags:R(o),attachmentIds:c(o),fromAddresses:P,deleteDuplicates:y}}))})).reduce(((e,t)=>e.concat(t)),[])},mO=(e,t)=>{const{streamId:s,streamItem:a}=t,{doesStreamExist:n,getSelectedStreamItems:r,getCursorItem:o}=(0,Gl.selectors)(e),i=n(s)?o(s):void 0,l=n(s)?r(s):[];let c=[];a?c=[a]:t.batchRemoveItems&&t.batchDelete?c=t.batchRemoveItems:t.allSelected?c=t.streamItems.map((({id:e,listId:t})=>({id:e,listId:t}))):l.length?c=l:i&&(c=[i]);return((e,t)=>s=>{const a=uO(e,t);return[...s.filter((e=>-1===[S.F6k.MESSAGES,S.F6k.COUPON_CARDS].indexOf((0,Hl.WN)(e.listId)))),...a(s)]})(e,t)(c)};function SO(e,t,s,a){return{id:e,types:[t],accountId:s,total:a}}const pO=(e,t)=>{const{doesListExist:s,getListsSelectors:a,getContactListSelectors:n}=(0,Gl.selectors)(e),{getContactById:r}=n(),{getListIdsByListFilter:o,getItemIds:i,getListIdsByContentType:l}=a(),c=(0,Hl.uh)(S.ukn.USER_CREATED_CONTACTS,""),d=(0,Hl.uh)(S.ukn.GROUPS,S.c8t),E=o(S.ukn.IMPORTANT_CONTACTS),_=o(S.ukn.GROUPS),u=(0,Hl.uh)(S.ukn.PRINT_CONTACTS),m=[c];switch(s(d)&&m.push(d),t.type){case nc.CONTACTS_SORT_ORDER_CHANGED:case nc.CREATE_CONTACT_SUCCEEDED:return s(u)&&m.push(u),m;case nc.CONTACT_SAVE_SUCCEEDED:{var p;const{id:e,deletedContactId:s}=t.contact,a=s||e,n=(null===(p=r(a))||void 0===p?void 0:p.emails)||[];return E.forEach((e=>{i(e).some((e=>n.some((t=>t===e))))&&m.push(e)})),l(S.ukn.PEOPLE).filter((e=>(0,Hl.C4)(e)===S.ukn.WITH_KEYWORD)).forEach((e=>{i(e).some((e=>e===a))&&m.push(e)})),_.forEach((e=>{i(e).some((e=>"object"==typeof e?a===e.id:a===e))&&m.push(e)})),m}default:return m}},CO=(e,t,s=[])=>{const{getFoldersSelectors:a,getListsSelectors:n}=(0,Gl.selectors)(e),{getFolderIdsByName:r,doesFolderIdExist:o}=a(),{getListIdsByContentType:i,getItemIds:l}=n();switch(t.type){case nc.CONTACTS_SORT_ORDER_CHANGED:return pO(e,t).map((e=>({listId:e})));case nc.COUPONS_REMOVE_TAG_DECO_REQUESTED:return i(S.F6k.COUPON_CARDS).map((e=>({listId:e})));case nc.CREATE_CONTACT_SUCCEEDED:{const{listId:s}=t.streamItem;return[{listId:s},...pO(e,t).map((e=>({listId:e})))]}case nc.CONTACT_SAVE_SUCCEEDED:{const{listId:s,oldListId:a}=t.streamItem;return[{listId:s},{listId:a},...pO(e,t).map((e=>({listId:e})))]}case nc.DELETE_CONTACT_REQUESTED:{const{getContactListSelectors:s}=(0,Gl.selectors)(e),{getContactById:a}=s(),n=t.streamItems.reduce(((e,{id:t})=>e.concat(a(t).emails)),[]);return i(S.F6k.CONTACTS).concat(i(S.F6k.PEOPLE).filter((e=>(0,Hl.aY)(e)===S.qd8.CONTACT_DETAILS||(0,Hl.C4)(e)===S.ukn.WITH_KEYWORD))).reduce(((e,s)=>{const a=l(s);let r=!1;const o=(0,Hl.C4)(s);return o===S.ukn.PRINT_CONTACTS?e.concat({listId:s,markAsDirty:!1}):o===S.ukn.IMPORTANT_CONTACTS||o===S.ukn.GROUPS?(r=a.some((e=>n.some((t=>"object"==typeof e?e.type===nO.df.EMAIL&&t===e.value:t===e)))),r?e.concat({listId:s,itemsToUpdate:n}):e):(r=a.some((e=>t.streamItems.some((t=>e===t.id)))),r?e.concat({listId:s}):e)}),[])}}return i(S.F6k.MESSAGES).map((e=>{const{folderIds:t=[],folderNames:s=[]}=(0,Hl.Mz)(e);return{listId:e,folderIds:s.reduce(((e,t)=>e.concat(r(t))),[]).concat(t).filter(o)}})).concat(i(S.F6k.IMAGES).map((e=>({listId:e})))).concat(i(S.F6k.DOCUMENTS).map((e=>({listId:e})))).filter((({listId:e})=>-1===s.indexOf(e)))};function AO(e,t){const{type:s,itemToUpdate:a}=t,n=(0,Gl.selectors)(e),{getFoldersSelectors:r}=n,{doesFolderIdExist:o,getPrimaryFolderTypeByFolderId:i,getFolderIdsByName:l}=r();switch(s){case nc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case nc.V3_MESSAGE_SEND_SUCCEEDED:return aO.isRecentlySentMessage(n);case nc.UNDO_MOVE_REQUESTED:case nc.MOVE_ITEMS_REQUESTED:case nc.DELETE_ITEMS_REQUESTED:{const{folderIds:e=[],folderNames:t=[]}=(0,Hl.Mz)(a.listId),s=t.reduce(((e,t)=>e.concat(l(t))),[]).concat(e).filter(o).map(i);return aO.isMoveableMessage(s,n)}case nc.MOVE_AND_READ_CHANGE_REQUESTED:{(0,m.Z)("boolean"==typeof t.isRead,`Action ${s} does not have isRead prop.`);const{folderIds:e=[],folderNames:r=[]}=(0,Hl.Mz)(a.listId),c=r.reduce(((e,t)=>e.concat(l(t))),[]).concat(e).filter(o).map(i);return t.isRead?aO.isMoveableOrReadMessage(c,n):aO.isMoveableOrUnreadMessage(c,n)}case nc.BLOCK_SENDERS_WITH_DELETE_REQUESTED:{const{deleteItemsFromSenders:e=[]}=t;return aO.isFromSenders(e)}case nc.READ_CHANGE_REQUESTED:return(0,m.Z)("boolean"==typeof t.isRead,`Action ${s} does not have isRead prop.`),t.isRead?aO.isReadMessage:aO.isUnreadMessage;case nc.RECENT_AND_READ_CHANGE_REQUESTED:return aO.isRecentOrUnreadMessage;case nc.STAR_CHANGE_REQUESTED:return(0,m.Z)("boolean"==typeof t.isStarred,`Action ${s} does not have isStarred prop.`),t.isStarred?aO.isStarredMessage:aO.isUnstarredMessage;default:(0,m.Z)(!1,`Action ${s} does not have an associated rule with it.`)}}const TO=(e,t)=>{const{type:s,streamId:a,streamItem:n,staleFolderIds:r=[]}=t;let o;const{doesStreamExist:i,getStreamSelectionType:l}=(0,Gl.selectors)(e),c=i(a)&&l(a)?l(a):null;if(s===nc.CHECK_MAIL_RECEIVED_WITH_UPDATES&&r.length)return{...t,listsToUpdate:CO(e,t)};if(s===nc.OPEN_PAGE_REQUESTED){const{doesListExist:s,getListStatus:a}=(0,Gl.selectors)(e),{forceSync:n=!1,listId:r,i13nModel:o={}}=t,i=o.mKey===Rl.JE.SEARCH_BUTTON;if(s(r)&&a(r)===S.DAQ.ERROR&&(n||i))return{...t,listsToUpdate:[{listId:r}],forceSync:!0}}if(s===nc.UPDATE_ITEMS_SUCCEEDED&&cO(t.triageActionType)){return{...t,listsToUpdate:CO(e,t),forceSync:!0}}if(s===nc.UPDATE_ITEMS_FAILED){const{deletedMessages:s=[]}=t;if(0===s.length)return t;const{getFoldersSelectors:a,getGroupIdContainingMessageId:n,getMessageFolderId:r,getMessageIdsFromMessageGroupId:o,getAccountIdByFolderId:i,getPrimaryFolderTypeByFolderId:l,getMessageFlags:c,getRoute:d,getAttachmentIdsByMessageId:E}=(0,Gl.selectors)(e),_=d(),u=(0,Hl.LY)(_),m=[];return s.forEach((e=>{const t=n(e.id),s=r(e.id),d=(0,Hl.Kw)(s),_=o(t,d),u=i(s),S=l(s),p=a().getFolderTotal(s);_.forEach((a=>{m.push({id:t,groupId:t,messageId:a,listId:d,isAffected:a===e.id,folder:SO(s,S,u,p),flags:c(a),attachmentIds:E(a),permanentDelete:!0})}))})),m.length>0?{...t,itemsToDelete:m,listsToUpdate:[{listId:u}],listsToRemove:CO(e,t,[u]).map((({listId:e})=>e))}:t}if(s===nc.CONTACTS_SORT_ORDER_CHANGED)return{...t,listsToUpdate:CO(e,t)};if(!a&&s!==nc.DELETE_CONTACT_REQUESTED&&s!==nc.CONTACT_SAVE_SUCCEEDED&&s!==nc.CREATE_CONTACT_SUCCEEDED)return t;switch(s){case nc.UNDO_MOVE_AND_READ_REQUESTED:case nc.UNDO_MOVE_REQUESTED:o=t.itemsToUpdate;break;case nc.V3_MESSAGE_SAVE_SUCCEEDED:if(!n)break;o=[n];break;case nc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case nc.V3_MESSAGE_SEND_SUCCEEDED:case nc.MOVE_ITEMS_REQUESTED:case nc.MOVE_AND_READ_CHANGE_REQUESTED:case nc.DELETE_ITEMS_REQUESTED:case nc.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case nc.READ_CHANGE_REQUESTED:case nc.RECENT_AND_READ_CHANGE_REQUESTED:case nc.STAR_CHANGE_REQUESTED:{const{getFoldersSelectors:n,getStreamSelectionType:r,getRoute:i,doesStreamExist:l}=(0,Gl.selectors)(e),{getPrimaryFolderTypeByFolderId:c}=n(),d=l(a)&&r(a)?r(a):S.ie0.NONE,E=!t.streamItem&&d===S.ie0.ALL;if(cO(t.triageActionType)||E){const{folderId:a,flags:n,destinationFolderId:r,destinationFolderType:l,listId:d,permanent:_=!1}=t,u=d||(0,Hl.LY)(i()),m=a||(0,Hl.Fh)(u),p=n||(e=>{switch(e.type){case nc.READ_CHANGE_REQUESTED:return{read:!e.isRead};case nc.STAR_CHANGE_REQUESTED:return{flagged:!e.isStarred}}return{}})(t),C=((e,t)=>({acctId:s,folderId:a,flags:n={},destinationFolderId:r,destinationFolderType:o,permanentDelete:i,listId:l,senderEmailIds:c=[]})=>{const{getFoldersSelectors:d}=(0,Gl.selectors)(e),{getAccountIdByFolderId:E,getPrimaryFolderTypeByFolderId:_,getFolderIdsFromFolderType:u,getFolderTotal:m}=d(),p=a?E(a):s;r||(r=o?u(o,p)[0]:void 0);const C=r?SO(r,_(r),E(r)):void 0,A=a?m(a):void 0;return{folder:a?SO(a,_(a),p,A):void 0,listId:l,messageQuery:dO({keyword:(0,Hl.Q7)(l),acctId:s,folderId:a,senderEmailIds:c,filterUnread:t.triageActionType===S.Ewo.READ_CHANGE_FOLDER_ITEMS}),isBatch:!0,isAffected:!0,permanentDelete:i,flags:n,destinationFolder:C,isQueryBased:!0}})(e,t),{getSelectedAccountId:A}=(0,Gl.selectors)(e),T=!(!m||-1===[S.Sck.BULK,S.Sck.TRASH].indexOf(c(m)));if(s===nc.BLOCK_SENDERS_WITH_DELETE_REQUESTED){const{deleteItemsFromSenders:a=[]}=t;o=[C({acctId:A(),folderId:T?m:void 0,flags:{},destinationFolderId:r,destinationFolderType:l,permanentDelete:_,listId:u,senderEmailIds:a})],o=o.concat(mO(e,t).filter((s=>AO(e,{...t,itemToUpdate:s})(s))).map((e=>{let t=Object.assign({},e,{isAffected:!0});return EO(t,c,s)&&(t.permanentDelete=!0,t=(0,g.oF)(t,["destinationFolder"])),t})))}else{o=[C({acctId:A(),folderId:m,flags:p,destinationFolderId:r,destinationFolderType:l,permanentDelete:_,listId:u})]}if(!E)break}else o=[];o=o.concat(mO(e,t).map((a=>{const{isAffected:n=!1,isHamMove:r=!1}=t,o=AO(e,{...t,itemToUpdate:a});let i={...a,isAffected:(a.isExplicitlySelected||a.isImplicitlySelected)&&_O(a.listId)&&(o(a)||n)};!i.destinationFolder&&(s===nc.DELETE_ITEMS_REQUESTED||s===nc.MOVE_ITEMS_REQUESTED)||EO(i,c,s)?(i.permanentDelete=!0,i=(0,g.oF)(i,["destinationFolder"])):i.permanentDelete=!1;const l=(0,g.u9)(a,"destinationFolder.types",[]),d=(0,g.u9)(a,"folder.types",[]);return i.isSpamMove=!1,i.isHamMove=!1,s!==nc.DELETE_ITEMS_REQUESTED&&s!==nc.MOVE_ITEMS_REQUESTED||i.permanentDelete||(-1!==l.indexOf(S.Sck.BULK)?i.isSpamMove=!0:(-1!==d.indexOf(S.Sck.BULK)||r)&&(i.isHamMove=!0)),i})));break}case nc.COUPONS_REMOVE_TAG_DECO_REQUESTED:{const{messageDecosPayloads:e}=t;o=e.map((e=>({id:e.messageId,isAffected:!0})));break}case nc.DELETE_CONTACT_REQUESTED:{const{getContactListSelectors:s,getListsSelectors:a}=(0,Gl.selectors)(e),{getItemIds:n}=a(),{getCurrentPaneListId:r,getContactById:i}=s(),l=r();t.streamId=l,t.streamItems=t.streamItem?[t.streamItem]:t.streamItems,o=t.streamItems.map((e=>{const t=i(e.id);return{...e,listId:n(l).find((t=>n(t).indexOf(e.id)>=0)),editToken:t.editToken,emails:t.emails,isAffected:!0}}));break}case nc.CREATE_CONTACT_SUCCEEDED:{const{getContactListSelectors:s}=(0,Gl.selectors)(e),{getCurrentPaneListId:a}=s(),n=a(),r=t.contact.name.charAt(0);t.streamId=n,t.streamItem={streamId:n,id:t.contact.id,listId:(0,Hl.tE)((0,Hl.uh)(S.ukn.USER_CREATED_CONTACTS,""),{name:lO(r)?r.toUpperCase():"#"})},o=[{...t.streamItem,isAffected:!0}];break}case nc.CONTACT_SAVE_SUCCEEDED:{var d;const{getContactListSelectors:s}=(0,Gl.selectors)(e),{getCurrentPaneListId:a,getContactById:n}=s(),r=a(),{id:i,name:l,emails:c,deletedContactId:E}=t.contact,_=n(E||i),u=_.name,m=lO(u.charAt(0))?u.charAt(0).toUpperCase():"#",p=null==l?void 0:l.charAt(0),C=(null===(d=_.emails)||void 0===d?void 0:d.filter(((e,t)=>e!==c[t])))||[],A=(0,Hl.tE)((0,Hl.uh)(S.ukn.USER_CREATED_CONTACTS,""),{name:lO(p)?p.toUpperCase():"#"}),T=(0,Hl.tE)((0,Hl.uh)(S.ukn.USER_CREATED_CONTACTS,""),{name:m});t.streamId=r,t.streamItem={streamId:r,id:i,listId:A,oldListId:T,changedEmails:C},o=[{...t.streamItem,isAffected:!0}];break}}let E=[];if(!(t.type!==nc.DELETE_ITEMS_REQUESTED&&t.type!==nc.MOVE_ITEMS_REQUESTED||t.destinationFolderType!==S.Sck.TRASH&&t.destinationFolderType!==S.Sck.BULK)){const{getListsSelectors:t}=(0,Gl.selectors)(e),{getListIdsByContentType:s}=t();E=[].concat(s(S.F6k.COUPON_CARDS)).concat(s(S.F6k.REFUND_CARDS))}return o?{...t,itemsToUpdate:o,listsToUpdate:CO(e,t,E),listsToRemove:E,selectionType:c}:t},hO=(e,t)=>{const{type:s,simpleBody:a,messageIds:n=[],messageBodiesMap:r={},messageMetadataMap:o={},errorMessageIds:i=[]}=t;switch(s){case nc.INITIAL_STATE:case nc.MESSAGE_BODIES_RECEIVED:case nc.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case nc.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:{const e=Object.keys(r);if(!e.length&&!i.length)return t;const s=e.reduce(((e,t)=>{const{csid:s}=o[t]||{};return{...e,[t]:{body:r[t]},...s?{[s]:{body:r[t]}}:{}}}),{}),a=i.reduce(((e,t)=>({...e,[t]:{}})),{});return{...t,v3MessageBodiesMap:{...s,...a}}}case nc.MESSAGE_AUTO_SAVE_SUCCEEDED:case nc.MESSAGE_SAVE_SUCCEEDED:case nc.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case nc.V3_MESSAGE_SAVE_SUCCEEDED:case nc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return{...t,v3MessageBodiesMap:{[t.message.id]:{body:a},...t.csid?{[t.csid]:{body:a}}:{}}};case nc.MESSAGE_GROUP_OPENED:case nc.MESSAGE_BODIES_FAILED:return n.length?{...t,v3MessageBodiesMap:n.reduce(((e,t)=>({...e,[t]:{}})),{})}:t;case nc.PREVIEW_MESSAGE_REQUESTED:case nc.OPEN_PAGE_REQUESTED:{const{streamItem:s={}}=t,{id:a,listId:n}=s;if(a&&n){const{getMessageIdsFromMessageGroupId:s,getMessageBodyState:r,getMessageBodyRetryCount:o}=(0,Gl.selectors)(e),i=(s(a,n)||[]).reduce(((e,t)=>{const s=r(t),a=o(t);return s===S.DAQ.ERROR&&a<=S.KW1?{...e,[t]:{}}:e}),{});return{...t,v3MessageBodiesMap:i}}return t}default:return t}},gO=S.AGu.Modes,IO=(e,t)=>{switch(t.type){case nc.V3_MESSAGE_SEND_REQUESTED:{const{getRoute:s}=(0,Gl.selectors)(e),a=(0,Hl.LY)(s());return{...t,listId:a}}case nc.DELETE_ITEMS_REQUESTED:{const{csid:s,listId:a,triageActionType:n}=t;if(n!==S.Ewo.DELETE_DRAFT)return t;const{getRoute:r,getDraftMessageId:o,getGroupIdContainingMessageId:i,getMainStreamListIds:l}=(0,Gl.selectors)(e),c=o(s),d=c?[c]:[],E=(0,l_.BA)(l(r())),_=c?i(c):void 0;return{...t,streamId:E,messageIds:d,messageGroupIds:_?[_]:[],streamItem:{listId:a,messageIds:d,id:_}}}case nc.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return{...t,inReplyToMessageId:t.composeMode===gO.REPLY?t.message.id:null,inReplyAllToMessageId:t.composeMode===gO.REPLY_ALL?t.message.id:null,inForwardToMessageId:t.composeMode===gO.FORWARD?t.message.id:null};case nc.OPEN_COMPACT_COMPOSE:{const{getRoute:s,getSelectedAccountIdByRoute:a}=(0,Gl.selectors)(e),n=a(s());return{...t,accountId:n}}default:return t}},RO=({internal:e=!1})=>(t,s)=>{const{type:a}=s;switch(a){case nc.INITIAL_STATE:return{...s,internal:e};default:return s}},OO=(e,t)=>{switch(t.type){case nc.DELETE_ITEMS_REQUESTED:case nc.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView){const{getAdsSelectors:s,getSetting:a}=(0,Gl.selectors)(e),n=s(),r=n.getMessageReadAdRotationTimestamp(),o=n.getMessageReadAdRotationActive(),i=a(S.Zrf.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL);return{...t,messageReadAdRotationTimestamp:r,messageReadAdRotationActive:o,messageReadAdRotationIdleInterval:i}}break;case nc.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case nc.MESSAGE_CARD_EXPANSION_CHANGED:case nc.MESSAGE_CARD_FOCUSED:case nc.APPLICATION_VISIBILITY_DID_CHANGE:case nc.OPEN_PAGE_REQUESTED:{const{getAdsSelectors:s,getSetting:a,getFeaturesSelectors:n}=(0,Gl.selectors)(e),{isEnabled:r}=n(),o=s(),i=o.getMessageReadAdRotationTimestamp(),l=o.getMessageReadAdRotationActive(),c=a(S.Zrf.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),d=r(S.ANe.NO_AD_ROTATION_ON_COMPOSE);return{...t,messageReadAdRotationTimestamp:i,messageReadAdRotationActive:l,messageReadAdRotationIdleInterval:c,noAdRotationOnCompose:d}}}return t};var DO=s(87367);const NO=(e,t)=>{switch(t.type){case nc.OPEN_PAGE_REQUESTED:{if(t.route.name===S.n8z.SPONSORED_MESSAGE){const{getAdsSelectors:s}=(0,Gl.selectors)(e),{getGeminiAdDataFromCreativeId:a,getSponsoredAd:n}=s(),{creativeId:r}=(0,g.u9)(t,"route.params",{});return n(r)?t:{...t,sponsoredAd:a(r)}}if(t.route.name!==S.n8z.MESSAGE_FROM_FOLDER_LIST&&t.route.name!==S.n8z.MESSAGE_FROM_SEARCH_LIST)return t;const{getMessageFromAddress:s,doesMessageIdExist:a,getFeaturesSelectors:n,getMessageIdsFromMessageGroupId:r}=(0,Gl.selectors)(e),{isEnabled:o}=n(),i=(0,g.u9)(t,"route.params.groupId",null);if(i&&o(S.ANe.GEMINI_CONTEXTUAL_ADS)){const e=r(i),n=e&&e[0],o=a(n)&&s(n),l=o&&(0,DO.a7)(o);return{...t,geminiCategories:l}}break}}return t};var fO=s(70717),MO=s(85262);const LO=(e,t)=>{const{type:s}=t;switch(s){case nc.STAR_CHANGE_REQUESTED:case nc.READ_CHANGE_REQUESTED:{const{streamItem:s,streamId:a}=t,{doesStreamExist:n,getCursorItem:r,getSetting:o,isMessageRoute:i,getStreamsSelectors:l,getMessageGroupStreamItemsWithExpansionStates:c,getTabPages:d}=(0,Gl.selectors)(e),{getSelectedItemsSelectors:E}=l(),{isItemSelected:_}=n(a)?E(a):{},u=n(a)?r(a):{},m=o(S.Zrf.PREVIEW_PANE);if(s&&!t.isAutomatic&&(m&&tc()(s,u)&&!_(s)||i())){const e=c(s);return{...t,persistStreamItemExpansionStates:e}}if(t.isAutomatic&&!d().find((e=>{var s;return e.params.groupId&&e.params.groupId===(null===(s=t.streamItem)||void 0===s?void 0:s.id)}))){const{messageIds:e=[],persistStreamItemExpansionStates:s}=t;return{...t,persistStreamItemExpansionStates:s.map(((t,a)=>-1!==e.indexOf(t.messageId)?{...t,expansionState:S.Lvq.TEMPORARY_EXPANSION}:a>0&&-1!==e.indexOf(s[a-1].messageId)?t.expansionState===S.Lvq.COLLAPSED?{...t,expansionState:S.Lvq.TEMPORARY_COLLAPSE}:t:a<s.length-1&&-1!==e.indexOf(s[a+1].messageId)&&t.expansionState===S.Lvq.COLLAPSED?{...t,expansionState:S.Lvq.TEMPORARY_COLLAPSE}:t))}}return t}case nc.OPEN_PAGE_REQUESTED:case nc.PREVIEW_MESSAGE_REQUESTED:case nc.STREAM_ITEM_TOGGLED:case nc.STREAM_CONTEXT_MENU:case nc.STREAM_ITEMS_MULTIPLE_TOGGLE:case nc.STREAM_ITEMS_RANGE_SELECTED:{const{getDefaultTemporaryExpansionStatesForMessageGroupStreamItems:s,getStreamsSelectors:a}=(0,Gl.selectors)(e),{doesExpansionStateExist:n}=a(),{streamItem:r}=t;if(!r)return t;if(!n((0,l_.k3)(r.listId,r.id))){const e=s(r);return{...t,temporaryExpansionState:e}}return t}case nc.STREAM_CURSOR_MOVED:case nc.STREAM_SELECT_CURSOR_MOVED:{const{getDefaultTemporaryExpansionStatesForMessageGroupStreamItems:s,doesStreamExist:a,getCursor:n}=(0,Gl.selectors)(e),{streamId:r,streamItems:o=[],movement:i}=t,l=(0,MO.lw)(o);if(0===l.length)return t;const{streamItem:c}=a(r)?(0,fO.N4)(n(r),i,l):(0,fO.N4)({index:-1},i,l);if(!a((0,l_.k3)(c.listId,c.id))){const e=s(c);return{...t,temporaryExpansionState:e}}return t}case nc.CLOSE_PAGE_REQUESTED:{const{listId:s,streamId:a}=t,{doesStreamExist:n,getCursorItem:r}=(0,Gl.selectors)(e);let o=!1;if(s&&n(s)){const e=r(s)||{};(0,l_.k3)(e.listId,e.id)===a&&(o=!0)}return{...t,shouldPersistStream:o}}case nc.PREVIEW_MESSAGE_CLOSED:{const{streamId:s}=t,{doesStreamExist:a,getCursorItem:n,getTabPages:r}=(0,Gl.selectors)(e),o=[];if(s&&a(s)){const e=n(s)||{},t=(0,l_.k3)(e.listId,e.id);a(t)&&!r().find((t=>t.params.groupId&&t.params.groupId===e.id))&&o.push(t)}return{...t,expansionStatesToRemove:o}}default:return t}},PO="abcdefghijklmnopqrstuvwxyz0123456789.!#$%&'*+-/=?^_`{|}~".split(""),yO=(e,t)=>{switch(t.type){case nc.CONTACT_SUGGESTIONS_REQUESTED:{const{getComposeSuggestionsFromImportantsByQuery:s}=(0,Gl.selectors)(e),a=s({query:t.query,contextEmail:t.contextFrom});return{...t,contacts:a,nextContacts:a.length?PO.reduce(((e,a)=>{const n=t.query+a;return e[n]=s({query:n,contextEmail:t.contextFrom}),e}),{}):{}}}}return t},bO=(e,t)=>{switch(t.type){case nc.PAC_CUE_MARK_AS_SHOWN_REQUESTED:{const{getFeaturesSelectors:s}=(0,Gl.selectors)(e),{getSetting:a}=s(),n=a(S.Zrf.SCOUT_ONBOARDING),r=(0,ZR.JV)(n,S.ANe.WEB_PAC_NOTIFICATION_CUE)+1,o=r>=S.hqH;return{...t,userResponse:r,shownMaxTimes:o}}case nc.FEATURE_CLOSED:case nc.FEATURE_TRY_NOW_REQUESTED:{const{getFeaturesSelectors:s,getFeatureCueSelectors:a}=(0,Gl.selectors)(e),{isPersistent:n}=a(),{getSetting:r}=s(),{name:o,userResponse:i}=t;if(i)return t;const l=r(S.Zrf.SCOUT_ONBOARDING),c=(0,ZR.JV)(l,o),d=n(o);return{...t,userResponse:d?c+1:c}}case nc.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:{const{getFeaturesSelectors:s,getFeatureCueSelectors:a}=(0,Gl.selectors)(e),{isPersistent:n}=a(),{getSetting:r}=s(),{name:o,userResponse:i}=t;if(i)return t;const l=r(S.Zrf.SCOUT_ONBOARDING),c=(0,ZR.JV)(l,o),d=n(o);return{...t,userResponse:d?c:c+1}}default:return t}};var FO=s(55426);const UO=(e,t)=>{const{type:s,streamItems:a,selectionType:n}=t;switch(s){case nc.STREAM_ITEMS_SELECTION_CHANGED:case nc.ALL_STREAM_ITEMS_SELECTED:{const s=a.filter((t=>(0,FO.VR)(t,n,(0,Gl.selectors)(e))));return{...t,selectedItems:s}}default:return t}},vO=(e,t)=>{switch(t.type){case nc.RIGHT_RAIL_COMMS_ICON_CLICKED:{const{getActionableRightRailPane:s}=(0,Gl.selectors)(e),a=s();return{...t,isPaneVisible:!!a}}default:return t}},wO=(e,t)=>{const s=(0,Gl.selectors)(e);switch(t.type){case nc.CHECK_MAIL_RECEIVED_WITH_UPDATES:case nc.MESSAGE_BODIES_RECEIVED:case nc.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{var a;const e=null===(a=t.listData)||void 0===a?void 0:a.messages,{getUnsyncedDataToSync:n}=s;return n().filter((e=>e.type===S.sKi.MESSAGE_ITEM_TO_UPDATE)).forEach((t=>{var s;((null===(s=t.userInputtedValues)||void 0===s?void 0:s.messageItemsToSync)||[]).forEach((t=>{const{messageId:s,flags:a,updateTypes:n}=t,r=n.some((e=>-1!==[S.oc$.READ,S.oc$.STAR,S.oc$.HAM,S.oc$.SPAM].indexOf(e)));e&&e[s]&&r&&(e[s].flags={...e[s].flags,...a})}))})),t}default:return t}};var GO=s(95357);const kO=(e,t)=>{const s=(0,Gl.selectors)(e),{getDraftMessageId:a}=s;if(t.type===nc.LAUNCH_COMPLETED)return[];if(t.v3MessageBodiesMap){const{v3MessageBodiesMap:e}=t;return Object.keys(e)}const{groupIds:n=[],messageIds:r=[],csid:o}=(0,GO.Z)(s);return n.length>0?((e,t)=>{const{getMessageIdsFromMessageGroupId:s,doesMessageGroupIdExist:a,doesMessageBodyExist:n}=e;return t.reduce(((e,t)=>{if(!a(t))return e;const r=s(t).filter((e=>n(e)));return[...e,...r]}),[])})(s,n):r.length>0?r:o&&a(o)?[a(o)]:[]};var HO=s(42490);const BO=(e,t)=>{const s=[];switch(t.type){case nc.LAUNCH_COMPLETED:case nc.OPEN_PAGE_REQUESTED:case nc.DOCUMENT_FETCH_REQUESTED:{const t=(0,Gl.selectors)(e),a=(0,HO.Z)(t);a&&s.push(a);break}case nc.DOCUMENT_FETCH_SUCCEEDED:case nc.DOCUMENT_FETCH_FAILED:t.documentId&&s.push(t.documentId)}return s},xO=(e,t)=>{const s=(0,Gl.selectors)(e),{getSetting:a,getRecentlyUsedStateSelectors:n}=s,r=kO(e,t),o=BO(e,t),i={messageBodies:[],documents:[]},l={messageBodiesToRemove:[],documentsToRemove:[]},c=a(S.Zrf.MAX_NUMBER_OF_MESSAGE_BODIES),d=a(S.Zrf.MAX_NUMBER_OF_DOCUMENTS);if(r.length>0){const e=n().getRecentlyUsedMessageBodiesIds(),t=Math.max(c,r.length),s=Js()(r.concat(e));i.messageBodies=s.slice(0,t),l.messageBodiesToRemove=s.slice(t)}if(o.length>0){const e=n().getRecentlyUsedDocumentsIds(),t=Js()(o.concat(e));i.documents=t.slice(0,d),l.documentsToRemove=t.slice(d)}return{...t,recentlyUsedState:i,statesToRemove:l}},VO=(e,t)=>{const{isFeatureEnabled:s,getFeatureCueSelectors:a,getSetting:n}=(0,Gl.selectors)(e),r=n(S.Zrf.DAYS_IN_TRIAL_TEST_PARAM),o=s(S.ANe.ADS),{NOT_SUBSCRIBED:i,SUBSCRIBED:l,EXPIRED:c,UPGRADED_TO_MAILPRO:d}=S.cZM,{INVALID:E,PRE_SIGNUP_LIGHTBOX:_,PRE_SIGNUP_PENCIL_BANNER:u,PRE_SIGNUP_LEFT_PANEL_1:m,PRE_SIGNUP_LEFT_PANEL_2:p,PRE_SIGNUP_LEFT_PANEL_3:C,POST_SIGNUP_THANKYOU_TOAST:A,FREE_TRIAL_ENDING_NOTICATION_1:T,FREE_TRIAL_ENDING_NOTICATION_2:h,FREE_TRIAL_LAST_DAY_NOTIFICATION:g,FREE_TRIAL_EXPIRED_NOTIFICATION:I,MAILPRO_SIGNUP_THNAKYOU_TOAST:R}=S.$AH;if(!s(S.ANe.MAILPRO_FREE_TRIAL))return t;const O=a().getUserResponse(S.ANe.MAILPRO_FREE_TRIAL_UPSELLS),D=parseInt(O,10)||0;switch(t.type){case nc.LAUNCH_COMPLETED:if(o&&(D===E||-1===r)){const e=_,s=i;return{...t,mailproFreeTrialUpsellId:e,subscriptionStatus:s}}if(o&&D===C){const e=i;return{...t,subscriptionStatus:e}}if(o&&D===I){const e=c;return{...t,subscriptionStatus:e}}if(!o&&D===R){const e=d;return{...t,subscriptionStatus:e}}return t;case nc.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:{const{trialEndDate:e,hasUpgradedToMailpro:s,inFreeTrial:a,trialStartDate:n,hasFreeTrialInSubList:r}=t.data||{};if(o&&!r&&D>=_&&D<C){const e=i;let s=0;switch(D){case _:s=u;break;case u:s=m;break;case m:s=p;break;case p:s=C}return{...t,mailproFreeTrialUpsellId:s,subscriptionStatus:e}}if(!o&&s){const e=R,s=d;return{...t,mailproFreeTrialUpsellId:e,subscriptionStatus:s}}if(!o&&a){const e=(0,VR.differenceInDays)((new Date).getTime(),n)+1,s=l;let a=E;return D<A&&e>0&&e<7?a=A:D<T&&e>=7&&e<=11?a=T:D<h&&e>=12&&e<=13?a=h:D<g&&14===e&&(a=g),{...t,mailproFreeTrialUpsellId:a,subscriptionStatus:s}}if(o&&e&&(0,VR.isAfter)(new Date,e)){const e=I,s=c;return{...t,mailproFreeTrialUpsellId:e,subscriptionStatus:s}}return t}}return t},WO=(e,t)=>{const{type:s}=t,{getPartner:a}=(0,Gl.selectors)(e).getEnvironmentSelectors();if(a().toUpperCase()!==S.Bs7.AOL)return t;switch(s){case nc.INITIAL_STATE:{const{accounts:e=[]}=t,s=e.filter((e=>e.isPrimary))[0];return{...t,primaryAccountSendingName:(null==s?void 0:s.sendingName)||""}}case nc.ALIAS_EMAIL_CREATE_SUCCEEDED:case nc.ACCOUNT_ADD_SUCCEEDED:{const{getPrimaryAccountSendingName:s}=(0,Gl.selectors)(e).getAccountSelectors();return{...t,primaryAccountSendingName:s()}}default:return t}},ZO=e=>[RO(e),TR,WO,hR,HR,xR,BR,IO,TO,XR(e),hO,wO,xO,OO,NO,LO,UO,vO,yO,bO,VO];var KO=s(18644),zO=s(61395),qO=s.n(zO),YO=s(14256),jO=s(59098),QO=s(80076),XO=s.n(QO);function JO(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const $O=gl()(XO()),eD=(0,Ji.defineMessages)({chevron_title:{id:"advanced_search.chevron_title",defaultMessage:"Toggle advanced search pane"}});class tD extends qi.Component{constructor(...e){super(...e),JO(this,"handleOnClick",(e=>{e.stopPropagation();const t={mKey:Rl.JE.ADVANCED_SEARCH,interactionType:(0,Ca.getInteractionFromEvent)(e)};this.props.onClick({i13nModel:t})}))}render(){const{formatMessage:e}=this.context.intl,{chevronDown:t,tabIndex:s,colorStates:a}=this.props;return qi.createElement("div",{className:$O.buttonContainer,"data-test-id":"advanced-search-button"},qi.createElement(qA.Z,{tabIndex:s,kind:tl.Kinds.CHEVRON_UP,colorStates:a||{normal:tl.ColorStates.DISABLED,hovered:tl.ColorStates.SELECTED},size:tl.Sizes.S,rotate:t?tl.Rotate.D180:null,title:e(eD.chevron_title),"aria-label":e(eD.chevron_title),onClick:this.handleOnClick,paddingLess:!0}))}}JO(tD,"contextTypes",{intl:Ji.intlShape.isRequired}),JO(tD,"defaultProps",{chevronDown:!0});const sD=tD;var aD=s(70006),nD=s(14394),rD=s(6273),oD=s(79149),iD=s.n(oD),lD=s(7747),cD=s.n(lD);function dD(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ED=gl()(iD()),_D=(0,Ji.defineMessages)({search_button_title:{id:"search.search_button_title",defaultMessage:"Search"},search_placeholder:{id:"search.search_box_placeholder",defaultMessage:"Find messages, documents, photos or people"},search_coupons_placeholder:{id:"search.search_coupons_placeholder",defaultMessage:"Search deals in your inbox"},search_products_placeholder:{id:"search.search_products_placeholder",defaultMessage:"Search for products to add to your cart"},search_offers_placeholder:{id:"search.search_offers_placeholder",defaultMessage:"Search coupons in {retailerName}"},search_aria_label:{id:"search.search_aria_label",defaultMessage:"Search box. Find messages, documents, photos or people"},search_keyword_placeholder:{id:"search.keyword_placeholder",defaultMessage:"Add keywords"},suggestions_available:{id:"search.suggestions_available",defaultMessage:"{suggestionsNum, plural, =0 {No suggestions are available.} one {# suggestion is available.} other {# suggestions are available. Use up and down arrows to select.}}"},suggestedSearchesHeader:{id:"search.suggestedSearchesHeader",defaultMessage:"Suggested searches"},groceryCouponsHeader:{id:"search.groceryCouponsHeader",defaultMessage:"Coupons"},noCouponsHeader:{id:"search.noCouponsHeader",defaultMessage:"No Coupons Found"}}),uD=Rl.nJ.HEADER_SEARCH,mD={[S.sWL.PERSON]:"P",[S.sWL.KEYWORD]:"K",[S.sWL.WEB_SEARCH]:"W",[S.sWL.HEADER]:"H",[S.sWL.RECENT]:"R",[S.sWL.EMAIL]:"E"},SD=(0,g.gP)(["CONTACT","FOLDER","COUPON_INDICATOR"]);class pD extends qi.Component{constructor(e){super(e),dD(this,"componentDidUpdate",(e=>{if(this.props.isWindowResizingDone&&!e.isWindowResizingDone){const{isAdvancedSearchPaneOpen:e,toggleAdvancedSearchPane:t}=this.props;e&&t(),this.setState({searchBoxDimensions:Xi.findDOMNode(this.refs.searchField).getBoundingClientRect()})}})),dD(this,"handleSearchFocus",(e=>{const{onSearchBarFocus:t,retailerName:s,smartViewSearch:a}=this.props;t({i13nModel:a===S.K8C.GROCERIES?{mKey:Rl.JE.QTNT_START_SEARCH,sec:uD,interactionType:(0,Ca.getInteractionFromEvent)(e),actionData:{reason:{featurefamily:S.lMo.IC,featurename:S.ANe.GROCERIES,retailername:s}}}:{mKey:Rl.JE.SEARCH_BAR,sec:uD,interactionType:(0,Ca.getInteractionFromEvent)(e)}})})),dD(this,"handleSearchBlur",(e=>{const{onSearchBarBlur:t}=this.props;t({i13nModel:{mKey:Rl.JE.SEARCH_BAR_FOCUS_BLURRED,sec:uD,interactionType:(0,Ca.getInteractionFromEvent)(e)}})})),dD(this,"handleBasicSearchSubmit",((e,t={})=>{const{isGroceryWithProducts:s,retailerName:a,smartViewSearch:n}=this.props,{pillCoupon:r}=this.state,o="string"==typeof this.state.inputValue?this.state.inputValue.trim():"",i=n===S.K8C.GROCERIES&&r;let l={};l=i&&s?{i13nModel:{mKey:Rl.JE.GROCERY_SEARCH_FIRE,interactionType:(0,Ca.getInteractionFromEvent)(e),actionData:{featurefamily:S.lMo.IC,retailername:a,query:o}},...t}:i?{i13nModel:{mKey:Rl.JE.QTNT_SEARCH,interactionType:(0,Ca.getInteractionFromEvent)(e),actionData:{reason:{featurefamily:S.lMo.IC,featurename:S.ANe.GROCERIES,retailername:a,query:o}}},...t}:{i13nModel:{mKey:Rl.JE.SEARCH_BUTTON,interactionType:(0,Ca.getInteractionFromEvent)(e)},...t},this.handleSearchSubmit(l)})),dD(this,"handleAdvancedSearchSubmit",(e=>{this.handleSearchSubmit({i13nModel:{mKey:Rl.JE.ADVANCED_SEARCH_BUTTON,interactionType:(0,Ca.getInteractionFromEvent)(e)}})})),dD(this,"handleSearchSubmit",(e=>{var t;let s="string"==typeof this.state.inputValue?this.state.inputValue.trim():"";const{isGroceryWithProducts:a,smartViewSearch:n}=this.props,{pillCoupon:r,pillContact:o,pillFolder:i}=this.state,l=!1!==e.applyFocus,c=n===S.K8C.GROCERIES&&r,d={smartViewSearch:r,emailAddresses:o.emailAddresses,name:c?this.props.name:o.name,keyword:s,...e.query},E=Object.assign({sec:uD,mKeyGroup:Rl.rO.search},e.i13nModel);var _;a&&c&&null!==(t=e.query)&&void 0!==t&&t.keyword&&(s=null===(_=e.query)||void 0===_?void 0:_.keyword);this.timer&&(clearTimeout(this.timer),delete this.timer),i.accountId&&Object.assign(d,{accountIds:[i.accountId]}),i.folderId&&Object.assign(d,{folders:[i.folderId]});const{isAdvancedSearchPaneOpen:u,toggleAdvancedSearchPane:m}=this.props;u&&m(),this.setState({inputValue:s,showInputHint:!1},(()=>{this.props.onSearchSubmit({query:d,i13nModel:E})})),l&&document.activeElement&&document.activeElement.blur()})),dD(this,"handleReset",(()=>{const{onSearchChange:e,useInboxAsDefaultForAdvancedSearch:t,defaultAdvancedSearchFolderId:s}=this.props,a={inputValue:"",showInputHint:!0};t?Object.assign(a,{pillFolder:{accountId:"",folderId:s,type:SD.FOLDER}}):Object.assign(a,{pillFolder:{accountId:"",folderId:"",type:SD.FOLDER}}),Object.assign(a,{pillContact:{name:"",emailAddresses:[],type:SD.CONTACT}}),this.setState(a,(()=>{e("",{suggestionsKeyword:""},{fetchSuggestions:!1})}))})),dD(this,"handleSearchChange",((e,{suggestionsKeyword:t="",folders:s,accountIds:a}={},n={})=>{const{onSearchChange:r,smartViewSearch:o,isAdvancedSearchPaneOpen:i,toggleAdvancedSearchPane:l}=this.props,{pillCoupon:c}=this.state,d=!(o===S.K8C.OFFERS&&c)&&i,E={inputValue:e,showInputHint:!0};i&&!d&&l(),s&&Object.assign(E,{pillFolder:{accountId:"",folderId:s[0]||"",type:SD.FOLDER}}),a&&Object.assign(E,{pillFolder:{accountId:a[0]||"",folderId:"",type:SD.FOLDER}}),this.setState(E,(()=>{r(e,{suggestionsKeyword:t},n)}))})),dD(this,"handleInputChange",(e=>{this.handleSearchChange(e,{},{fetchEmailSuggestions:!0})})),dD(this,"handleWebSearch",(()=>{var e=this.state.inputValue;this.props.onWebSearchSubmit(e)})),dD(this,"handleSearchSuggestionSelect",(e=>{const{pillCoupon:t,pillFolder:s,inputValue:a}=this.state,n=t===S.K8C.GROCERIES?this.props.getSuggestions(a):this.getSuggestions();if(e===S.sWL.WEB_SEARCH)return void this.handleWebSearch();if(t===S.K8C.GROCERIES){if(null==n||!n.length)return;return void this.handleSearchSubmit({query:{keyword:n[e-1]},i13nModel:{mKey:Rl.JE.GROCERY_SA_SELECT,mKeyGroup:Rl.rO.search,actionData:{query:n[e-1],querytype:"suggest",featurefamily:S.lMo.IC}}})}const r=n[e-1],o=n.map((e=>mD[e.type])),i=n.map((e=>{switch(e.type){case S.sWL.PERSON:{const{name:t}=this.suggestionValue(e);return t}case S.sWL.HEADER:return"HEADER";case S.sWL.KEYWORD:case S.sWL.RECENT:case S.sWL.EMAIL:return e.name;default:(0,m.Z)(!1,"All suggestion type must be handled here.")}}));let l;const c=""===a;switch(r.type){case S.sWL.PERSON:l=c?Rl.JE.SEARCH_EMPTY_PEOPLE_SUGGEST:Rl.JE.SEARCH_PEOPLE_SUGGEST;break;case S.sWL.KEYWORD:l=c?Rl.JE.SEARCH_EMPTY_KWRD_SUGGEST:Rl.JE.SEARCH_KWRD_SUGGEST;break;case S.sWL.EMAIL:l=c?Rl.JE.SEARCH_EMPTY_EMAIL_SUGGEST:Rl.JE.SEARCH_EMAIL_SUGGEST;break;default:l=c?Rl.JE.SEARCH_EMPTY_RECENT_SUGGEST:Rl.JE.SEARCH_RECENT_SUGGEST}const d={mKey:l,sec:uD,mKeyGroup:Rl.rO.search,actionData:{suggPos:e,prefix:a,suggType:o,suggVal:i}};let E={};switch(s.accountId&&(E={...E,accountIds:[s.accountId]}),s.folderId&&(E={...E,folders:[s.folderId]}),r.type){case S.sWL.PERSON:{const{emailAddresses:e,name:s,contactId:a}=this.suggestionValue(r);E={...E,emailAddresses:e,name:s,contactIds:[a]},this.props.onSearchSubmit({query:E,smartViewSearch:t,i13nModel:d}),this.setState({pillContact:{name:s,emailAddresses:e,type:SD.CONTACT},activeSuggestion:null,inputValue:""});break}case S.sWL.RECENT:case S.sWL.KEYWORD:{const e=r.name;E={...E,keyword:e},this.props.onSearchSubmit({query:E,smartViewSearch:t,i13nModel:d}),this.setState({activeSuggestion:null,inputValue:e});break}case S.sWL.HEADER:break;case S.sWL.EMAIL:{const{conversations:e}=this.props,{messageId:t,conversationId:s}=r,a=e?s:t,n=(0,Hl.Ez)({keyword:r.name});this.context.navigateTo({route:(0,wl.os)({groupId:a,listId:n}),i13nModel:d});break}default:(0,m.Z)(!1,"All suggestion type must be handled here.")}})),dD(this,"deleteRecent",(e=>{e&&e.name&&this.props.deleteRecentSearch({query:e.name})})),dD(this,"handleAdvancedSearchKeyDown",(e=>{const{retailerName:t,smartViewSearch:s}=this.props,{pillCoupon:a,pillFolder:n}=this.state,r=s===S.K8C.GROCERIES&&a;switch((0,yC.getEventKey)(e)){case"Escape":{const{toggleAdvancedSearchPane:e}=this.props;e();break}case"Enter":(this.state.inputValue||n.accountId||n.folderId)&&this.handleAdvancedSearchSubmit(e);break;case"Tab":e.preventDefault()}r&&(this.timer&&(clearTimeout(this.timer),delete this.timer),this.timer=setTimeout(function(){const{inputValue:e}=this.state;if(this.timer&&(delete this.timer,e)){const s={mKey:Rl.JE.QTNT_SEARCH,sec:uD,interactionType:Rl.Rb.keydown,actionData:{reason:{featurefamily:S.lMo.IC,featurename:S.ANe.GROCERIES,retailername:t,query:e}}};Zc.ZP.sendI13nModel({i13nModel:s})}}.bind(this),2e3))})),dD(this,"isCursorEndOfInput",(e=>{const t=e.target.selectionEnd,{inputValue:s}=this.state;return!s||t===s.length})),dD(this,"handleKeydown",(e=>{let t;const{smartViewSearch:s}=this.props,a=this.getSuggestions(),n=(0,yC.getEventKey)(e);switch(n){case"Enter":this.handleBasicSearchSubmit(e);break;case"ArrowUp":case"ArrowDown":break;case"ArrowRight":this.isCursorEndOfInput(e)&&a&&this.autoFillSearchbox(a,n,(()=>{}));break;case"Tab":!this.hasPillContact()&&a&&this.state.inputValue&&(this.autoFillSearchbox(a,n,(e=>this.handleSearchSuggestionSelect(e+1))),e.preventDefault());break;case"Escape":this.setState({activeSuggestion:null});break;case"Backspace":{const e=this.getPills();if(t={inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null},""===this.state.inputValue&&e.length){switch(e[e.length-1].type){case SD.COUPON_INDICATOR:-1===[S.K8C.GROCERIES,S.K8C.COUPONS].indexOf(s)&&(t.pillCoupon=!1);break;case SD.FOLDER:t.pillFolder={};break;case SD.CONTACT:t.pillContact={};break;default:(0,m.Z)(!1,"all pill types should be handled here")}}this.setState(t);break}default:this.setState({inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null})}})),dD(this,"renderSuggestionHeader",((e,t)=>{const s=gl()(cD(),{firstEntry:e.firstEntry});let a;switch(e.headerType){case S.OzC.KEYWORD:a=qi.createElement(Ji.FormattedMessage,{id:"search.header_search_suggestion",defaultMessage:"Suggested searches"});break;case S.OzC.RECENT:a=qi.createElement(Ji.FormattedMessage,{id:"search.header_recent_searches",defaultMessage:"Recent searches"});break;case S.OzC.PERSON:a=qi.createElement(Ji.FormattedMessage,{id:"search.header_people_suggestions",defaultMessage:"Top contacts"});break;case S.OzC.EMAIL:a=qi.createElement(Ji.FormattedMessage,{id:"search.header_email_suggestions",defaultMessage:"Messages"})}return qi.createElement(YO.Option,{key:`header-${e.headerType}`,value:t+1,test:1,disabled:!0},qi.createElement("div",{className:s.headerLabel},a))})),dD(this,"renderSuggestion",((e,t)=>{const{inputValue:s}=this.state;let a=null;return a=e.type&&e.type===S.sWL.HEADER?this.renderSuggestionHeader(e,t):qi.createElement(YO.Option,{key:t,value:t+1},qi.createElement(nD.Z,{suggestion:e,inputValue:s,deleteRecent:this.deleteRecent})),a})),dD(this,"getSuggestions",(()=>{const{importantContacts:e,recentSearches:t,suggestionsQuery:s}=this.props,{inputValue:a}=this.state,n=this.props.getSearchSuggestions(s),r=Array.isArray(n)?t:[];return(0,rD.$o)(n,e,r,a,this.context.partner)})),dD(this,"renderContactPill",((e,t,s,a)=>{const n=e.emailAddresses&&e.emailAddresses[0],r=e.name||n,o=r;if(n)return qi.createElement(aD.default,{value:r,title:n?`${r} <${n}>`:o,useEllipsis:!0,maxWidth:Ue.hMM.L,contactEmail:n,isLastElement:t===s.length-1,isSelected:a,onPillRemove:this.clearContactPill})})),dD(this,"renderPill",((e,t,s,a)=>e.type===SD.COUPON_INDICATOR?this.props.smartViewSearch===S.K8C.GROCERIES?this.renderOffersIndicator():this.renderCouponIndicator():e.type===SD.FOLDER?this.renderFolderPill(e,t,s,a):e.type===SD.CONTACT?this.renderContactPill(e,t,s,a):null)),dD(this,"clearContactPill",(()=>{this.setState({pillContact:{}})})),dD(this,"clearFolderPill",(()=>{this.setState({pillFolder:{}})})),dD(this,"hasPillContact",(()=>{const{name:e,emailAddresses:t=[]}=this.state.pillContact;return!(!e&&!t[0])})),dD(this,"hasPillFolder",(()=>{const{accountList:e}=this.props,{pillFolder:t}=this.state,{accountId:s,folderId:a}=t;return!!(s&&1!==e.length||a)})),dD(this,"getAccountDescription",(e=>{const{formatMessage:t}=this.context.intl,{description:s}=e,a=(0,Hd.VH)(e);if(s)return s;switch(a){case S.zoT.YAHOO:case S.zoT.YAHOO_SB:return t(kl.Z.yahoo_account_description);case S.zoT.GOOGLE:case S.zoT.GOOGLE_APP:return t(kl.Z.gmail_account_description);case S.zoT.OUTLOOK:return t(kl.Z.outlook_account_description);case S.zoT.AOL:return t(kl.Z.aol_account_description);default:return t(kl.Z.unknown_account_description)}})),dD(this,"normalizeFolderPill",(()=>{const{pillFolder:e}=this.state,{accountId:t,folderId:s}=e,{accountList:a}=this.props,{formatMessage:n}=this.context.intl;let r,o;if(t&&(o=a.find((e=>e.id===t)),r=this.getAccountDescription(o)),s){const e=this.props.getFolderName(s),t=this.props.getAccountIdByFolderId(s),i=this.props.getFolderDisplayTypeByFolderId(s),l=(0,ns.h5)(n,i)||e;o=a.find((e=>e.id===t)),r=1===a.length?l:this.getAccountDescription(o)+"/"+l}return{label:r,email:o.email,type:SD.FOLDER}})),dD(this,"renderFolderPill",((e,t,s,a)=>{const{label:n,email:r}=e;return qi.createElement(aD.default,{value:n,title:n,useEllipsis:!0,maxWidth:Ue.hMM.L,contactEmail:r,isLastElement:t===s.length-1,isSelected:a,onPillRemove:this.clearFolderPill,isFolderPill:!0,pillFujiKind:tl.Kinds.FOLDER,pillFujiColorState:tl.ColorStates.SECOND_LEVEL_GRAY,pillFujiSize:tl.Sizes.XXS})})),dD(this,"getPills",(()=>{const{pillCoupon:e}=this.state,t=[];return e&&t.push({type:SD.COUPON_INDICATOR}),this.hasPillFolder()&&t.push(this.normalizeFolderPill(this.state.pillFolder)),this.hasPillContact()&&t.push(this.state.pillContact),t})),dD(this,"renderWebSearchSuggestion",(()=>{const{inputValue:e}=this.state,t=S.sWL.WEB_SEARCH,s=this.getSuggestions(),a=gl()(cD(),{showPeopleSuggestion:s.length>0&&!this.hasPillContact()});return qi.createElement(YO.Option,{value:t},qi.createElement("div",{className:a.suggestionWebOptionBorder}),qi.createElement("div",{className:a.suggestionWebOption},qi.createElement("span",{className:a.suggestionWebIcon},qi.createElement(el.Z,{kind:tl.Kinds.SEARCH_WEB,size:tl.Sizes.S,colorState:tl.ColorStates.NORMAL_LESS_DIM})),qi.createElement("span",{className:a.suggestionWebLabel},qi.createElement(Ji.FormattedMessage,{id:"search.search_web_query",defaultMessage:"Search the web for {formattedWebSearchQuery}",values:{formattedWebSearchQuery:qi.createElement("span",{className:a.suggestionWebQuery},qi.createElement("b",null,qi.createElement("q",null,e)))}}))))})),dD(this,"suggestionValue",(e=>{const{name:t,emailIds:s,serviceId:a}=e;return{name:t,emailAddresses:s,contactId:a}})),dD(this,"getInputHint",(()=>{const{inputValue:e,showInputHint:t,activeSuggestion:s}=this.state,{isAdvancedSearchPaneOpen:a}=this.props,n=this.getSuggestions().filter((e=>e.type!==S.sWL.HEADER));if(!n||!n[0])return"";const{name:r,emailAddresses:o=[]}=this.suggestionValue(n[0]),i=o[0],l=new RegExp("^"+(0,gR.hr)(e),"i");return!e||!t||s||this.hasPillContact()||a?"":r&&l.test(r)?e+r.slice(e.length):i&&l.test(i)?e+i.slice(e.length):""})),dD(this,"updatedSelectedSuggestion",(e=>{const t=this.getSuggestions();this.hasPillContact()||this.setState({activeSuggestion:t[e]})})),dD(this,"getTypeaheadDisplayText",(()=>{const{activeSuggestion:e,inputValue:t}=this.state;return e&&this.suggestionValue(e).name||t})),dD(this,"handleAdvancedSearchButtonClick",(({i13nModel:e})=>{const{inputValue:t}=this.state,{useInboxAsDefaultForAdvancedSearch:s,isAdvancedSearchPaneOpen:a,toggleAdvancedSearchPane:n}=this.props;if(s&&!a&&!t){const{defaultAdvancedSearchFolderId:e}=this.props,{pillFolder:t}=this.state;t.accountId||t.folderId||this.setState({pillFolder:{accountId:"",folderId:e,type:SD.FOLDER}})}n(),this.props.onSearchBarFocus({i13nModel:e})})),dD(this,"handleAdvancedSearchButtonWithLabelClick",(e=>{const t={mKey:Rl.JE.ADVANCED_SEARCH,interactionType:(0,Ca.getInteractionFromEvent)(e)};this.handleAdvancedSearchButtonClick({i13nModel:t})})),dD(this,"handleAdvancedSearchPaneClick",(({overlayClicked:e})=>{if(e)return;const{toggleAdvancedSearchPane:t}=this.props;t()})),dD(this,"handleMouseOver",(()=>{this.props.recentSearchesCallStatus===S.DAQ.DOES_NOT_EXIST&&this.props.requestRecentSearches()})),dD(this,"renderAdvancedSearch",(()=>{const{retailerName:e,getSearchSuggestions:t,suggestionsQuery:a,accountList:n,activeAccountId:r,smartViewSearch:o,getContactByEmail:i,ybarFujiTheme:l,advancedSearchButtonHasLabel:c,isAdvancedSearchPaneOpen:d}=this.props,E=[];let _=(0,rD.vf)(t(a));_=(0,rD.wP)(_);const{searchBoxDimensions:u,inputValue:m,pillFolder:S,pillCoupon:p}=this.state,{accountId:C,folderId:A}=S,T=gl()(cD());if(c?E.push(qi.createElement("div",{key:"advanced-search-button","data-test-id":"advanced-search-button-with-label",className:T.advancedSearchButton,onClick:this.handleAdvancedSearchButtonWithLabelClick},qi.createElement(Ji.FormattedMessage,{"data-test-id":"advanced-search-label",id:"search.advanced_search_label",defaultMessage:"Advanced"}),qi.createElement(sD,{tabIndex:Ue.iUz.APP_HEADER_SEARCHBOX,onClick:this.handleAdvancedSearchButtonClick,chevronDown:!d,colorStates:{normal:tl.ColorStates.INHERITED,hovered:tl.ColorStates.INHERITED}}))):E.push(qi.createElement(sD,{tabIndex:Ue.iUz.APP_HEADER_SEARCHBOX,key:"advanced-search-button",onClick:this.handleAdvancedSearchButtonClick,chevronDown:!d})),d){const t={inputValue:m,accountIds:C?[C]:[],folders:A?[A]:[]},a={width:u.width};E.push(qi.createElement(ZC.Z,{key:"advanced-search-pane",alignTo:this.refs.searchField,alignmentPoints:[WC.K.TopLeft,WC.K.BottomLeft],useShim:!0,onClick:this.handleAdvancedSearchPaneClick,onKeyDown:this.handleAdvancedSearchKeyDown},qi.createElement(mI.Z,null,p?qi.createElement(Pl.cr,{import:"../search_popup",containerStyle:a,smartViewSearch:o,inputValue:m,retailerName:e,onSearchSubmit:this.handleSearchSubmit,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,4135))},_moduleResolver:function(){return 4135}}):qi.createElement(Pl.cr,{import:"../advanced_search_pane/atoms/advanced_search_pane",style:a,accountList:n,searchInput:t,suggestions:_,activeAccountId:r,getContactByEmail:i,onReset:this.handleReset,onSearchChange:this.handleSearchChange,onSearchSubmit:this.handleAdvancedSearchSubmit,ybarFujiTheme:l,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,45968))},_moduleResolver:function(){return 45968}}))))}return E})),this.groceriesSearchCueRef=qi.createRef();const{searchQuery:t,smartViewSearch:a,originalSearchQuery:n}=e,{keyword:r="",name:o="",emailAddresses:i=[],accountIds:l=[],folders:c=[]}=t,d=a===S.K8C.GROCERIES&&""===r&&n.keyword?n.keyword:r,E=1===(null==l?void 0:l.length)&&l[0]||"",[_=""]=c;this.state={inputValue:d,pillContact:{name:o,emailAddresses:i,type:SD.CONTACT},pillCoupon:a,activeSuggestion:null,showInputHint:!1,searchBoxDimensions:null,pillFolder:{accountId:E,folderId:_,type:SD.FOLDER}}}componentDidMount(){const{searchField:e}=this.refs;if(this.props.setRef&&this.props.setRef(this.refs.input),!e)return;const t=Xi.findDOMNode(e).getBoundingClientRect();this.setState({searchBoxDimensions:t})}autoFillSearchbox(e,t,s){const a=e.findIndex((e=>e.type!==S.sWL.HEADER));if(-1!==a){const{name:n}=this.suggestionValue(e[a]);s(a),"Tab"===t&&e[a].type===S.sWL.PERSON||this.setState({inputValue:n||this.state.inputValue,activeSuggestion:null})}}renderCouponIndicator(){const e=gl()(cD()),{formatMessage:t}=this.context.intl;return qi.createElement("div",{className:e.couponIndicator},qi.createElement(el.Z,{kind:tl.Kinds.SCISSORS,size:tl.Sizes.XS,colorState:tl.ColorStates.SELECTED}),t(xl.Z.smart_view_COUPONS))}renderOffersIndicator(){const{retailerName:e}=this.props,t=gl()(cD());return qi.createElement("div",{className:t.couponIndicator,ref:this.groceriesSearchCueRef},qi.createElement(el.Z,{kind:tl.Kinds.BASKET,size:tl.Sizes.XS,colorState:tl.ColorStates.SELECTED})," ",e," ")}renderEmptyCouponsHeader(){const e=gl()(cD(),{groceriesSingleStore:!0}),{formatMessage:t}=this.context.intl;return qi.createElement(YO.Option,{value:"grocery"},qi.createElement("div",{className:e.searchResultsTitle},t(_D.noCouponsHeader)))}renderFilteredOffers(e){const t=gl()(cD(),{groceriesSingleStore:!0}),{formatMessage:s}=this.context.intl;return qi.createElement(YO.Option,{value:"grocery"},qi.createElement("div",{className:t.searchResultsTitle},s(_D.groceryCouponsHeader)),e.map((({brandName:e,dateDiff:t,description:s,imageUrl:a,offerId:n,offerValue:r=""})=>qi.createElement(PA,{brandName:e,dateDiff:t,imageUrl:a,key:n,offerDescription:s,offerId:n,offerValue:r,contextOfUse:"SingleStoreSearchAssist",search:this.state.inputValue}))))}renderGrocerySearchSuggestion(e,t){const s=gl()(cD(),{groceriesSingleStore:!0});return qi.createElement(YO.Option,{key:t,value:t+1},qi.createElement("div",{className:s.recentSearch,"data-test-id":"search-submit-button",key:e},qi.createElement("div",{className:s.searchIcon},qi.createElement(el.Z,{kind:tl.Kinds.SEARCH,size:tl.Sizes.S,colorState:tl.ColorStates.FIRST_LEVEL_GRAY})),qi.createElement("span",null,e)))}renderGrocerySearchAssist(){const{isGroceryWithProducts:e,filterOffers:t,getSuggestions:s}=this.props,a=t(this.state.inputValue),n=s(this.state.inputValue);return!e||null!=n&&n.length?e?n.map(this.renderGrocerySearchSuggestion):a.length?this.renderFilteredOffers(a):this.renderEmptyCouponsHeader():null}renderGroceriesSearchCue(){return qi.createElement(El.yk,{isArrowVisible:!0,overflowScroll:!1,permittedArrowDirections:[ml.Ji.UP],popoverAnchor:this.groceriesSearchCueRef,triggerOn:ml.K2.MOUNT,zAltitude:Ue.LSY.POPOVER.HIGH},qi.createElement("div",{"data-test-id":"groceries-search-cue",style:{display:"flex",alignItems:"center"}},qi.createElement(Pl.cr,{import:"../groceries_search_cue",cueName:S.ANe.GROCERIES_SEARCH_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,61824))},_moduleResolver:function(){return 61824}})))}render(){const{isGroceryWithProducts:e,smartViewSearch:t,groceriesSearchCue:s,retailerName:a,ybarFujiTheme:n}=this.props,{formatMessage:r}=this.context.intl,{inputValue:o,pillCoupon:i}=this.state,l={[S.K8C.COUPONS]:_D.search_coupons_placeholder,[S.K8C.GROCERIES]:e?_D.search_products_placeholder:_D.search_offers_placeholder},c=i?l[t]:null,d=this.hasPillContact()?_D.search_keyword_placeholder:_D.search_placeholder,E=r(i?c:d,{retailerName:a}),_=t===S.K8C.GROCERIES&&i,u=gl()(cD(),{groceriesSingleStore:!!_,hasPill:this.hasPillContact()||this.hasPillFolder()||i,hasContactPill:this.hasPillContact(),ybarFujiTheme:n}),m=this.getSuggestions(),p=this.context.intl.formatMessage(_D.suggestions_available,{suggestionsNum:m.length}),C=!this.hasPillContact()&&!_,A=o&&!_,T=!t||!i;return qi.createElement("div",{className:u.container,"data-test-id":"search-box",onMouseOver:this.handleMouseOver},qi.createElement("div",{className:u.searchInputContainer,ref:"searchField"},qi.createElement(YO.Pills,{ref:"input","data-test-id":"search-box-input",multiple:!1,initialActiveIndex:-1,className:qO()(ED.pills,u.pills),containerClassName:qO()(ED.pillsContainer,u.pillsContainer),containerChildClassName:ED.pillsContainerChild,pillClassName:ED.pillOuter,ariaLabel:r(_D.search_aria_label),placeholder:E,typeaheadInputClassName:u.searchInput,typeaheadInputContainerClassName:u.typeaheadInputContainer,typeaheadInputHintClassName:u.searchHint,typeaheadDropDownClassName:u.suggestionDropdown,inputValue:this.getTypeaheadDisplayText(),onFocus:this.handleSearchFocus,onBlur:this.handleSearchBlur,onInputKeyDown:this.handleKeydown,onInputChange:this.handleInputChange,selected:this.getPills(),onSelect:this.handleSearchSuggestionSelect,inputTabIndex:Ue.iUz.APP_HEADER_SEARCHBOX,hintValue:this.getInputHint(),onActiveIndexChange:this.updatedSelectedSuggestion,renderPill:this.renderPill,messageForIncomingOptions:p,typeaheadAriaStatusClassName:u.typeaheadAriaStatus,inputMaxLength:2e3},C?m.map(this.renderSuggestion):null,A?this.renderWebSearchSuggestion():null,_&&this.renderGrocerySearchAssist()),e&&s&&this.renderGroceriesSearchCue(),T?this.renderAdvancedSearch():null),qi.createElement($i.default,{className:u.searchButton,"data-test-id":"search-basic-btn",tabIndex:Ue.iUz.APP_HEADER_SEARCHBOX,title:r(_D.search_button_title),"aria-label":r(_D.search_button_title),kind:tl.Kinds.SEARCH,size:tl.Sizes.S,onClick:this.handleBasicSearchSubmit,colorState:tl.ColorStates.INVERTED,"data-iskeynav":!0,paddingLess:!0}))}}dD(pD,"contextTypes",{navigateTo:zi().func.isRequired,intl:Ji.intlShape.isRequired,partner:zi().string}),dD(pD,"defaultProps",{filterOffers:()=>{},importantContacts:[],suggestionsQuery:"",searchQuery:{},onSearchChange:()=>{},onSearchBarFocus:()=>{}});const CD=(0,Yi.connect)(((e,t)=>{const{getFoldersSelectors:s,getSearchSuggestions:a,isFeatureEnabled:n,getContactListSelectors:r,getOffersSelectors:o,getRetailersSelectors:i,getRecentSearchesSelectors:l,getDefaultFolderIdForSelectedAccount:c,isAdvancedSearchPaneOpen:d}=(0,Gl.selectors)(e),{getAccountIdByFolderId:E,getFolderDisplayTypeByFolderId:_,getFolderName:u}=s(),m=n(S.ANe.CONVERSATIONS),p=n(S.ANe.YBAR_FUJI2_THEME),{getSearchAssist:C,isRetailerLinkable:A}=i(),T=!A(t.name)&&n(S.ANe.GROCERIES_SEARCH_CUE),h=n(S.ANe.GROCERIES)&&!A(t.name),{getFilteredOffers:g,getOfferStreamItems:I}=o(),R=I((0,Hl.tE)("{}",{name:t.name,listContentType:S.F6k.OFFER_CARDS,listFilter:S.ukn.RECOMMENDED_OFFER_CARDS,referrer:S.qd8[S.K8C.GROCERIES]})),{getContactByEmail:O}=r(),{getRecentSearchesCallStatus:D}=l();return{filterOffers:e=>g(R,e).slice(0,7),getSuggestions:e=>C(t.name,e),getFolderName:u,getContactByEmail:O,getAccountIdByFolderId:E,getFolderDisplayTypeByFolderId:_,getSearchSuggestions:a,isGroceryWithProducts:h,conversations:m,ybarFujiTheme:p,groceriesSearchCue:T,advancedSearchButtonHasLabel:n(S.ANe.ADVANCED_SEARCH_BUTTON_HAS_LABEL),isAdvancedSearchPaneOpen:d(),useInboxAsDefaultForAdvancedSearch:n(S.ANe.FOLDER_SEARCH_DISCOVERABILITY_DEFAULT_INBOX),defaultAdvancedSearchFolderId:c(),recentSearchesCallStatus:D()}}),(e=>({requestRecentSearches:t=>e((0,jO.eO)(t)),toggleAdvancedSearchPane:t=>e((0,s_.p)(t))})),void 0,{areOwnPropsEqual:g.PJ})(pD);var AD=s(12602);function TD(){return(TD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function hD(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}(0,Fl.m)({group:Ul.LQ,keys:{focusOnSearch:{key:"S,/",description:qi.createElement("strong",null,qi.createElement(Ji.FormattedMessage,{id:"shortcut.focus_search",defaultMessage:"Search"}))}}});const gD=Rl.nJ.HEADER_SEARCH;class ID extends qi.Component{constructor(e){super(e),hD(this,"handleShortcuts",(e=>{const t=e.which||e.keyCode,s=String.fromCharCode(t).toLowerCase();e.preventDefault(),e.stopPropagation(),"s"!==s&&t!==vl.P.SLASH||this.focusOnSearch(e)})),hD(this,"getSmartViewSearchRoute",(e=>{const{smartViewSearch:t,name:s,keyword:a,emailAddresses:n}=e;if(t===S.K8C.GROCERIES)return(0,wl.gH)(s,a);const r=(0,Hl.Ez)((0,jS.qt)(t,{...e,accountIds:this.props.activeAccountId})),o=(0,Hl.tr)(r);return a||s||n&&n.length?{name:S.n8z.SEARCH,params:{query:o},query:{}}:(0,wl.jK)(S.K8C.COUPONS,{accountIds:this.props.activeAccountId})})),hD(this,"handleSearchSubmit",(({query:e,i13nModel:t})=>{const{smartViewSearch:s}=e;let a;a=s?this.getSmartViewSearchRoute(e):(0,wl.jq)(e),a||(a=(0,wl.jq)({accountIds:this.props.accountList.map((e=>e.id))})),this.props.onSearchSubmit({route:a,i13nModel:t})})),hD(this,"handleSearchChange",((e,{suggestionsKeyword:t=""}={},{fetchSuggestions:s=!0,fetchEmailSuggestions:a=!1}={})=>{const{isGroceryWithProducts:n,onSuggestionsRequest:r,grocerySearchAssistRequested:o,isGroceriesSearch:i}=this.props;this.setState({suggestionsQuery:t||e},(()=>{n&&i&&o(this.state.suggestionsQuery),s&&r({query:this.state.suggestionsQuery,fetchEmailSuggestions:a})}))})),hD(this,"handleWebSearch",(e=>{const t=encodeURIComponent(e),{webSearchURL:s}=this.props;(0,ZE.x)(s.replace("%QUERY%",t))})),hD(this,"focusOnSearch",(e=>{e.preventDefault(),this.searchBoxInputRef&&this.searchBoxInputRef.focus()})),hD(this,"setRef",(e=>{this.searchBoxInputRef=e}));const{searchQuery:t}=e,{keyword:s=""}=t;this.state={suggestionsQuery:s}}componentDidMount(){this.context.bindShortcut(["s","/"],this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(["s","/"])}componentDidUpdate(){this.props.isForceFocused&&this.searchBoxInputRef&&this.searchBoxInputRef.focus()}UNSAFE_componentWillReceiveProps({searchQuery:e={}}={}){const t=e.keyword||"",{suggestionsQuery:s}=this.state,{searchQuery:a}=this.props;(0,Hl.Ez)(a)!==(0,Hl.Ez)(e)&&s!==t&&this.setState({suggestionsQuery:t})}render(){return qi.createElement(CD,TD({},this.props,{key:this.props.searchBoxKey,suggestionsQuery:this.state.suggestionsQuery,onSearchSubmit:this.handleSearchSubmit,onSearchChange:this.handleSearchChange,onWebSearchSubmit:this.handleWebSearch,setRef:this.setRef}))}}hD(ID,"contextTypes",{getStore:zi().func.isRequired,bindShortcut:zi().func,unbindShortcut:zi().func}),hD(ID,"defaultProps",{searchQuery:{}});const RD=(0,Yi.connect)((e=>{const{isFeatureEnabled:t,getRoute:s,getSelectedAccountId:a,isWindowResizingDone:n,getAccountsForSearch:r,getRecentSearchesSelectors:o,getSmartViewTypeFromRoute:i,getRetailersSelectors:l,getSetting:c,getAction:d}=(0,Gl.selectors)(e),{getDisplayNameFromRetailerId:E,isRetailerLinkable:_}=l(),u=a(),m=s(),p=t(S.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT),C=m.name===S.n8z.SEARCH,{getRecentSearches:A}=o(),T=A(),h=r(),g=(0,Hl.LY)(m);let I=g;const R=i(m),O=(0,Hl.Q7)(I)||"",D=(0,Hl.h_)(I)||"",N=E(D),f=t(S.ANe.GROCERIES)&&!_(D),M=t(S.ANe.DEALS)&&R===S.K8C.COUPONS&&!p,L=R===S.K8C.GROCERIES&&D&&!p,P=(M||L)&&R,y=c(S.Zrf.WEB_SEARCH_URL),b=d(),F=(null==b?void 0:b.type)===nc.SEARCH_INPUT_FORCE_FOCUSED,U=(0,Hl.Ie)(I);let v=C?U.keyword+U.folders:"";return v+=U.emailAddresses.join(","),!(0,Hl.GG)(I)||P&&C||(I=(0,Hl.Ez)({}),v=""),P&&(v+=R),{...C?{searchQuery:(0,Hl.Ie)(I)}:{},searchBoxKey:v,originalSearchQuery:(0,Hl.Ie)(g),isWindowResizingDone:n(),accountList:h,activeAccountId:a(),recentSearches:T,accountId:u,smartViewSearch:P,name:D,keyword:O,retailerName:N,isGroceryWithProducts:f,isForceFocused:F,webSearchURL:y}}),(e=>({onSearchSubmit:t=>e((0,ol.k1)(t)),onSearchBarFocus:({i13nModel:t})=>e((0,a_.tB)({i13nModel:Object.assign({sec:gD},t)})),onSearchBarBlur:({i13nModel:t})=>e((0,a_.nJ)({i13nModel:Object.assign({sec:gD},t)})),onSuggestionsRequest:t=>e((0,AD.KX)(t)),deleteRecentSearch:t=>e((0,jO.Cm)(t)),grocerySearchAssistRequested:t=>e((0,$p.hB)(t))})),void 0,{areStatePropsEqual:g.PJ})(ID);var OD=s(74138),DD=s.n(OD);const ND=gl()(DD()),fD=()=>qi.createElement("div",{className:ND.searchBoxContainer},qi.createElement("div",{className:ND.searchBoxInput},qi.createElement(Ji.FormattedMessage,{id:"user_registration_search_box",defaultMessage:"Find messages, documents, photos or people"})),qi.createElement($i.default,{disabled:!0,paddingLess:!0,size:tl.Sizes.S,kind:tl.Kinds.SEARCH,"data-test-id":"search-basic-btn",className:ND.searchButton,colorState:tl.ColorStates.INVERTED}));const MD=(0,Yi.connect)((function(e){const{getAccountSelectors:t}=(0,Gl.selectors)(e);return{userHasRegisteredAccount:t().userHasRegisteredAccount()}}))((({userHasRegisteredAccount:e})=>e?qi.createElement(RD,null):qi.createElement(fD,null))),LD=(0,II.provideContext)((0,uI.z)(w_.JJ((0,JI.Z)(MD))),{config:zi().object,store:zi().object,loader:zi().object,appId:zi().string,partner:zi().string,timezone:Cc.TimezoneType}),PD=N.W.GET,yD=["version","launchtime","ymreqid","crumb","locale"],bD={Transport:N.Z,request:e=>bD._sendRequest(e),_sendRequest:e=>{const t=new bD.Transport(PD,S.$y3,3e3),s=yD.reduce(((t,s)=>(t[s]=e[s],t)),{});return t.setHeader("Accept","application/json"),t.send(s)}},FD=bD;class UD extends u.Z{constructor({heartBeatCheckInterval:e=36e5,buildNumber:t,launchTime:s,guidHash:a,loggerParams:n,crumb:r,isOnline:o,locale:i}){super({loggerName:S.BrN.HeartbeatAPIClient,loggerParams:n,crumb:r,isOnline:o});const l="1.0.0";this.locale=i,this.emergencyRefresh=!1,this.serverVersion=l,a&&(this.ymreqidGenerator=new I.Z(a,S.N7x,S.Q_q)),(0,h.jU)()&&setInterval((()=>{this.request({version:t,launchtime:s}).then((e=>{this.emergencyRefresh=e.emergencyRefresh,this.serverVersion=e.serverVersion}),(()=>{this.emergencyRefresh=!1,this.serverVersion=l}))}),e)}request(e){const t={apiName:"heartbeat",crumb:this.crumb,ymreqid:this.ymreqidGenerator.generate()},s=Object.assign({},e,t,{locale:this.locale}),a=FD.request(s),n={emergencyRefresh:this.emergencyRefresh,serverVersion:this.serverVersion};return this.logRequest(a,t),a.then((e=>e.body)).catch((()=>n))}}const vD=UD,{paths:wD,container:GD,cssBundles:kD,jsBundles:HD}=Zi[S.BQZ.MAIL_APP],BD={name:S.BQZ.MAIL_APP,component:oR,confirmMiddleware:(e,t)=>s=>{(0,h.jU)()&&window.addEventListener("beforeunload",(e=>{try{const{showUnsyncedDataWarning:a,isFeatureEnabled:n}=(0,Gl.selectors)(s.getState()),r=n("promptToSync")&&(a()||t().some((e=>e.preventRouteChange))),o=window.AppIntl.messages[mR.hasUnsavedMessage.id];if(r)return e.returnValue=o,o}catch(a){se.Z.error("confirm_middleware_redux_store_getstate_error",{...window.AppBootstrapData.loggerParams,name:a.name||"",startTime:Date.now(),message:a.message||"",stack:new uR.H(a).toString()})}}));let a=!1;return t=>n=>{const{getRoute:r,isFeatureEnabled:o}=(0,Gl.selectors)(s.getState());if(r().name){if(a)return;if(n.route&&n.previousRoute!==n.route&&o("promptToSync")&&n.unsyncedData.some((e=>e.preventRouteChange)))return(0,ER.C)(qi.createElement(_R.Z,{primaryButtonLabel:mR.confirmRouteChangeModalLeaveButton,secondaryButtonLabel:mR.confirmRouteChangeModalCancelButton,customTitle:qi.createElement(Ji.FormattedMessage,mR.confirmRouteChangeModalTitle),showCustomTitle:!0,message:qi.createElement(Ji.FormattedMessage,mR.confirmRouteChangeModalBody),onPrimaryButtonClick:()=>{a=!1,t(n)},onSecondaryButtonClick:()=>{a=!1},onClose:()=>{a=!1}}),e.getComponentContext()),void(a=!0)}return t(n)}},routes:Object.keys(wD).reduce(((e,t)=>({...e,[t]:{method:"GET",path:wD[t]}})),{}),stores:[],plugins:[dR],cssBundles:kD,jsBundles:HD,container:GD,apiClientConstructors:o()(Bi.apiClientConstructors,{heartbeatAPIClient:vD}),batchMethods:o()(Bi.batchMethods,{}),rootReducer:Gl.default,selectors:Gl.selectors,enhancers:ZO,actionSyncers:KO.Z,searchComponent:LD};s(62173),s(12648);var xD=s(38032),VD=s.n(xD);var WD=s(93343),ZD=s.n(WD),KD=s(38963),zD=s.n(KD),qD=s(45953),YD=s(53894);const jD=Ee().create("norrin/actions"),QD=Ee().create("norrin/action_error"),XD=({crumb:e,loggerParams:t={}})=>()=>s=>a=>{const{error:n,type:r,route:o={},tabRecencyRank:i}=a;if(n)try{let e=null;e="string"==typeof n?{message:n}:Object.assign({},n.data||{},function(e=null){if(!e)return{};const t=new uR.H(e);return{name:e.name||"",message:(0,gR.N2)(e.message||""),stack:t.toString()}}(n)),QD.fatal(`${r} failed`,{error:e})}catch(_){QD.fatal(`${r} failed`,{message:"actionErrorLogger exception"})}let l=!1;"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(l=window.matchMedia("(prefers-color-scheme: dark)").matches);const c={...t,action:r,prefersDark:l,crumb:e};r===nc.OPEN_PAGE_REQUESTED&&(c.routeName=o.name,c.routeUrl=o.url,void 0!==i&&(c.tabRecencyRank=i)),[nc.MESSAGE_AUTO_SAVE_FAILED,nc.MESSAGE_AUTO_SAVE_REQUESTED,nc.MESSAGE_AUTO_SAVE_SUCCEEDED,nc.MESSAGE_SAVE_FAILED,nc.MESSAGE_SAVE_REQUESTED,nc.MESSAGE_SAVE_SUCCEEDED,nc.SEND_FAILURE,nc.SEND].indexOf(r)>-1&&(c.csid=a.csid),"undefined"!=typeof performance&&performance.now&&(c.elapsedTime=performance.now());const d=jD.feature("flux_action",c);"undefined"!=typeof window&&window.requestAnimationFrame(d.logLatency);const E=s(a);return d.data.sametickTime=Date.now()-d.startTime,"undefined"==typeof window&&d.logLatency(),E},JD=(e,{unsyncedDataManager:t,performance:s={},selectors:a})=>{const n=(e=>(t,s)=>e.reduce(((e,s)=>s(t,e)),s))(e);return e=>r=>o=>{if(o.unsyncedData)throw new Error("RESERVED_ACTION_PAYLOAD_KEY",'"unsyncedData" is reserved key for handling flux work flows in mail. Please use "PreserveDataOnUnmount" component to save data during unmount');const i=Date.now(),l=s.now?s.now():0,c=e.getState(),{getReconciledUnsyncedData:d,getRequestHashForUnsyncedDataItem:E,getCurrentHistoryState:_}=a(c),u=_();return r(n(c,{...o,actionTimestamp:i,elapsedTimeFromSessionStart:l,historyState:u,unsyncedData:[].concat(d()).concat(t.getUnsyncedData()).filter((e=>{if(!e||!e.type)return!1;if(e.isAutoGenerated){const s=E(e);return!t.isUnsyncedDataItemSyncedByRequestHash(s)}return!0})).map((e=>e.timestamp?e:{...e,timestamp:i}))}))}};function $D(e){const t={c1:2,c2:(null==e?void 0:e.toUpperCase())===S.Bs7.AOL?1000009:7241469,ns__t:Date.now(),c8:" ",c9:" "};if((0,h.jU)()){const{origin:e,pathname:s}=window.location,a=encodeURI(`${e}/comscore_beacon${s}/page_view.htm`),{comScore:n}=window.AppBootstrapData||{};n&&-1!==n.LTT&&(t.c14=n.LTT),n&&-1!==n.ageCode&&-1!==n.genderCode&&(t.c15=n.ageCode+"$"+n.genderCode),t.c7=a}return t}var eN=s(77684);const tN=(e,t,{selectors:s},a={})=>{const{isFeatureEnabled:n,getRoute:r,doesListExist:o,getListItemIds:i,getGroupIdContainingMessageId:l,getMessageIdsFromMessageGroupId:c,getMessageFlags:d}=s(e),E=r(),u=(0,Hl.LY)(E),m=o(u)?i(u):[],p=n(S.ANe.CONVERSATIONS);n(S.ANe.NEWUSER_MKTG_BEACON)&&(Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.NEWUSER_MARKETING_BEACON,sec:Rl.nJ.LAUNCH}}),function(){const e={type:"mbrship",cat:"mshipcfm",u1:window.AppBootstrapData.userBeaconHash,u2:"new"};(0,KE.J)(`https://s.yimg.com/jk/gtm/gtm_ns_v2.html?id=GTM-PGXXFKN&${_.stringify(e)}`)}()),E.query&&"ie2edge"===E.query.reason&&Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.IE_TO_EDGE,sec:Rl.nJ.LAUNCH}}),n(S.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE)&&Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.LASTPASS_FREETRIAL_UPSELL_VIEW_ELIGIBLE,sec:Rl.nJ.LASTPASS_FREETRIAL_UPSELL,interactionType:Rl.Rb.nav}});const C=[],A=[],T=m?m.filter((e=>{const t=e&&(p?e:l(e)),s=e&&-1===C.indexOf(t);return s&&C.push(t),s})).map(((e,t)=>{const s=p?e:l(e),a=c(s),n=a.some((e=>d(e).flagged)),r=a.every((e=>d(e).read));return A.push(...a),{i:t,grpId:s,cnt:a.length,is_star:n?1:0,is_unrd:r?0:1}})).slice(0,10):[],h=n(S.ANe.COMMERCIAL_ANALYSIS_OF_CONTENT),g=n(S.ANe.SHOW_HUMAN_READABLE_CONSENT_SETTING);Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.LAUNCH,sec:Rl.nJ.LAUNCH,mKeyGroup:Rl.rO.listing,interactionType:Rl.Rb.view,actionData:{pos_info:T,commercialAnalysisOptedIn:h,humanReviewOptedIn:g,canSellPersonalInfo:a.canSellPersonalInfo,msgId:A.slice(0,10).join(",")}}},e)},sN=(e,{selectors:t})=>{const{getMainStreamListIds:s,getRoute:a,getCursorItem:n,doesStreamExist:r}=t(e),o=a(),i=(0,Hl.LY)(o),l=s(o),c=(0,l_.BA)(l),d=r(c)?n(c):void 0;return d?{route:o,streamItem:d}:{listId:i,route:o}},aN=(0,eN.$p)(),nN=(e,t,{AppBootstrapData:s,selectors:a})=>{var n;if(!(0,h.jU)())return;const{spaceId:r,pageParams:o,activeViewType:i}=aN(e,{browserLoggerParams:window.BrowserLoggerParams});r&&(e=>{(0,h.jU)()&&(0,g.u9)(window,"YAHOO.i13n")&&(window.YAHOO.i13n.SPACEID=e)})(r),void 0!==(null==s?void 0:s.userHash)&&o&&(o.actnData=JSON.stringify({...o.actnData,hash:s.userHash}));const{isFeatureEnabled:l,isOriginSearchRoute:c,getSetting:d}=a(e),E=Zc.ZP.getRapidInstance(),_={spaceid:r,test_id:s.usmLogString,keys:o,dwell_on:!0,extendbcookie:!0},u={canSellPersonalInfo:s.canSellPersonalInfo};if(!E){if(t.i13nModel){const{actionData:e={}}=t.i13nModel;t.i13nModel={...t.i13nModel,actionData:{...e,firstLaunch:!0}}}Zc.ZP.init({rapid:_}),tN(e,0,{selectors:a},u)}if(t.i13nModel&&(t.i13nModel.isBeaconEvent?Zc.ZP.sendBeaconEvent(t,e):Zc.ZP.sendI13nModel(t,e,c())),!r)return;(null===(n=t.i13nModel)||void 0===n?void 0:n.mKeyGroup)===Rl.rO.deleteMsg&&(i===eN.TU.MESSAGE_READ||i===eN.TU.MESSAGE_LIST&&d(S.Zrf.PREVIEW_PANE)!==S.EsZ.NO)&&Zc.ZP.sendI13nModel({...sN(e,{selectors:a}),i13nModel:{mKey:Rl.JE.OPEN_MSG,mKeyGroup:Rl.rO.openMsg,sec:i===eN.TU.MESSAGE_READ?Rl.nJ.MSG_READ_TOOLBAR:Rl.nJ.MSG_LIST_TOOLBAR}},e,c()),E&&E.reInit(_),((e,t)=>{Ee().set(t),e&&e.beaconPageview()})(Zc.ZP.getRapidInstance(),o),l(S.ANe.COM_SCORE_BEACONING)&&function(e){const t=$D(e),{c7:s}=t;(0,KE.Z)(s,!1),window.COMSCORE&&window.COMSCORE.beacon&&window.COMSCORE.beacon(t)}(s.partner);const m=function(e,t){let s={};const{getRoute:a,isFeatureEnabled:n,couldShowEmptyFolderVideo:r,getFoldersSelectors:o,getParticipantInFocus:i,getSmartViewTypeFromListId:l,listExistsAndIsEmpty:c}=(0,Gl.selectors)(e),{doesFolderIdExist:d,getFolderName:E}=o(),_=n(S.ANe.EMPTY_FOLDER_VIDEO),u=a(),{fid:m}=u.params||{},p=(0,Hl.LY)(u),C=n(S.ANe.RELATED_SEARCHES_CARD),{email:A=""}=i()||{},T=(0,Hl.WN)(p);if(!C||t.type!==nc.OPEN_PAGE_REQUESTED&&t.type!==nc.PREVIEW_MESSAGE_REQUESTED||(s={...s,relatedSearchesCard:C,emailAddress:A}),r()){const e=(0,Hl.yE)(p);let t=d(m)?E(m):"";t=!t&&e?l(p).toLowerCase():"string"==typeof t?t.split("/").pop():t,s={...s,emptyFolderVideo:_,folderName:t}}if(T===S.F6k.TRAVEL_CARDS&&c(p)){const e=(0,Hl.C4)(p)===S.ukn.TRAVEL_VIEW_UPCOMING?Rl.pf.TRAVEL_UPCOMING:Rl.pf.TRAVEL_PAST;s={...s,eventName:Rl.fS.SEARCH_ZERO_RESULTS,etrg:"change",outcome:e}}return Object.keys(s).length?s:null}(e,t);m&&Zc.ZP.sendI13nModel({i13nModel:{mKey:Rl.JE.FEATURE_VIEWED,sec:Rl.nJ.FEATURE_VIEWABILITY,interactionType:Rl.Rb.nav,actionData:m}})},rN=(0,h.jU)()&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:()=>e=>e,oN=()=>({hash:S.sKi.POST_LUNCH_TO_SYNC,timestamp:0,type:S.sKi.POST_LUNCH_TO_SYNC,userInputtedValues:{}});const iN="WAITING",lN="ISSUED",cN="COMPLETED";function dN(){this.queue=[]}dN.prototype.sync=function(e,t,s=!1,a=!1){if("function"!=typeof e)throw new Error("Mutex.prototype.sync requires a callback function");return new Promise(((n,r)=>{this.queue.push({id:t,issueInParallel:s,isSafeToRejectEarly:a,timer:void 0,status:iN,callback:e,resolve:n,reject:r}),te.Z.debug(`Mutex: ${t} was just added to the queue.`),function(e){const t=`[${e.slice(0,10).map((({id:e})=>e)).join(", ")}]`;te.Z.debug(`Mutex: The first ten elements of the queue are ${t}`)}(this.queue),this.next()}))},dN.prototype.next=function(){if(!this.queue.length)return;let e=!1;this.queue=this.queue.filter((e=>e.status!==cN));for(let s=0;s<this.queue.length;s++){const a=this.queue[s];switch(a.status){case iN:if(!a.issueInParallel&&e)return;a.status=lN,e=!0;try{this.execute(a)}catch(t){this.reject(a,t)}if(!a.issueInParallel)return;break;case lN:if(e=!0,!a.issueInParallel)return}}},dN.prototype.execute=function(e){const t=this.resolve.bind(this,e),s=this.reject.bind(this,e);e.isSafeToRejectEarly&&(e.timer=setTimeout((()=>{te.Z.debug(`Mutex: clearing ${e.id} from queue because it timed out.`),te.Z.error(`Mutex: clearing ${e.id} from queue because it timed out.`);const t=this.queue.reduce(((e,t)=>e.concat(`${t.id}:${t.status}`)),[]).join(","),a=new C.Z("RequestQueue.Timeout",{errorCode:"REQUEST_QUEUE_TIMEOUT",statusCode:0,qStatus:t});s(a)}),12e4));const a=e.callback(t,s);var n;void 0!==(n=a)&&(n instanceof Promise||n.then&&n.catch)&&a.then(t,s)},dN.prototype.resolve=function(e,t){e.resolve(t),e.status=cN,te.Z.debug(`Mutex: ${e.id} was RESOLVED.`),e.timer&&clearTimeout(e.timer),this.next()},dN.prototype.reject=function(e,t){e.reject(t),e.status=cN,te.Z.debug(`Mutex: ${e.id} was REJECTED.`),e.timer&&clearTimeout(e.timer),this.next()};const EN=dN,_N=(0,g.gP)(["launch.skeleton","launch.folder","launch.message","launch.compose","launch.messageGroup","postLaunch.getComposeAttributes","postLaunch.postSync","folderChange.getList","folders.get","folders.delete","folders.create","folders.rename","folderList.delete","folderList.update","mailbox.syncNow","mailbox.getAttributes","mailSearch","messages.saveV3","messages.autoSaveV3","sponsoredMessages.save","messages.saveWithAttachment","messages.send","messages.updateDecos","messages.updateSchemaOrg","messages.getDeletedMessages","messages.UnifiedUpdate","messages.readFlagUpdate","messages.starFlagUpdate","messages.move","messages.delete","messages.getBodies","messages.getCompose","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.getRawMessage","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messages.saveAndSend","messages.saveAndSendWithAttachment","messages.saveRawMessage","messages.trashAndDelete","messages.getExtractions","messageGroups.get","messageGroups.getFallback","messageGroups.getList","messageCards.getList","couponCards.getParentMessage","consolidatedCoupons.getList","refundCards.getList","undo.list","checkMail","getReceipts","getMoreReceipts","document.fetch","task.status","task.abort","settings.get","settings.getFeatureAttributes","settings.setBaseName","settings.setBaseNameJWS","settings.getDEABaseNameSuggestions","settings.saveMessageFilters","settings.saveBlockedSenders","saveArrayAttributes","settings.saveVacationPreferences","settings.saveWebMailboxAttributes","settings.saveWebMailboxMultiAttributes","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","searchSuggestions","searchSuggestionsStream","recentSearches","searchItems","searchGifs","cloudStorageItems","searchTenorGifs","getContentProviders","linkContentProvider","search","unseenCount.reset","account.getAlerts","account.updateAlerts","cards.create","accounts.get","senders.getList","subscriptionDetail.getList","marketingPreferences.read","marketingPreferences.unsubscribe","marketingPreferences.subscribe","savedSearches.getBlockedDomains","savedSearches.addBlockedDomain","savedSearches.deleteBlockedDomain","savedSearches.getMessageFilters","savedSearches.saveMessageFilters","savedSearches.deleteMessageFilter","savedSearches.updateMessageFilterPriority"]),uN=(0,g.gP)(["mailSearch","messages.saveV3","messages.autoSaveV3","messages.saveAndSend","messages.send","messages.getBodies","messages.getCompose","messages.getDeletedMessages","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messageGroups.get","document.fetch","searchGifs","cloudStorageItems","searchTenorGifs","localStores","linkRetailer","unlinkRetailer","activateOffer","getOffers","getActivatedOffers","searchSuggestions","searchSuggestionsStream","recentSearches","settings.get","settings.getFeatureAttributes","settings.saveBlockedSenders","settings.saveVacationPreferences","settings.setBaseName","settings.setBaseNameJWS","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","task.status","unseenCount.reset","account.getAlerts","account.updateAlerts","postLaunch.postSync","mailbox.syncNow","marketingPreferences.read","marketingPreferences.subscribe","marketingPreferences.unsubscribe","savedSearches.getBlockedDomains","savedSearches.getMessageFilters","savedSearches.saveMessageFilters","savedSearches.deleteMessageFilter","savedSearches.updateMessageFilterPriority"]);function mN(){this.checkMailRequestWrappers=[],this.mutex=new EN}mN.prototype.add=function(e,t){return this._isSafeToRejectEarly(t)||this._rejectAndRemoveCheckMailsFromQueue(),this._canGoInParallel(t)?e():this._addToRequestQueue(e,t)},mN.prototype.addStream=function(e,t){return this._canGoInParallel(t)?e():this._addStreamToRequestQueue(e,t)},mN.prototype._canGoInParallel=function(e){if(!_N[e])throw new Error(["Unknown API call name: `"+JSON.stringify(e)+"`","Make sure that all the request of the API client are added to","ALL_REQUESTS list. This is done to make sure all new API requests","are aware of the serialization logic and nothing goes out of sync and","potentially breaks application data integrity. @see","https://docs.google.com/document/d/1yOwsTIcXla6CeIn42W9VKfd9JjJ1ajAtfE6CH6PfjeM","for more info."].join("\n"));return!!uN[e]},mN.prototype._addToRequestQueue=function(e,t){return this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue(),new Promise(((s,a)=>(this._isCheckMail(t)&&this.checkMailRequestWrappers.push({reject:a}),this._sync(e,t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)).then(s,a))))},mN.prototype._addStreamToRequestQueue=function(e,t){this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue();const s=D()();return this.mutex.sync(((t,a)=>{const n=e();n.pipe(s),n.on("end",t),n.on("error",(e=>{s.emit("error",e),a()}))}),t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)),s},mN.prototype._sync=function(e,t,s,a){return this.mutex.sync((function(){return e()}),t,!s,a)},mN.prototype._rejectAndRemoveCheckMailsFromQueue=function(){this.checkMailRequestWrappers.forEach((e=>{e.reject(new C.Z("RequestQueue.Rejected",{errorCode:"REQUEST_QUEUE_REJECTED",statusCode:0}))})),this.checkMailRequestWrappers=[]},mN.prototype._isCheckMail=function(e){return"checkMail"===e},mN.prototype._isSafeToRejectEarly=function(e){return"messages.saveV3"!==e&&"messages.autoSaveV3"!==e&&"messages.saveWithAttachment"!==e&&"messages.saveAndSend"!==e&&"messages.send"!==e&&"messages.saveAndSendWithAttachment"!==e},mN.prototype._isWriteToBackend=function(e){return"messages.update"===e||"settings.saveWebMailboxAttributes"===e||"messages.updateDecos"===e||"messages.updateV3"===e||"messages.UnifiedUpdate"===e||"messages.delete"===e||"messages.trashAndDelete"===e||"cards.create"===e||"settings.saveBlockedSenders"===e||"saveArrayAttributes"===e||"messages.updateSchemaOrg"===e};const SN=mN;var pN=s(61908);class CN{constructor(e,{apiClientConstructors:t,batchMethods:s,isOnline:a}){const n=new SN;Object.keys(t).forEach((r=>{const o=t[r],i=(0,pN.U8)(e.userNamespace),l=(0,z.Sf)()?i.PSEARCH_HOST:(0,p.N)(e.config,"bootcampHostURL"),c=e.buckets;this[r]=new o({...e,endpoints:i,wssid:e.mailWssid,bootcampHost:l,isOnline:a,batchMethods:s,requestQueue:n,..."bootcampClient"===r?{buckets:c}:{}})}))}setMailBoxParams(e,t){const s=()=>{const{getAccountSelectors:s,getSelectedMailboxId:a,getSelectedAccountId:n}=t(e.getState()),r=a();if(!r)return{};const{getAccountEmailByAccountId:o,getAccountTypeByAccountId:i}=s(),l=n();return{mailboxid:r,mailboxId:r,mailboxemail:o(l),mailboxtype:i(l)}};Object.keys(this).filter((e=>this[e].setMailboxParams)).forEach((e=>{this[e].setMailboxParams(s)}))}}const AN=(e,t)=>{setTimeout((()=>{e(),AN(e,t)}),t)};class TN{constructor(){this.listeners=[],this.syncAttempts={}}_getUnsyncedData(){return this.listeners.map((e=>e()))}_registerHandler(e){return this.listeners.push(e),{remove:()=>{this.listeners=this.listeners.filter((t=>t!==e))}}}_isUnsyncedDataItemSyncedByRequestHash(e){return(this.syncAttempts[e]||{}).synced||!1}}function hN({store:e,apiClients:t,selectors:s,actionSyncers:a,logger:n,unsyncedDataManager:r}){const o=(o=!0)=>{const{isOnline:i,getAction:l,getUnsyncedDataToSync:c,getRequestHashForUnsyncedDataItem:d}=s(e.getState());if(!i()||(0,h.jU)()&&navigator&&void 0!==navigator.onLine&&!1===navigator.onLine)return;const E=l(),_=Date.now();r.syncAttempts=Object.keys(r.syncAttempts).reduce(((e,t)=>{const s=r.syncAttempts[t]||{};return o&&s.synced&&_-s.timestamp>s.syncDefer&&_-s.timestamp>s.syncThrottle?e:{...e,[t]:s}}),{});[...c()].sort(((e,t)=>e.timestamp-t.timestamp)).map((e=>{const t=d(e),s=r.syncAttempts[t]||{};return{...e,timestamp:s.synced?s.timestamp:e.timestamp,syncDefer:e.syncDefer||0,syncThrottle:void 0!==e.syncThrottle?e.syncThrottle:S.Bwi,requestHash:t}})).filter((e=>{const t=r.syncAttempts[e.requestHash];return!(e.isAutoGenerated&&!o)&&(t?!t.syncing&&(t.synced&&_-t.timestamp>e.syncDefer&&_-t.timestamp>e.syncThrottle):!r.syncAttempts[e.requestHash]&&_-e.timestamp>=e.syncDefer)})).map((o=>{const i=()=>{const{getUnsyncedDataToSyncByRequestHash:t,getRoute:a}=s(e.getState()),i=Date.now();if(r.syncAttempts[o.requestHash].synced=!0,r.syncAttempts[o.requestHash].syncing=!1,r.syncAttempts[o.requestHash].timestamp=i,!(0,h.jU)())return;const l=t(o.requestHash,i);o.isAutoGenerated||!l||l.repeat||(r.syncAttempts[o.requestHash].syncing=!0,n.error("unsyncedData_manager_error",{unsyncedDataType:o.type,requestHash:o.requestHash,actionType:E.type,routeName:a().name,errorMessage:"UnsyncedDataItem is already synced. Probably it is not removed in the reconciler step"}))};r.syncAttempts[o.requestHash]={synced:!1,syncing:!0,timestamp:E.actionTimestamp,syncDefer:o.syncDefer,syncThrottle:o.syncThrottle};const l=E.type!==nc.SYNC_DATA&&a[o.type]?[].concat(a[o.type]):a[nc.SYNC_DATA].filter((e=>(0,h.jU)()||e.isomorphic)).map((e=>e.syncer)),c=E.type===nc.SYNC_DATA||!a[o.type];((s,a,n=!0)=>Promise.all((s||[]).map((s=>{const r=s(e,a,t);if(n&&(!r||"function"!=typeof r.then))throw new Error(`${s.name} Syncer function should return promise`);return r}))).catch((e=>{throw e})))(l,{...o.userInputtedValues,unsyncedDataItemRequestHash:o.requestHash,unsyncedDataType:o.type,syncAttempts:r.syncAttempts[o.requestHash]},c).then(i,i)}))};if((0,h.jU)()){const t=!1;e.subscribe((()=>Promise.resolve(o()))),AN((()=>o(t)),100)}return o}class gN{constructor(e){this.explicitTimeoutRequested=!1,this.nextTime=e}deferNextUntil(e){this.explicitTimeoutRequested=!0,e<this.nextTime&&(this.nextTime=e)}}class IN{constructor(e){this.task=e,this.reschedule=!1,this.name=e.name||""+(1e4*Math.random()|0),this.lastInvokeTime=0,this.logMessages=[],this.logEnabled=!0}flushLog(){this.logEnabled&&(te.Z.debug(`Scheduler<${this.name}>: ${this.logMessages.join("; ")}`.trim()),this.logMessages=[])}log(e){this.logEnabled&&this.logMessages.push(e)}clearTimersIfNecessary(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null),this.idleCallbackHandle&&(window.cancelIdleCallback(this.idleCallbackHandle),this.idleCallbackHandle=null,this.log("Canceled idle callback"))}executeTask(e,t,s){const a=s.timeRemaining();e?this.log("Executing priority task"):this.log(`Executing idle task; timeSinceScheduled = ${Date.now()-this.lastInvokeTime}ms, timeRemaining = ${a}ms`);const n=Date.now();this.task(e,t,s);const r=Date.now()-n;this.log(`Completed in ${r}ms`),r>a&&this.log(`Warning: Overran idle budget by ${r-a}ms!`)}invoke(e=!1,t=3e4){this.clearTimersIfNecessary(),this.lastInvokeTime=Date.now();const s=new gN(t);if(e||!window.requestIdleCallback){const t={didTimeout:!1,timeRemaining:()=>Number.MAX_VALUE};this.executeTask(e,s,t)}else this.idleCallbackHandle=window.requestIdleCallback((t=>this.executeTask(e,s,t)),{timeout:5e3}),this.log("Requested idle callback");this.reschedule&&(this.timeoutHandle=setTimeout(this.invoke.bind(this,!1),s.nextTime),this.log(`Scheduling idle callback in ${s.nextTime}ms`)),this.flushLog()}silence(){this.logEnabled=!1}runWhenIdle({timeout:e=-1}={}){this.reschedule=!0,e>0?this.invoke(!1,e):this.invoke()}runImmediately(){this.invoke(!0)}runImmediatelyWithoutPriority(){this.invoke(!1)}}function RN({store:e,apiClients:t,selectors:s,actionSyncers:a,logger:n,unsyncedDataManager:r}){const o=new IN(((o,i)=>{const{isOnline:l,getAction:c,getUnsyncedDataToSync:d,getRequestHashForUnsyncedDataItem:E}=s(e.getState());if(!l()||(0,h.jU)()&&navigator&&void 0!==navigator.onLine&&!1===navigator.onLine)return;const _=c(),u=Date.now();r.syncAttempts=Object.keys(r.syncAttempts).reduce(((e,t)=>{const s=r.syncAttempts[t]||{};return o&&s.synced&&u-s.timestamp>s.syncDefer&&u-s.timestamp>s.syncThrottle?e:{...e,[t]:s}}),{});[...d()].sort(((e,t)=>e.timestamp-t.timestamp)).map((e=>{const t=E(e),s=r.syncAttempts[t]||{};return{...e,timestamp:s.synced?s.timestamp:e.timestamp,syncDefer:e.syncDefer||0,syncThrottle:void 0!==e.syncThrottle?e.syncThrottle:S.Bwi,requestHash:t}})).filter((e=>{const t=r.syncAttempts[e.requestHash];if(e.isAutoGenerated&&!o)return!1;const s=u-e.timestamp;if(t){if(t.syncing)return!1;const s=u-t.timestamp;return!!(t.synced&&s>e.syncDefer&&s>e.syncThrottle)||void i.deferNextUntil(Math.max(e.syncDefer-s,e.syncThrottle-s))}if(s>=e.syncDefer)return!0;i.deferNextUntil(e.syncDefer-s)})).map((o=>{const i=()=>{const{getUnsyncedDataToSyncByRequestHash:t,getRoute:a}=s(e.getState()),i=Date.now();if(r.syncAttempts[o.requestHash].synced=!0,r.syncAttempts[o.requestHash].syncing=!1,r.syncAttempts[o.requestHash].timestamp=i,!(0,h.jU)())return;const l=t(o.requestHash,i);o.isAutoGenerated||!l||l.repeat||(r.syncAttempts[o.requestHash].syncing=!0,n.error("unsyncedData_manager_error",{unsyncedDataType:o.type,requestHash:o.requestHash,actionType:_.type,routeName:a().name,errorMessage:"UnsyncedDataItem is already synced. Probably it is not removed in the reconciler step"}))};r.syncAttempts[o.requestHash]={synced:!1,syncing:!0,timestamp:_.actionTimestamp,syncDefer:o.syncDefer,syncThrottle:o.syncThrottle};const l=_.type!==nc.SYNC_DATA&&a[o.type]?[].concat(a[o.type]):a[nc.SYNC_DATA].filter((e=>(0,h.jU)()||e.isomorphic)).map((e=>e.syncer)),c=_.type===nc.SYNC_DATA||!a[o.type];((s,a,n=!0)=>Promise.all((s||[]).map((s=>{const r=s(e,a,t);if(n&&(!r||"function"!=typeof r.then))throw new Error(`${s.name} Syncer function should return promise`);return r}))).catch((e=>{throw e})))(l,{...o.userInputtedValues,unsyncedDataItemRequestHash:o.requestHash,unsyncedDataType:o.type,syncAttempts:r.syncAttempts[o.requestHash]},c).then(i,i)}))}));return(0,h.jU)()&&(e.subscribe((()=>o.runImmediately())),o.runWhenIdle()),o.runImmediately.bind(o)}const ON=Object.values(nc);const DN=({store:e,selectors:t,navigateToRoute:s,routesInfo:a,getRouteInfo:n})=>{const{getRoute:r,getRouteUrl:o,getSelectedMailboxId:i,getAccountSelectors:l}=t(e.getState()),c=r(),d=(0,wl.w2)(a,n(location.href));i()&&!(0,wl.Vu)(c,d)&&l().userHasRegisteredAccount()&&history.replaceState(0,null,o()),e.subscribe((()=>{const{getAction:s,getCurrentHistoryState:a}=t(e.getState()),{historyState:n,type:r,popstate:o}=s();let i=[];n&&(i=n.historyStack);const{historyStack:l,activePageIndex:c}=a();if(!ON.includes(r)||(E=i,(d=l).length===E.length&&d.every(((e,t)=>e.backIdx===E[t].backIdx&&(0,wl.Vu)(e.route,E[t].route)))))return;var d,E;const _=l[c].route.url;switch(r){case nc.INITIAL_STATE:case nc.LAUNCH_COMPLETED:return void history.replaceState(0,null,_);default:return void(void 0===o&&history.pushState(history.state+1,null,_))}})),window.addEventListener("popstate",(r=>{let o,i=(0,wl.w2)(a,n(location.href)),l=r.state,c=!1;const{getCurrentHistoryState:d,getReconciledValidPage:E}=t(e.getState()),{historyStack:_}=d();if(l<0||l>=_.length)l=0,c=!0;else{if(!l&&0!==l)return;(0,wl.Vu)(i,_[l].route)||(l=0,c=!0)}const u=E(i,!0);u&&(o=u,i=(0,wl.w2)(a,o.route)),history.replaceState(l,null,i.url),e.dispatch(s({route:i,popstate:l,nextPage:o,startOverStack:c}))}))};var NN=s(30532);const fN=(e,{apiClientConstructors:t,batchMethods:s,confirmMiddleware:a,routes:n,rootReducer:r,storeSubscribers:o,selectors:i,enhancers:l,actionSyncers:d},u,{isOnline:m}={},p)=>{const C=new CN(e,{apiClientConstructors:t||{},batchMethods:s||{},isOnline:m}),A=function(){const e=new TN;return e.getUnsyncedData=e._getUnsyncedData.bind(e),e.registerHandler=e._registerHandler.bind(e),e.isUnsyncedDataItemSyncedByRequestHash=e._isUnsyncedDataItemSyncedByRequestHash.bind(e),e}(),T=(0,h.jU)()&&window.performance?window.performance:void 0,g=[XD({crumb:e.crumb,loggerParams:(0,h.jU)()?{}:e.loggerParams}),YD.Z.withExtraArgument(C),JD(l(e),{unsyncedDataManager:A,performance:T,selectors:i})];a&&c()(a)&&g.push(a(p,A.getUnsyncedData));const I=function(e,t,s){const a=(0,Qi.createStore)(e,(0,h.jU)()?{...t,unsyncedData:t&&t.unsyncedData?[...t.unsyncedData,oN()]:[oN()]}:t,(0,Qi.compose)((0,Qi.applyMiddleware)(...s),rN()));a.injectedReducers={};const n=a.dispatch.bind(a),r=a.getState.bind(a);return a.currentActionType=null,a.getState=()=>{try{return r()}catch(e){throw se.Z.error("redux_store_getState_error_during_dispatch_progress",{action:a.__debuglastAction,startTime:Date.now()}),e}},a.dispatch=e=>{const{type:t}=e;try{return a.currentActionType&&se.Z.error("redux_overlapping_dispatch",{curAction:a.currentActionType,action:t,startTime:Date.now()}),a.currentActionType=t,a.__debuglastAction=t,n(e)}catch(s){throw(0,h.jU)()?(s.name="REDUX_DISPATCH",s.data={action:t}):se.Z.error("redux_server_dispatch_error",{action:t,errorMessage:(0,gR.N2)(s.message||"")}),s}finally{a.currentActionType=null}},a}(r,u,g);I.registerUnsyncedDataHandler=A.registerHandler,C.setMailBoxParams(I,i);const{appRootPath:O}=Zi[e.appName]||{},D=O||S.jQ2,N=Object.keys(n).map((e=>({name:e,path:D+n[e].path}))),f=(0,wl.oS)({appName:e.appName,routesConfig:N}),M={AppBootstrapData:e,store:I,selectors:i,apiClients:C,unsyncedDataManager:A,actionSyncers:d,i13n:nN,logger:te.Z,routesConfig:N,routesInfo:f,getRouteInfo:e=>{const{pathname:t,query:s}=(0,R.parse)(e),a=f.find((e=>e.pattern.match(t)));return a?{name:a.name,params:a.pattern.match(t),query:_.parse(s),url:e}:{}},navigateToRoute:ol.Ch};let L;(0,h.jU)()&&((({store:e,selectors:t,AppBootstrapData:s,apiClients:a,i13n:n})=>{e.subscribe((()=>{const r=e.getState(),{isOnline:o,getAction:i}=t(r),l=i();!o()||(0,h.jU)()&&navigator&&!1===navigator.onLine||setTimeout((function(){n(r,l,{AppBootstrapData:s,apiClients:a,selectors:t})}),0)}))})(M),DN(M)),o&&o.forEach((e=>{e(M)})),L=i(I.getState()).isFeatureEnabled(S.ANe.SYNC_DATA_ONLY_WHEN_NEEDED)?RN(M):hN(M);const P=(({store:e,selectors:t,getRouteInfo:s,routesInfo:a,AppBootstrapData:n,routesConfig:r},o)=>i=>new Promise(((l,d)=>{e.subscribe((()=>{const{getAction:s}=t(e.getState()),{type:a,error:n}=s();switch(a){case nc.INITIAL_STATE:l();break;case nc.LAUNCH_ERROR:d(n)}}));let _=(0,wl.w2)(a,s(i));_.name===S.n8z.NEW_DRAFT&&!_.params.csid&&n.params&&n.params.csid&&(_=(0,wl.w2)(a,(0,wl.Rl)(n.params.csid),_.query));const u=E()(n,"cookie");e.dispatch((0,NN.Lo)({...u,route:_,routesConfig:r})),c()(o)&&o()})))(M,L);return{store:I,prepareDataForUrl:P,apiClients:C}};var MN=s(28507),LN=s(76489);function PN(e,t,s){const a=function(e,t){return(0,LN.Q)(e)[t]||""}(e,t);if(a){const e=function(e,t){let s="";return e.split("&").forEach((e=>{const[a,n]=e.split("=");a===t&&(s=n)})),s}(a,s);if(e)return e}return""}function yN(){return PN(document.cookie,"Y","l").trim()}function bN(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const FN=e=>(t,{selectors:s})=>{class a extends qi.Component{constructor(...e){super(...e),bN(this,"lastVisited",{})}getChildContext(){return{navigateTo:({i13nModel:t,route:a,hashParams:n={},...r})=>{const o=Date.now(),{normalizeRoute:i}=s(e.store.getState()),l=i(a),c={...r,perfHeader:{requestStart:o},cacheControl:{lastVisited:this.lastVisited[l.url]},route:l,hashParams:n};this.lastVisited[l.url]=o,this.props.navigateToRoute({i13nModel:t,...c})},getUrlFromRoute:t=>{const{normalizeRoute:a}=s(e.store.getState());return a(t).url||""}}}render(){return qi.createElement(t,E()(this.props,"store"))}}bN(a,"displayName","RouterProvider"),bN(a,"childContextTypes",{navigateTo:zi().func,getUrlFromRoute:zi().func});return(0,Yi.connect)((e=>{const{getRoute:t}=s(e);return{route:t()}}),(e=>({navigateToRoute:t=>e((0,ol.Ch)(t))})),void 0,{areStatePropsEqual:e=>Boolean(e.route)})(a)};var UN=s(75472),vN=s.n(UN);const wN=Ee().create("norrin/rum");let GN=!1,kN={},HN={};function BN(e,t={}){const s=Zc.ZP.getRapidInstance();s&&s.beaconPerformanceData(e);let a={};if(e.perf_commontime&&e.perf_commontime.initialPageLoad){let t={};if(window.performance&&window.performance.timing){const{timing:e}=window.performance,{appServerTimings:s}=window;if(t={firstByte:e.responseStart-e.connectEnd,onLoad:e.loadEventStart-e.navigationStart,serverResp:e.responseEnd-e.requestStart,domInt:e.domInteractive-e.navigationStart},Array.isArray(s))for(let a=0;a<s.length;a++){const[e,n]=s[a];t[e]=n}}a=Object.assign(t,e.perf_commontime.initialPageLoad)}e.perf_usertime&&e.perf_usertime.utm&&Object.assign(a,e.perf_usertime.utm),t.additionalLogData&&"object"==typeof t.additionalLogData&&Object.assign(a,t.additionalLogData),(0,g.xb)(a)||wN.feature("rum_beacon",a).logSuccess()}function xN(){ZN()}function VN(e,t,s){return"common"===e?(kN.perf_commontime||(kN.perf_commontime={}),kN.perf_commontime.initialPageLoad||(kN.perf_commontime.initialPageLoad={}),kN.perf_commontime.initialPageLoad[t]=s,!0):"user"===e&&(kN.perf_usertime||(kN.perf_usertime={}),kN.perf_usertime.utm||(kN.perf_usertime.utm={}),kN.perf_usertime.utm[t]=s,!0)}function WN(e){HN=Object.assign({},e)}function ZN(){BN({perf_navigationtime:2},{additionalLogData:HN}),kN={},HN={}}function KN(){BN(kN,{additionalLogData:HN}),kN={},HN={}}function zN(){const{YAFT:e,performance:t}=window;return!!(t&&GN&&e&&e.AFT2)}function qN(e){zN()&&window.YAFT.AFT2.end(function(e){return(t,s)=>{if(zN()&&!s){const s=Math.round(t.aft),a=Math.round(t.visuallyComplete),n={perf_commontime:{afterPageLoad:{AFT:s,AFT2:s,STR:Math.round(t.startRender),VIC:a}}},r=Zc.ZP.getRapidInstance();r&&r.beaconPerformanceData(n,e)}}}(e))}function YN(e,t,s=!0){const a=window.YAFT,n=window.performance;if(!n||GN)return!1;if(GN=!0,s&&(n&&n.timing&&n.timing.loadEventEnd?ZN():window.addEventListener("load",xN,!1)),a){const s={modules:e.modules,modulesExclude:[],modulesAft2Container:e.aft2container,canShowVisualReport:e.yaftCanShowVisualReport,maxWaitTime:e.maxWaitTime,generateHAR:!0,useNativeStartRender:!0};let r=0;n.getEntriesByName&&n.getEntriesByName("norrinStartRender").length&&(r=n.getEntriesByName("norrinStartRender")[0].startTime,s.customStartRender=function(){return r}),a.init(s,(function(e,s){const a=function(e,t){if(t)return!1;const s=Math.round(e.aft),a=Math.round(e.visuallyComplete),n=Math.round(e.startRender),r=Math.round(e.pageLoadTime);return s&&(VN("common","AFT",s),VN("common","AFT1",s)),a&&VN("common","VIC",a),n&&VN("common","STR",n),r&&VN("common","PLT",r),!0}(e,s);t?t():a&&KN()})),r&&a.triggerCustomTiming("norrin_main",r,r)}return!0}const jN=(0,eN.$p)(),QN={MESSAGE_LIST:"message_list",MESSAGE_SEND:"message_send",MAIL_SEARCH:"search_latency",COMPOSE_SHOW:"compose_show",MESSAGE_READ:"message_read",FOLDER_SWITCH:"folder_switch",[S.n8z.FOLDER]:"folder_switch",[S.n8z.LIST]:"search_latency",[S.n8z.SEARCH]:"search_latency",[S.n8z.EDIT_DRAFT]:"compose_show",[S.n8z.NEW_DRAFT]:"compose_show",[S.n8z.MESSAGE_FROM_FOLDER_LIST]:"message_read",[S.n8z.MESSAGE_FROM_SEARCH_LIST]:"message_read",[S.n8z.MESSAGE_FROM_LIST]:"message_read",[S.n8z.SETTINGS]:"settings",[S.n8z.SPONSORED_MESSAGE]:"message_read",[S.n8z.TUTORIAL]:"tutorial"},XN={COMPOSE_READY:"MTTC",TIME_TO_INTERACTIVE:"MTTI",CLIENT_RENDER_TIME:"app_client_render",CLIENT_HEAD_TO_END:"app_head_end",...QN},JN=Object.values(QN),$N=e=>e.requestedActionType!==nc.LAUNCH_COMPLETED&&JN.indexOf(e.rumMetricKey)>-1;let ef=!1;const tf=e=>{let t=[];const s=(()=>{let e,t={};return(s,a)=>{const n=[],{getAction:r,getRoute:o,getCursorItem:i,doesStreamExist:l,getSetting:c}=s,d=r()||{},{type:E,csid:_}=d,u=o()||{};if(!e&&u.name&&(e=u),E!==nc.LAUNCH_COMPLETED||ef){if(E===nc.V3_MESSAGE_SEND_REQUESTED)n.push({hash:_,rumMetricKey:XN.MESSAGE_SEND,requestedTime:d.actionTimestamp,csid:_});else if(!(0,wl.Vu)(u,e)&&XN[u.name])e=u,n.push({hash:u.url,rumMetricKey:XN[u.name],requestedTime:d.actionTimestamp,route:u});else if(d.streamId&&l(d.streamId)&&c(S.Zrf.PREVIEW_PANE)!==S.EsZ.NO&&(u.name===S.n8z.FOLDER||u.name===S.n8z.SEARCH||u.name===S.n8z.LIST)){const e=i(d.streamId);!e||e.id===t.id&&e.listId===t.listId||(0,Hl.WN)(e.listId)!==S.F6k.MESSAGES||(n.push({hash:`${e.listId}-${e.id}`,rumMetricKey:XN.MESSAGE_READ,requestedTime:d.actionTimestamp,cursorItem:e}),t=e)}}else{const e=window.performance,t=Date.now(),s=e.now(),r=e.timing.responseStart-e.timing.navigationStart;let o=s;ef=!0,e.getEntriesByName&&e.getEntriesByName("norrinStartRender").length&&(o=e.getEntriesByName("norrinStartRender")[0].startTime),n.push({hash:XN.MESSAGE_LIST,rumMetricKey:XN.MESSAGE_LIST,latency:o},{hash:XN.COMPOSE_READY,rumMetricKey:XN.COMPOSE_READY,latency:s},{hash:XN.TIME_TO_INTERACTIVE,rumMetricKey:XN.TIME_TO_INTERACTIVE,latency:s},{hash:XN.CLIENT_RENDER_TIME,rumMetricKey:XN.CLIENT_RENDER_TIME,latency:t-a},{hash:XN.CLIENT_HEAD_TO_END,rumMetricKey:XN.CLIENT_HEAD_TO_END,latency:s-r})}return n.map((e=>({...e,requestedActionType:e.requestedActionType||E})))}})();return a=>{const n=(0,Gl.selectors)(a),{getRouteName:r}=n;t=t.concat(s(n,e)),t.length&&$N(t[0])&&zN()&&window.YAFT.AFT2.start(),pR()(vN()(t,"requestedTime","desc"),"hash").map((e=>{try{return((e,t)=>{const{getAction:s,doesListExist:a,doesMessageGroupIdExist:n,getMessageIdsFromMessageGroupId:r,doesMessageFullBodyExist:o,doesMessageBodyExist:i,getDraftMessageId:l,getListsSelectors:c,doesComposeSessionExist:d,isSent:E,isMessageRoute:_,getSetting:u,getAttachmentCountByMessageId:m,doesMessageIdExist:p,getMessagesSelectors:C,getMessageBodiesSelectors:A,getPages:T,getDocumentSelectors:h}=t,g=s()||{},{type:I}=g,{getListStatus:R}=c(),{getMessageBodiesCount:O}=A(),{getMessagesCount:D}=C(),{getDocumentsCount:N}=h(),{params:f={}}=e.route||{};switch(e.rumMetricKey){case XN.COMPOSE_SHOW:{const{csid:t}=f;if(!t||!d(t))return e;const s=l(t);return s?o(s)?{...e,additionalLogData:{isCached:e.requestedActionType===I},requestCompleted:!0}:e:{...e,additionalLogData:{isCached:e.requestedActionType===I},requestCompleted:!0}}case XN.FOLDER_SWITCH:case XN.MAIL_SEARCH:{const t=(0,Hl.LY)(e.route);return a(t)&&R(t)===S.DAQ.LOADED?{...e,additionalLogData:{metaDataCount:D(),GSBCount:O(),documents:N(),pageCount:T().length,isCached:e.requestedActionType===I},requestCompleted:!0}:e}case XN.MESSAGE_READ:{let{groupId:t}=f;const{cursorItem:s}=e,a=!_()&&u(S.Zrf.PREVIEW_PANE)!==S.EsZ.NO;if(!t&&s&&(t=s.id),!n(t))return e;const o=r(t)||[];return o.some((e=>i(e)))?{...e,additionalLogData:{metaDataCount:D(),GSBCount:O(),documents:N(),pageCount:T().length,numberOfMessages:o.length,previewPane:a,isCached:e.requestedActionType===I},requestCompleted:!0}:e}case XN.MESSAGE_SEND:if(!d(e.csid)||E(e.csid)){const{id:t}=g.message||{},s=p(t)&&m(t)||0;return{...e,additionalLogData:{isCached:e.requestedActionType===I,sendMethod:I,attachmentCount:s},requestCompleted:!0}}return e;case XN[S.n8z.SETTINGS]:case XN[S.n8z.TUTORIAL]:return{...e,additionalLogData:{isCached:e.requestedActionType===I},requestCompleted:!0}}return e})(e,n)}catch(t){return(0,qD.Z)("RUM error",t.fileName||location.href,t.lineNumber||"",t.column||"",t),e.errorOccured=!0,e}})).filter((e=>e.requestCompleted||e.latency||e.errorOccured)).map((e=>{t=t.filter((t=>t.rumMetricKey!==e.rumMetricKey));const s=Date.now();window.requestAnimationFrame((()=>{const t=e.additionalLogData||{};if(e.additionalLogData=Object.assign({},t,{renderFrameTime:Math.round(Date.now()-s),actionType:e.requestedActionType,routeName:r()}),$N(e)){const{pageParams:e={}}=jN(a,{browserLoggerParams:window.BrowserLoggerParams});qN({...e})}(e=>{if(!e)return;let t=0;const{additionalLogData:s={}}=e;"undefined"!=typeof performance&&performance.now&&(t=s.elapsedTime=Math.floor(performance.now())),s&&WN({...s,elapsedTime:t});const a=Math.round(e.latency?e.latency:Date.now()-e.requestedTime);wN.debug(`UserPerf: ${e.rumMetricKey}:  ${a} : ${JSON.stringify(s)}`),VN("user",e.rumMetricKey,a),KN()})(e)}))}))}},sf=(e,t={})=>{if(!window.performance)return{recordRUM:()=>{}};const s=()=>{let e=["norrin_"],s=["mail-app-component-container"],a=2500;t.appName===S.BQZ.MOBILE_APP&&(e=["base-screen-main-container"],s=["mobile-app-container"],a=1500),YN({yaftCanShowVisualReport:t.isInternalIP,modules:e,aft2container:s,maxWaitTime:a})};return window.addEventListener?window.addEventListener("DOMContentLoaded",s,!1):window.attachEvent&&window.attachEvent("DOMContentLoaded",s),{recordRUM:tf(e)}};var af=s(97860);const nf="logger-params",rf=te.Z.feature("logger_storage"),of=async()=>(of.db||(of.db=await(0,yh.X3)("logger-storage",1,{upgrade(e){e.createObjectStore(nf)}})),of.db),lf=async e=>{try{const t=await of();await t.put(nf,e,"logger-params")}catch(t){throw rf.logFailure(t),t}};function cf(e){Error.stackTraceLimit&&Error.stackTraceLimit<=10&&(Error.stackTraceLimit=20),window.setImmediate||(window.setImmediate=e=>setTimeout(e,0),window.clearImmediate=e=>clearTimeout(e)),window.onerror=qD.Z,window.YAHOO.i13n.WEBWORKER_FILE=S.tq2,window.initialScrambledLogin=yN(),window.navigator&&window.navigator.sendBeacon?(window.navigator._sendBeacon=window.navigator.sendBeacon,window.navigator.sendBeacon=function(){try{return window.navigator._sendBeacon.apply(this,arguments)}catch(e){const t=new uR.H(e);return se.Z.error("navigator.sendBeacon_exception",{url:arguments[0]||"",name:e.name||"",message:(0,gR.N2)(e.message||""),stack:t.toString()}),!1}}):se.Z.error("navigator.sendBeacon_exception",{message:"navigator.sendBeacon is not supported"}),function(){if(window.ResizeObserver){const e=window.ResizeObserver;let t=null;class s extends e{constructor(e){super((s=>{t&&clearTimeout(t),t=setTimeout((()=>{e.apply(this,[s]),t=null}),16)}))}}window.ResizeObserver=s}}();const t=e=>{try{"string"==typeof window[e]&&(window[e]=JSON.parse(window[e]))}catch(t){const{source:s,lineno:a,colno:n}=new uR.H(t).getFirstStackInfo();(0,qD.Z)(`App error parsing ${e} string data`,s,a,n,t)}};t("AppBootstrapData"),t("AppState"),t("AppIntl");const{AppState:s={},AppBootstrapData:a,ReactIntlLocaleData:n,BrowserLoggerParams:r,LaunchErrorObj:o={}}=window,{reduxState:i={}}=s,{action:l={},featureCues:c={}}=i,{features:d={}}=l,E=Object.keys(d).filter((e=>"boolean"==typeof d[e])).reduce(((e,t)=>({...e,[t]:{...c[t],enabled:d[t]}})),{}),_=c,u={spaceids:{root:a.appName===S.BQZ.MOBILE_APP?959521427:159600001},loggerSettings:{timeout:5e3,interval:3e4,limit:500,timer_limit:13}};a.config={...u,...d,...a.config},a.__initializeFeatures__={...E,..._,...a.__initializeFeatures__};const m=s.reduxState?{context:{plugins:{MailFluxibleContextPlugin:{buildNumber:(p=a).buildNumber,config:p.config,guidHash:p.guidHash,mailWssid:p.mailWssid,crumb:p.crumb,signoutCrumb:p.signoutCrumb,guid:p.guid,csid:p.csid,launchTime:p.launchTime,locale:p.locale,localeData:p.localeData,timezone:p.timezone,region:p.region,usmLogString:p.usmLogString,os:p.os,browserName:p.browserName,farm:p.farm,partner:p.partner,environment:p.environment,__initializeFeatures__:p.__initializeFeatures__,queryStringOverrides:p.queryStringOverrides,loggerParams:p.loggerParams,cspToken:p.cspToken,nextgenInviteSecret:p.nextgenInviteSecret,encryptedQueryParams:p.encryptedQueryParams,mailboxAttributes:p.mailboxAttributes,mailBrandNameString:p.mailBrandNameString,yahooBrandNameString:p.yahooBrandNameString,yahooMailPlusBrandName:p.yahooMailPlusBrandName,appId:p.appId}}}}:void 0;var p;i&&i.environment&&i.environment.windowDimensions&&(i.environment.windowDimensions={...i.environment.windowDimensions,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight,innerWidth:window.innerWidth,innerHeight:window.innerHeight}),window.YAHOO.i13n.SPACEID=a.config.spaceids.root,window.YAHOO.i13n.TEST_ID=a.usmLogString;const T=a&&a.config||m.context.plugins.MailFluxibleContextPlugin.config;let I=location.pathname;const R=location.search,O=new RegExp(`^(${S.slz})/test`),D=O.test(I);D||(function(e){const{timeout:t,interval:s,limit:a,timer_limit:n}=e.loggerSettings;Ee().set(r),"debug"===e.logLevel&&Ee().read(zD()());Ee().read(ZD()({endpoint:e.endpoint,interval:s,timeout:t,limit:a,timer_limit:n})),Ee().level(e.logLevel||"error")}({...T,endpoint:a.appName===S.BQZ.MOBILE_APP?S.oSR:S.irZ}),function(e){const{mailtoProtocolHandler:t}=e;if(!t)return;const s=()=>{"registerProtocolHandler"in navigator&&navigator.registerProtocolHandler("mailto",`https://${window.location.hostname}/mrd/mail/any/compose?src=mailto&url=%s`,a.mailBrandNameString)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s()}(T)),T.reportingObserver&&void 0!==window.ReportingObserver&&new window.ReportingObserver(((e,t)=>{for(const s of e){const{type:e,url:t,body:a={}}=s;se.Z.error("reporting_observer_exception",{type:e,url:t,id:a.id,sourceFile:a.sourceFile,message:a.message})}}),{buffered:!0}).observe(),"object"==typeof n&&Object.keys(n).forEach((e=>(0,Ji.addLocaleData)(n[e])));const N=function(e){const t=new(VD());return e.plugins.forEach((e=>{t.plug(e)})),t}(e),f=a.route?"launch_"+a.route.toLowerCase():"unknown",M=te.Z.feature(f,{ssr:!!m}),L=()=>{if(!window.context)return()=>!0;const{getOnlineSelectors:t}=e.selectors(window.context.store.getState()),{isOnline:s}=t();return s()},P=(0,Ca.getAppContainerId)(e);function y(t,s){const{recordRUM:n}=sf(Date.now(),{isInternalIP:a.internal,appName:a.appName});if(!s.store){const t=fN(a,e,i,{isOnline:L},s);s.store=t.store,s.apiClients=t.apiClients}if(t)return void b(s,t);window.context=s;const o={...r,...a.loggerParams};lf(o);const l=FN(s.getComponentContext()),c=a.config.useReactHydrate?Xi.hydrate.bind(Xi):Xi.render.bind(Xi);e.render=t=>{const a=l((t||e).component,e);s.store.subscribe((()=>{const t=s.store.getState(),{getAction:a}=e.selectors(t),r=a();!function(){if(!(0,h.jU)())return;const e=window.initialScrambledLogin,t=yN();if(e&&t&&e!==t){const s={reason:A.Bl.DIFFERENT_USER,statusCode:401,errorCode:"AUTH",refresh:!0,originalLogin:e,currentLogin:t},a=te.Z.feature("error_handler",s),n=new C.Z(A.tO,s);a.logFailure(n)}}();const o=r.error||r.err||null;if(o)switch(o.name){case A.X$:return(0,h.X2)({partner:s.partner||"",reason:"missing_crumb"});case A.di:return(0,h.X2)({partner:s.partner||"",reason:"invalid_crumb"});case A.tO:if(o.getDataByName("refresh",!1))return(0,h.X2)({partner:s.partner||"",reason:"invalid_cred"})}n(t)}));let r=null,o=null;try{r=document.getElementById(P);const t=qi.createElement(Ji.IntlProvider,window.AppIntl,qi.createElement(Yi.Provider,{store:s.store},qi.createElement(af.Z.Provider,{value:s.getComponentContext()},qi.createElement(II.FluxibleComponent,{context:s.getComponentContext()},qi.createElement(a,null)))));if(c(t,r),o=document.getElementById("mail-search"),T.ybar&&o){const t=e.searchComponent?l(e.searchComponent,e):null,a=qi.createElement(Ji.IntlProvider,window.AppIntl,qi.createElement(Yi.Provider,{store:s.store},qi.createElement(af.Z.Provider,{value:s.getComponentContext()},qi.createElement(II.FluxibleComponent,{context:s.getComponentContext()},t?qi.createElement(t,null):null))));c(a,o)}M.logSuccessAndLatency()}catch(i){const{source:e,lineno:t,colno:s}=new uR.H(i).getFirstStackInfo();i.data={rootContainerExist:r?"1":"0",mailSearchExist:o?"1":"0",containerId:P},(0,qD.Z)("Rendering App error",e,t,s,i)}},window.setTimeout(e.render,10)}function b(e,t=null){t=t||o,window.context=e,Xi.render(qi.createElement(Ji.IntlProvider,window.AppIntl,qi.createElement(II.FluxibleComponent,{context:e.getComponentContext()},qi.createElement(MN.Z,{appName:a.appName,error:t,crumb:a.crumb,isRTL:a.config.rtl,showCTAInErrorPage:a.config.showCTAInErrorPage,mailBrandNameString:a.mailBrandNameString,partner:a.partner,endpoints:a.endpoints}))),document.getElementById(P))}const F=N.createContext({appId:a.appId,browserName:a.browserName,config:T,crumb:a.crumb,cspToken:a.cspToken,csid:(0,Ca.generateUID)(),encryptedQueryParams:a.encryptedQueryParams,environment:a.environment,guid:a.guid,guidHash:a.guidHash,localeData:a.localeData,mailboxAttributes:a.mailboxAttributes,mailBrandNameString:a.mailBrandNameString,mailWssid:a.mailWssid,nextgenInviteSecret:a.nextgenInviteSecret,os:a.os,partner:a.partner,queryStringOverrides:a.queryStringOverrides,region:a.region,signoutCrumb:a.signoutCrumb,timezone:a.timezone,userNamespace:a.userNamespace,usmLogString:a.usmLogString,yahooBrandNameString:a.yahooBrandNameString,yahooMailPlusBrandName:a.yahooMailPlusBrandName,__initializeFeatures__:a.__initializeFeatures__});if((0,g.xb)(o)){if(m)N.rehydrate(m,y);else if(a){D&&(Ee().disable(),I=I.replace(O,((e,t)=>t)),history.replaceState(null,null,I+R));const{prepareDataForUrl:t,store:s,apiClients:n}=fN(a,e,i,{isOnline:L},F);F.store=s,F.apiClients=n,t(I+R).then((()=>y(void 0,F))).catch((e=>b(F,e)))}}else b(F)}const df=()=>{const e=new N.Z(N.W.GET,"/d/fetchappbootstrapdata");return e.setHeader("Accept","application/json"),e.send()};var Ef=s(31602),_f=s(14779),uf=s.n(_f);const mf={};function Sf(e,t){let s,a,n;return t.some((t=>Object.keys(t.paths).some((r=>{const o=t.appRootPath||S.jQ2,i=function(e,t){if(!mf[t]){const e=[];mf[t]={regexp:uf()(t,e),keys:e}}const s=mf[t].regexp.exec(e);return s&&(a=mf[t].keys,n=s,a.reduce((function(e,t,s){return e[t.name]=n[s+1],e}),{}));var a,n}(e.path,o+t.paths[r]);return!!i&&(s=r,a=i,t.ssrUnsupportedRoutes&&(n=-1!==t.ssrUnsupportedRoutes.indexOf(s)),!0)})))),{route:s,ssrUnsupportedRoute:n,params:a}}var pf=s(17563);const Cf=async function(){let e=null;try{e=await df()}catch(E){var t;const e=JSON.parse((null==E||null===(t=E.data)||void 0===t?void 0:t.responseText)||"{}");return void([A.tO,A.di,A.X$].includes(e.name)&&(window.location.href="https://login.yahoo.com/?.src=ym"))}if(!(e&&e.body&&e.body.AppBootstrapData&&e.body.AppIntl))return;window.AppBootstrapData=(({heartBeatCheckInterval:e,httpRetry:t,isBizMail:s,pageDirection:a,throttleAPIList:n,userSegmentData:r,comScore:o,doNotSellLabel:i,doNotSellUrl:l,jurisdiction:c,buckets:d,calendarWssid:E,crumb:_,farm:u,guid:m,guidHash:p,userHash:C,locale:A,localeData:T,loggerParams:h,mailBrandNameString:g,mailWssid:I,mailboxAttributes:R,majorVersion:O,os:D,osMajorVersion:N,osMinorVersion:f,osPatchVersion:M,partner:L,region:P,selectedMailbox:y,usmLogString:b,shardId:F,signoutCrumb:U,timezone:v,userBeaconHash:w,yahooBrandNameString:G,yahooMailPlusBrandName:k,browserName:H,browserVersion:B,canSellPersonalInfo:x,ABPTestAccounts:V,feDev:W,feUser:Z,cspToken:K,nextgenInviteSecret:z,encryptedQueryParams:q,environment:Y,internal:j,remoteAddress:Q,colo:X,tmrTestAccounts:J,config:$,__initializeFeatures__:ee,featureCueTimestamps:te,featureCueUserResponse:se,featureSequence:ae})=>{const{host:ne,hostname:re,protocol:oe,search:ie}=window.location,le=re.endsWith(".aol.com"),ce="/d",de={name:le?S.Tzw.AOL:S.Tzw.YAHOO,endpoints:le?(0,pN.U8)(S.Tzw.AOL):(0,pN.U8)(S.Tzw.YAHOO)},{appId:Ee,appName:_e}=(0,Ca.getAppInfoFromUrl)(ce,de),{route:ue,ssrUnsupportedRoute:me,params:Se}=Sf({path:ce},Vi),pe=Date.now(),Ce=pf.parse(ie);return history.replaceState(null,null,ce+ie),{userNamespace:de.name,appId:Ee,appName:_e,endpoints:de.endpoints,url:oe+"://"+ne+ce,launchTime:pe,startTime:pe,referer:"https://"+ne,route:ue,params:Se,ssrUnsupportedRoute:me,queryStringOverrides:Ce,heartBeatCheckInterval:e,httpRetry:t,isBizMail:s,pageDirection:a,throttleAPIList:n,userSegmentData:r,comScore:o,doNotSellLabel:i,doNotSellUrl:l,jurisdiction:c,buckets:d,calendarWssid:E,crumb:_,farm:u,guid:m,guidHash:p,userHash:C,locale:A,localeData:T,loggerParams:h,mailBrandNameString:g,mailWssid:I,mailboxAttributes:R,majorVersion:O,os:D,osMajorVersion:N,osMinorVersion:f,osPatchVersion:M,partner:L,region:P,selectedMailbox:y,usmLogString:b,shardId:F,signoutCrumb:U,timezone:v,userBeaconHash:w,yahooBrandNameString:G,yahooMailPlusBrandName:k,browserName:H,browserVersion:B,canSellPersonalInfo:x,ABPTestAccounts:V,feDev:W,feUser:Z,cspToken:K,nextgenInviteSecret:z,encryptedQueryParams:q,environment:Y,internal:j,remoteAddress:Q,colo:X,tmrTestAccounts:J,config:$,__initializeFeatures__:ee,featureCueTimestamps:te,featureCueUserResponse:se,featureSequence:ae}})(e.body.AppBootstrapData),window.AppIntl=e.body.AppIntl;const{config:s,partner:a,mailboxAttributes:n}=window.AppBootstrapData,r=document.getElementById("themer"),{hasMappedTheme:o,theme:i,themeMode:l}=s,c=o&&i||n[S.CbW.THEME]&&n[S.CbW.THEME].value,d=o&&l||n[S.CbW.THEME_MODE]&&n[S.CbW.THEME_MODE].value;r.innerHTML=(0,Ef.NB)(c,d,a)};!async function(){if(!(0,h.jU)()||window.AppBootstrapData||(await Cf(),window.AppBootstrapData))cf(BD)}()},13488:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});s(45697);var a=s(67294),n=s(28507),r=s(37422);class o extends Error{constructor(e="",t=""){super(e),this.name="ReactBoundary",this.message=e,this.stack=t}}var i=s(45953);class l extends a.Component{constructor(...e){var t,s,a;super(...e),a={hasError:!1},(s="state")in(t=this)?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a}componentDidCatch(e){try{const{message:t="ReactBoundary Error",stack:s=""}=e;throw new o(t,s)}catch(t){(0,i.Z)(t.message||"",location.href,0,0,t)}if(this.setState({hasError:!0}),!this.props.errorHandler){const e=document.getElementById("ybar");e&&e.parentNode&&e.parentNode.removeChild(e)}}render(){if(!this.state.hasError)return this.props.children;const{logoUrl:e,logoSrcSet:t,isRTL:s,errorHandler:o,className:i}=this.props,l=o||n.Z;return a.createElement("div",{"data-test-id":"react-error-handler",className:i},a.createElement(l,{appName:window.AppBootstrapData.appName,error:{name:r.ZB9.REACT_ERROR,message:"REACT_ERROR_OCCURED"},logoUrl:e,logoSrcSet:t,crumb:window.AppBootstrapData.crumb,isRTL:s,mailBrandNameString:window.AppBootstrapData.mailBrandNameString,partner:window.AppBootstrapData.partner,endpoints:window.AppBootstrapData.endpoints}))}}const c=l},78107:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F D_F",mailReader:"D_F ab_FT em_N ek_BB",listContainer:"D_F H_6D6F ab_FT em_N",toolbar:"en_0",leftPane:"en_0 ej_dAt p_R",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0"},"previewpane-2":{listContainer:"ek_BB",leftPane:"d_3nV5V",deadResizer:"W_6D6F ej_fq7 I_ZpQYvz",resizer:"W_6D6F ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ajP3z"},previewpaneInPixels:{leftPane:"s_3s1zo d_3nV5V en_N",rightPane:"s_3AgFn d_3nV5V"}},_key:"2kUKPB"}},72942:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a,n,r,o=s(45697),i=s.n(o),l=s(67294);class c extends l.Component{componentDidMount(){const{getUnsyncedData:e}=this.props;this.context.store&&this.context.store.registerUnsyncedDataHandler&&(this.unsyncedDataHandler=this.context.store.registerUnsyncedDataHandler(e))}componentWillUnmount(){this.unsyncedDataHandler&&this.unsyncedDataHandler.remove()}render(){return this.props.children||null}}a=c,n="contextTypes",r={store:i().object},n in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r;const d=c},42357:e=>{"use strict";e.exports={className:{default:{mainAd:"k_w W_3vpWV a_3vpWV iz_A iy_h P_6Fd5",adText:"A_6EqO C_Z1VRqsb"},isRRCompactSize:{mainAd:"a_3o4BO W_3o4BO"}},_key:"Z1QH53V"}},31144:e=>{"use strict";e.exports={className:{default:{container:"k_w W_3v1qi a_3v1qi iy_h iz_A M_6Fd5"},isRRCompactSize:{container:"a_3nF5b W_3nF5b"}},_key:"ZEdAT6"}},41451:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(45697),n=s.n(a),r=s(67294),o=s(42441),i=s.n(o);function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const c={bindShortcut:(e,t,s)=>(s?i()(s):i()).bind(e,t),unbindShortcut:(e,t=i())=>{if(!(t===i()||t instanceof i()))throw new TypeError("#context.unbindShortCut takes mousetrap as optional 2nd argument");t.unbind(e)}},d=e=>{var t,s;return s=t=class extends r.Component{getChildContext(){return c}render(){return r.createElement(e,this.props)}},l(t,"displayName","ReactKeyProvider"),l(t,"childContextTypes",{bindShortcut:n().func,unbindShortcut:n().func}),s}},78546:e=>{"use strict";e.exports={className:{default:{compose:"p_R W_6D6F H_6D6F R_0 T_0 L_0 B_0 D_F",stackPanelWrapper:"R_0 B_0 Z_d48 p_f L_7yHc H_ZKFzmc K_3DVPV D_F cZW7ROP_n",stackRow:"D_F eo_HB W_6D6F H_6D6F ek_FB ab_CH",panelContainer:"D_F p_R H_6D6F W_A ab_BZ"}},_key:"Z1NFcTu"}},51572:e=>{"use strict";e.exports={className:{default:{bgContainer:"D_F ek_BB H_6D6F aw_2941hk ba_10I1Qt az_oOItw ay_Z1nkUQx I_kt4zd",container:"D_F ek_BB H_6D6F cZ1RN91d_n s_1HCsWR aw_Z22yhkg I_kt4zd az_DW ba_Z2gmOa3 ay_Z1cYiMT c2hBT4u_Zm6i39 cZTwBjO_Zdogtk",inputModeWrapper:"H_6D6F",appHeader:"en_0 cZ1RN91d_n D_F ek_BB gl_FM",tabSpace:"f_l a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU",tabWrapper:"I_sgPtS M_1EAG48 W_6D6F",tab:"N_3o4BO cZ1YE9As_ZbJh7p e_1GFLLo",errorContainer:"H_6D6F",ybar:"H_7zJd",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"},"ads-false":{tab:"N_0"},"themeMode-LIGHT":{tabWrapper:"I_ajP3z"},wideLogo:{tabSpace:"f_l a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU"},ybarFuji2Enabled:{ybar:"H_3n1j3"},darkModePhotoTheme_NIGHT_LANDSCAPE:{tabWrapper:"I_cOYBx"},darkModePhotoTheme_ROADTRIP:{tabWrapper:"I_1iaDps"},darkModePhotoTheme_SUNSET_AUSSIE:{tabWrapper:"I_2woiX9"},darkModePhotoTheme_LIGHTHOUSE:{tabWrapper:"I_t5YJo"}},_key:"ly4a7"}},27084:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",container:"D_F ac_FT ab_C gl_C em_N",wrapper:"p_R",svgWrapper:"O_cMs",countWrapper:"p_a L_0 T_0 H_3nj85 W_3nj85 D_F gl_C ab_C",count:"C_Z281SGl A_74JI i_74JI u_dzD p_R T_36KP4"},"themeMode-DARK":{count:"C_52qC"}},_key:"1Xg7Xu"}},83381:e=>{"use strict";e.exports={className:{default:{rightRailContainer:"D_F o_v p_R I_ZnwrMC",rightRail:"D_F ek_BB",panesContainer:"D_F em_N ek_BB iz_A iy_h a_3vpWV H_6D6F",panesContainerWithBgColor:"D_F em_N ek_BB iz_A iy_h a_3vpWV H_6D6F I_52qC",attachmentPreview:"em_N",hideAdsChevronWrapper:"x_Z14vXdP W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",activeHideAdsChevronWrapper:"x_2fAfSG W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",hideAdsChevron:"c27KHO0_n I_52qC O_cMp b_0 D_F cdPFi_Z281SGl r_P s_6NIX H_6NIX j_Z197UJe e_VHH8F ab_C X_dRA cZW7ROP_A O4_N aw4_ZBSKJ8 cdPFi4_52qC Z_O"},hasAttachmentPreview:{panesContainer:"a_n ek_EZ",rightRail:"ek_FB"},"firstPaneName-RightPaneGroceriesList":{rightRailContainer:"I_52qC"},"themeMode-MEDIUM":{hideAdsChevronWrapper:"x_ZYfFSw",rightRailContainer:"I_T",panesContainerWithBgColor:"I_sgPuT"},"themeMode-DARK":{hideAdsChevronWrapper:"x_ZYfFSw",rightRailContainer:"I_T",panesContainerWithBgColor:"I_sgPuT",hideAdsChevron:"I_2sqbOJ O_N cdPFi4_Z281SGl"},"theme-ATT":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-FRONTIER":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-ROGERS":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-BT":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-SKY":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-AOL":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-DEFAULT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:""},"theme-SUNRISE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-AQUA_GREEN":{activeHideAdsChevronWrapper:"x_2uOeea",hideAdsChevron:"I4_Z1UHURv aw4_n"},"theme-AQUA_BLUE":{activeHideAdsChevronWrapper:"x_2iwbQA",hideAdsChevron:"I4_Z280Xf5 aw4_n"},"theme-DEEP_PURPLE":{activeHideAdsChevronWrapper:"x_Z1aO4GY",hideAdsChevron:"I4_Zwa5YI aw4_n"},"theme-BLUE_NIGHT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:"I4_Z21zYBA aw4_n"},"theme-DARK_GREY":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-NIGHT_LANDSCAPE":{activeHideAdsChevronWrapper:"x_2uRWCH",hideAdsChevron:"I4_Z1UEcsX aw4_n"},"theme-ROADTRIP":{activeHideAdsChevronWrapper:"x_Z15YOdY",hideAdsChevron:"I4_ZrkPvI aw4_n"},"theme-SUNSET_AUSSIE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-LIGHTHOUSE":{activeHideAdsChevronWrapper:"x_2tSflE",hideAdsChevron:"I4_Z1VDTK1 aw4_n"},"themeCombo-DARK_NIGHT_LANDSCAPE":{panesContainerWithBgColor:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{panesContainerWithBgColor:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{panesContainerWithBgColor:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{panesContainerWithBgColor:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{panesContainerWithBgColor:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{panesContainerWithBgColor:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{panesContainerWithBgColor:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{panesContainerWithBgColor:"I_t5YMW"}},_key:"gMYcl"}},15601:(e,t,s)=>{"use strict";s.d(t,{Fd:()=>l,u8:()=>c,ZP:()=>p});var a=s(67294),n=s(76223),r=s.n(n),o=s(61395),i=s.n(o);let l,c;!function(e){e.PRIMARY="PRIMARY",e.PRIMARY_INVERTED="PRIMARY_INVERTED",e.SECONDARY="SECONDARY",e.TEXT="TEXT",e.TEXT_NEGATIVE="TEXT_NEGATIVE",e.TEXT_ON_DARK_BACKGROUND="TEXT_ON_DARK_BACKGROUND",e.CHIT="CHIT",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.BLOCK_DOMAINS="BLOCK_DOMAINS"}(l||(l={})),function(e){e.R="regular",e.S="small",e.XS="extrasmall"}(c||(c={}));var d=s(49615),E=s.n(d),_=s(94070),u=s(29911);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const S=(0,a.forwardRef)((({kind:e=l.PRIMARY,size:t=c.R,flex:s=!1,dimmed:n=!1,disabled:o=!1,onClick:d,children:S,overridingClass:p="",...C},A)=>{let T=e;n!==o&&(T=e+(o?"-disabled":"-dimmed"));const{partner:h}=(0,_.B)(),{theme:g}=(0,a.useContext)(u.Z),I=r()(E(),{kind:T,kindTheme:e+"-"+g,flex:s,size:t,sizeKind:t+e,partner:h});return a.createElement("button",m({ref:A,className:i()(I.button,p),disabled:o,onClick:d},C),S)}));S.displayName="ForwardRef<FujiButton>";const p=S},49615:e=>{"use strict";e.exports={className:{default:{button:"A_6EGz H_6VdP V_C u_e69 P_1EudUu k_w cg_n I_T e_6FIA lv_ZSMsbO ir_n M_0 p_R o_h G_e J_x r_P",bar:"I_Z2aVTcY p_a h_1RtVxM z_ZtE3y e_dRA k_w H_eo6 W_6NIX"},"kind-PRIMARY":{button:"I_Z2aVTcY C_52qC I0_Z2dyg2z"},"kind-PRIMARY_INVERTED":{button:"I_52qC C_Z2aVTcY u_b W_6D6F I0_ZnkeaL"},"kind-PRIMARY-disabled":{button:"I_ZnIF8Y C_ZvsWfq"},"kind-SECONDARY":{button:"cn_dRA cg_FJ l_Z2aVTcY C_Z2aVTcY C0_Z2dyg2z l0_Z2dyg2z"},"kind-SECONDARY-disabled":{button:"cn_dBP cg_FJ l_ZpQYvz C_ZvsWfq"},"kind-CHIT":{button:"D_F gl_C P_0 W_7jIs H_7cK6 cn_dRA e_eo6 cg_FJ l_Z2aVTcY C_Z2aVTcY C0_Z2dyg2z l0_Z2dyg2z"},"kind-CHIT-dimmed":{button:"D_F gl_C P_0 W_7jIs H_7cK6 cn_dRA e_eo6 cg_FJ l_ZpQYvz C_ZvsWfq",circle:"l_ZroviD",bar:"I_Z1VRqsb"},"kind-TEXT":{button:"C_Z2aVTcY C0_Z2dyg2z"},"kind-TEXT_NEGATIVE":{button:"C_ZkiIcp C0_Z1TGpRv"},"kind-TEXT_ON_DARK_BACKGROUND":{button:"C_Z2bg7IA C0_52qC"},"kind-TEXT-disabled":{button:"C_ZvsWfq"},"kind-TEXT_NEGATIVE-disabled":{button:"C_ZvsWfq"},"kind-SUBSCRIPTIONS":{button:"C_Z2cPMlD I_ZMS7mY I4_2ieeaE C4_ZKXxHC"},"kind-BLOCK_DOMAINS":{button:"D_F ab_C C_ZkiIcp I_ZMS7mY I4_mz2ys C4_Z1TGpRv"},flex:{button:"F_N"},"size-small":{button:"A_6Eb4 H_6NIX P_1Eu7sD e_6EGz"},"size-extrasmall":{button:"A_6Eb4 H_6Mbr P_3gJOe e_6DUj"},"sizeKind-regularSECONDARY":{link:"i_6UbO"},"sizeKind-smallSECONDARY":{link:"i_6MGW"},"sizeKind-extrasmallSECONDARY":{link:"i_6FIA"},"partner-aol":{button:"e_0"},"kindTheme-PRIMARY-NEXTGENHOME":{button:"I_Z1UxVYz C_52qC A_6EGz j_1VaqYs C1_Zw4K57 q1_Z15p2MD I4_Z21a4NC I0_Z26KQwg"}},_key:"1UI2gp"}},45895:(e,t,s)=>{"use strict";s.d(t,{cA:()=>a,u3:()=>n});const a={FLEXIBLE:"100%",NARROW:"320px",WIDE:"360px"},n={MIN_WIDTH_FOR_TWO_COLUMNS:640,MIN_HEIGHT_FOR_TWO_COLUMNS:520,WIDE_MESSAGE_LIST:1112}},77890:(e,t,s)=>{"use strict";s.d(t,{Nt:()=>i,TC:()=>l});var a=s(99095),n=s(10728),r=s(95406);n.mg$;const o=(0,a.defineMessages)({adFormatSelectionPrompt:{id:"ad.adFormatSelectionPrompt",defaultMessage:"Choose your ad format"},adFormatSelectionHeader:{id:"ad.adFormatSelectionHeader",defaultMessage:"Don't like this ad format?"},adFormatSelectionAction:{id:"ad.adFormatSelectionAction",defaultMessage:"Set"},sponsoredMomentDescription:{id:"ad.adFormatSelectionSMDescription",defaultMessage:"Image ad below your newest messages"},pencilAdDescription:{id:"ad.adFormatSelectionPencilDescription",defaultMessage:"Text ad above your messages"},adFreeDescription:{id:"ad.adFormatSelectionAdFreeDescription",defaultMessage:"Ad free subscription"},adFreeAction:{id:"ad.adFormatSelectionAdFreeAction",defaultMessage:"Upgrade to Mail Pro"}}),i=(0,r.gP)(["PENCIL_AD","SPONSORED_MOMENT","AD_FREE","UNSET"]),l={[i.UNSET]:0,[i.PENCIL_AD]:1,[i.SPONSORED_MOMENT]:2};i.PENCIL_AD,o.pencilAdDescription,o.adFormatSelectionAction,i.SPONSORED_MOMENT,o.sponsoredMomentDescription,o.adFormatSelectionAction,i.AD_FREE,o.adFreeDescription,o.adFreeAction},84328:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(43111),i=s.n(o);const l=function({accountType:e,inNewUserTasksCue:t}){const s=r()(i(),{accountType:e,inNewUserTasksCue:t});return a.createElement("div",{className:s.avatar})}},27052:e=>{"use strict";e.exports={className:{default:{flashSaleCountdown:"D_F ab_C C_Z1VRqsb cdPFi_Z1VRqsb",flashSaleCountdownText:"Q_eo6"},flashSaleHighlight:{flashSaleCountdown:"C_Z287E9E cdPFi_Z287E9E"},isDarkTheme:{flashSaleCountdown:"C_ZvsWfq cdPFi_ZvsWfq"}},_key:"2gPVlc"}},56971:(e,t,s)=>{"use strict";s.d(t,{z:()=>E,Z:()=>u});s(45697);var a=s(67294),n=s(9333),r=s(76531),o=s(99095),i=s(95406);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const d=(0,o.defineMessages)({checked:{id:"atom.checkbox_checked",defaultMessage:"Checkbox, checked"},notChecked:{id:"atom.checkbox_not_checked",defaultMessage:"Checkbox, not checked"},partialChecked:{id:"atom.checkbox_partial_checked",defaultMessage:"Checkbox, partially checked"}}),E=(0,i.gP)(["NONE","ALL","PARTIAL"]);class _ extends a.Component{render(){const{type:e,highContrast:t,isInverted:s,size:o,isMonochrome:i,isOnDarkBackground:c}=this.props;let _,u,m,S,p;switch(s?(S=t?r.ColorStates.INVERTED_LESS_DIM:r.ColorStates.INVERTED_DIM,p=r.ColorStates.INVERTED):(S=t?r.ColorStates.NORMAL:r.ColorStates.COOL_FAINT,p=r.ColorStates.SELECTED),e){case E.ALL:_=r.Kinds.CHECKBOX_ON,u=p,m=d.checked;break;case E.PARTIAL:_=i?r.Kinds.MONOCHROME_MIXED_CHECKBOX:r.Kinds.MIXED_CHECKBOX,u=S,m=d.partialChecked;break;case E.NONE:default:_=r.Kinds.CHECKBOX_OFF,u=S,m=d.notChecked}return a.createElement(n.default,l({"data-test-id":"checkbox"},this.props,{"data-iskeynav":!0,size:o,kind:_,colorState:u,title:this.context.intl.formatMessage(m),isOnDarkBackground:c}))}}c(_,"defaultProps",{highContrast:!1,isInverted:!1,size:r.Sizes.XS,isMonochrome:!1,tabIndex:-1}),c(_,"contextTypes",{intl:o.intlShape.isRequired});const u=_},48650:e=>{"use strict";e.exports={className:{default:{iframe:"W_6D6F b_n o_h jb_0 X_6MGW N_6Fd5"}},_key:"Z1f2P3g"}},94766:(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});s(45697);var a=s(67294),n=s(43007),r=s(76531),o=s(99691),i=s(37422),l=s(10728),c=s(76223),d=s.n(c),E=s(5059),_=s.n(E);const{SimplifiedTypes:u}=i.sSc,m=d()(_()),S={[u.IMAGE]:r.Kinds.ATTACH_IMAGE_48,[u.VIDEO]:r.Kinds.ATTACH_MOVIE_48,[u.FILE]:r.Kinds.ATTACH_GENERIC_48,[u.AUDIO]:r.Kinds.ATTACH_SOUND_48,[u.COMPRESSED]:r.Kinds.ATTACH_ZIP_48,[u.PDF]:r.Kinds.ATTACH_PDF_48,[u.GDOCS]:r.Kinds.ATTACH_GDOCS_48,[u.GSHEETS]:r.Kinds.ATTACH_GSHEETS_48,[u.GSLIDES]:r.Kinds.ATTACH_GSLIDES_48,[u.XLS]:r.Kinds.ATTACH_XLS_48,[u.PPT]:r.Kinds.ATTACH_PPT_48,[u.DOC]:r.Kinds.ATTACH_DOC_48,[u.CAL]:r.Kinds.ATTACH_ICS_48,[u.FOLDER]:r.Kinds.FOLDER},p={[u.IMAGE]:r.ColorStates.ATTACH_MEDIA,[u.VIDEO]:r.ColorStates.ATTACH_MEDIA,[u.AUDIO]:r.ColorStates.ATTACH_MEDIA,[u.PDF]:r.ColorStates.ATTACH_PDF,[u.GDOCS]:r.ColorStates.ATTACH_DOC,[u.GSHEETS]:r.ColorStates.ATTACH_EXCEL,[u.GSLIDES]:r.ColorStates.ATTACH_SLIDE,[u.XLS]:r.ColorStates.ATTACH_EXCEL,[u.PPT]:r.ColorStates.ATTACH_SLIDE,[u.DOC]:r.ColorStates.ATTACH_DOC,[u.CAL]:r.ColorStates.ATTACH_CAL,[u.COMPRESSED]:r.ColorStates.ATTACH_COMPRESSED,[u.FOLDER]:r.ColorStates.FOLDER},C={[r.ColorStates.ATTACH_MEDIA]:`url(#${r.ColorStates.ATTACH_MEDIA}) ${l.E6z.ycolorPurple14a}`,[r.ColorStates.ATTACH_CAL]:`url(#${r.ColorStates.ATTACH_MEDIA}) ${l.E6z.ycolorPurple14a}`,[r.ColorStates.ATTACH_EXCEL]:`url(#${r.ColorStates.ATTACH_EXCEL}) ${l.E6z.vzm_sea_foam}`,[r.ColorStates.ATTACH_DOC]:`url(#${r.ColorStates.ATTACH_DOC}) ${l.E6z.vzm_dory}`,[r.ColorStates.ATTACH_SLIDE]:`url(#${r.ColorStates.ATTACH_SLIDE}) ${l.E6z.vzm_barbie}`,[r.ColorStates.ATTACH_PDF]:`url(#${r.ColorStates.ATTACH_SLIDE}) ${l.E6z.vzm_barbie}`,[r.ColorStates.ATTACH_GENERIC]:`url(#${r.ColorStates.ATTACH_GENERIC}) ${l.E6z.vzm_smurfette}`,[r.ColorStates.ATTACH_COMPRESSED]:`url(#${r.ColorStates.ATTACH_GENERIC}) ${l.E6z.vzm_smurfette}`,[r.ColorStates.FOLDER]:`url(#${r.ColorStates.FOLDER}) ${l.E6z.ycolorGrayFg}`},A=function({disabled:e,type:t,subtype:s,isInverted:i,fallbackText:c,filename:d="",isThumbnail:E=!1}){const _=(0,o.mD)(d),u=(0,o.SA)(t,s),A=_&&S[_]||S[u]||r.Kinds.ATTACH_GENERIC_48,T=_&&p[_]||p[u]||r.ColorStates.ATTACH_GENERIC,h=i?l.YS_:C[T],g={fill:e?l.cl5:h};return a.createElement("svg",{style:g,viewBox:"0 0 20 20",className:E?m.thumbnailIcon:m.attachmentIcon},n.B[A],c&&a.createElement("desc",null,a.createElement("p",{className:m.fallback},c)))}},23224:(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});s(45697);var a=s(67294),n=s(61822),r=s.n(n),o=s(76223),i=s.n(o),l=s(61395),c=s.n(l),d=s(69511),E=s(9333),_=s(76531),u=s(99095);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function S(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const p=(0,u.defineMessages)({clearButton:{id:"input_clear",defaultMessage:"Clear"}});class C extends a.Component{constructor(...e){super(...e),S(this,"state",{value:this.props.value}),S(this,"focus",(()=>{this.bidiInput.focus()})),S(this,"handleChange",(e=>{const{value:t}=this.state;e.persist(),e.target.value!==t&&this.setState({value:e.target.value},(()=>{this.props.onChange(e)}))}))}UNSAFE_componentWillReceiveProps(e){this.state.value!==e.value&&this.setState({value:e.value})}componentDidMount(){this.props.focusOnMount&&setTimeout((()=>this.bidiInput&&this.bidiInput.focus()),0)}render(){const{className:e,containerClassName:t,clearButtonContainerClassName:s,isClearable:n,onClear:o,clearIconColorState:l,focusOnMount:u,...S}=this.props,{value:C}=this.state,A=Boolean(n&&C),T=(0,d.getTextDirection)(C),h=i()(r(),{showClear:A});return a.createElement("div",{className:c()(h.inputContainer,t)},a.createElement("input",m({},S,{value:C,className:c()(h.input,e,h.rtlRemoveInput,h.rtlRawInput),ref:e=>this.bidiInput=e,onChange:this.handleChange},T&&{dir:T})),A&&a.createElement("span",{className:c()(h.clearButtonContainer,s)},a.createElement(E.default,{kind:_.Kinds.CLEAR,size:_.Sizes.XXS,colorState:l,title:this.context.intl.formatMessage(p.clearButton),className:h.clearButton,onClick:o,"data-test-id":"clear-button"})))}}S(C,"contextTypes",{intl:u.intlShape}),S(C,"defaultProps",{value:"",onChange(){},isClearable:!1,onClear(){},containerClassName:"",focusOnMount:!1,clearIconColorState:_.ColorStates.FAINT});const A=C},9865:(e,t,s)=>{"use strict";s.d(t,{Z:()=>T});var a=s(45697),n=s.n(a),r=s(67294),o=s(13764),i=s.n(o),l=s(43007),c=s(76531),d=s(92559),E=s(13508),_=s.n(E),u=s(99095);const m=(0,u.defineMessages)({breakingNewsbanner:{id:"breaking.news.banner",defaultMessage:"BREAKING NEWS"},latestNewsbanner:{id:"latest.news.banner",defaultMessage:"LATEST NEWS"}}),S=({lastestNews:e,clickUrl:t,onClick:s},{getCss:a,intl:{formatMessage:n}})=>{const o=a(_()),i=n(e?m.latestNewsbanner:m.breakingNewsbanner);return r.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:t,onClick:s,"aria-label":i,title:i,className:o.bannerContainer,"data-test-id":"breaking-news-banner"},r.createElement("div",{className:o.bannerText},i))};S.contextTypes={getCss:n().func,intl:u.intlShape.isRequired},S.defaultProps={lastestNews:!1};const p=S;function C(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class A extends r.Component{constructor(...e){super(...e),C(this,"onNewsClick",(()=>{const{newsArticle:e,breakingNewsClicked:t}=this.props;t({i13nModel:{mKey:d.JE.BREAKING_NEWS_CLICKED,sec:d.nJ.BREAKING_NEWS,actionData:{id:e.id,title:e.title,severity:e.severity}}})})),C(this,"onClose",(()=>{const{newsArticle:e,breakingNewsDismissed:t}=this.props;t({i13nModel:{mKey:d.JE.BREAKING_NEWS_DISMISSED,sec:d.nJ.BREAKING_NEWS,actionData:{id:e.id,title:e.title,severity:e.severity}}})}))}componentDidMount(){const{newsArticle:e,breakingNewsRendered:t}=this.props;this._breakingNewsRenderedTimer=setTimeout((()=>{t({i13nModel:{mKey:d.JE.BREAKING_NEWS_RENDERED,sec:d.nJ.BREAKING_NEWS,actionData:{id:e.id,title:e.title,severity:e.severity}}})}),0)}componentWillUnmount(){this._breakingNewsRenderedTimer&&clearTimeout(this._breakingNewsRenderedTimer)}render(){const{newsArticle:e,isCompactLayout:t}=this.props,s=this.context.getCss(i());return r.createElement("div",{"data-test-id":"breaking-news-container",className:s.container},r.createElement("div",{className:s.subContainer},r.createElement(p,{clickUrl:e.clickUrl,onClick:this.onNewsClick}),r.createElement("div",{className:s.content},r.createElement("a",{rel:"noopener noreferrer",className:s.link,href:e.clickUrl,onClick:this.onNewsClick,target:"_blank",tabIndex:"-1"},r.createElement("div",{"data-test-id":"breaking-news-title",className:s.articleTitle},e.title),t?null:r.createElement("div",{className:s.popoutIcon},r.createElement(l.Z,{kind:c.Kinds.POP_OUT,size:c.Sizes.XXS,colorState:c.ColorStates.INHERITED}))),r.createElement("div",{className:s.close,onClick:this.onClose},r.createElement(l.Z,{kind:c.Kinds.CLOSE,size:c.Sizes.XXS,colorState:c.ColorStates.INHERITED})))))}}A.contextTypes={getCss:n().func};const T=A},13508:e=>{"use strict";e.exports={className:{default:{bannerContainer:"p_R Z_0 D_F J_x r_P",bannerText:"D_X P_ZILJ0M p_R C_52qC u_b o_h D33_B dq33_Z1WN6IG p33_a T33_0 L33_0 W33_6D6F H33_6D6F aw33_ZBYItr lt33_1HC8nX h33_ZEmv6m Z33_nF"}},_key:"Z1Vxx4q"}},13764:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C H_6UbO k_w I_52qC X_6LEV C_Z1YRXYn A_6EqO u_b N_6Fd5",subContainer:"D_F ab_C em_N o_h",content:"D_F em_N gl_FM ab_C o_h",link:"o_h D_F r_P C_Z1YRXYn cdPFi_Z1YRXYn cdPFi4_Z2aVTcY C4_Z2aVTcY",close:"Q_fq7 D_F r_P C_Z1YRXYn cdPFi_Z1YRXYn cdPFi4_Z2aVTcY C4_Z2aVTcY",articleTitle:"Q_fq7 u_N J_x o_h G_e",popoutIcon:"D_F Q_eo6"},"themeMode-DARK":{container:"I_T C_52qC",link:"C_2sqbRh cdPFi_2sqbRh cdPFi4_52qC C4_52qC",close:"C_2sqbRh cdPFi_2sqbRh cdPFi4_52qC C4_52qC"}},_key:"16H1d7"}},67498:(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});var a=s(45697),n=s.n(a),r=s(67294),o=s(29210),i=s.n(o),l=s(76223),c=s.n(l),d=s(28182),E=(s(95406),s(61395)),_=s.n(E);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const{THEMED_LIKE_COMPOSE_BUTTON:S,PRIMARY:p,DANGER:C,SECONDARY:A}=d.F,T=[p,A,C,S],h=[S];class g extends r.Component{constructor(...e){super(...e),m(this,"keyboardClick",(e=>{/^( |Enter)$/.test(e.key)&&(e.preventDefault(),e.stopPropagation(),this.props.onClick(e))}))}UNSAFE_componentWillMount(){if(h.indexOf(this.props.kind)>=0&&!this.context.getTheme)throw new Error("context.getTheme() is required for theme related button kind")}render(){const{kind:e,disabled:t,paddingLess:s,marginLess:a,onClick:n,children:o,isOnDarkBackground:l,overridingClass:d,tabIndex:E,buttonRef:m,...C}=this.props,A=c()(i(),{decorated:T.indexOf(e)>=0,kind:e,disabled:t,paddingLess:s,marginLess:a,isOnDarkBackground:l,primaryHover:`${e===p}_${t}`,...e===S?{[`${S}_${this.context.getTheme()}`]:!0}:{}});return r.createElement("button",u({tabIndex:E,disabled:Boolean(t),className:d?_()(A.button,d):A.button,onKeyDown:n&&this.keyboardClick,onClick:n,type:"button",ref:m},C),o)}}m(g,"contextTypes",{getTheme:n().func}),m(g,"defaultProps",{kind:d.F.PRIMARY,disabled:!1,paddingLess:!1,marginLess:!1,isOnDarkBackground:!1,tabIndex:-1});const I=g},8061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s(45697);var a=s(67294),n=s(99095),r=s(76531),o=s(9333),i=s(11525),l=s.n(i),c=s(76223);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const E=s.n(c)()(l()),_=(0,n.defineMessages)({search_back:{id:"back_to_list_btn_title",defaultMessage:"Back"}}),u=({showText:e=!0,onClick:t,...s},{intl:{formatMessage:n}})=>{const i=n(_.search_back);return a.createElement(o.default,d({"data-iskeynav":!0,"data-test-id":"toolbar-back-to-list","aria-label":i,title:i,kind:r.Kinds.ARROW_UP,size:r.Sizes.XS,rotate:r.Rotate.D270,onClick:t,colorState:r.ColorStates.INHERITED,className:E.backToListButton},s),e&&i)};u.contextTypes={intl:n.intlShape.isRequired};const m=u},11525:e=>{"use strict";e.exports={className:{default:{backToListButton:"y_Z2hYGcu A_6EqO J_x C_q cdPFi_q E_fq7"}},_key:"ZlckKY"}},85875:e=>{"use strict";e.exports={className:{default:{container:"I_52qC W_3w4tj e_dRA j_Z7Uvbh je_6MGW",inputContainer:"D_F ab_C H_6LEV W_3ny6O M_kob6L b_2fAfSG",zipCodeInput:"W_3nh43 H_6Fd5 b_n",enter:"D_F ab_C gl_C H_6LEV W_6LEV I_ZroFTi",menuContainer:"Y_fq7",addressContainer:"ab_C m_Z14vXdP r_P D_F P_Z1E95kC I4_1I4yPF",indexNumber:"A_6FsP u_e69 t_C",address:"M_Zhyr9u W_3s8Nv",addressTitle:"A_6EWk u_e69 C_Z281SGl",addressBody:"A_6EqO",addressLocality:"A_6EqO C_Z1XFoRn",distance:"J_x A_6EqO C_Z281SGl",emptyContainer:"M_Z2fgw4u je_fq7 jb_6MGW A_6EqO",emptyTitle:"u_e69 U_fq7 C_Z27SJgd",emptybody:"C_Z1YW3b1",errorHint:"W_3v2I4 H_7zdH M_Z1n3EVB jb_6Mbr C_ZnTFMv",nearby:"A_6EWk u_e69 M_ZxotVa"},isValid:{enter:"I_Z2aVTcY"},noLocations:{enter:"I_ZroFTi"}},_key:"Zoj6eB"}},95366:e=>{"use strict";e.exports={className:{default:{container:"I_52qC",menuContainer:"D_F ek_EZ eo_HB P_1d6dau",retailerContainer:"H_3nb7H W_3nb7H D_F ek_BB gl_C ab_C M_1BOUCu e_eo6 I4_1I4yPF r4_P",icon:"H_74JI W_74JI e_e5X D_F eo_x ab_C gl_C j_Z2rLBDa I_1h2PNq",image:"W_74JI H_74JI e_e5X",header:"W_3nb7H H_6Fd5 je_fq7 A_6EqO u_e69 t_C C_Z281SGl",close:"D_F gl_C ab_C W_7iGr A_6EqO u_e69 t_C C_Z2aVTcY jb_6Fd5 M_A r_P"}},_key:"Z24l0Jl"}},70039:(e,t,s)=>{"use strict";s.d(t,{N:()=>C,Z:()=>T});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(99095),i=s(16376),l=s.n(i),c=(s(7320),s(37422)),d=s(95406),E=s(76531),_=s(9333),u=s(77451),m=s.n(u);function S(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const p=(0,o.defineMessages)({prev:{id:"carousel.previous",defaultMessage:"Previous"},next:{id:"carousel.next",defaultMessage:"Next"}}),C=(0,d.gP)(["NEXT","PREV"]);class A extends a.Component{constructor(e){super(e),S(this,"_getChildrenTotalWidth",(()=>{const{contextOfUse:e}=this.props;return e===c.C5$.PRODUCT?this.props.itemWidth/3*a.Children.count(this.props.children):this.props.itemWidth*a.Children.count(this.props.children)})),S(this,"_navHandlePrev",(()=>{this.navHandle(C.PREV)})),S(this,"_navHandleNext",(()=>{this.navHandle(C.NEXT)})),S(this,"setAnimation",((e=!0)=>{this.animated=e})),S(this,"setOffset",((e=0)=>{this.setState({offset:e})})),S(this,"navHandle",((e,t=null)=>{var s;const{offset:a}=this.state,{isRTL:n}=this.props,r=this._getChildrenTotalWidth(),o=null===(s=this.carousel)||void 0===s?void 0:s.clientWidth;let i=a;if(null===t){const t=this.props.defaultTransitionAmount||o;let s=0;if(e===C.NEXT){const e=r-o-a;s=t>e?-e:-t}else s=a>t?t:a;i=a-s,0!==s&&(this.animated=!0,this.setState({offset:i}))}else if(!n&&e===C.NEXT||n&&e===C.PREV){i=a+t;const e=n?t-a:i-r+o;e>0&&(i-=e),this.animated=!0,this.setState({offset:i})}else i=a-t>=0?a-t:0,this.animated=!0,this.setState({offset:i});i!==a&&this.props.onCarouselNav(e===C.NEXT)})),S(this,"renderCarousel",(()=>{const{intl:e}=this.context,{offset:t}=this.state,{contextOfUse:s,toolbarKind:n,isRTL:o,navArrows:i}=this.props,l=t<=0,d=this._getChildrenTotalWidth(),u=d&&this.carousel&&this.carousel.clientWidth+t>=d,S=s===c.C5$.PRODUCT,C=S?E.ColorStates.NORMAL:E.ColorStates.SELECTED,A=r()(m(),{prevDisabled:l,nextDisabled:u,toolbarKind:n,retailerCarouselStyle:S,animationDisabled:!this.animated}),T=o?{right:-t}:{left:-t};return a.createElement("div",{className:A.carouselContainer},(()=>{const t=a.createElement("div",{className:A.prevNavHandleContainer+" "+A.rtlRawScaleX},a.createElement(_.default,{"data-test-id":"carousel-prev-button",kind:E.Kinds.ARROW_RIGHT_DOC,rotate:E.Rotate.D180,size:E.Sizes.XS,colorState:l?E.ColorStates.FAINT:C,onClick:this._navHandlePrev,title:e.formatMessage(p.prev),"aria-label":e.formatMessage(p.prev),className:A.prevNavHandle}));return S?i&&!l&&t:i&&t})(),a.createElement("div",{className:A.carousel,ref:e=>{e&&!this.carousel&&(this.carousel=e)}},a.createElement("div",{className:A.list,style:T,"data-test-id":"carousel-container"},this.props.children)),i&&a.createElement("div",{className:A.nextNavHandleContainer+" "+A.rtlRawScaleX},a.createElement(_.default,{"data-test-id":"carousel-next-button",kind:E.Kinds.ARROW_RIGHT_DOC,rotate:E.Rotate.D0,size:E.Sizes.XS,colorState:u?E.ColorStates.FAINT:C,onClick:this._navHandleNext,title:e.formatMessage(p.next),"aria-label":e.formatMessage(p.next),className:A.nextNavHandle})))})),S(this,"renderSwipeableCarousel",(()=>a.createElement(l(),{onSwipedLeft:()=>this.navHandle(C.NEXT),onSwipedRight:()=>this.navHandle(C.PREV),style:{width:"100%",display:"flex"}},this.renderCarousel()))),this.animated=e.initialAnimation,this.state={offset:0}}componentDidMount(){this.props.didMount()}UNSAFE_componentWillReceiveProps(e){if(e.isWindowResizingDone){var t;const{offset:e}=this.state,s=this._getChildrenTotalWidth(),a=(null===(t=this.carousel)||void 0===t?void 0:t.clientWidth)+e-s,n=a>e?e:a,r=a>=0?e-n:e;this.setState({offset:r})}}render(){return this.props.isSwipeable?this.renderSwipeableCarousel():this.renderCarousel()}}S(A,"contextTypes",{intl:o.intlShape.isRequired}),S(A,"defaultProps",{initialAnimation:!0,didMount:()=>{},defaultTransitionAmount:null,onCarouselNav:()=>{},navArrows:!0,contextOfUse:""});const T=A},1249:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a=s(67294),n=s(56971),r=(s(95406),s(76531));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function i(e){const{isChecked:t,size:s}=e;return a.createElement(n.Z,o({},e,{type:t?n.z.ALL:n.z.NONE,size:s}))}i.defaultProps={size:r.Sizes.XS};const l=a.memo(i)},28182:(e,t,s)=>{"use strict";let a;s.d(t,{F:()=>a}),function(e){e.PLAIN="PLAIN",e.PRIMARY="PRIMARY",e.SECONDARY="SECONDARY",e.CHROMELESS="CHROMELESS",e.ICON="ICON",e.ICON_HIGHLIGHTED="ICON_HIGHLIGHTED",e.MENUITEM="MENUITEM",e.MENUITEM_PARENT_TEXT_COLOR="MENUITEM_PARENT_TEXT_COLOR",e.DANGER="DANGER",e.SECONDARY_BORDERLESS="SECONDARY_BORDERLESS",e.TEXT="TEXT",e.CUE="CUE",e.THEMED_LIKE_COMPOSE_BUTTON="THEMED_LIKE_COMPOSE_BUTTON",e.PILL="PILL"}(a||(a={}))},69635:(e,t,s)=>{"use strict";s.d(t,{K:()=>a});const a=(0,s(95406).gP)(["TopLeft","TopCenter","TopRight","CenterLeft","CenterCenter","CenterRight","BottomLeft","BottomCenter","BottomRight"])},87232:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});const a=(0,s(95406).gP)(["DEFAULT","DARK_BORDER_BOTTOM","LEFT_ICON"])},76531:(e,t,s)=>{"use strict";s.r(t),s.d(t,{DesktopKinds:()=>r,MobileKinds:()=>o,Kinds:()=>i,Sizes:()=>l,Rotate:()=>c,ColorStates:()=>E});var a=s(9026),n=s(10728);let r,o;!function(e){e.ADD="ADD",e.ADDATTACHMENT="ADDATTACHMENT",e.ALIGN_CENTER="ALIGN_CENTER",e.ALIGN_LEFT="ALIGN_LEFT",e.AOL_OFFICIAL="AOL_OFFICIAL",e.APP_HIDDEN="APP_HIDDEN",e.ARCHIVE="ARCHIVE",e.ARROW_RIGHT_DOC="ARROW_RIGHT_DOC",e.ARROW_UP="ARROW_UP",e.ATTACH="ATTACH",e.ATTACHMENT="ATTACHMENT",e.ATTACH_CAL="ATTACH_CAL",e.ATTACH_DOC="ATTACH_DOC",e.ATTACH_DOC_48="ATTACH_DOC_48",e.ATTACH_GDOCS_48="ATTACH_GDOCS_48",e.ATTACH_GENERIC_48="ATTACH_GENERIC_48",e.ATTACH_GSHEETS_48="ATTACH_GSHEETS_48",e.ATTACH_GSLIDES_48="ATTACH_GSLIDES_48",e.ATTACH_ICS_48="ATTACH_ICS_48",e.ATTACH_IMAGE="ATTACH_IMAGE",e.ATTACH_IMAGE_48="ATTACH_IMAGE_48",e.ATTACH_MOVIE_48="ATTACH_MOVIE_48",e.ATTACH_PDF_48="ATTACH_PDF_48",e.ATTACH_PPT_48="ATTACH_PPT_48",e.ATTACH_SOUND_48="ATTACH_SOUND_48",e.ATTACH_XLS_48="ATTACH_XLS_48",e.ATTACH_ZIP_48="ATTACH_ZIP_48",e.ATTENTION="ATTENTION",e.BELL="BELL",e.BOLD="BOLD",e.CALENDAR="CALENDAR",e.CALENDAR_EMPTY="CALENDAR_EMPTY",e.CALENDAR_SETTINGS="CALENDAR_SETTINGS",e.CAL_ACCEPT="CAL_ACCEPT",e.CAL_DECLINE="CAL_DECLINE",e.CAL_MAYBE="CAL_MAYBE",e.CHECKBOX_OFF="CHECKBOX_OFF",e.CHECKBOX_ON="CHECKBOX_ON",e.CHECKMARK="CHECKMARK",e.CHEVRON_UP="CHEVRON_UP",e.CIRCLE="CIRCLE",e.CLEAR="CLEAR",e.CLOCK="CLOCK",e.CLOCK_OUTLINE="CLOCK_OUTLINE",e.CLOSE="CLOSE",e.CLOSE_MINI="CLOSE_MINI",e.COLLAPSE_LIST="COLLAPSE_LIST",e.COMPOSE="COMPOSE",e.COMPOSE_EMOJI="COMPOSE_EMOJI",e.CONTACT_CARD="CONTACT_CARD",e.CONTACTCARD_OUTLINE="CONTACTCARD_OUTLINE",e.CONTRACT="CONTRACT",e.DEALS="DEALS",e.DELETE="DELETE",e.DEVICE_PHONE="DEVICE_PHONE",e.CAR="CAR",e.DOCUMENTS_S="DOCUMENTS_S",e.DOWNLOAD="DOWNLOAD",e.DRAFTS="DRAFTS",e.EMOJI_FOOD_AND_DRINK="EMOJI_FOOD_AND_DRINK",e.ENTER="ENTER",e.EXCLAMATION="EXCLAMATION",e.EXCLAMATION_ALT="EXCLAMATION_ALT",e.EXPAND="EXPAND",e.EXPAND_LIST="EXPAND_LIST",e.FEEDBACK="FEEDBACK",e.FINANCE="FINANCE",e.FOLDER="FOLDER",e.FORWARD="FORWARD",e.GETAWAYFILL="GETAWAYFILL",e.GIF_BOX="GIF_BOX",e.GUEST_LIST="GUEST_LIST",e.HOME="HOME",e.INBOX="INBOX",e.INDENT="INDENT",e.INFO="INFO",e.INPUT_ARROW_DOWN="INPUT_ARROW_DOWN",e.ITALIC="ITALIC",e.LINK="LINK",e.LIST_ORDERED="LIST_ORDERED",e.LIST_ORDERED_FLIPPED="LIST_ORDERED_FLIPPED",e.LIST_UNORDERED="LIST_UNORDERED",e.LOCATION_MARKER="LOCATION_MARKER",e.LOCK="LOCK",e.MESSENGER="MESSENGER",e.MINUS="MINUS",e.MIXED_CHECKBOX="MIXED_CHECKBOX",e.MORE="MORE",e.MOVE_TO_FOLDER="MOVE_TO_FOLDER",e.NEWS="NEWS",e.NOTEPAD="NOTEPAD",e.NO_INTERNET="NO_INTERNET",e.NONE_BELL="NONE_BELL",e.ORB="ORB",e.OUTDENT="OUTDENT",e.PEOPLE="PEOPLE",e.PHONE="PHONE",e.POP_OUT="POP_OUT",e.PRINTER="PRINTER",e.READ="READ",e.REFRESH="REFRESH",e.REPLY="REPLY",e.REPLY_ALL="REPLY_ALL",e.RESTORE_TO_INBOX="RESTORE_TO_INBOX",e.RICHTEXT_OFF="RICHTEXT_OFF",e.RICHTEXT_ON="RICHTEXT_ON",e.SCISSORS="SCISSORS",e.SEARCH="SEARCH",e.SEARCH_MAIL="SEARCH_MAIL",e.SEARCH_MINI="SEARCH_MINI",e.SEARCH_WEB="SEARCH_WEB",e.SELECTED="SELECTED",e.SENT="SENT",e.SETTINGS="SETTINGS",e.SHARE_SOCIAL="SHARE_SOCIAL",e.SHOPPING="SHOPPING",e.SPAM="SPAM",e.SPONSORED="SPONSORED",e.STAR="STAR",e.STATIONERY="STATIONERY",e.STRIKETHROUGH="STRIKETHROUGH",e.TAB_IMAGES="TAB_IMAGES",e.TEXT="TEXT",e.TEXT_COLOR="TEXT_COLOR",e.TRAVEL="TRAVEL",e.TRUSTED="TRUSTED",e.TUMBLR="TUMBLR",e.VIDEO_CALL="VIDEO_CALL",e.YBANG="YBANG",e.TAP_TO_TOP="TAP_TO_TOP",e.SIDEBAR="SIDEBAR",e.BIG_STAR="BIG_STAR",e.SOLID_CIRCLE="SOLID_CIRCLE",e.HOTELS="HOTELS",e.TICKETS="TICKETS",e.THEATERS="THEATERS",e.CONCERTS="CONCERTS",e.SPORTS="SPORTS",e.FACEBOOK="FACEBOOK",e.FLICKR="FLICKR",e.FLICKR_MONOCHROME="FLICKR_MONOCHROME",e.TWITTER="TWITTER",e.LINKEDIN="LINKEDIN",e.BASKET="BASKET",e.CAMERA_FILL="CAMERA_FILL",e.TAG_FILL="TAG_FILL",e.CARD="CARD",e.CLIPCOUPON="CLIPCOUPON",e.CART="CART",e.DESKTOP_ATTACHMENT="DESKTOP_ATTACHMENT",e.PREVIEW="PREVIEW",e.DRIVE="DRIVE",e.DROPBOX="DROPBOX",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.NO_ADS="NO_ADS",e.NUMBER_ONE="NUMBER_ONE",e.STOPWATCH_DASHES="STOPWATCH_DASHES",e.GIFT="GIFT",e.INFINITY="INFINITY",e.AUTO_FORWARDING="AUTO_FORWARDING",e.UNDERSCORE="UNDERSCORE",e.WINDOW_BOX="WINDOW_BOX",e.UNSUBSCRIBE_OUTLINE="UNSUBSCRIBE_OUTLINE",e.WRENCH="WRENCH",e.REPLY_OUTLINE="REPLY_OUTLINE",e.EXCHANGE="EXCHANGE",e.COMPOSE_OUTLINE="COMPOSE_OUTLINE",e.APPLE="APPLE",e.HOME_OUTLINE="HOME_OUTLINE",e.PHONE_OUTLINE="PHONE_OUTLINE",e.BUY_MORE_SAVE_MORE="BUY_MORE_SAVE_MORE",e.YAHOO_PLUS_BADGE="YAHOO_PLUS_BADGE",e.YAHOO_PLUS_BADGE_ALT="YAHOO_PLUS_BADGE_ALT"}(r||(r={})),function(e){e.AOL_OFFICIAL="AOL_OFFICIAL",e.BELL="BELL",e.CONTRACT="CONTRACT",e.EXCLAMATION_ALT="EXCLAMATION_ALT",e.EXPAND="EXPAND",e.INBOX="INBOX",e.SETTINGS="SETTINGS",e.HOME="HOME",e.MEDICAL_KIT="MEDICAL_KIT",e.CONTACT_CARD="CONTACT_CARD",e.ADD_CONTACT="ADD_CONTACT",e.CHEVRON_UP="CHEVRON_UP",e.ARROW_RIGHT_DOC="ARROW_RIGHT_DOC",e.INPUT_ARROW_DOWN="INPUT_ARROW_DOWN",e.MORE="MORE",e.FOLDER="FOLDER",e.REPLY="REPLY",e.REPLY_ALL="REPLY_ALL",e.FORWARD="FORWARD",e.STAR="STAR",e.CIRCLE="CIRCLE",e.READ="READ",e.ATTACHMENT="ATTACHMENT",e.ATTACH_CAL="ATTACH_CAL",e.ATTACH_DOC="ATTACH_DOC",e.ATTACH_IMAGE="ATTACH_IMAGE",e.ARROW_UP="ARROW_UP",e.CHECKBOX_OFF="CHECKBOX_OFF",e.CHECKBOX_ON="CHECKBOX_ON",e.CHECKMARK="CHECKMARK",e.MONOCHROME_MIXED_CHECKBOX="MONOCHROME_MIXED_CHECKBOX",e.CLOSE="CLOSE",e.CLOSE_MINI="CLOSE_MINI",e.SEARCH="SEARCH",e.ORB="ORB",e.SENT="SENT",e.COMPOSE="COMPOSE",e.DELETE="DELETE",e.MOVE_TO_FOLDER="MOVE_TO_FOLDER",e.ARCHIVE="ARCHIVE",e.SPAM="SPAM",e.TAB_IMAGES="TAB_IMAGES",e.NOTSPAM="NOTSPAM",e.ADD="ADD",e.DRAFTS="DRAFTS",e.SIDEBAR="SIDEBAR",e.BIG_STAR="BIG_STAR",e.SOLID_CIRCLE="SOLID_CIRCLE",e.FEEDBACK="FEEDBACK",e.ATTACH="ATTACH",e.SEARCH_MAIL="SEARCH_MAIL",e.SPONSORED="SPONSORED",e.ATTENTION="ATTENTION",e.YBANG="YBANG",e.ATTACH_IMAGE_48="ATTACH_IMAGE_48",e.ATTACH_MOVIE_48="ATTACH_MOVIE_48",e.ATTACH_GENERIC_48="ATTACH_GENERIC_48",e.ATTACH_SOUND_48="ATTACH_SOUND_48",e.ATTACH_PDF_48="ATTACH_PDF_48",e.ATTACH_PPT_48="ATTACH_PPT_48",e.ATTACH_XLS_48="ATTACH_XLS_48",e.ATTACH_ZIP_48="ATTACH_ZIP_48",e.ATTACH_DOC_48="ATTACH_DOC_48",e.ATTACH_ICS_48="ATTACH_ICS_48",e.NO_INTERNET="NO_INTERNET",e.SEARCH_MINI="SEARCH_MINI",e.FACEBOOK="FACEBOOK",e.FLICKR="FLICKR",e.FLICKR_MONOCHROME="FLICKR_MONOCHROME",e.TWITTER="TWITTER",e.LINKEDIN="LINKEDIN",e.CAMERA_FILL="CAMERA_FILL",e.BLOCK_PEOPLE="BLOCK_PEOPLE",e.BLOCK_PEOPLE_FILL="BLOCK_PEOPLE_FILL",e.NONE_BELL="NONE_BELL",e.INFO="INFO",e.PHONE="PHONE",e.COMMENT_FILL="COMMENT_FILL",e.CONVERSATIONS_FILL="CONVERSATIONS_FILL",e.CAL_DECLINE="CAL_DECLINE",e.CAL_MAYBE="CAL_MAYBE",e.TRUSTED="TRUSTED",e.CLOCK="CLOCK",e.UNSUBSCRIBE="UNSUBSCRIBE",e.BLOCK="BLOCK",e.TAB_MESSAGES="TAB_MESSAGES",e.FLAG="FLAG",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.SORT="SORT",e.PRO="PRO",e.ANNOUNCEMENT="ANNOUNCEMENT",e.CAL_ACCEPT="CAL_ACCEPT",e.KEEP_NEW="KEEP_NEW",e.OPEN_ENVELOPE="OPEN_ENVELOPE",e.STOPWATCH="STOPWATCH",e.VOLUME="VOLUME",e.VOLUME_MUTE="VOLUME_MUTE",e.YBANG_ALT="YBANG_ALT",e.PREVIEW="PREVIEW",e.YAHOO_PLUS_BADGE="YAHOO_PLUS_BADGE",e.YAHOO_PLUS_BADGE_ALT="YAHOO_PLUS_BADGE_ALT",e.EYE_SLASH="EYE_SLASH",e.LOCK="LOCK",e.UNSUBSCRIBE_OUTLINE="UNSUBSCRIBE_OUTLINE",e.WRENCH="WRENCH",e.EXCHANGE="EXCHANGE",e.NO_ADS="NO_ADS"}(o||(o={}));const i={...r,...o};let l,c;!function(e){e.XXXS="XXXS",e.XXS="XXS",e.XS="XS",e.S="S",e.M="M",e.L="L",e.XL="XL",e.XXL="XXL",e.XXXL="XXXL"}(l||(l={})),Object.assign(l,{AVATAR_SIZE_40:n.fej}),function(e){e.D0="D0",e.D45="D45",e.D90="D90",e.D180="D180",e.D270="D270"}(c||(c={}));const d=[...Object.keys(a.b3),...Object.keys(a.HM)].reduce(((e,t)=>(e[t=`THEME_GRADIENT_${t}`]=t,e)),{});let E;!function(e){e.NORMAL="NORMAL",e.FIRST_LEVEL_GRAY="FIRST_LEVEL_GRAY",e.FIRST_LEVEL_ORANGE="FIRST_LEVEL_ORANGE",e.NORMAL_LESS_DIM="NORMAL_LESS_DIM",e.IMPROVED_GRAY_DARK="IMPROVED_GRAY_DARK",e.SECOND_LEVEL_GRAY="SECOND_LEVEL_GRAY",e.THIRD_LEVEL_GRAY="THIRD_LEVEL_GRAY",e.DARK="DARK",e.WHITE="WHITE",e.INHERITED="INHERITED",e.INVERTED="INVERTED",e.INVERTED_DIM="INVERTED_DIM",e.INVERTED_LESS_DIM="INVERTED_LESS_DIM",e.INVERTED_MORE_DIM="INVERTED_MORE_DIM",e.SELECTED="SELECTED",e.PRIMARY_HOVER="PRIMARY_HOVER",e.SELECTED_DARK_THEME_MODE="SELECTED_DARK_THEME_MODE",e.STARRING="STARRING",e.STARRED="STARRED",e.STARRED_DARK="STARRED_DARK",e.SMARTVIEW_DARK="SMARTVIEW_DARK",e.DISABLED="DISABLED",e.LESS_IMPORTANT="LESS_IMPORTANT",e.FAINT="FAINT",e.TRANSPARENT="TRANSPARENT",e.HEADING="HEADING",e.GRAD_RED="GRAD_RED",e.GRAD_BLUE="GRAD_BLUE",e.COOL_FAINT="COOL_FAINT",e.ADVISORY="ADVISORY",e.WARNING="WARNING",e.WARNING_GRAD_RED="WARNING_GRAD_RED",e.SUCCESS="SUCCESS",e.FOLDER="FOLDER",e.ATTACH_GENERIC="ATTACH_GENERIC",e.ATTACH_MEDIA="ATTACH_MEDIA",e.ATTACH_CAL="ATTACH_CAL",e.ATTACH_EXCEL="ATTACH_EXCEL",e.ATTACH_DOC="ATTACH_DOC",e.ATTACH_SLIDE="ATTACH_SLIDE",e.ATTACH_PDF="ATTACH_PDF",e.ATTACH_COMPRESSED="ATTACH_COMPRESSED",e.YBANG="YBANG",e.TOUCH_PRIMARY="TOUCH_PRIMARY",e.SMARTVIEW_PEOPLE="SMARTVIEW_PEOPLE",e.SMARTVIEW_SHOPPING="SMARTVIEW_SHOPPING",e.FACEBOOK_ENABLED="FACEBOOK_ENABLED",e.TWITTER_ENABLED="TWITTER_ENABLED",e.LINKEDIN_ENABLED="LINKEDIN_ENABLED",e.ICON_HOVER_BGCOLOR="ICON_HOVER_BGCOLOR",e.GRAY_VZM_BOB="GRAY_VZM_BOB",e.PURPLE="PURPLE",e.PURPLE_GRADIENT="PURPLE_GRADIENT",e.THEME_GRADIENT_PURPLE="THEME_GRADIENT_PURPLE"}(E||(E={})),Object.assign(E,d)},77163:(e,t,s)=>{"use strict";s.d(t,{P:()=>a,y:()=>n});const a={BACKSPACE:8,BRACKETLEFT:91,BRACKETRIGHT:93,BREAK:13,HASHTAG:35,COMMA:44,DELETE:46,DOWN:40,ENTER:13,EQUAL:187,ESCAPE:27,FF_COMMA:188,FF_SEMICOLON:186,KEYE:101,KEYK:107,KEYL:108,KEYV:118,LEFT:37,MINUS:189,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SEMICOLON:59,SLASH:47,SPACE:32,TAB:9,UP:38},n={KEYA:"a",KEYD:"d",KEYE:"e",KEYF:"f",KEYK:"k",KEYL:"l",KEYR:"r",KEYV:"v",KEYP:"p",PERIOD:"."}},78041:(e,t,s)=>{"use strict";let a;s.d(t,{A:()=>a}),function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL",e.GRID="GRID"}(a||(a={}))},77078:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});const a=(0,s(95406).gP)(["DEFAULT","GRID","WRAP_CONTENT"])},83588:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});const a=(0,s(95406).gP)(["LIGHT","DARK"])},40918:(e,t,s)=>{"use strict";let a;s.d(t,{F:()=>a}),function(e){e.DEFAULT="DEFAULT",e.MENU="MENU",e.TOOLBAR="TOOLBAR"}(a||(a={}))},65304:(e,t,s)=>{"use strict";s.d(t,{s0:()=>a,Fw:()=>n,Jk:()=>r,K2:()=>o,Ji:()=>i,hy:()=>l,Ic:()=>c,xM:()=>d,cM:()=>E});const a={S:6,M:12,L:24},n=.95;let r,o,i,l,c;!function(e){e.S="S",e.M="M",e.L="L"}(r||(r={})),function(e){e.MOUNT="MOUNT",e.HOVER="HOVER",e.CLICK="CLICK",e.RIGHTCLICK="RIGHTCLICK",e.ASYMMETRIC="ASYMMETRIC"}(o||(o={})),function(e){e.UP="UP",e.DOWN="DOWN",e.START="START",e.END="END",e.ANY="ANY"}(i||(i={})),function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(l||(l={})),function(e){e.DEFAULT="DEFAULT",e.DARK="DARK",e.GRADIENT="GRADIENT",e.LIGHTGRAY="LIGHTGRAY",e.OVERLAY="OVERLAY",e.NEON_BLUE="NEON_BLUE"}(c||(c={}));let d,E;!function(e){e.CENTER="CENTER",e.START="START",e.END="END",e.ANY="ANY"}(d||(d={})),function(e){e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MOBILE_DEFAULT="MOBILE_DEFAULT"}(E||(E={}))},25244:(e,t,s)=>{"use strict";s.d(t,{F:()=>a,J:()=>n});const a=(0,s(95406).gP)(["EMPTY_FOLDER","SELECTED_MESSAGES","ATTACHMENT_PREVIEW_ERROR","PLAY_VIDEO","GEAR_ICON","DOCUMENTS_ICON"]),n=138},51892:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});s(45697);var a=s(67294),n=s(67498),r=s(89963),o=s(25581),i=s.n(o),l=s(76223),c=s.n(l),d=s(10728),E=s(43007),_=s(9333),u=s(99095),m=s(76531);function S(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const p=c()(i()),C={margin:`14px ${d.mg$}px ${5*d.mg$}px 0`,border:0,padding:`0 ${7*d.mg$}px`},A=(0,u.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptText:{id:"alert.ok",defaultMessage:"OK"}}),T=()=>{};class h extends a.Component{constructor(...e){super(...e),S(this,"state",{shown:!0}),S(this,"handleKeyDown",(e=>{("Enter"===e.key||"Escape"===e.key&&!this.props.onClose)&&(e.preventDefault(),e.stopPropagation(),this.props.onAccept())})),S(this,"handleAccept",(e=>{e.stopPropagation(),this.props.onAccept()})),S(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose()}))}render(){const{formatMessage:e}=this.context.intl,t="string"==typeof this.props.acceptText?this.props.acceptText:e(this.props.acceptText);let s;return s=this.props.hideClose?null:a.createElement("div",{className:p.close},a.createElement(_.default,{onClick:this.props.onClose?this.handleClose:this.handleAccept,kind:m.Kinds.CLOSE,size:m.Sizes.XS,title:e(A.close),"aria-label":e(A.close),"data-test-id":"alert-button-close"})),a.createElement(r.Z,{onKeyDown:this.handleKeyDown,onClose:this.props.onClose?this.props.onClose:T},a.createElement("div",{className:p.container,"data-test-id":"alert-dialog",role:"alertdialog"},a.createElement("div",{className:p.icon},a.createElement(E.Z,{kind:m.Kinds.EXCLAMATION_ALT,size:m.Sizes.L,colorState:m.ColorStates.WARNING_GRAD_RED})),a.createElement("header",{className:p.header},this.props.title?a.createElement("h3",{className:p.title,"data-test-id":"alert-title"},this.props.title):null,s),a.createElement("section",{className:p.message,"data-test-id":"alert-message"},this.props.message),a.createElement("footer",{className:p.controls},a.createElement(n.Z,{onClick:this.handleAccept,style:C,"data-test-id":"alert-button-ok"},t))))}}S(h,"contextTypes",{intl:u.intlShape.isRequired}),S(h,"defaultProps",{acceptText:A.defaultAcceptText});const g=h},91869:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});s(45697);var a=s(67294),n=s(99095),r=s(576);function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const i=(0,n.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptLabel:{id:"confirm.accept",defaultMessage:"OK"},defaultCancelLabel:{id:"confirm.cancel",defaultMessage:"Cancel"}});class l extends a.Component{render(){const{title:e,onConfirm:t,onAbort:s,hideIcon:n,customTitle:o,showCustomTitle:i,acceptLabel:l,cancelLabel:c,message:d,onOuterClick:E,disablePrimaryButton:_,wideContainer:u=!1,onClose:m,overridingClass:S}=this.props;return a.createElement(r.Z,{primaryButtonLabel:l,secondaryButtonLabel:c,hideIcon:n,title:e,customTitle:o,showCustomTitle:i,message:d,onPrimaryButtonClick:t,onSecondaryButtonClick:s,onClose:m||s,onOuterClick:E,wideContainer:u,disablePrimaryButton:_,overridingClass:S},this.props.children)}}o(l,"contextTypes",{intl:n.intlShape.isRequired}),o(l,"defaultProps",{acceptLabel:i.defaultAcceptLabel,cancelLabel:i.defaultCancelLabel,showCustomTitle:!1,hideIcon:!1,disablePrimaryButton:!1});const c=l},576:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});s(45697);var a=s(67294),n=s(67498),r=s(89963),o=s(43007),i=s(9333),l=s(28182),c=s(76531),d=s(90789),E=s.n(d),_=s(76223),u=s.n(_),m=s(10728),S=s(99095);function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const C=(0,S.defineMessages)({close:{id:"dualActionDialog.close",defaultMessage:"Close"}}),A={margin:`${4*m.mg$}px ${m.mg$}px ${5*m.mg$}px 0`};class T extends a.Component{constructor(...e){super(...e),p(this,"handlePrimaryButtonClick",(e=>{e.stopPropagation(),this.props.onPrimaryButtonClick(e)})),p(this,"handleSecondaryButtonClick",(e=>{e.stopPropagation(),this.props.onSecondaryButtonClick(e)})),p(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose(e)})),p(this,"handleKeyDown",(e=>(e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onPrimaryButtonClick(e)):"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onClose(e)):void 0)))}render(){const{formatMessage:e}=this.context.intl,{title:t,hideIcon:s,showCustomTitle:d,customTitle:_,onOuterClick:m,primaryButtonLabel:S,secondaryButtonLabel:p,wideContainer:T=!1,disablePrimaryButton:h,overridingClass:g={}}=this.props;let{message:I}=this.props;const{primaryButtonClass:R}=g,O="string"==typeof S?S:e(S),D="string"==typeof p?p:e(p),N=u()(E(),{hideIcon:s,wideContainer:T});return I||(I=this.props.children),a.createElement(r.Z,{onClose:this.handleClose,onKeyDown:this.handleKeyDown,onOuterClick:m},a.createElement("div",{className:N.container,"data-test-id":"dual-action-dialog"},s?null:a.createElement("div",{className:N.icon},a.createElement(o.Z,{kind:c.Kinds.EXCLAMATION_ALT,size:c.Sizes.L,colorState:c.ColorStates.WARNING_GRAD_RED})),a.createElement("div",{className:N.header},d?_:a.createElement("div",{className:N.title,"data-test-id":"title"},t),a.createElement("div",{className:N.close},a.createElement(i.default,{onClick:this.handleClose,kind:c.Kinds.CLOSE,size:c.Sizes.XS,title:e(C.close),"aria-label":e(C.close),"data-test-id":"close-btn",tabIndex:0}))),a.createElement("div",{className:N.message,"data-test-id":"message"},I),a.createElement("div",{className:N.controls},a.createElement(n.Z,{onClick:this.handlePrimaryButtonClick,style:A,"data-test-id":"primary-btn",disabled:h,overridingClass:R,tabIndex:0},O),a.createElement(n.Z,{onClick:this.handleSecondaryButtonClick,kind:l.F.SECONDARY,style:A,"data-test-id":"secondary-btn",tabIndex:0},D))))}}p(T,"contextTypes",{intl:S.intlShape.isRequired}),p(T,"defaultProps",{primaryButtonLabel:C.defaultprimaryButtonLabel,secondaryActionLabel:C.defaultsecondaryActionLabel,hideIcon:!1,disablePrimaryButton:!1});const h=T},549:(e,t,s)=>{"use strict";s.d(t,{C:()=>S});var a=s(45697),n=s.n(a),r=s(67294),o=s(73935),i=s(99095),l=s(12913),c=s(31280),d=s(41451),E=s(34656);let _,u;class m extends r.Component{render(){return null}}function S(e,t){if(_)return;_=document.createElement("div"),u=document.getElementById("app"),u.appendChild(_);const s=r.createElement(m,{context:t},e),a=(0,E.z)((0,d.Z)(function(e){class t extends r.Component{constructor(t){super(t),this.unmountModal.bind(this),this.children=e.props.children}getChildContext(){return{store:e.props.context.store,config:e.props.context.config,navigateTo:e.props.context.navigateTo,timezone:e.props.context.timezone,getStore:e.props.context.getStore,executeAction:e.props.context.executeAction,getTheme:e.props.context.getTheme,getCss:e.props.context.getCss,getThemeMode:e.props.context.getThemeMode,appId:e.props.context.appId,mailBrandNameString:e.props.context.mailBrandNameString}}componentWillUnmount(){u&&u.removeChild(_),_=null}unmountModal(){o.unmountComponentAtNode(_)}render(){const[t]=r.Children.toArray(this.children),s=this.children.props;return r.createElement(l.FluxibleComponent,{context:e.props.context},r.cloneElement(t,{onPrimaryButtonClick:e=>{this.unmountModal(),s.onPrimaryButtonClick(e)},onSecondaryButtonClick:e=>{this.unmountModal(),s.onSecondaryButtonClick(e)},onClose:e=>{this.unmountModal(),s.onClose&&s.onClose(e)},onAccept:()=>{this.unmountModal(),s.onAccept()}}))}}return t.childContextTypes={store:n().object,config:n().object,navigateTo:n().func,timezone:c.TimezoneType,getStore:n().func,executeAction:n().func,getTheme:n().func,getCss:n().func,getThemeMode:n().func,appId:n().string,mailBrandNameString:n().string},t}(s)));o.render(r.createElement(i.IntlProvider,window.AppIntl,r.createElement(a,null)),_)}},32665:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});s(45697);var a=s(67294),n=s(23224),r=s(75558),o=s.n(r),i=s(76223),l=s.n(i),c=s(61395),d=s.n(c),E=s(87232),_=(s(95406),s(43007));function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class S extends a.Component{constructor(...e){super(...e),m(this,"handleChange",(e=>{const{onChange:t}=this.props;t&&t(e.target.value)})),m(this,"handleFocus",(e=>{const{onFocus:t}=this.props;t&&t(e.target.value)})),m(this,"handleBlur",(e=>{const{onBlur:t}=this.props;t&&t(e.target.value)})),m(this,"handleClear",(()=>{const{onChange:e}=this.props;e&&e("")}))}render(){const{hint:e,error:t,kind:s,fujiIconProps:r,className:i,...c}=this.props,E=Boolean(e),m=Boolean(t),S=Boolean(r),p=l()(o(),{kind:s});return a.createElement("div",{className:p.inputContainer},a.createElement(n.Z,u({},c,{className:d()(p.inputField,i),onFocus:this.handleFocus,onChange:this.handleChange,onClear:this.handleClear,onBlur:this.handleBlur})),S&&a.createElement("div",{className:p.inputIcon},a.createElement(_.Z,r)),E&&!m&&a.createElement("div",{className:p.hint},e),m&&a.createElement("span",{"data-test-id":"input-error",className:p.error},t))}}m(S,"defaultProps",{hint:"",error:"",focusOnMount:!1,kind:E.F.DEFAULT,className:""});const p=S},34866:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(32591),i=s.n(o);const l=(0,s(95406).gP)(["LI","SPAN"]);const c=r()(i());class d extends a.Component{shouldComponentUpdate(){return!1}render(){const e=this.props.tagName===l.LI?"li":"span";return a.createElement(e,{className:c.flexSpacer})}}var E,_,u;E=d,_="defaultProps",u={kind:l.SPAN},_ in E?Object.defineProperty(E,_,{value:u,enumerable:!0,configurable:!0,writable:!0}):E[_]=u;const m=d},51135:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=(s(37422),s(95406),s(42907)),l=s(89287),c=s.n(l),d=s(69511);const E=(0,n.defineMessages)({ariaLabel:{id:"folder_label_with_count",defaultMessage:"{folderName}, {count, plural, =0 {} other {# unread}}"}});function _({folderDisplayType:e="",name:t,prefix:s="",count:n=0,isCenterJustified:r=!1},{intl:l}){const _=o()(c(),{isCenterJustified:r}),u=s+((0,i.h5)(l.formatMessage,e)||t),m=l.formatMessage(E.ariaLabel,{folderName:u,count:n}),S="rtl"===(0,d.getTextDirection)(u)?_.rtlIgnoreDirRTL:_.rtlIgnoreDirLTR;let p;return n&&(p=` (${l.formatNumber(n)})`),a.createElement("span",{className:p?_.container:"","aria-live":!0,role:"heading","aria-label":m},a.createElement("span",{className:S+" "+(p?_.label:""),"aria-hidden":!0,"data-test-folder-name":t},u),p?a.createElement("span",{className:_.count,"aria-hidden":!0},p):null)}_.contextTypes={intl:n.intlShape.isRequired};const u=_},30814:(e,t,s)=>{"use strict";s.d(t,{Z:()=>N});var a=s(67294),n=(s(45697),s(92743)),r=s(99095),o=s(85927),i=s(37422),l=s(56148),c=s(76531),d=s(65304),E=s(10728),_=s(31057),u=s(18525),m=s.n(u),S=s(76223),p=s.n(S),C=s(50621),A=s(43007),T=s(17016),h=s(3405);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const I=(0,r.defineMessages)({forward:{id:"photo.item.forward",defaultMessage:"Forward"},newDraft:{id:"fwdBtn.txt.new_draft",defaultMessage:"New Draft"},newSubject:{id:"fwdBtn.txt.new_subject",defaultMessage:"New Subject"}}),R=({name:e})=>[i.n8z.NEW_DRAFT,i.n8z.EDIT_DRAFT,i.n8z.MESSAGE_FROM_FOLDER_LIST].indexOf(e)>-1,O=p()(m()),D=(e,t)=>{const{draftRoutes:s,onForward:n,colorStates:r,onHide:o,...i}=e,{formatMessage:_}=t.intl,u=s.length,m=(e,t)=>{if(e.preventDefault(),t)return n(t);const s=(0,T.generateUID)();n(s,(0,h.Rl)(s))},S=u?{}:{onClick:m},p=a.createElement(l.Z,g({kind:c.Kinds.FORWARD,size:c.Sizes.XS,colorStates:r,title:_(I.forward)},i,S));return u?a.createElement(C.ZP,{align:d.xM.START,onHide:o,triggerOn:C.XU.CLICK,zAltitude:E.LSY.CURSOR,triggerOff:C.Es.HOVER_OUT|C.Es.CLICK,permittedArrowDirections:[d.Ji.ANY]},a.createElement("div",{"data-test-id":"forward-attachment-btn"},p),a.createElement("ul",{className:O.menuContainer,"data-test-id":"forward-attachment-menu"},s.map((({csid:e,title:t,disabled:s})=>{const n=a.createElement(a.Fragment,null,a.createElement(A.Z,{size:c.Sizes.XS,kind:c.Kinds.COMPOSE,colorState:s?c.ColorStates.DISABLED:c.ColorStates.INHERITED}),a.createElement("span",{className:O.menuText},t||_(I.newSubject)));return s?a.createElement("li",{key:e,className:O.menu},a.createElement("a",{title:t,className:O.disabledMenuItem},n)):a.createElement("li",{key:e,className:O.menu},a.createElement("a",{onClick:t=>m(t,e),title:t,className:O.menuItem},n))})),a.createElement("li",{className:O.separator}),a.createElement("li",{key:"new_draft",className:O.menu},a.createElement("a",{onClick:m,className:O.menuItem},a.createElement(A.Z,{kind:c.Kinds.ADD,colorState:c.ColorStates.INHERITED,size:c.Sizes.XS}),a.createElement("span",{className:O.menuText},_(I.newDraft)))))):p};D.defaultProps={draftRoutes:[],colorStates:{hovered:c.ColorStates.INVERTED,normal:c.ColorStates.INVERTED_LESS_DIM},onHide:()=>{}},D.contextTypes={intl:r.intlShape};const N=(0,n.connect)((e=>{const{getTabPages:t,getMessageSubject:s,getDraftMessageId:a,getAllDraftsInRoute:n,getSelectedAccountId:r,findUnsyncedDataByCsid:i,getReplyingToMessageId:l,getCompactComposeSessions:c,getSelectedAccountIdByRoute:d}=(0,o.selectors)(e),E=[],u=r(),m=(e,t,n)=>{let r;const o=a(t)||l(t);o&&(r=s(o,e)),r||(r=(i(t)||{}).subject),E.push({csid:t,title:r,disabled:n!==u})};return t().filter(R).forEach((e=>{const t=(0,_.LY)(e),s=n(e),a=d(e);s.forEach((e=>m(t,e,a)))})),c().forEach((({csid:e,accountId:t})=>{const s=(0,h.Rl)(e),a=(0,_.LY)(s);m(a,e,t)})),{draftRoutes:E}}))(D)},43007:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S,B:()=>p});s(45697);var a=s(67294),n=s(48726),r=s.n(n),o=s(76223),i=s.n(o),l=s(76531);s(95406);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const d={ADD:a.createElement("path",{d:"M13.75 9.25h-3v-3a.75.75 0 00-1.5 0v3h-3a.75.75 0 000 1.5h3v3a.75.75 0 001.5 0v-3h3a.75.75 0 000-1.5z"}),ADDATTACHMENT:a.createElement("g",null,a.createElement("path",{d:"M13.334 9.166h-2.5v-2.5a.835.835 0 00-1.668 0v2.5h-2.5a.835.835 0 000 1.668h2.5v2.5a.833.833 0 101.668 0v-2.5h2.5a.833.833 0 100-1.668z"}),a.createElement("path",{d:"M10 .834a9.166 9.166 0 100 18.333A9.166 9.166 0 0010 .834zM10 17.5A7.5 7.5 0 012.5 10c0-4.143 3.357-7.5 7.5-7.5s7.5 3.357 7.5 7.5a7.5 7.5 0 01-7.5 7.5z"})),ALIGN_CENTER:a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM6 7c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1H6zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM14 15H6c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),ALIGN_LEFT:a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM4 9h8c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM12 15H4c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),AOL_OFFICIAL:a.createElement("path",{d:"M18.2 13.7C16.8 16.8 13.7 19 10 19s-6.9-2.2-8.3-5.6h.8l.4-1h2.4l.4 1h2l-2.8-7H3.4L1.2 12c-.1-.7-.2-1.4-.2-2 0-5 4-9 9-9s9 4 9 9c0 .6-.1 1.2-.2 1.8-.2-.2-.5-.3-.7-.3-.6 0-1.1.5-1.1 1.1s.5 1.1 1.2 1.1c-.1 0-.1 0 0 0zm-3.6-.2h1.6V6.3h-1.6v7.2zM10.7 8c-2 0-2.8 1.6-2.8 2.8s.9 2.8 2.8 2.8 2.8-1.6 2.8-2.8c0-1.3-1-2.8-2.8-2.8zm0 4.1c-.7 0-1.3-.6-1.3-1.4 0-.8.6-1.4 1.3-1.4s1.3.7 1.3 1.4c0 .9-.6 1.4-1.3 1.4zM3.3 11l.8-2.4.8 2.4H3.3z"}),APP_HIDDEN:a.createElement("path",{d:"M15.9 6.2c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1C6.2 2.9 5.3 2 4.1 2 2.9 2 2 2.9 2 4.1c0 1.2.9 2.1 2.1 2.1zm11.8 5.9c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1C2.9 7.9 2 8.8 2 10c0 1.2.9 2.1 2.1 2.1zM15.9 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zM10 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1z"}),ARCHIVE:a.createElement("path",{d:"M17.25 7H11.767v.75a1.75 1.75 0 01-3.5 0V7H2.75a.75.75 0 00-.75.75v8.5c0 .414.336.75.75.75h14.5a.75.75 0 00.75-.75v-8.5a.75.75 0 00-.75-.75zM3 5h14a1 1 0 000-2H3a1 1 0 100 2z"}),ARROW_RIGHT_DOC:a.createElement("path",{d:"M7.252 17.785l7.468-7.786-7.469-7.784A.732.732 0 106.216 3.25l6.34 6.749-6.34 6.75a.733.733 0 101.037 1.036"}),ARROW_UP:a.createElement("path",{d:"M14.8 8.5l-5-5-5 5c-.3.3-.3.8 0 1.1s.8.3 1.1 0L9 6.4v9.4c0 .4.3.8.8.8s.8-.3.8-.8V6.4l3.2 3.2c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.8 0-1.1z"}),ATTACH:a.createElement("path",{d:"M16.7 16.5c-1.7 1.7-4.4 1.7-6.1 0l-3.9-3.9c-1-1-1.1-2.7 0-3.9 1.1-1.1 2.8-1.1 3.9 0l3.6 3.6c.3.3.3.8 0 1.1s-.8.3-1.1 0L9.6 9.9c-.5-.5-1.2-.5-1.7 0s-.5 1.2 0 1.7l4.1 4.1s1.8 1.5 3.6-.3c1.1-1.1 1.1-2.8 0-3.9L8.4 4.4c-1.1-1.1-2.8-1.1-3.9 0-2.1 2.1.4 4.1.4 4.1.3.3.3.8 0 1.1s-.8.3-1.1 0c0 0-3.8-2.9-.3-6.4 1.7-1.7 4.4-1.7 6.1 0l7.2 7.2c1.6 1.7 1.6 4.5-.1 6.1"}),ATTACHMENT:a.createElement("path",{d:"M15.6 14.4c-1.3 1.3-3.3 1.3-4.6 0l-2.9-2.9c-.8-.8-.8-2.1 0-2.9.8-.8 2.1-.8 2.9 0l2.7 2.7c.2.2.2.6 0 .8s-.6.2-.8 0l-2.7-2.7c-.3-.3-.9-.3-1.2 0s-.3.9 0 1.2l3.1 3.1s1.4 1.1 2.7-.2c.8-.8.8-2.1 0-2.9L9.3 5.3c-.8-.8-2.1-.8-2.9 0-1.6 1.6.2 3.1.2 3.1.2.2.2.6 0 .8s-.6.2-.8 0c0 0-2.8-2.2-.2-4.8 1.3-1.3 3.3-1.3 4.6 0l5.4 5.4c1.2 1.3 1.2 3.3 0 4.6"}),ATTACH_CAL:a.createElement("path",{d:"M16.36 4H14V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H7V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H3.64c-.35 0-.64.28-.64.64v10.73c0 .35.29.63.64.63h12.73c.35 0 .63-.28.63-.64V4.64a.638.638 0 00-.64-.64zM16 15H4v-5h12v5zm0-6H4V5h2v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h6v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h2v4z"}),ATTACH_DOC:a.createElement("path",{d:"M4.5 17V3h7v3.45c0 .3.25.55.55.55h3.45v10h-11zM16.34 6.19s-3.26-3.22-3.88-3.84c-.16-.14-.32-.33-.6-.35H4.23c-.4 0-.73.33-.73.73v14.55c0 .4.33.73.73.73h11.55c.4 0 .72-.33.72-.73V6.62a.684.684 0 00-.16-.43z"}),ATTACH_DOC_48:a.createElement("g",null,a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.3 0H3.643a.911.911 0 00-.911.911v18.22c0 .501.41.911.911.911h12.754c.501 0 .911-.41.911-.911V4.982a.748.748 0 00-.203-.534zm-.708 14.683H3.644V.911h8.199v3.872c0 .376.307.683.683.683h3.872v13.665z"}),a.createElement("path",{d:"M11.834 7.302l-5.48.99v7.514l5.48.991v-1.31h2.26c.277 0 .501-.179.501-.456s-.224-.455-.5-.455h-2.261v-.911h2.26c.277 0 .501-.179.501-.456s-.224-.455-.5-.455h-2.261v-.911h2.26c.277 0 .501-.179.501-.456s-.224-.455-.5-.455h-2.261v-.911h2.26c.277 0 .501-.179.501-.456s-.224-.455-.5-.455h-2.261V7.302zm-1.672 6.361c-.194.098-.485-.004-.715.011-.154-.745-.334-1.485-.473-2.234-.136.727-.312 1.448-.468 2.17a46.174 46.174 0 01-.672-.04c-.192-.99-.42-1.973-.6-2.966.2-.01.4-.017.598-.024.12.717.256 1.43.36 2.149.164-.736.331-1.472.494-2.208.22-.013.442-.022.662-.033.155.76.313 1.518.48 2.275.132-.782.277-1.56.417-2.34.233-.008.465-.02.696-.034-.262 1.09-.492 2.19-.78 3.274z"})),ATTACH_GDOCS_48:a.createElement("g",null,a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"}),a.createElement("path",{d:"M5.46 9.09v6.365c0 .502.407.909.91.909h7.272a.91.91 0 00.91-.91V9.092a.91.91 0 00-.91-.91H6.37a.91.91 0 00-.909.91zm4.856 5.455H6.983c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h3.333c.276 0 .5.179.5.455s-.224.454-.5.454zm2.727-1.818h-6.06c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h6.06c.276 0 .5.179.5.455s-.224.454-.5.454zM6.976 10h6.06c.276 0 .5.178.5.455 0 .276-.224.454-.5.454h-6.06c-.277 0-.5-.178-.5-.454 0-.277.223-.455.5-.455z"})),ATTACH_GENERIC_48:a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.3 0H3.643a.911.911 0 00-.911.911v18.22c0 .501.41.911.911.911h12.754c.501 0 .911-.41.911-.911V4.982a.748.748 0 00-.203-.534zM3.644 19.13V.911h8.199v3.872c0 .376.307.683.683.683h3.872v13.665H3.644z"}),ATTACH_GSHEETS_48:a.createElement("g",null,a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"}),a.createElement("path",{d:"M5.46 9.09v6.365c0 .502.407.909.91.909h7.272a.91.91 0 00.91-.91V9.092a.91.91 0 00-.91-.91H6.37a.91.91 0 00-.909.91zm2.128 5.455h-.605c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h.605c.277 0 .5.179.5.455s-.223.454-.5.454zm5.455 0H9.71c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h3.333c.276 0 .5.179.5.455s-.224.454-.5.454zm0-1.818H9.71c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h3.333c.276 0 .5.179.5.455s-.224.454-.5.454zM9.703 10h3.333c.276 0 .5.178.5.455 0 .276-.224.454-.5.454H9.703c-.277 0-.5-.178-.5-.454s.223-.455.5-.455zm-2.115 2.727h-.605c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h.605c.277 0 .5.179.5.455s-.223.454-.5.454zM6.976 10h.606c.276 0 .5.178.5.455 0 .276-.224.454-.5.454h-.606c-.277 0-.5-.178-.5-.454 0-.277.223-.455.5-.455z"})),ATTACH_GSLIDES_48:a.createElement("g",null,a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"}),a.createElement("path",{d:"M5.46 9.09v6.365c0 .502.407.909.91.909h7.272a.91.91 0 00.91-.91V9.092a.91.91 0 00-.91-.91H6.37a.91.91 0 00-.909.91zm8.182 4.092H6.37V9.09h7.273v4.09z"})),ATTACH_ICS_48:a.createElement("g",null,a.createElement("path",{d:"M19.09 2.73H15V1.365a.489.489 0 00-.455-.455.489.489 0 00-.454.455v1.363H5.909V1.366A.489.489 0 005.455.91.489.489 0 005 1.366v1.363H.91c-.5 0-.91.41-.91.91v14.545c0 .5.41.909.91.909h18.18c.5 0 .91-.41.91-.91V3.639c0-.5-.41-.909-.91-.909zm0 15.454H.91V3.638H5v.91c0 .227.227.454.455.454a.489.489 0 00.454-.455v-.909h8.182v.91c0 .227.227.454.454.454A.489.489 0 0015 4.547v-.909h4.09v14.546z"}),a.createElement("path",{d:"M8.218 10.962l-.447-.076 1.71-1.635c.268-.258.395-.411.395-.703 0-.337-.29-.458-.56-.458H5.873c-.237 0-.438.201-.438.439 0 .237.2.438.438.438H8.59l-1.757 1.77c-.223.222-.269.351-.269.477 0 .238.202.439.44.439h.24c1.01 0 1.612.42 1.612 1.125 0 .66-.504 1.106-1.227 1.106-.58 0-1.066-.184-1.53-.58a.505.505 0 00-.348-.138.532.532 0 00-.519.519c0 .144.078.281.161.363l.023.02c.59.506 1.308.752 2.194.752 1.385 0 2.315-.838 2.315-2.084 0-.992-.574-1.582-1.707-1.774zM14.036 7.989c-.2 0-.4.045-.686.123l-.995.291a.459.459 0 00-.351.448c0 .233.21.438.449.438.048 0 .135-.014.217-.034l.827-.244v5.211a.54.54 0 001.08 0V8.53a.54.54 0 00-.54-.54z"})),ATTACH_IMAGE:a.createElement("path",{d:"M16.36 4H3.64c-.35 0-.64.28-.64.64v10.73c0 .34.29.63.64.63h12.73c.35 0 .63-.29.63-.64V4.64a.638.638 0 00-.64-.64zM16 5v8.5l-4-5-2.95 3.64L7 9.5l-3 3.2V5h12zM6.77 15H4v-.91L7 11l1.44 1.89L6.77 15zM8 15l4-5 4 5H8z"}),ATTACH_IMAGE_48:a.createElement("path",{d:"M19.09 1.82H.91c-.5 0-.91.4-.91.91v14.55c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V2.73a.9.9 0 00-.91-.91zM.91 17.27v-1.02l4.55-5.54L8.2 14l-2.74 3.28-4.55-.01zm5.68 0L12.73 10l6.36 7.27H6.59zm12.5-1.36l-6.36-7.27-3.94 4.65-3.34-4-4.54 5.53V2.73h18.18v13.18z"}),ATTACH_MOVIE_48:a.createElement("g",null,a.createElement("path",{d:"M7.918 12.67c.061 0 .1-.02.17-.06l4.03-2.345c.125-.072.178-.167.178-.261s-.064-.19-.188-.261L8.062 7.398c-.071-.041-.082-.06-.142-.06-.149 0-.193.117-.193.32V12.35c0 .203.044.322.191.322z"}),a.createElement("path",{d:"M19.09 1.822H.91a.91.91 0 00-.91.91v14.545c0 .502.407.909.91.909h18.18a.91.91 0 00.91-.91V2.732a.91.91 0 00-.91-.909zm0 15.455H.91V2.73h18.18v14.546z"})),ATTACH_PDF_48:a.createElement("g",null,a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"}),a.createElement("path",{d:"M11.591 12.67a11.06 11.06 0 01-1.26-1.681c.171-.789.26-1.517.27-2.065l.003-.103c.015-.623.04-1.667-.863-1.857a.982.982 0 00-.782.16 1.096 1.096 0 00-.442.75c-.11.921.332 2.123.978 3.243-.171.709-.41 1.449-.71 2.123a8.028 8.028 0 00-1.954 1.077c-1.092.787-.985 1.37-.824 1.647.147.253.44.393.759.393.156 0 .32-.033.476-.104.887-.405 1.589-1.313 2.116-2.388a7.988 7.988 0 011.915-.393c.582.585 1.385 1.225 2.123 1.245.712.019 1.072-.373 1.12-.769.052-.421-.254-.953-1.045-1.127a7.527 7.527 0 00-1.88-.151zm-4.675 2.868a.335.335 0 01-.215.028c.028-.089.166-.308.596-.617.277-.208.562-.391.851-.55-.357.52-.769.928-1.232 1.139zm2.38-7.571a.318.318 0 01.12-.205.177.177 0 01.108-.035.26.26 0 01.055.006c.244.051.252.535.24 1.07l-.002.106a8.298 8.298 0 01-.082.954c-.329-.74-.495-1.416-.438-1.896zm.465 4.964c.114-.302.217-.61.307-.915.182.26.372.51.562.742a8.753 8.753 0 00-.869.173zm3.542.657c.336.074.437.23.435.263-.007.015-.089.095-.321.081-.214-.006-.548-.141-.973-.466.31.023.6.066.859.122z"})),ATTACH_PPT_48:a.createElement("g",null,a.createElement("path",{d:"M8.767 11.032v.934c.228.018.45.06.59-.175.104-.178.095-.503-.026-.64-.157-.177-.36-.151-.564-.12z"}),a.createElement("path",{d:"M11.821 10.818h-.007V7.286l-5.467.99v7.497l5.467.989v-2.217h2.264a.457.457 0 00.454-.454.453.453 0 00-.454-.455h-2.264v-1.294h.005a1.372 1.372 0 002.492-.521h-1.548v-.002h-.03v-1.583a1.371 1.371 0 00-.912.582zm-1.761.99c-.087.37-.327.63-.705.722-.188.046-.39.037-.604.055v1.055h-.573v-3.187c.442 0 .881-.012 1.32.009.115.005.248.09.333.178.326.335.326.752.229 1.167z"}),a.createElement("path",{d:"M13.188 10.235v1.13h1.123a1.367 1.367 0 00-1.123-1.13z"}),a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"})),ATTACH_SOUND_48:a.createElement("g",null,a.createElement("path",{d:"M19.09 1.822H.91a.91.91 0 00-.91.91v14.545c0 .502.407.909.91.909h18.18a.91.91 0 00.91-.91V2.732a.91.91 0 00-.91-.909zm0 15.455H.91V2.73h18.18v14.546z"}),a.createElement("path",{d:"M11.818 11.81a.453.453 0 00.455-.452V7.746c0-.25-.204-.451-.455-.451s-.454.202-.454.451v3.612c0 .25.203.452.454.452zM13.636 11.353a.453.453 0 00.455-.451V9.547c0-.25-.204-.451-.455-.451s-.454.202-.454.451v1.355c0 .25.203.451.454.451zM8.182 14.067a.453.453 0 00.454-.451V6.392a.453.453 0 00-.454-.452.453.453 0 00-.455.452v7.224c0 .25.204.451.455.451zM10 13.165a.453.453 0 00.455-.452V9.101c0-.25-.204-.452-.455-.452s-.455.203-.455.452v3.612c0 .25.204.452.455.452zM6.364 12.274a.454.454 0 00.454-.455V8.637a.454.454 0 10-.909 0v3.182c0 .251.204.455.455.455z"})),ATTACH_XLS_48:a.createElement("g",null,a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"}),a.createElement("path",{d:"M12.18 9.545c0-.228-.157-.383-.366-.432V7.286l-5.467.99v7.497l5.467.989v-1.33c.21-.049.365-.204.365-.432s-.156-.383-.365-.432v-.954c.21-.05.365-.204.365-.432s-.156-.383-.365-.432v-.954c.21-.05.365-.204.365-.432 0-.229-.156-.383-.365-.433v-.953c.21-.05.365-.204.365-.433zm-2.587 4.222c-.191-.463-.425-.91-.562-1.394-.153.45-.372.876-.548 1.317a27.416 27.416 0 01-.74-.023c.29-.558.569-1.12.867-1.675-.253-.572-.532-1.132-.793-1.7.248-.015.496-.03.744-.042.168.433.352.862.49 1.307.149-.472.371-.916.562-1.372.254-.017.51-.033.766-.045a229.97 229.97 0 01-.91 1.818c.31.622.627 1.238.938 1.86a65.72 65.72 0 01-.814-.051zM13.233 13.636h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.179-.5.455s.223.454.5.454zM13.233 15.455h.837c.276 0 .5-.179.5-.455s-.224-.455-.5-.455h-.837c-.277 0-.5.179-.5.455s.223.455.5.455zM13.233 11.818h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.179-.5.455s.223.454.5.454zM13.233 10h.837c.276 0 .5-.178.5-.455 0-.276-.224-.454-.5-.454h-.837c-.277 0-.5.178-.5.454s.223.455.5.455z"})),ATTACH_ZIP_48:a.createElement("g",null,a.createElement("path",{d:"M4.272 15.458h-.365c-.151 0-.27.137-.27.287v.364c0 .15.119.258.27.258h.365c.151 0 .273-.107.273-.258v-.364c0-.15-.122-.287-.273-.287zM3.907 14.55h.365c.151 0 .273-.109.273-.26v-.363c0-.15-.122-.287-.273-.287h-.365c-.151 0-.27.136-.27.287v.364c0 .15.119.258.27.258zM5.181 14.55H4.82a.273.273 0 00-.274.272v.364c0 .15.123.272.274.272h.362a.273.273 0 00.274-.272v-.364a.273.273 0 00-.274-.273zM5.181 12.731H4.82a.273.273 0 00-.274.273v.364c0 .15.123.272.274.272h.362a.273.273 0 00.274-.272v-.364a.273.273 0 00-.274-.273zM3.907 12.731h.365c.151 0 .273-.108.273-.258v-.364c0-.15-.122-.287-.273-.287h-.365c-.151 0-.27.136-.27.287v.364c0 .15.119.258.27.258zM5.196 8.64H3.91a.273.273 0 00-.273.273v1.713c0 .158.13.287.287.287h.622v.65c0 .151.123.259.273.259h.366c.151 0 .27-.108.27-.258V8.899a.258.258 0 00-.258-.259z"}),a.createElement("path",{d:"M19.09 4.55h-8.808L9.176 2.215c-.11-.222-.296-.394-.54-.394H.86a.907.907 0 00-.856.904v.454H0v14.097c0 .502.407.909.91.909h18.18c.5 0 .91-.41.91-.91V5.459a.91.91 0 00-.91-.909zm0 12.727H5.456v-.637a.273.273 0 00-.274-.273H4.82a.273.273 0 00-.274.273v.637H.91V2.73h7.503L9.53 5.197c.074.16.235.261.411.261h9.149v11.819z"})),ATTENTION:a.createElement("path",{d:"M10.727 10.727a.728.728 0 01-1.454 0V6.364a.727.727 0 011.454 0v4.363zM10 14.364a.727.727 0 110-1.454.727.727 0 010 1.454zM10 2c-4.411 0-8 3.589-8 8s3.589 8 8 8c4.41 0 8-3.589 8-8s-3.59-8-8-8z"}),BELL:a.createElement("path",{d:"M18.132 15.148a.94.94 0 01-.738 1.519c-.026 0-.052-.003-.077-.004H2.684a.94.94 0 01-.815-1.515h-.001s.095-.13.314-.301c.062-.049.564-.468.969-1.2.078-.143.311-.647.348-.749.1-.276.17-.612.277-1.092.255-1.648.239-3.996.239-3.996A5.987 5.987 0 018.75 1.8v-.134a1.249 1.249 0 112.5 0V1.8c2.707.576 4.74 2.975 4.74 5.85l-.002.16s-.018 2.348.237 3.996c.108.48.177.815.278 1.092.037.102.269.607.348.749.405.733.907 1.152.969 1.2.217.171.312.301.312.301zM10 19.583A2.083 2.083 0 017.917 17.5h4.167A2.084 2.084 0 0110 19.583z"}),BOLD:a.createElement("path",{d:"M15.2 8.9c.3-.6.4-1.2.4-1.8 0-2.2-1.8-4-4-4H5.1C4.5 3 4 3.5 4 4.1v11.8c0 .6.5 1.1 1.1 1.1h7.1c2.6 0 4.6-2.1 4.6-4.6 0-1.4-.6-2.7-1.6-3.5zM14 12.7c0 .9-.7 1.6-1.6 1.6H6.8v-3.1h5.7c.8-.1 1.5.6 1.5 1.5zM6.8 8.3V5.8h4.8c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3H6.8v-.1z"}),CALENDAR:a.createElement("path",{d:"M18 3.496h-3.001v-.46a1 1 0 10-2 0v.46h-6v-.46a1 1 0 10-1.999 0v.46H2c-.633 0-1 .359-1 1v11.5c0 .641.367 1 1 1h16c.633 0 1-.359 1-1v-11.5c0-.641-.367-1-1-1zm-7.95 8.276v.002c0 1.296-.944 2.247-2.475 2.247-.982 0-1.717-.305-2.277-.785a.752.752 0 01-.254-.54c0-.393.332-.727.725-.727.217 0 .362.089.482.187.392.334.805.51 1.343.51.57 0 .972-.324.972-.834v-.02c0-.56-.5-.873-1.344-.873h-.236a.653.653 0 01-.647-.646c0-.208.088-.384.324-.62L7.998 8.33H5.886a.655.655 0 01-.648-.65c0-.351.296-.647.648-.647h3.347c.441 0 .765.255.765.668 0 .373-.175.579-.452.844L8.203 9.829c.932.158 1.846.648 1.846 1.924v.019zm4.205 2.19a.746.746 0 01-.746-.746v-4.75l-.531.137c-.078.02-.186.04-.265.04a.662.662 0 01-.656-.647c0-.305.195-.561.498-.648l.973-.284c.284-.08.5-.128.707-.128h.019c.412 0 .746.333.746.745v5.535h.001a.746.746 0 01-.746.746z"}),CALENDAR_EMPTY:a.createElement("path",{d:"M18 3.496h-3.001v-.46a1 1 0 10-2 0v.46h-6v-.46a1 1 0 10-1.999 0v.46H2c-.633 0-1 .359-1 1v11.5c0 .641.367 1 1 1h16c.633 0 1-.359 1-1v-11.5c0-.641-.367-1-1-1z"}),CALENDAR_SETTINGS:a.createElement("path",{d:"M19 7V4.496c0-.641-.367-1-1-1h-3.001v-.46a1 1 0 10-2 0v.46h-6v-.46a1 1 0 10-1.999 0v.46H2c-.633 0-1 .359-1 1V7h18zM1 8.5v7.496c0 .641.367 1 1 1h16c.633 0 1-.359 1-1V8.5H1z"}),CAL_ACCEPT:a.createElement("path",{d:"M14.1 7.3c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0l1.6 1.6L13 7.3c.4-.3.8-.3 1.1 0zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_DECLINE:a.createElement("path",{d:"M11.1 10l2.3 2.4c.3.3.3.8 0 1.1s-.8.3-1.1 0L10 11.1l-2.4 2.4c-.3.3-.8.3-1.1 0-.3-.3-.3-.8 0-1.1L8.9 10 6.6 7.6c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0L10 8.9l2.3-2.3c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1L11.1 10zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_MAYBE:a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 13c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm.8-4.1v.4c0 .4-.3.7-.7.7s-.7-.3-.7-.7v-1c0-.4.3-.7.7-.7.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5-1.7.7-1.6 1.6c0 .5-.3.8-.7.8-.5 0-.8-.3-.8-.8C6.9 6.5 8.4 5 10 5s3 1.3 3 3c0 1.4-1 2.6-2.2 2.9z"}),CHECKBOX_OFF:a.createElement("path",{d:"M14.5 17h-9C4.1 17 3 15.9 3 14.5v-9C3 4.1 4.1 3 5.5 3h9C15.9 3 17 4.1 17 5.5v9c0 1.4-1.1 2.5-2.5 2.5zm-9-13C4.7 4 4 4.7 4 5.5v9c0 .8.7 1.5 1.5 1.5h9c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5h-9z"}),CHECKBOX_ON:a.createElement("path",{d:"M14.5 3h-9A2.503 2.503 0 003 5.5v9C3 15.878 4.122 17 5.5 17h9c1.378 0 2.5-1.122 2.5-2.5v-9C17 4.122 15.878 3 14.5 3zm-.208 4.713L8.5 13.5l-2.792-2.624a.71.71 0 111.005-1.004L8.5 11.5l4.786-4.792a.711.711 0 011.006 1.005z"}),CHECKMARK:a.createElement("path",{d:"M7.2 14.1l-3.5-3.5c-.3-.3-.3-.7 0-1s.8-.3 1 0l3 2.9 7.4-7.3c.3-.3.8-.3 1 0 .3.3.3.7 0 1L8.2 14c-.2.3-.7.3-1 .1z"}),CHEVRON_UP:a.createElement("path",{d:"M13.5 12.75a.748.748 0 01-.53-.22L10 9.56l-2.97 2.97a.75.75 0 11-1.06-1.06L10 7.44l4.03 4.03a.75.75 0 01-.53 1.28z"}),CIRCLE:a.createElement("circle",{cx:"10",cy:"10",r:"4"}),CLEAR:a.createElement("path",{d:"M10 2a8 8 0 100 16 8 8 0 000-16zm3.445 10.68a.541.541 0 11-.765.765L10 10.765l-2.68 2.68a.541.541 0 11-.765-.765L9.235 10l-2.68-2.68a.541.541 0 11.766-.765L10 9.235l2.68-2.68a.541.541 0 11.765.766L10.765 10l2.68 2.68z"}),CLOCK:a.createElement("path",{d:"M11.974 12.701a.704.704 0 01-.998 0l-1.395-1.395a.717.717 0 01-.309-.58V7.09a.727.727 0 111.456 0v3.366l1.247 1.247a.704.704 0 010 .997l-.001.001zM10 2a8 8 0 100 16 8 8 0 000-16z"}),CLOCK_OUTLINE:a.createElement("g",null,a.createElement("path",{d:"M10 16.5c3.6 0 6.5-2.9 6.5-6.5S13.6 3.5 10 3.5 3.5 6.4 3.5 10s2.9 6.5 6.5 6.5zm0 1.5c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"}),a.createElement("path",{d:"M12.3 11.8c.3.2.4.7.1 1-.2.3-.7.4-1 .1L9 11.1V6.5c0-.4.3-.7.7-.7s.7.3.7.7v3.9l1.9 1.4z"})),CLOSE:a.createElement("path",{d:"M10 9l5.1-5.1c.3-.3.7-.3 1 0 .3.3.3.7 0 1L11 10l5.1 5.1c.3.3.3.7 0 1-.3.3-.7.3-1 0L10 11l-5.1 5.1c-.3.3-.7.3-1 0-.3-.3-.3-.7 0-1L9 10 3.9 4.9c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9z"}),CLOSE_MINI:a.createElement("path",{d:"M12.8 13.8L10 11l-2.8 2.8c-.3.3-.7.3-1 0s-.3-.7 0-1L9 10 6.2 7.2c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9l2.8-2.8c.3-.3.7-.3 1 0s.3.7 0 1L11 10l2.8 2.8c.3.3.3.7 0 1s-.7.3-1 0z"}),COLLAPSE_LIST:a.createElement("path",{d:"M12 2.5H8c-.2 0-.3.2-.1.4L10 5l2.1-2.1c.2-.2.1-.4-.1-.4zm-4 15h4c.2 0 .3-.2.1-.4L10 15l-2.1 2.1c-.2.2-.1.4.1.4zm8.5-6.5h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1s-.4-1-1-1zm-13-2h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),COMPOSE:a.createElement("path",{d:"M8.79 15.834a.576.576 0 01-.333.167c-.055.015-3.957 0-3.957 0-.3.005-.505-.243-.5-.542v-3.855c0-.148.059-.291.164-.397l4.174-4.169 4.624 4.624-4.172 4.172zm4.961-4.96L9.127 6.25l2.078-2.075c.214-.215.576-.24.783-.032l3.864 3.881a.55.55 0 01-.022.774l-2.079 2.077z"}),COMPOSE_EMOJI:a.createElement("path",{d:"M10 1.6c-4.7 0-8.5 3.8-8.5 8.5s3.8 8.5 8.5 8.5 8.5-3.8 8.5-8.5-3.8-8.5-8.5-8.5zm0 15.3c-3.8 0-6.9-3.1-6.9-6.9S6.2 3.2 10 3.2s6.9 3.1 6.9 6.9-3 6.8-6.9 6.8zm-2.5-9c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.6-1.2-1.2.5-1.2 1.2-1.2zm5.3 0c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.5-1.2-1.2.6-1.2 1.2-1.2zm.74 4.66c-.48 1.06-2.03 2.04-3.41 2.04s-2.93-.97-3.41-2.04c-.47-1.06.79-.96.79-.96h5.24c.01 0 1.27-.1.79.96z"}),CONTACT_CARD:a.createElement("path",{d:"M17.3 3H2.7c-.4 0-.7.3-.7.7v12.6c0 .4.3.7.7.7h14.6c.4 0 .7-.3.7-.7V3.7c0-.4-.3-.7-.7-.7zM5.5 7.7c.2-.7.8-1.3 1.6-1.5 1.5-.3 2.9 1 2.5 2.5-.2.8-.8 1.4-1.6 1.6-1.5.3-2.8-1-2.5-2.6zm5.1 6.8h-6c-.6 0-.9-.6-.6-1.1.7-1 2.1-1.7 3.6-1.7s2.9.7 3.6 1.7c.3.4-.1 1.1-.6 1.1zm5.2-1.3H14c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h1.8c.4 0 .7.3.7.7s-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7z"}),CONTACTCARD_OUTLINE:a.createElement("path",{d:"M15 12.5h-.83c-.46 0-.83.37-.83.83s.37.83.83.83H15c.46 0 .83-.37.83-.83s-.37-.83-.83-.83zm-1.67-1.67H15c.46 0 .83-.37.83-.83s-.37-.83-.83-.83h-1.67c-.46 0-.83.37-.83.83 0 .46.37.83.83.83zm0-3.33H15c.46 0 .83-.37.83-.83s-.37-.84-.83-.84h-1.67c-.46 0-.83.37-.83.83s.37.84.83.84zm4.17 8.33h-4.17c-.54-1.9-2.35-3.33-5.46-3.33s-4.83 1.43-5.37 3.33V4.17h15v11.66zm-13.08 0c.57-.97 1.45-1.67 3.45-1.67s2.96.7 3.54 1.67H4.42zM18.33 2.5H1.67c-.46 0-.83.37-.83.83v13.33c0 .46.37.83.83.83h16.67c.46 0 .83-.37.83-.83V3.33c0-.46-.38-.83-.84-.83zm-10.41 5a1.25 1.25 0 110 2.5 1.25 1.25 0 010-2.5zm0 4.17c1.61 0 2.92-1.31 2.92-2.92S9.53 5.83 7.92 5.83C6.31 5.83 5 7.14 5 8.75s1.31 2.92 2.92 2.92z"}),CONTRACT:a.createElement("path",{d:"M11 4.1v4.3c0 .3.3.6.6.6H16c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM9 16v-4.3c0-.4-.3-.7-.6-.7H3.9c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3L8 16.5c.1.2.3.2.4.2.3 0 .5-.2.6-.5V16z"}),DEALS:a.createElement("path",{d:"M16.823 9.802l-6.49-6.608A.642.642 0 009.87 3H3.657a.648.648 0 00-.648.648v6.215c0 .175.069.341.193.463l6.603 6.488a.65.65 0 00.913-.004l6.1-6.094a.65.65 0 00.005-.914zM6.896 8.126a1.273 1.273 0 01-1.278-1.268c0-.7.572-1.268 1.278-1.268.705 0 1.277.568 1.277 1.268 0 .7-.572 1.268-1.277 1.268z"}),DELETE:a.createElement("path",{d:"M3.994 17.209c0 .41.335.79.745.79H15.26c.41 0 .733-.386.733-.796V7h-12v10.209zm7.256-6.945a.75.75 0 111.502 0v4.49a.75.75 0 01-1.502 0v-4.49zm-4 0a.75.75 0 111.502 0v4.49a.75.75 0 01-1.502 0v-4.49zM17 3H12.74v-.076c0-.51-.337-.924-.762-.924H8.01c-.426 0-.774.414-.774.924V3H3a1 1 0 100 2h14a1 1 0 000-2z"}),DEVICE_PHONE:a.createElement("path",{d:"M14.7 1H5.8c-.4 0-.8.4-.8.8v16.4c0 .5.3.8.8.8h8.9c.4 0 .8-.4.8-.8V1.8c0-.4-.3-.8-.8-.8zm-4.4 16.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm3.7-4.3H6.5V2.5H14v10.9z"}),CAR:a.createElement("path",{d:"M17.868 7.572l-1.325-3.61A4.545 4.545 0 0012.271 1H7.729a4.545 4.545 0 00-4.272 2.962l-1.325 3.61A3.743 3.743 0 000 10.972v4.356C0 16.362.814 17.2 1.818 17.2v.45c0 .745.611 1.35 1.364 1.35s1.364-.605 1.364-1.35v-.45h10.909v.45c0 .745.611 1.35 1.364 1.35.753 0 1.364-.605 1.364-1.35v-.45c1.005 0 1.818-.838 1.818-1.872v-4.356a3.745 3.745 0 00-2.133-3.4zM5.166 4.578A2.734 2.734 0 017.729 2.8h4.542c1.143 0 2.173.715 2.563 1.778l.973 2.722H4.193l.973-2.722zM3.636 13.6c-1.005 0-1.818-.806-1.818-1.8S2.632 10 3.636 10s1.818.806 1.818 1.8-.813 1.8-1.818 1.8zm12.728 0c-1.004 0-1.818-.806-1.818-1.8s.814-1.8 1.818-1.8c1.005 0 1.818.806 1.818 1.8s-.814 1.8-1.818 1.8z"}),DOCUMENTS_S:a.createElement("path",{d:"M10.969 2.994H5.111a.613.613 0 00-.611.611v12.783c0 .337.275.612.611.612h9.777a.613.613 0 00.612-.612V7.525a.607.607 0 00-.179-.432l-3.92-3.92a.612.612 0 00-.432-.179zm-.005 4.534V4.473l3.055 3.055h-3.055z"}),DOWNLOAD:a.createElement("path",{d:"M16.8 13.5c-.4 0-.8.3-.8.8v1.2H4v-1.3c0-.4-.3-.7-.7-.7s-.8.3-.8.8v2c0 .4.3.7.8.7H17c.4 0 .5-.3.5-.7v-2c0-.5-.3-.8-.7-.8zM9.5 13.1c.3.2.7.2.9 0l3.9-3.6c.3-.3.3-.7 0-1-.1-.1-.3-.2-.5-.2l-2.3.5V3.1c0-.3-.3-.6-.6-.6H9.1c-.3 0-.6.3-.6.6v5.7l-2.3-.5c-.2 0-.3 0-.5.2-.3.3-.3.7 0 1l3.8 3.6z"}),DRAFTS:a.createElement("path",{d:"M13.083 8.52H7.06a.753.753 0 110-1.506h6.023a.753.753 0 110 1.506zm-.037 2.99h-5.99a.749.749 0 110-1.498h5.99a.749.749 0 110 1.497zm2.767-9.498H4.258a.734.734 0 00-.722.74v14.26c0 .572.634.917 1.114.607l1.678-1.239 1.388 1.208c.253.195.603.201.862.015l1.457-1.221 1.458 1.221c.26.186.61.18.862-.015l1.387-1.208 1.68 1.239a.722.722 0 001.114-.607V2.752a.734.734 0 00-.723-.74z"}),EMOJI_FOOD_AND_DRINK:a.createElement("path",{d:"M18.3 14.1c0-.6-.5-1.1-1.1-1.1H17c.7 0 1.2-.7 1-1.4-.6-2-2.3-3.4-4.5-3.4H10l.4-3.2H8.9l.7-2.3 2.2.8c.1 0 .2 0 .2-.1l.2-.7c0-.1 0-.2-.1-.2l-2.6-.8c-.3-.1-.6.1-.7.4l-.9 3.1H1.7l1.6 13.2H16.2c.8 0 1.6-.7 1.6-1.6v-.9c0-.2-.1-.5-.2-.7.3-.2.7-.6.7-1.1zm-15.6-8h6.7l-.2 2.2h-.3c-2.1 0-3.9 1.4-4.5 3.4-.2.7.3 1.4 1 1.4h-.1c-.6 0-1.1.5-1.1 1.1 0 .5.3.9.8 1-.2.2-.2.5-.2.7v.9c0 .2.1.4.2.6h-.9L2.7 6.1zm14 10.6c0 .3-.2.5-.5.5H6.3c-.3 0-.5-.2-.5-.5v-.9c0-.1.1-.2.2-.2h10.7c.1 0 .2.1.2.2v.9h-.2zm-5.4-1.5L5.8 13h10.9l-5.4 2.2zm5.1-3.1H6.1c-.4 0-.7-.5-.5-.8.6-1.2 1.9-2 3.3-2h4.7c1.4 0 2.6.8 3.3 2 .1.3-.1.8-.5.8z"}),ENTER:a.createElement("path",{d:"M8 6.8c.3-.3.8-.3 1.1 0s.3.8 0 1.1L6.9 10h7.6V4.8c0-.4.3-.8.8-.8.4 0 .7.3.7.8v6c0 .5-.4.8-.7.8H6.9l2.2 2.2c.1.1.2.3.2.5s-.1.4-.2.5c-.3.3-.8.3-1.1 0l-4-4 4-4z"}),EXCLAMATION:a.createElement("path",{d:"M9 11V6a1 1 0 112 0v5a1 1 0 01-2 0zm1 4a1 1 0 110-2 1 1 0 010 2m0-12c-3.858 0-6.999 3.14-6.999 7s3.14 7 7 7C13.858 17 17 13.86 17 10s-3.14-7-7-7m0 16c-4.962 0-9-4.038-9-9s4.038-9 9-9c4.961 0 9 4.038 9 9s-4.039 9-9 9"}),EXCLAMATION_ALT:a.createElement("path",{d:"M2.097 15.85a.776.776 0 00.68 1.15h14.446c.59 0 .964-.633.68-1.15L10.68 2.66a.775.775 0 00-1.36 0L2.098 15.85zm8.68-4.282a.777.777 0 01-1.553 0V8.464a.776.776 0 111.553 0v3.104zM10 15.448a.776.776 0 110-1.553.776.776 0 010 1.552z"}),EXPAND:a.createElement("path",{d:"M2 13.1v4.3c0 .3.3.6.6.6H7c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM18 6.9V2.6c0-.3-.3-.6-.6-.6H13c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3 1 1.6c.1.2.3.2.4.2.3 0 .5-.2.6-.5v-.3z"}),EXPAND_LIST:a.createElement("path",{d:"M8 8h4c.2 0 .3-.2.1-.4L10 5.5 7.9 7.6c-.2.2-.1.4.1.4zm4 4H8c-.2 0-.3.2-.1.4l2.1 2.1 2.1-2.1c.2-.2.1-.4-.1-.4zm4.5 3h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1 0-.5-.4-1-1-1zM3.5 5h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),FEEDBACK:a.createElement("path",{d:"M4.91 7.79c-.8.29-1.8.43-3 .42-.51 0-.91.55-.91.88v9.07c0 .54.36.83.91.84h13.51c.93-.14 1.78-.63 1.78-1.76 0-.32-.26-.71-.77-1.15 1-.25 1.5-.7 1.5-1.37 0-.46-.29-.84-.89-1.1 1-.39 1.51-.93 1.51-1.6 0-.42-.27-.79-.8-1.11.84-.33 1.25-.82 1.25-1.47 0-1.17-1.19-2.1-2.57-2.1h-4.6l.1-.3c.32-.97.42-2.2.25-3.5-.18-1.37-.62-2.32-1.77-2.51-1.14-.17-1.93.49-1.97 1.47v.35c-.01 2.54-2.33 4.51-3.53 4.94z"}),FINANCE:a.createElement("path",{d:"M17.5 3.5v1.7l-6.2 6.2-3.9-3.6-4.9 5.4v-1.7l4.9-5.4 3.9 3.6 6.2-6.2zm-6 9.8l6-6.2v9.4h-15v-1.09L7.4 9.9l4.1 3.4z"}),FOLDER:a.createElement("path",{d:"M2.5 15.8c0 .4.3.7.7.7h13.6c.4 0 .7-.3.7-.7V10h-15v5.8zM16.8 5h-6.3l-.8-1.6C9.6 3.2 9.3 3 9 3H3.2c-.4 0-.7.3-.7.7v4.8h15V5.7c0-.4-.3-.7-.7-.7z"}),FORWARD:a.createElement("path",{d:"M10.442 16.956a.775.775 0 01-1.238-.619V14h-6.94c-.427 0-.764-.372-.764-.8V7.794c0-.427.337-.793.764-.793h6.94V4.695c0-.705.767-.971 1.238-.62l7.74 5.809c.363.273.456.895 0 1.238l-7.74 5.834z"}),GETAWAYFILL:a.createElement("path",{d:"M17.1 16.2c.4-.3 1-.8 2-.8V17c-.5 0-.6.2-1 .5-.3.3-1 .8-2 .8-.9 0-1.5-.5-1.9-.8s-.6-.5-1-.5c-.5 0-.7.2-1 .5-.5.3-1 .8-2.1.8-1.16 0-1.75-.5-2.14-.8-.34-.3-.53-.5-1-.5s-.65.2-1 .5c-.42.3-.99.8-2.05.8-1.07 0-1.64-.5-2.06-.8-.34-.3-.53-.5-1-.5v-1.6c1.06 0 1.63.5 2.06.8.34.3.53.4 1 .4s.65-.1 1-.4c.42-.3.99-.8 2.05-.8 1.07 0 1.64.5 2.06.8.33.3.5.4.98.4.5 0 .6-.1 1-.4.5-.3 1-.8 2.1-.8 1 0 1.5.5 2 .8.4.3.5.4 1 .4s.7-.1 1-.4zM5.91 7.75c-1.37-.4-2.34-1.91-2.44-2.09a.819.819 0 01.21-1.1c2.15-1.6 4.84-2.22 7.52-1.75v-.45c.2-.44.6-.71 1-.59.5.12.8.58.6 1.02l-.1.45c2.5.89 4.4 2.75 5.4 5.21.3.4.2.9-.2 1-.3.1-1.3.75-2.4.75-.4 0-.5 0-.9-.1-.7-.25-1.4-.95-1.8-1.45-.4.2-1 .3-1.6.3L9.69 14.5c-.1.4-.42.6-.84.6h-.16c-.48-.1-.74-.6-.62-1.1l1.45-5.45c-.5-.3-.92-.7-1.18-1.1-.62.3-1.56.5-2.43.3z"}),GIF_BOX:a.createElement("g",null,a.createElement("path",{d:"M18.787 3.226C18.69 3.128 18.496 3 18.301 3H1.767C1.341 3 1 3.396 1 3.813v13.405a.76.76 0 00.767.782h16.534c.486 0 .699-.235.699-.783V3.715a.756.756 0 00-.213-.489zM17.5 16.5h-15v-12h15v12z"}),a.createElement("path",{d:"M13 11h2.5v-1H13V9h3V8h-4v5h1zM10.002 8H11v5h-.998zM6.488 13.067c.434 0 .799-.085 1.097-.255.173-.097.368-.265.585-.503l.113.691H9v-2.753H7v.836h1.031a1.291 1.291 0 01-.446.797c-.241.203-.551.304-.928.304a1.55 1.55 0 01-1.031-.384c-.302-.256-.453-.692-.453-1.308 0-.612.14-1.07.419-1.374s.634-.458 1.068-.458c.227 0 .432.037.618.112.331.136.561.386.646.728H9a1.778 1.778 0 00-.704-1.218c-.416-.323-.966-.485-1.651-.485-.79 0-1.424.245-1.904.734-.48.49-.741 1.14-.741 1.95 0 .802.258 1.434.734 1.896.455.46 1.04.69 1.754.69z"})),GUEST_LIST:a.createElement("g",null,a.createElement("path",{d:"M6.3 10.4c-2.982 0-5.4 1.405-5.4 3.137v1.387c0 .429.347.776.776.776h9.248a.775.775 0 00.776-.776v-1.387c0-1.732-2.418-3.137-5.4-3.137zM13.8 10.4a8.87 8.87 0 00-2.045.236c.91.784 1.445 1.783 1.445 2.901V15.7h5.224a.775.775 0 00.776-.776v-1.387c0-1.732-2.418-3.137-5.4-3.137z"}),a.createElement("circle",{cx:"13.8",cy:"6.4",r:"2.7"}),a.createElement("circle",{cx:"6.3",cy:"6.4",r:"2.7"})),HOME:a.createElement("path",{d:"M17.8 9.4l-7.2-7.2c-.2-.1-.4-.2-.6-.2s-.4.1-.5.2L2.2 9.4c-.3.3-.3.8 0 1.1s.8.3 1.1 0l.2-.2v6.9c0 .4.3.7.7.7h3.6V15c0-1.2 1-2.2 2.2-2.2 1.2 0 2.2 1 2.2 2.2v2.9h3.3c.4 0 1-.3 1-.7v-6.9l.2.2c.3.3.8.3 1.1 0 .3-.3.3-.8 0-1.1z"}),INBOX:a.createElement("path",{d:"M10 10l9-3.5V4c0-.65-.366-1-1-1H2c-.633 0-1 .35-1 1v2.5l9 3.5zm.76 1.195c-.42.165-1.102.164-1.52 0L5.12 9.598 1 8v8c0 .65.367 1 1 1h16c.633 0 1-.35 1-1V8l-8.24 3.195z"}),INDENT:a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM4.6 7.8c-.4.4-.4 1 0 1.4l.8.8H2.6c-.6 0-1 .4-1 1s.4 1 1 1h2.8l-.8.8c-.4.4-.4 1 0 1.4s1 .4 1.4 0L9.2 11 6 7.8c-.4-.4-1-.4-1.4 0z"}),INFO:a.createElement("path",{d:"M10 7.1c-.4 0-.8-.3-.8-.8.1-.3.4-.7.8-.7s.8.3.8.8c0 .4-.4.7-.8.7zm.7 5.8c0 .4-.3.7-.7.7s-.7-.3-.7-.7V9.3c0-.4.3-.7.7-.7s.7.3.7.7v3.6zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),INPUT_ARROW_DOWN:a.createElement("path",{id:"Path-1009",d:"M5.5 7.5h9l-4.5 5z"}),ITALIC:a.createElement("path",{d:"M15.8 3H7.5c-.5 0-.9.4-.9.9s.4.9.9.9h3l-4 9.5h-3c-.5 0-.9.4-.9.9s.4.9.9.9h8.3c.5 0 .9-.4.9-.9s-.4-.9-.9-.9H8.3l4-9.5h3.4c.5 0 .9-.4.9-.9s-.3-.9-.8-.9z"}),LINK:a.createElement("g",null,a.createElement("path",{d:"M8.247 12H3.542c-.482 0-.934-.216-1.275-.592-.34-.376-.463-.876-.463-1.408 0-1.098.745-2 1.739-2h4.704c.498 0 .902-.437.902-.987S8.745 6 8.247 6H3.542C1.554 6 0 7.804 0 10c0 1.064.311 2.065.992 2.817.681.752 1.587 1.183 2.55 1.183h4.704c.498 0 .902-.463.902-1.013.001-.55-.403-.987-.901-.987zM18.944 7.183C18.262 6.431 17.356 6 16.393 6h-4.704c-.498 0-.902.463-.902 1.013 0 .55.36.987.858.987h4.748c.482 0 .934.216 1.275.592.34.376.528.876.528 1.408 0 .532-.187 1.032-.528 1.408-.341.376-.794.592-1.275.592h-4.704c-.498 0-.902.437-.902.987 0 .275.101.524.264.704a.86.86 0 00.638.292l4.704.017c.963 0 1.869-.431 2.551-1.183C19.625 12.064 20 11.064 20 10c0-1.064-.375-2.064-1.056-2.817z"}),a.createElement("path",{d:"M6.684 10.005c0 .273.097.521.255.7s.375.295.616.295h4.891c.481 0 .871-.449.871-.996 0-.547-.39-1.005-.871-1.004H7.555c-.481 0-.871.458-.871 1.005z"})),LIST_ORDERED:a.createElement("path",{d:"M7 5h10a1 1 0 000-2H7a1 1 0 100 2zM17 9H7a1 1 0 100 2h10a1 1 0 000-2zM17 15H7a1 1 0 100 2h10a1 1 0 000-2zM4.297 15.865v-.011a.7.7 0 00.422-.292.876.876 0 00.14-.495.865.865 0 00-.12-.457 1.171 1.171 0 00-.313-.336 1.398 1.398 0 00-.435-.206A1.783 1.783 0 003.508 14c-.207 0-.395.032-.564.096a1.22 1.22 0 00-.716.694 1.553 1.553 0 00-.113.541h.777c-.003-.198.048-.362.153-.492s.262-.196.468-.196c.149 0 .283.044.398.133a.448.448 0 01.171.38c0 .108-.028.196-.083.263a.541.541 0 01-.211.152.974.974 0 01-.28.064 2.221 2.221 0 01-.282 0v.548c.1 0 .204.003.312.01.112.005.21.025.303.06a.5.5 0 01.227.167c.06.077.089.19.089.336a.554.554 0 01-.19.443.693.693 0 01-.466.162.726.726 0 01-.307-.06.627.627 0 01-.215-.162.742.742 0 01-.133-.243 1.09 1.09 0 01-.051-.294h-.777c-.003.224.03.422.101.594a1.21 1.21 0 00.776.71c.186.063.392.094.618.094.197 0 .386-.028.564-.082.18-.056.34-.136.477-.242a1.15 1.15 0 00.455-.936c0-.22-.063-.41-.19-.567a.877.877 0 00-.522-.308zM3.44 10.964c.133-.101.27-.196.413-.283s.28-.177.42-.267c.14-.089.266-.19.374-.3.11-.109.2-.235.267-.377.067-.142.1-.312.1-.511 0-.19-.038-.362-.114-.516a1.166 1.166 0 00-.311-.385 1.36 1.36 0 00-.451-.24A1.711 1.711 0 003.599 8c-.248 0-.466.04-.658.12a1.27 1.27 0 00-.475.337 1.43 1.43 0 00-.282.504c-.064.192-.09.4-.083.626h.802c0-.107.01-.212.033-.319a.887.887 0 01.109-.29.566.566 0 01.513-.295c.18 0 .329.054.445.16.117.107.173.254.173.445a.59.59 0 01-.086.32c-.056.094-.127.177-.211.252s-.178.141-.28.204a16.85 16.85 0 00-.794.526c-.158.11-.298.232-.414.365a1.541 1.541 0 00-.28.45 1.54 1.54 0 00-.103.595h3.03v-.683H3.084c.103-.135.222-.252.355-.353zM3.118 6h.903V2h-.72a.794.794 0 01-.157.382.932.932 0 01-.297.25 1.315 1.315 0 01-.393.13A2.413 2.413 0 012 2.795v.61h1.118V6z"}),LIST_ORDERED_FLIPPED:a.createElement("path",{d:"M13 3H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 9H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 15H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM17.26 15.86v-.01c.19-.05.33-.15.42-.29.09-.14.14-.31.14-.49 0-.17-.04-.33-.12-.46-.08-.13-.19-.24-.31-.34-.13-.09-.27-.16-.44-.21-.16-.04-.32-.06-.48-.06-.21 0-.4.03-.56.1-.17.06-.31.16-.43.27-.12.12-.22.26-.28.42-.07.16-.11.34-.11.54h.78c0-.2.05-.36.15-.49s.26-.2.47-.2c.15 0 .28.04.4.13s.17.21.17.38c0 .11-.03.2-.08.26a.51.51 0 01-.21.15c-.09.03-.18.06-.28.06-.1.01-.19.01-.28 0v.55c.1 0 .2 0 .31.01.11.01.21.03.3.06s.17.09.23.17c.06.08.09.19.09.34 0 .19-.06.34-.19.44-.13.11-.28.16-.47.16-.12 0-.22-.02-.31-.06a.735.735 0 01-.22-.16.698.698 0 01-.13-.24.93.93 0 01-.05-.29h-.78c0 .22.03.42.1.59.07.17.17.32.3.44.13.12.29.21.47.27.19.06.39.09.62.09.2 0 .39-.03.56-.08.18-.06.34-.14.48-.24a1.196 1.196 0 00.46-.94c0-.22-.06-.41-.19-.57a1.03 1.03 0 00-.53-.3zM16.05 11.32c.1-.13.22-.25.35-.35.13-.1.27-.2.41-.28s.28-.18.42-.27c.14-.09.27-.19.37-.3.11-.11.2-.24.27-.38s.1-.31.1-.51c0-.19-.04-.36-.11-.52-.08-.15-.18-.28-.31-.39-.13-.11-.28-.19-.45-.24-.17-.05-.35-.08-.54-.08-.25 0-.47.04-.66.12-.19.08-.35.19-.48.34-.13.14-.22.31-.28.5-.06.19-.09.4-.08.63h.8c0-.11.01-.21.03-.32.02-.11.06-.2.11-.29.05-.09.12-.16.2-.21a.62.62 0 01.31-.08c.18 0 .33.05.45.16s.17.25.17.45c0 .12-.03.23-.09.32-.04.08-.11.17-.2.24s-.18.14-.28.2c-.1.06-.2.12-.29.18-.18.12-.34.23-.5.34-.16.11-.3.23-.41.37-.12.13-.21.28-.28.45-.07.17-.1.37-.1.59H18v-.68h-1.95zM16.08 6h.9V2h-.72c-.02.15-.08.28-.16.38-.08.1-.18.19-.3.25s-.25.11-.39.13c-.15.02-.3.04-.45.03v.61h1.12V6z"}),LIST_UNORDERED:a.createElement("path",{d:"M3 15c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm14 2H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1z"}),LOCATION_MARKER:a.createElement("path",{d:"M10 10.004c-1.183 0-2.07-.883-2.07-2.06s.887-2.06 2.07-2.06 2.07.883 2.07 2.06-.985 2.06-2.07 2.06m0-9.006C6.155.998 3 4.18 3 8c0 3.232 4.732 8.87 6.211 10.633.493.49.986.49 1.479 0C12.169 16.968 17 11.33 17 8c0-3.82-3.155-6.996-7-6.996"}),LOCK:a.createElement("path",{d:"M10 10.1c-.4 0-.7.3-.7.7v2.7c0 .4.3.7.7.7s.7-.3.7-.7v-2.7c0-.4-.3-.7-.7-.7zm0-6c-2.6 0-2.7 2.7-2.7 2.7h5.3c.1 0 .1-2.7-2.6-2.7zm6 13.3H4c-.4 0-.7-.3-.7-.7V7.4c0-.4.3-.7.7-.7h2c0-2.2 1.8-4 4-4s4 1.8 4 4h2c.4 0 .7.3.7.7v9.3c0 .4-.3.7-.7.7z"}),MESSENGER:a.createElement("path",{d:"M10 2A8 8 0 1010 17.999 8 8 0 0010 2zm2.264 4.563a.922.922 0 110 1.844.922.922 0 010-1.844zm-4.553 0c.51 0 .922.424.922.948s-.413.947-.922.947c-.509 0-.922-.424-.922-.948s.413-.947.922-.947zm5.953 7.386c-.816.716-2.664 1.065-3.653 1.05-1.011.015-2.837-.334-3.653-1.05-1.241-1.09-1.376-2.949-1.376-3.362H15.04c0 .413-.135 2.273-1.376 3.362z"}),MINUS:a.createElement("path",{d:"M13.75 9.25h-7.5a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5z"}),MIXED_CHECKBOX:a.createElement("g",null,a.createElement("path",{fill:"#188FFF",d:"M7 11h6a1 1 0 000-2H7a1 1 0 100 2z"}),a.createElement("path",{d:"M14.5 17h-9A2.503 2.503 0 013 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"})),MORE:a.createElement("g",null,a.createElement("circle",{cx:"3",cy:"10",r:"2"}),a.createElement("circle",{cx:"10",cy:"10",r:"2"}),a.createElement("circle",{cx:"17",cy:"10",r:"2"})),MOVE_TO_FOLDER:a.createElement("path",{d:"M17.25 5h-6.769l-.716-1.563A.75.75 0 009.083 3H2.75a.75.75 0 00-.75.75v12.5c0 .414.336.75.75.75h6.5v-6.19l-1.72 1.72a.75.75 0 11-1.06-1.06L10 7.94l3.53 3.53a.75.75 0 11-1.06 1.06l-1.72-1.72V17h6.5a.75.75 0 00.75-.75V5.75a.75.75 0 00-.75-.75z"}),NEWS:a.createElement("path",{d:"M8.5 9.8c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-.7c-.4 0-.7.3-.7.7s.3.7.7.7h.7zm6.6 0c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-3.6c-.4 0-.7.3-.7.7s.3.7.7.7h3.6zm0 2.9c.4 0 .7-.3.7-.7s-.3-.7-.7-.7H7.8c-.4 0-.7.3-.7.7s.3.7.7.7h7.3zM4.9 8.4H3.5v5.9c0 .4.3.7.7.7s.7-.3.7-.7V8.4zm10.2 8.1H4c-1.2 0-2-1-2-2.2V7.6c0-.4.3-.7.7-.7h2.2V4.7c0-.4.3-.7.7-.7h11.6c.5 0 .8.3.8.7v8.9c0 1.6-1.3 2.9-2.9 2.9z"}),NOTEPAD:a.createElement("g",null,a.createElement("path",{d:"M13 14.73V18l4-4h-3.111c-.66 0-.889.063-.889.73z"}),a.createElement("path",{d:"M16 2H4c-.667 0-1 .333-1 1v14c0 .626.305.946.892.985.053.01.096.015.108.015h7.51v-4.231c.018-.831.438-1.25 1.266-1.255H17V3c-.007-.667-.34-1-1-1zM9 14H6.889a.764.764 0 01-.778-.75c0-.415.348-.75.778-.75H9c.43 0 .778.335.778.75S9.429 14 9 14zm4.111-3.5H6.89a.764.764 0 01-.778-.75c0-.415.348-.75.778-.75h6.222c.43-.01.778.335.778.75s-.349.75-.778.75zm0-3.5H6.89a.764.764 0 01-.778-.75c0-.415.348-.75.778-.75h6.222c.43 0 .778.335.778.75S13.54 7 13.11 7z"})),NO_INTERNET:a.createElement("g",null,a.createElement("ellipse",{cx:"10",cy:"14.852",rx:"1.5",ry:"1.469"}),a.createElement("path",{d:"M19.268 7.865a13.142 13.142 0 00-.967-.884C15.971 5.06 13.021 4 9.995 4A13.086 13.086 0 00.754 7.831a.871.871 0 001.232 1.231A11.342 11.342 0 019.995 5.74a11.333 11.333 0 018.037 3.35.866.866 0 001.231.006.87.87 0 00.005-1.231z"}),a.createElement("path",{d:"M11 11.41V7.832c0-.507-.449-.917-1-.917-.553 0-1 .41-1 .917v3.577c0 .506.449.917 1 .917.551 0 1-.41 1-.916zM7.057 8.843a9.117 9.117 0 00-3.497 2.175.871.871 0 001.229 1.233c.279-.279.582-.535.9-.764a7.121 7.121 0 011.425-.782.276.276 0 00.171-.255V9.009a.174.174 0 00-.228-.166zM15.348 10.072a9.05 9.05 0 00-2.305-1.202.23.23 0 00-.301.218v1.365c0 .112.067.211.171.254.495.208.974.459 1.419.778.316.228.62.486.902.766a.872.872 0 001.227-1.236 9.526 9.526 0 00-1.113-.943z"})),NONE_BELL:a.createElement("g",null,a.createElement("path",{d:"M16.065 13.117a8.454 8.454 0 01-.429-2.654v-2.77c0-2.626-1.69-4.918-4.063-5.708v-.001a6.27 6.27 0 00-.566-.149v-.17a1.249 1.249 0 10-2.5 0v.17a6.643 6.643 0 00-.567.149v.001a5.854 5.854 0 00-1.922 1.087l10.045 10.045h.002zM9.758 19.583c1.035 0 1.875-.84 1.875-1.875h-3.75c0 1.035.84 1.875 1.875 1.875z"}),a.createElement("path",{d:"M18.504 17.914l.003.001L2.674 2.083a.835.835 0 00-1.179 1.179l2.652 2.652a6.036 6.036 0 00-.27 1.78v2.769a8.467 8.467 0 01-1.57 4.912c-.299.467-.565.689-.654.92-.079.209.049.575.35.575v.004h13.103l2.22 2.22a.83.83 0 001.178 0 .836.836 0 000-1.18z"})),ORB:a.createElement("path",{d:"M.759 14.462c.506 1.253 1.211 2.291 2.116 3.11a8.666 8.666 0 003.182 1.819c1.219.393 2.538.59 3.961.59 1.399 0 2.707-.198 3.923-.59a8.707 8.707 0 003.184-1.819c.906-.817 1.61-1.856 2.116-3.11C19.747 13.207 20 11.72 20 10c0-1.721-.253-3.208-.759-4.462-.506-1.255-1.211-2.291-2.116-3.108A8.596 8.596 0 0013.941.61C12.725.216 11.416.019 10.018.019c-1.423 0-2.741.197-3.961.591a9.153 9.153 0 00-3.182 1.82c-.912.809-1.61 1.854-2.116 3.108C.253 6.793 0 8.279 0 10c0 1.72.253 3.207.759 4.462z"}),OUTDENT:a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM8.2 10H5.5l.8-.8c.4-.4.4-1 0-1.4s-1-.4-1.4 0L1.6 11l3.2 3.2c.4.4 1 .4 1.4 0s.4-1 0-1.4l-.7-.8h2.8c.6 0 1-.4 1-1-.1-.6-.5-1-1.1-1z"}),PEOPLE:a.createElement("path",{d:"M5.5 10.601c1.641 0 3.078.827 3.863 2.061.359.564-.031 1.317-.684 1.317H2.321c-.653 0-1.043-.753-.684-1.317.785-1.234 2.222-2.061 3.863-2.061zm8.5 2.024c1.641 0 3.078.827 3.863 2.061.359.564-.031 1.317-.684 1.317h-6.358c-.653 0-1.043-.753-.684-1.317.785-1.234 2.222-2.061 3.863-2.061zM5.5 9a2.5 2.5 0 110-5 2.5 2.5 0 010 5zm8.5 2a2.5 2.5 0 110-5 2.5 2.5 0 010 5z"}),PHONE:a.createElement("path",{d:"M18.8 16.5c.3-.4.3-.9-.1-1.2L14.2 12c-.2-.2-.5-.2-.8-.1l-3.1 1c-.6-.5-1.2-1-1.8-1.6-.4-.5-1-1.1-1.5-1.7l1-3.1c.2-.3.1-.5 0-.8L4.7 1.3c-.3-.4-.8-.4-1.2-.1L1.6 3.1C-.1 4.7 2 9.5 6.3 13.7c4.2 4.2 9 6.4 10.6 4.7l1.9-1.9z"}),POP_OUT:a.createElement("g",null,a.createElement("path",{d:"M15.4 16.4H3.6V4.6H11V3H2.8c-.4 0-.8.4-.8.8v13.4c0 .4.4.8.8.8h13.4c.5 0 .8-.4.8-.8V9.5h-1.6v6.9z"}),a.createElement("path",{d:"M17.3 2h-4.2c-.2 0-.4.3-.4.6s.2.4.2.4l1.6 1-3.2 3.2c-.2.2-.2.5 0 .7l1 1c.2.2.5.2.7 0l3.2-3.2 1 1.6s.1.2.4.2.5-.3.5-.6V2.7c-.1-.4-.3-.7-.8-.7z"})),PRINTER:a.createElement("g",null,a.createElement("path",{d:"M13.8 13.5H6.2c-.4 0-.7.3-.7.7v2.6c0 .4.3.7.7.7h7.6c.4 0 .7-.3.7-.7v-2.6c0-.4-.3-.7-.7-.7zM15.5 3.2c0-.4-.3-.7-.7-.7H5.2c-.4 0-.7.3-.7.7v3.3h11V3.2z"}),a.createElement("path",{d:"M17.3 8H2.7c-.4 0-.7.3-.7.7v6.6c0 .4.3.7.7.7h.6c.4 0 .7-.3.7-.7v-2.6c0-.4.3-.7.7-.7h10.6c.4 0 .7.3.7.7v2.6c0 .4.3.7.6.7h.7c.4 0 .7-.3.7-.7V8.7c0-.4-.3-.7-.7-.7zM15 11c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})),READ:a.createElement("path",{d:"M10 2c-4.41 0-8 3.58-8 8s3.59 8 8 8 8-3.58 8-8-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.46 6-6 6"}),REFRESH:a.createElement("path",{d:"M16 10.3c0-1.4-.5-2.7-1.3-3.7l-1.1 1.1c.5.7.9 1.7.9 2.7 0 2.5-2 4.5-4.4 4.5H9l1-.8c.3-.3.4-.8.1-1.1-.3-.4-.9-.4-1.2-.1L6.5 15c-.3.3-.3.8 0 1.1l2.4 2.2c.3.3.9.3 1.2-.1.3-.3.2-.8-.1-1.1l-1-.8h1c3.3 0 6-2.7 6-6zM5.5 10.3c0-2.5 2-4.5 4.5-4.5h1.1l-1 .8c-.3.3-.3.8-.1 1.1.3.4.9.4 1.2.1l2.4-2.2c.3-.3.3-.8 0-1.1l-2.4-2.2c-.3-.3-.9-.3-1.2.1-.3.3-.2.8.1 1.1l1 .8H10c-3.3 0-6 2.7-6 6 0 1.4.5 2.6 1.2 3.7l1.1-1.1c-.5-.8-.8-1.7-.8-2.6z"}),REPLY:a.createElement("path",{d:"M8.711 15.946a.775.775 0 001.28-.587l-.001-2.621c5.049 0 6.858 3.584 7.02 4.204.352.797 1.535.594 1.481-.262-.422-6.662-3.91-10.728-8.501-10.728l.001-2.418a.774.774 0 00-1.278-.588l-6.951 6.02a.773.773 0 00.01 1.18l6.94 5.8z"}),REPLY_ALL:a.createElement("g",null,a.createElement("path",{d:"M2.044 9.406l5.86-5.045a.811.811 0 000-1.16.84.84 0 00-1.179 0L.244 8.78a.812.812 0 000 1.16l6.507 6.42c.325.32.853.32 1.178 0a.811.811 0 000-1.16L2.044 9.407z"}),a.createElement("path",{d:"M12.725 6.617V3.891c0-1.06-1.123-1.11-1.576-.695L4.805 9.141a.75.75 0 00.014 1.144l6.389 6.101c.631.524 1.526.16 1.526-.563l-.01-2.85c3.417 0 5.686 3.154 5.708 3.2.221.314.47.432.704.432.463 0 .864-.463.864-.772 0-7.27-4.439-9.216-7.275-9.216z"})),RESTORE_TO_INBOX:a.createElement("g",null,a.createElement("path",{d:"M18 4.174v-.393a.738.738 0 00-.727-.75H2.727a.738.738 0 00-.727.75v.393l8 3.782 8-3.782z"}),a.createElement("path",{d:"M8.267 13.468l6.194-4.955c.402-.3 1.057-.073 1.057.528v1.967H18V5.824l-8 3.707-8-3.706v8.456c0 .415.325.75.728.75h6.17l-.631-.507c-.39-.292-.31-.823 0-1.056z"}),a.createElement("path",{d:"M19.678 12.509h-5.641v-.983c0-.3-.327-.414-.528-.264l-3.096 2.476c-.154.116-.194.382 0 .528l3.096 2.487a.33.33 0 00.528-.264v-.996h5.641a.336.336 0 00.326-.34v-2.306a.334.334 0 00-.326-.338z"})),RICHTEXT_OFF:a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792a1.003 1.003 0 00.77 1.186 1.003 1.003 0 001.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm3.854 12.147c.195.195.195.513 0 .707s-.512.195-.707 0l-1.897-1.897-1.897 1.897a.502.502 0 01-.707 0 .502.502 0 010-.707l1.897-1.897-1.897-1.897c-.195-.195-.195-.513 0-.707s.512-.195.707 0l1.897 1.897 1.897-1.897c.195-.195.513-.195.707 0s.195.512 0 .707l-1.897 1.897 1.897 1.897z"}),RICHTEXT_ON:a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792a1.003 1.003 0 00.77 1.186 1.003 1.003 0 001.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm5 9.5c0 .275-.225.5-.5.5H15v2.5c0 .275-.225.5-.5.5s-.5-.225-.5-.5V13h-2.5a.501.501 0 01-.5-.5c0-.275.225-.5.5-.5H14V9.5c0-.275.225-.5.5-.5s.5.225.5.5V12h2.5c.275 0 .5.225.5.5z"}),SCISSORS:a.createElement("g",null,a.createElement("path",{d:"M12.5 7.4l4.8-4.7c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L11 6l1.5 1.4z"}),a.createElement("path",{d:"M7.9 6c.4-.6.6-1.3.6-2 0-2.2-1.8-4-4-4s-4 1.8-4 4 1.8 4 4 4c.7 0 1.4-.2 2-.6L8.1 9l-1.6 1.6c-.6-.4-1.3-.6-2-.6-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4c0-.7-.2-1.4-.6-2l1.6-1.6 6.3 6.3c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4L7.9 6zM2.5 4c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm2 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})),SEARCH:a.createElement("path",{d:"M17.5 16.5l-4.8-4.8c.8-1 1.3-2.3 1.3-3.7 0-3.3-2.7-6-6-6S2 4.7 2 8s2.7 6 6 6c1.4 0 2.7-.5 3.7-1.3l4.8 4.8c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.7 0-1zm-9.5-4c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}),SEARCH_MAIL:a.createElement("g",null,a.createElement("path",{d:"M17.81 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04a3.03 3.03 0 00-3.03 3.04 3.039 3.039 0 004.69 2.55l1.59 1.59c.25.25.65.25.9 0 .25-.24.25-.65 0-.9zM13.68 15c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76S14.65 15 13.68 15zM16 4.5V4c0-.6-.37-1-.99-1h-12C2.41 3 2 3.41 2 4v.5S8.99 7 9 7l7-2.5z"}),a.createElement("path",{d:"M13.67 8.95c.86 0 1.66.26 2.33.7V6L9 8.5C8.99 8.5 2 6 2 6c-.01-.01 0 6.75 0 6.75 0 .6.39 1.25 1 1.25h6.46c-.04-.25-.08-.5-.08-.76a4.296 4.296 0 014.29-4.29z"})),SEARCH_MINI:a.createElement("path",{d:"M15.26 14.108l-2.467-2.466c.513-.737.818-1.63.818-2.596a4.555 4.555 0 10-4.556 4.556 4.53 4.53 0 002.576-.802l2.468 2.468a.818.818 0 001.16 0 .82.82 0 000-1.16zm-6.205-2a3.06 3.06 0 110-6.122 3.06 3.06 0 010 6.122z"}),SEARCH_WEB:a.createElement("g",null,a.createElement("path",{d:"M9.3 16.44c-.95-.46-1.74-1.83-2.14-3.66h1.48c.05-.49.19-.96.38-1.39H6.94c-.05-.45-.07-.91-.07-1.39s.03-.94.07-1.39H9.3v2.25c.36-.58.83-1.08 1.39-1.45v-.8h5.77c.09.44.14.89.15 1.36v.51c0 .38.31.7.7.7.38 0 .7-.31.7-.7v-.51a7.999 7.999 0 00-8.53-7.95C5.56 2.27 2.36 5.4 2.03 9.3c-.38 4.5 2.95 8.3 7.27 8.67.08.01.2.01.32.02.24.01.46-.11.59-.31.2-.33.08-.77-.28-.93l-.63-.31zm6.69-9.22h-1.76c-.24-1.18-.64-2.22-1.14-3.06 1.27.67 2.29 1.75 2.9 3.06zM10.7 3.56c.95.46 1.74 1.83 2.14 3.66H10.7V3.56zm-1.4 0v3.66H7.16c.41-1.83 1.19-3.21 2.14-3.66zm-2.39.6c-.51.84-.9 1.88-1.14 3.06H4.01a6.617 6.617 0 012.9-3.06zM3.39 10c0-.48.05-.94.15-1.39h2.01c-.04.45-.07.91-.07 1.39 0 .48.03.94.07 1.39H3.54c-.1-.45-.15-.91-.15-1.39zm.62 2.78h1.76c.24 1.17.63 2.22 1.14 3.06a6.617 6.617 0 01-2.9-3.06z"}),a.createElement("path",{d:"M17 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04a3.03 3.03 0 00-3.03 3.04 3.039 3.039 0 004.69 2.55l1.59 1.59c.25.25.65.25.9 0 .24-.25.24-.65 0-.9m-4.14-1.48c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76-.79 1.76-1.76 1.76"})),SELECTED:a.createElement("g",null,a.createElement("path",{d:"M10.831 16.338a1.362 1.362 0 01-1.677 0L0 9.4v9.585C0 19.585.431 20 1.077 20h17.846c.631 0 1.077-.415 1.077-1.015v-9.6l-9.169 6.953z"}),a.createElement("path",{d:"M.369 8.985l9.169 6.8a.692.692 0 00.831 0l9.262-6.8a.346.346 0 000-.554l-8.923-8.2c-.415-.308-1-.308-1.415 0L.37 8.431a.346.346 0 00-.001.554z"})),SENT:a.createElement("path",{d:"M17.6 9.3L3 2.8c-.5-.2-1.1.2-1 .7l1.4 5L9.2 10l-5.8 1.5L2 16.3c-.2.6.4 1.1 1 .9l14.5-6.5c.6-.3.6-1.1.1-1.4z"}),SETTINGS:a.createElement("path",{d:"M10.025 13.157c-1.747 0-3.167-1.416-3.167-3.157s1.421-3.157 3.167-3.157A3.167 3.167 0 0113.193 10a3.166 3.166 0 01-3.168 3.157m8.659-4.619c-.022-.006-.083-.022-1.343-.222l-1.019-.168a.081.081 0 01-.065-.057l-.005-.019-.008-.018-.038-.093c-.089-.216-.302-.733-.405-.974l-.007-.016-.009-.016a.081.081 0 01.006-.086l1.373-1.909a.482.482 0 00-.032-.603c-.027-.028-.505-.505-1.429-1.425a.475.475 0 00-.34-.14c-.1 0-.197.03-.279.089l-1.919 1.371a.089.089 0 01-.049.015c-.023-.003-.031-.005-.037-.009l-.018-.009-.019-.009-1.065-.44c-.088-.036-.092-.057-.095-.078l-.384-2.32c-.036-.234-.28-.402-.476-.402H9.027a.48.48 0 00-.477.408l-.381 2.307a.155.155 0 01-.044.063c-.139.065-.794.33-1.081.447l-.035.015-.021.008-.019.01a.078.078 0 01-.037.009.075.075 0 01-.046-.015l-.101-.072C4.982 2.888 4.958 2.874 4.937 2.862a.504.504 0 00-.576.059l.001.001c-.046.043-.17.166-.58.573l-.846.844-.011.011-.011.012a.48.48 0 00-.055.557l.002-.002c.081.14.353.515 1.399 1.955a.08.08 0 01.005.084l-.009.016-.007.017-.042.098c-.134.317-.254.599-.404.974l-.006.015-.005.015a.084.084 0 01-.066.058l-2.325.382a.477.477 0 00-.404.475v1.988c0 .237.177.441.412.476l2.317.381a.084.084 0 01.066.057l.004.014.005.014c.17.431.292.74.452 1.086l.005.011.005.01a.083.083 0 01-.007.088l-1.373 1.908-.077.168a.484.484 0 00.13.456l.089.087 1.32 1.316a.479.479 0 00.626.048l1.889-1.35a.176.176 0 01.066-.023c.011 0 .036.002.086.02l.049.021c.374.16.643.276 1.021.421l.013.005.013.004c.03.009.052.035.058.065l.384 2.318c.028.209.252.405.478.405h.41v-.001h1.584a.48.48 0 00.477-.407l.379-2.286c.02-.06.047-.094.214-.153.353-.139.62-.246.962-.399a.21.21 0 01.07-.016c.007 0 .022 0 .053.018l1.902 1.358.016.012.019.011a.483.483 0 00.565-.048l.013-.011.012-.012.705-.703c.56-.563.704-.708.754-.77l.001.001a.459.459 0 00.049-.469l-.011-.025h-.001c-.058-.108-.199-.3-.548-.773l-.86-1.197a.085.085 0 01-.006-.087l.009-.017.007-.018.434-1.047c.047-.086.066-.101.108-.114 2.255-.362 2.333-.387 2.367-.397l.012-.004.012-.005a.5.5 0 00.317-.449V9.006a.478.478 0 00-.369-.468"}),SHARE_SOCIAL:a.createElement("path",{d:"M13.2 12.1c-.6 0-1.2.2-1.7.6l-2.3-1.6c.1-.3.2-.7.2-1.1s-.1-.7-.2-1.1l2.3-1.6c.5.3 1.1.6 1.7.6 1.6 0 2.9-1.3 2.9-2.9s-1.3-3-2.9-3-2.9 1.3-2.9 2.9c0 .4.1.7.2 1.1L8.2 7.6c-.5-.3-1.1-.5-1.8-.5-1.6 0-2.9 1.3-2.9 2.9s1.3 2.9 2.9 2.9c.6 0 1.2-.2 1.7-.6l2.3 1.6c-.1.3-.2.7-.2 1.1 0 1.6 1.3 2.9 2.9 2.9S16 16.6 16 15s-1.2-2.9-2.8-2.9z"}),SHOPPING:a.createElement("path",{d:"M16.8 7h-3.4v-.7C13.4 4.5 11.9 3 10 3S6.6 4.5 6.6 6.3V7H3.2c-.5 0-.8.4-.7.8l1.9 8.7c.1.3.4.5.7.5H15c.3 0 .6-.2.7-.5l1.8-8.7c0-.1 0-.8-.7-.8zM12 7H8v-.7c0-1.1.9-2 2-2s2 .9 2 2V7z"}),SPAM:a.createElement("path",{d:"M12.839 11.699a.807.807 0 01-1.141 1.141l-1.699-1.699-1.698 1.699a.807.807 0 01-1.141-1.141L8.859 10 7.136 8.276a.807.807 0 011.141-1.141l1.724 1.724 1.724-1.724a.807.807 0 011.141 1.141L11.141 10l1.699 1.699h-.001zm4.182-7.026c-1.297-.09-3.868-.599-6.513-2.977a.757.757 0 00-1.017 0C6.846 4.074 4.275 4.583 2.978 4.673c-.411.029-.706.379-.707.791 0 9.374 6.278 12.533 7.461 12.986a.744.744 0 00.535.003c1.182-.438 7.46-3.578 7.46-12.991.001-.411-.295-.761-.706-.79v.001z"}),SPONSORED:a.createElement("path",{d:"M5.4 4.3c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm-.5 9.8l-.5.5c-.3.3-.3.7 0 1s.7.3 1 0l.5-.5c.3-.3.3-.7 0-1s-.8-.3-1 0zm10.2 0c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm0-8.2l.5-.5c.3-.3.3-.7 0-1s-.7-.3-1 0l-.5.5c-.3.3-.3.7 0 1 .3.3.8.3 1 0zm2.2 3.4h-.7c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.3-.7-.7-.7zM8.5 7.8h3.6c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-1.5c0-.4-.3-.7-.7-.7s-.6.3-.6.7H8.2c-1 0-1.8.8-1.8 1.8v.7c0 1 .8 1.8 1.8 1.8h2.5c.4 0 .7.3.7.7s-.3.7-.7.7H7.1c-.4 0-.7.3-.7.7s.3.7.7.7h2.2c0 .4.3.7.7.7s.7-.3.7-.7h.4c1 0 1.8-.8 1.8-1.8V11c0-1-1-1.8-2.2-1.8H8.5c-.4 0-.7-.3-.7-.7s.3-.7.7-.7zM10 4.2c.4 0 .7-.3.7-.7v-.8c0-.4-.3-.7-.7-.7s-.7.3-.7.7v.7c0 .5.3.8.7.8zM3.5 9.3h-.8c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.2-.7-.6-.7zm6.5 6.5c-.4 0-.7.3-.7.7v.7c0 .4.3.7.7.7s.7-.3.7-.7v-.7c0-.4-.3-.7-.7-.7z"}),STAR:a.createElement("path",{d:"M15.718 8.35a.501.501 0 00-.47-.35h-3.656l-1.13-3.475a.494.494 0 00-.94 0L8.393 8H4.736a.501.501 0 00-.29.902l2.958 2.152-1.13 3.482a.495.495 0 00.76.553l2.958-2.152 2.958 2.152a.493.493 0 00.76-.553l-1.13-3.482 2.959-2.152a.495.495 0 00.18-.553z"}),STATIONERY:a.createElement("g",null,a.createElement("path",{d:"M17.007 3H16V.78c0-.562-.43-.922-.961-.78L2 3v14c0 .548.451 1 1 1h14.007A1 1 0 0018 17V4a1 1 0 00-.993-1zM14.5 1.5V3H8l6.5-1.5zm2 15h-13v-12h13v12z"}),a.createElement("path",{d:"M10 14.5l3.397-3.426a2.11 2.11 0 000-2.954 2.07 2.07 0 00-1.482-.62c-.594 0-1.112.154-1.915 1.058C9.187 7.643 8.67 7.5 8.086 7.5c-.561 0-1.087.22-1.482.62a2.109 2.109 0 000 2.955L10 14.5z"})),STRIKETHROUGH:a.createElement("path",{d:"M8.5 7.5c-.3-.3-.8-.7-.8-1.7 0-1.2.9-2.3 2.8-2.3 1.5 0 2.3 1.1 2.7 2.1.2.4.7.7 1.3.4.5-.2.5-.8.3-1.1-.6-1.2-1.3-2.9-4.3-2.9C7.4 2 6 3.9 6 5.8c0 .9.2 1.2.5 1.7h2zM16.2 9H3.8c-.5 0-.8.3-.8.7s.3.8.8.8H10c2 .4 2.9 1.3 2.9 2.8 0 1.6-1 2.7-2.9 2.7s-2.6-.9-3-2c-.1-.4-.6-.8-1.1-.6-.3.1-.7.5-.6 1 .4 1.4 1.7 3.1 4.7 3.1s4.5-1.9 4.5-4.3c0-1.3-.4-2-1-2.7h2.7c.4 0 .8-.4.8-.8s-.3-.7-.8-.7z"}),TAB_IMAGES:a.createElement("path",{d:"M3.459 14.636l3.634-5.814 1.379 2.206-1.258 1.824c-.227.329-.11.759.259.959.334.182.75.105.996-.15l3.711-5.567 4.361 6.541H3.459v.001zM17.273 3H2.728A.728.728 0 002 3.727v12.356c0 .401.326.726.728.726h14.546a.727.727 0 00.727-.726V3.727A.73.73 0 0017.273 3z"}),TEXT:a.createElement("path",{d:"M11.1 17c.5 0 .7-.2.8-.6l1.1-2.8h4.2l1.1 2.8c.2.5.6.6 1.1.5.4-.1.6-.7.4-1L16 6.1c-.2-.3-.5-.6-.9-.6s-.7.3-.9.6l-3.1 8L7 3.7c-.2-.4-.5-.7-1-.7-.6 0-.9.4-1.1.8l-4.7 12s-.3.8.4 1.1c.4.2.9 0 1.1-.5L3 12.9h5.9l1.4 3.5s.2.6.8.6zm-7.6-5.4L6 5.2l2.5 6.4h-5zm10 .8L15.2 8l1.7 4.4h-3.4z"}),TEXT_COLOR:a.createElement("g",null,a.createElement("circle",{fill:"#30D3B6",cx:"5.5",cy:"14",r:"4"}),a.createElement("circle",{fill:"#FFD333",cx:"9.5",cy:"6",r:"4"}),a.createElement("circle",{fill:"#FF333A",cx:"14.5",cy:"14",r:"4"}),a.createElement("path",{d:"M15.9 4"})),TRAVEL:a.createElement("path",{d:"M6 7.59c-.1-.1-.059-.1-.3-.1H2.464c-.1 0-.293-.024-.393.076-.115.115-.061.213.04.424L4.2 11.8c.082.124.2.2.3.2h4.6l-2.331 2.333c-.239.226-.238.46-.158.54.1.1.132.129.289.129H11c.1 0 .096-.004.2-.1l3-2.902h2.088c.9 0 2.182-.359 2.182-1.8 0-1.176-1.182-1.7-2.182-1.7H6.7M9.712 8h3.7L10.6 5.1c-.1-.1-.2-.1-.3-.1H7.7c-.2 0-.294.07-.339.18-.042.232.035.295.139.42L9.712 8z"}),TRUSTED:a.createElement("path",{d:"M17 4.7c-1.3-.1-3.9-.6-6.5-3-.1-.1-.3-.2-.5-.2s-.4.1-.5.2C6.8 4.1 4.3 4.6 3 4.7c-.4 0-.7.4-.7.8 0 9.4 6.3 12.5 7.5 13h.6c1.2-.4 7.5-3.6 7.5-13-.2-.4-.5-.8-.9-.8zm-2.4 2.6c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0L9 11.8l4.5-4.5c.4-.3.9-.3 1.1 0z"}),TUMBLR:a.createElement("path",{d:"M11.84 17.95h-.12c-3.76 0-4.58-2.77-4.58-4.38V9.08H5.65c-.17 0-.31-.14-.31-.31V6.65c0-.22.14-.42.35-.5 1.93-.68 2.54-2.37 2.63-3.65.02-.33.2-.5.5-.5h2.21c.17 0 .31.14.31.31V5.9h2.59c.17 0 .31.14.31.31v2.54c0 .17-.14.31-.31.31h-2.6v4.15c0 1.04.69 1.33 1.11 1.33.41-.01.81-.13 1.01-.21.15-.06.28-.1.4-.07.11.03.18.1.23.25l.69 2c.06.16.1.33-.01.46-.55.57-1.8.96-2.92.98z"}),VIDEO_CALL:a.createElement("path",{d:"M18.4 5.1c-.1 0-.3 0-.4.1l-2.3 1.5V5.2c0-.9-.7-1.5-1.5-1.5H2.3c-.9 0-1.5.7-1.5 1.5v9.5c0 .9.7 1.5 1.5 1.5h11.8c.9 0 1.5-.7 1.5-1.5v-1.5l2.3 1.5c.1.1.3.1.4.1.5 0 .9-.4.9-.9V6c.1-.5-.3-.9-.8-.9z"}),YBANG:a.createElement("g",null,a.createElement("circle",{cx:"10",cy:"10",r:"7"}),a.createElement("path",{fill:"#FFF",d:"M7.115 7.813L8.27 10.62l1.165-2.809h1.877l-2.861 6.563H6.563l.773-1.738-2.149-4.825h1.928zm4.586 2.57c.673 0 1.172.484 1.172 1.09 0 .616-.52 1.128-1.213 1.128-.673 0-1.173-.493-1.173-1.09 0-.606.52-1.127 1.214-1.127zm3.497-4.717l-1.917 4.3h-2.14l1.916-4.3h2.14z"})),TAP_TO_TOP:a.createElement("path",{d:"M14.4 9.7L11 6.4V19H9V6.4L5.6 9.8c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L10 3l5.7 5.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.3 0M3.3 1h13.4c.7 0 1.3.4 1.3 1 0 .5-.6 1-1.3 1H3.3C2.6 3 2 2.5 2 2c0-.6.6-1 1.3-1"}),SIDEBAR:a.createElement("path",{d:"M17.2 6H2.8C2.358 6 2 5.552 2 5s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1z"}),BIG_STAR:a.createElement("path",{d:"M18.379 6.917H12.55l-1.801-5.54a.788.788 0 00-1.497-.001L7.45 6.917H1.621a.786.786 0 00-.462 1.423l4.716 3.423-1.802 5.54a.786.786 0 001.213.879L10 14.759l4.716 3.423a.783.783 0 00.926 0 .784.784 0 00.286-.879l-1.801-5.54 4.716-3.423a.786.786 0 00-.464-1.423z"}),SOLID_CIRCLE:a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8"}),HOTELS:a.createElement("path",{d:"M18.182 8.364h-9.32l-1.7-2.956a.819.819 0 00-.707-.406H2.636v-2.47c0-.452-.367-.818-.818-.818S1 2.081 1 2.651v14.727c0 .332.367.699.818.699s.818-.367.818-.818v-1.636h14.727v1.636a.818.818 0 001.637 0V9.182a.818.818 0 00-.818-.818zM5.985 6.638l.954 1.726H2.636V6.638h3.349zM2.636 10h3.273v3.987H2.636V10zm4.909 0h9.818v3.987H7.545V10z"}),TICKETS:a.createElement("g",null,a.createElement("path",{d:"M16.667 1.022H12.5v.833c0 .061-.01.198-.041.384a3.22 3.22 0 01-.288.91c-.384.769-1.04 1.206-2.171 1.206s-1.787-.437-2.171-1.206a3.22 3.22 0 01-.288-.91 2.649 2.649 0 01-.041-.384v-.833H3.333a.843.843 0 00-.833.846l.001 16.322a.831.831 0 001.286.694l1.935-1.418 1.603 1.383a.838.838 0 00.994.018L10 17.469l1.682 1.399a.843.843 0 00.994-.018l1.601-1.383 1.937 1.418a.83.83 0 001.286-.694V1.868a.842.842 0 00-.833-.846zm-.834 15.53l-.568-.415-1.075-.788-1.008.871-1.025.885-1.087-.904-1.07-.89-1.071.891-1.086.904-1.027-.886-1.009-.87-1.075.788-.565.412V2.675H5.92l.001.012.003.012c.081.371.207.781.414 1.196C6.995 5.209 8.214 6.022 10 6.022s3.005-.813 3.662-2.127a4.89 4.89 0 00.417-1.209c.003-.013 0 .003 0 .003l.001-.013h1.753v13.876z"}),a.createElement("path",{d:"M13.333 11.351H6.667a.83.83 0 00-.833.827.83.83 0 00.833.827h6.665a.828.828 0 10.001-1.654zM13.33 8H6.664a.83.83 0 00-.833.827.83.83 0 00.833.827h6.665A.827.827 0 1013.33 8z"})),THEATERS:a.createElement("path",{d:"M7.3 13.6c-.99 0-1.8.81-1.8 1.8h3.6c0-.99-.81-1.8-1.8-1.8m-.9-2.7c0-.5-.4-.9-.9-.9s-.9.4-.9.9.4.9.9.9.9-.4.9-.9m6.3 0c.99 0 1.8-.81 1.8-1.8h-3.6c0 .99.81 1.8 1.8 1.8m-.9-4.5c0-.5-.4-.9-.9-.9s-.9.4-.9.9.4.9.9.9.9-.4.9-.9m2.7.9c.5 0 .9-.4.9-.9s-.4-.9-.9-.9-.9.4-.9.9.4.9.9.9m4.17-6.09A.874.874 0 0018.1 1c-.1 0-.19.01-.28.05-.03.01-2.6.85-5.12.85s-5.09-.84-5.12-.85A.868.868 0 007.3 1c-.2 0-.41.07-.57.2-.24.2-.36.5-.32.81l.55 4.38c-2.4-.07-4.74-.84-4.77-.85-.1-.02-.19-.04-.29-.04-.2 0-.41.07-.57.2-.24.2-.36.5-.32.81l.89 7.15A5.403 5.403 0 007.3 19c2.67 0 4.88-1.96 5.31-4.51.03 0 .06.01.09.01 2.96 0 5.37-2.39 5.4-5.34l.89-7.15c.04-.3-.08-.61-.32-.8zM7.3 17.5a3.91 3.91 0 01-3.9-3.86v-.08l-.01-.09-.78-6.24c1.01.27 2.75.65 4.52.67l.16 1.26c0 .36.05.7.12 1.04l.03.12a6.002 6.002 0 00.35 1.03c.11.23.23.45.36.66.05.07.09.14.13.21.16.22.33.43.52.63.03.03.06.08.1.11.23.22.48.43.75.61.06.04.12.07.18.1.21.13.43.25.66.36l.3.12c.11.04.22.1.34.13A3.899 3.899 0 017.3 17.5zm9.31-8.53l-.01.09v.08c-.02 2.13-1.77 3.86-3.9 3.86s-3.88-1.73-3.9-3.86v-.08l-.01-.09-.78-6.24c1.05.28 2.86.67 4.69.67 1.81 0 3.64-.4 4.69-.67l-.78 6.24z"}),CONCERTS:a.createElement("path",{d:"M18.621 1.368a1.296 1.296 0 00-1.833 0l-.717.718a1.28 1.28 0 00-.372.953L10.84 7.896l-.12-2.453a.9.9 0 00-.751-.846.911.911 0 00-.986.555L7.319 9.311l-5.767 2.434a.9.9 0 00.256 1.727l4.13.434.458 4.299a.901.901 0 001.722.265l2.316-5.308 2.141-.769a.902.902 0 00-.178-1.742l-1.434-.204-.005-.12 6.03-6.03c.331-.001.661-.127.913-.38l.718-.717a1.295 1.295 0 00.002-1.832"}),SPORTS:a.createElement("path",{d:"M19.045 5.638c-.374-1.283-2.008-1.185-2.392-.099l-.216.612c-.192.462-.562.473-.89.473a.821.821 0 01-.472-.149A106.95 106.95 0 0113.09 5.02a.826.826 0 00-.497-.164h-1.555c-.16 0-.32.038-.451.132-1.075.779-3.58 2.628-7.738 3.41C1.745 8.606 1 9.786 1 11.018c0 1.109.686 2.655 1.805 2.655H3.5v.417c0 .459.375.834.833.834a.836.836 0 00.834-.834v-.416h1.666v.416c0 .459.375.834.834.834a.836.836 0 00.833-.834v-.416h1.667v.416c0 .459.375.834.833.834a.836.836 0 00.833-.834v-.416H16v.416c0 .459.375.834.833.834a.836.836 0 00.834-.834v-.416h.201c1.943 0 1.414-6.822 1.177-8.036zM3.415 9.994c.792-.279 1.078-.376 2.006-.666L8.1 12.007H3.78c-1.234 0-1.554-1.563-.364-2.013zm7.042 2.013l-3.3-3.3a23.75 23.75 0 001.226-.535l3.835 3.835h-1.761zm6.899 0h-2.781L9.937 7.369a19.725 19.725 0 001.366-.846h1.014a94.717 94.717 0 001.803 1.319c.42.293.913.45 1.427.45.846 0 1.574-.31 2.066-.855.124 1.48.066 3.664-.257 4.57z"}),FACEBOOK:a.createElement("path",{d:"M17.117 2H2.883A.883.883 0 002 2.883v14.234c0 .488.395.883.883.883h7.663v-6.196H8.461V9.389h2.085V7.608c0-2.067 1.262-3.192 3.106-3.192.883 0 1.642.066 1.863.095v2.16l-1.279.001c-1.003 0-1.197.476-1.197 1.176V9.39h2.391l-.311 2.415h-2.08V18h4.077a.883.883 0 00.884-.883V2.883A.883.883 0 0017.117 2z"}),FLICKR:a.createElement("g",null,a.createElement("circle",{cx:"5.2",cy:"10",r:"4",fill:"#1d75cf"}),a.createElement("circle",{cx:"14.8",cy:"10",r:"4",fill:"#fe0084"})),FLICKR_MONOCHROME:a.createElement("g",null,a.createElement("circle",{cx:"5.2",cy:"10",r:"4"}),a.createElement("circle",{cx:"14.8",cy:"10",r:"4"})),TWITTER:a.createElement("path",{d:"M18 4.5c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.8 0-3.3 1.5-3.3 3.3 0 .3 0 .5.1.7-2.7-.1-5.1-1.4-6.7-3.4-.3.5-.4 1-.4 1.6 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4 0 1.6 1.1 2.9 2.6 3.2-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.2 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H2c1.5 1 3.2 1.6 5 1.6 6 0 9.3-5 9.3-9.3v-.4c.7-.5 1.3-1.1 1.7-1.8z"}),LINKEDIN:a.createElement("path",{d:"M15.242 15.097h-2.104v-3.405c0-.902-.163-1.441-.914-1.441-.54 0-.946.294-1.215.577v4.27H8.905V8.835h2.104v.836c.366-.396.997-.887 1.879-.887 1.477 0 2.354.952 2.354 2.907v3.405zM6.338 7.935a1.215 1.215 0 110-2.43 1.215 1.215 0 010 2.43zm1.066 7.162H5.3V8.836h2.104v6.261zM17.922 2.53a.973.973 0 00-.195-.294.769.769 0 00-.273-.176.994.994 0 00-.351-.059H2.897c-.13 0-.248.02-.35.059a.769.769 0 00-.274.176.947.947 0 00-.195.294A.816.816 0 002 2.86V17.14c0 .104.025.215.078.332a.947.947 0 00.195.294.763.763 0 00.273.176c.104.04.22.058.351.058h14.206c.129 0 .246-.019.35-.058a.769.769 0 00.274-.176.973.973 0 00.195-.294.825.825 0 00.078-.332V2.86a.828.828 0 00-.078-.332z"}),BASKET:a.createElement("path",{d:"M12.511 13.71v-1.636a.818.818 0 011.636 0v1.636a.818.818 0 01-1.636 0zm-3.284 0v-1.636a.818.818 0 011.637 0v1.636a.819.819 0 01-1.637 0zm-3.272-.014V12.06a.818.818 0 011.636 0v1.636a.818.818 0 01-1.636 0zm12.226-5.694h-2.835l-3.029-4.545a.818.818 0 10-1.362.908l2.424 3.637h-6.76l2.424-3.637a.817.817 0 10-1.361-.908L4.653 8.002H1.818a.818.818 0 000 1.636h.21l1.928 6.426C4.245 17.029 5.306 18 6.315 18h7.371c1.008 0 2.069-.97 2.359-1.936l1.928-6.426h.21a.819.819 0 00-.001-1.636h-.001z"}),CAMERA_FILL:a.createElement("path",{d:"M7.59 10.744a2.5 2.5 0 105 0 2.5 2.5 0 00-5 0zm-1.666 0a4.167 4.167 0 118.334 0 4.167 4.167 0 01-8.334 0zm.832-6.667v-.833a.833.833 0 00-.833-.833h-2.5a.833.833 0 00-.833.833v.833h-.833a.833.833 0 00-.833.833v11.667c0 .46.373.833.833.833h16.687c.46 0 .812-.373.812-.833V4.91a.815.815 0 00-.812-.833H6.756z"}),TAG_FILL:a.createElement("path",{d:"M5.9 7.5c-.9 0-1.7-.7-1.7-1.6S5 4.2 5.9 4.2s1.7.8 1.7 1.7-.8 1.6-1.7 1.6zm13 2.2L10.4 1c-.1-.1-.4-.2-.6-.2H1.7c-.5 0-.8.4-.8.8v8.1c0 .2.1.4.3.6l8.6 8.5c.2.2.4.2.6.2.2 0 .4-.1.6-.2l8-8c.2-.2.2-.7-.1-1.1z"}),CARD:a.createElement("path",{d:"M18.597 3.035H1.335a.864.864 0 00-.864.861V7.5H19.46V3.896a.863.863 0 00-.863-.861zm-15.13 9.33h5.834a.835.835 0 010 1.668H3.467a.835.835 0 010-1.668zm-2.996 3.77c0 .475.387.861.864.861h17.262a.864.864 0 00.864-.861V8.5H.471v7.635z"}),CLIPCOUPON:a.createElement("g",null,a.createElement("path",{d:"M4.3 14.3c-.9 0-1.7.8-1.7 1.7 0 .9.8 1.7 1.7 1.7 1 0 1.7-.8 1.7-1.7 0-.9-.8-1.7-1.7-1.7zM12.7 14.3c-.9 0-1.7.7-1.7 1.7s.7 1.7 1.7 1.7 1.7-.7 1.7-1.7-.8-1.7-1.7-1.7z"}),a.createElement("path",{d:"M14.3 13.1c-.5-.3-1.1-.4-1.7-.4-.6 0-1.2.2-1.7.5L3.3 5.4c-.3-.3-.9-.3-1.2 0s-.3.9 0 1.2l5.2 5.2L6 13.2c-1.6-.9-3.6-.4-4.6 1.2S1 18 2.6 18.9c1.6.9 3.6.4 4.6-1.2.3-.5.5-1.1.5-1.7 0-.6-.2-1.2-.5-1.7L8.5 13l1.3 1.3c-.9 1.6-.4 3.6 1.2 4.5 1.6.9 3.6.4 4.5-1.2.9-1.5.4-3.6-1.2-4.5zM6 16c0 .9-.7 1.7-1.7 1.7-.9 0-1.7-.7-1.7-1.7 0-.9.7-1.7 1.7-1.7.9 0 1.7.8 1.7 1.7zm6.7 1.7c-.9 0-1.7-.7-1.7-1.7s.7-1.7 1.7-1.7 1.7.7 1.7 1.7-.8 1.7-1.7 1.7zM18.5 1H7.7c-.5 0-.9.4-.9.8v5h1.7V2.7h9.2v7.5h-4.2v1.7h5c.5 0 .8-.4.8-.8V1.8c0-.4-.3-.8-.8-.8z"}),a.createElement("path",{d:"M14.9 5.4c-.3-.3-.9-.3-1.2 0l-4 4.1 1.2 1.2 4-4c.3-.4.3-1 0-1.3z"})),CART:a.createElement("path",{d:"M6.677 16.281a1.253 1.253 0 11-2.506 0 1.253 1.253 0 012.506 0zm6.685-.023a1.253 1.253 0 11-2.506 0 1.253 1.253 0 012.506 0zM18.331 2.5h-2.807a.834.834 0 00-.818.667l-.55 2.667H1.669A.835.835 0 00.87 6.913l2.033 6.673a.836.836 0 00.799.592h9.771c.397 0 .738-.28.818-.668l1.123-5.506.783-3.834h2.133a.835.835 0 100-1.67h.001zM12.79 12.507H4.321L2.796 7.504H13.81l-.023.113-.012.063-.985 4.827z"}),DESKTOP_ATTACHMENT:a.createElement("path",{d:"M17.4 14.5H2.6V4.6h3.5v5.5c0 .2.1.5.2.8.3.8 1.1 1.3 2.2 1.3h.1c1.1 0 1.8-.5 2.2-1.3.1-.2.2-.5.2-.8V7c0-.2 0-.5-.2-.7-.2-.4-.7-.7-1.2-.7h-.1.1-.1-.1c-.7 0-1.1.2-1.2.7-.2.2-.3.4-.3.6v2.9c0 .2.2.5.5.5.2 0 .5-.2.5-.5V6.9c0-.1 0-.2.1-.2.1-.2.2-.2.5-.2.2 0 .4.1.5.2v3.1c0 .2 0 .5-.2.7-.2.5-.6.7-1.3.7h-.1c-.7 0-1.1-.2-1.3-.7-.1-.3-.1-.6-.1-.8V4.6h10.4v9.9zM7.1 3v-.2c0-.1.1-.4.2-.6.2-.4.7-.7 1.2-.7h.1C9.7 1.4 10 2 10 3H7.1zm11.1 0H11C11 1.4 10.3.5 8.6.5h-.1c-1 0-1.7.5-2.1 1.3-.3.4-.3.9-.3 1.2H1.8c-.5 0-.8.3-.8.8v11.5c0 .5.3.8.8.8h6.6l-.8 1.6H5.1c-.5 0-.8.3-.8.8s.3.8.8.8H15c.5 0 .8-.3.8-.8s-.3-.8-.8-.8h-2.5l-.8-1.6h6.6c.5 0 .8-.3.8-.8V3.8c-.1-.5-.4-.8-.9-.8z"}),PREVIEW:a.createElement("path",{d:"M9.71 7.63c-1.4 0-2.54 1.14-2.54 2.55 0 .35.29.64.64.64.35 0 .64-.29.64-.64 0-.7.57-1.27 1.26-1.27.35 0 .64-.29.64-.64 0-.36-.29-.64-.64-.64zM10 5c3.65 0 6.98 1.99 8.89 5.33.22.38.09.87-.29 1.1a.83.83 0 01-.4.11c-.28 0-.55-.14-.69-.4-1.08-1.89-2.7-3.26-4.56-3.97.88.81 1.43 1.96 1.43 3.25 0 2.43-1.96 4.4-4.38 4.4s-4.38-1.97-4.38-4.4c0-1.29.55-2.44 1.43-3.25-1.86.71-3.48 2.08-4.56 3.97-.22.38-.71.52-1.09.3a.809.809 0 01-.29-1.1C3.02 6.99 6.35 5 10 5z"}),DRIVE:a.createElement("path",{d:"M6.7 2.8L1 12.8l2.8 5 5.7-10zM6.7 2.8zM7.6 12.8l-2.9 5H16l3-5.1zM18.5 12.1l-5.7-9.9H7.2l5.5 9.9z"}),DROPBOX:a.createElement("g",null,a.createElement("path",{d:"M10 11.3L4.6 8 .9 11l5.4 3.4 3.7-3.1 3.7 3.1 5.4-3.4-3.7-3z"}),a.createElement("path",{d:"M10 12l-3.7 3.1-1.6-1v1.1l5.3 3.2 5.4-3.2v-1.1l-1.6 1zM19.1 5zM10 4.7L6.3 1.6.9 5l3.7 3zM19.1 5l-5.4-3.4L10 4.7 15.4 8z"})),SUBSCRIPTIONS:a.createElement("path",{d:"M.5 13.2V6.6L4 8v6.1H1.4c-.5 0-.9-.4-.9-.9zm13.8-9.5V5H4.8c-.5 0-.8.4-.8.9v.4L.5 4.9V3.7c0-.5.4-.9.9-.9h12.1c.4.1.8.5.8.9zm-2.5 9.5c.4.2 1.1.2 1.6 0l6.1-2.5v5.6c0 .5-.4.9-.9.9H6.5c-.5 0-.9-.4-.9-.9v-5.6zm6.8-6.4c.5 0 .9.4.9.9V9l-6.9 2.9-6.9-3V7.6c0-.5.4-.9.9-.9h12z"}),NO_ADS:a.createElement("path",{d:"M12.91 6.83h-2.15v1.7l1.73 1.73V8.1h.36c.98 0 1.66.54 1.66 1.93 0 .84-.24 1.33-.64 1.6l1.07 1.07c.82-.47 1.33-1.31 1.33-2.67 0-2.28-1.45-3.2-3.36-3.2M10 1a9 9 0 10.001 18.001A9 9 0 0010 1zm0 16.5c-4.14 0-7.5-3.36-7.5-7.5 0-1.76.61-3.38 1.63-4.66l1.8 1.79-2.1 5.96v.07h1.53l.38-1.2h2.2l.38 1.2h1.8v-.06l-.96-2.72 1.59 1.59v1.2h1.2l2.7 2.7A7.404 7.404 0 0110 17.5zm-2.42-6.7H6.11l.74-2.33.73 2.33zm8.15 4.02L5.18 4.27C6.48 3.17 8.16 2.5 10 2.5c4.14 0 7.5 3.36 7.5 7.5 0 1.84-.67 3.52-1.77 4.82z"}),NUMBER_ONE:a.createElement("g",null,a.createElement("path",{d:"M15.33 3H4.67a.68.68 0 00-.67.69v12.63c0 .4.32.68.67.68.12 0 .25-.03.36-.11l1.55-1.16 1.28 1.13a.677.677 0 00.8.02L10 15.73l1.35 1.14c.11.09.25.13.38.13a.7.7 0 00.41-.14l1.28-1.13 1.55 1.16c.12.07.24.11.36.11.35 0 .67-.28.67-.67V3.69c0-.38-.3-.69-.67-.69zm-.66 12l-1.31-.98-1.63 1.44L10 13.99l-1.73 1.47-1.63-1.44-1.31.98V4.33h9.33V15z"}),a.createElement("path",{d:"M7.32 9.63h-.53v-.86h.64l.08-.61h-.54V7.3h.65l.11-.86h.71l-.11.86h.5l.11-.86h.71l-.1.86h.52v.86h-.64l-.07.61h.53v.86h-.64l-.12.95h-.72l.12-.95h-.52l-.13.95H7.2l.12-.95zm1.32-.86l.08-.61h-.51l-.08.61h.51zM11.48 7.86l-1.08.67-.06-.02V7.3l1.46-.9h1.16v5.64h-1.49V7.86z"})),STOPWATCH_DASHES:a.createElement("g",null,a.createElement("path",{d:"M12 12.25c-.19 0-.38-.07-.53-.22l-1.5-1.5c-.29-.29-.29-.77 0-1.06s.77-.29 1.06 0l1.5 1.5c.29.29.29.77 0 1.06-.15.15-.34.22-.53.22zM14.75 4.5h-5.5c-.41 0-.75-.34-.75-.75S8.84 3 9.25 3h5.5c.41 0 .75.34.75.75s-.34.75-.75.75zM8.75 9.5h-5c-.41 0-.75-.34-.75-.75S3.34 8 3.75 8h5c.41 0 .75.34.75.75s-.34.75-.75.75zM4.75 12h-3c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h3c.41 0 .75.34.75.75s-.34.75-.75.75zM7.75 14.5h-4.5c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h4.5c.41 0 .75.34.75.75s-.34.75-.75.75z"}),a.createElement("path",{d:"M16.74 7.82l.79-.79c.29-.29.29-.77 0-1.06s-.77-.29-1.06 0l-.79.79A5.976 5.976 0 0012 5.5c-1.77 0-3.36.78-4.46 2h2.44c.61-.31 1.29-.5 2.02-.5 2.48 0 4.5 2.02 4.5 4.5S14.48 16 12 16c-1.06 0-2.02-.38-2.79-1H7.13A5.993 5.993 0 0012 17.5c3.31 0 6-2.69 6-6 0-1.39-.47-2.66-1.26-3.68z"}),a.createElement("path",{d:"M7.62 12.5c-.07-.32-.12-.66-.12-1 0-.53.11-1.03.28-1.5H6.2c-.13.48-.2.98-.2 1.5 0 .34.04.67.09 1h1.53z"})),GIFT:a.createElement("path",{d:"M17 6h-2.45c.19-.11.38-.23.53-.39a2.71 2.71 0 000-3.82c-.52-.53-1.21-.79-1.9-.79s-1.38.26-1.91.79c-.8.8-1.16 1.81-1.27 3.21-.11-1.4-.48-2.41-1.28-3.21C8.19 1.26 7.5 1 6.81 1s-1.38.26-1.91.79a2.71 2.71 0 000 3.82c.16.16.34.28.53.39H3c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h5.5V6.5h3V10H17c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1zM8.19 4.97c-.94 0-1.86-.05-2.23-.42-.23-.23-.35-.53-.35-.85s.12-.62.35-.85c.23-.23.53-.35.85-.35s.62.12.85.35c.34.34.7.86.82 2.12h-.29zm5.84-.42c-.37.37-1.29.42-2.23.42h-.28c.12-1.26.48-1.77.82-2.11.23-.23.53-.35.85-.35s.62.12.85.35.35.53.35.85-.14.61-.36.84zM3 18c0 .55.49 1 1.1 1h4.4v-7.5H3V18zM11.5 19h4.58c.51 0 .92-.45.92-1v-6.5h-5.5V19z"}),INFINITY:a.createElement("path",{d:"M14.24 6.23c-1.44 0-2.56.82-3.56 1.87.23.26.88 1.02.98 1.14.81-.86 1.63-1.51 2.58-1.51 1.25 0 2.27 1.02 2.27 2.27s-1.02 2.27-2.27 2.27c-1.36 0-2.47-1.34-3.65-2.75C9.23 7.9 7.83 6.23 5.77 6.23 3.69 6.23 2 7.92 2 10s1.69 3.77 3.77 3.77c1.45 0 2.56-.83 3.56-1.87-.23-.26-.88-1.02-.99-1.14-.81.87-1.64 1.51-2.58 1.51-1.25 0-2.27-1.02-2.27-2.27s1.02-2.27 2.27-2.27c1.36 0 2.47 1.34 3.65 2.75 1.35 1.62 2.74 3.29 4.81 3.29 2.08 0 3.77-1.69 3.77-3.77s-1.67-3.77-3.75-3.77z"}),AUTO_FORWARDING:a.createElement("g",null,a.createElement("path",{d:"M18.4 14.4l-2.9-2.5c-.2-.2-.5 0-.5.3v1H9.8c-.2 0-.3.2-.3.3v2.3c0 .2.1.3.3.3h5.1v1c0 .3.3.4.5.3l3-2.5c.1-.1.2-.3 0-.5z"}),a.createElement("path",{d:"M9 11.3L15 9v.6l1.5 1.3V5.5c0-.6-.5-1-1-1h-13c-.5 0-1 .4-1 1v9c0 .6.5 1 1 1H8V14H3V9.1l6 2.2zM3 6h12v1.4L9 9.7 3 7.4V6z"})),UNDERSCORE:a.createElement("path",{d:"M17.1 16.5H2.9c-.5 0-.9.3-.9.8s.4.7.9.7h14.3c.5 0 .9-.3.9-.8s-.5-.7-1-.7z"}),WINDOW_BOX:a.createElement("path",{d:"M17 2H3c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h14c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1zm-.5 14.5h-13v-11h13v11z"}),UNSUBSCRIBE_OUTLINE:a.createElement("g",null,a.createElement("path",{d:"M2.5 7.51l7.02 2.81 6.98-3.26v3.44H18V3.75c0-.41-.34-.75-.75-.75H1.75c-.41 0-.75.34-.75.75v10.5c0 .41.34.75.75.75h9.75v-1.5h-9V7.51zm14-3.01v.91L9.48 8.68 2.5 5.89V4.5h14z"}),a.createElement("path",{d:"M17.06 15l1.72-1.72c.29-.29.29-.77 0-1.06s-.77-.29-1.06 0L16 13.94l-1.72-1.72c-.29-.29-.77-.29-1.06 0s-.29.77 0 1.06L14.94 15l-1.72 1.72c-.29.29-.29.77 0 1.06.15.15.34.22.53.22s.38-.07.53-.22L16 16.06l1.72 1.72c.15.15.34.22.53.22s.38-.07.53-.22c.29-.29.29-.77 0-1.06L17.06 15z"})),WRENCH:a.createElement("path",{d:"M10.71 2.67a5.682 5.682 0 00-5.5-1.47c-.14.03-.26.11-.35.2-.3.3-.34.82 0 1.16l2.41 2.41c.32.32.32.83 0 1.15L6.11 7.26c-.32.32-.83.32-1.15 0l-2.4-2.4a.82.82 0 00-1.16 0c-.1.1-.17.22-.21.37-.59 2.22.18 4.72 2.32 6.18 1.5 1.03 3.41 1.23 5.09.63l6.72 6.71c.32.32.83.32 1.15 0l2.3-2.3c.32-.32.32-.83 0-1.15l-6.72-6.72c.7-1.99.27-4.31-1.34-5.91m-.63 6.26l.06.06 6.9 6.9-1.15 1.15-6.9-6.9-.06-.06c-.01 0-.01.01-.02.01-1.32.89-3.17.88-4.49-.02a4.12 4.12 0 01-1.77-2.81L3.8 8.41c.95.95 2.5.95 3.45 0L8.4 7.26c.95-.95.95-2.5 0-3.45L7.27 2.67c.86.12 1.67.52 2.3 1.15 1.38 1.38 1.55 3.53.51 5.11"}),REPLY_OUTLINE:a.createElement("path",{d:"M9.28 10.72c-.4 0-.72.33-.72.74v1.84L3.43 9.24 8.55 5.2v1.84c0 .41.32.73.72.73 2.96 0 5.76 0 7.14 4.89-2.09-2.04-4.65-2.02-6.44-1.96-.24.01-.47.02-.69.02zm.72-4.4V3.74c0-.28-.15-.53-.4-.66a.72.72 0 00-.76.07l-7.05 5.5c-.18.14-.29.36-.29.59 0 .23.11.45.29.59l7.05 5.52a.725.725 0 001.16-.59v-2.59c.31-.01.78-.02 1.09-.02 2.1 0 4.29.49 6.04 4.04.13.25.38.41.65.41.07 0 .14-.01.21-.03.34-.11.55-.44.51-.8-1.07-8.28-4.42-9.36-8.5-9.45z"}),EXCHANGE:a.createElement("path",{d:"M7.68 1.67c.2 0 .41.08.56.24.31.33.31.85 0 1.18L6.38 5h10.28v1.67H6.38l1.86 1.91c.31.33.31.85 0 1.18-.31.33-.82.33-1.13 0L3.33 5.83l3.79-3.92a.79.79 0 01.56-.24zM12.32 10c.2 0 .41.08.56.24l3.79 3.92-3.79 3.92c-.31.33-.82.33-1.13 0a.865.865 0 010-1.18l1.87-1.9H3.33v-1.67h10.28l-1.86-1.91a.865.865 0 010-1.18c.16-.16.36-.24.57-.24z"}),COMPOSE_OUTLINE:a.createElement("path",{d:"M14.68 9.91L10.1 5.33l1.95-1.95 4.57 4.57-1.94 1.96zm-7.05 7.05H5.28l-2.23-2.23v-2.35L9 6.43l4.57 4.58-5.94 5.95zm10.65-9.55L12.6 1.73c-.3-.3-.79-.3-1.09 0l-9.78 9.78c-.15.14-.23.34-.23.55v5.69c0 .43.35.77.77.77h5.68c.21 0 .41-.08.55-.23l9.77-9.78c.32-.31.29-.81.01-1.1z"}),APPLE:a.createElement("path",{d:"M12.63 3.74C13.31 3.01 13.77 2 13.64 1c-.98.04-2.16.57-2.86 1.3-.63.64-1.18 1.67-1.03 2.65 1.09.07 2.2-.49 2.88-1.21m2.08 6.93c-.02-2.25 1.78-3.33 1.86-3.38-1.01-1.53-2.59-1.74-3.15-1.76-1.34-.14-2.62.81-3.3.81-.68 0-1.73-.8-2.85-.77-1.47.02-2.82.87-3.57 2.22-1.52 2.72-.39 6.75 1.09 8.96.72 1.08 1.59 2.29 2.72 2.25 1.09-.04 1.51-.73 2.83-.73s1.69.73 2.85.71c1.18-.02 1.92-1.1 2.64-2.18.83-1.25 1.17-2.47 1.19-2.53-.02-.02-2.29-.91-2.31-3.6"}),HOME_OUTLINE:a.createElement("path",{d:"M18.75 8.56l-8.14-7.32A.888.888 0 0010 1c-.22 0-.44.08-.61.25L1.25 8.56c-.33.33-.33.86 0 1.19.33.33.87.33 1.2 0l.21-.19v8.63c0 .44.37.8.82.8h4.9v-4.91c0-.9.73-1.63 1.63-1.63h.01c.9 0 1.63.73 1.63 1.63V19h4.91c.45 0 .82-.38.82-.82V9.59l.18.16c.33.33.86.33 1.2 0 .32-.33.32-.86-.01-1.19zm-3.02 8.81h-2.46V14.1a3.271 3.271 0 00-6.54 0v3.27H4.29V8.11L10 3.03l5.73 5.11v9.23z"}),PHONE_OUTLINE:a.createElement("path",{d:"M4.58 3.08l2.24 3.04-.95 2.26-.38.89.6.76c.57.73 1.19 1.42 1.83 2.06.63.63 1.32 1.25 2.05 1.82l.75.6.89-.37 2.28-.94 3.03 2.23-1.67 1.68c-.22.22-.63.27-.93.27-1.62 0-4.56-1.3-7.47-4.21-3.99-3.99-4.7-7.64-3.95-8.4l1.68-1.69M4.67 1c-.2 0-.4.08-.56.23L1.74 3.6c-1.87 1.87-.1 6.66 3.95 10.71 2.95 2.95 6.3 4.69 8.62 4.69.86 0 1.58-.24 2.09-.74l2.37-2.37c.35-.35.3-.92-.1-1.21l-4.18-3.08a.788.788 0 00-.49-.17c-.1 0-.2.02-.29.06l-2.72 1.13c-.65-.51-1.29-1.07-1.91-1.7a22.84 22.84 0 01-1.7-1.91L8.51 6.3c.1-.26.06-.56-.11-.78l-3.09-4.2A.777.777 0 004.67 1"}),BUY_MORE_SAVE_MORE:a.createElement("path",{d:"M18.61 9.65l-5.86-7.68c-.38-.5-.99-.79-1.62-.77l-2.9.11 1.88 1.29 1.06-.04h.02c.18 0 .35.08.46.23l5.86 7.68c.09.12.13.27.11.42-.02.15-.1.28-.22.37l-4.14 3.12c-.25.19-.61.14-.8-.11l-.89-1.18V5.31c0-.22-.04-.43-.1-.63-.14-.46-.43-.87-.84-1.16l-1.28-.88-1.82-1.25c-.74-.51-1.74-.51-2.49 0L2.86 2.9l-.89.6-.04.02A2.2 2.2 0 001 5.31v11.51C1 18.03 1.98 19 3.18 19h6.2c1.2 0 2.18-.98 2.18-2.18v-1.5a1.958 1.958 0 002.53.16l4.14-3.12c.41-.31.68-.77.75-1.28.07-.51-.06-1.02-.37-1.43zM6.38 5.21a.39.39 0 010-.78c.21 0 .39.18.39.39 0 .21-.17.39-.39.39m0 1.17c.04 0 .08 0 .12-.01a1.57 1.57 0 001.45-1.56c0-.5-.24-.95-.62-1.24-.26-.2-.59-.32-.95-.32-.14 0-.28.02-.41.06-.66.18-1.15.79-1.15 1.51 0 .37.13.71.35.98.28.35.72.58 1.21.58M2.37 5.31c0-.26.13-.51.34-.66l.92-.62 2.19-1.52c.14-.1.3-.14.46-.14h.02c.16 0 .31.05.45.14l.76.52 2.34 1.61c.22.15.35.4.35.67v11.51c0 .44-.36.81-.81.81h-6.2c-.45 0-.81-.36-.81-.81V5.31z"}),YAHOO_PLUS_BADGE:a.createElement("path",{d:"M5.9 7.3l-1.4 3.4-1.3-3.4H1l2.5 5.8-.9 2.1h2.1L8 7.3zM8.3 10.5c-.8 0-1.4.6-1.4 1.4 0 .7.6 1.3 1.3 1.3.8 0 1.4-.6 1.4-1.4.1-.7-.5-1.3-1.3-1.3M9.9 4.8L7.7 10h2.4l2.2-5.2zM19 8h-2.3V5.6h-2.2V8h-2.3v2.2h2.3v2.4h2.2v-2.4H19z"}),YAHOO_PLUS_BADGE_ALT:a.createElement("path",{d:"M10 2a8 8 0 110 16 8 8 0 010-16zM6.4 7.09H4.378l2.247 5.31-.807 1.964h2l2.967-7.273H8.822l-1.215 3.105L6.4 7.091zm7.687 0h-1.512v1.703H10.93v1.505h1.644V12h1.512v-1.702h1.651V8.793h-1.65V7.09z"}),MEDICAL_KIT:a.createElement("path",{d:"M11 13v2a1 1 0 01-2 0v-2H7a1 1 0 110-2h2V9a1 1 0 112 0v2h2a1 1 0 110 2h-2zM7 4h6v2H7V4zm10 2h-2V3a1 1 0 00-1-1H6a1 1 0 00-1 1v3a3 3 0 00-3 3v8a1 1 0 001 1h14a1 1 0 001-1V9a3 3 0 00-3-3h2z"}),ADD_CONTACT:a.createElement("path",{d:"M15.209 6.875a2.708 2.708 0 11-5.418 0 2.71 2.71 0 015.418 0zm1.848 5.474c-.11-.104-.216-.209-.345-.304-.992-.739-2.51-1.211-4.212-1.211s-3.219.471-4.211 1.211c-.129.095-.236.201-.346.304-.534.504-.859 1.096-.859 1.74v1.329c0 .458.375.834.834.834h9.166a.837.837 0 00.834-.834v-1.329c0-.644-.324-1.236-.859-1.74h-.002zM7.5 8.438H6.25v-1.25a.833.833 0 10-1.668 0v1.25H3.281v.011c-.435.028-.781.381-.781.822s.346.794.781.823v.011h1.301v1.302h.011c.029.434.381.781.823.781s.794-.346.823-.781h.011v-1.302H7.5a.833.833 0 100-1.667z"}),MONOCHROME_MIXED_CHECKBOX:a.createElement("g",null,a.createElement("path",{d:"M7 11h6a1 1 0 000-2H7a1 1 0 100 2z"}),a.createElement("path",{d:"M14.5 17h-9A2.503 2.503 0 013 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"})),NOTSPAM:a.createElement("g",null,a.createElement("path",{d:"M17.023 4.671l-.001.001c-1.298-.089-3.868-.599-6.514-2.978a.758.758 0 00-1.016.001c-2.644 2.38-5.216 2.889-6.513 2.978-.411.03-.706.379-.707.792 0 9.374 6.278 12.534 7.46 12.986a.749.749 0 00.536.002c1.181-.437 7.459-3.578 7.459-12.99.002-.413-.293-.761-.704-.792zm-7.024 9.192a3.862 3.862 0 110-7.726 3.862 3.862 0 110 7.726z"}),a.createElement("path",{d:"M7.371 10a2.63 2.63 0 002.628 2.627c.501 0 .963-.147 1.362-.391L7.763 8.638A2.591 2.591 0 007.371 10zM9.998 7.372l.001.001a2.6 2.6 0 00-1.362.391l3.598 3.597c.243-.398.391-.861.391-1.362a2.632 2.632 0 00-2.628-2.627z"})),BLOCK_PEOPLE:a.createElement("path",{d:"M12.6 10c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM12.6 11c-4.4 0-6.4 2.5-6.4 4.3V18h13v-2.7c-.1-2.1-2.1-4.3-6.6-4.3zm4.6 5H8v-.7c0-.6 1.1-2.3 4.5-2.3 3 0 4.6 1.2 4.6 2.3v.7zM6.1 10.2L5 9.1 6.1 8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L3.6 7.7 2.5 6.6c-.4-.3-1-.3-1.4 0-.3.4-.3 1 0 1.4l1.1 1.1-1.1 1.1c-.3.4-.3 1 0 1.4.4.4 1 .4 1.4 0l1.1-1.1 1.1 1.1c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4z"}),BLOCK_PEOPLE_FILL:a.createElement("path",{d:"M16.1 6c0 1.8-1.5 3.2-3.2 3.2-1.8 0-3.2-1.5-3.2-3.2s1.5-3.2 3.2-3.2c1.8-.1 3.2 1.4 3.2 3.2zm2.3 6.6c.6.6 1 1.3 1 2.1v1.6c0 .5-.4 1-1 1h-11c-.6 0-1-.5-1-1v-1.6c0-.8.4-1.5 1-2.1l.4-.4c1.2-.9 3-1.5 5.1-1.5s3.9.6 5.1 1.5l.4.4zM4.8 8.9L5.9 10c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-1.1-1.1-1.1 1.1c-.4.3-1 .3-1.4 0s-.4-1 0-1.4L2 8.9.9 7.8c-.3-.4-.3-1 0-1.4s1-.4 1.4 0l1.1 1.1 1.1-1.1c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L4.8 8.9z"}),COMMENT_FILL:a.createElement("path",{d:"M4.4 1.1h11.2c1.8 0 3.3 1.5 3.3 3.2v8.1c0 1.8-1.5 3.2-3.3 3.2H5.8l-3.4 3c-.2.1-.4.2-.6.2-.1 0-.2 0-.3-.1-.3-.1-.5-.4-.5-.7V4.3a3.4 3.4 0 013.4-3.2zm9.7 4.8H6c-.4 0-.8.4-.8.8s.3.9.8.9h8.1c.4 0 .8-.4.8-.8s-.4-.9-.8-.9zM6 9.2c-.4 0-.8.4-.8.8s.4.8.8.8h8.1c.4 0 .8-.4.8-.8s-.4-.8-.8-.8H6z"}),CONVERSATIONS_FILL:a.createElement("g",null,a.createElement("path",{d:"M14.8 9.2V4.4c0-1.8-1.4-3.2-3.2-3.2H4.5c-1.8 0-3.2 1.4-3.2 3.2v9.3c0 .4.2.7.5.9.1 0 .2.1.4.1s.4-.1.6-.2l2.3-2.2h6.5c1.8.1 3.2-1.4 3.2-3.1zM5.3 4.4h5.6c.4 0 .8.4.8.8s-.4.8-.9.8H5.3c-.5 0-.8-.4-.8-.8s.3-.8.8-.8zm5.5 4.8H5.3c-.4 0-.8-.4-.8-.8s.4-.8.8-.8h5.6c.4 0 .8.4.8.8-.1.4-.4.8-.9.8z"}),a.createElement("path",{d:"M16.4 5.3v3.9c0 2.6-2.1 4.8-4.8 4.8H5.7l-.3.2c.4 1.2 1.6 2.1 3 2.1h6.5l2.3 2.2c.2.2.4.2.6.2.2 0 .3-.1.4-.1.3-.2.5-.5.5-.9V8.4c.1-1.5-1-2.7-2.3-3.1z"})),UNSUBSCRIBE:a.createElement("path",{d:"M18.2 9.8c-.8-.3-1.5-.5-2.4-.5-3.2 0-5.8 2.5-6.1 5.5H2.3c-.5 0-1-.4-1-1V5.5l8.2 3.8.3.1.4-.1 8.1-3.5zm0-6.1L9.8 7.2 1.3 3.3v-.5c0-.6.4-1 1-1h15c.6 0 1 .4 1 1zm-4.1 8.7l1.8 1.9 1.8-1.9c.4-.4.9-.4 1.2 0 .4.4.4.9 0 1.2l-1.8 1.9 1.8 1.8c.4.4.4.9 0 1.2-.4.4-.9.4-1.2 0L16 16.8l-1.8 1.8c-.4.4-.9.4-1.2 0-.4-.4-.4-.9 0-1.2l1.8-1.8-1.8-1.9c-.4-.4-.4-.9 0-1.2.2-.4.8-.4 1.1-.1z"}),BLOCK:a.createElement("path",{d:"M2.5 10c0-1.8.6-3.4 1.6-4.7l10.5 10.5c-1.3 1-2.9 1.6-4.7 1.6-4 .1-7.4-3.3-7.4-7.4m15 0c0 1.8-.6 3.4-1.7 4.7L5.3 4.2c1.3-1 2.9-1.7 4.7-1.7 4.1 0 7.5 3.4 7.5 7.5M10 .8C4.9.8.8 4.9.8 10s4.1 9.2 9.2 9.2 9.2-4.1 9.2-9.2S15.1.8 10 .8"}),TAB_MESSAGES:a.createElement("path",{d:"M17.273 4H2.727A.738.738 0 002 4.75v1.393l8 3.782 8-3.782V4.75a.738.738 0 00-.727-.75zM10 11.5L2 7.794v7.456c0 .415.325.75.728.75h14.545a.739.739 0 00.727-.75V7.793L10 11.5z"}),FLAG:a.createElement("path",{d:"M16.8 4h-4.3v-.7c0-.5-.4-.8-.8-.8H7.3c-.5 0-.8.4-.8.8v7.3c0 .5.4.8.8.8H10v1.2c0 .5.4.8.8.8h5.9c.5 0 .8-.4.8-.8V4.8c0-.4-.3-.8-.7-.8M4.3 19c-.4 0-.8-.3-.8-.8V1.7c0-.4.3-.7.7-.7.5 0 .8.3.8.7v16.5c0 .5-.3.8-.7.8z"}),SORT:a.createElement("path",{d:"M9.2 3.6c0-.4.4-.8.8-.8h8.2c.5 0 .8.4.8.8s-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8m-8 9.7c.3-.3.8-.3 1.2 0l1.9 1.8V2h1.6v13.1l1.9-1.8c.3-.3.8-.3 1.2 0 .2.1.2.3.2.5s-.1.4-.2.5L5.1 18l-3.9-3.6c-.3-.3-.3-.8 0-1.1M14.1 10c0 .4-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8s.4-.8.8-.8h3.3c.4 0 .8.4.8.8m2.4-3.2c0 .4-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8s.3-.8.8-.8h5.7c.5 0 .8.4.8.8"}),PRO:a.createElement("path",{d:"M5.14 17.1c-.24.24-.24.64 0 .88s.64.24.88 0l.44-.44c.24-.24.24-.64 0-.88a.628.628 0 00-.88 0l-.44.44zM9.38 18.75v.62a.619.619 0 101.24.01v-.62c0-.34-.28-.62-.62-.62s-.62.27-.62.61zM14.42 16.66a.628.628 0 00-.88 0c-.24.24-.24.64 0 .88l.44.44c.24.24.64.24.88 0s.24-.64 0-.88l-.44-.44zM10 8.71c.45 0 .63.16.63.54 0 .36-.16.56-.62.56h-.32v-1.1H10zm-4.53.03c.36 0 .58.16.58.58 0 .43-.17.61-.57.61h-.32V8.74h.31zm9.6-.04c.54 0 .82.5.82 1.3s-.27 1.33-.82 1.33c-.55 0-.82-.53-.82-1.33s.29-1.3.82-1.3zm-4.88-1.1H8.04v4.84h1.65v-1.58h.38l.69 1.58h1.68v-.08l-.89-1.92c.42-.25.64-.68.64-1.26-.01-.97-.64-1.58-2-1.58zm-4.7 0H3.51v4.84h1.65V11h.36c1.26 0 2.05-.51 2.05-1.66 0-1.23-.81-1.74-2.08-1.74zm9.58-.1c-1.56 0-2.51 1.06-2.51 2.5s.95 2.54 2.51 2.54c1.57 0 2.51-1.1 2.51-2.54s-.94-2.5-2.51-2.5zM15 5c2.76 0 5 2.24 5 5s-2.24 5-5 5H5c-2.76 0-5-2.24-5-5s2.24-5 5-5h10zM6.02 2.01a.628.628 0 00-.88 0c-.24.24-.24.64 0 .88l.44.44c.24.24.64.24.88 0s.24-.64 0-.88l-.44-.44zM10.62 1.25V.62c0-.34-.27-.62-.62-.62s-.62.28-.62.62v.62c0 .35.28.62.62.62s.62-.26.62-.61zM14.86 2.9c.24-.24.24-.64 0-.88s-.64-.24-.88 0l-.44.44c-.24.24-.24.64 0 .88s.64.24.88 0l.44-.44z"}),ANNOUNCEMENT:a.createElement("path",{d:"M14.22 2.04L5 5.11H.83c-.45 0-.83.47-.83 1.04v6.26c0 .57.37 1.04.83 1.04H2.5v.83c0 2.3 1.87 4.17 4.17 4.17 1.93 0 3.56-1.32 4.03-3.1l3.52 1.17c.43.14.78-.11.78-.57V2.61c0-.46-.35-.71-.78-.57zM2.5 11.75v-5h1.67v5H2.5zm4.17 5.03c-1.46 0-2.5-1.25-2.5-2.5v-.83H5l4.1 1.37c-.24 1.04-1.18 1.96-2.43 1.96zM16.88 12.31c.23-.4.74-.54 1.14-.31l1.44.83c.4.23.53.74.3 1.14-.23.4-.74.54-1.14.31l-1.44-.83a.824.824 0 01-.3-1.14zM19.17 8.45c.46 0 .83.37.83.83s-.37.83-.83.83H17.5c-.46 0-.83-.37-.83-.83s.37-.83.83-.83h1.67zM18.62 4.28a.835.835 0 11.83 1.45l-1.44.83c-.4.23-.91.09-1.14-.3-.23-.4-.09-.91.3-1.14l1.45-.84z"}),KEEP_NEW:a.createElement("path",{d:"M11.2 12.2L20 8.5v7.7c0 .4-.4.8-.8.8H3.3c-.4 0-.8-.3-.8-.8V8.5l8.7 3.7zM2.5 6C1.1 6 0 4.9 0 3.5S1.1 1 2.5 1 5 2.1 5 3.5 3.9 6 2.5 6zm16.7-2.3H6.5C6.4 5.5 5.1 7 3.4 7.4l7.8 3.4L20 7V4.5c0-.4-.4-.8-.8-.8z"}),OPEN_ENVELOPE:a.createElement("path",{d:"M19 9v8.5c0 .55-.45 1-1 1H1.99c-.55 0-.99-.44-.99-.99V9l9 5 9-5zm-9 3.5l-9-5 8.35-5.77c.37-.3.9-.3 1.28 0L19 7.5l-9 5z"}),STOPWATCH:a.createElement("g",null,a.createElement("path",{d:"M13.25 2.5h-6.5c-.41 0-.75-.34-.75-.75S6.34 1 6.75 1h6.5c.41 0 .75.34.75.75s-.34.75-.75.75zM8.31 8.75l2.19 2.19c.29.29.29.77 0 1.06-.29.29-.77.29-1.06 0L7.25 9.81a.754.754 0 010-1.06c.29-.29.77-.29 1.06 0z"}),a.createElement("path",{d:"M15.81 6.75l.91-.91c.29-.29.29-.77 0-1.06s-.77-.29-1.06 0l-.91.91A7.503 7.503 0 002.5 11.5c0 4.14 3.36 7.5 7.5 7.5a7.503 7.503 0 005.81-12.25zM10 17.5c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"})),VOLUME:a.createElement("path",{d:"M10.89 4.71c.14-.4.6-.64 1.03-.51 2.8.78 4.76 3.16 4.75 5.79.01 2.66-1.94 5.05-4.75 5.82-.06.02-.16.02-.23.02-.39 0-.68-.16-.8-.44a.768.768 0 01.01-.63c.1-.22.3-.38.53-.46 2.1-.66 3.56-2.43 3.56-4.32 0-1.94-1.45-3.71-3.55-4.29a.827.827 0 01-.51-.4.727.727 0 01-.04-.58zm-1.72-.54v11.67L5.83 12.5H3.75a.42.42 0 01-.42-.41V7.91c0-.23.18-.41.42-.41h2.08l3.34-3.33zm1.88 3.56c.28-.28.8-.31 1.12-.06.74.59 1.17 1.44 1.17 2.33 0 .89-.42 1.73-1.17 2.32a.83.83 0 01-.53.18c-.23 0-.44-.09-.59-.24a.717.717 0 01-.22-.55c.01-.2.11-.4.28-.53.38-.3.53-.73.53-1.18 0-.46-.14-.89-.52-1.19a.72.72 0 01-.28-.53c-.02-.21.06-.4.21-.55z"}),VOLUME_MUTE:a.createElement("path",{d:"M9.17 4.17v11.67L5.83 12.5H3.75a.42.42 0 01-.42-.41V7.91c0-.23.18-.41.42-.41h2.08zm5.23 3.59c.32-.33.85-.33 1.18 0 .33.32.32.86 0 1.18l-1.07 1.08 1.07 1.07c.33.33.33.85 0 1.18-.32.33-.86.32-1.18 0l-1.08-1.08-1.07 1.08c-.33.33-.85.33-1.18 0s-.32-.86 0-1.18l1.08-1.07-1.08-1.08a.827.827 0 010-1.18c.32-.33.86-.32 1.18 0l1.07 1.07z"}),YBANG_ALT:a.createElement("path",{d:"M12.7 10.65c-1.25 0-2.19 1.01-2.19 2.19 0 1.16.9 2.11 2.11 2.11 1.25 0 2.19-.99 2.19-2.19 0-1.18-.9-2.11-2.11-2.11M15.14 1.5l-3.45 8.34h3.86L19 1.5h-3.86M8.77 5.58l-2.13 5.4-2.11-5.4H1l3.93 9.27-1.41 3.35h3.45L12.2 5.58H8.77"}),EYE_SLASH:a.createElement("path",{d:"M10 5.01c3.65 0 6.98 1.99 8.89 5.33.22.38.09.87-.29 1.1a.83.83 0 01-.4.11c-.28 0-.54-.14-.69-.4-1.08-1.89-2.7-3.26-4.56-3.97a4.377 4.377 0 011.2 4.63l-.08.21-6.66-6.66c.84-.23 1.7-.35 2.59-.35zM3.31 2.9l.07.06L16.11 15.7c.32.32.32.84 0 1.16-.3.3-.76.32-1.09.06l-.07-.06-2.67-2.67c-.66.41-1.44.65-2.27.65-2.42 0-4.38-1.97-4.38-4.4 0-.76.2-1.46.53-2.08l.11-.18-.4-.4c-1.37.75-2.54 1.9-3.38 3.37a.79.79 0 01-1.09.29.8.8 0 01-.29-1.09c.85-1.49 1.99-2.7 3.3-3.59l.27-.17-2.46-2.47a.82.82 0 010-1.16c.3-.29.76-.31 1.09-.06z"})};class E extends a.Component{shouldComponentUpdate(e){return e.ariaLabel!==this.props.ariaLabel||e.colorState!==this.props.colorState||e.size!==this.props.size||e.rotate!==this.props.rotate||e.kind!==this.props.kind}render(){const{colorState:e,forwardedRef:t,size:s,rotate:n,allowPointerEvents:o,ariaLabel:l,kind:E,flipRTL:_,...u}=this.props,m=i()(r(),{colorState:e,size:s,rotate:n,allowPointerEvents:o,flipRTL:_});let S=m.icon;return _&&(S+=" "+m.rtlRawScaleX),a.createElement("svg",c({ref:t,"aria-label":l,viewBox:"0 0 20 20",className:S},u),d[E])}}var _,u,m;_=E,u="defaultProps",m={colorState:l.ColorStates.NORMAL,size:l.Sizes.S},u in _?Object.defineProperty(_,u,{value:m,enumerable:!0,configurable:!0,writable:!0}):_[u]=m;const S=E,p=d},9333:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(67294),n=s(43007),r=s(67498),o=s(89341),i=s.n(o),l=s(76223),c=s.n(l),d=s(61395),E=s.n(d);const _=/^(kind|colorState|size|rotate)$/,u=/^(?:(?:disabled|paddingLess|role|title)$|data-|aria-|on)/;const m=(e,t,s)=>{e[s]=t[s]},S=a.forwardRef(((e,t)=>{const s={},{size:o,disabled:l=!1,isCompact:d=!1,paddingLess:S=!1,isOnDarkBackground:p=!1}=e,C=c()(i(),{disabled:l,isCompact:d,isOnDarkBackground:p,size:o||"",paddingLess:S}),A={"data-test-id":e["data-test-id"]||"icon-btn-"+("string"==typeof e.kind?e.kind.toLowerCase():""),"data-iskeynav":e["data-iskeynav"],tabIndex:e.tabIndex,id:e.id,isOnDarkBackground:e.isOnDarkBackground,className:C.button,buttonRef:t};return Object.keys(e).forEach((t=>{!function(e){return _.test(e)}(t)?!function(e){return u.test(e)}(t)?"className"===t&&(A[t]=E()(A.className||"",e[t]||"")):m(A,e,t):m(s,e,t)})),a.createElement(r.Z,A,a.createElement("span",{className:C.content},a.createElement(n.Z,s),e.children?a.createElement("span",{className:C.label},e.children):null))}));S.displayName="ForwardRef<FujiIconButton>";const p=S},23113:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});s(45697);var a=s(67294),n=s(55636);const r=({haystack:e,needle:t,formatter:s,containerClassNames:r})=>{const[o,i,l]=(0,n.s_)(e,t);return i?a.createElement("span",{className:`${r} notranslate`},o,s(i),l):a.createElement("span",{className:r},e)};r.defaultProps={formatter:e=>e,haystack:"",needle:""};const o=r},56148:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s(45697);var a=s(67294),n=s(9333),r=(s(76531),s(95406),s(61395)),o=s.n(r),i=s(88901),l=s.n(i),c=s(76223);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function E(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _=s.n(c)()(l());class u extends a.Component{constructor(...e){super(...e),E(this,"state",{hovered:!1}),E(this,"handleHover",(e=>{this.setState({hovered:e})}))}render(){const{colorStates:e,...t}=this.props,s=!this.props.disabled&&this.state.hovered?e.hovered:e.normal;return a.createElement(n.default,d({title:""},t,{className:o()(this.props.className||"",_.button),onMouseOver:this.handleHover.bind(this,!0),onMouseOut:this.handleHover.bind(this,!1),colorState:s}))}}const m=u},46229:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(67294),n=s(68949);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const o=({src:e,srcSet:t,...s})=>(t&&(t=t.split(",").map((e=>{const[t,s,...a]=e.trim().split(" ");if(a.length)throw new TypeError("Unexpected values in srcset string");if(!s)throw new TypeError("Expected each srcset string to contain a width descriptor");return`${(0,n.A)(t)} ${s}`})).join(", ")),a.createElement("img",r({},s,{src:(0,n.A)(e)},t?{srcSet:t}:void 0)))},12782:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});s(45697);var a=s(67294),n=s(77163);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const i="pointer-mode",l="keyboard-mode";class c extends a.Component{constructor(...e){super(...e),o(this,"state",{inputMode:i}),o(this,"lastMouseCoordinates",[]),o(this,"handleKeyUp",(e=>{switch(e.key){case"Tab":case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":this.handleKeyNav()}switch(e.which){case n.P.PERIOD:case n.P.COMMA:this.handleKeyNav();break;default:return}})),o(this,"handleMouseDown",(()=>{this.setState({inputMode:i})})),o(this,"handleMouseMove",(e=>{this.lastMouseCoordinates[0]===e.screenX&&this.lastMouseCoordinates[1]===e.screenY||(this.lastMouseCoordinates=[e.screenX,e.screenY],this.setState({inputMode:i}))}))}handleKeyNav(){this.setState({inputMode:l})}componentDidUpdate(e,t){document&&document.body&&t.inputMode!==this.state.inputMode&&(document.body.classList.remove(t.inputMode),document.body.classList.add(this.state.inputMode))}componentDidMount(){document.body.classList.add(this.state.inputMode)}render(){const e=this.props.className?" "+this.props.className:"",t=this.state.inputMode+e,s=this.state.inputMode===l?{onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown}:{onKeyUp:this.handleKeyUp};return a.createElement("div",r({className:t},s),this.props.children)}}const d=c},68003:(e,t,s)=>{"use strict";s.d(t,{U:()=>m,Z:()=>C});var a=s(45697),n=s.n(a),r=s(67294),o=s(73935),i=s(99095),l=s(77163),c=s(95406);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function E(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _=(0,i.defineMessages)({focus_group_aria_label:{id:"focus_group_aria_label",defaultMessage:"Keyboard navigation group. Use arrow keys to navigate, or tab to the next group."}}),u="data-iskeynav",m=(0,c.gP)(["HORIZONTAL","VERTICAL"]),S=["escape","left","meta+left","right","meta+right","up","meta+up","down","meta+down",",","."];class p extends r.Component{constructor(...e){super(...e),E(this,"handleClick",(e=>{const t=this.getNavigableElements();let s=e.target;for(;s!==e.currentTarget&&!s.getAttribute(u);)if(s=s.parentElement,!s)return;t.indexOf(s)>-1&&-1===s.tabIndex&&this.applyFocusTo(s)})),E(this,"handleKeyDown",(e=>{if(!e.target.isContentEditable&&!(this.props.skipKeydownOnFormElement&&-1!==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)||this.props.excludeKeyCodes.indexOf(e.key)>=0||this.props.excludeKeyCodes.indexOf(e.which)>=0)){switch(e.key){case"Escape":document.activeElement.blur()}if(this.props.axis===m.HORIZONTAL)switch(e.key){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}else switch(e.key){case"ArrowUp":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}switch(e.which){case l.P.COMMA:case l.P.FF_COMMA:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case l.P.PERIOD:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;default:return}}})),E(this,"jumpToTop",(()=>{this.jump()})),E(this,"jumpToEnd",(()=>{this.jump(!0)})),E(this,"jump",(e=>{const t=this.getNavigableElements();let s,a=0,n=1,r=t.length-1;for(e&&(a=r,n=-1,r=0),s=t[a];this.isNotFocusable(s)&&a!==r;)a+=n,s=t[a];this.applyFocusTo(s)})),E(this,"isNotFocusable",(e=>!(e&&e.offsetHeight&&!e.disabled))),E(this,"getNavigableElements",(()=>{const e=(0,o.findDOMNode)(this);return Array.prototype.slice.call(e.querySelectorAll("[data-iskeynav]"))})),E(this,"navigate",(e=>{const t=this.getNavigableElements(),{min:s,max:a}=Math,n=t.length-1,r=t.indexOf(document.activeElement);let o,i;if(t.length){for(this.props.circularNavigation?(o=r+e,o>n?o=0:o<0&&(o=n)):o=s(a(r+e,0),n),i=t[o];i&&this.isNotFocusable(i);)o+=e,i=t[o];i&&this.applyFocusTo(i)}})),E(this,"resetTabIndex",(()=>{const e=(0,o.findDOMNode)(this).querySelectorAll('[tabindex="'+this.props.groupTabIndex+'"]');for(let t=0;t<e.length;++t)e[t].tabIndex=-1})),E(this,"applyFocusTo",(e=>{this.resetTabIndex(),e.tabIndex=this.props.groupTabIndex,e.focus()}))}componentDidMount(){const e=(0,o.findDOMNode)(this),t=this.getNavigableElements();t.length&&!e.querySelector(`[tabindex="${this.props.groupTabIndex}"]`)&&(t[0].tabIndex=this.props.groupTabIndex),this.mousetrap=this.context.bindShortcut(S,this.handleKeyDown,e)}componentWillUnmount(){this.context.unbindShortcut(S,this.mousetrap)}render(){const{formatMessage:e}=this.context.intl,t=Object.assign({},this.props);return delete t.axis,delete t.circularNavigation,delete t.groupTabIndex,delete t.groupTabIndex,delete t.excludeKeyCodes,delete t.skipKeydownOnFormElement,r.createElement("div",d({"data-test-id":"focus-group",ref:e=>this.focusGroup=e,onKeyDown:this.handleKeyDown,onClick:this.handleClick,"aria-label":e(_.focus_group_aria_label)},t),this.props.children)}}E(p,"contextTypes",{intl:i.intlShape.isRequired,bindShortcut:n().func,unbindShortcut:n().func}),E(p,"defaultProps",{axis:m.VERTICAL,circularNavigation:!0,groupTabIndex:0,skipKeydownOnFormElement:!0,excludeKeyCodes:[]});const C=p},28507:(e,t,s)=>{"use strict";s.d(t,{Z:()=>Me});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(79483),l=s(97665),c=s(42655),d=s(43373),E=s(95406),_=s(37422),u=s(34443),m=s(76223),S=s.n(m),p=s(31871),C=s.n(p),A=s(68949),T=s(54400),h=s(52032),g=s.n(h);(0,o.defineMessages)({"launch.error.banner.alt.text":{id:"launch.error.banner.alt.text",defaultMessage:"banner background"}});class I extends r.PureComponent{render(){const{logoUrl:e,logoSrcSet:t}=this.props,{intl:s,partner:a=""}=this.context,{formatMessage:n}=s,o=a===_.Ql2.AOL,i=S()(g(),{aolUser:o}),l=o?"/img/aol_mail_white_1x.png":"/img/yahoo_mail_global_english_white_1x.png",c=o?"/img/aol_mail_white_2x.png":"/img/yahoo_mail_global_english_white_2x.png",d="undefined"!=typeof window&&document.getElementById("ybar-logo");return r.createElement("div",{className:i.head},!d&&r.createElement("img",{alt:n(T.Z.mailBrandName),src:e||(0,A.A)(l),srcSet:t||(0,A.A)(c)+" 2x",className:i.logo}),r.createElement("div",{className:i.headerText},n(T.Z.mailBrandName)))}}var R,O,D;R=I,O="contextTypes",D={intl:o.intlShape.isRequired,partner:n().string},O in R?Object.defineProperty(R,O,{value:D,enumerable:!0,configurable:!0,writable:!0}):R[O]=D;const N=I;var f=s(43007),M=s(28996),L=s.n(M),P=s(76531),y=s(78137);const b=S()(L()),F=({leftRailSelection:e})=>r.createElement("div",{className:b.leftRailItemsContainer},r.createElement("button",{className:b.link,disabled:!0},r.createElement(o.FormattedMessage,{id:"user_registration_compose_btn",defaultMessage:"Compose"})),e&&r.createElement("div",{className:b.accountslist,"data-test-id":"known-imap-provider"},r.createElement("div",{className:b.accountsListItem,"data-test-id":"imap-provider-name"},e),r.createElement("div",{className:b.moreIcon},r.createElement("span",{className:b.iconContainer},r.createElement(f.Z,{kind:P.Kinds.MORE,size:P.Sizes.XXXS,colorState:P.ColorStates.SECOND_LEVEL_GRAY})))),r.createElement("ul",{className:b.folderList},(0,y.w6)(9).map((e=>{const t=e%3*10+28+"px";return r.createElement("li",{key:e,className:b.listItem},r.createElement("div",{className:b.folderName,style:{width:t}}))}))),r.createElement("div",{className:b.header},r.createElement("div",{className:b.folderName,style:{width:"41px"}}),r.createElement("div",{className:b.folderNameRight,style:{width:"25px"}})),r.createElement("ul",{className:b.list},[P.Kinds.TAB_IMAGES,P.Kinds.DOCUMENTS_S,P.Kinds.CAL_MAYBE].map(((e,t)=>{const s=t%3*10+28+"px";return r.createElement("li",{key:e,className:b.listItem},r.createElement(f.Z,{kind:e,size:P.Sizes.XS,colorState:P.ColorStates.THIRD_LEVEL_GRAY}),r.createElement("div",{className:b.folderName,style:{width:s}}))}))));const U=S()(C());class v extends r.PureComponent{render(){const{leftRailSelection:e,dataTestId:t,renderMainContent:s,logoUrl:a,logoSrcSet:n,isRTL:o}=this.props;return r.createElement("table",{className:U.mainBody,"data-test-id":t},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{colSpan:"3",className:U.headerContainer},r.createElement(N,{logoUrl:a,logoSrcSet:n,isRTL:o}))),r.createElement("tr",null,r.createElement("td",{className:U.leftRailContainer},r.createElement(F,{leftRailSelection:e})),r.createElement("td",{className:U.contentContainer,id:"dt-content"},s()),r.createElement("td",{className:U.rightRailContainer}))))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(v,"defaultProps",{dataTestId:"mail-app-dt-skeleton-id",renderMainContent:()=>{}});const w=v;var G=s(72091),k=s.n(G),H=s(8106);const B=S()(k()),x=(0,o.defineMessages)({wrong_mailbox_state_default_header:{id:"wrong_mailbox_state_default_header",defaultMessage:"We're having trouble accessing your mailbox"},wrong_mailbox_state_default_msg:{id:"wrong_mailbox_state_default_msg",defaultMessage:"If you continue to experience issues, please contact {customercare}"},wrong_mailbox_state_customercare:{id:"wrong_mailbox_state_customercare",defaultMessage:"customer care"},wrong_mailbox_state_default_cta:{id:"wrong_mailbox_state_default_cta",defaultMessage:"Try again"},wrong_mailbox_state_maintenance_header:{id:"wrong_mailbox_state_maintenance_header",defaultMessage:"Your new mailbox is on the way!"},wrong_mailbox_state_deleted_header:{id:"wrong_mailbox_state_deleted_header",defaultMessage:"Setting up your mailbox"},wrong_mailbox_state_deleted_msg:{id:"wrong_mailbox_state_deleted_msg",defaultMessage:"A fresh mailbox is being created, since the old one was inactive for more than 12 months."},wrong_mailbox_state_maintenance_msg:{id:"wrong_mailbox_state_maintenance_msg",defaultMessage:"We’re just putting the finishing touches on it."},wrong_mailbox_state_maintenance_cta:{id:"wrong_mailbox_state_maintenance_cta",defaultMessage:"Go to Inbox"}}),V={[_.xLM.MAINTENANCE]:{headerLogo:(0,A.A)("/img/festive_graphic.png"),headerString:x.wrong_mailbox_state_maintenance_header,descriptionString:x.wrong_mailbox_state_maintenance_msg,ctaButtonString:x.wrong_mailbox_state_maintenance_cta,hasCTA:!0},[_.xLM.DISABLED]:{headerLogo:(0,A.A)("/img/error_state_1x.png"),headerString:x.wrong_mailbox_state_default_header,descriptionString:x.wrong_mailbox_state_default_msg,ctaButtonString:x.wrong_mailbox_state_default_cta,hasCTA:!1},[_.xLM.DELETED]:{headerLogo:(0,A.A)("/img/festive_graphic.png"),headerString:x.wrong_mailbox_state_deleted_header,descriptionString:x.wrong_mailbox_state_deleted_msg,ctaButtonString:x.wrong_mailbox_state_maintenance_cta,hasCTA:!0},default:{headerLogo:(0,A.A)("/img/error_state_1x.png"),headerString:x.wrong_mailbox_state_default_header,descriptionString:x.wrong_mailbox_state_default_msg,ctaButtonString:x.wrong_mailbox_state_default_cta,hasCTA:!0}},W=({error:e,appName:t},s)=>{const{intl:{locale:a,formatMessage:n},partner:o=""}=s,i=(({errorInfo:e={}})=>e.skipMboxStateCheck?V.default:V[e.mailboxState])({errorInfo:e.data}),l=o.toUpperCase()===_.Bs7.AOL?"https://help.aol.com/contact/":"https://io.help.yahoo.com/contact/index?page=contact&locale=en_US&y=PROD_MAIL_ML",c=(0,H.Y0)(l,{locale:a}),d=n(x.wrong_mailbox_state_customercare),E=`<a href='${c}' class='${B.anchorStyle}'>${d}.</a>`;let u=(e=>e===_.BQZ.MOBILE_APP?_.IZo+"/":e===_.BQZ.BASIC_MOBILE_APP?_.bCI+"/":e===_.BQZ.BASIC_MAIL_APP?_.Zs1+"/":_.jQ2+"/")(t);return u+=(-1===u.indexOf("?")?"?":"&")+"mboxstate="+e.data.mailboxState,r.createElement("div",{className:B.container},r.createElement("img",{alt:n(i.headerString),src:i.headerLogo}),r.createElement("h1",{className:B.header},n(i.headerString)),r.createElement("div",{className:B.body},r.createElement("div",{className:B.description,dangerouslySetInnerHTML:{__html:n(i.descriptionString,{customercare:E})}})),r.createElement("div",{className:B.footer},i.hasCTA?r.createElement("a",{href:u,className:B.buttonStyle,rel:"noopener","data-test-id":"launch-error-action"},n(i.ctaButtonString)):null))};W.contextTypes={intl:o.intlShape,mailBrandNameString:n().string,partner:n().string};const Z=W;var K=s(15632);function z(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const q=S()(k()),Y={15:(0,K.U5)("SLN3549"),19:(0,K.U5)("SLN3553")},j=(0,o.defineMessages)({"launch.error.classic.mail.url":{id:"launch.error.classic.mail.url",defaultMessage:"Go to Classic Mail"},"launch.error.basic.mail.url":{id:"launch.error.basic.mail.url",defaultMessage:"Try basic version"},"launch.error.launch_api_error.title":{id:"launch.error.launch_api_error.title",defaultMessage:"We are experiencing some technical difficulties"},"launch.error.launch_api_error.body":{id:"launch.error.launch_api_error.body",defaultMessage:"Temporary Error: {code}"},"launch.error.no_script_error.title":{id:"launch.error.no_script_error.title",defaultMessage:"Javascript is not enabled on your browser."},"launch.error.no_script_error.body":{id:"launch.error.no_script_error.body",defaultMessage:"Enable javascript to enjoy all the features in {mailBrandNameString}."},"launch.error.react_error.title":{id:"launch.error.react_error.title",defaultMessage:"{mailBrandNameString} has encountered a problem."},"launch.error.react_error.body":{id:"launch.error.react_error.body",defaultMessage:"Please wait a moment and then try going to your Inbox again."},"launch.error.default.oops":{id:"launch.error.default.oops",defaultMessage:"Oops!"},"launch.error.page_not_found.title":{id:"launch.error.page_not_found.title",defaultMessage:"Page not available"},"launch.error.page_not_found.body":{id:"launch.error.page_not_found.body",defaultMessage:"The requested page is not available on Mail."},"launch.error.default.title":{id:"launch.error.default.title",defaultMessage:"Your mail is temporarily unavailable."},"launch.error.default.body":{id:"launch.error.default.body",defaultMessage:"Please wait a moment and reload the page."},"launch.error.mailbox.maintenance.title":{id:"launch.error.mailbox.maintenance.title",defaultMessage:"Setting up your mailbox"},"launch.error.mailbox.maintenance.body":{id:"launch.error.mailbox.maintenance.body",defaultMessage:"Your new mailbox is being built, since you just created an account or your mailbox has been inactive for at least 12 months."},"launch.error.mailbox.inactive.title":{id:"launch.error.mailbox.inactive.title",defaultMessage:"We're having trouble accessing your mailbox"},"launch.error.mailbox.inactive.body":{id:"launch.error.mailbox.inactive.body",defaultMessage:"If you continue to experience issues, please contact"},"launch.error.help.pages":{id:"launch.error.help.pages",defaultMessage:"Learn more"},"launch.error.customercare":{id:"launch.error.customercare",defaultMessage:"customer care."},"launch.error.goto.inbox":{id:"launch.error.goto.inbox",defaultMessage:"Go to Inbox"},"launch.error.try.again":{id:"launch.error.try.again",defaultMessage:"Try again"},"launch.error.switch_account.title":{id:"launch.error.switch_account.title",defaultMessage:"This account has no mailbox"},"launch.error.switch_account_phone.body":{id:"launch.error.switch_account_phone.body",defaultMessage:"You're signed in with phone number {loginAlias}."},"launch.error.switch_account_external.body":{id:"launch.error.switch_account_external.body",defaultMessage:"You're signed in as {loginAlias}."},"launch.error.switch_account.optin":{id:"launch.error.switch_account.optin",defaultMessage:"Switch to the newest {mailBrandNameString}"},"launch.error.switch_account.login":{id:"launch.error.switch_account.login",defaultMessage:"Sign in to a different account"}});class Q extends r.Component{constructor(e){super(e),z(this,"getTitleText",(()=>{const{type:e,mailBrandNameString:t}=this.props,{formatMessage:s}=this.context.intl;switch(e){case _.ZB9.LAUNCH_PAGE_NOT_FOUND_ERROR:return s(j["launch.error.page_not_found.title"]);case _.ZB9.LAUNCH_API_ERROR:return s(j["launch.error.launch_api_error.title"]);case _.ZB9.NO_SCRIPT:return s(j["launch.error.no_script_error.title"]);case _.ZB9.REACT_ERROR:return s(j["launch.error.react_error.title"],{mailBrandNameString:t});case _.ZB9.SWITCH_ACCOUNT:return s(j["launch.error.switch_account.title"]);default:return s(j["launch.error.default.title"])}})),z(this,"getBodyText",(()=>{const{type:e,code:t,loginAlias:s,accountType:a,mailBrandNameString:n}=this.props,{formatMessage:r}=this.context.intl;switch(e){case _.ZB9.LAUNCH_PAGE_NOT_FOUND_ERROR:return r(j["launch.error.page_not_found.body"]);case _.ZB9.LAUNCH_API_ERROR:return r(j["launch.error.launch_api_error.body"],{code:t});case _.ZB9.NO_SCRIPT:return r(j["launch.error.no_script_error.body"],{mailBrandNameString:n});case _.ZB9.REACT_ERROR:return r(j["launch.error.react_error.body"]);case _.ZB9.SWITCH_ACCOUNT:return a===_.tO8.EXTERNAL?r(j["launch.error.switch_account_external.body"],{loginAlias:s}):r(j["launch.error.switch_account_phone.body"],{loginAlias:s});default:return r(j["launch.error.default.body"])}})),z(this,"getHelpPageURL",(()=>{const e=this.context.intl.locale||"en-US",{code:t}=this.props,s=e.replace("-","_"),{partner:a=""}=this.context,n=a.toUpperCase()===_.Bs7.AOL?"https://help.aol.com/contact/":"https://io.help.yahoo.com/contact/index?page=contact&locale=en_US&y=PROD_MAIL_ML";return Y[t]?(0,H.Y0)(Y[t](e,a),{locale:s}):(0,H.Y0)(n,{locale:s})})),z(this,"getHelpLinkMarkUp",(()=>{const{type:e}=this.props;if(e===_.ZB9.SWITCH_ACCOUNT)return null;const t=this.getHelpPageURL(),{formatMessage:s}=this.context.intl,a=s(j["launch.error.help.pages"]);return r.createElement("a",{href:t,target:"_blank",className:q.anchorStyle,rel:"noopener"},a)})),z(this,"getCTAMarkUp",(()=>{const{type:e,norrinOptin:t,crumb:s,mailBrandNameString:a,appName:n,norrinHost:o}=this.props,{intl:{locale:i,formatMessage:l},region:c,partner:d}=this.context;let E=null,u=this.appRootPath;switch(e){case _.ZB9.LAUNCH_PAGE_NOT_FOUND_ERROR:case _.ZB9.REACT_ERROR:E=l(j["launch.error.goto.inbox"]);break;case _.ZB9.SWITCH_ACCOUNT:t&&n===_.BQZ.BASIC_MAIL_APP?(E=l(j["launch.error.switch_account.optin"],{mailBrandNameString:a||l(T.Z.mailBrandName)}),u=`${o}/optin?crumb=${s}`):(E=l(j["launch.error.switch_account.login"]),u=(0,_.Iu_)(c,i,d));break;default:E=l(j["launch.error.try.again"])}return r.createElement("div",null,r.createElement("a",{href:u,className:q.buttonStyle,rel:"noopener","data-test-id":"launch-error-action"},E))})),z(this,"renderBody",(()=>{const e=this.getBodyText(),t=this.getHelpLinkMarkUp();return r.createElement("div",null,r.createElement("div",{className:"warnBody"},e,r.createElement("br",null),t))})),z(this,"renderLaunchErrorAction",(()=>{const{formatMessage:e}=this.context.intl,{type:t,cspToken:s,appName:a,showCTAInErrorPage:n,nodinHost:o,nobleBasicHost:i}=this.props,l="window.location = '"+this.appRootPath+"?reason=no_script';",c=n?this.getCTAMarkUp():null;let d=o;d=a===_.BQZ.MOBILE_APP?i:o,d=`${d}?reason=nojs`;const E=a===_.BQZ.MOBILE_APP?e(j["launch.error.basic.mail.url"]):e(j["launch.error.classic.mail.url"]),u=r.createElement("div",null,r.createElement("a",{href:d,className:q.buttonStyle,rel:"noopener"},E),r.createElement("script",{type:"text/javascript",nonce:s,dangerouslySetInnerHTML:{__html:l}}));switch(t){case _.ZB9.NO_SCRIPT:return u;default:return c}}));const{appName:t}=e;t===_.BQZ.MOBILE_APP?this.appRootPath=_.IZo+"/":t===_.BQZ.BASIC_MOBILE_APP?this.appRootPath=_.bCI+"/":t===_.BQZ.BASIC_MAIL_APP?this.appRootPath=_.Zs1+"/":this.appRootPath=_.jQ2+"/"}render(){const{formatMessage:e}=this.context.intl,t=this.getTitleText()||e(j["launch.error.default.oops"]),s=(0,A.A)("/img/error_state_1x.png");return r.createElement("div",{className:q.container},r.createElement("style",null,"\n    html,\n    body {\n        height: 100%;\n    }\n"),r.createElement("img",{src:s}),r.createElement("h1",{className:q.header},t),r.createElement("div",{className:q.body},r.createElement("div",{className:q.description},this.renderBody())),r.createElement("div",{className:q.footer},this.renderLaunchErrorAction()))}}z(Q,"contextTypes",{intl:o.intlShape.isRequired,region:n().string,partner:n().string}),z(Q,"defaultProps",{showCTAInErrorPage:!0});const X=Q;var J=s(62739),$=s.n(J),ee=s(62631),te=s(99839),se=s(7351);function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const ne=(0,A.A)("/img/festive_graphic.png"),re=S()($()),oe=[_.zoT.GOOGLE,_.zoT.OUTLOOK,_.zoT.AOL],ie=(0,o.defineMessages)({header_message:{id:"nodin.external_users_header_message",defaultMessage:"Add your existing mailboxes to {mailBrandNameString}"},switch_account:{id:"nodin.external_users_switch_account",defaultMessage:"Switch account"}}),le=({accountType:e,userName:t},s)=>{const{intl:{locale:a,formatMessage:n},region:i,mailBrandNameString:l}=s,c=(0,ee.tO)(t);te.Z.error("nodin_imap_upsell",{accountType:e,provider:c,userName:t}),-1!==[_.zoT.VERIZON_MEDIA,_.zoT.YAHOO_INC].indexOf(c)&&-1===oe.indexOf(c)&&oe.push(c);const d=r.createElement("b",{className:re.userName},t);return r.createElement("div",{className:re.upsellPage},r.createElement("img",{className:re.image,alt:n(ie.header_message,{mailBrandNameString:l}),src:ne}),r.createElement("h1",{className:re.header},r.createElement(o.FormattedMessage,ae({},ie.header_message,{values:{mailBrandNameString:l}}))),r.createElement("div",{className:re.body},r.createElement("div",{className:re.description},e===_.tO8.PHONE?r.createElement(o.FormattedMessage,{id:"nodin.external_phone_login_message",defaultMessage:"You're signed in with phone number {userName}",values:{userName:d}}):r.createElement(o.FormattedMessage,{id:"nodin.external_email_login_message",defaultMessage:"You're signed in as {userName}.",values:{userName:d}})," ",r.createElement("a",{className:re.switchAccount,href:(0,_.Iu_)(i,a),title:n(ie.switch_account)},r.createElement(o.FormattedMessage,ie.switch_account))),r.createElement("div",{className:re.description},c?r.createElement(o.FormattedMessage,{id:"nodin.external_users_known_imap_description",defaultMessage:"You can read, compose and sort all your {name} messages from {mailBrandNameString}.",values:{name:(0,ee.zJ)(c),mailBrandNameString:l}}):r.createElement(o.FormattedMessage,{id:"nodin.external_users_unkown_imap_description",defaultMessage:"You can access your Google, Outlook and AOL mailboxes, all from within {mailBrandNameString}.",values:{mailBrandNameString:l}})),r.createElement("div",{className:re.providersOption},r.createElement("ol",{className:re.accountList},oe.filter((e=>!c||c===e)).map((e=>r.createElement("li",{key:e,className:re.listItem,"data-test-id":"supported-imap-providers"},r.createElement(se.Z,{provider:e}),r.createElement("button",{"data-test-id":`add-account-${e}-btn`,"data-email":c?t:"",id:`add-account-${e}-btn`,className:re.primaryButton},c?r.createElement(o.FormattedMessage,{id:"nodin.user_registration_sign_in_btn",defaultMessage:"Sign in to {name}",values:{name:(0,ee.zJ)(c)}}):r.createElement(o.FormattedMessage,{id:"nodin.user_registration_add_account",defaultMessage:"Add account"})))))))),r.createElement("div",{className:re.footer},!c&&r.createElement(o.FormattedMessage,{id:"nodin.external_supported_providers",defaultMessage:"We only support these providers as of now"})))};le.contextTypes={intl:o.intlShape,region:n().string,mailBrandNameString:n().string};const ce=le;var de=s(10728);const Ee=""+1.75*de.mg$,_e=""+-11.25*de.mg$,ue=""+-25*de.mg$,me=""+-38*de.mg$,Se=""+-50*de.mg$,pe=""+-62*de.mg$,Ce=(0,A.A)("/img/trap_page_browser_logos.png"),Ae={clear:"both",minHeight:"26px",padding:`${3.5*de.mg$}px 0 ${3.5*de.mg$}px ${12.5*de.mg$}px`,background:"url("+Ce+") no-repeat 0 0"},Te={outerWrapper:{width:"100%"},contentHolder:{width:"45%",minWidth:100*de.mg$+"px",maxWidth:175*de.mg$+"px",margin:"0px auto",padding:`${6*de.mg$}px ${6*de.mg$}px ${5*de.mg$}px ${6*de.mg$}px`},iconWrapper:{float:"left",marginRight:5*de.mg$+"px"},icon:{width:9*de.mg$+"px",height:9*de.mg$+"px"},title:{marginBottom:4*de.mg$+"px"},classicMailHolder:{marginTop:-1*de.mg$+"px"},classicMailDesc:{fontSize:de.qNP,display:"block",color:de.h_d,fontStyle:"normal"},ul:{listStyleType:"none",padding:"0px",margin:"0px"},upgradeLink:{float:"right",padding:`${1.5*de.mg$}px ${4.5*de.mg$}px`,marginTop:-1.5*de.mg$+"px",textDecoration:"none",fontSize:de.yN,fontWeight:"500",cursor:"pointer",borderRadius:de.mg$/2+"px",color:de.S6d,backgroundColor:de.HOW,border:`${de.mg$/4}px solid ${de.HOW}`,width:17.5*de.mg$+"px",textAlign:"center"},edgeLink:{marginTop:"0px"},nonActiveLink:{color:de.HOW,backgroundColor:de.Cjz,marginTop:"0px"},disableLink:{color:de.HxO,border:`${de.mg$/4}px solid ${de.HxO}`,backgroundColor:de.Cjz,marginTop:"0px",cursor:"not-allowed"},chrome:Object.assign({},Ae,{backgroundPosition:`0 ${Ee}px`}),firefox:Object.assign({},Ae,{backgroundPosition:`0 ${_e}px`}),ie:Object.assign({},Ae,{backgroundPosition:`0 ${ue}px`}),edge:Object.assign({},Ae,{backgroundPosition:`0 ${Se}px`}),safari:Object.assign({},Ae,{backgroundPosition:`0 ${me}px`}),classic:Object.assign({},Ae,{backgroundPosition:`0 ${pe}px`})};function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function ge(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ie=(0,o.defineMessages)({rs_page_icon_alert:{id:"rs_page_icon_alert",defaultMessage:"Alert icon"},rs_page_chrome:{id:"rs_page_browser_chrome",defaultMessage:"Google Chrome"},rs_page_msedge:{id:"rs_page_browser_msedge",defaultMessage:"Microsoft Edge"},rs_page_msedge_for_ie:{id:"rs_page_msedge_for_ie",defaultMessage:"Requires Edge 15 or newer"},rs_page_msedge_for_edge:{id:"rs_page_msedge_for_edge",defaultMessage:"This version of Edge is not supported."},rs_page_firefox:{id:"rs_page_browser_firefox",defaultMessage:"Firefox"},rs_page_ie:{id:"rs_page_browser_ie",defaultMessage:"Internet Explorer"},rs_page_safari:{id:"rs_page_browser_safari",defaultMessage:"Safari"},rs_page_recommend_text:{id:"rs_page_recommend_text_1",defaultMessage:"The latest version of {mailBrandNameString} is not supported on your browser. Please use a supported browser below or use basic Mail."},rs_page_opennow_link_text:{id:"rs_page_opennow_link_text",defaultMessage:"Open now"},rs_page_upgrade_link_text:{id:"rs_page_upgrade_link_text",defaultMessage:"Download"},rs_page_try_later_link_text:{id:"rs_page_try_later_link_text",defaultMessage:"Continue"},rs_page_basic_mail_title:{id:"rs_page_basic_mail_title",defaultMessage:"Continue with basic Mail"},rs_page_basic_mail_desc:{id:"rs_page_basic_mail_desc",defaultMessage:"This version has fewer features but supports older browsers."}});class Re extends r.Component{constructor(...e){super(...e),ge(this,"renderBrowserUpgradeRow",((e,t,s,a,n)=>{const{browserName:i}=this.props,l=s===Ie.rs_page_msedge,c=this.showEdgeLink()&&!l&&"IE"===i?Te.nonActiveLink:{},d=l&&"Edge"===i?Te.disableLink:Te.edgeLink,E=l&&"Edge"===i?"_self":"_blank";return r.createElement("li",{style:Object.assign({},e)},r.createElement("a",{href:t,style:{...Te.upgradeLink,...c,...d},target:E,rel:"noopener"},r.createElement(o.FormattedMessage,n||Ie.rs_page_upgrade_link_text)),a?r.createElement("div",{style:Te.classicMailHolder},r.createElement(o.FormattedMessage,s),r.createElement("em",{style:Te.classicMailDesc},r.createElement(o.FormattedMessage,a))):r.createElement(o.FormattedMessage,s))})),ge(this,"renderChrome",(()=>this.renderBrowserUpgradeRow({...Te.chrome},"https://www.google.com/chrome/browser/desktop/index.html",Ie.rs_page_chrome))),ge(this,"renderEdgeLauncher",((e,t)=>{const s=`microsoft-edge:${t}`;return this.renderBrowserUpgradeRow(Te.edge,"Edge"===e?"#":s,Ie.rs_page_msedge,"Edge"===e?Ie.rs_page_msedge_for_edge:Ie.rs_page_msedge_for_ie,Ie.rs_page_opennow_link_text)})),ge(this,"renderFirefox",(()=>this.renderBrowserUpgradeRow(Te.firefox,"https://www.mozilla.org/en-US/firefox/download/thanks/",Ie.rs_page_firefox))),ge(this,"renderSafari",(()=>this.renderBrowserUpgradeRow(Te.safari,"https://support.apple.com/HT201541",Ie.rs_page_safari))),ge(this,"showEdgeLink",(()=>{const{os:e,osVersion:t}=this.props;return"10"===t&&"windows"===e}))}render(){const{browserName:e,os:t,nodinHost:s,mailBrandNameString:a,globalHost:n}=this.props,{classicMailUrl:i=s+"?.src=ym&reason=unsupported_browser&toB=2"}=this.props;return r.createElement("div",{style:Te.outerWrapper},r.createElement("div",{style:Te.contentHolder,className:"usb_content_holder"},r.createElement("div",{style:Te.title},r.createElement(o.FormattedMessage,he({},Ie.rs_page_recommend_text,{values:{mailBrandNameString:a}}))),r.createElement("ul",{style:Te.ul,className:"usb_list"},this.showEdgeLink()&&this.renderEdgeLauncher(e,n),"Chrome"===e&&this.renderChrome(),"Firefox"===e&&this.renderFirefox(),"Safari"===e&&this.renderSafari(),"Chrome"!==e&&this.renderChrome(),"Firefox"!==e&&this.renderFirefox(),"Safari"!==e&&t===_.Msg.MAC&&this.renderSafari(),r.createElement("li",{style:Object.assign({},Te.li,Te.classic)},r.createElement("a",{href:i,style:Object.assign({},Te.upgradeLink,Te.nonActiveLink),rel:"noopener"},r.createElement(o.FormattedMessage,Ie.rs_page_try_later_link_text)),r.createElement("div",{style:Te.classicMailHolder},r.createElement(o.FormattedMessage,Ie.rs_page_basic_mail_title),r.createElement("em",{style:Te.classicMailDesc},r.createElement(o.FormattedMessage,Ie.rs_page_basic_mail_desc)))))))}}ge(Re,"contextTypes",{intl:o.intlShape.isRequired}),ge(Re,"defaultProps",{browserName:"",os:"",osVersion:""});const Oe=Re;function De(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ne=(0,o.defineMessages)({"launch.error.banner.alt.text":{id:"launch.error.banner.alt.text",defaultMessage:"banner background"},"launch.error.inbox.text":{id:"launch.error.inbox.text",defaultMessage:"Inbox"}});class fe extends r.Component{constructor(...e){super(...e),De(this,"initRapidClient",(()=>{i.ZP.init({rapid:{spaceid:159600033,test_id:"norrin",keys:window.BrowserLoggerParams,dwell_on:!0,extendbcookie:!0}})})),De(this,"getErrorType",(()=>{const{error:e,nodinPhoneEmailReg:t}=this.props;switch(e.name){case u.YU:return _.ZB9.LAUNCH_PAGE_NOT_FOUND_ERROR;case u.BM:return _.ZB9.LAUNCH_API_ERROR;case u.hF:return _.ZB9.ABUSIVE_USER;case u.uL:return _.ZB9.WRONG_MAILBOX_STATE;case"LaunchError.NoScript":return _.ZB9.NO_SCRIPT;case"LaunchError.UnsupportedBrowser":return _.ZB9.UNSUPPORTED_BROWSER;case u.gM:return t?_.ZB9.NO_ACTIVE_MAILBOX:_.ZB9.SWITCH_ACCOUNT;case _.ZB9.REACT_ERROR:return _.ZB9.REACT_ERROR;case"GenericError":case"UnknownError":return _.ZB9.SERVER_ERROR}return _.ZB9.DEFAULT})),De(this,"getErrorMessage",(()=>{const{error:e}=this.props;return e.message})),De(this,"_getErrorProperty",(e=>{const{error:t}=this.props;return(0,E.u9)(t,`data.${e}`,null)})),De(this,"getApiName",(()=>this._getErrorProperty("apiName"))),De(this,"getErrorCode",(()=>this._getErrorProperty("errorCode"))),De(this,"getStatusCode",(()=>this._getErrorProperty("statusCode"))),De(this,"getExtraErrorCode",(()=>this._getErrorProperty("extraErrorCode"))),De(this,"getExtraStatusCode",(()=>this._getErrorProperty("extraStatusCode"))),De(this,"getCode",(()=>this._getErrorProperty("code"))),De(this,"getBrowserName",(()=>this._getErrorProperty("browserName"))),De(this,"getOS",(()=>this._getErrorProperty("os"))),De(this,"getOSVersion",(()=>this._getErrorProperty("osVersion"))),De(this,"getBasicMailUrl",(()=>this._getErrorProperty("basicMailUrl"))),De(this,"getCspToken",(()=>this._getErrorProperty("cspToken"))),De(this,"getCspToken",(()=>this._getErrorProperty("cspToken"))),De(this,"getLoginAlias",(()=>this._getErrorProperty("loginAlias"))),De(this,"getAccountType",(()=>this._getErrorProperty("accountType"))),De(this,"isNorrinOptinEnabled",(()=>this._getErrorProperty("norrinOptin"))),De(this,"renderLaunchErrorDialog",(()=>{const{isRTL:e,mailBrandNameString:t,crumb:s,showCTAInErrorPage:a,endpoints:n,appName:o}=this.props,i=this.getErrorType(),{GLOBAL_NODIN_HOST:l,GLOBAL_NORRIN_HOST:c,GLOBAL_NOBLE_BASIC_HOST:d,GLOBAL_HOST:E}=n;switch(i){case _.ZB9.LAUNCH_API_ERROR:return r.createElement(X,{appName:o,type:i,code:this.getCode(),isRTL:e,mailBrandNameString:t,nodinHost:l,norrinHost:c,nobleBasicHost:d});case _.ZB9.NO_SCRIPT:return r.createElement(X,{appName:o,type:i,cspToken:this.getCspToken(),isRTL:e,mailBrandNameString:t,nodinHost:l,norrinHost:c,nobleBasicHost:d});case _.ZB9.UNSUPPORTED_BROWSER:return r.createElement(Oe,{browserName:this.getBrowserName(),os:this.getOS(),osVersion:this.getOSVersion(),classicMailUrl:this.getBasicMailUrl(),mailBrandNameString:t,nodinHost:l,globalHost:E});case _.ZB9.WRONG_MAILBOX_STATE:return r.createElement(Z,this.props);case _.ZB9.SWITCH_ACCOUNT:return r.createElement(X,{appName:o,type:i,norrinOptin:this.isNorrinOptinEnabled(),loginAlias:this.getLoginAlias(),accountType:this.getAccountType(),crumb:s,isRTL:e,showCTAInErrorPage:a,mailBrandNameString:t,nodinHost:l,norrinHost:c,nobleBasicHost:d});case _.ZB9.NO_ACTIVE_MAILBOX:return r.createElement(ce,{userName:this.getLoginAlias(),accountType:this.getAccountType(),crumb:s,isRTL:e});case _.ZB9.ABUSIVE_USER:case _.ZB9.REACT_ERROR:case _.ZB9.LAUNCH_PAGE_NOT_FOUND_ERROR:case _.ZB9.SERVER_ERROR:case _.ZB9.DEFAULT:return r.createElement(X,{appName:o,type:i,isRTL:e,mailBrandNameString:t,nodinHost:l,norrinHost:c,nobleBasicHost:d})}return null}))}getChildContext(){const{mailBrandNameString:e,partner:t}=this.props;return{mailBrandNameString:e,partner:t}}componentDidMount(){const e=this.getErrorType(),t=this.getErrorMessage();if(t!==u.lV&&t!==u.mm){if(e===_.ZB9.LAUNCH_API_ERROR||e===_.ZB9.SERVER_ERROR){let{error:e}=this.props;e=c.Z.jsonToError(e);const t={apiName:this.getApiName(),errorCode:this.getErrorCode(),statusCode:this.getStatusCode(),isOnline:!0},s=this.getExtraErrorCode(),a=this.getExtraStatusCode();s&&(t.extraErrorCode=s),a&&(t.extraStatusCode=a),this.initRapidClient(),(0,d.apiErrorLogger)(l.Z,_.BrN.MailAPIClient,t,e)}}else window.location.href=_.kac+"?reason="+u.L$[t]+"&crumb="+this.props.crumb}render(){const e=this.getErrorMessage();if(e===u.lV||e===u.mm)return null;const{formatMessage:t}=this.context.intl,{isRTL:s,logoUrl:a,logoSrcSet:n}=this.props;return r.createElement(w,{renderMainContent:()=>this.renderLaunchErrorDialog(),logoUrl:a,logoSrcSet:n,isRTL:s,leftRailSelection:t(Ne["launch.error.inbox.text"])})}}De(fe,"contextTypes",{intl:o.intlShape.isRequired}),De(fe,"childContextTypes",{mailBrandNameString:n().string,region:n().string,intl:o.intlShape,partner:n().string});const Me=fe},72091:e=>{"use strict";e.exports={className:{default:{container:"D_B ab_C t_C P_6DEy",header:"P_0 A_6LEV i_6UbO Y_6DEy U_6DEy",body:"t_C A_6EqO i_6FIA jb_6MGW",description:"M_0 C_Z281SGl",anchorStyle:"C_Z2aVTcY S_n",buttonStyle:"P_ZGAgin A_6EqO u_e69 S_n r_P e_dRA C_2bfYWg I_Z2aVTcY b_2fAfSG t_C i_6FIA D_X"}},_key:"Z2hgm2n"}},35960:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a=s(67294),n=s(73935),r=s(8106);function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class i extends a.Component{constructor(...e){super(...e),o(this,"onEventHandler",(e=>{e.stopPropagation()}))}render(){if(!(0,r.jU)())return null;const{position:e,left:t,top:s,visibility:o,styles:i}=this.props;let l=Object.assign({position:e,left:t,top:s,visibility:o},i);return e&&t&&s&&o||(l=null),this.rootNode&&document.body.contains(this.rootNode)||(this.rootNode=document.getElementById(this.props.rootId)),this.rootNode&&document.body.contains(this.rootNode)?n.createPortal(a.createElement("div",{style:l,onClick:this.onEventHandler,onKeyUp:this.onEventHandler,onKeyPress:this.onEventHandler,onMouseOver:this.onEventHandler,onMouseUp:this.onEventHandler,onBlur:this.onEventHandler},this.props.children),this.rootNode):null}}o(i,"defaultProps",{rootId:"app"});const l=i},87771:(e,t,s)=>{"use strict";s.d(t,{cr:()=>T,nA:()=>i});var a=s(45697),n=s.n(a),r=s(67294);class o extends r.Component{render(){return null}}const i=o;var l=s(57557),c=s.n(l),d=s(96943),E=s(92743),_=s(85927);class u extends r.Component{constructor(e){super(e);const t=this.props._moduleResolver(),a=!!s.m[t],n=this._interopRequireDefault(a?s(t):null);this.state={LoadedComponent:n,loaded:a,failed:!1}}_updateLoadedState(e){const{onModuleLoadFailure:t,bundleName:s="lazy_group_1"}=this.props,a=d.Z.feature("lazy_component",{bundleName:s});e.then((e=>{this._isMounted&&(a.logSuccessAndLatency(),this.setState({loaded:!0,failed:!1,LoadedComponent:e.default?e.default:e}))})).catch((e=>{a.logFailure(),t&&t(e),this.setState({loaded:!0,failed:!0})}))}UNSAFE_componentWillReceiveProps(e){const t=this.props.isOffline&&!e.isOffline;this.state.failed&&t&&this.load()}componentDidMount(){if(this._isMounted=!0,!this.state.loaded)if(this.props.defer){const e=()=>{window.requestIdleCallback?window.requestIdleCallback((()=>this.load())):setTimeout((()=>this.load()))};"complete"===document.readyState?e():window.addEventListener("load",e)}else this.load()}componentDidUpdate(e,t){if(t.loaded!==this.state.loaded&&this.state.loaded){const{onModuleLoadSuccess:e}=this.props;e&&e()}}componentWillUnmount(){this._isMounted=!1}load(){this._updateLoadedState(this.props._moduleLoader())}_interopRequireDefault(e){return e&&e.__esModule?e.default:e}render(){const e=r.Children.toArray(this.props.children);if(!this.state.loaded)return A(e.find(m));if(this.state.failed){let t=null;return this.props.isOffline&&(t=e.find(p)),A(t||e.find(S))}const t=this.state.LoadedComponent,s=c()(this.props,["import","defer","onModuleLoadFailure","onModuleLoadSuccess","_moduleLoader","_moduleResolver","isOffline","bundleName","children"]);return r.createElement(t,s,e.filter(C))}}function m(e){return e.props.loading}function S(e){return e.props.failed}function p(e){return e.props.offline}function C(e){return e.type!==i}function A(e){return e&&e.props.children?r.Children.only(e.props.children):null}const T=(0,E.connect)((e=>{const{isOnline:t}=(0,_.selectors)(e);return{isOffline:!t()}}))(u);var h=s(67498),g=s(28182);function I(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class R extends r.Component{constructor(...e){super(...e),I(this,"handleClick",(e=>{e.preventDefault(),this.context.retry()}))}render(){return r.createElement(h.Z,{kind:g.F.CHROMELESS,onClick:this.handleClick},this.props.children)}}I(R,"contextTypes",{retry:n().func})},94482:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s(45697);var a,n,r,o=s(67294),i=s(68636),l=s.n(i),c=s(76223),d=s.n(c),E=s(77078);s(95406);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class u extends o.Component{render(){const{name:e,kind:t,ariaLabel:s,dir:a,title:n,...r}=this.props,i=d()(l(),{kind:t}),c=this.props.children||this.props.text;return o.createElement("li",_({name:e,title:n,"data-test-id":e,className:i.listItem,"aria-label":s,role:"menuitem",dir:a},r),c)}}a=u,n="defaultProps",r={kind:E.F.DEFAULT},n in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r;const m=u},26:(e,t,s)=>{"use strict";s.d(t,{u:()=>E,Z:()=>u});var a=s(45697),n=s.n(a),r=s(67294),o=s(95406),i=s(94700),l=s.n(i),c=s(76223),d=s.n(c);let E;!function(e){e.S="S",e.M="M"}(E||(E={}));n().oneOf((0,o.VO)(E)),n().bool,n().bool;const _=({size:e,inverted:t,flex:s})=>{const a=d()(l(),{size:e,inverted:!!t,flex:!!s});return r.createElement("div",{className:a.wrapper},r.createElement("div",{className:a.container,"data-test-id":"loading_indicator"},r.createElement("svg",{className:a.spinner,viewBox:"0 0 24 24",width:"24",height:"24"},r.createElement("path",{className:a.arc,d:"M12,22C6.477,22,2,17.523,2,12S6.477,2,12,2"}),r.createElement("path",{className:a.arc,d:"M12,2c5.523,0,10,4.477,10,10s-4.477,10-10,10"}))))};_.defaultProps={size:E.M};const u=_},84210:e=>{"use strict";e.exports={className:{default:{link:"C_Z2aVTcY r_P"}},_key:"62EcE"}},64828:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>R});s(45697);var a=s(67294),n=s(92743),r=s(85927),o=s(73935),i=s(7449),l=s(35960),c=(s(78041),s(95406),s(8470)),d=s(40918),E=s(76223),_=s.n(E),u=s(3480),m=s.n(u),S=s(23279),p=s.n(S);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function A(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const T=()=>{},h=["click","focus","resize"],g=["resize"];class I extends a.Component{constructor(e){super(e),A(this,"state",{show:!1,dimensionStyles:{}}),A(this,"handleHide",(e=>{const t=o.findDOMNode(this.refs.menu),s=o.findDOMNode(this.props.actionNode);let a;"focus"===e.type&&t&&t.scrollHeight>t.clientHeight&&(a=document.querySelectorAll(":hover"),a=a[a.length-1],t.contains(a))||!t||e.target instanceof Node&&(t.contains(e.target)||s.contains(e.target))||(this.setState({show:!1}),this.props.onHideMenu())})),A(this,"handleEscape",(()=>{this.setState({show:!1}),this.props.onHideMenu(),o.findDOMNode(this.props.actionNode).focus()})),A(this,"handleKeyDown",(e=>{switch(e.key){case"Escape":e.preventDefault(),e.stopPropagation(),this.handleEscape();break;default:return void e.stopPropagation()}})),this.scrollDebounce=p()(this.handleScroll.bind(this),100)}handleScroll(){this.state.show&&this.refs.menu&&this.setState({dimensionStyles:(0,i.E)(o.findDOMNode(this.props.actionNode),o.findDOMNode(this.refs.menu),this.props.isRTL)})}componentDidMount(){this.refs.menu&&(this.setState({show:!0,dimensionStyles:(0,i.E)(o.findDOMNode(this.props.actionNode),o.findDOMNode(this.refs.menu),this.props.isRTL)},(function(){o.findDOMNode(this.refs.navigableList).focus()})),window.addEventListener("scroll",this.scrollDebounce,!0),(this.props.persistOnClick?g:h).forEach((e=>{window.addEventListener(e,this.handleHide,!0)})))}UNSAFE_componentWillReceiveProps(e){e.disabled&&this.setState({show:!1},this.props.onHideMenu)}componentWillUnmount(){window.removeEventListener("scroll",this.scrollDebounce,!0),h.forEach((e=>{window.removeEventListener(e,this.handleHide,!0)}))}render(){if(!this.props.children)return null;const e=_()(m()),t=this.state.show?"visible":"hidden",s=Object.assign({position:"absolute",visibility:t},this.state.dimensionStyles);return a.createElement(l.Z,null,a.createElement("div",{onKeyDown:this.handleKeyDown,className:e.menu,onClick:this.props.persistOnClick?this.props.focusBackEditor:this.handleEscape,ref:"menu",style:s,"data-test-id":"menu"},a.createElement(c.Z,C({ref:"navigableList",kind:d.F.MENU,layout:this.props.menuLayout,onHide:this.handleHide,onEscape:this.handleEscape},this.props),this.props.children)))}}A(I,"defaultProps",{onHide:T,persistOnClick:!1,focusBackEditor:T,disabled:!1});const R=(0,n.connect)((e=>{const{getEnvironmentSelectors:t}=(0,r.selectors)(e);return{isRTL:"rtl"===t().getPageDirection()}}))(I)},66679:(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});s(45697);var a,n,r,o=s(67294),i=s(67498),l=s(28182);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class d extends o.Component{render(){const{hasText:e,isActive:t,children:s,...a}=this.props,n=t?l.F.ICON_HIGHLIGHTED:l.F.ICON;return o.createElement(i.Z,c({},a,{"aria-controls":"react-menu-component","aria-haspopup":!0,kind:e?l.F.CHROMELESS:n}),s)}}r={hasText:!1,isActive:!1},(n="defaultProps")in(a=d)?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r;const E=d},21939:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});s(45697);var a=s(67294),n=s(73935),r=(s(56148),s(66679),s(64828),s(76223)),o=s.n(r),i=s(6483),l=s.n(i);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const E=()=>{};class _ extends a.Component{constructor(...e){super(...e),d(this,"state",{isMenuVisible:!1}),d(this,"toggleMenu",(()=>{this.state.isMenuVisible?this.hideMenu():this.showMenu()})),d(this,"showMenu",(()=>{this.setState({isMenuVisible:!0}),this.props.onMenuShow()})),d(this,"hideMenu",(()=>{this.setState({isMenuVisible:!1}),this.props.onMenuHide()})),d(this,"handleMenuButtonKeyDown",(e=>{switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),this.toggleMenu();break;case"Escape":e.preventDefault(),this.hideMenu(),this.blurMenuButton()}})),d(this,"blurMenuButton",(()=>{n.findDOMNode(this.refs.button).blur()}))}componentDidUpdate(e,t){this.props.afterMenuHide&&!this.state.isMenuVisible&&t.isMenuVisible&&this.props.afterMenuHide()}componentDidMount(){this.props.parentMenu&&this.setState({isMenuVisible:!0})}render(){const{onFocus:e,onBlur:t,onMenuShow:s,onMenuHide:n,afterMenuHide:r,children:i,showMenuActiveState:d,parentMenu:E,..._}=this.props,[u,m]=a.Children.toArray(i),{isMenuVisible:S}=this.state,p=o()(l(),{active:S&&d});let C=null;u&&(C=a.cloneElement(u,{ref:"button","aria-expanded":S,onClick:this.toggleMenu,onKeyDown:this.handleMenuButtonKeyDown,onFocus:e,onBlur:t,isActive:S}));let A=null;return E&&m?A=a.cloneElement(m,{ref:"submenu",actionNode:E.refs.button,onHideMenu:this.hideMenu}):S&&m&&(A=a.cloneElement(m,{ref:"menu",actionNode:this.refs.button,onHideMenu:this.hideMenu})),a.createElement("div",c({},_,{className:p.buttonContainer}),C,A)}}d(_,"defaultProps",{onMenuShow:E,onMenuHide:E,onFocus:E,onBlur:E,showMenuActiveState:!1});const u=_},26208:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});s(45697);var a=s(67294),n=s(94482),r=s(67498),o=s(28182);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class l extends a.Component{render(){return a.createElement(n.Z,null,a.createElement(r.Z,i({kind:o.F.MENUITEM},this.props),this.props.children))}}const c=l},89963:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var a=s(45697),n=s.n(a),r=s(67294),o=s(35960),i=s(76223),l=s.n(i),c=s(40687),d=s.n(c),E=s(83588),_=(s(95406),s(12782));function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class m extends r.Component{constructor(...e){super(...e),u(this,"forceFocus",(()=>{this.refs.content&&this.refs.content.focus()})),u(this,"handleBlurCapture",(e=>{const t=e.relatedTarget||e.nativeEvent.explicitOriginalTarget||e.nativeEvent.srcElement;this.refs.content.contains(t)||setTimeout(this.forceFocus,0)})),u(this,"handleKeyDown",(e=>{const{onKeyDown:t,onClose:s}=this.props;e.stopPropagation(),"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),s(e)):t&&t(e)})),u(this,"handleOuterPartClick",(e=>{if(e.stopPropagation(),this.props.onOuterClick)return this.props.onOuterClick(e);this.props.onClose(e)}))}componentDidMount(){this.forceFocus(),window.addEventListener("focus",this.forceFocus),this.refs.content&&(this.mousetrap=this.context.bindShortcut(["esc"],this.handleKeyDown,this.refs.content))}componentWillUnmount(){window.removeEventListener("focus",this.forceFocus),this.mousetrap&&this.context.unbindShortcut(["esc"],this.mousetrap)}render(){const{children:e,kind:t,ariaLabelledBy:s,ariaDescribedBy:a,hideShadow:n,layerRootId:i}=this.props,c=l()(d(),{kind:t,hideShadow:n});return r.createElement(o.Z,{rootId:i},r.createElement("div",{onClick:this.handleOuterPartClick,className:c.grayOverlay,"data-test-id":"modal-outer",id:"modal-outer",role:s||a?"alertdialog":null,"aria-labelledby":s,"aria-describedby":a},r.createElement(_.Z,null,r.createElement("div",{"data-test-id":"modal-content",className:c.container,ref:"content",onBlurCapture:this.handleBlurCapture,onKeyDown:this.handleKeyDown,onClick:S,tabIndex:0,role:s||a?"document":null},e))))}}function S(e){e.stopPropagation()}u(m,"contextTypes",{bindShortcut:n().func,unbindShortcut:n().func}),u(m,"defaultProps",{hideShadow:!1,kind:E.F.DARK,ariaLabelledBy:null,ariaDescribedBy:null,layerRootId:"app"});const p=m},8470:(e,t,s)=>{"use strict";s.d(t,{Z:()=>C});var a=s(45697),n=s.n(a),r=s(67294),o=s(73935),i=s(76223),l=s.n(i),c=(s(78041),s(95406),s(74290)),d=s.n(c),E=s(40918),_=s(77163);function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const m=()=>{},S=["escape","left","right","up","down","tab"];class p extends r.Component{constructor(...e){super(...e),u(this,"state",{cursorIndex:-1,nestedCursorIndex:-1}),u(this,"handleKeyDown",(e=>{const t=e.which||e.keyCode,s=e.target&&e.target.type&&"text"===e.target.type,{listNavigationOnInputEnabled:a,disableHorizontalNavigation:n}=this.props;if((!s||a&&(!a||t!==_.P.LEFT&&t!==_.P.RIGHT))&&(!n||t!==_.P.LEFT&&t!==_.P.RIGHT))switch(t){case _.P.LEFT:case _.P.UP:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case _.P.RIGHT:case _.P.DOWN:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;case _.P.TAB:return void this.setState({cursorIndex:-1});case _.P.ESCAPE:return e.preventDefault(),void this.escape();default:return}})),u(this,"handleBlur",(()=>{const e=(0,o.findDOMNode)(this);setImmediate((()=>{this._isMounted&&!e.contains(document.activeElement)&&this.props.onHide()}))}))}componentDidMount(){this._isMounted=!0,this.props.focusOnMount&&setTimeout((()=>this.list&&this.list.focus()),0),this.mousetrap=this.context.bindShortcut(S,this.handleKeyDown,this.list),this.props.onShow()}componentWillUnmount(){this._isMounted=!1,this.context.unbindShortcut(S,this.mousetrap)}resetCursorIndex(){this.setState({cursorIndex:-1})}escape(){(0,o.findDOMNode)(this).focus(),(0,o.findDOMNode)(this).blur(),this.setState({cursorIndex:-1}),this.props.onEscape()}navigate(e){const{listOptionsHaveMultipleFocusable:t}=this.props,{min:s,max:a}=Math,n=(0,o.findDOMNode)(this),r=n.getElementsByTagName("li"),i=r.length-1;let l;this.state.nestedCursorIndex>-1?l=this.state.cursorIndex:this.props.circularNavigation?(l=this.state.cursorIndex+e,l>i?l=0:l<0&&(l=i)):l=s(a(this.state.cursorIndex+e,0),i);const c=r[l];if(n.querySelector("button:not([disabled])")||n.querySelector("a")||n.querySelector('[role="checkbox"]')){let s=c.querySelector("button:not([disabled])")||c.querySelector("a")||c.querySelector('[role="checkbox"]');if(t){const e=c.querySelectorAll('button:not([disabled]), a, [role="checkbox"]');if(e.length>0&&this.state.nestedCursorIndex<e.length){const t=this.state.nestedCursorIndex+1;s=e.item(t),this.setState({nestedCursorIndex:t+1===e.length?-1:t})}}s?(this.setState({cursorIndex:l}),this.props.selectItemInsteadOfFocus?this.props.selectItemInsteadOfFocus(s):s.focus()):this.setState({cursorIndex:l},(function(){this.navigate(e)}))}}getRole(){switch(this.props.kind){case E.F.MENU:return"menu";case E.F.TOOLBAR:return"menubar";default:return"list"}}render(){const e=this.getRole(),t=l()(d(),{layout:this.props.layout,kind:this.props.kind,disabled:this.props.disabled,isRestrictedHeight:this.props.isRestrictedHeight});return r.createElement("ul",{"data-test-id":this.props["data-test-id"]||"navigable-list",ref:e=>this.list=e,tabIndex:this.props.tabIndex,role:e,onBlur:this.handleBlur,className:t.list},this.props.children)}}u(p,"contextTypes",{bindShortcut:n().func,unbindShortcut:n().func}),u(p,"defaultProps",{disabled:!1,tabIndex:-1,circularNavigation:!0,focusOnMount:!1,onShow:m,onHide:m,onEscape:m,isRestrictedHeight:!1,listNavigationOnInputEnabled:!1,listOptionsHaveMultipleFocusable:!1});const C=p},59427:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});s(45697);var a=s(67294),n=s(73935),r=s(76223),o=s.n(r),i=s(263),l=s.n(i),c=s(35960),d=s(69635);function E(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _=()=>{},u=o()(l());class m extends a.Component{constructor(...e){super(...e),E(this,"state",{overlayDimensionStyles:null}),E(this,"handleShimClick",(e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!1})})),E(this,"handleOverlayClick",(e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!0})})),E(this,"renderOverlayContent",(e=>a.createElement("div",{"data-test-id":"overlay-boundingbox",ref:"boundingBox",style:e,className:u.overlay,onClick:this.handleOverlayClick},this.props.children))),E(this,"renderOverlay",(e=>{const{useShim:t}=this.props;return t?a.createElement("div",{className:u.shim,onClick:this.handleShimClick,"data-test-id":"overlay-shim",id:"overlay-shim"},this.renderOverlayContent(e)):this.renderOverlayContent(e)}))}componentDidMount(){if(!this.refs.boundingBox)return;const{alignmentPoints:e,alignTo:t,onShow:s}=this.props;let{overlayDimensionStyles:a}=this.state;if(t){a=function(e,t,s){const[a,n]=s;var r=0,o=0,i=0,l=0;switch(a){case d.K.BottomRight:i=-t.width,l=-t.height;break;case d.K.TopLeft:i=0,l=0;break;case d.K.TopRight:i=-t.width,l=0;break;case d.K.BottomLeft:i=0,l=-t.height;break;case d.K.CenterRight:i=-t.width,l=-t.height/2;break;case d.K.CenterLeft:i=0,l=-t.height/2;break;case d.K.TopCenter:i=-t.width/2,l=0;break;case d.K.BottomCenter:i=-t.width/2,l=-t.height;break;default:i=0,l=0}switch(n){case d.K.BottomRight:r=e.left+e.width,o=e.top+e.height;break;case d.K.TopLeft:r=e.left,o=e.top;break;case d.K.TopRight:r=e.left+e.width,o=e.top;break;case d.K.BottomLeft:r=e.left,o=e.top+e.height;break;case d.K.CenterRight:r=e.left+e.width,o=e.top+e.height/2;break;case d.K.CenterLeft:r=e.left,o=e.top+e.height/2;break;case d.K.TopCenter:r=e.left+e.width/2,o=e.top;break;case d.K.BottomCenter:r=e.left+e.width/2,o=e.top+e.height;break;default:r=e.left,o=e.top}return{left:r+i+window.pageXOffset,top:o+l+window.pageYOffset}}(n.findDOMNode(t).getBoundingClientRect(),n.findDOMNode(this.refs.boundingBox).getBoundingClientRect(),e),this.setState({overlayDimensionStyles:a},s),window.addEventListener("keydown",this.props.onKeyDown)}}componentWillUnmount(){window.removeEventListener("keydown",this.props.onKeyDown)}render(){const{left:e,top:t,offsetTop:s,offsetLeft:n,alignTo:r,customInlineStyles:o}=this.props;let i=null,l=null,d=null;const{overlayDimensionStyles:E}=this.state;return null!==e&&null!==t?(l=e,d=t):E?(l=E.left,d=E.top):r&&(l=-1e4,d=-1e4),null!==l&&null!==d&&(l+=n,d+=s,o.height&&(o.height=`calc(100% - ${d}px)`),i={left:l,top:d,position:"absolute",...o}),a.createElement(c.Z,null,this.renderOverlay(i))}}E(m,"defaultProps",{alignmentPoints:[d.K.TopLeft,d.K.TopLeft],offsetTop:0,offsetLeft:0,left:null,top:null,onShow:_,onClick:_,onKeyDown:_,useShim:!1,customInlineStyles:{}});const S=m},44278:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>S});s(45697);var a=s(67294),n=s(10994),r=s.n(n),o=s(76223),i=s.n(o),l=s(43007),c=s(76531),d=s(37422),E=s(92743),_=s(85927);const u=e=>{e.stopPropagation()};function m({isAffiliatePartnerEnabled:e,isOnDarkBackground:t,noVigLinkCheck:s,redirectUrl:n,size:o,showSponsoredLogo:d}){const E=i()(r(),{isOnDarkBackground:t});return d?a.createElement("span",{className:E.sponsoredIconContainer},a.createElement(l.Z,{kind:c.Kinds.SPONSORED,size:c.Sizes.XXS,colorState:c.ColorStates.INHERITED})):s||e?a.createElement("a",{rel:"noreferrer",href:n,target:"_blank",className:E.infoIconContainer,onClick:u},a.createElement(l.Z,{kind:c.Kinds.INFO,size:o,colorState:c.ColorStates.INHERITED})):null}m.defaultProps={isOnDarkBackground:!1,noVigLinkCheck:!1,size:c.Sizes.S};const S=(0,E.connect)((e=>{const{getSetting:t,isFeatureEnabled:s}=(0,_.selectors)(e);return{redirectUrl:t(d.Zrf.PRIVACY_URL),isAffiliatePartnerEnabled:s(d.ANe.AFFILIATE_PARTNER),showSponsoredLogo:s(d.ANe.SHOW_SPONSORED_LOGO)}}))(m)},70006:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N,strings:()=>O});var a=s(45697),n=s.n(a),r=s(67294),o=s(73935),i=s(99095),l=s(56148),c=s(43007),d=s(19341),E=s(17016),_=(s(95406),s(10728),s(8106)),u=s(76223),m=s.n(u),S=s(67527),p=s.n(S),C=s(76531);const A=m()(p());class T extends r.Component{render(){const e={left:this.props.x,top:this.props.y};return r.createElement("div",{id:"drag-icon-div","data-test-id":"drag-image",className:A.dragIcon,style:e},r.createElement(l.Z,{title:"drag-icon",kind:this.props.iconKind,size:C.Sizes.XS,colorStates:{normal:C.ColorStates.SELECTED,hovered:C.ColorStates.SELECTED}}),r.createElement("div",{className:A.counter},this.props.count))}}const h=T;var g=s(44904),I=s.n(g);function R(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const O=(0,i.defineMessages)({remove_contact:{id:"compose.remove_contact",defaultMessage:"Remove"}});class D extends r.Component{constructor(...e){super(...e),R(this,"state",{hovered:!1,isDragHovered:!1,dragSide:"",isSelfDrag:!1}),R(this,"handleDragEnter",(()=>{this.setState({isDragHovered:!0})})),R(this,"handleDragOnPill",((e,t)=>{this.setState({dragSide:t})})),R(this,"handleDragLeave",(()=>{this.setState({dragSide:""}),this.state.isDragHovered&&this.setState({isDragHovered:!1})})),R(this,"shouldHandleDrop",(e=>e===this.refs.leftDragNode||e===this.refs.rightDragNode)),R(this,"handleDragOver",(e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()})),R(this,"handleDragEnd",(()=>{this.removeDragImage(),this.props.handleDragState(!1),this.setState({isDragHovered:!1,isSelfDrag:!1})})),R(this,"renderDragImage",((e,t)=>{const s=e.cloneNode(!0),a=m()(I(),{isDragImg:!0}),n=m()(I()),i=s.getElementsByClassName("pill-close")[0],{clientHeight:l,clientWidth:c}=e;if(this.imgContainer.id="drag-img",this.imgContainer.style.height=l+"px",this.imgContainer.style.maxWidth=c+10+"px",this.imgContainer.style.opacity=1,(0,_.je)(this.imgContainer),s.classList.remove.apply(s.classList,n.pillContent.split(" ")),s.classList.add.apply(s.classList,a.pillContent.split(" ")),i&&s.removeChild(i),this.imgContainer.appendChild(s),t>1){const e=document.createElement("div");e.style.position="absolute",o.render(r.createElement(h,{count:t,x:c-40,y:-14,iconKind:C.Kinds.CONTACT_CARD}),e),this.imgContainer.appendChild(e)}return this.imgContainer})),R(this,"removeDragImage",(()=>{if(this.imgContainer&&this.imgContainer.parentNode){const e=document.getElementById("icon-div");e&&e.parentNode&&(o.unmountComponentAtNode(e),e.parentNode.removeChild(e)),this.imgContainer.parentNode.removeChild(this.imgContainer)}this.imgContainer=null})),R(this,"handleDragStart",(e=>{const t=e.target,s=this,{selectedPills:a}=this.props,n={email:this.props.contactEmail,name:this.props.value,id:this.props.contactId};let r=a.length;const o=a.findIndex((({name:e,email:t})=>n.name===e&&n.email===t));this.imgContainer||(this.imgContainer=document.createElement("div"),document.body.appendChild(this.imgContainer)),e.dataTransfer.setData("text/pills",JSON.stringify({contact:n,dragFromField:this.props.inputField})),e.dataTransfer.effectAllowed="move",(0,_.nl)()&&(r>0&&-1===o&&(r+=1),e.dataTransfer.setDragImage(this.renderDragImage(t,r),0,0)),setTimeout((function(){s.props.handleDragState(!0),s.setState({isSelfDrag:!0})}))})),R(this,"handleDrop",((e,t)=>{this.shouldHandleDrop(e.target)&&(this.removeDragImage(),this.setState({dragSide:"",isDragHovered:!1}),this.props.handleDrop(e,t,this.props.contactId))})),R(this,"handleOnKeyDown",(e=>{e.stopPropagation()})),R(this,"handleHover",(e=>{this.setState({hovered:e})})),R(this,"renderPillImage",(e=>{const{isFolderPill:t,contactEmail:s,contactId:a,pillFujiKind:n,pillFujiSize:o,pillFujiColorState:i}=this.props,l=(0,E.isValidEmail)(s);return t?r.createElement("div",{"data-test-id":"pill-folder",className:e.pillDiv},r.createElement(c.Z,{kind:n,colorState:i,size:o})):l?r.createElement("div",{"data-test-id":"pill-avatar",className:e.avatar},r.createElement(d.ZP,{contact:{id:a,email:s},size:d.u8.S})):null})),R(this,"renderDraggedPill",((e,t)=>e?r.createElement("div",{className:t.dragHoverContent,"data-test-id":"drag-hover-content"},r.createElement("div",{"data-test-id":"drag-left-node",ref:"leftDragNode",className:t.dragHoverLeft,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"left"),onDrop:e=>this.handleDrop(e,"left")}),r.createElement("div",{"data-test-id":"drag-right-node",ref:"rightDragNode",className:t.dragHoverRight,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"right"),onDrop:e=>this.handleDrop(e,"right")})):null)),R(this,"renderRemovePill",((e,t,s)=>(this.props.isSelected||e)&&this.props.onPillRemove?r.createElement("div",{className:"pill-close "+t.pillRemove},r.createElement(l.Z,{kind:C.Kinds.CLOSE_MINI,size:C.Sizes.XXS,colorStates:s?{normal:C.ColorStates.DISABLED,hovered:C.ColorStates.SELECTED}:{normal:C.ColorStates.DISABLED,hovered:C.ColorStates.WARNING},onClick:this.props.onPillRemove,style:{padding:0},title:this.context.intl.formatMessage(O.remove_contact)})):null)),R(this,"handleChange",(e=>{this.props.onPillUpdate(e.target.value)})),R(this,"handleKeyDown",(e=>{const t=8*e.target.value.length;this.setState({inputWidth:t,inputValue:e.target.value}),e.stopPropagation()}))}componentDidMount(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}componentDidUpdate(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}UNSAFE_componentWillReceiveProps(e){if(this.props.title!==e.title){const t=e.title&&e.title.length?8*(e.title.length+1):300;this.setState({inputValue:e.title,inputWidth:t})}}render(){const{hovered:e,isDragHovered:t,dragSide:s,isSelfDrag:a}=this.state,{useEllipsis:n,isSelected:o,maxWidth:i,isDark:l,isFolderPill:c,isDragged:d,isEditing:_}=this.props,u=(0,E.isValidEmail)(this.props.contactEmail),S=!u,p=m()(I(),{isHovered:e,hasError:S,isSelected:o,useEllipsis:n,isDark:l,isFolderPill:c,dragSide:s,isDragged:a||d});let C;n&&i&&(C={maxWidth:i});const{title:A}=this.props;if(_){const e=this.state.inputWidth||"300",t=this.state.inputValue||this.props.title;return r.createElement("div",{className:"pill-container "+p.pillContainer,onBlur:this.handleChange},r.createElement("input",{ref:e=>{this.editInputPill=e},"data-test-id":"edit-pill-input",className:p.editInput,type:"text",defaultValue:t,onKeyDown:this.handleKeyDown,style:{width:e+"px"}}))}return r.createElement("div",{className:"pill-container "+p.pillContainer},r.createElement("div",{"data-test-id":"pill",title:A,"aria-label":this.props.value,className:"pill-content "+p.pillContent,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),onClick:this.props.onPillClick,onDoubleClick:this.props.onPillEdit,draggable:this.props.isCompose,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter},this.renderPillImage(p),r.createElement("div",{"data-test-id":"pill-text",className:p.pillText,style:C},this.props.value),this.renderRemovePill(e,p,u)),this.renderDraggedPill(t,p))}}R(D,"contextTypes",{intl:i.intlShape.isRequired,config:n().object}),R(D,"defaultProps",{onPillClick:()=>{},useEllipsis:!1,isDark:!1,isFolderPill:!1,isDragged:!1,selectedPills:[],isEditing:!1});const N=D},50621:(e,t,s)=>{"use strict";s.d(t,{XU:()=>c,Es:()=>d,ZP:()=>_});s(45697);var a=s(67294),n=s(18030),r=s(65304),o=(s(31509),s(95406)),i=s(10728);function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const c={MOUNT:1,CLICK:2,HOVER:4,HOVER_DELAYED:8},d={HOVER_OUT_ANCHOR:1,HOVER_OUT:2,CLICK:4,DRAG_START:8};class E extends a.Component{constructor(...e){super(...e),l(this,"state",{popoverShown:!1}),l(this,"hideOnScroll",(()=>{this.state.popoverShown&&this.handlePopoverHide()})),l(this,"handleClick",(()=>{const e=this.state.popoverShown,{triggerOn:t,triggerOff:s}=this.props;e||(t&c.CLICK)!==c.CLICK?e&&(s&d.CLICK)===d.CLICK&&this.setState({popoverShown:!1}):this.setState({popoverShown:!0})})),l(this,"handleDragStart",(()=>{const e=this.state.popoverShown,{triggerOff:t}=this.props;e&&(t&d.DRAG_START)===d.DRAG_START&&this.setState({popoverShown:!1})})),l(this,"handleMouseOver",(()=>{clearImmediate(this._hideTimeout);const{triggerOn:e,triggerDelayTime:t}=this.props;(e&c.HOVER)===c.HOVER?this.setState({popoverShown:!0}):(e&c.HOVER_DELAYED)===c.HOVER_DELAYED&&(this._shownTimeout=setTimeout((()=>{this.setState({popoverShown:!0})}),t))})),l(this,"handleMouseOut",(e=>{const t=this.state.popoverShown,{triggerOff:s}=this.props;clearTimeout(this._shownTimeout),t&&(this.refs.anchor!==e.target&&!this.refs.anchor.contains(e.target)||(s&d.HOVER_OUT_ANCHOR)!==d.HOVER_OUT_ANCHOR?(s&d.HOVER_OUT)===d.HOVER_OUT&&(this._hideTimeout=setImmediate((()=>{this.setState({popoverShown:!1})}))):this.setState({popoverShown:!1}))})),l(this,"handlePopoverHide",(()=>{clearTimeout(this._shownTimeout),this.setState({popoverShown:!1})}))}componentWillUnmount(){clearTimeout(this._shownTimeout),clearImmediate(this._hideTimeout),clearImmediate(this._mountImmediateID);const{scrollContainer:e}=this.props;if(e)if(e.current){const t=(0,o.u9)(e,"current.removeEventListener");"function"==typeof t&&t("scroll",this.hideOnScroll,!1)}else e.removeEventListener&&e.removeEventListener("scroll",this.hideOnScroll,!1)}componentDidMount(){const{triggerOn:e,disabled:t,scrollContainer:s}=this.props;t||(e&c.MOUNT==c.MOUNT?this._mountImmediateID=setImmediate((()=>this.setState({popoverShown:!0}))):this._mountImmediateID=setImmediate((()=>this.forceUpdate())),s&&(s.current?s.current.addEventListener("scroll",this.hideOnScroll,!1):s.addEventListener("scroll",this.hideOnScroll,!1)))}componentDidUpdate(e,t){this.state.popoverShown!==t.popoverShown&&(this.state.popoverShown?this.props.onShown():this.props.onHide())}render(){const{align:e,arrowSize:t,disabled:s,isArrowVisible:o,offset:i,permittedArrowDirections:l,persistent:c,zAltitude:d,collapseArrowWrapper:E,contentComfortThreshold:_}=this.props,[u,m]=a.Children.toArray(this.props.children),S=!s&&this.state.popoverShown,p={onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onFocus:this.handleMouseOver,onBlur:this.handleMouseOut,onDragStart:this.handleDragStart,ref:"anchor"};return a.createElement("span",null,a.cloneElement(u,s?{ref:"anchor"}:p),S&&this.refs.anchor?a.createElement(n.ZP,{popoverAnchor:this.refs.anchor,arrowSize:t,align:e,offset:i,permittedArrowDirections:l,zAltitude:d,onMouseOver:e=>{this.handleMouseOver(e),this.props.onContentMouseOver(e)},onMouseOut:e=>{this.handleMouseOut(e),this.props.onContentMouseOut(e)},onHide:this.handlePopoverHide,persistent:c,isArrowVisible:o,collapseArrowWrapper:E,overflowScroll:!0,contentComfortThreshold:_,triggerOn:r.K2.ASYMMETRIC},m||this.props.children[1]):null)}}l(E,"defaultProps",{disabled:!1,stopClickPropagation:!1,onShown:()=>{},onHide:()=>{},onContentMouseOver:()=>{},onContentMouseOut:()=>{},persistent:!1,zAltitude:i.LSY.POPOVER.MEDIUM,isArrowVisible:!0,collapseArrowWrapper:!1,contentComfortThreshold:r.Fw});const _=E},82520:(e,t,s)=>{"use strict";s.d(t,{OI:()=>a.Z,tW:()=>n.Z,yk:()=>r.ZP});var a=s(11160),n=s(31509),r=s(18030);s(50621)},31509:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a,n,r,o=s(67294);class i extends o.Component{render(){const e=o.Children.only(this.props.children);return o.cloneElement(e,{onClick:this.props.onClick,onContextMenu:this.props.onContextMenu,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut})}}r="PopoverAnchor",(n="displayName")in(a=i)?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r;const l=i},11160:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(67294),n=s(65304);s(31509);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class i extends a.Component{constructor(...e){super(...e),o(this,"state",{visiblePopoverTypes:[n.K2.MOUNT]}),o(this,"toggle",(e=>{this.state.visiblePopoverTypes.indexOf(e)>-1?this.hide(e):this.show(e)})),o(this,"show",(e=>{const t=this.state.visiblePopoverTypes;t.indexOf(e)>-1||(t.push(e),this.setState({visiblePopoverTypes:t}))})),o(this,"hide",((e,t)=>{const s=this.state.visiblePopoverTypes,n=s.indexOf(e);if(!t){const s=a.Children.toArray(this.props.children).filter((({props:t})=>t.triggerOn&&t.onHide&&t.triggerOn===e)).map((({props:e})=>e.onHide));t=()=>s.forEach((e=>e()))}-1!==n&&(s.splice(n,1),this.setState({visiblePopoverTypes:s},t))})),o(this,"showContextualPopovers",(e=>{a.Children.toArray(this.props.children).some((e=>e.props.triggerOn===n.K2.RIGHTCLICK))&&(e.preventDefault(),this.show(n.K2.RIGHTCLICK))})),o(this,"toggleClickPopovers",(()=>{this.toggle(n.K2.CLICK)})),o(this,"showHoverPopovers",(()=>{this.show(n.K2.HOVER)})),o(this,"hideHoverPopovers",(()=>{this.hide(n.K2.HOVER)}))}componentDidMount(){this.forceUpdateImmediateID=setImmediate((()=>this.forceUpdate()))}componentWillUnmount(){clearImmediate(this.forceUpdateImmediateID)}render(){const e=a.Children.toArray(this.props.children),t=e.shift(),s=a.cloneElement(t,{ref:"popoverAnchor",onClick:e=>{this.toggleClickPopovers(e),t.props.onClick&&t.props.onClick(e)},onContextMenu:this.showContextualPopovers,onMouseOver:this.showHoverPopovers,onMouseOut:this.hideHoverPopovers});let n=[];return this.refs.popoverAnchor&&(n=e.filter((e=>this.state.visiblePopoverTypes.indexOf(e.props.triggerOn)>-1)).map((e=>{const{onHide:t}=e.props;return a.cloneElement(e,{onHide:this.hide.bind(this,e.props.triggerOn,t),popoverAnchor:this.refs.popoverAnchor})}))),a.createElement("div",r({},this.props,{"data-test-id":"popover-container"}),s,n)}}const l=i},18030:(e,t,s)=>{"use strict";s.d(t,{yk:()=>L,ZP:()=>P});s(45697);var a=s(67294),n=s(73935),r=s(43513),o=s.n(r),i=s(75485),l=s.n(i),c=s(10335),d=s.n(c),E=s(26930),_=s.n(E),u=s(76223),m=s.n(u),S=s(35960),p=s(65304);var C=s(10728),A=(s(95406),s(85927)),T=s(92743),h=s(57557),g=s.n(h),I=s(7449),R=s(23279),O=s.n(R),D=s(61395),N=s.n(D);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function M(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class L extends a.Component{constructor(e){var t;super(e),M(this,"state",{isVisible:!1,arrowDirection:this.props.permittedArrowDirections[0],popoverPositionStyle:null!==(t=this.props.popoverAnchor)&&void 0!==t&&t.current&&"fixed"===getComputedStyle(this.props.popoverAnchor.current).getPropertyValue("position")?"fixed":"absolute"}),M(this,"handleKeyDown",(e=>{switch(e.key){case"Escape":return e.preventDefault(),e.stopPropagation(),void this.hide();default:return}})),M(this,"handleClick",(()=>{!this.props.persistent&&this.props.hideOnContentClick&&this.hide()})),M(this,"getArrowClassNames",(e=>{let t=d();return this.props.arrowSize===p.Jk.S?t=l():this.props.arrowSize===p.Jk.L&&(t=_()),m()(t,{arrowDirectionDown:e===p.Ji.DOWN,arrowDirectionLeft:e===p.Ji.START,arrowDirectionRight:e===p.Ji.END,bg:this.props.bg,zAltitude:this.props.zAltitude,align:this.props.align,highlight:this.props.highlight,collapseArrowWrapper:this.props.collapseArrowWrapper})})),M(this,"updatePosition",(()=>{const{overflowScroll:e,popoverAnchor:t,align:s,offset:a,arrowSize:r,isArrowVisible:o,permittedArrowDirections:i,customPositioning:l,useMenuPositioning:c,fullWidthPositioning:d,isTwoColumnLayout:E,isRTL:_,collapseArrowWrapper:u,contentComfortThreshold:m}=this.props,S=t&&t.hasOwnProperty("current")?t.current:t;if(!S)return;const A=function(e,t,s,a,n,r,o,i=!1,l=p.Fw){let c=t.getBoundingClientRect();const d=p.s0[a],E=Math.sqrt(2*Math.pow(d,2)),_=i?0:Math.sqrt(Math.pow(d,2)-Math.pow(E/2,2)),u=e.ownerDocument.documentElement.offsetHeight,m=e.ownerDocument.documentElement.offsetWidth,S=e.getBoundingClientRect(),C=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollLeft:e.ownerDocument.body.scrollLeft,A=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollTop:e.ownerDocument.body.scrollTop,T={top:S.top+A,right:S.right+C,bottom:S.bottom+A,left:S.left+C,height:S.height,width:S.width},h=-(T.width/2+c.width/2),g=T.height/2-c.height/2,I={below:u-T.bottom-T.height/2,above:T.top,left:T.left,right:m-T.right};let R=s;const O=(e,t)=>e<0&&p.xM.START||t<0&&p.xM.END||p.xM.CENTER;if(s===p.xM.ANY&&(D=r,[p.Ji.UP,p.Ji.DOWN].some((e=>D.includes(e))))){const e=I.left+T.width/2-c.width/2,t=I.right+T.width/2-c.width/2;R=O(e,t)}else if(s===p.xM.ANY&&(e=>[p.Ji.START,p.Ji.END].some((t=>e.includes(t))))(r)){const e=I.above+T.height/2-c.height/2,t=I.below+T.height/2-c.height/2;R=O(e,t)}var D;const N={},f=Math.floor(Math.max(I.above,I.below)-u*(1-l)),M=Math.floor(Math.max(I.left,I.right)-m*(1-l));let L,P;if(c.height+_>f&&(L=f-_),c.width+_>M&&(P=M-_),L||P){const e=L||c.height,t=P||c.width;c=Object.assign({},c,{height:e,bottom:c.top+e,width:t,right:c.left+t}),N.overflow="auto",L&&(N.maxHeight=`${L}px`),P&&(N.maxWidth=`${P}px`)}const y=I.below*l-c.height>=0,b=I.above*l-c.height>=0,F=I.left*l-c.width>=0,U=I.right*l-c.width>=0;r[0]===p.Ji.ANY&&(r=[p.Ji.UP,p.Ji.DOWN,p.Ji.START,p.Ji.END]);const{positioningStyles:v,arrowDirection:w,canNotPosition:G}=function(){const e={};let t,s=!1;for(let a=0;a<=r.length;a++){if(t=r[a],t===p.Ji.UP&&y){e.top=`${T.bottom+_}px`,e.left=`${T.right+h}px`;break}if(t===p.Ji.DOWN&&b){e.top=T.top-(c.height+_)+"px",e.left=`${T.right+h}px`;break}if(t===p.Ji.START&&U||t===p.Ji.END&&U&&o){e.top=`${T.top+g}px`,e.left=o?`${T.right+(T.width+_)}px`:`${T.right+_}px`;break}if(t===p.Ji.END&&F||t===p.Ji.START&&F&&o){e.top=`${T.top+g}px`,e.left=o?T.left-c.width-_+"px":T.left-(c.width+_)+"px";break}}return t===p.Ji.UP||t===p.Ji.DOWN?R===p.xM.START?o?c.width?e.left=`${T.right-c.width+n}px`:s=!0:e.left=T.left-n+"px":R===p.xM.END&&(o?e.left=T.left-n+"px":c.width?e.left=`${T.right-c.width+n}px`:s=!0):t!==p.Ji.START&&t!==p.Ji.END||(R===p.xM.START?e.top=T.top-n+"px":R===p.xM.END&&(e.top=`${T.bottom-c.height+n}px`)),{positioningStyles:e,arrowDirection:t,canNotPosition:s}}();return{canNotPosition:G,positioningStyles:v,innerContentScrollingStyles:N,arrowDirection:w,adjustedAlign:R}}((0,n.findDOMNode)(S),(0,n.findDOMNode)(this.refs.popoverContent),s,r,a,i,_,u,m),{arrowDirection:T,canNotPosition:h,adjustedAlign:g}=A;if(h)return;let{positioningStyles:R,innerContentScrollingStyles:O}=A;if(l&&(R=null),c){const e=(0,I.E)((0,n.findDOMNode)(S),(0,n.findDOMNode)(this.refs.popoverContent),_);for(const t in e)e[t]=`${e[t]}px`;R=e}d&&!E&&(R.left=2*C.mg$+"px",R.width=`calc(100% - ${4*C.mg$}px)`),e||(O=null),o&&Object.assign(this.refs.popoverArrow.style,this.getArrowStyle(g)),"fixed"===this.state.popoverPositionStyle&&(R.position="fixed"),T!==this.state.arrowDirection?this.setState({arrowDirection:T},(()=>{Object.assign(this.refs.popoverContent.style,R),Object.assign(this.refs.popoverInnerContent.style,O)})):(Object.assign(this.refs.popoverContent.style,R),Object.assign(this.refs.popoverInnerContent.style,O))})),M(this,"handleWindowMouseDown",(e=>{const{popoverAnchor:t,triggerOn:s,persistent:a,outerClickFallthrough:r}=this.props,o=t&&t.hasOwnProperty("current")?t.current:t;if(!o||a||!r)return;const i=(0,n.findDOMNode)(this.refs.popoverContent),l=(0,n.findDOMNode)(o),c=!i.contains(e.target)&&i!==e.target,d=l.contains(e.target)||l===e.target;!c||[p.K2.CLICK,p.K2.ASYMMETRIC].indexOf(s)>-1&&d||this.props.onHide()})),M(this,"hide",(()=>{const{hideOnContentClick:e,onHide:t}=this.props;this.setState({isVisible:!e},t)})),M(this,"getArrowStyle",(e=>{const{offset:t,arrowSize:s,popoverAnchor:a,isRTL:r}=this.props,o=a&&a.hasOwnProperty("current")?a.current:a;if(!o)return{};const i=(0,n.findDOMNode)(o).getBoundingClientRect(),l=this.state.arrowDirection;let c,d="",E=t-p.s0[s],_="center",u="none";return e===p.xM.END?_="flex-end":e===p.xM.START&&(_="flex-start"),l!==p.Ji.DOWN&&l!==p.Ji.END||(d="rotate(180deg)",u=`${d}`,e===p.xM.END?_="flex-start":e===p.xM.START&&(_="flex-end")),e===p.xM.CENTER?{justifyContent:_,transform:u}:(l===p.Ji.START||l===p.Ji.END?(c=p.hy.VERTICAL,E+=i.height/2):(c=p.hy.HORIZONTAL,E+=i.width/2,(e===p.xM.END&&!r||r&&e===p.xM.START)&&(E*=-1)),{transform:c===p.hy.HORIZONTAL?`translateX(${E}px) ${d}`:`translateY(${E}px) ${d}`,justifyContent:_})})),this.scrollDebounce=O()(this.handleScroll.bind(this),100)}handleScroll(){this.state.isVisible&&this.refs.popoverContent&&"fixed"!==this.state.popoverPositionStyle&&this.updatePosition()}componentDidMount(){this.updatePosition(),this.props.onShow(),window.addEventListener("scroll",this.scrollDebounce,!0),setImmediate((()=>this.setState({isVisible:!0},(()=>{!this.props.persistent&&this.props.outerClickFallthrough&&window.addEventListener("mousedown",this.handleWindowMouseDown,!1)}))))}componentWillUnmount(){clearTimeout(this.positionTimeout),window.removeEventListener("scroll",this.scrollDebounce,!0),window.removeEventListener("mousedown",this.handleWindowMouseDown,!1)}componentDidUpdate(){this.positionTimeout=setTimeout((()=>{this.refs.popoverContent&&this.updatePosition()}),0)}render(){const e=this.state.isVisible?"visible":"hidden",t=this.state.arrowDirection,s=this.getArrowClassNames(t),n=m()(o(),{bg:this.props.bg,zAltitude:this.props.zAltitude,animate:this.props.animate,highlight:this.props.highlight,borderRadius:this.props.borderRadius,ignorePointerEvents:this.props.ignorePointerEvents});return this.popoverClassName=this.props.popoverClassName?N()(n.popover,this.props.popoverClassName):n.popover,a.createElement(S.Z,{rootId:this.props.layerRootId},this.props.outerClickFallthrough?null:a.createElement("div",{"data-test-id":"popover-overlay",className:n.overlay,onClick:()=>this.props.persistent?null:this.props.onHide()}),a.createElement("div",f({"data-test-id":"popover-content",className:this.popoverClassName,onClick:this.handleClick,onKeyDown:this.handleKeyDown},g()(this.props,["contentComfortThreshold","outerClickFallthrough","triggerOn","permittedArrowDirections","zAltitude","onShow","boundingBox","align","arrowSize","bg","onHide","overflowScroll","persistent","isArrowVisible","customPositioning","useMenuPositioning","fullWidthPositioning","animate","ignorePointerEvents","popoverAnchor","highlight","hideOnContentClick","borderRadius","isTwoColumnLayout","isRTL","dispatch","collapseArrowWrapper","layerRootId","popoverClassName"]),{style:{visibility:e},ref:"popoverContent"}),a.createElement("div",{className:n.popoverContent,ref:"popoverInnerContent"},"function"==typeof this.props.children?this.props.children(this.updatePosition):this.props.children),a.createElement("div",{className:s.pointerWrapper,ref:"popoverArrow"},this.props.isArrowVisible?a.createElement("div",{"data-test-id":"popover-content-arrow",className:s.pointer}):null)))}}M(L,"displayName","PopoverContent"),M(L,"defaultProps",{outerClickFallthrough:!0,permittedArrowDirections:[p.Ji.ANY],boundingBox:void 0,ignorePointerEvents:!1,triggerOn:p.K2.MOUNT,align:p.xM.CENTER,arrowSize:p.Jk.M,offset:0,bg:p.Ic.DEFAULT,zAltitude:C.LSY.POPOVER.LOW,onHide:()=>{},onShow:()=>{},overflowScroll:!0,persistent:!1,isArrowVisible:!0,customPositioning:!1,useMenuPositioning:!1,animate:!1,highlight:!1,hideOnContentClick:!0,borderRadius:p.cM.LOW,collapseArrowWrapper:!1,layerRootId:"app",contentComfortThreshold:p.Fw});const P=(0,T.connect)((e=>{const{getEnvironmentSelectors:t,getPrescribedNumberOfColumns:s}=(0,A.selectors)(e),a=t();return{isTwoColumnLayout:2===s(),isRTL:"rtl"===a.getPageDirection()}}))(L)},7351:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=s(45697),n=s.n(a),r=s(67294),o=s(61239),i=s.n(o),l=s(76223),c=s.n(l),d=s(95406),E=s(37422),_=s(46229);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}n().oneOf((0,d.VO)(E.zoT)).isRequired;const m=({provider:e,...t})=>{const s=c()(i());let a="Other";switch(e){case E.zoT.AOL:a="AOL";break;case E.zoT.GOOGLE:case E.zoT.GOOGLE_APP:a="Google";break;case E.zoT.OFFICE365:a="Office 365";break;case E.zoT.OUTLOOK:a="Outlook";break;case E.zoT.VERIZON_MEDIA:a="Verizon Media";break;case E.zoT.YAHOO_INC:a="Yahoo Inc";break;case E.zoT.YAHOO:case E.zoT.YAHOO_SB:a="Yahoo"}return[E.zoT.GOOGLE_APP,E.zoT.VERIZON_MEDIA,E.zoT.YAHOO_INC].indexOf(e)>-1&&(e=E.zoT.GOOGLE),e===E.zoT.YAHOO_SB&&(e=E.zoT.YAHOO),r.createElement(_.Z,u({},t,{alt:a,className:s.container,src:`/img/provider_logo_${e}_1x.png`,srcSet:`/img/provider_logo_${e}_2x.png 2x`,title:a}))}},31208:e=>{"use strict";e.exports={className:{default:{linkContainer:"C_Z2aVTcY u_e69 E_A P_1Eu7sD b_efTvb H_6MGW i_6MGW r_P C4_Z29WjXl ir3_1JO2M7 it3_dRA"},"themeMode-DARK":{linkContainer:"C_ZpQYvz C4_52qC ir3_Z1FS2Mn it3_dRA"}},_key:"l1cY7"}},69954:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var a=s(45697),n=s.n(a),r=s(67294),o=s(9026),i=s(53830),l=s.n(i),c=s(67498),d=s(10728),E=s(76223),_=s.n(E);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}n().func.isRequired,n().bool,n().string.isRequired,n().string,n().string,n().bool,n().string,n().number;const m=(0,r.forwardRef)(((e,t)=>{const{children:s,onClick:a,isSelected:n=!1,title:i,maxWidth:E,isOnRightRail:m,themeMode:S,tabIndex:p=d.iUz.SEGMENTED_CONTROL_FILTERS,...C}=e,A={},T=_()(l(),{isSelected:!!n,showWhiteLabels:m&&S===o.zg.MEDIUM||S===o.zg.DARK,showEllipsis:!!E});return C["data-test-id"]&&(A["data-test-id"]=C["data-test-id"]),E&&(A.style={maxWidth:E}),r.createElement("li",{className:T.segment,role:"presentation",ref:t},r.createElement(c.Z,u({},A,{"data-iskeynav":!0,tabIndex:p,className:T.button,role:"tab","aria-selected":n,onClick:a,title:i}),r.createElement("span",{className:T.buttonText,"aria-hidden":!0},i),s))}));m.defaultProps={isOnRightRail:!1};const S=m},16488:(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});var a=s(67294),n=s(92743),r=s(9261),o=s.n(r),i=s(37422),l=s(76223),c=s.n(l),d=s(85927);const E=(0,n.connect)((e=>({themeMode:(0,d.selectors)(e).getSetting(i.Zrf.THEME_MODE)})))((({children:e,themeMode:t})=>{const s=c()(o(),{themeMode:t});return a.createElement("ul",{className:s.container,role:"tablist","data-test-id":"segmented-control"},a.Children.toArray(e).map((e=>"object"==typeof e&&null!==e?(0,a.cloneElement)(e,{themeMode:t}):null)).filter(Boolean))}))},53830:e=>{"use strict";e.exports={className:{default:{segment:"ce_dBP cd_FJ cc_ZVhlrG C_Z24Sbth r_P D_F u_e69 p_R M_0 I4_IyTRc x8_n",button:"I_T b_n D_X C_q r_q y_q u_q A_6EqO P_1Eu7sD W_6D6F D33_B C33_T dq33_Z1WN6IG u33_b H33_0 o33_h v33_h",buttonText:"D_X"},isSelected:{segment:"I_Z2tSq0X C_Z281SGl u_b Z_O I4_Z2tSq0X"},showEllipsis:{buttonText:"W_q G_e o_h J_x"},showWhiteLabels:{segment:"C_52qC",button:"is_26ISAR cZdTOHS_ZXgLQ3"}},_key:"11SQX7"}},9261:e=>{"use strict";e.exports={className:{default:{container:"M_0 P_0 C_Z281SGl D_F ek_EZ H_6MGW p_R J_x b_12kOTw e_dRA"},"themeMode-DARK":{container:"C_52qC",inactiveSegment:"C_52qC",activeSegment:"C_52qC"},isOnDarkBackground:{container:"C_52qC",inactiveSegment:"C_52qC",activeSegment:"C_52qC"}},_key:"20nboJ"}},43111:e=>{"use strict";e.exports={className:{default:{avatar:"en_0 M_3gIMd W_6UbO H_6UbO e_dRA ba_6UbO aw_1zc1KJ az_DW ay_22lW9e"},inNewUserTasksCue:{avatar:"M_Z1eDqX9"},"accountType-yahoo":{avatar:"ay_Z1yLEkG"},"accountType-google":{avatar:"ay_I2Vyf"},"accountType-aol":{avatar:"ay_22iLrE"},"accountType-outlook":{avatar:"ay_22igsa"},"accountType-googleapp":{avatar:"ay_22hKsF"},"accountType-yahoosb":{avatar:"ay_I2qyK"},"accountType-yahooinc":{avatar:"ay_I2qyK"},"accountType-verizonmedia":{avatar:"ay_22Hk7F"},"accountType-office365":{avatar:"ay_22KuOf"},"accountType-Facebook":{avatar:"ay_22mRHn"},"accountType-LinkedIn":{avatar:"ay_22q8OM"},"accountType-Twitter":{avatar:"ay_22qDOh"},"accountType-gdrive":{avatar:"ay_22D8r7"},"accountType-dropbox":{avatar:"ay_22Goyw"}},_key:"Z21P9UD"}},59629:e=>{"use strict";e.exports={className:{default:{accountList:"M_0 P_0 hd_n",listItem:"D_F H_6NIX P_0 ab_C it3_dRA I4_2tvNsT",text:"em_N A_6EWk X_6DEy o_h G_e J_x",activeText:"em_N A_6EWk X_6DEy o_h G_e J_x u_b C_ZamTeg",unreadCount:"en_0 E_fq7",settingGear:"P_Z26qe3x p_R R_fq7 Q_6DEy cdPFi_Zjpyu2 cdPFi4_Z281SGl",statusIcon:"E_fq7",expiredIcon:"E_eDQ",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"},"themeMode-MEDIUM":{text:"C_52qC",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"is_26ISAR cZdTOHS_ZXgLQ3",activeText:"C_2qemPL"},"themeMode-DARK":{text:"C_52qC",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"is_26ISAR cZdTOHS_ZXgLQ3",activeText:"C_2qemPL"}},_key:"Zo0aAh"}},27945:e=>{"use strict";e.exports={className:{default:{container:"e_eo6 o_h",actionButton:"J_x I_T cg_n u_Z13VSE6 A_6EqO C_Z2aVTcY r_P P_fQoXz",link:"e_eo6 H_74JI X_0 o_h A_6EqO ab_C p_R D_ZKxLmw v_g9505 I_ZnIF8Y cdPFi_Z281SGl k_w I4_ZpQYvz",mailPlusUpsellLink:"e_0 l_ZpQYvz cg_FJ cn_ZdD0VF H_74JI X_0 o_h A_6EqO ab_C p_R D_ZKxLmw v_g9505 I_T cdPFi_Z281SGl k_w I4_1I4yPF r_P",transparentBackgroundLink:"bn_dBP bm_FJ bj_ZpQYvz I_ZprBTp I4_fj1WV",imageContainer:"W_6VJl D_F ab_C k_w en_0 i_0",previewVideo:"W_6MGW H_6MGW ab_C D_F gl_C p_R",previewVideoPlayer:"W_6NIX H_6NIX im_BH",videoOverlay:"p_a W_6NIX H_6NIX",spacer:"D_F en_0 ab_C W_6LEV H_6D6F P_Z1feoPS",sponsoredContainer:"D_F ab_C r_P",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_ZyfvxR C_Z2drWk6 cdPFi_Z2drWk6",adTextContainer:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_ZyfvxR A_6EqO C_Z1VRqsb",advertiserContainer:"D_F ek_EZ gl_C s_0 ab_C",advertiser:"o_h J_x G_e em_N E_fq7 u_Z13VSE6 D_B Q_6NIX",message:"D_F o_h H_6D6F E_72FG J_x em_N i_CS k_w ek_EZ ab_C gl_FO",subjectContainer:"en_0 a_6D6F D_F ab_C gl_FM",subject:"o_v G_e J_x a_6D6F en_N u_Z13VSE6",snippetContainer:"D_F ab_C a_6D6F X_fq7 o_h J_x H_6D6F",snippet:"J_x o_h G_e C_Z1VRqsb a_6D6F",adHeadline:"J_x o_h G_e a_6D6F",sponsored:"A_6EqO ab_C D_F C_Z1VRqsb I_T gl_C H_6D6F b_0 r_P P_0",mbBeacon:"D_n",adFeedbackContainer:"P_3Y3Gk",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0 E_eo6",gridB2:"D_F ab_C H_6D6F o_h em_sL ej_0",starRatingContainer:"s_7qGO",adContainer:"s_7iGr E_0 D_F ek_BB ab_CH",spacerContainer:"W_6UbO X_dRA",highlightedTerm:"I_2ieea9 D_X P_3zDxc",snippetInnerContainer:"D_X J_x o_h G_e",feedbackContainer:"C_Z1VRqsb cdPFi_Z1VRqsb",favicon:"D_F W_6D6F ab_C gl_C"},isCompactLayout:{link:"H_7rdk X_0",mailPlusUpsellLink:"H_7rdk X_0 cn_Z20vKSK",imageContainer:"W_74JI X_6Eb4 ac_CI je_6Eb4",adHeadline:"Q_0 W_6D6F U_eo6 u_Z13VSE6",snippet:"Q_0",spacer:"D_n",iconContainer:"W_A D_F ab_C H_6LEV",feedbackContainer:"W_A D_F ab_C H_6LEV",closeIconContainer:"gl_CH W_A",gridB2:"em_qk ej_7kKt",gridB1:"o_v W_74JI em_0 ej_CS a_n E_0",subjectContainer:"W_6D6F U_eo6",snippetContainer:"W_6D6F gl_FM H_3mCHE X_dm5",message:"M_0 N_fFR ek_BB ab_CI gl_C",subject:"Q_0 o_h",sponsored:"E_0 p_s T_A R_A P_3gIgH Q_7bcz",sponsoredContainer:"H_6Fd5",actionButton:"P_3gIgH",sponsoredIcon:"X_dBP",adTextContainer:"X_dBP",starRatingContainer:"s_7iGr"},secondPencilAd:{link:"I_T cn_3vzlv cg_FJ l_1EQwtX e_0",mailPlusUpsellLink:"I_T cn_3vzlv cg_FJ l_1EQwtX e_0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{link:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",mailPlusUpsellLink:"C_ZpQYvz cdPFi_52qC I_T I4_1YEmYj l_ajP6C",transparentBackgroundLink:"bj_ajP6C I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC",adTextContainer:"C_52qC",feedbackContainer:"C_52qC cdPFi_52qC"},"themeCombo-DARK_ROADTRIP":{link:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",mailPlusUpsellLink:"C_ZpQYvz cdPFi_52qC I_T I4_1YEmYj l_ajP6C",transparentBackgroundLink:"bj_ajP6C I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC",adTextContainer:"C_52qC",feedbackContainer:"C_52qC cdPFi_52qC"},"themeCombo-DARK_SUNSET_AUSSIE":{link:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",mailPlusUpsellLink:"C_ZpQYvz cdPFi_52qC I_T I4_1YEmYj l_ajP6C",transparentBackgroundLink:"bj_ajP6C I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC",adTextContainer:"C_52qC",feedbackContainer:"C_52qC cdPFi_52qC"},"themeCombo-DARK_LIGHTHOUSE":{link:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",mailPlusUpsellLink:"C_ZpQYvz cdPFi_52qC I_T I4_1YEmYj l_ajP6C",transparentBackgroundLink:"bj_ajP6C I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC",adTextContainer:"C_52qC",feedbackContainer:"C_52qC cdPFi_52qC"},"themeMode-DARK":{link:"C_ZpQYvz cdPFi_52qC I_sgPuo I4_sgPuT",mailPlusUpsellLink:"C_ZpQYvz cdPFi_52qC I_T I4_1YEmYj l_ajP6C",transparentBackgroundLink:"bj_ajP6C I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC",adTextContainer:"C_52qC",feedbackContainer:"C_52qC cdPFi_52qC"},"msgListDensity-1":{link:"H_qg",mailPlusUpsellLink:"H_qg",imageContainer:"X_0",actionButton:"b_82XEY cg_82XEY",previewVideo:"W_6MGW H_6MGW",previewVideoPlayer:"W_6MGW H_6MGW",videoOverlay:"W_6LEV H_6LEV",spacer:"Q_eTB",spacerContainer:"W_6TFj P_0",sponsoredIcon:"M_ZBlLjw",adTextContainer:"M_ZBlLjw"},"msgListDensity-2":{link:"H_qJ",mailPlusUpsellLink:"H_qJ",previewVideo:"W_6UbO H_6UbO",previewVideoPlayer:"W_6UbO H_6UbO"},"msgListDensity-3":{link:"H_rh",mailPlusUpsellLink:"H_rh",previewVideo:"W_73HH H_73HH o_v",previewVideoPlayer:"W_73HH H_73HH"},"msgListDensity-compact_1":{link:"H_si",mailPlusUpsellLink:"H_si",subjectContainer:"U_dRA",adHeadline:"U_dRA u_Z13VSE6",sponsoredIcon:"Y_69bz",adTextContainer:"Y_69bz"},"msgListDensity-compact_2":{link:"H_sL",mailPlusUpsellLink:"H_sL",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_Z13VSE6",sponsoredIcon:"Y_68F4",adTextContainer:"Y_68F4"},"msgListDensity-compact_3":{link:"H_tf",mailPlusUpsellLink:"H_tf",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_Z13VSE6"},isFlashSaleAd:{adHeadline:"u_Z13VSE6"},noAdFeedback:{adContainer:"s_7yHc",sponsored:"p_a T_0 R_fam"}},_key:"Ikdl0"}},51943:e=>{"use strict";e.exports={className:{default:{addMailboxOptionContainer:"H_6NIX X_eDQ D_F ab_C r_P cdPFi_Z281SGl it_dRA I4_2tvNsT"},isThemeModeDark:{addMailboxOptionContainer:"C_52qC"}},_key:"1XLD13"}},80076:e=>{"use strict";e.exports={className:{default:{buttonContainer:"I_52qC D_F M_3gJOe ab_C"}},_key:"Mr5Pj"}},25581:e=>{"use strict";e.exports={className:{default:{container:"W_3zKan k_w I_52qC D_F el_QDCVj",header:"M_0 P_SdQ8b D_F el_Z1mLfFl ab_AJ",icon:"p_a M_6Fd5",title:"em_N u_e69 A_6FsP M_ZlnAYq",close:"Q_6Eb4 ac_C",message:"P_kT94R",controls:"P_kT94R"}},_key:"11hA3I"}},5059:e=>{"use strict";e.exports={className:{default:{attachmentIcon:"W_6UbO H_6UbO",thumbnailIcon:"W_7rdk H_7rdk",fallback:"u_e69 A_6Fd5 C_ZroviD i_74JI"}},_key:"Z1txtmb"}},68443:e=>{"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_ZPBfWW k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC p_R",listContentTypeControls:"F_n P_1g7oPJ M_cFf m_Z14vXdP D_F",attachmentFilterViewMenu:"D_F en_0 je_fq7",attachmentFilterMenu:"D_F ab_C y_Z2hYGcu X_1IaimO A_6EqO lo_AT cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",filtersContainer:"D_F gl_FM p_a R_6LEV T_6Eb4",filterMenuContainer:"Q_fq7 D_F P_fQq0A I_ZnIF8Y e_dRA",filterMenu:"D_F ab_C",selectedFilter:"A_6EqO r_P",checkIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",filterOption:"Q_6Eb4",popoverListWrapper:"P_3Y3Gk"}},_key:"26r9OU"}},61822:e=>{"use strict";e.exports={className:{default:{inputContainer:"p_R D_F W_6D6F",input:"q_T y_Z2hYGcu je_0 jb_0 X_fq7 N_fq7",clearButtonContainer:"p_a T_0 R_0 B_0 W_6VdP D_F gl_C ab_C"},showClear:{input:"N_6VdP",rtlRemoveInput:"rtlRM_X_fq7 rtlRM_N_6VdP",rtlRawInput:"rtlR_N_fq7 rtlR_X_6VdP"},"showClear-false":{input:"X_fq7 N_fq7"}},_key:"LKdGH"}},51507:e=>{"use strict";e.exports={className:{default:{container:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA t_C e_3mS2U C_Z1YRXYn I_ZpQYvz",activeContainer:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA t_C e_3mS2U C_52qC I_T u_b"},whiteBackground:{container:"C_2sqbRh I_ajP4A"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_LIGHT":{activeContainer:"I_ZpQYvz"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_MEDIUM":{activeContainer:"I_ajP4A"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_DARK":{activeContainer:"I_ajP4A"},"themeMode-LIGHT":{activeContainer:"C_Z281SGl"},"highlightThemeCombo-true_ATT":{container:"C_52qC I_Z2dxrGx Q_A"},"highlightThemeCombo-true_FRONTIER":{container:"C_52qC I_Z1A0QhA Q_A"},"highlightThemeCombo-true_ROGERS":{container:"C_52qC I_Z21W7Hh Q_A"},"highlightThemeCombo-true_BT":{container:"C_52qC I_Z20SNAa Q_A"},"highlightThemeCombo-true_SKY":{container:"C_52qC I_Z2dycH0 Q_A"},"highlightThemeCombo-true_AOL":{container:"C_52qC I_Zpr4hs Q_A"},"highlightThemeCombo-true_DEFAULT":{container:"C_52qC I_Z2aVTcY Q_A"},"highlightThemeCombo-true_SUNRISE":{container:"C_52qC I_ZmlXUP Q_A"},"highlightThemeCombo-true_AQUA_GREEN":{container:"C_52qC I_Z1UHURv Q_A"},"highlightThemeCombo-true_AQUA_BLUE":{container:"C_52qC I_Z280Xf5 Q_A"},"highlightThemeCombo-true_DEEP_PURPLE":{container:"C_52qC I_Zwa5YI Q_A"},"highlightThemeCombo-true_BLUE_NIGHT":{container:"C_52qC I_Z21zYBA Q_A"},"highlightThemeCombo-true_DARK_GREY":{container:"C_52qC I_Z21W7Hh Q_A"},"highlightThemeCombo-true_NIGHT_LANDSCAPE":{container:"C_52qC I_Z1UEcsX Q_A"},"highlightThemeCombo-true_ROADTRIP":{container:"C_52qC I_ZrkPvI Q_A"},"highlightThemeCombo-true_SUNSET_AUSSIE":{container:"C_52qC I_ZmlXUP Q_A"},"highlightThemeCombo-true_LIGHTHOUSE":{container:"C_52qC I_Z1VDTK1 Q_A"},"highlightDarkPartnerThemeCombo-true_ATT":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_FRONTIER":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_ROGERS":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_BT":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_SKY":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_AOL":{container:"C_Z281SGl I_52qC Q_A"}},_key:"3oYCR"}},29210:e=>{"use strict";e.exports={className:{default:{button:"P_0 C_Z281SGl r_P y_Z2hYGcu A_6EqO cvhIH6_T"},decorated:{button:"k_w e_dRA D_X M_6LEV o_v p_R V_M t_C cZ1RN91d_n A_6EqO u_e69 i_3qGKe P_1EudUu H_A cn_dBP cg_FJ l_T j_n S_n S4_n"},"kind-PRIMARY":{button:"I_Z2aVTcY C_52qC l_Z2aVTcY I3_Z2bdAhD l3_Z2bdIi1 it3_eo6 I0_Z2bdAhD l0_Z2bdIi1"},"kind-CUE":{button:"I_Z2aVTcY C_52qC b_0 P_ZGAgNS E_fq7 i_6FIA u_e69 I3_Z2bdAhD I0_Z2aVTcY I4_Z29WjXl"},"primaryHover-true_false":{button:"I4_Z2bdAhD l4_Z2bdIi1"},"primaryHover-true_true":{button:"I4_Z2aVTcY l4_Z2aVTcY"},"kind-SECONDARY":{button:"I_52qC C_Z2aVTcY l_Z2aVTcY M_0 I4_52qC C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z I0_ZpQYvz C0_Z2dyg2z l0_Z2dyg2z"},"kind-SECONDARY_BORDERLESS":{button:"I_52qC b_0 C_Z2aVTcY H_q P_1EudUu M_0 I4_2iedUU C4_Z29WjXl"},"kind-TEXT":{button:"C_Z2aVTcY b_0 P_0 M_0 H_6Nds I_T C4_Z29WjXl it3_dBP"},"kind-DANGER":{button:"I_52qC C_ZnTFMv l_ZnTFMv M_0 I4_v5hft I3_v5hft I0_v5hft"},"kind-ICON":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q q_T O_cMu O4_N I4_2ieea9"},"kind-PILL":{button:"b_Z14vXdP P_1Eu6qC H_6NIX W_A e_6Fd5 C_q q_T I4_2ieea9"},"kind-PARENT_TEXT_COLOR":{":hover":"C_q"},"kind-ICON_HIGHLIGHTED":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q I_7l9bL i_0 O_N"},"kind-CHROMELESS":{button:"q_T C_Z1YRXYn u_e69 b_0 C4_Z2dyg2z C3_Z2aVTcY"},"kind-MENUITEM":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_1I4yPF I3_1I4yPF it3_689y"},"kind-MENUITEM_PARENT_TEXT_COLOR":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_1I4yPF C4_Z2aVTcY I3_1I4yPF it3_689y"},disabled:{button:"O_cMq r_A"},paddingLess:{button:"P_0"},marginLess:{button:"M_0"},isOnDarkBackground:{button:"is_26ISAR cZdTOHS_ZXgLQ3"},THEMED_LIKE_COMPOSE_BUTTON_ATT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_FRONTIER:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_ROGERS:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_BT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_SKY:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_AOL:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_DEFAULT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_SUNRISE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_AQUA_GREEN:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_AQUA_BLUE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_DEEP_PURPLE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_BLUE_NIGHT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_DARK_GREY:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_NIGHT_LANDSCAPE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_ROADTRIP:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_SUNSET_AUSSIE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_LIGHTHOUSE:{button:"I_ZamTeg C_52qC l_T"}},_key:"2dQVId"}},77451:e=>{"use strict";e.exports={className:{default:{carouselContainer:"D_F ir_n em_N",carousel:"D_F o_h p_R em_N s_72FG",list:"D_F ha_n p_a J_x lv_1Ys0hR L_0 B_0 P_0 M_0",prevNavHandleContainer:"D_F",nextNavHandleContainer:"D_F",prevNavHandle:"em_0 en_0",rtlRawScaleX:"rtlR_h_2gl0WC",nextNavHandle:"em_0 en_0"},animationDisabled:{list:"lv_n"},prevDisabled:{prevNavHandle:"r_BN"},nextDisabled:{nextNavHandle:"r_BN"},retailerCarouselStyle:{carouselContainer:"p_R",prevNavHandle:"p_a T_7iGr W_6VdP H_6VdP e_e5X j_1kj5RG I_52qC M_A Z_O",nextNavHandle:"p_a T_7iGr R_6Fd5 W_6VdP H_6VdP e_e5X j_1kj5RG I_52qC M_A"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{prevNavHandleContainer:"jb_74JI",nextNavHandleContainer:"jb_74JI"}},_key:"Z1jxX1n"}},93234:e=>{"use strict";e.exports={className:{default:{link:"e_dRA l_T cn_dBP cg_FJ k_w r_P A_6EqO u_e69 p_R S_n C_52qC I_ZamTeg D_F H_6VdP gl_C ab_C en_0 M_1Eu7sD it_dRA is_1SUcgJ cZdTOHS_28Otf4",badgeContainer:"p_a h_Z1ffcnk L_0 T_67SN"},"themeMode-MEDIUM":{link:"is_26ISAR cZdTOHS_ZXgLQ3"},"themeMode-DARK":{link:"is_26ISAR cZdTOHS_ZXgLQ3"},disabledButton:{link:"I_ZpQYvz C_ZvsWfq cZW7ROP_n"}},_key:"1r2VKt"}},67527:e=>{"use strict";e.exports={className:{default:{dragIcon:"H_6FIA Z_7G9S p_a",counter:"D_X H_6Fd5 W_6Fd5 Z_7G9T p_a L_fFR T_6Fd5 e_e5X t_C q_ZnTFMv C_52qC"}},_key:"1HvlCH"}},90789:e=>{"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_Qw4gz A_6FsP u_e69 D_F el_Z1mLfFl ab_AJ gl_FM",icon:"p_a M_6Fd5",title:"em_N",close:"Q_6Eb4",message:"P_ZG0ms9 w_AS ix_AS",controls:"P_ZG0ms9"},hideIcon:{header:"P_JMQ5f",message:"P_Z2fgN7g",controls:"P_ZG120x"},showCustomTitle:{header:"u_dPo i_6MGW je_6DEy"},wideContainer:{container:"W_3DpOq"}},_key:"DF9OM"}},48039:e=>{"use strict";e.exports={className:{default:{suggestionLabelContainer:"D_F ab_C o_h",suggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9 gl_FM",keywordSuggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionIcon:"W_6FIA H_6EGz E_6FYl D_F ab_C",emailSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h N_6Fd5",emailAddressLabel:"J_x G_e o_h N_6Fd5 C_Z1YFBQc A_6DUj",dateLabel:"C_Z1VRqsb A_6DUj J_x D_F ac_CI"}},_key:"xvYfk"}},75558:e=>{"use strict";e.exports={className:{default:{inputContainer:"D_F F_cV1 ek_BB p_R W_6D6F",hint:"D_B Y_fq7 Q_fq7 A_6DUj C_Z1YRXYn",error:"D_B Y_fq7 Q_fq7 A_6DUj C_ZkiIcp",inputField:"z_0 n_0 x_0 q_T m_2w4lU5 H_6VdP em_N A_6EqO C_Z281SGl ir3_0 m3_2fAfSG"},"kind-DARK_BORDER_BOTTOM":{inputField:"m_2sUEFj"},"kind-LEFT_ICON":{inputField:"q_ptT19 m_0 b_0 je_0 jb_0 X_6MGW N_6MGW m3_0 ir3_0",inputIcon:"B_0 L_eo6 p_a M_A T_0 D_F ab_C"}},_key:"Z1vdGeC"}},32591:e=>{"use strict";e.exports={className:{default:{flexSpacer:"em_N en_N"}},_key:"93Fn1"}},89287:e=>{"use strict";e.exports={className:{default:{container:"D_F o_h",label:"D_X o_h J_x G_e",count:"X_fq7 D_F en_0",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"},isCenterJustified:{container:"gl_C"}},_key:"1Qfe0A"}},18525:e=>{"use strict";e.exports={className:{default:{menuContainer:"M_0 hd_n s_3mS2U a_3nF5b P_3Y3Gk",separator:"M_3HLUz m_Z14vXdP",menu:"D_F o_h",disabledMenuItem:"F_N s_0 D_F ab_C S_n P_Z1E30bS q4_1I4yPF r_DZ cZW7ROP_n C_Z1TsNbA",menuItem:"F_N s_0 D_F ab_C S_n P_Z1E30bS q4_1I4yPF r_P",menuText:"o_h J_x G_e Q_eo6"}},_key:"Z1shUI9"}},48726:e=>{"use strict";e.exports={className:{default:{icon:"D_X W_6MGW H_6MGW cdPFi_Z281SGl cZW7ROP_n en_0 cvhIH6_T"},allowPointerEvents:{icon:"cZW7ROP_A"},flipRTL:{rtlRawScaleX:"rtlR_h_2gl0WC"},"colorState-FIRST_LEVEL_GRAY":{icon:"cdPFi_Z1VRqsb"},"colorState-THIRD_LEVEL_GRAY":{icon:"cdPFi_ZroviD"},"colorState-NORMAL_LESS_DIM":{icon:"cdPFi_Z26U5qH"},"colorState-DARK":{icon:"cdPFi_Z281SGl"},"colorState-TRANSPARENT":{icon:"cdPFi_T"},"colorState-FAINT":{icon:"cdPFi_ZpQYvz"},"colorState-LESS_IMPORTANT":{icon:"cdPFi_Z1WBuqm"},"colorState-COOL_FAINT":{icon:"cdPFi_ZvsWfq"},"colorState-INHERITED":{icon:"cdPFi_q"},"colorState-INVERTED":{icon:"cdPFi_52qC"},"colorState-INVERTED_DIM":{icon:"cdPFi_ak5kB"},"colorState-INVERTED_LESS_DIM":{icon:"cdPFi_ak5m8"},"colorState-INVERTED_MORE_DIM":{icon:"cdPFi_ak5jA"},"colorState-SELECTED":{icon:"cdPFi_Z2aVTcY"},"colorState-PRIMARY_HOVER":{icon:"cdPFi_Z29WjXl"},"colorState-SELECTED_DARK_THEME_MODE":{icon:"cdPFi_Z2bg7IA"},"colorState-STARRED":{icon:"cdPFi_ZkhR3R"},"colorState-STARRED_DARK":{icon:"cdPFi_ZkcEUn"},"colorState-DISABLED":{icon:"cdPFi_Z1TsNbA"},"colorState-ADVISORY":{icon:"cdPFi_ZkcEUn"},"colorState-FIRST_LEVEL_ORANGE":{icon:"cdPFi_ZkhR3R"},"colorState-WARNING":{icon:"cdPFi_Znn46r"},"colorState-HEADING":{icon:"cdPFi_Z1XBA33"},"colorState-SMARTVIEW_DARK":{icon:"cdPFi_2sqbQg"},"colorState-IMPROVED_GRAY_DARK":{icon:"cdPFi_Z1YRXYn"},"colorState-SECOND_LEVEL_GRAY":{icon:"cdPFi_Z1TsNbA"},"colorState-YBADGE":{icon:"cdPFi_Z25iliW"},"colorState-YBANG":{icon:"cdPFi_Z21a4NC"},"colorState-SUCCESS":{icon:"cdPFi_Z287E9E"},"colorState-WHITE":{icon:"cdPFi_52qC"},"colorState-ICON_HOVER_BGCOLOR":{icon:"cdPFi_2ieea9"},"colorState-GRAD_BLUE":{icon:"cdPFi_Z2aVTcY"},"colorState-GRAY_VZM_BOB":{icon:"cdPFi_Zw4K57"},"colorState-ATTACH_MEDIA":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_CAL":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_EXCEL":{icon:"cdPFi_Zjgrcs"},"colorState-ATTACH_DOC":{icon:"cdPFi_euEfy"},"colorState-ATTACH_SLIDE":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_PDF":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_GENERIC":{icon:"cdPFi_1k4EMl"},"colorState-ATTACH_COMPRESSED":{icon:"cdPFi_1k4EMl"},"colorState-SMARTVIEW_PEOPLE":{icon:"cdPFi_ZkcEUn"},"colorState-SMARTVIEW_SHOPPING":{icon:"cdPFi_Z1tEW3v"},"colorState-WARNING_GRAD_RED":{icon:"cdPFi_Z1rD0qn"},"colorState-TOUCH_PRIMARY":{icon:"cdPFi_Z2aVTcY"},"colorState-FACEBOOK_ENABLED":{icon:"cdPFi_Z269xr6"},"colorState-LINKEDIN_ENABLED":{icon:"cdPFi_Z2dxU8K"},"colorState-TWITTER_ENABLED":{icon:"cdPFi_Z2a87Op"},"colorState-PURPLE":{icon:"cdPFi_Z1WGv5u"},"colorState-PURPLE_GRADIENT":{icon:"cdPFi_1f9khp"},"size-XXXS":{icon:"W_6Eb4 H_6Eb4"},"size-XXS":{icon:"W_6Fd5 H_6Fd5"},"size-XS":{icon:"W_6LEV H_6LEV"},"size-S":{icon:"W_6MGW H_6MGW"},"size-M":{icon:"W_6UbO H_6UbO"},"size-L":{icon:"W_74JI H_74JI"},"size-XL":{icon:"W_7rdk H_7rdk"},"size-XXL":{icon:"W_7Ig6 H_7Ig6"},"size-XXXL":{icon:"W_3n93F H_3n93F"},"size-40":{icon:"W_72FG H_72FG"},"rotate-D45":{icon:"h_1RtVxM"},"rotate-D90":{icon:"h_22ufi4"},"rotate-D180":{icon:"h_ZQwKon"},"rotate-D270":{icon:"h_9u8MW"}},_key:"1J7uej"}},89341:e=>{"use strict";e.exports={className:{default:{button:"c27KHO0_n b_0 M_0 i_0 I_T y_Z2hYGcu A_6EqO r_P C_q cvhIH6_T",content:"D_F ab_C gl_C W_6D6F",label:"D_X em_N o_h X_eo6 G_e t_l i_N"},"size-XXXS":{button:"P_dBP"},"size-XXS":{button:"P_dRA"},"size-XS":{button:"P_eo6"},"size-S":{button:"P_fq7"},"size-M":{button:"P_fq7"},"size-L":{button:"P_6Eb4"},"size-XL":{button:"P_6Fd5"},"size-XXL":{button:"P_6Fd5"},paddingLess:{button:"P_0"},isCompact:{content:"W_72FG ek_BB",label:"A_6DUj X_0"},isOnDarkBackground:{button:"is_26ISAR cZdTOHS_ZXgLQ3"},disabled:{button:"r_BN"}},_key:"Z2pi4Ge"}},88901:e=>{"use strict";e.exports={className:{default:{button:"C4_Z2aVTcY"}},_key:"Zt4S9c"}},68636:e=>{"use strict";e.exports={className:{default:{listItem:"G_e p_R",icon:"i_0"},"kind-WRAP_CONTENT":{listItem:"H_A i_N"},"kind-GRID":{listItem:"P_0 f_l M_dRA ir4_2ivgpk"}},_key:"1fXSHs"}},41920:e=>{"use strict";e.exports={className:{default:{listContainer:"p_R o_h D_F H_A W_6D6F k_w em_N"}},_key:"ZCkcGS"}},94700:e=>{"use strict";e.exports={className:{default:{wrapper:"D_F F_n gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1PEzoz",spinner:"W_6MGW H_6MGW ah_Zq6hUs",arc:"cdPFi_n cZ13pKbK_Z2aVTcY cZ1XO2Ji_dRA c2abBOT_EY cZ1vNhDV_rd cZV8aCd_pI ah_14s73"},"size-S":{container:"W_6Fd5 H_6Fd5",spinner:"W_6Fd5 H_6Fd5"},inverted:{arc:"cZ13pKbK_52qC"},flex:{wrapper:"F_N H_6D6F"}},_key:"10UfR8"}},3480:e=>{"use strict";e.exports={className:{default:{menu:"I_52qC b_Z14vXdP e_dRA j_Z2jsUnk C_Z281SGl Z_3nxNR p_a ir_0 P_3HLUz"}},_key:"1RO7iY"}},6483:e=>{"use strict";e.exports={className:{default:{buttonContainer:""},active:{buttonContainer:"I_7l9bL"}},_key:"ZTqMOv"}},40687:e=>{"use strict";e.exports={className:{default:{grayOverlay:"p_f T_0 R_0 B_0 L_0 Z_3mRud I_Zjpytw D_F ab_C gl_C",container:"j_1doAr4 ir3_0"},"kind-LIGHT":{grayOverlay:"I_ZS20V7"},hideShadow:{container:"j_n"}},_key:"ZrKsXm"}},74290:e=>{"use strict";e.exports={className:{default:{list:"hd_n P_0 H_6D6F M_0 ir3_0 iy_h"},"layout-HORIZONTAL":{list:"D_F"},"layout-GRID":{list:"D_F eo_HB W_6D6F"},disabled:{list:"O_6uB4 cZW7ROP_n"},"kind-TOOLBAR":{list:"D_F ab_C M_0 P_0"},isRestrictedHeight:{list:"iz_A K_3v1qi"}},_key:"ZXlG6m"}},263:e=>{"use strict";e.exports={className:{default:{overlay:"Z_7G9R",shim:"Z_7G9R T_0 B_0 L_0 R_0 p_a q_T"}},_key:"1HLIBC"}},10994:e=>{"use strict";e.exports={className:{default:{infoIconContainer:"D_F gl_CH cdPFi_Z1TsNbA cdPFi4_Z2aVTcY",sponsoredIconContainer:"D_F ab_C cdPFi_Z29dUYT"},isOnDarkBackground:{infoIconContainer:"cdPFi_ZpQYvz cdPFi4_52qC",sponsoredIconContainer:"cdPFi_ZpQYvz"}},_key:"v3ALS"}},44904:e=>{"use strict";e.exports={className:{default:{pillContent:"C_Z281SGl k_w e_6Eb4 b_Z14vXdP M_dRA H_6MGW i_6Mbr ac_C ab_C D_F p_R o_h I_52qC Z_N",avatar:"D_F P_dBP",pillRemove:"D_F p_a R_0 T_0 q_q H_6D6F P_3gIgH M_0 en_0",pillText:"P_oRhLS",dragHoverContent:"D_F H_6D6F W_6D6F p_a T_0 L_0 Z_N",dragHoverLeft:"em_N",dragHoverRight:"em_N",pillContainer:"p_R",editInput:"s_3qWeB b_dm5 A_6EqO"},isHovered:{pillContent:"I_ZoExDJ J_x l_ZoExDJ"},isDragImg:{pillContent:"b_2fAfSG"},isSelected:{pillContent:"l_Z2aVTcY I_ZoExDJ"},hasError:{pillContent:"b_Z1222NH I_Zkgkoa",pillText:"P_3gJOe"},useEllipsis:{pillText:"k_BF J_x o_h G_e"},isDark:{pillContent:"C_52qC I_2sqbPK b_efTvb"},isFolderPill:{pillDiv:"W_6LEV H_6LEV I_ZnIF8Y D_F ab_C gl_C e_e5X"},isDragged:{pillContainer:"D_n"},"dragSide-left":{pillContent:"Q_GAbAU",dragHoverRight:"em_0"},"dragSide-right":{pillContent:"E_GAbAU",dragHoverLeft:"em_0"}},_key:"CLv4H"}},43513:e=>{"use strict";e.exports={className:{default:{overlay:"p_f D_B T_0 L_0 W_3mS5W H_3mS5H O_0 Z_tT",popover:"p_a Z_d48",popoverAnchor:"D_X",popoverContent:"p_R e_dRA I_52qC j_ZlOSbd"},"bg-DARK":{popoverContent:"C_52qC I_Z281SGl j_n"},"bg-GRADIENT":{popoverContent:"C_52qC I_Z2aVTcY"},"zAltitude-500":{overlay:"Z_dU7",popover:"Z_e69",popoverContent:"j_nWwhY"},"zAltitude-900":{overlay:"Z_eW8",popover:"Z_f8a",popoverContent:"j_ZqTdtW"},"zAltitude-9000":{overlay:"Z_7Ay0",popover:"Z_7G9R",popoverContent:"j_ZqTdtW"},"zAltitude-10000":{overlay:"Z_7Iyn",popover:"Z_3mRud",popoverContent:"j_ZqTdtW"},"zAltitude-11000":{overlay:"Z_3mTSI",popover:"Z_3n0uA",popoverContent:"j_ZqTdtW"},"borderRadius-LOW":{popoverContent:"e_dRA"},"borderRadius-MEDIUM":{popoverContent:"e_eo6"},"borderRadius-HIGH":{popoverContent:"e_eTB"},"borderRadius-MOBILE_DEFAULT":{popoverContent:"e_fq7 o_h"},animate:{popover:"lv_1Ys0hm"},ignorePointerEvents:{popover:"cZW7ROP_n"},highlight:{popover:"b_ZXQDCD e_dRA j_Z1oW7xg",popoverContent:"p_R e_0 j_n"}},_key:"Z2JLnk"}},26930:e=>{"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6MGW T_36SjV",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6MGW H_6MGW M_6Eb4"},arrowDirectionDown:{pointerWrapper:"T_A B_36SjV h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 L_36SjV"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 R_36SjV h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_ZqTdtW"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"x3XRo"}},10335:e=>{"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6Eb4 T_36JN3",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6Eb4 H_6Eb4 M_eTB"},arrowDirectionDown:{pointerWrapper:"T_A B_36Jxi h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 L_36JN3"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 R_36Jxi h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_nWwhY"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"bg-LIGHTGRAY":{pointer:"I_ZnkeaL"},"bg-NEON_BLUE":{pointer:"I_Z1YJKic"},"bg-OVERLAY":{pointer:"I_Z1WGv5u"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"Z25tKhw"}},75485:e=>{"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_eTB T_69bz",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_eTB H_eTB M_e8l"},arrowDirectionDown:{pointerWrapper:"T_A B_69bz h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 L_69bz"},arrowDirectionRight:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 R_69bz h_ZQwKon"},"zAltitude-500":{pointer:"j_ZlOSbd"},"zAltitude-900":{pointer:"j_ZlOSbd"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"jAFHx"}},10745:e=>{"use strict";e.exports={className:{default:{progress:"k_w W_6D6F H_6Fd5 I_52qC p_R",placeholder:"b_Z14vXdP e_fq7 H_6EGz W_dbGOz",value:"p_a T_0 H_6D6F s_6Nds e_fq7 q_Z22jis8 D_F gl_CH N_fq7 lv_ZLoey2",label:"C_52qC A_6DUj u_b i_6Fd5"}},_key:"Z7L78D"}},75120:e=>{"use strict";e.exports={className:{default:{container:"s_3vhr3 k_w I_52qC D_F el_QDCVj M_1vskfw",messageContainer:"i_6Nds t_l A_6EqO",message:"E_6Eb4",subtitle:"C_Z24Sbth t_l A_6Eb4",cancel:"E_68F4 P_eo6 q_T C_Z2aVTcY A_6EqO y_Z2hYGcu b_0 r_P",bar:"Y_6Eb4"}},_key:"14m9WK"}},61239:e=>{"use strict";e.exports={className:{default:{container:"W_3nqBW H_7jIs"}},_key:"2aho6K"}},96862:e=>{"use strict";e.exports={className:{default:{searchHeader:"P_2iGizO m_Z14vXdP D_F en_0 ek_EZ gl_FM"},"themeMode-DARK":{searchHeader:"m_ZYfFPt"}},_key:"Z2wEO9i"}},55376:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C J_x r_P H_6Nds",labelPadding:"N_eo6"},"themeMode-DARK":{container:"C_52qC"}},_key:"Z2rlRsL"}},4846:e=>{"use strict";e.exports={className:{default:{didYouMean:"A_6EqO C_q u_q i_6MGW J_x a_3Lic3 o_h G_e",didYouMeanKeyword:"S_U kz_ZkiIcp lc_BK D_X A_6EqO u_b",didYouMeanWord:"D_X A_6EqO u_b"},"themeMode-DARK":{didYouMeanKeyword:"C_52qC",didYouMean:"C_52qC",didYouMeanWord:"C_52qC"}},_key:"Z1X8y2W"}},49805:e=>{"use strict";e.exports={className:{default:{suggestionOption:"D_F P_1zJRml k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9 ab_C",keywordSuggestionOption:"D_F P_1zJRml k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionAvatar:"W_6UbO H_6UbO E_6Eb4",personSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h",emailAddressLabel:"J_x G_e o_h C_Z1VRqsb",keywordSuggestionLabel:"J_x G_e o_h je_6DEy",keywordSuggestionIcon:"N_6DEy E_eTB je_eTB",deleteButton:"je_6DEy Q_A"}},_key:"TUKzR"}},13035:e=>{"use strict";e.exports={className:{default:{divider:"M_ZyFsHm q_ak5k6 r_P cdPFi_Zjpyv3 t_C H_0 p_R P_dRA q4_52qC cdPFi4_Zjpytw",moreButton:"b_n r_P P_dRA p_R H_6Fd5 T_69H5 q_T W_6D6F",moreIcon:"p_a T_68F4 L_dRK W_6Eb4 H_6Eb4"},"themeMode-MEDIUM":{divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"is_26ISAR cZdTOHS_ZXgLQ3"},"themeMode-DARK":{divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"is_26ISAR cZdTOHS_ZXgLQ3"}},_key:"Zu2cyv"}},91415:e=>{"use strict";e.exports={className:{default:{wrapper:"D_F en_0 gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1Ozsbb"},"size-XS":{wrapper:"H_6LEV",container:"W_6LEV H_6LEV"}},_key:"ZjGm2r"}},73474:e=>{"use strict";e.exports={className:{default:{background:"e_6Fd5 P_dRA ly_Zqeacl lx_3qWd0 lz_BV D_X W_6UbO H_6Fd5 p_R r_BN I_ZvsWfq b_Z1a7UWG it_dBP",handle:"p_R D_B W_fq7 H_fq7 I_52qC e_6Fd5 lv_Z1G1k6c L_0 b_Z1a7UWG"},"size-L":{background:"W_74JI H_6MGW",handle:"W_6Eb4 H_6Eb4 L_e8l"},isEnabled:{background:"I_Z2aVTcY b_2fAfSG",handle:"L_6Fd5 b_6i9dl"},isEnabledAndLarge:{handle:"L_6MWH"},isClickable:{background:"r_P"}},_key:"Z2iT6pk"}},42747:e=>{"use strict";e.exports={className:{default:{tooltip:"s_3rBgu I_Zcn3mu C_52qC t_C P_fQos4 e_eTB p_a dq33_Z1WN6IG p33_a T33_e5X Y33_69rk cn33_fam cg33_FJ"},right:{tooltip:"R33_6D6F L33_A l33_Z1vf50c"},left:{tooltip:"L33_6D6F R33_A l33_9Tjpk"}},_key:"Z1Kvy9o"}},43537:e=>{"use strict";e.exports={className:{default:{scroller:"p_R Z_0 iy_h iz_A W_6D6F H_6D6F k_w em_N c22hqzz_GN",list:"M_0 P_0",item:"H_A hd_n p_a L_0 R_0",heightPlaceHolder:"p_a T_0 L_0 W_dBP I_T cZW7ROP_n Z_nF",topHolder:"D_F ek_BC o_h p_R",bottomHolder:"o_h"}},_key:"ZXg8Ht"}},79565:e=>{"use strict";e.exports={className:{default:{container:"p_R",icon:"R_0 B_e8l i_0 q_52qC p_a e_dRA",avatarImg:"e_e5X"},iconSizeBig:{icon:"R_eDQ B_6DEy"},darkMode:{icon:"q_Zjpyu2"}},_key:"1cT1Sd"}},14394:(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var a=s(99095),n=(s(45697),s(67294)),r=s(76223),o=s.n(r),i=s(49805),l=s.n(i),c=(s(31280),s(37422)),d=s(43007),E=s(56148),_=s(76531),u=s(19341),m=s(23113);const S=({suggestion:e,inputValue:t=""})=>{const{name:s,type:a,subject:r}=e,o=a===c.sWL.EMAIL&&r?r.replace(/\^_/g,""):s;return n.createElement(m.Z,{haystack:o,title:o,needle:t,formatter:e=>n.createElement("strong",null,e)})},p=o()(l()),C=(0,a.defineMessages)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),A=({suggestion:e,inputValue:t=""},{intl:{formatMessage:s}})=>n.createElement("div",{className:p.suggestionOption},n.createElement("span",{className:p.suggestionAvatar},n.createElement(u.ZP,{contact:{id:e.serviceId},size:u.u8.M})),n.createElement("div",{className:p.personSuggestionLabel},n.createElement("div",{className:p.suggestionLabel},n.createElement(S,{suggestion:e,inputValue:t})),(()=>{const a=(({emailIds:e=[],formatMessage:t})=>{const s=e.length-1,[a]=e;return s>0?t(C.search_email_addresses,{emailAddress:a,extraEmailCount:s}):a})({emailIds:e.emailIds,formatMessage:s});return n.createElement("div",{className:p.emailAddressLabel,"data-test-id":"person-item-email-list"},n.createElement(m.Z,{haystack:a,title:a,needle:t,formatter:e=>n.createElement("strong",null,e)}))})()));A.contextTypes={intl:a.intlShape.isRequired};const T=A;var h=s(48039),g=s.n(h),I=s(28211);const R=o()(g()),O=(0,a.defineMessages)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),D=({suggestion:e,inputValue:t=""},{intl:{formatMessage:s}})=>{const{from:a,date:r}=e,o=JSON.parse(a)[0],{email:i}=o,l=1e3*parseInt(r,10);return n.createElement("div",{className:R.suggestionOption},n.createElement("div",{className:R.suggestionLabelContainer},n.createElement("span",{className:R.suggestionIcon},n.createElement(d.Z,{kind:_.Kinds.INBOX,size:_.Sizes.XS,colorState:_.ColorStates.COOL_FAINT})),n.createElement("div",{className:R.emailSuggestionLabel},n.createElement("div",{className:R.suggestionLabel},n.createElement(S,{suggestion:e,inputValue:t})),(()=>{const e=(({emailIds:e=[],formatMessage:t})=>{const s=e.length-1,[a]=e;return s>0?t(O.search_email_addresses,{emailAddress:a,extraEmailCount:s}):a})({emailIds:[i],formatMessage:s});return n.createElement("div",{className:R.emailAddressLabel,"data-test-id":"person-item-email-list"},n.createElement(m.Z,{haystack:e,title:e,needle:t,formatter:e=>n.createElement("strong",null,e)}))})())),n.createElement("div",{className:R.dateLabel},n.createElement(I.ZP,{date:new Date(l)})))};D.contextTypes={intl:a.intlShape.isRequired};const N=D;function f(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const M=(0,a.defineMessages)({remove_history:{id:"btn_remove_history",defaultMessage:"Remove"}}),L=o()(l());class P extends n.Component{constructor(...e){super(...e),f(this,"handleDeleteRecent",(e=>{e.preventDefault(),e.stopPropagation(),this.props.deleteRecent(this.props.suggestion)}))}renderSuggestionWithIcon(e){const{formatMessage:t}=this.context.intl,{suggestion:s}=this.props;return n.createElement("div",{className:L.keywordSuggestionOption},n.createElement("span",{className:L.keywordSuggestionIcon},n.createElement(d.Z,{kind:e,size:_.Sizes.S,colorState:_.ColorStates.FIRST_LEVEL_GRAY})),n.createElement("div",{className:L.keywordSuggestionLabel},n.createElement(S,this.props)),s.type===c.sWL.RECENT&&n.createElement("span",{className:L.deleteButton},n.createElement(E.Z,{"data-iskeynav":!0,kind:_.Kinds.CLOSE,size:_.Sizes.XXS,title:t(M.remove_history),colorStates:{normal:_.ColorStates.NORMAL,hovered:_.ColorStates.SELECTED},onMouseDown:this.handleDeleteRecent})))}render(){const{suggestion:e}=this.props;switch(e.type){case c.sWL.PERSON:return n.createElement(T,this.props);case c.sWL.RECENT:return this.renderSuggestionWithIcon(_.Kinds.CLOCK_OUTLINE);case c.sWL.KEYWORD:return this.renderSuggestionWithIcon(_.Kinds.SEARCH);case c.sWL.EMAIL:return n.createElement(N,this.props);default:return null}}}f(P,"contextTypes",{intl:a.intlShape.isRequired}),f(P,"defaultProps",{inputValue:""});const y=P},91041:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(67294),n=s(10728),r=s(76531),o=s(9026);const i=[{id:"fuji-blue",viewBox:20,startColor:n.E6z.vzm_sea_foam,stopColor:n.E6z.vzm_smurfette},{id:"fuji-red",viewBox:20,startColor:n.E6z.vzm_masala,stopColor:n.E6z.vzm_barbie},{id:r.ColorStates.ATTACH_EXCEL,viewBox:48,startColor:n.E6z.vzm_sea_foam,stopColor:n.E6z.vzm_playdoh},{id:r.ColorStates.ATTACH_SLIDE,viewBox:48,startColor:n.E6z.vzm_masala,stopColor:n.E6z.vzm_barbie},{id:r.ColorStates.ATTACH_GENERIC,viewBox:48,startColor:n.E6z.vzm_sea_foam,stopColor:n.E6z.vzm_smurfette},{id:r.ColorStates.ATTACH_DOC,viewBox:48,startColor:n.E6z.vzm_smurfette,stopColor:n.E6z.ycolorPurple14a},{id:r.ColorStates.ATTACH_MEDIA,viewBox:48,startColor:n.E6z.vzm_barbie,stopColor:n.E6z.ycolorPurple14a},{id:r.ColorStates.WARNING_GRAD_RED,viewBox:48,startColor:n.E6z.vzm_swedish_fish,stopColor:n.E6z.vzm_barney},...Object.keys(o.Kz).map((e=>({id:r.ColorStates[`THEME_GRADIENT_${e}`],viewBox:48,startColor:o.Kz[`${e}`].GRADIENT_COLOR_1,stopColor:o.Kz[`${e}`].GRADIENT_COLOR_3})))].map((({id:e,viewBox:t,startColor:s,stopColor:n})=>a.createElement("linearGradient",{key:e,id:e,x1:"0",x2:t,y1:t,y2:"0",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:"40%",stopColor:s}),a.createElement("stop",{offset:"60%",stopColor:n}))));function l(){return a.createElement("svg",{height:"0"},a.createElement("defs",null,a.createElement("linearGradient",{x1:"4.62123025%",y1:"-2.85127472%",x2:"76.2163636%",y2:"80.5536364%",id:n.Cjq.PURPLE_GRADIENT},a.createElement("stop",{stopColor:"#FF0080",offset:"0%"}),a.createElement("stop",{stopColor:"#A924DD",offset:"27.0162943%"}),a.createElement("stop",{stopColor:"#6615D7",offset:"49%"}),a.createElement("stop",{stopColor:"#6001D2",offset:"100%"})),i,a.createElement("clipPath",{id:"clip-orb"},a.createElement("circle",{cx:"10",cy:"10",r:"10"}))))}},92110:(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});s(45697);var a=s(67294),n=s(25244);s(95406);const r="data:image/svg+xml;base64,",o={[n.F.EMPTY_FOLDER]:r+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjAgMTYwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxNjAgMTYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJpbGx1c3RyYXRpb25zIj4NCgk8cG9seWdvbiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgcG9pbnRzPSI5MS45MjIsMzkuMjY4IDEyMS4wMjUsMzkuMjY4IDEyMS41MjcsMjkgMTE0LDI5DQoJCTExNCwzNi43MDEgOTEuOTIyLDM2LjcwMSAJIi8+DQoJPGNpcmNsZSBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgY3g9IjkxLjkyMiIgY3k9IjE5Ljk0IiByPSIyLjQxNiIvPg0KCTxjaXJjbGUgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNFMEU0RTkiIGN4PSIxMjAuMzE4IiBjeT0iMTkuOTQiIHI9IjIuNDE2Ii8+DQoJPHBhdGggZmlsbD0iI0UwRTRFOSIgZD0iTTEyOS45NDUsMTAuNjE4Yy0xLjYyNi0xLjMwMi0zLjM2OS0yLjE5LTUuMTE2LTIuNzQyQzEyMy43NjMsNy41NCwxMjIuMDIzLDcsMTIwLjI3LDdTNTYuMjkzLDcsNTYuMjkzLDcNCgkJYy0xMS42NzUsMC0yMS4xMzYsOS40NjQtMjEuMTM2LDIxLjE0djM1LjA5NGwtOS4yNjUsMTEuNDYybC0wLjA3NywwLjEwNGMtMS4zMzUsMS45NzktMi4xNTksNC4xMDktMi41MjEsNi4yNThsLTAuMTA3LTAuMDQ0DQoJCWMtMC4xNTksMC4zODctMC4zODEsMS4wNDctMC41OTgsMS45MzFjLTAuOTE1LDMuNzIyLTAuODU5LDcuNzIyLDAuODQ3LDExLjUxOGMwLjk2LDIuMTM3LDIuNDEsNC4wOCw0LjM5Miw1Ljc3OA0KCQljOS4yMTYsNy44OTgsMjYuMjg4LDMuOTc2LDM1Ljk3OC04LjA1YzEuMzcxLTEuNzAxLDIuODMyLTMuNTUxLDQuMzcxLTUuNTMyYzAuNTUzLTAuNzExLDEuMTE0LTEuNDM4LDEuNjg0LTIuMTc5DQoJCWMzLjI4Ny00LjI3NCw2LjcxNi04Ljg1MiwxMC4wODUtMTMuNDNjMS4wNzItMS40NTYsMi4wNjItMi44MTIsMi45NjMtNC4wNWMwLjkyNy0wLjMzNCwxLjc1My0wLjg3NSwyLjQyMi0xLjU3Mmg1LjU3NQ0KCQlsLTAuMzY1LDczLjE3NmwtMC43NDMtMC44OTNsLTEuMjMyLTEuNDgybC0xLjEzNCwxLjU1OWwtNy42NTEsMTAuNTE3Yy0wLjQ4NywwLjY3LTAuMzM5LDEuNjA4LDAuMzMxLDIuMDk1DQoJCWMwLjY3LDAuNDg3LDEuNjA4LDAuMzM5LDIuMDk1LTAuMzMxbDYuNTE3LTguOTU5bDcuNTEyLDkuMDM1bDEuMjgxLDEuNTQxbDEuMTE3LTEuNjY0bDUuMzAzLTcuODk4bDQuMjIzLDYuMzg2bDEuMTkyLDEuODAzDQoJCWwxLjI3Mi0xLjc0OGw2LjQzOC04Ljg1bDYuNDM4LDguODVsMS4wMTMsMS4zOTJsMS4yNC0xLjE5NGw0LjUwMi00LjMzMmw0LjQzNCwzLjY1N2MwLjYzOSwwLjUyNywxLjU4NCwwLjQzNiwyLjExMi0wLjIwMw0KCQlzMC40MzYtMS41ODQtMC4yMDMtMi4xMTJsLTUuNDY1LTQuNTA4bC0xLjAzMS0wLjg1MWwtMC45NjMsMC45MjdsLTQuMjI1LDQuMDY1bC02LjYzOC05LjEyNWwtMS4yMTMtMS42NjdsLTEuMjEzLDEuNjY3DQoJCWwtMi4yNzMsMy4xMjVWNjUuNDI5aDIyLjE2N2gxLjV2LTEuNXYtMi42MzF2LTcuMjZjMC0xMC40ODMsMC0xMC40ODMsMC0yNC41OTlDMTM3LjI0MiwyMC40MTksMTM0LjUyNCwxNC4yODUsMTI5Ljk0NSwxMC42MTh6DQoJCSBNMzguMTU4LDI4LjE0YzAtMTAuMDE5LDguMTE4LTE4LjE0LDE4LjEzNi0xOC4xNGMxMC4wMiwwLDE4LjEzNiw4LjExNSwxOC4xMzYsMTguMTR2MzQuMTI1aC0zLjE3SDM4LjE1OFYyOC4xNHogTTI4LjI4MSw3Ni41MTQNCgkJbDguOTYtMTEuMDg0aDM1LjU5MUw1OC40MSw4NC45MjJjLTcuNzg0LDkuNDQ2LTE4Ljg5MywxMy4yODQtMjUuNjY2LDkuNDg4bC0wLjIxNS0wLjEyQzI2LjAxMyw5MC42MzcsMjQuMTI0LDgyLjcxNSwyOC4yODEsNzYuNTE0DQoJCXogTTc3LjUyOCw2OS4yNzRjLTMuMzU3LDQuNTYyLTYuNzc0LDkuMTIzLTEwLjA0NiwxMy4zNzljLTAuNTY3LDAuNzM3LTEuMTI1LDEuNDYtMS42NzUsMi4xNjcNCgkJYy0xLjUyOSwxLjk2OC0yLjk3OSwzLjgwNC00LjMzOCw1LjQ5Yy04LjcyNCwxMC44MjctMjMuOTE1LDE0LjMxNy0zMS42OSw3LjY1NGMtMS42NDUtMS40MS0yLjgyOC0yLjk5NS0zLjYwNy00LjczDQoJCWMtMC4xODMtMC40MDYtMC4zMzktMC44MTctMC40NzctMS4yMzFjMS4zMjIsMS45NDMsMy4xMTMsMy42NCw1LjM2OCw0LjkwNGwwLjIxNSwwLjEyYzguMjI5LDQuNjEyLDIwLjgzNCwwLjI1NywyOS40OTctMTAuMjU5DQoJCUw3Ni40MDgsNjUuNjRjMC43NDQsMC43MDYsMS42NTksMS4yMzEsMi42NzcsMS41MUM3OC41ODYsNjcuODMyLDc4LjA3NCw2OC41MzEsNzcuNTI4LDY5LjI3NHogTTgwLjc2Miw2NC4zODINCgkJYy0xLjg0MSwwLTMuMzMzLTEuNDkyLTMuMzMzLTMuMzMyczEuNDkyLTMuMzMyLDMuMzMzLTMuMzMyYzEuODQxLDAsMy4zMzMsMS40OTIsMy4zMzMsMy4zMzJTODIuNjAzLDY0LjM4Miw4MC43NjIsNjQuMzgyeg0KCQkgTTk3LjI1OSwxNDYuNjg4bC0zLjczOC00LjQ5NmwwLjM4Mi03Ni43NjNoOC41ODh2NzMuNDY3TDk3LjI1OSwxNDYuNjg4eiBNMTA5LjQ2OSwxNDUuMDU1bC0zLjk3Ny02LjAxNFY2NS40NTZoNS4wODR2NzguMDc4DQoJCUwxMDkuNDY5LDE0NS4wNTV6IE0xMzQuMjQyLDU0LjAzOHY3LjI2djEuMTMxSDg2Ljk0YzAuMDk5LTAuNDQ1LDAuMTU1LTAuOTA1LDAuMTU1LTEuMzhjMC0zLjQ5Ny0yLjgzNi02LjMzMi02LjMzMy02LjMzMg0KCQljLTEuMjI1LDAtMi4zNjQsMC4zNTMtMy4zMzMsMC45NTVWMjguMTRjMC03LjcyMS00LjE0Ni0xNC40NTEtMTAuMzItMTguMTQxYzE4LjAzMi0wLjAwMSw1Mi4zNTMtMC4wMDMsNTMuMDUyLTAuMDAzDQoJCWMwLjk1LDAsMy4yNzcsMC41ODgsMy43NjUsMC43NDJjMS40MSwwLjQ0NSwyLjgyMywxLjE2NSw0LjE0NCwyLjIyMmMzLjgzOSwzLjA3NSw2LjE3Miw4LjMzOSw2LjE3MiwxNi40NzkNCgkJQzEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNTQuMDM4eiIvPg0KPC9nPg0KPC9zdmc+DQo=",[n.F.SELECTED_MESSAGES]:r+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJNQUlMX3g1Rl9TRUxFQ1RFRCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IgoJIHk9IjBweCIgdmlld0JveD0iNjEgLTYxIDEzOCAxMzgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgNjEgLTYxIDEzOCAxMzg7ZmlsbDojRTBFNEU5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggZD0iTTEyNC41LDQ5LjJMNjUsNC4xdjYyLjNjMCwzLjksMi44LDYuNiw3LDYuNmgxMTZjNC4xLDAsNy0yLjcsNy02LjZWNGwtNTkuNiw0NS4yQzEzMi4yLDUxLjcsMTI3LjcsNTEuNywxMjQuNSw0OS4yeiIvPgo8cGF0aCBkPSJNMTI3LDQ1LjZjMS42LDEuMiwzLjgsMS4yLDUuNCwwbDYwLjItNDQuMmMxLjItMC45LDEuMi0yLjcsMC0zLjZsLTU4LTUzLjNjLTIuNy0yLTYuNS0yLTkuMiwwbC01OCw1My4zCgljLTEuMiwwLjktMS4yLDIuNywwLDMuNkwxMjcsNDUuNnoiLz4KPC9zdmc+",[n.F.ATTACHMENT_PREVIEW_ERROR]:r+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4IDQ4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0OCA0ODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPiA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPiAuc3Qwe2ZpbGw6I0UwRTRFOTt9IDwvc3R5bGU+IDxnPiA8cmVjdCB4PSIxNiIgeT0iMjEiIGNsYXNzPSJzdDAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4gPHJlY3QgeD0iMTYuMDAwNDMiIHk9IjMxLjk5NTg1IiBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMi4wMDgzIi8+IDxyZWN0IHg9IjMwIiB5PSIyMSIgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPiA8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzkuNTU1MDUsMTEuNzY0MzRjLTAuMDAwMzctMC4wMDAxOC03LjE4NjUyLTcuMDg5NTQtOC45MDY4LTguNzg2OCBDMzAuMjMxMDIsMi41NjU4NiwyOS43OTEzMiwyLjA2MzE3LDI4Ljk5OTY5LDJIOS44Nzg5MUM4Ljg0MTE5LDIsOCwyLjg0MTE5LDgsMy44Nzg5MVY0NGMwLDEuMDk5OTgsMC45MDAwMiwyLDIsMmgyOCBjMS4wOTk5OCwwLDItMC45MDAwMiwyLTJWMTIuOTM4MTdDNDAsMTIuMzk1OTQsMzkuNzkxODEsMTIuMDA2MDQsMzkuNTU1MDUsMTEuNzY0MzR6IE0zOCw0NEgxMFY0aDE4djguNSBjMCwwLjgyNTAxLDAuNjc0OTksMS41LDEuNSwxLjVIMzhWNDR6Ii8+IDwvZz4gPC9zdmc+",[n.F.PLAY_VIDEO]:r+"PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgeDE9IjIuMDY2JSIgeTE9Ijk2Ljc1MSUiIHgyPSI5NS42NTklIiB5Mj0iMi45NjklIiBpZD0iYSI+PHN0b3Agc3RvcC1jb2xvcj0iIzZEMDBGNiIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiMwMDNBQkMiIG9mZnNldD0iMTAwJSIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEyLjY3NiA3Ny4zNzZjMy45ODMgMy42MDggOC42NjcgNi4yOCAxNC4wMjcgOC4wMTdDMzIuMDc4IDg3LjEyNSAzNy44OSA4OCA0NC4xNjMgODhjNi4xNjQgMCAxMS45MzQtLjg3NSAxNy4yOTYtMi42MDcgMi4xNTQtLjY5NCA0LjE4Ni0xLjU0NyA2LjExNi0yLjU0MyAyLjg4NC0xLjQ5IDUuNTMtMy4zMTIgNy45MTYtNS40NzQgMy45OS0zLjYwNyA3LjA5Ny04LjE4MyA5LjMzLTEzLjcwN0M4Ny4wNSA1OC4xMzYgODguMTY4IDUxLjU4IDg4LjE2OCA0NGMwLTcuNTg2LTEuMTE4LTE0LjE0LTMuMzQ2LTE5LjY3LTIuMjMzLTUuNTMtNS4zNC0xMC4xLTkuMzMtMTMuNzA1LTMuOTg1LTMuNjE3LTguNjYtNi4yODUtMTQuMDMzLTguMDJDNTYuMDk2Ljg3IDUwLjMyNiAwIDQ0LjE2MiAwYy02LjI3MyAwLTEyLjA4NS44NjgtMTcuNDYgMi42MDYtMS43NDMuNTYtMy40MTIgMS4yMzYtNS4wMSAyLjAwNS0zLjMyIDEuNTgzLTYuMzMgMy41NzgtOS4wMTcgNi4wMTVDOC42ODggMTQuMjMgNS41NzggMTguOCAzLjM0NiAyNC4zMyAxLjExNiAyOS44NiAwIDM2LjQxNCAwIDQ0YzAgNy41ODIgMS4xMTcgMTQuMTM3IDMuMzQ2IDE5LjY3IDIuMjMyIDUuNTIzIDUuMzQyIDEwLjEgOS4zMyAxMy43MDZ6IiBmaWxsLW9wYWNpdHk9Ii42NSIgZmlsbD0idXJsKCNhKSIvPjxwYXRoIGQ9Ik0zNi43MyA1OWgtLjA2NmMtLjkyIDAtMS42NjQtLjc0Mi0xLjY2NC0xLjY1NlYzMC42NTZjMC0uOTE1Ljc0LTEuNjU2IDEuNjY0LTEuNjU2LjAzIDAgLjA2IDAgLjA5LjAwMi4zOC0uMDczLjc4OC0uMDE0IDEuMTUyLjE5NmwyMi42MjIgMTMuMDZjLjc5OC40NiAxLjA3NSAxLjQ3NC42MTMgMi4yNzYtLjAyMy4wNC0uMDQ4LjA4LS4wNzUuMTE4LS4xMzcuMjctLjM1LjUwMy0uNjMuNjdsLTIyLjQ0IDEzLjQ4NGMtLjM5NS4yNC0uODUuMjk1LTEuMjY1LjE5M3oiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+"};class i extends a.Component{render(){var e=o[this.props.kind];return a.createElement("img",{src:e,width:this.props.width,height:this.props.height,alt:this.props.altText,"data-test-id":"svg-image"})}}var l,c,d;d={width:48,height:48,altText:""},(c="defaultProps")in(l=i)?Object.defineProperty(l,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[c]=d;const E=i},44874:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>E});s(45697);var a=s(67294),n=s(95406),r=s(91415),o=s.n(r),i=s(76223),l=s.n(i),c=s(43007),d=s(76531);(0,n.gP)([d.Sizes.XS,d.Sizes.S]),(0,n.gP)([d.ColorStates.SUCCESS,d.ColorStates.INVERTED]);function E({size:e,title:t,colorState:s}){const n=l()(o(),{size:e});return a.createElement("div",{className:n.wrapper},a.createElement("div",{className:n.container,title:t,"aria-label":t},a.createElement(c.Z,{kind:d.Kinds.REFRESH,size:e,colorState:s})))}E.defaultProps={size:d.Sizes.S,colorState:d.ColorStates.SUCCESS}},79094:(e,t,s)=>{"use strict";s.d(t,{O:()=>m,t:()=>c});var a=s(67294),n=s(45697),r=s.n(n),o=s(58831),i=s.n(o);const l=({children:e,isDark:t,overrideClassNames:s={}},{getCss:n})=>{const r=n(i());return a.createElement("ul",{className:r.container+" "+(s.tabListContainer||""),role:"tablist"},a.Children.toArray(e).map((e=>(0,a.cloneElement)(e,{isDark:t}))))};l.contextTypes={getCss:r().func};const c=l;var d=s(58262),E=s.n(d);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const u=({children:e,onClick:t,isDark:s=!1,isSelected:n=!1,overrideClassNames:r={},...o},{getCss:i})=>{const l=i(E(),{isSelected:n,isDark:s,isDarkAndSelected:s&&n});return a.createElement("li",{className:l.container+" "+(r.tabContainer||""),role:"presentation"},a.createElement("button",_({},o,{className:l.button+" "+(r.button||""),role:"tab","aria-selected":n,onClick:t,"data-iskeynav":!0}),e))};u.contextTypes={getCss:r().func};const m=u},58262:e=>{"use strict";e.exports={className:{default:{container:"D_X H_6UbO k_w M_Z1fefhY P_0 M6_Ic6Mi",button:"H_6D6F z_n x_n n_n bn_e8l bm_n q_n A_6EqO i_6Fd5 P_3Y3Gk u_b C_Z281SGl r_P"},isSelected:{button:"C_Z2aVTcY bm_FJ jb_eDQ bj_Z2aVTcY"},isDark:{button:"C_ZpQYvz"},isDarkAndSelected:{button:"C_2qemPL bj_2qemPL"}},_key:"25Er8G"}},58831:e=>{"use strict";e.exports={className:{default:{container:"H_6UbO M_0 P_0 D_F"}},_key:"1ntBGx"}},71055:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a=s(67294),n=s(73474),r=s.n(n),o=s(76223),i=s.n(o);function l({isEnabled:e,size:t="M",ariaLabel:s,ariaHidden:n,title:o,onClick:l,isFocused:c=!1,isClickable:d=!0,iskeynav:E=!1}){const _=i()(r(),{isEnabled:e,size:t,isClickable:d,isEnabledAndLarge:e&&"L"===t}),u=(0,a.useCallback)((e=>{null!==e&&c&&e.focus()}),[c]);return a.createElement("button",{className:_.background,role:"checkbox","aria-checked":e,onClick:e=>d?l(e):null,"aria-label":s,"aria-hidden":!!n,title:o,tabIndex:0,"data-iskeynav":E,ref:u},a.createElement("span",{className:_.handle}))}},54542:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(9333),l=s(9026),c=s(76531);function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const E=(0,o.defineMessages)({perm_delete_msgs:{id:"perm_delete_msgs",defaultMessage:"Permanently delete the selected {conversations, select, true {conversations} false {messages}}"},delete_msgs:{id:"delete_msgs",defaultMessage:"Delete the selected {conversations, select, true {conversations} false {messages}}"}});class _ extends r.Component{render(){const{formatMessage:e}=this.context.intl,{permanent:t,disabled:s,onClick:a,showLabel:n,isCompact:d,size:_,conversations:u,title:m}=this.props,S=e(t?E.perm_delete_msgs:E.delete_msgs,{conversations:u}),p=t?"perm-delete":"delete",C=this.context.getThemeMode()===l.zg.DARK;return r.createElement(i.default,{"data-iskeynav":!0,"data-test-id":`toolbar-${p}`,"aria-label":S,title:m||S,kind:c.Kinds.DELETE,disabled:s,onClick:a,size:_,colorState:c.ColorStates.INHERITED,isOnDarkBackground:C,isCompact:d},n?r.createElement(o.FormattedMessage,{id:"delete_icon_label",defaultMessage:"Delete"}):null)}}d(_,"defaultProps",{size:c.Sizes.XS,showLabel:!0,onClick:function(){},conversations:!1}),d(_,"contextTypes",{intl:o.intlShape.isRequired,getThemeMode:n().func});const u=_},25288:e=>{"use strict";e.exports={className:{default:{container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1WBuqm cdPFi4_Z2aVTcY"},"themeMode-DARK":{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"Z2ghqKY"}},52032:e=>{"use strict";e.exports={className:{default:{logo:"p_a T_6Mbr L_6LEV H_A cZR3vvd_n",head:"H_7zJd cZR3vv9_7ceA I_Z1XtUkA aw_ZCG3c5",headerText:"D_n cZR3vuu_a cZR3vuW_6Fd5 cZR3vvg_6FIA cZR3vve_52qC cZ1wMhrj_0 cZR3vuB_6MGW cZR3vuq_C cZR3vuT_6D6F cZR3vvd_B"},aolUser:{head:"I_4N1z aw_1O8fuN"}},_key:"ZehG7f"}},31871:e=>{"use strict";e.exports={className:{default:{mainBody:"H_6D6F W_6D6F p_R bo_BA cf_0",headerContainer:"H_7zJd cZR3vv9_7ceA P_0",leftRailContainer:"I_ZnIF8Y x_Z14vXdP cZR3vvd_n V_GM W_3o4BO s_3o4BO P_0",contentContainer:"W_6D6F je_6LEV V_GM",rightRailContainer:"I_ZnIF8Y n_Z14vXdP V_GM P_0 a_3vpWV s_3o4BO cZR3vvd_n"}},_key:"1twphr"}},28996:e=>{"use strict";e.exports={className:{default:{leftRailItemsContainer:"D_B je_6Fd5 W_3o4BO",link:"C_52qC O_cMq D_B b_n ir_n r_P cn_dBP u_e69 e_dRA ab_C A_6EqO S_n k_w gl_C l_T H_6VdP M_1Eu7sD W_eTL I_Z2aVTcY",moreIcon:"D_B q_8ahxV ab_C gl_C H_eo6 M_1Eu7sD p_R",iconContainer:"p_a T_69rk L_dRf",accountslist:"D_B",list:"Y_0 Q_0 E_0 U_0 D_B hd_n P_2d6pmo",folderList:"Y_6Nds Q_0 E_0 U_0 D_B hd_n P_2d6pmo",header:"D_B gl_FM M_BOLti",accountsListItem:"O_cMq u_eBE A_6EWk C_Z2aVTcY P_2d6pmo M_1WjkSr",listItem:"D_B ab_C Y_6EWk",folderName:"M_eo6 H_fq7 e_6LEV I_ZroviD D_X",folderNameRight:"M_eo6 H_fq7 e_6LEV I_ZroviD D_X f_r"}},_key:"ZfMI1J"}},76796:e=>{"use strict";e.exports={className:{default:{image:"W_3n13i H_7aG4",upsellPage:"em_N D_F ab_C ek_BB",header:"P_0 A_6LEV i_6UbO Y_6DEy U_6LEV jb_6Eb4",body:"t_C A_6EqO i_6FIA jb_6MGW",footer:"D_F gl_C C_Z1TsNbA",userName:"cZ1RN91d_GG",description:"M_0 C_Z1TsNbA",providersOption:"Y_6Fd5",switchAccount:"C_Z2aVTcY",accountList:"M_0 P_0 em_N D_F hd_n",listItem:"em_N D_F ab_C ek_BB gl_C",label:"C_Z281SGl u_dPo A_6EWk i_6LEV M_27msYt",supportedProviderCaption:"t_C A_6EqO C_Z1WBuqm M_6DEy"}},_key:"AF0E4"}},20879:e=>{"use strict";e.exports={className:{default:{wrapper:"H_6D6F D_F cZ1RN91d_n ek_BB s_1HCsWR aw_Z1CkV98",shadedContainer:"em_N W_6D6F H_6D6F D_F o_h p_R T_7zJd I_ZnwrMC",container:"em_N D_F o_h s_1HLnlu",mainContent:"em_N D_F s_e5X o_h p_R j_ZlOSbd gl_C I_52qC P_Z2jbO7T",widthRestricter:"em_N D_F ej_eUh",leftRail:"em_0 D_F gl_CH W_3o4BO s_3o4BO a_3rehn cZ10Gnkk_ZM1sUU",rightRail:"em_N D_F a_3vpWV s_3o4BO",titleLabel:"u_e69 A_6EWk M_27m6vR",navWrapper:"D_F ab_C gl_CI H_6TFj M_1MapR8",errorContainer:"D_F W_3vPwA ek_BB",errorWrapper:"D_F ab_CI A_6EqO i_6LEV C_ZkiIcp",errorIcon:"D_F E_fq7"},ybarFuji2Enabled:{shadedContainer:"T_3n1j3"}},_key:"LwC0H"}},9577:e=>{"use strict";e.exports={className:{default:{leftRailItemsContainer:"D_F ek_BB je_6Fd5 W_3rehn",link:"C_52qC O_cMq en_0 D_F b_n ir_n r_P cn_dBP u_e69 e_dRA ab_C A_6EqO S_n k_w gl_C l_T H_6VdP M_1Eu7sD I_Z2aVTcY",moreIcon:"D_F q_8ahxV ab_C gl_C H_eo6 M_1Eu7sD",iconContainer:"Y_eo6",accountslist:"en_0 D_F ek_BB",list:"Y_0 Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",folderList:"Y_6Nds Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",header:"O_cMo D_F gl_FM M_BOLti",accountsListItem:"u_eBE A_6EWk C_Z2aVTcY P_2d6pmo M_1WjkSr",listItem:"O_cMo D_F ab_C Y_6EWk",folderName:"M_eo6 H_fq7 e_6LEV I_Z1YRXYn"}},_key:"Z1aGhS9"}},74138:e=>{"use strict";e.exports={className:{default:{searchBoxContainer:"en_0 O_cMq D_F p_R H_74JI",searchButton:"M_0 b_0 C_52qC en_0 W_7GHz D_F u_b cZ1RN91d_n J_x A_6EqO k_w gl_C ab_C ck_dRA y_Z2hYGcu bl_dRA H_74JI I_2sqbOJ",searchBoxInput:"M_0 W_6D6F D_F C_ZtwOFC ab_C I_52qC A_6EWk y_Z2hYGcu X_6Eb4 H_74JI cj_dRA bk_dRA"}},_key:"hbrzU"}},7449:(e,t,s)=>{"use strict";function a(e,t,s){if(!e||!t)return{};let a=t.getBoundingClientRect();const n=e.ownerDocument.documentElement.offsetHeight,r=e.ownerDocument.documentElement.offsetWidth,o=e.getBoundingClientRect(),{scrollingElement:i,body:l}=e.ownerDocument,c=i?i.scrollLeft:l.scrollLeft,d=i?i.scrollTop:l.scrollTop,E=o.top+d,_=o.right+c,u=o.bottom+d,m=o.left+c,S=(o.height,-o.width),p=8,C={below:n-u-p,above:E-p,left:m-S,right:r-_-S},A={},T=.9,h=Math.floor(Math.max(C.above,C.below)*T),g=Math.floor(Math.max(C.left,C.right)*T);if(a.height>h&&(A.maxHeight=h),a.width>g&&(A.maxWidth=g),A.maxHeight||A.maxWidth){A.overflow="auto";const e=A.maxHeight||a.height,t=A.maxWidth||a.width;a=Object.assign({},a,{height:e,width:t,bottom:a.top+e,right:a.left+t})}const I=C.below*T-a.height>=0,R=C.above*T-a.height>=0,O=C.left*T-a.width>=0,D=C.right*T-a.width>=0;return s&&D?A.left=m-a.width-S:D?A.left=_+S:O&&(A.left=m-a.width-S),I?A.top=u+p:R&&(A.top=E-a.height-p),A}s.d(t,{E:()=>a})},28559:(e,t,s)=>{"use strict";s.r(t),s.d(t,{preparePillContact:()=>r,createAddress:()=>o});const a=/^(['"]?)(.*?)\1\s*<(\S+@\S+\.\w+)>\s*$/,n=/(<[^<>]+@[^<>]+\.[^<>]+>)|(\([^\(\)]+@[^\(\)]+\.[^\(\)]+\))|(\[[^\[\]]+@[^\[\]]+\.[^\[\]]+\])/;function r({name:e="",email:t="",isEditing:s=!1,createdTime:n}){const[,,r=e,o=t]=t.match(a)||[];let i;return i=r&&o?r===o?`<${o}>`:`${r} <${o}>`:r||o,{name:r||o,email:o,title:i,isEditing:s,createdTime:n}}function o(e){if(n.test(e)){let t,[s]=e.match(n);const a=e.replace(s,"").trim();return s=s.substring(1,s.length-1),t=a&&s?`${a} <${s}>`:a||s,{email:s,name:a,title:t}}return{email:e,name:e}}},92039:(e,t,s)=>{"use strict";s.d(t,{nk:()=>n,MW:()=>o,MJ:()=>i,u8:()=>l,cD:()=>c});var a=s(37422);const n={FOLDERS:"in",FROM:"from",TO:"to",SUBJECT:"subject",BEFORE:"before",AFTER:"after",HAS:"has",IS:"is",ATTACHMENT_TYPE:"attachmenttype"},r={ATTACHMENT:"attachment",PHOTO:"image",CALENDAR_INVITE:"calendar"};function o(e=""){return(e.match(/([a-z]*:"[^"]*")|([a-z]*:[^\s]*)/g)||[]).reduce(((e,t)=>{const[,s,a]=t.match(/^([a-z]*):(.*)$/);return Object.assign(e,{[s]:[...e[s]||[],a]})}),{})}function i(e,t="",s=!1){const a=new RegExp(`(${e}:"[^"]*")|(${e}:[^\\s]*)`,"g");return s?t.replace(a,""):t.replace(a,"").trim()}function l(e,t=!1){if(!e)return{};const s=o(e),l={};let c=e;["FOLDERS","FROM","TO","SUBJECT","AFTER","BEFORE"].forEach((e=>{const r=n[e],o=s[r]||[],d="BEFORE"===e||"AFTER"===e;1===o.length&&(l[a.MdG[e]]=d?o[0].replace(/"/g,""):o[0],c=i(r,c,t))}));const d=s[n.HAS]||[];["ATTACHMENT","PHOTO"].forEach((e=>{const t=a.MdG[e];l[t]=-1!==d.indexOf(r[e]),c=c.replace(`${n.HAS}:${r[e]}`,"")}));const E=s[n.ATTACHMENT_TYPE]||[],_=a.MdG.CALENDAR_INVITE;return l[_]=-1!==E.indexOf(r.CALENDAR_INVITE),c=c.replace(`${n.ATTACHMENT_TYPE}:${r.CALENDAR_INVITE}`,""),c=c.replace(new RegExp("^\\s*"),""),c.trim()&&(l[a.MdG.KEYWORD]=c),l}function c(e){const t=[],s=e[a.MdG.FOLDERS],o=e[a.MdG.FROM],i=e[a.MdG.TO],l=e[a.MdG.SUBJECT],c=e[a.MdG.KEYWORD],d=e[a.MdG.BEFORE],E=e[a.MdG.AFTER],_=e[a.MdG.ATTACHMENT],u=e[a.MdG.PHOTO],m=e[a.MdG.CALENDAR_INVITE];return s&&t.push(`${n.FOLDERS}:${s}`),o&&t.push(`${n.FROM}:${o}`),i&&t.push(`${n.TO}:${i}`),l&&t.push(`${n.SUBJECT}:${l}`),_&&t.push(`${n.HAS}:${r.ATTACHMENT}`),u&&t.push(`${n.HAS}:${r.PHOTO}`),m&&t.push(`${n.ATTACHMENT_TYPE}:${r.CALENDAR_INVITE}`),E&&t.push(`${n.AFTER}:"${E}"`),d&&t.push(`${n.BEFORE}:"${d}"`),c&&t.push(c),t.join(" ")}},64059:(e,t,s)=>{"use strict";s.d(t,{x:()=>n});const a=/^(?:https?|ftp|mailto):(?:\/\/)?/i;function n(e){let t=!1;if(!a.test(e))return t;const s=window.open();if(s){s.opener=null;try{s.location=e,t=!0}catch(n){}}return t}},40561:(e,t,s)=>{"use strict";s.d(t,{z:()=>n,h:()=>r});var a=s(37422);function n(e,t,s,n=a.JfS){return o(e,t,s,n)}function r(e,t,s=a.JfS){return o(e,t,null,s)}function o(e,t,s,n=a.JfS,r=!0){const{id:o,email:i,iataCode:l,photoTimestamp:c}=e||{},d={spsize:t+"X"+t,...s&&{fallback_url:s},alphatar_photo:r,...c&&{timestamp:c},...n&&{appId:n}};let E;if(l)E=`/v4/tags/iata/${l}/photo`;else if(o&&o!==i)E="/v4/contacts/"+o+"/photo",d.badge=!1;else{if(!i)return s;E="/v4/endpoints/smtp:"+i+"/photo",d.format="image"}return(0,a.pVt)(n)+E+"?"+Object.keys(d).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(d[e]))).join("&")}},16883:e=>{"use strict";e.exports={className:{default:{container:"p_R q_Z281SGl r_P e_dRA",stretchedBox:"ir_n M_0 P_0 b_0 H_6D6F W_6D6F p_a o_h"}},_key:"2a2gv"}},67373:(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(99095),i=s(92743),l=s(37422),c=s(25869),d=s(85927),E=(s(31280),s(16883)),_=s.n(E),u=s(95406);function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let S;const p=()=>{};class C extends a.Component{constructor(...e){super(...e),m(this,"state",{loadError:!1,showVideoCover:this.props.showVideoCoverInitially}),m(this,"handleLoadError",(e=>{S=void 0,this.setState({showVideoCover:!0,loadError:!0}),this.props.onLoadError(e)})),m(this,"handleClick",(()=>{this.state.loadError&&this.setState({showVideoCover:!1,loadError:!1}),this.props.handleVideoClick(),this.initializePlayer()})),m(this,"getPlayerConfig",(e=>{var t,s;const a=e||this.props.playerConfig,n=((null===(t=window)||void 0===t||null===(s=t.AppBootstrapData)||void 0===s?void 0:s.buckets)||[]).join(",");return{...a,iframeRender:!a.html5,lang:this.context.intl.locale||"en-US",site:a.site,expBucket:n,pblob:"lu:1"}})),m(this,"initializePlayer",(e=>{const t=this.getPlayerConfig(e);if(this.playerStatus!==l.cSU.NotInitialized)return;this.playerStatus=l.cSU.Initializing;const s=e=>{if(!e)return this.playerStatus=l.cSU.NotInitialized,void this.handleLoadError(new Error("Failed to load video platform"));this.playerStatus=l.cSU.Initialized,this.setState({showVideoCover:!1});const s=e.Events||e.API_Events;this._player=new e.VideoPlayer(t),this._addPlayerSubscriptions(this._player,s),this._player.render(this.refs.player),this.props.setPlayerHandle(this._player)},a=this.props.oathVideoPlayerEnabled?"OATH.VideoPlatform":"YAHOO.VideoPlatform",n="undefined"!=typeof window&&(0,u.u9)(window,a),{videoPlayerUrl:r}=this.props;if(n)s(n);else{if(!S){let e=r;t.lang&&(e+=(-1===e.indexOf("?")?"?":"&")+`lang=${t.lang}`),S=c.Z.loadScript(e)}S.then((()=>{s((0,u.u9)(window,a))}),(e=>{this.handleLoadError(e)}))}})),m(this,"_addPlayerEventListener",((e,t,s)=>{const a=e.addEventListener||e.on;t&&"function"==typeof a&&a.call(e,t,s)})),m(this,"_addPlayerSubscriptions",((e,t)=>{e&&t&&(this._addPlayerEventListener(e,t.PLAYER_READY,this.props.onPlayerReady),this._addPlayerEventListener(e,t.PLAYBACK_START,this.props.onPlaybackStart),this._addPlayerEventListener(e,t.VIDEO_STARTED,this.props.onVideoStarted),this._addPlayerEventListener(e,t.PLAYLIST_POSITION_CHANGE,this.props.onPlaylistPositionChange),this._addPlayerEventListener(e,t.PLAYER_MUTE_CHANGE,this.props.onMute),this._addPlayerEventListener(e,t.PLAYBACK_PAUSE,this.props.onPause),this._addPlayerEventListener(e,t.PLAYBACK_RESUMED,this.props.onResume),this._addPlayerEventListener(e,t.UI_INTERACT,this.props.onUIInteract),this._addPlayerEventListener(e,t.PLAYLIST_COMPLETE,this.props.onPlaybackComplete),this._addPlayerEventListener(e,t.PLAYBACK_TIME_UPDATE,this.props.onPlaybackUpdate),this._addPlayerEventListener(e,t.PLAYER_ERROR,this.props.onPlayerError),this._addPlayerEventListener(e,t.PLAYBACK_ERROR,this.props.onPlaybackError),this._addPlayerEventListener(e,t.AD_PLAYBACK_START||t.AD_BREAK_STARTED,this.props.onAdPlaybackStart),this._addPlayerEventListener(e,t.AD_PLAYBACK_STOP||t.AD_BREAK_ENDED,this.props.onAdPlaybackEnd),this._addPlayerEventListener(e,t.AD_ERROR||t.AD_BREAK_ITEM_ERROR,this.props.onAdError))}))}componentDidMount(){this.playerStatus=l.cSU.NotInitialized,this.state.showVideoCover||this.initializePlayer()}componentWillUnmount(){this._player&&(this._player.destroy(),this.props.setPlayerHandle(null))}componentDidUpdate(e){this.props.playerPositionId&&this.props.playerPositionId!==e.playerPositionId&&(this.playerStatus===l.cSU.Initialized?this._player.playlist.setPositionById(this.props.playerPositionId):this.initializePlayer(this.props.playerConfig)),!e.play&&this.props.play?this.playerStatus===l.cSU.Initialized?(this._player.controls.play(),this._player.controls.setMute(e.mute)):this.initializePlayer():this._player&&this._player.controls.isPlaying()&&!this.props.play&&(this._player.controls.pause(),this._player.controls.setMute(!0))}render(){const e=r()(_()),{width:t,height:s}=this.props;return a.createElement("div",{className:e.container,style:{width:t,height:s}},this.state.showVideoCover&&this.props.children?a.cloneElement(this.props.children,{loadError:this.state.loadError,handleClick:this.handleClick}):null,a.createElement("div",{ref:"player",className:e.stretchedBox}))}}m(C,"contextTypes",{intl:o.intlShape.isRequired}),m(C,"defaultProps",{width:"480px",height:"270px",playerConfig:{},onPlayerReady:p,onPlaybackStart:p,onAdPlaybackStart:p,onVideoStarted:p,onPlaylistPositionChange:p,onMute:p,onPause:p,onResume:p,onUIInteract:p,onPlaybackComplete:p,onPlaybackUpdate:p,onPlayerError:p,onLoadError:p,onAdPlaybackEnd:p,onPlaybackError:p,onAdError:p,play:!1,mute:!0,showVideoCoverInitially:!0,playerPositionId:"",handleVideoClick:p,setPlayerHandle:p});const A=(0,i.connect)((e=>{const{getSetting:t,isFeatureEnabled:s}=(0,d.selectors)(e),a=s(l.ANe.OATH_VIDEO_PLAYER);return{videoPlayerUrl:t(a?l.Zrf.OATH_VIDEO_PLAYER_URL:l.Zrf.VIDEO_PLAYER_URL),oathVideoPlayerEnabled:a}}))(C)},66891:(e,t,s)=>{"use strict";s.d(t,{Z:()=>T});s(45697);var a=s(67294),n=s(18446),r=s.n(n),o=s(76223),i=s.n(o),l=s(43537),c=s.n(l),d=s(61395),E=s.n(d);function _(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const u=()=>{},m=i()(c()),S="UP",p="DOWN";let C=800;class A extends a.Component{constructor(e,t){super(e,t),_(this,"computeItemHeightsAndOffsets",(e=>{const{items:t,getItemHeight:s}=e;this.itemHeights=[],this.itemOffsets=[],this.totalItemsHeight=0;for(let a=0;a<t.length;a++)this.itemHeights[a]=s(t[a],a),this.itemOffsets[a]=this.totalItemsHeight,this.totalItemsHeight+=this.itemHeights[a]})),_(this,"computeClassNames",(e=>{const{scrollerClassName:t,listClassName:s}=e;this.scrollerClassName=E()(m.scroller,t),this.listClassName=E()(m.list,s)})),_(this,"scrollPercent",(()=>{const{scrollTop:e}=this.state,t=this.totalItemsHeight;return e<0||t<=0?0:Math.floor(e/t*100)})),_(this,"scrollToItemStart",(()=>{const{items:e,itemStart:t,getItemHeight:s}=this.props;if(!t)return;const a=e.findIndex((e=>e.id===t.id)),n=e.slice(0,a).reduce(((e,t,a)=>e+s(t,a)),0);this.scroller.scrollTop=n})),_(this,"scrollStateRAFHandler",(()=>{this.raf=null,this.updateScrollState()})),_(this,"scrollLoadMoreRAFHandler",(()=>{const{loadMoreItems:e}=this.props;this.loading=e()})),_(this,"handleScroll",(()=>{const{onScrollTop:e,onScrollBottom:t}=this.props,{scrollTop:s,scrollHeight:a}=this.scroller;s<0||(this.isScrolling=!0,this.raf&&window.cancelAnimationFrame(this.raf),this.raf=window.requestAnimationFrame(this.scrollStateRAFHandler),0===s&&e(),s+this.state.clientHeight>=a&&t(),!this.loading&&s+this.state.clientHeight>.8*a&&window.requestAnimationFrame(this.scrollLoadMoreRAFHandler))})),_(this,"updateScrollState",(()=>{const{scrollTop:e}=this.scroller;this.updateScrollDirection(e),this.setState({scrollTop:e},(()=>this.scrollNotify()))})),_(this,"updateScrollDirection",(e=>{const t=this.totalItemsHeight-this.state.clientHeight;0===e?this.scrollDirection=p:e>=t&&!this.loading?this.scrollDirection=S:this.scrollDirection=e>this.state.scrollTop?p:S})),_(this,"scrollNotify",(()=>{const{items:e,onScroll:t}=this.props,{itemStartIndex:s,itemEndIndex:a}=this.getViewportItemIndexRange();t({scrollTop:this.state.scrollTop,itemStart:e[s],itemEnd:e[a],itemStartIndex:s,itemEndIndex:a,getScrollPercent:this.scrollPercent}),this.isScrolling=!1})),_(this,"loadMoreOnScrollBottom",(()=>{if(!this.loading&&this.props.loadMoreItems){this.scroller.scrollHeight>this.state.clientHeight||(this.loading=this.props.loadMoreItems())}})),_(this,"isListScrolling",(()=>this.isScrolling)),_(this,"setTopPlaceHolderHolder",(e=>{this.topHolder=e})),_(this,"setBottomPlaceHolderHolder",(e=>{this.bottomHolder=e})),_(this,"getViewportItemIndexRange",(()=>{const{scrollTop:e,clientHeight:t}=this.state;let s=-1,a=-1;s=function(e,t){let s=-1,a=0,n=e.length-1;for(;a<=n;){s=a+Math.round((n-a)/2);const r=t(e[s],s);if(r<0)n=s-1;else{if(!(r>0))return s;a=s+1}}return-1}(this.itemOffsets,((t,s)=>e<t?-1:e<t+this.itemHeights[s]?0:1)),s=Math.max(s,0);const n=e+t,r=this.itemOffsets.length-1;for(a=s;a<r&&this.itemOffsets[a]+this.itemHeights[a]<n;)a+=1;return{itemStartIndex:s,itemEndIndex:a}})),_(this,"getRenderedItemIndexRange",((e,t)=>{if(this.isFirstMounted)return{itemStartIndexWithBuffer:e,itemEndIndexWithBuffer:t};const{items:s,bufferSize:a,oppositeBufferSize:n}=this.props,r=this.scrollDirection===S?a-n:n,o=this.scrollDirection===p?a-n:n;return{itemStartIndexWithBuffer:Math.max(e-r,0),itemEndIndexWithBuffer:Math.min(t+o,s.length-1)}})),_(this,"getPlaceholderHeights",((e,t)=>{const{items:s}=this.props,a=t+1;return{placeholderTopHeight:this.itemOffsets[e],placeholderBottomHeight:a<s.length?this.totalItemsHeight-this.itemOffsets[a]:0}})),_(this,"computeRenderParameters",(()=>{const{itemStartIndex:e,itemEndIndex:t}=this.getViewportItemIndexRange(),{itemStartIndexWithBuffer:s,itemEndIndexWithBuffer:a}=this.getRenderedItemIndexRange(e,t),{placeholderTopHeight:n,placeholderBottomHeight:r}=this.getPlaceholderHeights(s,a);this.itemStartIndex=e,this.itemEndIndex=t,this.itemStartIndexWithBuffer=s,this.itemEndIndexWithBuffer=a,this.placeholderTopHeight=n,this.placeholderBottomHeight=r,this.renderedOffsetTop=this.itemOffsets[this.itemStartIndex],this.renderedOffsetBottom=this.itemOffsets[this.itemEndIndex]})),this.itemStartIndex=0,this.itemEndIndex=e.items.length,this.itemStartIndexWithBuffer=0,this.itemEndIndexWithBuffer=e.items.length,this.renderedOffsetTop=0,this.renderedOffsetBottom=0,this.placeholderTopHeight=0,this.placeholderBottomHeight=0,this.scrollDirection=p,this.totalItemsHeight=0,this.itemHeights=[],this.itemOffsets=[],this.cachedReactElements={},this.computeItemHeightsAndOffsets(e),this.computeClassNames(e),this.isScrolling=!1,this.areItemsEqual=!0,this.isFirstMounted=!0,C=e.clientHeight?e.clientHeight:C,this.state={scrollTop:e.scrollTop||0,clientHeight:C},this.scrollerRef=a.createRef()}UNSAFE_componentWillReceiveProps(e){this.areItemsEqual=r()(this.props.items,e.items),this.loading=this.loading&&this.areItemsEqual,this.areItemsEqual||(this.computeItemHeightsAndOffsets(e),this.computeClassNames(e),this.cachedReactElements={}),void 0!==e.scrollTop&&e.scrollTop!==this.scroller.scrollTop&&this.setState({scrollTop:e.scrollTop},(()=>{this.scroller.scrollTop=e.scrollTop})),e.recalculateClientHeight&&(C=this.scroller.clientHeight,this.state.clientHeight!==C&&this.setState({clientHeight:C}))}shouldComponentUpdate(e,t){let s=!1;return t.scrollTop<this.renderedOffsetTop||t.scrollTop+t.clientHeight>this.renderedOffsetBottom||this.state.clientHeight!==t.clientHeight?s=!0:this.areItemsEqual||(s=!0),s}componentDidMount(){this.scroller=this.scrollerRef.current,this.scroller.clientHeight!==C?(C=this.scroller.clientHeight,this.setState({clientHeight:C},(()=>this.loadMoreOnScrollBottom()))):(this.loadMoreOnScrollBottom(),this.raf&&window.cancelAnimationFrame(this.raf),this.raf=window.requestAnimationFrame((()=>{this.forceUpdate(),this.raf=null}))),void 0!==this.props.scrollTop?this.scroller.scrollTop=this.props.scrollTop:this.scrollToItemStart(),this.isFirstMounted=!1,this.props.onRenderCompleted({itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex,itemStartIndexWithBuffer:this.itemStartIndexWithBuffer,itemEndIndexWithBuffer:this.itemEndIndexWithBuffer,itemOffsets:this.itemOffsets})}componentDidUpdate(){if(!this.areItemsEqual){const{clientHeight:e,scrollHeight:t}=this.scroller;C=e,C!==this.state.clientHeight&&this.setState({clientHeight:C}),this.loading||t-this.state.scrollTop!==C||window.requestAnimationFrame(this.scrollLoadMoreRAFHandler)}this.areItemsEqual=!0,this.props.onRenderCompleted({itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex,itemStartIndexWithBuffer:this.itemStartIndexWithBuffer,itemEndIndexWithBuffer:this.itemEndIndexWithBuffer,itemOffsets:this.itemOffsets})}componentWillUnmount(){this.raf&&window.cancelAnimationFrame(this.raf)}render(){const{items:e,styles:t,itemStyle:s,formatPlaceHolder:n,numOfPlaceHolder:r}=this.props,o=[];if(this.computeRenderParameters(),n&&r){let e=0;for(let t=Math.max(1,this.itemStartIndexWithBuffer-r);t<this.itemStartIndexWithBuffer;t++,e++){const r=Object.assign({},{top:this.itemOffsets[t]+"px"},s);o.push(a.createElement("li",{role:"list-item",key:"top"+e,className:m.item,style:r},n()))}}for(let i=this.itemStartIndexWithBuffer;i<=this.itemEndIndexWithBuffer;i++){const t=e[i],n=Object.assign({},{top:this.itemOffsets[i]+"px"},s);this.props.enableReactElementCache?(this.cachedReactElements[t.id]||(this.cachedReactElements[t.id]=a.createElement("li",{role:"list-item",key:t.id,className:m.item,style:n},this.props.formatItem(t,{isScrolling:this.isListScrolling,itemIndex:i,itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex},this.scrollerRef))),o.push(this.cachedReactElements[t.id])):o.push(a.createElement("li",{role:"list-item",key:t.id,className:m.item,style:n},this.props.formatItem(t,{isScrolling:this.isListScrolling,itemIndex:i,itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex},this.scrollerRef)))}if(n&&r){let t=0;for(let i=this.itemEndIndexWithBuffer+1;i<Math.min(e.length,this.itemEndIndexWithBuffer+r+1);i++,t++){const e=Object.assign({},{top:this.itemOffsets[i]+"px"},s);o.push(a.createElement("li",{role:"list-item",key:"bottom"+t,className:m.item,style:e},n()))}}return a.createElement("div",{ref:this.scrollerRef,className:this.scrollerClassName,style:t,onScroll:this.handleScroll,"data-test-id":"virtual-list"},a.createElement("ul",{role:"list","aria-label":"Message list",key:"itemsContainer",className:this.listClassName,style:{height:this.totalItemsHeight+"px"}},o))}}_(A,"defaultProps",{items:[],bufferSize:0,loadMoreItems:u,onScroll:u,onScrollTop:u,onScrollBottom:u,onRenderCompleted:u,styles:{},scrollTop:void 0,scrollerClassName:"",listClassName:"",numOfPlaceHolder:0,recalculateClientHeight:!1,oppositeBufferSize:0,enableReactElementCache:!1,itemStyle:{}});const T=A},96760:e=>{"use strict";e.exports={className:{default:{step:"r_P e_e5X t_C D_X W_6Fd5 H_6Fd5 A_6DUj i_6Fd5 M_3gIMd C4_52qC q4_Z29fFBt"},active:{step:"C_52qC q_Z29fFBt"}},_key:"2sfkOs"}},50184:e=>{"use strict";e.exports={className:{default:{wizardContainer:"D_F em_N ek_BB",stepsContainer:"D_F C_Z1TsNbA U_6UbO",steps:"M_0 P_0 D_F Q_eo6",viewActions:"D_F ab_C gl_CI H_6TFj M_1NXh2I",btnPrimary:"r_P q_T D_X H_6TFj",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_Z2aVTcY H_6TFj i_6TFj P_1EudUu Q_fq7 C4_Z29WjXl I4_2iedUU"}},_key:"Z2912M9"}},33861:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=s(50184),l=s.n(i),c=s(96760),d=s.n(c);const E=function({step:e,active:t,onClick:s}){const n=o()(d(),{active:t});return a.createElement("li",{className:n.step,onClick:s},e)};var _=s(67498),u=s(28182),m=s(78137),S=s(10728);function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const C={height:7.5*S.mg$+"px",padding:`0 ${5*S.mg$}px`},A=o()(l());class T extends a.Component{constructor(...e){super(...e),p(this,"state",{currentStep:this.props.startStep}),p(this,"getMaxStep",(()=>a.Children.count(this.props.children))),p(this,"handleSetStep",(e=>{const t=this.getMaxStep();e>-1&&e<t&&this.setState({currentStep:e})})),p(this,"_isCurrentStepValid",(()=>{const{step:e}=this.refs;return!e||"function"!=typeof e.isStepValid||e.isStepValid()})),p(this,"_beginNavigateToIndex",(e=>{const{currentStep:t}=this.state;(e<t||this._isCurrentStepValid())&&this.handleSetStep(e)})),p(this,"handleGotoNext",(()=>{this._beginNavigateToIndex(this.state.currentStep+1)})),p(this,"handleGoToPrevious",(()=>{this._beginNavigateToIndex(this.state.currentStep-1)})),p(this,"handleGoToFirstStep",(()=>{this._beginNavigateToIndex(this.props.startStep)})),p(this,"renderStep",(e=>{const{showNavigation:t,onCancel:s}=this.props,n=!!(e.type&&e.type.prototype&&e.type.prototype.render);return t?a.cloneElement(e,n?{ref:"step"}:{}):a.cloneElement(e,{...n?{ref:"step"}:{},onPrevious:this.handleGoToPrevious,onNext:this.handleGotoNext,onCancel:s,onGoToFirstStep:this.handleGoToFirstStep})})),p(this,"renderNavButtons",(()=>{const{onCancel:e}=this.props,t=this.getMaxStep(),{currentStep:s}=this.state;return s!==t-1?a.createElement("div",{className:A.viewActions},a.createElement("span",{className:A.btnPrimary},a.createElement(_.Z,{style:C,"data-test-id":"next",kind:u.F.SECONDARY,onClick:this.handleGotoNext},a.createElement(n.FormattedMessage,{id:"wizard_next_btn_text",defaultMessage:"Next"}))),a.createElement("span",null,a.createElement(_.Z,{className:A.btnLink,"data-test-id":"cancel",kind:u.F.ICON,onClick:e},a.createElement(n.FormattedMessage,{id:"wizard_cancel_btn_text",defaultMessage:"Cancel"})))):null}))}render(){const e=this.getMaxStep(),{currentStep:t}=this.state,{children:s,showNavigation:r,showSteps:o}=this.props;return a.createElement("div",{className:A.wizardContainer},o?a.createElement("div",{className:A.stepsContainer},a.createElement(n.FormattedMessage,{id:"step_label_text",defaultMessage:"Step"}),a.createElement("ol",{className:A.steps},(0,m.w6)(e).map((e=>a.createElement(E,{key:e,step:e+1,active:e===t,onClick:this._beginNavigateToIndex.bind(this,e)}))))):null,a.createElement("article",null,this.renderStep(s[t])),r?this.renderNavButtons():null)}}p(T,"defaultProps",{startStep:0,onCancel:function(){},showSteps:!1,showNavigation:!1});const h=T},19341:(e,t,s)=>{"use strict";s.d(t,{tQ:()=>T,yF:()=>h,u8:()=>g,ZP:()=>R});var a=s(45697),n=s.n(a),r=s(76223),o=s.n(r),i=s(67294),l=s(10728),c=(s(95406),s(37422)),d=s(40561),E=s(92743),_=s(85927),u=s(43007),m=s(76531),S=s(79565),p=s.n(S);function C(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const A=50,T="https://s.yimg.com/dh/ap/social/profile/profile_a64.png",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAACGElEQVRYw83WWXPaMBSG4fz/XyUdSba8yLKN3WwlNyFt4ialKc3SFKwCLZhYR8QeJzO81995xgzLcEQGdkRGnwY0WgLlyYDKgwCK4wEV7wEMfhc+ECh0kqTFm0BeOoqJryJBuB/qwrXJ9wAZnZplL98vTwREhRvICjQljs22b5Ljs8wFjIR/+tQApj6HrBcgdW1ed86dwMguJY+tezOHBBm6gCA3VkXgANLcjlc28EUgwxQHNJnbwCPJOgPKN0hU44DOrOIQA0DZS+0AAhRIcCBJrSKJP4G9THAg9jAAWzoAgb2EmkkcULqdIi/YE9wTjUwxIGLYvflDko6AIjUGPDieIE6s6E8MqLi9jHFAXGBA4eFApKwCuHq2XsAlRZYRDigfTttAxgLVHVAhtL6PT/huBYQxFr96DXzm6Cx0Ar5s/aAFbiBCo3e7wIThqz2AUDv3C+G7gSBEC+BrA4xZ6Fg5AekB/bG5vybgyT6A5EDV+ObXBpjdjBUFLnFABq0Eo+Xtov1BWtyWlIn2VlqAFOBN5ujX2cwnHgi5F5CchlVtnNVVSLlsAb7c5DOip+aNpnr5l6M52QUETWemQ7N8+RQ7gOf/i0FlOnbH2f8jrwE4fzCd+x2wNuCRe9OjZxBbQHirmDa9Ktn6TDTAWT/grAG4WAV9AVif8YMAGF8FQvVKwPqMbQEGPWMNMKiDAGBQ7wHQQR0EMLC/CsyEDBnhc8AAAAAASUVORK5CYII=",g={C:{imageSize:l.ACI,requestSize:A},S:{imageSize:l.gOp,requestSize:A},M:{imageSize:l.ODI,requestSize:80},MEDIUM_PLUS:{imageSize:l.fej,requestSize:80},L:{imageSize:l.n4M,requestSize:180},UNIFY_DESIGN_S:{imageSize:l.bFX,requestSize:A},UNIFY_DESIGN_M:{imageSize:l.ODI,requestSize:80},UNIFY_DESIGN_L:{imageSize:l.TSB,requestSize:80},UNIFY_DESIGN_SECOND_AD_L:{imageSize:l.qcv,requestSize:80},NOBLE_S:{imageSize:l.bFX,requestSize:A},NOBLE_L:{imageSize:l.fej,requestSize:A},NOBLE_XL:{imageSize:l.qxO,requestSize:A}};class I extends i.Component{constructor(e){super(e),C(this,"state",{badgeLoaded:!1,imageLoaded:!1,srcUrl:""}),C(this,"psuedoImage",null),C(this,"mounted",!1),C(this,"loadXHRImage",(()=>{const{contact:e}=this.props,t=new XMLHttpRequest,s=(0,d.h)(e,1,this.context.appId);t.open("GET",s,!0),t.withCredentials=!0,t.onloadend=()=>{if(t.status>=400)return;const e="linkedin"===t.getResponseHeader("x-image-source");this.setLinkedInBadgeStatus(e)},t.send()})),C(this,"loadPseudoImage",(()=>{this.psuedoImage||(this.psuedoImage=new Image,this.psuedoImage.onerror=this.onError,this.psuedoImage.onload=this.onLoad),this.psuedoImage.src=this.state.srcUrl})),C(this,"createImageLoader",(()=>{const{showLinkedInBadge:e}=this.props;this.loadPseudoImage(),e&&this.loadXHRImage()})),C(this,"setLinkedInBadgeStatus",((e=!1)=>{this.mounted&&this.state.badgeLoaded!==e&&this.setState({badgeLoaded:e})})),C(this,"onLoad",(()=>{this.mounted&&!this.state.imageLoaded&&this.setState({imageLoaded:!0})})),C(this,"onError",(()=>{this.mounted&&this.state.imageLoaded&&this.setState({imageLoaded:!1})})),this.imageRef=i.createRef()}static getDerivedStateFromProps(e,t){return e.useFallbackImage||e.srcUrl===t.srcUrl?null:{imageLoaded:!1,srcUrl:e.srcUrl}}componentDidUpdate(e){this.props.useFallbackImage||this.props.srcUrl===e.srcUrl||this.createImageLoader()}componentDidMount(){this.mounted=!0,this.props.useFallbackImage||this.createImageLoader()}componentWillUnmount(){this.mounted=!1}render(){const{imageLoaded:e,badgeLoaded:t,srcUrl:s}=this.state,{size:{imageSize:a},useFallbackImage:n,showLinkedInBadge:r,isDarkMode:c,customFallbackImageData:d}=this.props,E=r&&e&&t,_=o()(p(),{darkMode:c,iconSizeBig:a>l.fej}),S=i.createElement("img",{className:_.avatarImg,ref:this.imageRef,width:a,height:a,src:e&&!n?s:d});if(!E)return S;const C=a>l.fej?m.Sizes.XS:m.Sizes.XXXS;return i.createElement("div",{className:_.container},S,i.createElement("span",{className:_.icon},i.createElement(u.Z,{size:C,kind:m.Kinds.LINKEDIN,colorState:c?m.ColorStates.WHITE:m.ColorStates.LINKEDIN_ENABLED})))}}C(I,"contextTypes",{appId:n().string}),C(I,"defaultProps",{size:g.M,useFallbackImage:!1,customFallbackImageData:h,contact:{},fallbackUrl:T,srcUrl:"",isDarkMode:!1,showLinkedInBadge:!1});const R=(0,E.connect)(((e,{contact:t={},size:s=g.M,fallbackUrl:a=T,useFallbackImage:n})=>{if(n)return{};let r;const{getContactListSelectors:o,getMailboxesSelectors:i,getEnvironmentSelectors:E}=(0,_.selectors)(e),u=o(),{getSocialAccountsStatus:m}=i(),S=((m()||{})[c.kGi.LinkedIn]||{}).status,p=(S===c.UcZ.CONNECTED||S===c.UcZ.EXPIRED)&&s.imageSize>=l.ODI;t.id?r=u.getContactById(t.id):t.email&&(r=u.getContactByEmail(t.email)),r=r||{},r.id&&(t.id=t.id||r.id),r.photoTimestamp&&(t.photoTimestamp=r.photoTimestamp);const C=E().getAppId()||null;return{showLinkedInBadge:p,srcUrl:(0,d.z)(t,s.requestSize,a,C)}}))(I)},72484:(e,t,s)=>{"use strict";s.d(t,{ix:()=>u,ZP:()=>S});var a=s(67294),n=(s(45697),s(99095)),r=s(91696),o=s.n(r),i=s(43007),l=s(76531),c=s(7426),d=s(83034),E=s(94070);s(95406);const _=(0,n.defineMessages)({yPlusLabel:{id:"yPlusBadge_aria_label",defaultMessage:"Upgrade to {yahooMailPlusBrandName} for access to premium features"}}),u={PLAIN_TEXT:{kind:l.Kinds.YAHOO_PLUS_BADGE,colorState:l.ColorStates.YBANG,size:l.Sizes.S},PURPLE_ROUNDED:{kind:l.Kinds.YAHOO_PLUS_BADGE_ALT,colorState:l.ColorStates.YBANG,size:l.Sizes.XS},GRADIENT_ROUNDED:{kind:l.Kinds.YAHOO_PLUS_BADGE_ALT,colorState:l.ColorStates.PURPLE_GRADIENT,size:l.Sizes.XS}},m=e=>{const t=(0,d.Z)(o()),{formatMessage:s}=(0,c.Y)(),{yahooMailPlusBrandName:n}=(0,E.B)(),r=e.yPlusBadgeKinds;return a.createElement("span",{className:t.yahooPlusBadge,role:"img",title:s(_.yPlusLabel,{yahooMailPlusBrandName:n})},a.createElement(i.Z,{kind:r.kind,colorState:r.colorState,size:r.size,"aria-hidden":"true"}))};m.defaultProps={yPlusBadgeKinds:u.GRADIENT_ROUNDED};const S=m},6732:(e,t,s)=>{if(!window.ymailAssetHost)throw new Error("window.ymailAssetHost must be set before running this application.");s.p=window.ymailAssetHost},45953:(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});var a=s(96943),n=s(55636),r=s(95406),o=s(50566),i=s(37422),l=s(85927),c=s(30155);let d,E=0;const _="generic_error",u=(0,r.gP)(["INTERNAL","EXTERNAL"]),m=(0,r.gP)(["ERROR_IS_NULL","PLUGIN","ACCESS_DENIED","REMOTE_SERVER","MAIL_APP_CORS","MAIL_APP_VENDOR_CORS","MAIL_APP_LAZY_GROUP1_CORS","PERMISSION_DENIED","REDUX_DISPATCH","RENDER_APP","RESIZE_OBSERVER","RUM","YAFT_CORS","DARLA","IDB","OATH_PLAYER","RE_CAPTCHA","DEAD_OBJECT"]),S={};function p(e){return-1===e.indexOf("yahoo.com")&&-1===e.indexOf("aol.com")&&-1===e.indexOf("oath.com")&&-1===e.indexOf("Oath")&&-1===e.indexOf("yimg.com")&&-1===e.indexOf("CMP 2")&&-1===e.indexOf("window.ymailManifest")&&-1===e.indexOf("_mod_ybar")&&-1===e.indexOf("window.DARLA_CONFIG")&&-1===e.indexOf("root.AppBootstrapData")&&-1===e.indexOf("window.babelHelpers")&&0!==e.indexOf("{}")}function C(e,t,s,a,o="",i=null){const l=i?i.message:"",c=i?i.name:"",d=(0,n.N2)(e);return 0===d.indexOf("Access is denied")?m.ACCESS_DENIED:0===l.indexOf("The remote server machine does not exist")?m.REMOTE_SERVER:"Permission denied"===l?m.PERMISSION_DENIED:"REDUX_DISPATCH"===c?m.REDUX_DISPATCH:"ReferenceError"===c&&"grecaptcha is not defined"===l?m.RE_CAPTCHA:"TypeError"===c&&"can't access dead object"===l?m.DEAD_OBJECT:0===d.indexOf("Rendering App error")?m.RENDER_APP:0===d.indexOf("ResizeObserver")?m.RESIZE_OBSERVER:0===d.indexOf("RUM error")?m.RUM:0===d.indexOf("Script error.")&&-1!==t.indexOf("yep.video.yahoo.com/oath/js/")&&-1!==t.indexOf("oath-player.js")?m.OATH_PLAYER:(0===d.indexOf("InvalidStateError")||0===d.indexOf("UnknownError")&&(()=>{const e=(0,r.u9)(window,"AppBootstrapData.browserName","").toLowerCase(),t=parseInt((0,r.u9)(window,"AppBootstrapData.browserVersion",100),10);return"firefox"===e&&t<56})())&&-1!==t.indexOf("s.yimg.com/nq/nr/js/mail_app_vendor")?m.IDB:-1!==t.indexOf("s.yimg.com/rq/darla")||-1!==o.indexOf("s.yimg.com/rq/darla")?m.DARLA:-1!==t.indexOf(".kaspersky-labs.com")||-1!==d.indexOf("KasperskyLab is not defined")||-1!==o.indexOf("hostingcloud.science")||-1!==o.indexOf("zennolab://chromium")||-1!==d.indexOf('Cannot set property "install" of undefined')||-1!==d.indexOf("chrome is not defined")||"null is not an object (evaluating 'x.length')"===l&&184===a||"$ is not defined"===l||"Cannot redefine property: googletag"===l||"s2s is not defined"===l?m.PLUGIN:i?c||"":m.ERROR_IS_NULL}function A(e="",t="",s="",r="",A){const{logData:T,stackString:h}=function(e){const t=(0,n.N2)(e.message),{filename:s,lineno:a,colno:r,error:o}=e,i=`${t} ${s}:${a}:${r}`,l=o?(0,n.N2)(o.message):"",_=o?`${o.name}:${l}`:"",u=new c.H(o).toString(),m=o&&o.data||{},S={startTime:Date.now(),error:i,errorMessage:_,stack:u,message:t,data:m};return d!==i&&(E=0),E++,d=i,E%1e3==0&&(S.jseOverLimit=E),E<=1e3?{logData:S,stackString:u}:{logData:null,stackString:null}}({message:e,filename:t,lineno:s,colno:r,error:A});if(T&&(T.type=C(e,t,0,r,h,A),T.source=function(e,t="",s=""){return t===m.PLUGIN||t===m.DARLA||t===m.RESIZE_OBSERVER||t===m.IDB||t===m.OATH_PLAYER||t===m.RE_CAPTCHA||t===m.DEAD_OBJECT||-1!==e.indexOf("fc.yahoo.com")||-1===e.indexOf(".yahoo.com")&&-1===e.indexOf(".aol.com")&&-1===e.indexOf(".yimg.com")||-1!==s.indexOf("consent.cmp.oath.com")?u.EXTERNAL:u.INTERNAL}(t,T.type,h),T.isFirstJSE=!S[T.type],T.externalScripts=function(){try{let e=null;const t=[],s=document.getElementsByTagName("script");for(let a=0;a<s.length;a++)e=s[a],e.src&&p(e.src)?t.push(e.src):e.innerHTML&&p(e.innerHTML)&&t.push(e.innerHTML.substring(0,200));return t.join("|")}catch(e){return"error"}}(),S[T.type]=!0,a.Z.error(_,T),T.source===u.INTERNAL&&T.type!==m.REDUX_DISPATCH&&T.type!==m.RUM)){!function(e){try{const t=window.context.getActionContext(),{getFeaturesSelectors:s}=(0,l.selectors)(window.context.store.getState());s().isEnabled(i.ANe.EXCEPTION_NOTIFICATION)&&t.dispatch(o.EXCEPTION_OCCURRED,{splunkUrl:e})}catch(t){}}(function(e){const t=[];for(const s in e)t.push(`${s}="'${e[s]}'"`);return i.I$x+"?q=search"+encodeURIComponent(" index=idx_norrin sourcetype=yapache_error "+t.join(" "))}({platform:"browser",message:_,data_errorMessage:T.errorMessage}))}}},7426:(e,t,s)=>{"use strict";s.d(t,{Y:()=>r});var a=s(67294),n=s(85974);const r=()=>{const e=(0,a.useContext)(n.Z);if(null===e)throw new Error("useIntl hook should be nested inside IntlContext.Provider");return e}},85974:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(67294).createContext)(null)},34656:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var a=s(67294),n=s(99095),r=s(85974);const o=e=>(0,n.injectIntl)((({intl:t,...s})=>a.createElement(r.Z.Provider,{value:t},a.createElement(e,s))))},94070:(e,t,s)=>{"use strict";s.d(t,{B:()=>r});var a=s(67294),n=s(97860);const r=()=>(0,a.useContext)(n.Z)},39477:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var a=s(42441),n=s.n(a),r=s(67294);function o(e,t,s){(0,r.useEffect)((()=>((s?n()(s):n()).bind(e,t),()=>{n().unbind(e)})),[e,t,s])}},52395:(e,t,s)=>{"use strict";s.d(t,{I:()=>r});var a=s(94070),n=s(67294);const r=()=>{const{store:e}=(0,a.B)();return(0,n.useCallback)(((...t)=>e.dispatch(...t)),[e])}},83034:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(76223),n=s.n(a),r=s(67294),o=s(29911);const i=(e,t)=>{const s=(0,r.useContext)(o.Z);return n()(e,{...s,themeCombo:`${s.themeMode}_${s.theme}`,...t})}},29911:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(67294),n=s(37422);const r=(0,a.createContext)({theme:n.b39.DEFAULT,themeMode:n.zgU.LIGHT})},28509:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(67294);const n=(e=!1)=>{const[t,s]=(0,a.useState)(e);return[t,(0,a.useCallback)((()=>{s((e=>!e))}),[])]}},44499:(e,t,s)=>{"use strict";s.r(t),s.d(t,{allProviderAccounts:()=>_,AuthWindow:()=>u,default:()=>m});var a=s(67294),n=s(45697),r=s.n(n),o=s(92743),i=s(99095),l=s(37422),c=s(85927),d=s(66588);function E(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _=[...Object.keys(l.Nq8),...l.AJg,...Object.keys(l.P$E)];class u extends a.Component{constructor(e){super(e),E(this,"handleOAuthResponse",(({status:e})=>{window[l.UZQ]=void 0,e=parseInt(e,10);const{onConnectSuccess:t,provider:s,onConnectFail:a}=this.props,n={provider:s,status:e};200===e?t(n):a(n)})),E(this,"getWindowHeight",(()=>this.props.provider!==l.zoT.GOOGLE?700:800)),E(this,"openOAuthWindow",(()=>{const e=this.getWindowHeight(),t=screen.width/2-250,s=screen.height/2-e/2;window[l.UZQ]=this.handleOAuthResponse,window.oAuthWindow&&!window.oAuthWindow.closed?(this.oAuthWindow=window.oAuthWindow,delete window.oAuthWindow,this.oAuthWindow.location.replace(this.props.url)):this.oAuthWindow=window.open(this.props.url,"authorizeWindow",`width=500, height=${e}, top=${s}, left=${t}`),this.oAuthWindow&&this.oAuthWindow.focus&&this.oAuthWindow.focus()})),this.oAuthWindow=null}componentDidMount(){this.props.provider&&this.openOAuthWindow()}componentWillUnmount(){window[l.UZQ]=void 0,this.oAuthWindow&&this.oAuthWindow.close&&(this.oAuthWindow.close(),this.oAuthWindow=null)}componentDidUpdate(e){this.props.provider&&(this.oAuthWindow&&!this.oAuthWindow.closed?e.url!==this.props.url&&(this.oAuthWindow.location.replace(this.props.url),this.oAuthWindow.focus&&this.oAuthWindow.focus()):(window[l.UZQ]=void 0,this.openOAuthWindow()))}render(){return null}}E(u,"contextTypes",{intl:i.intlShape.isRequired,config:r().object});const m=(0,o.connect)((e=>{const{getSocialAccountSelectors:t}=(0,c.selectors)(e),{url:s,provider:a}=t().getAuthWindowData();return{url:s,provider:a}}),(e=>({onConnectSuccess:t=>e((0,d.be)(t)),onConnectFail:t=>e((0,d.DV)(t))})))(u)},24325:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(76223),l=s.n(i),c=s(65321),d=s.n(c),E=s(43007),_=s(76531),u=s(32665),m=s(67498),S=s(26);function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const C=(0,o.defineMessages)({accountNameHint:{id:"confirm_account_name_hint",defaultMessage:"The name shown in emails you send."},accountName:{id:"confirm_account_name_placeholder",defaultMessage:"Your Name"},accountDescriptionHint:{id:"confirm_account_description_hint",defaultMessage:"Name this mailbox."},accountDescription:{id:"confirm_account_description_placeholder",defaultMessage:"Description"},add_confirm:{id:"account_confirm_done",defaultMessage:"Done"}}),A=()=>{};class T extends r.Component{constructor(...e){super(...e),p(this,"state",{sendingName:"",description:""}),p(this,"handleChange",((e,t)=>{this.setState({[e]:t})})),p(this,"handleConfirm",(()=>{const{account:e,onCancel:t,onSubmit:s}=this.props,{sendingName:a,description:n}=this.state;s(e.id,{sendingName:a,description:n}),t()}))}UNSAFE_componentWillReceiveProps(e){e.accountSyncFailed&&this.props.onPrevious()}componentDidMount(){this.props.isSyncing||this.props.handleAddSuccess()}componentWillUnmount(){this.props.isSyncing||this.props.onCancel()}render(){const{sendingName:e,description:t}=this.state,{isSyncing:s}=this.props,{formatMessage:a}=this.context.intl,n=l()(d(),{isSyncing:s}),{mailBrandNameString:i}=this.context;return r.createElement("div",{className:n.addConfirmWrapper},r.createElement("div",{className:n.addConfirmSection},r.createElement("h5",{className:n.titleLabel},s?r.createElement(S.Z,{size:"S"}):r.createElement(E.Z,{kind:_.Kinds.CAL_ACCEPT,size:_.Sizes.XS,colorState:_.ColorStates.SUCCESS}),r.createElement("span",{className:n.titleTextWrapper},s?r.createElement(o.FormattedMessage,{id:"add_confirm_syn_title",defaultMessage:"Setting up your new mailbox"}):r.createElement(o.FormattedMessage,{id:"add_confirm_title",defaultMessage:"Your mailbox has been added"}))),r.createElement("div",{className:n.hint},r.createElement(o.FormattedMessage,{id:"add_confirm_hint",defaultMessage:"Changes made in {mailBrandNameString} will reflect in other email clients, including mobile apps.",values:{mailBrandNameString:i}})),r.createElement("label",{className:n.label,htmlFor:"accountName"},r.createElement(o.FormattedMessage,{id:"name_text",defaultMessage:"Your Name"})),r.createElement("div",{className:n.textInput},r.createElement(u.Z,{isClearable:!0,name:"accountName",value:e,hint:a(C.accountNameHint),"aria-label":a(C.accountName),placeholder:a(C.accountName),onChange:e=>this.handleChange("sendingName",e),disabled:s})),r.createElement("label",{className:n.label,htmlFor:"description"},r.createElement(o.FormattedMessage,{id:"description_text",defaultMessage:"Description"})),r.createElement("div",{className:n.textInput},r.createElement(u.Z,{isClearable:!0,name:"accountName",value:t,hint:a(C.accountDescriptionHint),"aria-label":a(C.accountDescription),placeholder:a(C.accountDescription),onChange:e=>this.handleChange("description",e),disabled:s})),r.createElement(m.Z,{className:n.confirmButton,onClick:this.handleConfirm,title:a(C.add_confirm)},r.createElement("span",null,a(C.add_confirm)))))}}p(T,"contextTypes",{intl:o.intlShape.isRequired,mailBrandNameString:n().string}),p(T,"defaultProps",{account:null,onCancel:A,onSubmit:A,handleAddSuccess:A,isSyncing:!1});const h=T},31025:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>f});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(76223),l=s.n(i),c=s(68775),d=s.n(c),E=s(67498),_=(s(31280),s(43007)),u=s(76531),m=s(37422),S=s(62631),p=s(17016),C=s(68878),A=s(9333),T=s(92743),h=s(1558),g=s(92559),I=s(28182),R=s(2233);function O(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const D=(0,o.defineMessages)({default_email_placeholder:{id:"imapin_email_placeholder",defaultMessage:"Email Address"},yahoo_email_placeholder:{id:"imapin_yahoo_email_placeholder",defaultMessage:"name@yahoo.com"},gmail_email_placeholder:{id:"imapin_gmail_email_placeholder",defaultMessage:"name@gmail.com or your custom domain"},gmail_email_placeholder_onboarding_cue:{id:"imapin_gmail_email_placeholder_onboarding_cue",defaultMessage:"name@gmail.com"},outlook_email_placeholder:{id:"imapin_outlook_email_placeholder",defaultMessage:"name@outlook.com"},aol_email_placeholder:{id:"imapin_aol_email_placeholder",defaultMessage:"name@aol.com"},office365_email_placeholder:{id:"imapin_office365_email_placeholder",defaultMessage:"name@domain.onmicrosoft.com or custom domain"},back_button_title:{id:"imapin_back_button_title",defaultMessage:"Back"},next_button_title:{id:"imapin_next_button_title",defaultMessage:"Next"},cancel_button_title:{id:"imapin_cancel_button_title",defaultMessage:"Cancel"},invalid_email_error:{id:"imapin_invalid_email",defaultMessage:"Invalid email address"},invalid_email_domain:{id:"imapin_invalid_domain",defaultMessage:"Not a valid {providerName} address"},incorrect_provider:{id:"imapin_incorrect_provider",defaultMessage:"Your email is not supported by this provider. Please select {providerName} provider and try again."},invalid_corp_email:{id:"imapin_corp_email",defaultMessage:"Please enter a valid Corp Mail address"},clear_input_icon:{id:"imapin_email_input_clear",defaultMessage:"Clear"}});class N extends r.Component{constructor(...e){super(...e),O(this,"state",{accountExist:!1,invalidReason:null,inputText:this.props.email,showClearInputIcon:!!this.props.email}),O(this,"isStepValid",(()=>!!this.props.email)),O(this,"handleGoNext",(()=>{const{formatMessage:e}=this.context.intl,{partner:t}=this.context,{email:s,accounts:a,onNext:n,provider:r}=this.props,o="ycorp"===t;if((0,p.isValidEmail)(s))if(o&&!(0,p.isCorpMailEmail)(s))this.setState({invalidReason:e(D.invalid_corp_email)});else if(o||(0,S.hS)(m.wxL[r],s))if((0,S.Ws)(a,s.toLowerCase()))this.setState({accountExist:!0});else{const t=(0,S.tO)(s);!o&&t&&t!==r?this.setState({invalidReason:e(D.incorrect_provider,{providerName:(0,S.zJ)(t)})}):(this.props.authorizeNewAccount({email:s,provider:r}),n())}else this.setState({invalidReason:e(D.invalid_email_domain,{providerName:(0,S.zJ)(r)})});else this.setState({invalidReason:e(D.invalid_email_error)})})),O(this,"handleChange",(e=>{const{accountExist:t,invalidReason:s}=this.state,{onChange:a}=this.props;t&&this.setState({accountExist:!1}),null!==s&&this.setState({invalidReason:null}),a("email",e)})),O(this,"handleInputChange",(e=>{const t=e.length>0;this.handleChange(e),this.setState({inputText:e,showClearInputIcon:t})})),O(this,"handleKeydown",(e=>{switch(e.key){case m.R8U.ENTER:this.handleGoNext();break;case m.R8U.ARROW_RIGHT:if(this.isCursorEndOfInput(e)){const e=this.getEmailHint(this.state.inputText,this.props.provider);e&&(this.setState({inputText:e}),this.handleChange(e))}}})),O(this,"handleClearInput",(()=>{this.setState({inputText:"",showClearInputIcon:!1}),this.handleChange("")})),O(this,"isCursorEndOfInput",(e=>{const t=e.target.selectionEnd,{inputText:s}=this.state;return t===s.length})),O(this,"getEmailPlaceHolder",(()=>{const{provider:e,inNewUserTasksCue:t}=this.props,{formatMessage:s}=this.context.intl;switch(e){case m.zoT.YAHOO:return s(D.yahoo_email_placeholder);case m.zoT.GOOGLE:return s(t?D.gmail_email_placeholder_onboarding_cue:D.gmail_email_placeholder);case m.zoT.OUTLOOK:return s(D.outlook_email_placeholder);case m.zoT.AOL:return s(D.aol_email_placeholder);case m.zoT.OFFICE365:return s(D.office365_email_placeholder);default:return s(D.default_email_placeholder)}})),O(this,"getEmailHint",((e,t)=>{const s=document.getElementById("imapin_address_input");if(s&&s.clientWidth<s.scrollWidth)return"";const a=e.indexOf("@"),n=e.length;if(!m.wxL[t]||-1===a||n-a<2)return"";const r=m.wxL[t].domainHints||m.wxL[t].domainCheck,o=e.substr(a+1).toLowerCase(),i=r.find((e=>("@"+e).indexOf("@"+o)>-1)),l=i?i.substr(n-a-1)+".com":"";return l?e+l:""}))}componentDidMount(){this.refs.selector&&this.refs.selector.focus()}render(){const{formatMessage:e}=this.context.intl,{partner:t,yahooBrandNameString:s}=this.context,{termsUrl:a,privacyUrl:n}=this.context.config,{email:i,provider:c,onCancel:m,onPrevious:p,renderNavComponent:T,renderTitleComponent:h,inNewUserTasksCue:g,onClickSkip:O}=this.props,N=l()(d(),{disabled:!this.isStepValid(),inNewUserTasksCue:g}),{accountExist:f,invalidReason:M}=this.state,{inputText:L,showClearInputIcon:P}=this.state,y="ycorp"===t;return r.createElement(r.Fragment,null,r.createElement("div",{className:N.container},r.createElement("div",null,h?h():r.createElement("h5",{className:N.titleLabel},r.createElement(o.FormattedMessage,{id:"impain_address_text",defaultMessage:"Add mailbox"}))),f?r.createElement("div",{className:N.errorWrapper},r.createElement("div",{className:N.errorIcon},r.createElement(_.Z,{kind:u.Kinds.EXCLAMATION_ALT,size:u.Sizes.XS,colorState:u.ColorStates.WARNING_GRAD_RED})),r.createElement(o.FormattedMessage,{id:"imapin_account_exsit_error",defaultMessage:"Your email {email} already exists.\n                              If you deleted the mailbox recently, please wait for a few minutes until the process is complete and try again.",values:{email:r.createElement("strong",null,i)}})):null,r.createElement("label",{className:N.label,htmlFor:"accountAddress"},r.createElement(o.FormattedMessage,{id:"email_address_text",defaultMessage:"Enter your {provider} email address",values:{provider:c}})),r.createElement("div",{className:N.textInput},r.createElement(C.default,{inputId:"imapin_address_input","data-test-id":"typeahead-email-input",ref:"selector",maxVisible:10,placeholder:this.getEmailPlaceHolder(),inputValue:L,hintValue:this.getEmailHint(L,c),onInputChange:this.handleInputChange,onInputKeyDown:this.handleKeydown,inputContainerClassName:N.typeaheadInputContainer,inputClassName:N.typeaheadInput,inputHintClassName:N.typeaheadInputHint,dropDownClassName:N.typeaheadDropDown}),P&&L.length>0?r.createElement("div",null,r.createElement("span",{className:N.clearIconContainer},r.createElement(A.default,{"data-test-id":"clear-button",kind:u.Kinds.CLEAR,size:u.Sizes.XXS,colorState:u.ColorStates.FAINT,onClick:this.handleClearInput,title:e(D.clear_input_icon)})),M?r.createElement("span",{"data-test-id":"type-ahead-input-error",className:N.errorInvalidReason},M):null):null),r.createElement("div",{className:N.hintTop},r.createElement(o.FormattedMessage,{id:"imapin_terms_and_policy_hint",defaultMessage:"Sign in to your {providerName} account and give {yahooBrandNameString} permission\n                        to sync your email, calendar, and contacts and treat them in accordance\n                        with the {terms} and {policy}.",values:{providerName:(0,S.zJ)(c),yahooBrandNameString:s,terms:r.createElement("a",{className:N.link,target:"_blank",href:a,rel:"noopener"},r.createElement(o.FormattedMessage,{id:"imapin_terms",defaultMessage:"{yahooBrandNameString} Terms",values:{yahooBrandNameString:s}})),policy:r.createElement("a",{className:N.link,target:"_blank",href:n,rel:"noopener"},r.createElement(o.FormattedMessage,{id:"imapin_policy",defaultMessage:"Privacy Policy"}))}})),r.createElement("div",{className:N.hint},r.createElement(o.FormattedMessage,{id:"imapin_signout_accounts_hint",defaultMessage:"Note: If you are signed into a different {providerName} account.\n                        Please sign out of all the accounts before adding this mailbox",values:{providerName:c}})),!g&&r.createElement("div",null,T?T({onCancel:m,onPrevious:p,onNext:this.handleGoNext,isStepValid:this.isStepValid}):r.createElement("div",{className:N.iconsWrapper},y?null:r.createElement(E.Z,{"data-test-id":"imapin-back-button",kind:I.F.SECONDARY,overridingClass:N.backButton,onClick:p,title:e(D.back_button_title)},r.createElement(o.FormattedMessage,{id:"imapin_back_button_label",defaultMessage:"Back"})),r.createElement(E.Z,{"data-test-id":"imapin-next-button",kind:I.F.PRIMARY,overridingClass:N.primaryButton,onClick:this.handleGoNext,disabled:!this.isStepValid(),title:e(D.next_button_title)},r.createElement(o.FormattedMessage,{id:"imapin_next_button_label",defaultMessage:"Next"})),r.createElement(E.Z,{"data-test-id":"imapin-cancel-button",kind:I.F.SECONDARY_BORDERLESS,overridingClass:N.cancelButton,onClick:m,title:e(D.cancel_button_title)},r.createElement(o.FormattedMessage,{id:"imapin_cancel_button_label",defaultMessage:"Cancel"}))))),g&&r.createElement("div",{className:N.buttonsContainer},r.createElement(R.Z,{handleNextButtonClick:this.handleGoNext,handleSkipButtonClick:O,handleBackButtonClick:p,disableNextButton:!this.isStepValid()})))}}O(N,"contextTypes",{intl:o.intlShape.isRequired,config:n().object,partner:n().string,yahooBrandNameString:n().string});const f=(0,T.connect)(void 0,((e,{inNewUserTasksCue:t})=>({authorizeNewAccount:s=>e((0,h.G0)({i13nModel:{mKey:t?`${g.JE.NEW_USER_TASKS_CUE}_${g.JE.AUTHORIZE_IMAP_ACCOUNT}`:g.JE.AUTHORIZE_IMAP_ACCOUNT,sec:t?g.nJ.NEW_USER_TASKS_CUE:g.nJ.SETTINGS_ACCOUNTS_TAB,interactionType:g.Rb.click},...s}))})))(N)},10312:(e,t,s)=>{"use strict";s.d(t,{Z:()=>R});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(76223),l=s.n(i),c=s(68775),d=s.n(c),E=s(31280),_=s(37422),u=s(43007),m=s(76531),S=s(67498),p=s(62631),C=s(28182),A=s(2233);function T(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const h=(0,o.defineMessages)({back_button_title:{id:"oauth_back_button_title",defaultMessage:"Back"},relaunch_button_title:{id:"oauth_relaunch_button_title",defaultMessage:"Relaunch"},cancel_button_title:{id:"oauth_cancel_button_title",defaultMessage:"Cancel"},skip:{id:"oauth_sign_in.skip_btn",defaultMessage:"Skip"}}),g=l()(d());class I extends r.Component{constructor(...e){super(...e),T(this,"state",{errorState:null,errorCode:null,accountSyncFailed:this.props.accountSyncFailed,oAuthSuccess:!1}),T(this,"_getPopupwindow",((e,t,s,a)=>{const n=screen.width/2-s/2,r=screen.height/2-a/2;return window.open(e,t,`width=${s}, height=${a}, top=${r}, left=${n}`)})),T(this,"_openOAuthWindow",(()=>{const{partner:e}=this.context,{provider:t,email:s,appRootPath:a}=this.props,n=t===_.zoT.GOOGLE?600:700,r=`https://${window.location.hostname}${a}/oAuth`,o="ycorp"===e;return window[_.UZQ]=this._handleOAuthResponse,this.oAuthWindow=this._getPopupwindow("","authorizeWindow",800,n),this.context.credstoreClient.getAuthorizationURL({provider:t,email:s,redirectUri:r,isCorpUser:o}).then((({authorizationURL:e})=>{this.oAuthWindow.location.replace(`${e}&login_hint=${s}`)}))})),T(this,"_handleOAuthResponse",(({status:e,error:t,wssid:s,crumb:a})=>{const{onAuthorize:n,email:r,provider:o,onNext:i,onCancelAuthorize:l}=this.props,c=_.wxL[o]&&_.wxL[o].type||_.tO8.IMAPIN;window[_.UZQ]=void 0,200===(e=parseInt(e,10))?(this.setState({accountSyncFailed:!1,oAuthSuccess:!0}),n({email:r,provider:o,type:c,wssid:s,crumb:a}),i()):this.setState({errorState:e,errorCode:t},(()=>l({status:e,error:t,provider:o,email:r})))})),T(this,"handleRelaunchClick",(e=>{e.preventDefault(),this._openOAuthWindow()})),T(this,"handleRetry",(()=>{const{email:e,provider:t,onAuthorize:s,onNext:a}=this.props,n=_.wxL[t]&&_.wxL[t].type||_.tO8.IMAPIN;this.setState({accountSyncFailed:!1}),s({email:e,provider:t,type:n}),a()})),T(this,"getErrorMessageBody",((e,t)=>{const{provider:s}=this.props,{yahooBrandNameString:a}=this.context;switch(e){case 412:return"invalid_resource"===t||"interaction_required"===t?r.createElement(o.FormattedMessage,{id:"oauth_error_contact_admin",defaultMessage:"Please contact your {provider} admin to enable this feature.",values:{provider:(0,p.zJ)(s)}}):r.createElement(o.FormattedMessage,{id:"oauth_error_cancel_permession",defaultMessage:"Account connection cancelled."});case 403:return r.createElement(o.FormattedMessage,{id:"oauth_error_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:(0,p.zJ)(s),nextLine:r.createElement("br",null),sign_out:r.createElement("a",{className:g.link,target:"_blank",href:_.wxL[s].providerUrl},r.createElement(o.FormattedMessage,{id:"oauth_sign_out",defaultMessage:"sign out"}))}});case 503:return r.createElement(o.FormattedMessage,{id:"oauth_error_provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please\n                        try to connect your account later.",values:{yahooBrandNameString:a,provider:(0,p.zJ)(s)}});case 409:return r.createElement(o.FormattedMessage,{id:"oauth_error_account_confilict",defaultMessage:"This account is already connected"});default:return r.createElement(o.FormattedMessage,{id:"oauth_error_default",defaultMessage:"Unable to add mailbox. Please try again later."})}})),T(this,"getErrorMessageHeader",(e=>{const{email:t,provider:s}=this.props;switch(e){case 412:return null;case 403:return r.createElement(o.FormattedMessage,{id:"oauth_error_different_id_header",defaultMessage:"{email} could not be added",values:{email:t}});case 503:return r.createElement(o.FormattedMessage,{id:"oauth_error_provider_not_available_header",defaultMessage:"{provider} not available",values:{provider:(0,p.zJ)(s)}});case 409:default:return null}})),T(this,"renderErrorMessage",((e,t)=>{const s=this.getErrorMessageHeader(e),a=this.getErrorMessageBody(e,t);return r.createElement("span",null,null===s?null:r.createElement("h4",{className:g.errorHeader},s),a)}))}componentDidMount(){this.props.accountSyncFailed||this._openOAuthWindow()}componentWillUnmount(){window[_.UZQ]=void 0;const{provider:e,email:t}=this.props;this.state.oAuthSuccess&&!this.state.accountSyncFailed&&this.props.handleAddSuccess({provider:e,email:t})}render(){const{provider:e,onPrevious:t,onCancel:s,email:a,hideCancelButton:n,renderTitleComponent:i,renderNavComponent:c,inNewUserTasksCue:E,onClickSkip:_}=this.props,T=l()(d(),{inNewUserTasksCue:E}),{formatMessage:g}=this.context.intl,{errorState:I,errorCode:R,accountSyncFailed:O}=this.state,D=I||O,N=r.createElement(o.FormattedMessage,{id:"relaunch_window_test",defaultMessage:"Relaunch window"}),f=r.createElement("a",{className:T.tryAgain,onClick:this.handleRetry},r.createElement(o.FormattedMessage,{id:"oauth_try_again",defaultMessage:"Try again"}));return r.createElement("div",{className:T.container},E?r.createElement("div",null,r.createElement("h5",{className:T.titleLabel},r.createElement(o.FormattedMessage,{id:"impain_address_text",defaultMessage:"Add mailbox"})),r.createElement("label",{className:T.label,htmlFor:"accountAddress"},r.createElement(o.FormattedMessage,{id:"email_address_text",defaultMessage:"Enter your {provider} email address",values:{provider:e}}))):r.createElement("div",null,i?i():r.createElement("h5",{className:T.titleLabel},r.createElement(o.FormattedMessage,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"}))),E?r.createElement("div",{className:T.syncEmail},r.createElement("div",{className:T.emailText},a)):null,D?r.createElement("div",{className:T.errorWrapper},r.createElement("div",{className:T.errorIcon},r.createElement(u.Z,{kind:m.Kinds.EXCLAMATION_ALT,size:m.Sizes.XS,colorState:m.ColorStates.WARNING_GRAD_RED})),O?r.createElement("span",null,r.createElement(o.FormattedMessage,{id:"oauth_error_account_add_failed",defaultMessage:"{email} cannot be added",values:{email:a}}),f):this.renderErrorMessage(I,R)):null,r.createElement("div",{className:T.oAuthHint},r.createElement(o.FormattedMessage,{id:"oAuth_signIn_hint",defaultMessage:"A new window should show the {providerName} sign in page.\n                        If you do not see it, check your browser for pop-up blockers.",values:{providerName:(0,p.zJ)(e)}})),r.createElement("div",{className:T.oAuthLink},r.createElement(o.FormattedMessage,{id:"oAuth_signIn_help",defaultMessage:"Don't see the pop-up window? {link}",values:{link:r.createElement("a",{href:"#",className:T.link,onClick:this.handleRelaunchClick},N)}})),E?r.createElement("div",{className:T.buttonsContainer},r.createElement(A.Z,{handleNextButtonClick:this.handleRelaunchClick,handleSkipButtonClick:_,handleBackButtonClick:t,nextButtonText:A.I.RELAUNCH})):r.createElement("div",null,c?c({onPrevious:t,onNext:this.handleRelaunchClick}):r.createElement("div",{className:T.iconsWrapper},r.createElement(S.Z,{"data-test-id":"oauth-back-button",kind:C.F.SECONDARY,overridingClass:T.backButton,onClick:t,title:g(h.back_button_title)},r.createElement(o.FormattedMessage,{id:"oauth_back_button_label",defaultMessage:"Back"})),r.createElement(S.Z,{"data-test-id":"oauth-relaunch-button",kind:C.F.PRIMARY,overridingClass:T.primaryButton,onClick:this.handleRelaunchClick,title:g(h.relaunch_button_title)},r.createElement(o.FormattedMessage,{id:"oauth_relaunch_button_label",defaultMessage:"Relaunch window"})),n?null:r.createElement(S.Z,{"data-test-id":"oauth-cancel-button",kind:C.F.SECONDARY_BORDERLESS,overridingClass:T.cancelButton,onClick:s,title:g(h.cancel_button_title)},r.createElement(o.FormattedMessage,{id:"oauth_cancel_button_label",defaultMessage:"Cancel"})))))}}T(I,"contextTypes",{intl:o.intlShape.isRequired,config:n().object,credstoreClient:E.CredstoreClientType,partner:n().string,yahooBrandNameString:n().string}),T(I,"defaultProps",{onCancelAuthorize:()=>{}});const R=I},65321:e=>{"use strict";e.exports={className:{default:{addConfirmWrapper:"em_N iz_A",addConfirmSection:"W_3vPwA",titleLabel:"A_6EWk M_27msYt D_F u_dPo ab_C i_6LEV",titleTextWrapper:"Q_fq7",hint:"C_Z29dUYT A_6DUj U_72FG i_6Fd5",label:"u_b A_6EqO M_Ic9xa",textInput:"A_6EqO M_27msYt",confirmButton:"r_P D_X H_6TFj Y_6LEV q_Z2aVTcY e_dRA k_w en_0 V_M s_7yHc cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl"},isSyncing:{addConfirmWrapper:"P_0",hint:"O_cMq",label:"O_cMq",confirmButton:"O_cMq r_A"}},_key:"2qjTB6"}},68775:e=>{"use strict";e.exports={className:{default:{container:"D_F a_3He0m ek_BB",textInput:"A_6EqO M_27m5tQ p_R",titleLabel:"A_6EWk M_1Wjk7b u_dPo",label:"u_b A_6EqO M_3gIgH i_6Mbr",hintTop:"A_6DUj M_1IaimO C_Z281SGl",oAuthHint:"A_6EqO Y_6LEV U_6NIX i_6LEV C_Z281SGl",hint:"C_Z1TsNbA A_6DUj U_6Fd5",link:"C_Z2aVTcY Q_dRA u_e69 r_P",iconsWrapper:"D_F ab_C gl_CI H_6TFj M_1S6wUp",backButton:"P_1EudUu H_6TFj i_N",primaryButton:"H_6TFj M_1MYy0B s_7yHc P_1EudUu i_N",cancelButton:"H_6TFj i_N",errorWrapper:"A_6EqO i_6LEV C_ZkiIcp D_F ab_CI",errorIcon:"E_fq7 D_F",errorHeader:"M_0 i_6LEV",errorInvalidReason:"C_ZkiIcp D_B A_6DUj M_fq7",tryAgain:"D_B C_Z2aVTcY u_e69 r_P",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T z_0 x_0 n_0 bm_FJ bn_dBP bj_Z1TsNbA J_x ir_0 G_e bj3_Z2aVTcY",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",clearIconContainer:"p_a T_eTB R_0 P_3gJOe Z_N"},inNewUserTasksCue:{container:"ab_C W_3vhr3 M_1EAG48 H_3vhr3 iz_A iy_h P_1Eu6qC",titleLabel:"u_e69 D_F gl_C y_1ACvVU t_C M_Z1bOtFr A_6LEV",label:"u_e69 D_F gl_C y_1ACvVU t_C C_Z1VRqsb A_6EWk",typeaheadInputContainer:"A_6FsP H_7iGr",typeaheadInput:"A_6FsP i_6TFj z_N x_N n_N cn_dBP cg_FJ l_Z1TsNbA P_Z2dI07z e_fq7 l3_Z2aVTcY",typeaheadInputHint:"A_6FsP i_6TFj T_N L_N P_Z2dI07z",textInput:"M_ZXVuQY W_6D6F",errorInvalidReason:"M_Z26RiTK",clearIconContainer:"T_6Eb4",hintTop:"M_Z1WSlsA y_1ACvVU C_Z1VRqsb",hint:"Y_fq7 y_1ACvVU C_Z1VRqsb",iconsWrapper:"M_1KmyGx",oAuthHint:"A_6Eb4 C_Z1VRqsb Y_6TFj U_6Eb4 i_N",oAuthLink:"A_6Eb4 U_6Fd5 i_N C_Z1VRqsb ac_CI",buttonsContainer:"p_a B_6Fd5 R_6Fd5",syncEmail:"M_2fYURe cn_dBP cg_FJ l_Z1TsNbA I_Z1VRqsb e_fq7 W_6D6F H_73HH p_R D_F ab_C o_A",emailText:"A_6FsP P_1EueWv",errorWrapper:"F_27sF7m"}},_key:"Z9BiTW"}},34061:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>U});var a=s(45697),n=s.n(a),r=s(67294),o=s(92743),i=s(18352),l=s(9333),c=s(64059),d=s(76531),E=s(99095),_=s(67498),u=s(80061),m=s.n(u),S=s(9026),p=s(37422),C=s(15601),A=s(92559),T=s(79483);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function g(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const I=(0,E.defineMessages)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},close_ad_thank_you:{id:"ad.close_thank_you",defaultMessage:"close"},upgrade_now_btn_label:{id:"ad.upgrade_now_btn_label",defaultMessage:"Upgrade now"},upsell_message_caption:{id:"ad.mailplus_upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailSubscriptionBrand}."},upsell_message_trail_plan_caption:{id:"ad.upsell_message_trail_plan_caption",defaultMessage:"Want an ad-free inbox? Try {YahooMailSubscriptionBrand} for free!"},upsell_message_trial_plan_caption_short:{id:"ad.upsell_message_trial_plan_caption_short",defaultMessage:"Try {YahooMailSubscriptionBrand} for free!"},thank_you_message_caption:{id:"ad.thank_you_message_caption",defaultMessage:"We'll review your feedback and make changes as needed."},thank_you:{id:"ad.thank_you_message",defaultMessage:"Thank you for your feedback."},thanks:{id:"ad.feedback.thanks",defaultMessage:"Thanks!"},ad_is_hidden:{id:"ad.feedback.ad_is_hidden",defaultMessage:"This ad has been hidden."},additional_feedback:{id:"additional_feedback",defaultMessage:"You can give additional feedback to improve your future experience."},give_feedback:{id:"give_feedback_link",defaultMessage:"Give feedback"}});class R extends r.Component{constructor(...e){super(...e),g(this,"state",{renderPurchaseFreeTrialError:!1,purchaseFreeTrialStatus:""}),g(this,"openPaymentPage",(()=>{const{mailPlusEligible:e,mailProEligible:t,upsellUrl:s}=this.props;(e||t)&&(0,c.x)(s)})),g(this,"navigateToMailSubscriptionPage",(e=>{T.ZP.sendI13nModel({i13nModel:{mKey:this.props.mailPlusEligible?A.JE.NAVIGATE_TO_MAIL_PLUS_FROM_ADFEEDBACK:A.JE.NAVIGATE_TO_MAIL_PRO_TAB_FROM_ADFEEDBACK,sec:A.nJ.AD_FEEDBACK,interactionType:A.Rb.click}}),(0,c.x)(e)}))}renderAdFeedbackV2(e,t){const{adFeedbackStatus:s,isCompactLayout:a,mailProEligible:n,mailPlusEligible:o,onStartAdFeedback:i,upsellUrl:c}=this.props,{formatMessage:_}=this.context.intl,{yahooMailPlusBrandName:u}=this.context,m=r.createElement(l.default,{kind:d.Kinds.CLOSE,size:d.Sizes.XXS,colorState:d.ColorStates.DISABLED,onClick:this.props.onAdFeedbackClose,title:_(I.close_ad_thank_you)});if(s===p._re.DELETED)return r.createElement("div",{className:e.thankYouContainer,"data-test-id":"feedback_thank_you"},r.createElement("div",{className:e.msgContent},r.createElement("div",{className:e.textContainer},r.createElement("span",{className:e.msgHeader},r.createElement(E.FormattedMessage,I.ad_is_hidden)," "),!a&&r.createElement(E.FormattedMessage,I.additional_feedback)),r.createElement(C.ZP,{style:{lineHeight:"normal"},kind:C.Fd.TEXT,size:C.u8.XS,onClick:i,"data-test-id":"give-feedback"},r.createElement(E.FormattedMessage,I.give_feedback))),m);if(s===p._re.LIKED)return r.createElement("div",{className:e.likedContainer,"data-test-id":"feedback_thank_you"},r.createElement("div",{className:e.thankYouContainer},r.createElement("div",{className:e.textContainer},r.createElement("span",{className:e.msgHeader},r.createElement(E.FormattedMessage,I.thank_you))),m));const S=a?I.thanks:I.thank_you;return r.createElement("div",{className:e.thankYouContainer,"data-test-id":"feedback_thank_you"},r.createElement("div",{className:e.msgContent},r.createElement("div",{className:e.textContainer},r.createElement("span",{className:e.msgHeader},r.createElement(E.FormattedMessage,S)," "),(n||o)&&r.createElement(E.FormattedMessage,h({},t,{values:{YahooMailSubscriptionBrand:o?u:_(I.yahoo_mail_pro_branding)}}))),(n||o)&&!a&&this.renderCTA(c)),r.createElement("span",{className:e.compactCTA},(n||o)&&a&&this.renderCTA(c),m))}renderCTA(e){return r.createElement(C.ZP,{style:{lineHeight:"normal"},kind:C.Fd.TEXT,size:C.u8.XS,onClick:()=>this.navigateToMailSubscriptionPage(e)},r.createElement(E.FormattedMessage,I.upgrade_now_btn_label))}render(){const{isCompactLayout:e,mailProEligible:t,mailPlusEligible:s,isRRCompactSize:a,adFeedbackOnLightBackground:n,isAdFeedbackV2:o}=this.props,{formatMessage:i}=this.context.intl,c=this.context.getThemeMode()===S.zg.DARK&&!n,E=this.context.getCss(m(),{isCompactLayout:e,isRRCompactSize:a,isAdFeedbackV2:o,isAdFeedbackV2Compact:o&&e,isDarkBackground:c}),u=e?I.upsell_message_trial_plan_caption_short:I.upsell_message_trail_plan_caption,{yahooMailPlusBrandName:p}=this.context;return o?this.renderAdFeedbackV2(E,u):r.createElement("div",{className:E.thankYouContainer,"data-test-id":"feedback_thank_you"},r.createElement("div",{className:E.textContainer,onClick:this.openPaymentPage},r.createElement("div",{className:E.header},r.createElement("span",{className:E.thankYou},i(I.thank_you)),e?null:r.createElement("span",null," "),t||s?i(u,{YahooMailSubscriptionBrand:s?p:i(I.yahoo_mail_pro_branding)}):null),t||s?null:r.createElement("div",{className:E.caption,title:i(I.thank_you_message_caption)},i(I.thank_you_message_caption))),t||s?r.createElement(_.Z,{onClick:this.openPaymentPage,className:E.upgradeNow,title:i(I.upgrade_now_btn_label),"data-test-id":"upgrade-now"},i(I.upgrade_now_btn_label)):null,r.createElement("div",{className:E.close,"data-test-id":"close"},r.createElement(l.default,{kind:d.Kinds.CLOSE,size:d.Sizes.XXS,colorState:d.ColorStates.DISABLED,onClick:this.props.onAdFeedbackClose,title:i(I.close_ad_thank_you)})))}}g(R,"contextTypes",{intl:E.intlShape.isRequired,getCss:n().func.isRequired,getThemeMode:n().func});const O=R;var D=s(96022),N=s.n(D);function f(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const M=(0,E.defineMessages)({ad_offensive:{id:"ad.offensive",defaultMessage:"It's offensive"},ad_notRelevant:{id:"ad.notRelevant",defaultMessage:"It's not relevant"},ad_keepSeeing:{id:"ad.keepSeeing",defaultMessage:"I keep seeing this"},ad_somethingElse:{id:"ad.somethingElse",defaultMessage:"Something else:"},close_ad_feedback:{id:"ad.close_feedback",defaultMessage:"close"},ad_done:{id:"ad.feedback_done",defaultMessage:"Done"},ad_form_question:{id:"ad.form_question",defaultMessage:"Before you close this ad, would you tell us why you didn't like it?"}});class L extends r.Component{constructor(...e){super(...e),f(this,"state",{active:""}),f(this,"getChoice",(()=>this.state.active)),f(this,"onChange",(e=>{this.setState({active:e})})),f(this,"onAdFeedbackSubmit",(e=>{e.preventDefault();const{isAdFeedbackV2:t}=this.props;if(t)return this.props.submitAdFeedback({reason:this.getChoice(),comment:this.state.active===p.XLK?this.refs.input.value:"",sectionId:this.props.sectionId,isAdFeedbackV2:t});this.props.submitAdFeedback({reason:this.getChoice(),comment:this.state.active===p.GOz.SOMETHING_ELSE?this.refs.input.value:"",sectionId:this.props.sectionId})})),f(this,"renderRadio",(e=>{const t=e===p.GOz.SOMETHING_ELSE,{isCompactLayout:s,adFeedbackOnLightBackground:a}=this.props,n=this.state.active===p.GOz.SOMETHING_ELSE,o=this.context.getThemeMode()===S.zg.DARK&&!a,i=this.context.getCss(N(),{freeTextFocused:n,isCompactLayout:s,isDarkBackground:o});return r.createElement("div",{className:i.optionContainer},r.createElement("input",{className:i.radio,type:"radio",name:"adFeedbackRadio",onChange:this.onChange.bind(this,e),checked:t?n:null}),r.createElement("span",{className:i.text},r.createElement(E.FormattedMessage,M["ad_"+e])),t?r.createElement("input",{className:i.freeText,onFocus:this.onChange.bind(this,p.GOz.SOMETHING_ELSE),ref:"input",onKeyDown:e=>e.stopPropagation()}):null)}))}renderAdFeedbackV2(e){const{adFeedbackConfig:t}=this.props,{formatMessage:s}=this.context.intl,a=(t.neg_options||[]).map((({id:t,value:s})=>r.createElement("div",{key:t,className:e.option},r.createElement("input",{className:e.radio,type:"radio",name:"adFeedbackRadio",checked:this.state.active===t,onChange:()=>this.onChange(t)}),r.createElement("span",{className:e.text},s),p.XLK===t&&r.createElement("input",{className:e.freeText,onFocus:()=>this.onChange(t),ref:"input",onKeyDown:e=>e.stopPropagation()}))));return r.createElement("form",{className:e.container,"data-test-id":"feedback-list-item"},r.createElement("div",{className:e.header},r.createElement("span",{className:e.title,title:s(M.ad_form_question)},s(M.ad_form_question)),r.createElement("span",{className:e.close,"data-test-id":"feedback-close"},r.createElement(l.default,{kind:d.Kinds.CLOSE,size:d.Sizes.XXS,colorState:d.ColorStates.DISABLED,onClick:this.props.onAdFeedbackClose,title:s(M.close_ad_feedback)}))),r.createElement("div",{className:e.optionsContainer},r.createElement("div",{className:e.optionsWrapper},a),r.createElement("div",{className:e.buttonGroup},r.createElement(_.Z,{"data-test-id":"feedback-done",onClick:this.onAdFeedbackSubmit,title:s(M.ad_done),marginLess:!0},r.createElement(E.FormattedMessage,M.ad_done)))))}render(){const{isCompactLayout:e,adFeedbackOnLightBackground:t,isAdFeedbackV2:s,adFeedbackConfig:a}=this.props,{formatMessage:n}=this.context.intl,o=this.context.getThemeMode()===S.zg.DARK&&!t,i=this.context.getCss(N(),{isAdFeedbackV2:s,isCompactLayout:e,isDarkBackground:o});return s&&a?this.renderAdFeedbackV2(i):r.createElement("form",{className:i.container,"data-test-id":"feedback-list-item"},r.createElement("div",{className:i.header},r.createElement("span",{className:i.title,title:n(M.ad_form_question)},n(M.ad_form_question)),r.createElement("span",{className:i.close,"data-test-id":"feedback-close"},r.createElement(l.default,{kind:d.Kinds.CLOSE,size:d.Sizes.XXS,colorState:d.ColorStates.DISABLED,onClick:this.props.onAdFeedbackClose,title:n(M.close_ad_feedback)}))),r.createElement("div",{className:i.columns},r.createElement("div",{className:i.column},this.renderRadio(p.GOz.OFFENSIVE),this.renderRadio(p.GOz.NOT_RELEVANT)),r.createElement("div",{className:i.column},this.renderRadio(p.GOz.KEEP_SEEING),this.renderRadio(p.GOz.SOMETHING_ELSE)),r.createElement("div",{className:i.buttonGroup},r.createElement(_.Z,{"data-test-id":"feedback-done",onClick:this.onAdFeedbackSubmit,title:n(M.ad_done),marginLess:!0},r.createElement(E.FormattedMessage,M.ad_done)))))}}f(L,"contextTypes",{intl:E.intlShape.isRequired,getCss:n().func.isRequired,getThemeMode:n().func}),f(L,"defaultProps",{adFeedbackOnLightBackground:!1});const P=L;var y=s(85927);function b(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class F extends r.Component{constructor(...e){super(...e),b(this,"onAdFeedbackClose",((e,t)=>{const{sectionId:s,closeAdFeedback:a}=this.props;e.preventDefault(),a({i13nModel:{mKey:A.JE.AD_FEEDBACK_CLOSE,sec:A.nJ.AD_FEEDBACK,actionData:{sectionId:s,feedbackSubmitted:t}},sectionId:s})})),b(this,"onAdFeedbackRequest",(()=>{const{sectionId:e,startAdFeedback:t,isAdFeedbackV2:s}=this.props;t({i13nModel:{mKey:A.JE.AD_FEEDBACK_OPENED,sec:A.nJ.AD_FEEDBACK,interactionType:A.Rb.click,actionData:{sectionId:e}},sectionId:e,isAdFeedbackV2:s})})),b(this,"onAdFeedbackSubmit",(e=>{const{sectionId:t,submitAdFeedback:s}=this.props;s({i13nModel:{mKey:A.JE.AD_FEEDBACK_SUBMIT,sec:A.nJ.AD_FEEDBACK,actionData:{sectionId:t,...e}},sectionId:t,...e})}))}render(){const{showThankYou:e,isAdFeedbackV2:t,feedbackStatus:s,adFeedbackConfig:a,upsellUrl:n}=this.props;return e?r.createElement(O,{onAdFeedbackClose:e=>this.onAdFeedbackClose(e,!0),isCompactLayout:this.props.isCompactLayout,mailProEligible:this.props.mailProEligible,mailPlusEligible:this.props.mailPlusEligible,isRRCompactSize:this.props.isRRCompactSize,adFeedbackOnLightBackground:this.props.adFeedbackOnLightBackground,isAdFeedbackV2:t,adFeedbackStatus:s,onStartAdFeedback:this.onAdFeedbackRequest,upsellUrl:n}):r.createElement(P,{onAdFeedbackClose:e=>this.onAdFeedbackClose(e,!1),submitAdFeedback:this.onAdFeedbackSubmit,isCompactLayout:this.props.isCompactLayout,sectionId:this.props.sectionId,isRRCompactSize:this.props.isRRCompactSize,adFeedbackOnLightBackground:this.props.adFeedbackOnLightBackground,isAdFeedbackV2:t,adFeedbackConfig:a})}}b(F,"defaultProps",{adFeedbackOnLightBackground:!1});const U=(0,o.connect)(((e,t)=>{const{getFeaturesSelectors:s,getAdsSelectors:a,getSetting:n}=(0,y.selectors)(e),{sectionId:r}=t,{getAdFeedbackBeacon:o,getAdFeedbackStatus:i,getAdFeedbackConfig:l}=a(),{isEnabled:c}=s(),d=o(t.sectionId),E=i(),_=[p._re.SUBMITTED,p._re.DELETED,p._re.LIKED].includes(E[r]),u=n(p.Zrf.PREVIEW_PANE)===p.EsZ.RIGHT,m=c(p.ANe.MAIL_PLUS_ELIGIBLE),S=c(p.ANe.MAIL_PRO_ELIGIBLE),C=n(m?p.Zrf.MAIL_PLUS_URL:p.Zrf.AD_FREE_MAIL_URL);return{showThankYou:_,isCompactLayout:u,adFeedbackBeacon:d,mailProEligible:S,mailPlusEligible:m,isAdFeedbackV2:c(p.ANe.AD_FEEDBACK_V2),feedbackStatus:E[r],adFeedbackConfig:l(r),upsellUrl:C}}),(e=>({closeAdFeedback:t=>e((0,i.Ci)(t)),submitAdFeedback:t=>e((0,i.i$)(t)),startAdFeedback:t=>e((0,i.Ay)(t))})))(F)},99972:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});s(45697);var a,n,r,o=s(67294),i=(s(95406),s(19341)),l=s(23918),c=s.n(l),d=s(76223),E=s.n(d);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class u extends o.Component{render(){const{size:e,imageSrc:t,circleShape:s,doNotScaleUpImages:a}=this.props,n=E()(c(),{circleShape:s}),{imageSize:r}=e;let l={},d={width:r,height:r};return a&&(l={maxWidth:r,maxHeight:r},d={}),o.createElement("img",_({className:n.adImage,style:l,src:t||i.yF},d))}}a=u,n="defaultProps",r={doNotScaleUpImages:!1,size:i.u8.M,imageSrc:"",circleShape:!1},n in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r},70302:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>_});s(45697);var a=s(67294),n=s(92743),r=s(336),o=s(95406),i=s(37422),l=s(85927);const c={},d={};class E extends a.Component{constructor(...e){var t,s,a;super(...e),a=()=>{this.fireAndUpdateBeacon("impression","impressionBeaconTimer",!0),this.fireAndUpdateBeacon("impression3P","impression3PBeaconTimer",!0),this.fireAndUpdateBeacon("partial","",!0)},(s="handleAdClick")in(t=this)?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a}componentDidMount(){c[this.props.sectionId]=c[this.props.sectionId]||[],this.handleNewAd()}componentWillUnmount(){this.viewabilityObserver&&(this.viewabilityObserver.unobserve(this.targetNode),this.viewabilityObserver.disconnect()),this.viewabilityObserver=null,clearTimeout(this.impressionBeaconTimer),this.impressionBeaconTimer=null,clearTimeout(this.impression3PBeaconTimer),this.impression3PBeaconTimer=null}componentDidUpdate(e){this.props.adTimestamp===e.adTimestamp&&this.props.rootMargin===e.rootMargin||this.handleNewAd()}createObserver(e){if(void 0!==window.IntersectionObserver){const{rootNode:t,rootMargin:s}=this.props,a={root:t,rootMargin:s,threshold:[.1,e/100,.95]};this.impressionBeaconThreshold=e,this.viewabilityObserver=this.viewabilityObserver?this.viewabilityObserver.disconnect():null,this.viewabilityObserver=new IntersectionObserver((e=>{e.forEach((e=>{this.handleVisibilityChange(100*e.intersectionRatio)}))}),a),this.viewabilityObserver.observe(this.targetNode)}}allImpressionBeaconsFired(){const{sectionId:e,pencilAdData:t}=this.props,{actionUrls:s={},beacon:a,carouselAssets:n=[]}=t;return c[e].indexOf(a)>-1&&(!(0,o.u9)(s,"IMPR_INTERNAL.0",null)||!n.length||c[e].indexOf(s.IMPR_INTERNAL[0])>-1)}fireImpressionBeacon(e){const{pencilAdData:t}=this.props,{beacon:s,rules:a}=t,{viewabilityDefStatic:n}=a,r="number"==typeof(0,o.u9)(n,"d",null)?1e3*n.d:null;if(s&&!this.allImpressionBeaconsFired()&&null!==r)if(e>=this.impressionBeaconThreshold&&!this.impressionBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression","impressionBeaconTimer");this.impressionBeaconTimer=setTimeout(e,r)}else e<this.impressionBeaconThreshold&&(clearTimeout(this.impressionBeaconTimer),this.impressionBeaconTimer=null)}fireImpression3PBeacon(e){const{pencilAdData:t,sectionId:s}=this.props,{actionUrls:a={}}=t,n=(0,o.u9)(a,"STATIC_VIEW_3P.0",null),r=c[s].indexOf(n)>-1;if(n&&!r&&null!==this.impression3PVisTimeRemaining)if(e>95&&!this.impression3PBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression3P","impression3PBeaconTimer");this.impression3PBeaconVisTime=Date.now(),this.impression3PVisTimeRemaining<=0?e():this.impression3PBeaconTimer=setTimeout(e,this.impression3PVisTimeRemaining)}else e<100&&this.impression3PBeaconTimer&&(this.impression3PVisTimeRemaining-=Date.now()-this.impression3PBeaconVisTime,clearTimeout(this.impression3PBeaconTimer),this.impression3PBeaconTimer=null)}firePartialBeacon(e){const{pencilAdData:t,sectionId:s}=this.props,{actionUrls:a={}}=t,n=(0,o.u9)(a,"PARTIAL_VIEW.0",null),r=c[s].indexOf(n)>-1;e>0&&!r&&n&&this.fireAndUpdateBeacon("partial")}handleVisibilityChange(e){const t=(0,o.u9)(this.props.pencilAdData,"rules",{});Object.keys(t).length&&(this.fireImpressionBeacon(e),this.fireImpression3PBeacon(e),this.firePartialBeacon(e))}fireAndUpdateBeacon(e,t="",s=!1){const{pencilAdData:a,isAppVisible:n,isCurrentAdPosition:i,sectionId:l}=this.props;if(this[t]=null,n&&i||s){const{actionUrls:t,beacon:s,impressionTrackingUrls:n=[],carouselAssets:i=[]}=a,d=[];"impression"===e?(-1===c[l].indexOf(s)&&((0,r.Z)(s,!1),d.push(s)),n.forEach((e=>{e&&-1===c[l].indexOf(e)&&((0,r.Z)(e,!1),d.push(e))})),(0,o.u9)(t,"IMPR_INTERNAL.0",null)&&i.length&&-1===c[l].indexOf(t.IMPR_INTERNAL[0])&&((0,r.Z)(t.IMPR_INTERNAL[0],!1),d.push(t.IMPR_INTERNAL[0]))):"impression3P"===e?((null==t?void 0:t.STATIC_VIEW_3P)||[]).forEach((e=>{(0,r.Z)(e,!1),d.push(e)})):"partial"===e&&(0,o.u9)(t,"PARTIAL_VIEW.0",null)&&((0,r.Z)(t.PARTIAL_VIEW[0],!1),d.push(t.PARTIAL_VIEW[0])),c[l]=c[l].concat(d)}}handleNewAd(){const{pencilAdData:e,geminiViewability:t,isCurrentAdPosition:s,adTimestamp:a,sectionId:n}=this.props;if(t&&this.targetNode&&s){const{rules:t}=e;if(d[n]!==a&&(d[n]=a,c[n]=[]),t&&Object.keys(t).length){const{viewabilityDefStatic:s={},viewabilityDefStatic3P:a=[]}=t,i=s.p,l=(0,o.u9)(a,"0.p",null),d=(0,o.u9)(a,"0.d",null);if(0===l&&0===d){const{actionUrls:t={}}=e,s=(0,o.u9)(t,"STATIC_VIEW_3P",[]),a=[];return void(s.length&&(s.forEach((e=>{(0,r.Z)(e,!1),a.push(e)})),c[n]=a))}this.createObserver(i),this.impression3PVisTimeRemaining="number"==typeof(0,o.u9)(a,"0.d",null)?1e3*a[0].d:null}}}render(){return a.createElement("div",{ref:e=>this.targetNode=e,style:this.props.styles,className:this.props.className,onClick:this.handleAdClick},this.props.children)}}E.defaultProps={rootNode:null,rootMargin:"0px",styles:{}};const _=(0,n.connect)(((e,t)=>{const{isFeatureEnabled:s,getEnvironmentSelectors:a,getAdSectionIds:n,getAdsSelectors:r}=(0,l.selectors)(e),{getGeminiAdTimestamp:c}=r(),d=c(t.sectionId),{isAppVisible:E}=a(),_=n(),u=(0,o.VO)(_).some((e=>e===t.sectionId));return{isAppVisible:E(),geminiViewability:s(i.ANe.GEMINI_VIEWABILITY),isCurrentAdPosition:u,adTimestamp:d}}))(E)},17272:(e,t,s)=>{"use strict";s.d(t,{Z:()=>U});s(45697);var a=s(67294),n=s(92743),r=s(99095),o=s(11160),i=s(31509),l=s(18030),c=s(65304),d=s(9333),E=s(43007),_=s(8470),u=s(10728),m=s(94482),S=s(67498),p=s(28182),C=s(76531),A=s(76223),T=s.n(A),h=s(75411),g=s.n(h),I=s(64059),R=s(37422),O=s(85927),D=s(18352),N=s(92559),f=s(68113),M=s(59959),L=s(79483),P=s(17016),y=s(7426);const b=(0,r.defineMessages)({chevron_title:{id:"ad_feedback.chevron_title",defaultMessage:"Ad Feedback"},why_this_ad:{id:"why_this_ad",defaultMessage:"Why this ad?"},like_this_ad:{id:"ad.feedback.like_this_ad",defaultMessage:"Like this ad"},dislike_this_ad:{id:"ad.feedback.dislike_this_ad",defaultMessage:"Dislike this ad"},start_ad_feedback_form:{id:"start_ad_feedback_form",defaultMessage:"I don't like this ad"},go_ad_free:{id:"ad_upsell_label",defaultMessage:"Go ad-free"}}),F=e=>{const{formatMessage:t}=(0,y.Y)(),{kind:s,size:n,isCompactLayout:r,hideFeedbackChevron:A,marginLess:h,offset:R,isAdFeedbackV2:O,sectionId:D,adFeedbackClick:M,mailProEligible:F,mailPlusEligible:U}=e,v=T()(g(),{isCompactLayout:r,hideFeedbackChevron:A,marginLess:h,isAdFeedbackV2:O}),w=t=>{t.preventDefault(),M({i13nModel:{mKey:N.JE.AD_POLICY_LINK_CLICKED,sec:N.nJ.AD_FEEDBACK,interactionType:N.Rb.click,actionData:{sectionId:D}}}),(0,I.x)(e.aboutAdsUrl)},G=t=>{t.preventDefault(),M({i13nModel:{mKey:U?N.JE.AD_FEEDBACK_MAIL_PLUS_LINK_CLICKED:N.JE.AD_FEEDBACK_MAIL_PRO_LINK_CLICKED,sec:N.nJ.AD_FEEDBACK,interactionType:N.Rb.click,actionData:{sectionId:D}}}),e.redirectUpsellToMailPlusTab?e.navigateToMailPlusSettings():(0,I.x)(e.upsellUrl)},k=e=>{e.preventDefault(),M({i13nModel:{mKey:N.JE.AD_FEEDBACK_POSITIVE,sec:N.nJ.AD_FEEDBACK,interactionType:N.Rb.click,actionData:{sectionId:D}},feedbackType:f.gT.POSITIVE,sectionId:D,isAdFeedbackV2:!0})},H=e=>{e.preventDefault(),M({i13nModel:{mKey:N.JE.AD_FEEDBACK_NEGATIVE,sec:N.nJ.AD_FEEDBACK,interactionType:N.Rb.click,actionData:{sectionId:D}},feedbackType:f.gT.NEGATIVE,sectionId:D,isAdFeedbackV2:!0})},B=t=>{t.preventDefault(),e.startAdFeedback({i13nModel:{mKey:N.JE.AD_FEEDBACK_OPENED,sec:N.nJ.AD_FEEDBACK,interactionType:N.Rb.click,actionData:{sectionId:D}},sectionId:D})};return a.createElement("div",{onClick:e=>{e.preventDefault(),e.stopPropagation();const t={mKey:N.JE.PENCIL_AD_FEEDBACK_MENU_OPEN,sec:N.nJ.AD_FEEDBACK,interactionType:(0,P.getInteractionFromEvent)(e),actionData:{sectionId:D}};L.ZP.sendI13nModel({i13nModel:t})},"data-test-id":"feedback-menu"},a.createElement(o.Z,null,a.createElement(i.Z,null,a.createElement("span",{className:v.chevronDown},a.createElement(d.default,{kind:s,size:n,rotate:C.Rotate.D180,colorState:C.ColorStates.INHERITED,title:t(b.chevron_title),tabIndex:-1,paddingLess:!0}))),a.createElement(l.ZP,{triggerOn:c.K2.CLICK,permittedArrowDirections:[c.Ji.UP,c.Ji.DOWN],offset:R,zAltitude:u.LSY.POPOVER.HIGH,align:c.xM.END,isArrowVisible:!0},a.createElement("div",{className:v.adFeedbackContainer},a.createElement(_.Z,{focusOnMount:!0},(e=>[{option:"why_this_ad",onClick:w,iconType:C.Kinds.SPONSORED,iconSize:!O&&C.Sizes.M,className:!O&&"sponsor",show:!0,testId:"why-this-ad-option"},{option:"like_this_ad",iconType:C.Kinds.FEEDBACK,show:O,onClick:k,testId:"like-this-ad-option"},{option:O?"dislike_this_ad":"start_ad_feedback_form",onClick:O?H:B,testId:"feedback-menu-start",iconType:C.Kinds.FEEDBACK,iconSize:!O&&C.Sizes.XS,iconRotate:C.Rotate.D180,className:!O&&"feedback",show:!0},{option:"go_ad_free",iconType:U?C.Kinds.YAHOO_PLUS_BADGE_ALT:C.Kinds.PRO,show:O&&(U||F),onClick:G,testId:"go_ad_free"}].filter((e=>e.show)).map((s=>a.createElement(m.Z,{key:s.option},a.createElement(S.Z,{onClick:s.onClick,kind:p.F.MENUITEM,"data-test-id":s.testId,overridingClass:e[O?"adFeedbackItem":`adFeedbackItem_${s.className}`]},O?a.createElement("span",{className:e.iconContainer},a.createElement(E.Z,{kind:s.iconType,size:s.iconSize||(O?C.Sizes.XS:C.Sizes.S),rotate:s.iconRotate||C.Rotate.D0,colorState:C.ColorStates.INHERITED})):null,a.createElement("div",{className:e[O?"adFeedbackText":`adFeedbackText_${s.className}`]},s.subStrings?t(b[s.option],s.subStrings):t(b[s.option])))))))(v))))))};F.defaultProps={size:C.Sizes.XXS,kind:C.Kinds.CHEVRON_UP,isCompactLayout:!1,marginLess:!1,offset:16};const U=(0,n.connect)((e=>{const{getSetting:t,isFeatureEnabled:s}=(0,O.selectors)(e),a=s(R.ANe.MAIL_PLUS_ELIGIBLE),n=s(R.ANe.MAIL_PRO_ELIGIBLE),r=t(a?R.Zrf.MAIL_PLUS_URL:R.Zrf.AD_FREE_MAIL_URL),o=s(R.ANe.REDIRECT_MAIL_PLUS_UPSELL_TO_MAIL_PLUS_TAB);return{aboutAdsUrl:t(R.Zrf.ABOUT_AD_URL),upsellUrl:r,isAdFeedbackV2:s(R.ANe.AD_FEEDBACK_V2),mailPlusEligible:a,mailProEligible:n,redirectUpsellToMailPlusTab:o}}),(e=>({startAdFeedback:t=>e((0,D.Ay)(t)),adFeedbackClick:t=>e((0,D.JF)(t)),navigateToMailPlusSettings:t=>e((0,M.BB)(t))})))(F)},96022:e=>{"use strict";e.exports={className:{default:{container:"I_1I4yPF A_6EqO X_dRA H_7Ig6 D_F ek_BB gl_C e_dRA",header:"X_fq7 o_h D_F d_6EWk",title:"u_b C_Z281SGl o_h em_N i_6EWk",close:"N_eTB r_P",columns:"D_F ab_CH P_3gIMd",optionContainer:"jb6_fq7 D_F ab_C",radio:"c37wHw10_Z1gAvbx D_X H_6Fd5 s_6Fd5 e_6Fd5 I_52qC M_E8xte",column:"em_N ej_0 D_F ek_BB",freeText:"A_6EqO y_Z2hYGcu Q_fq7 o_h I_T cn_ZmdUJf m_2w4lU5 em_N W_7yHc",buttonGroup:"t_r em_N a_3n93F"},freeTextFocused:{freeText:"m_2ivgpk"},isCompactLayout:{container:"H_3rmhK gl_FL",header:"D_F N_eTB gl_FM",columns:"D_X N_6DEy",radio:"M_E8xte",close:"N_0",optionContainer:"jb_fq7",buttonGroup:"t_l",optionsContainer:"ek_BB",optionsWrapper:"U_6Fd5",option:"W_6D6F"},isDarkBackground:{title:"C_52qC",container:"C_52qC",freeText:"m_6i9dl"},isAdFeedbackV2:{header:"X_0",container:"P_1Eu6qC",optionsContainer:"D_F W_6D6F ab_CH",optionsWrapper:"D_F em_N p_R eo_HB",option:"D_F ab_C W_e5X"}},_key:"RaeRI"}},75411:e=>{"use strict";e.exports={className:{default:{chevronDown:"D_F E_fq7",adFeedbackContainer:"P_3Y3Gk"},isCompactLayout:{chevronDown:"V_ P_0"},hideFeedbackChevron:{chevronDown:"v_h Q_36RhU"},marginLess:{chevronDown:"E_0"},isAdFeedbackV2:{adFeedbackItem:"P_Z1E2XDm",adFeedbackText:"P_2b2hq3",iconContainer:"C_Z1RVMOO cdPFi_Z1RVMOO D_F"}},_key:"TL4f1"}},80061:e=>{"use strict";e.exports={className:{default:{thankYouContainer:"I_1I4yPF H_74JI D_F gl_FM ab_C X_6DEy e_dRA",textContainer:"o_h K_74JI D_F ek_BB gl_C em_N r_P",header:"K_6VdP u_b o_A",caption:"C_Z1TsNbA K_6VdP A_6DUj",close:"H_72FG N_eTB je_dRA r_P",upgradeNow:"J_x i_6EGz e_dRA M_1GMufD I_T b_2fAfSG p_R C_Z2aVTcY r_P P_fQoXz"},isAdFeedbackV2:{msgHeader:"u_b",thankYouContainer:"I_ZnIF8Y H_6UbO",textContainer:"D_B J_x G_e K_6UbO",likedContainer:"Y_dRA",msgContent:"D_F ab_C o_h"},isAdFeedbackV2Compact:{thankYouContainer:"H_74JI",textContainer:"K_74JI D_F",compactCTA:"D_F ab_C"},isCompactLayout:{thankYouContainer:"H_7rdk",textContainer:"K_7rdk",caption:"o_A",header:"D_F ek_BB gl_FM jb_eo6 i_6Eb4 w_AS J_EP ix_AS K_7rdk",close:"H_7jIs je_0 N_eo6",upgradeNow:"P_eo6 M_Z1EyLxu",thankYou:"U_eo6"},isDarkBackground:{caption:"C_52qC",upgradeNow:"C_52qC",thankYouContainer:"C_52qC I_1I4yPF"}},_key:"Z1TtkNT"}},68113:(e,t,s)=>{"use strict";s.d(t,{SO:()=>a,f7:()=>n,gT:()=>r});const a={SKY:{yaftName:"norrin_ad_sky",darla:{pos:"SKY",clean:"boxSKY",dest:"tgtSKY",w:160,h:620,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},LREC:{yaftName:"norrin_ad_lrec",darla:{pos:"LREC",dest:"tgtLREC",clean:"slot_LREC",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},LREC4:{yaftName:"norrin_ad_lrec4",darla:{pos:"LREC4",dest:"tgtLREC4",clean:"slot_LREC4",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},MON:{yaftName:"norrin_ad_mon",darla:{pos:"MON",dest:"tgtMON",clean:"slot_MON",w:300,h:600,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBASKY:{yaftName:"norrin_ad_ubasky",darla:{pos:"UBASKY",clean:"boxUBASKY",dest:"tgtUBASKY",w:160,h:620,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBAMON:{yaftName:"norrin_ad_ubamon",darla:{pos:"UBAMON",dest:"tgtUBAMON",clean:"slot_UBAMON",w:300,h:600,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBALREC:{yaftName:"norrin_ad_ubalrec",darla:{pos:"UBALREC",dest:"tgtUBALREC",clean:"slot_UBALREC",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}}},n={lang:"en-US",k2Rate:100,k2E2ERate:5,k2ViewRate:100,positions:Object.keys(a).reduce(((e,t)=>(e[t]=a[t].darla,e)),{}),auto_render:!0,focusProtection:!0,renderTimeout:6e4},r={POSITIVE:"POSITIVE",NEGATIVE:"NEGATIVE"}},89812:e=>{"use strict";e.exports={className:{default:{container:"s_3zJDR d_3mS2U k_w I_52qC D_F el_QDCVj ab_FT",header:"M_0 P_2Xpez D_F ab_AJ A_6FsP",spaceid:"P_Z1E2XDm",positionRow:"P_Z1E2XDm D_F",positionCol:"F_N",button:"ac_C I_Z2aVTcY C_52qC M_Z3NB4K b_0 H_6NIX s_3n93F",link:"F_N S_U C_Z2aVTcY",buttonContainer:"D_F M_A"}},_key:"Z1ynbNt"}},23918:e=>{"use strict";e.exports={className:{default:{adImage:"e_0"},circleShape:{adImage:"e_e5X"}},_key:"Z1KMEh2"}},98217:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({all_mail_title:{id:"advanced_search.all_mail_title",defaultMessage:"All mail"},unknown_folder_title:{id:"advanced_search.unknown_folder_title",defaultMessage:"Unknown Folder"},system_folder_label:{id:"advanced_search.system_folder_label",defaultMessage:"Select this system folder for searching"},custom_folder_label:{id:"advanced_search.custom_folder_label",defaultMessage:"Select this custom folder for searching"},yahoo_account_description:{id:"advanced_search.yahoo_brand_name",defaultMessage:"Yahoo"},gmail_account_description:{id:"advanced_search.gmail_brand_name",defaultMessage:"Gmail"},aol_account_description:{id:"advanced_search.aol_brand_name",defaultMessage:"Aol"},outlook_account_description:{id:"advanced_search.outlook_brand_name",defaultMessage:"Outlook"},unknown_account_description:{id:"advanced_search.unknown_account_description",defaultMessage:"Unknown"}})},56773:e=>{"use strict";e.exports={className:{default:{shadedContainer:"I_ZnwrMC D_F em_N o_h W_6D6F H_6D6F",container:"D_F em_N o_h s_1HLnlu",leftRail:"a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU D_F ek_BB em_0",leftRailWide:"a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU D_F ek_BB em_0",mainContent:"em_N gl_C I_52qC j_ZlOSbd o_h p_R D_F s_e5X x_Z14vXdP",widthRestrictor:"D_F em_N ej_eUh o_h",mainNavigation:"em_N je_6Fd5 D_F W_6D6F H_6D6F iz_A"},"verticalPreviewPane-false":{container:"s_1HCsWR"},"themeMode-MEDIUM":{shadedContainer:"I_sgPuT"},darkModeNonPhotoTheme:{shadedContainer:"I_sgPuT",mainContent:"I_29psyX j_n x_ZYfFSw"},darkModePhotoTheme_NIGHT_LANDSCAPE:{shadedContainer:"I_cOYCy",mainContent:"I_cOYF6 j_n x_ZYfFSw"},darkModePhotoTheme_ROADTRIP:{shadedContainer:"I_1iaDqt",mainContent:"I_1iaDt1 j_n x_ZYfFSw"},darkModePhotoTheme_SUNSET_AUSSIE:{shadedContainer:"I_2woiYa",mainContent:"I_2woj1H j_n x_ZYfFSw"},darkModePhotoTheme_LIGHTHOUSE:{shadedContainer:"I_t5YKp",mainContent:"I_t5YMW j_n x_ZYfFSw"}},_key:"Z1r9gOf"}},93505:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>w});var a=s(92743),n=s(99095),r=(s(45697),s(67294)),o=(s(31280),s(37422)),i=s(26),l=s(94766),c=s(43007),d=s(56148),E=s(50621),_=s(65304),u=s(8470),m=s(40918),S=s(10728),p=s(87195),C=s(92559),A=s(76531),T=s(67498),h=s(28182),g=s(76223),I=s.n(g),R=s(24666),O=s.n(R),D=s(7228),N=s(99691),f=s(17016),M=s(94482),L=s(85927),P=s(62201);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function b(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const F=(0,n.defineMessages)({download:{id:"attachment_item.download",defaultMessage:"Download"},untitled:{id:"attachment_item.untitled_filename",defaultMessage:"Untitled"},preview:{id:"attachment_item.preview",defaultMessage:"Preview"}}),U=I()(O());class v extends r.Component{constructor(e){super(e),b(this,"handleSendAsImage",(()=>{this.props.onSendAsInlineImage(this.props.attachment)})),b(this,"renderProgressBar",(()=>{const e=this.getProgressValue();return r.createElement("div",{"data-test-id":"attachment-progress-bar",role:"progressbar","aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"100",className:U.progressBar,style:{width:e+"%"}})})),b(this,"getProgressValue",(()=>{const{contentIdToUploadProgress:e,attachment:{contentId:t}}=this.props;return e[t]||0})),b(this,"displayImageWhenReady",(e=>{this.blobUrl=null,this.imageToLoad=null,this.imageRef.current&&(this.imageRef.current.src=e.target.src)})),b(this,"loadImageInBackground",(e=>{this.blobUrl&&!this.imageToLoad&&(this.imageToLoad=new Image,this.imageToLoad.src=e,this.imageToLoad.onload=this.displayImageWhenReady)})),b(this,"renderContent",((e,t)=>{const{contentId:s,filename:a}=e,{mayContainVirus:n,hasError:d,isUploaded:E,getThumbnailUrl:_}=this.props;let u;switch(t){case o.sSc.SimplifiedTypes.AUDIO:u="audio";break;case o.sSc.SimplifiedTypes.VIDEO:u="video";break;case o.sSc.SimplifiedTypes.IMAGE:u="img"}if(!d(s)&&!E(s)){const s=this.getProgressValue();return t===o.sSc.SimplifiedTypes.IMAGE?(this.blobUrl=e.downloadUrl,r.createElement("div",null,r.createElement(u,{src:e.thumbnailUrl||e.downloadUrl,className:U.media,style:{opacity:"0.3"}}),!s&&r.createElement("div",{className:U.loadingIconContainer},r.createElement(i.Z,null)),this.renderProgressBar())):r.createElement("div",null,s?r.createElement(l.Z,e):r.createElement(i.Z,null),this.renderProgressBar())}if(d(s)||!(0,N.wt)(a))return r.createElement(c.Z,{kind:A.Kinds.ATTENTION,size:A.Sizes.L,colorState:A.ColorStates.WARNING});if(n)return r.createElement(l.Z,y({},e,{disabled:!0}));if(u){const e=_(s);return"img"===u&&this.loadImageInBackground(e),r.createElement(u,{ref:this.imageRef,src:"img"===u&&this.blobUrl||e,className:U.media,"data-test-id":"attachment-thumbnail"})}return r.createElement(l.Z,e)})),b(this,"onMouseEnterChange",(e=>{clearImmediate(this._hoverTimer),e?this.state.hover!==e&&this.setState({hover:e}):this._hoverTimer=setImmediate((()=>{this.state.hover!==e&&this.setState({hover:e})}))})),b(this,"onMouseEventChange",(e=>{this.setState({anchorHover:e})})),b(this,"renderPopoverMenu",(e=>{const{attachment:t,onClick:s,isPreviewEnabled:a,hasGroupId:i}=this.props;return r.createElement(E.ZP,{permittedArrowDirections:[_.Ji.UP,_.Ji.DOWN],zAltitude:S.LSY.POPOVER.HIGH,align:_.xM.END,offset:2*S.mg$,triggerOn:E.XU.CLICK,triggerOff:E.Es.CLICK,className:U.popoverContainer,onContentMouseOver:this.onMouseEnterChange.bind(this,!0),onContentMouseOut:this.onMouseEnterChange.bind(this,!1),isArrowVisible:!1},r.createElement("div",{className:U.itemMenu,onMouseEnter:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1),"data-test-id":"more-option-button"},r.createElement(d.Z,{kind:A.Kinds.MORE,colorStates:{normal:A.ColorStates.COOL_FAINT,hovered:A.ColorStates.SELECTED},size:A.Sizes.XXS})),r.createElement("div",{className:U.menuContainer,"data-test-id":"attachment-menu"},r.createElement(u.Z,{kind:m.F.MENU,focusOnMount:!0},e===o.sSc.Types.IMAGE&&this.props.richTextMode?r.createElement(M.Z,{className:U.menuItem,"data-test-id":"send-as-image-item"},r.createElement(T.Z,{kind:h.F.MENUITEM_PARENT_TEXT_COLOR,onClick:this.handleSendAsImage},r.createElement(n.FormattedMessage,{id:"attachment.send_as_images",defaultMessage:"Send as image"}))):null,r.createElement(M.Z,{className:U.menuItem,"data-test-id":"remote-att-item"},r.createElement(T.Z,{kind:h.F.MENUITEM_PARENT_TEXT_COLOR,onClick:this.props.onRemove},r.createElement(n.FormattedMessage,{id:"attachment.remove",defaultMessage:"Remove"}))),(0,N.Rj)(t,i)&&a?r.createElement(M.Z,{className:U.menuItem,"data-test-id":"preview-att-item"},r.createElement(T.Z,{kind:h.F.MENUITEM_PARENT_TEXT_COLOR,onClick:e=>s((0,f.getInteractionFromEvent)(e))},r.createElement(n.FormattedMessage,{id:"attachment.preview",defaultMessage:"Preview"}))):null)))})),b(this,"_renderPreviewMask",((e,t)=>{const{onClick:s,allowDownload:a}=this.props,n=a?e.previewButtonWrapper:e.previewWrapperMsgList,o=a?e.previewButton:e.previewButtonMsgList,i=this.context.intl.formatMessage(F.preview);return r.createElement("div",{className:n,onClick:e=>s((0,f.getInteractionFromEvent)(e))},r.createElement(T.Z,{"data-test-id":"attachment-item-preview",kind:h.F.PLAIN,className:o,title:i},r.createElement("span",{"aria-hidden":!0},i)),a?r.createElement("div",{className:e.downloadIconOnPreview,"data-test-id":"download-icon",onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},r.createElement(c.Z,{kind:A.Kinds.DOWNLOAD,size:A.Sizes.XS,colorState:this.state.anchorHover?A.ColorStates.PRIMARY_HOVER:A.ColorStates.SELECTED})):null)})),b(this,"_renderDownloadMask",((e,t)=>{const{allowDownload:s}=this.props,a=s?e.noPreviewText:e.noPreviewTextMsgList,o=s?e.noPreviewWrapper:e.noPreviewWrapperMsgList;return r.createElement("div",{className:o,"data-test-id":"attachment-no-preview"},r.createElement("span",{className:a},r.createElement(n.FormattedMessage,{id:"attachment_item.no_preview",defaultMessage:"No Preview"})),s?r.createElement("div",{"data-test-id":"download-icon",className:e.downloadIconOnPreview,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},r.createElement(c.Z,{kind:A.Kinds.DOWNLOAD,size:A.Sizes.XS,colorState:this.state.anchorHover?A.ColorStates.PRIMARY_HOVER:A.ColorStates.SELECTED})):null)})),b(this,"_handleDownloadClick",(e=>{e.preventDefault(),e.stopPropagation(),(0,N.lz)(this.props.attachment)&&this.props.handleDownload({attachment:this.props.attachment,i13nModel:{mKey:C.JE.DOWNLOAD_ATTACHMENT,sec:C.nJ.MSG_READ_ATTACHMENT,mKeyGroup:C.rO.dwnldAttmnt}})})),this._hoverTimer=null,this.imageRef=r.createRef(),this.state={hover:!1,anchorHover:!1}}componentWillUnmount(){clearImmediate(this._hoverTimer)}render(){const{attachment:e={},allowDownload:t,readOnly:s,isPreviewEnabled:a,mayContainVirus:n,previewWithoutDownload:i,smallPreview:l,isCompact:c,hasGroupId:d}=this.props,{filename:E="",subtype:_,type:u,state:m,size:S}=e,{formatMessage:C}=this.context.intl,A=(0,N.mD)(E),T=m===o.rUt.LOADING,h=(0,N.SA)(u,_),g=a&&(0,N.Rj)(e,d),R=(0,N.Rj)(e,d)||(0,N.lz)(e),f=t&&!T,M=D.D(E),L=E?D.E(E,M):C(F.untitled),P=C(F.download),y=(0,p.Xx)(S,1),b=(t||i)&&R&&d&&this.state.hover,U=I()(O(),{type:A||h,state:m,anchorHover:this.state.anchorHover,spam:n,smallPreview:l,isPreviewEnabled:a,hover:this.state.hover,isCompact:c,unsupportedFileType:!(0,N.wt)(E)});return r.createElement("div",{className:U.container,"data-test-id":"attachment-item"},!s&&this.state.hover&&this.renderPopoverMenu(h),r.createElement("div",{"data-test-id":"attachment-container",className:U.content,onMouseOver:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1)},r.createElement("div",{className:U.mediaContent},this.renderContent(e,h)),b?r.createElement("div",{className:U.hoverMask},g?this._renderPreviewMask(U,P):this._renderDownloadMask(U,P)):null),r.createElement("div",{className:U.label,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},f?r.createElement("div",{className:U.downloadIcon,onClick:this._handleDownloadClick,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},r.createElement("a",{"data-test-id":"attachment-download",href:e.downloadUrl,className:U.downloadIconWrapper},r.createElement("span",{className:U.downloadFilename,title:e.filename},r.createElement("div",{className:U.filename},r.createElement("span",{className:U.labelBaseName},r.createElement("span",null,L)),r.createElement("span",null,M)),r.createElement("div",{className:U.fileSize},y)))):r.createElement("span",{className:U.filenameContainer,title:e.filename},r.createElement("div",{className:U.filename},r.createElement("span",{className:U.labelBaseName},r.createElement("span",null,L)),r.createElement("span",null,M)),l?null:r.createElement("div",{className:U.fileSize},y))))}}b(v,"contextTypes",{intl:n.intlShape.isRequired}),b(v,"defaultProps",{smallPreview:!1,previewWithoutDownload:!1,contentIdToUploadProgress:{}});const w=(0,a.connect)(((e,t)=>{const{getAttachmentsSelectors:s,getComposeSessionsSelectors:a,getRoute:n,getGroupIdContainingMessageId:r,isFeatureEnabled:i,getComposeFormatsSelectors:l}=(0,L.selectors)(e),{hasError:c,isUploaded:d,getThumbnailUrl:E}=s(),{getAllComposeFormats:_}=l(),{getAttachmentProgress:u,doesComposeSessionExist:m,getDraftMessageId:S}=a(),{name:p,params:C}=n();let A;const T=-1!==[o.n8z.NEW_DRAFT,o.n8z.EDIT_DRAFT].indexOf(p);T&&(A=C.csid),A=A||t.csid;const h=i(o.ANe.COMPACT_COMPOSE)&&_().includes(A);return{hasError:c,isUploaded:d,getThumbnailUrl:E,contentIdToUploadProgress:m(t.csid)?u(t.csid):void 0,hasGroupId:!T&&!h||Boolean((()=>{const e=m(A)&&S(A);return e?r(e):void 0})())}}),(e=>({handleDownload({attachment:t,i13nModel:s}){e((0,P.Ve)({attachment:t,i13nModel:s}))}})))(v)},26453:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>M});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=(s(31280),s(99691)),l=s(93505),c=s(62201),d=s(76223),E=s.n(d),_=s(85313),u=s.n(_),m=s(92559),S=s(43007),p=s(76531),C=s(51892),A=s(9333),T=s(92743),h=s(85927),g=s(37422),I=s(40315),R=s(64059);function O(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const D=E()(u()),N=(0,o.defineMessages)({title:{id:"learnmore.title",defaultMessage:"Attachments cannot be downloaded"},content:{id:"learnmore.content",defaultMessage:"Attachments in emails marked as Spam may contain harmful content.            To download attachments in this email, please move the email out of the Spam folder."},warningIcon:{id:"learnmore.warning",defaultMessage:"Warning"},harmfulAttachment:{id:"attachment.harmfulContent",defaultMessage:"This email was moved from Spam folder. Attachments may contain harmful content."},unsupportedFileType:{id:"attachment.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."}});class f extends r.Component{constructor(e){super(e),O(this,"onItemRemove",(e=>{this.props.readOnly||this.props.onAttachmentRemove(e)})),O(this,"_handleDownloadAllClick",((e,t)=>{e.stopPropagation(),e.preventDefault();const s=this.getDownloadAllFilename(),{id:a,downloadAllUrl:n}=this.props.message;this.props.handleDownloadAll({attachments:t,downloadId:a,downloadUrl:n,filename:s,i13nModel:{mKey:m.JE.DOWNLOAD_ATTACHMENT_ALL,sec:m.nJ.MSG_READ_ATTACHMENT,mKeyGroup:m.rO.dwnldAttmnt}})})),O(this,"getDownloadAllFilename",(()=>`Attachments_${this.state.combinedZipFilename}.zip`)),O(this,"_renderWarningMsg",(()=>{const{formatMessage:e}=this.context.intl,{learnMoreShown:t}=this.state;return r.createElement("div",{className:D.spamDownloadWarning},r.createElement(A.default,{colorState:p.ColorStates.WARNING,className:D.attentionIcon,kind:p.Kinds.ATTENTION,size:p.Sizes.XXS,title:e(N.warningIcon)}),r.createElement(o.FormattedMessage,{id:"attachment.dl.warning",defaultMessage:"Attachments cannot be downloaded.","data-test-id":"dl-warning"}),r.createElement("button",{className:D.learnMore,onClick:()=>this.setState({learnMoreShown:!0}),"data-test-id":"learn-more"},r.createElement(o.FormattedMessage,{id:"attachment.learnmore",defaultMessage:"Learn more"})),t?r.createElement(C.Z,{title:e(N.title),message:e(N.content),onAccept:()=>this.setState({learnMoreShown:!1})}):null)})),O(this,"renderSpamAttachmentWarning",(e=>{if(this.props.shouldShowSpamAttachmentWarning(e))return r.createElement("div",{className:D.spamAttachmentWarning},r.createElement(A.default,{colorState:p.ColorStates.WARNING,className:D.attentionIcon,kind:p.Kinds.EXCLAMATION_ALT,size:p.Sizes.XXS,title:this.context.intl.formatMessage(N.harmfulAttachment)}),r.createElement(o.FormattedMessage,N.harmfulAttachment))})),O(this,"renderUnsupportedAttachmentWarning",(()=>{if((0,i.HD)(this.getAttachments(),this.props.allowInline).filter((e=>!(0,i.wt)(e.filename))).length){const{formatMessage:e,locale:t}=this.context.intl,s=e(N.unsupportedFileType);return r.createElement("div",{className:D.attachmentWarning,"data-test-id":"attachment-tray.unsupported-type-warning"},r.createElement(A.default,{colorState:p.ColorStates.WARNING,className:D.attentionIcon,kind:p.Kinds.ATTENTION,size:p.Sizes.XXS,title:s}),s,r.createElement("button",{className:D.attachmentWarningLearnMore,onClick:()=>(0,R.x)((0,g.ITc)(t))},r.createElement(o.FormattedMessage,{id:"alert.learn_more_url",defaultMessage:"Learn more"})))}})),O(this,"getAttachments",(()=>{const{getAttachments:e,attachments:t}=this.props;return e().length?e():t||[]}));const{message:t}=e;this.state={combinedZipFilename:t?L(t.headers.subject):"",learnMoreShown:!1}}render(){const{readOnly:e,allowDownload:t,mayContainVirus:s,onAttachmentPreview:a,message:n,isCompact:c,documentPreviewEnabled:d,allowInline:_}=this.props,m=E()(u(),{isCompact:c,allowInline:_}),C=this.props.cepForward?(0,i.Ij)((0,i.HD)(this.getAttachments())):(0,i.HD)(this.getAttachments(),_),{length:A}=C;return A?r.createElement("div",{className:m.tray},n&&n.downloadAllUrl&&t&&A>1?r.createElement("a",{className:m.downloadAllLink,href:n.downloadAllUrl,"data-test-id":"download-all-attachments",onClick:e=>this._handleDownloadAllClick(e,C)},r.createElement("span",{className:m.downloadAllIcon},r.createElement(S.Z,{kind:p.Kinds.DOWNLOAD,size:p.Sizes.XS,colorState:p.ColorStates.SELECTED})),r.createElement(o.FormattedMessage,{id:"attachment_tray.downloadAll",defaultMessage:"Download all attachments as a zip file"})):null,s?this._renderWarningMsg():null,n&&n.id?this.renderSpamAttachmentWarning(n.id):null,this.renderUnsupportedAttachmentWarning(),r.createElement("ul",{className:m.ul},C.map(((n,o)=>{let E=t;return(0,i.oZ)(n)&&(E=E&&d),r.createElement("li",{key:o,className:m.item,"data-test-id":"attachment-tray-list-item"},r.createElement(l.ZP,{attachment:n,readOnly:e,allowDownload:t,mayContainVirus:s,onRemove:this.onItemRemove.bind(null,n),onClick:a.bind(null,n.id),isPreviewEnabled:E,onSendAsInlineImage:this.props.onSendAsInlineImage,richTextMode:this.props.richTextMode,isCompact:c,csid:this.props.csid}))})))):null}}O(f,"contextTypes",{executeAction:n().func,config:n().object,intl:o.intlShape.isRequired}),O(f,"defaultProps",{onAttachmentRemove:()=>{},onAttachmentPreview:()=>{},richTextMode:!0,getAttachments:()=>[],attachments:[],cepForward:!1,allowInline:!1});const M=(0,T.connect)((e=>{const{getFeaturesSelectors:t}=(0,h.selectors)(e),s=t();return{cepForward:s.isEnabled(g.ANe.CEP_FORWARD),documentPreviewEnabled:s.isEnabled(g.ANe.DOCUMENT_PREVIEW)}}),(e=>({handleDownloadAll({attachments:t,downloadId:s,downloadUrl:a,filename:n,i13nModel:r}){e((0,c.FH)({attachments:t,downloadId:s,downloadUrl:a,filename:n,i13nModel:r}))}})),null,{areOwnPropsEqual:()=>!1})(f);function L(e=""){if(!e||!/[a-z0-9]/i.test(e))return(0,I.Ij)(new Date).replace(/-/g,"");return e.replace(/ /g,"_").replace(/\W/g,"").replace(/_+$/,"").replace(/^_+/,"").substring(0,20)}},24666:e=>{"use strict";e.exports={className:{default:{container:"W_3n93F p_R",content:"I_2iedTo k_w H_7yHc p_R o_h",mediaContent:"D_F ab_C gl_C H_6D6F",media:"W_6D6F",button:"c27KHO0_n b_0 I_ZS20TA C_52qC A_6EqO W_6D6F H_6D6F D_F gl_FM ab_C P_3gJOe",itemMenu:"p_a Z_O T_36JN3 R_36JN3 W_6MGW H_6MGW e_6MGW I_52qC j_20lmjm D_F gl_C ab_C r_P",menuContainer:"P_3HLUz",menuItem:"J_x I4_2ieea9 C4_Z2aVTcY",label:"A_6Eb4 i_6FIA J_x D_F r_P",filename:"D_F u_e69",labelBaseName:"G_e o_h",fileSize:"u_dzD A_6DUj",filenameContainer:"D_F ek_BB o_h J_x C_Z1VRqsb Q_eo6",downloadFilename:"D_F ek_BB o_h J_x C_Z1VRqsb Q_67SN W_3mS2U",loadingIconContainer:"p_a T_0 L_0 W_6D6F H_6D6F D_F gl_C ab_C",progressBar:"W_0 H_dRA I_Z2aVTcY p_a B_0 L_0 lv_1tzisg",hoverMask:"p_a T_0 B_0 L_0 R_0 D_F gl_C",previewButtonWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F r_P",downloadIconOnPreview:"p_a e_dRA i_dBP r_P b_1Ea0ib R_eo6 B_eo6 M_0",noPreviewWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",noPreviewWrapperMsgList:"I_ZnIF8Y D_F ek_BB gl_C em_N W_6D6F b_Z14vXdP P_fq7",previewWrapperMsgList:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",previewButtonMsgList:"u_e69 C_Z2aVTcY P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6EqO",previewButton:"u_e69 C_Z2aVTcY P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6Eb4 Y_6LEV",noPreviewText:"u_e69 C_Z2aVTcY r_BN A_6Eb4 P_Z1E2YFn gl_C t_C q_n b_0 F_N Y_6LEV",noPreviewTextMsgList:"u_e69 C_Z2aVTcY r_BN A_6EqO D_F gl_C t_C i_6EWk",downloadIcon:"en_0",downloadIconWrapper:"D_F",popover:"P_Z1E2YFn u_e69"},unsupportedFileType:{content:"b_Z1222NH"},smallPreview:{container:"W_7Ig6",content:"H_7jIs",label:"A_6DUj i_6EqO Y_eTB"},anchorHover:{downloadFilename:"C_Z2aVTcY",content:"b_2fAfSG",filenameContainer:"C_Z2aVTcY"},spam:{filenameContainer:"C_ZroviD r_BN",label:"r_BN"},hover:{content:"b_2fAfSG",mediaContent:"O_cMp"},isCompact:{mediaContent:"O_N"},"type-image":{mask:"I_ioJaP"},"type-xls":{content:"I_2m2209"},"type-ppt":{content:"I_Z2gRbsK"},"type-doc":{content:"I_Z1gjdlg"},"type-pdf":{content:"I_Z2gRbsK"},"type-compressed":{content:"I_Z21PQN4"},"type-video":{content:"I_18K0L5"},"type-audio":{content:"I_18K0L5"},"type-cal":{content:"I_18K0L5"},"state-ERROR":{content:"I_2iedTo P_dRA",mediaContent:"I_ZnIF8Y",label:"C_Znn46r"}},_key:"ZHF5fg"}},85313:e=>{"use strict";e.exports={className:{default:{attentionIcon:"p_R T_e8l",tray:"P_0 je_fq7",ul:"hd_n D_F eo_HB M_gQyVX P_0",downloadAllLink:"D_F ab_GM C_Z2aVTcY A_6Eb4 r_P",downloadAllIcon:"E_eo6",spamDownloadWarning:"C_Znn46r",learnMore:"I_T b_0 C_Z2aVTcY r_P Q_fq7",item:"E_6Fd5 Y_6LEV",compactItem:"M_1VQXDU",spamAttachmentWarning:"Y_6LEV C_Znn46r",attachmentWarning:"Y_6LEV C_Znn46r A_6Eb4",attachmentWarningLearnMore:"I_T b_0 C_Z2aVTcY r_P Q_eo6 A_6Eb4"},isCompact:{item:"M_1VQXDU",ul:"M_Z9saPG"}},_key:"Z17lKfs"}},80981:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>N});s(45697);var a=s(67294),n=s(92743),r=s(85927),o=s(99095),i=s(91869),l=s(8470),c=s(52021),d=s(17016),E=s(92559),_=s(21679),u=s.n(_),m=s(76223),S=s.n(m),p=s(43007),C=s(76531),A=s(37422),T=s(44908),h=s.n(T),g=s(31057);function I(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const R=S()(u()),O=(0,o.defineMessages)({heading:{id:"blockSenders.heading",defaultMessage:"Block senders"},description:{id:"blockSenders.description",defaultMessage:"Please verify that you want to block messages from the following email senders:"},blockOption:{id:"blockSenders.blockOption",defaultMessage:"Block all future emails"},deleteOption:{id:"blockSenders.deleteOption",defaultMessage:"Delete all existing emails"}});class D extends a.Component{constructor(...e){super(...e),I(this,"state",{sendersChecked:{},blockSendersChecked:!0,deleteMessagesChecked:!0}),I(this,"handleConfirm",(e=>{e.stopPropagation();const{emailIds:t,handleBlockSenders:s,handleBlockSendersWithDelete:a,messageGroupIds:n,listId:r,folderId:o,permanent:i}=this.props,{sendersChecked:l,blockSendersChecked:c,deleteMessagesChecked:_}=this.state,u=t.filter((e=>l[e])),m={mKey:E.JE.BLOCK_SENDERS_SUBMIT,sec:E.nJ.MSG_LIST_TOOLBAR_POPUP,interactionType:(0,d.getInteractionFromEvent)(e)};if(0===u.length)return void this.props.onClose();const S=u.length,p=h()(this.props.blockedSenders.concat(u));if(_){const e={deleteItemsFromSenders:u,i13nModel:m,listId:r,messageGroupIds:n,delta:S,folderId:o,permanent:i};c&&(e.blockSenders=p),a(e)}else c&&s({blockSenders:p,i13nModel:m,delta:S});this.props.onClose()})),I(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose()})),I(this,"handleKeydown",((e,t)=>{/^( )$/.test(t.key)&&(t.preventDefault(),t.stopPropagation(),e())})),I(this,"toggleCheckStatus",(e=>{const t=Object.assign({},this.state.sendersChecked,{[e]:!this.state.sendersChecked[e]});this.setState({sendersChecked:t})})),I(this,"renderItem",((e,t,s)=>a.createElement("a",{onClick:s,className:R.item,tabIndex:-1,onKeyDown:this.handleKeydown.bind(this,s)},a.createElement("span",{className:R.checkbox},a.createElement(p.Z,{kind:e?C.Kinds.CHECKBOX_ON:C.Kinds.CHECKBOX_OFF,size:C.Sizes.XS,colorState:e?C.ColorStates.SELECTED:C.ColorStates.COOL_FAINT})),a.createElement("span",null,t))))}UNSAFE_componentWillMount(){this.setState({sendersChecked:this.props.emailIds.reduce(((e,t)=>({...e,[t]:!0})),{})})}render(){const{formatMessage:e}=this.context.intl,{sendersChecked:t,blockSendersChecked:s,deleteMessagesChecked:n}=this.state;return a.createElement(i.Z,{onAbort:this.handleClose,onConfirm:this.handleConfirm,hideIcon:!0,title:e(O.heading),onOuterClick:()=>{}},a.createElement("div",{"data-test-id":"block-senders-dialog"},a.createElement("div",{className:R.description},e(O.description)),a.createElement("div",{className:R.list},a.createElement(l.Z,{focusOnMount:!0,onEscape:this.props.onClose,tabIndex:0},this.props.emailIds.map((e=>a.createElement("li",{key:e},this.renderItem(t[e],e,this.toggleCheckStatus.bind(this,e))))))),a.createElement("div",{className:R.separator}),a.createElement("a",{onClick:()=>this.setState({blockSendersChecked:!s}),className:R.option,tabIndex:0,onKeyDown:this.handleKeydown.bind(this,(()=>this.setState({blockSendersChecked:!s})))},a.createElement("span",{className:R.checkbox},a.createElement(p.Z,{kind:s?C.Kinds.CHECKBOX_ON:C.Kinds.CHECKBOX_OFF,size:C.Sizes.XS,colorState:s?C.ColorStates.SELECTED:C.ColorStates.COOL_FAINT})),a.createElement("span",null,e(O.blockOption))),a.createElement("a",{onClick:()=>this.setState({deleteMessagesChecked:!n}),className:R.option,tabIndex:0,onKeyDown:this.handleKeydown.bind(this,(()=>this.setState({deleteMessagesChecked:!n})))},a.createElement("span",{className:R.checkbox},a.createElement(p.Z,{kind:n?C.Kinds.CHECKBOX_ON:C.Kinds.CHECKBOX_OFF,size:C.Sizes.XS,colorState:n?C.ColorStates.SELECTED:C.ColorStates.COOL_FAINT})),a.createElement("span",null,e(O.deleteOption)))))}}I(D,"contextTypes",{intl:o.intlShape.isRequired}),I(D,"defaultProps",{blockedSenders:[],emailIds:[]});const N=(0,n.connect)(((e,t)=>{const{messageGroupIds:s,onClose:a,emailIds:n}=t,{getSenderEmailIdsFromMessageGroup:o,getFeaturesSelectors:i,getFoldersSelectors:l}=(0,r.selectors)(e),c=i().getSetting(A.Zrf.DELIVERY_BLOCKED_SENDERS),d=(0,g.Fh)(t.listId),E=!!d&&l().isPermDeleteFolderType(d);return{emailIds:n&&n.length?n:o(s),onClose:a,blockedSenders:c,folderId:d,permanent:E}}),(e=>({handleBlockSenders:t=>e((0,c.ZP)(t)),handleBlockSendersWithDelete:t=>e((0,c.UT)(t))})))(D)},21679:e=>{"use strict";e.exports={className:{default:{description:"u_dPo C_Z1YRXYn U_6Eb4",list:"Q_69rk K_3o5DP P_dBP iz_A",item:"D_F ab_C u_e69 r_P I4_1I4yPF I3_1I4yPF",separator:"m_Z14vXdP M_1HT1B4",checkbox:"P_eo6 D_F",option:"D_F ab_C Q_69bz u_e69 r_P"}},_key:"Z29xpGK"}},54400:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({mailBrandName:{id:"mail.yahoo_mail_brand_name",defaultMessage:"Yahoo Mail"},brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"},yahooMailPlusBrandName:{id:"mail.yahoo_mail_plus_branding",defaultMessage:"Yahoo Mail Plus"},yahooMailPlusAttBrandName:{id:"mail.att.yahoo_mail_plus_branding",defaultMessage:"AT&T Yahoo Mail Plus"}})},40902:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});s(45697);var a=s(67294),n=s(99095),r=s(37422),o=s(40315);class i extends a.Component{render(){const{daysUntilExpiry:e,type:t}=this.props;if(t===r.F6k.OFFER_CARDS||e>1&&e<=6){const s=(0,o.MI)((0,o.Ux)(),e),i=a.createElement(n.FormattedDate,{value:s,weekday:"long"}),l=a.createElement(n.FormattedDate,{value:s,year:"numeric",month:"2-digit",day:"2-digit"}),c=t===r.F6k.OFFER_CARDS?l:i;return a.createElement(n.FormattedMessage,{id:"expires_on_a_date",defaultMessage:"Expires on {expireMsg}",values:{expireMsg:c}})}return a.createElement(n.FormattedMessage,{id:"expires_in_n_days",defaultMessage:"Expires {daysUntilExpiry, plural, =0 {today} =1 {tomorrow} other {in # days}}",values:{daysUntilExpiry:e}})}}},11396:e=>{"use strict";e.exports={className:{default:{merchantCardContainer:"ab_C D_F ek_EZ u_b gl_FM M_6Fd5 H_72FG",textWrapper:"ab_C D_F",textLeft:"ab_C D_F E_6Eb4",textRight:"D_F ek_BB",textName:"A_6FsP C_Z281SGl",textLink:"H_6EGz",actionWrapper:"E_73HH"}},_key:"1ydLBT"}},54815:e=>{"use strict";e.exports={className:{default:{dialog:"W_3AgV8 I_52qC D_F ek_BB e_eTB ab_C jb_6Eb4",close:"ac_CH M_C04i4",imgContainer:"D_F ab_C U_6Eb4",logo:"H_7jIs W_7jIs e_e5X",subtitleContainer:"D_F ek_BB ab_C",subtitle:"A_6FsP u_e69 U_6UbO",stepContainer:"D_F ab_C",step:"D_F ek_BB ab_C gl_C t_C W_3mT4V",stepTitle:"D_F gl_CI",stepNumber:"ab_C I_Z1YRXYn e_e5X C_52qC D_F H_6Mbr gl_C E_fq7 t_C W_6Mbr",stepText:"A_6Eb4 i_6CAX M_Z1ptmNy W_7HtP H_73cc",inputFieldContainer:"D_F m_2fAfSG jb_eo6 H_6UX5 W_3vqtr",inputField:"q_T H_6NIX A_6MGW jw_n b_n a_3z5BY X_fq7 ir3_n",digits:"H_6UX5 W_6UHk je_eTB X_6DEy A_6EqO C_Z1VRqsb",checkmark:"H_6UX5 W_6UHk je_eTB X_6DEy",policy:"A_6DUj C_Z1VRqsb H_6Urz W_3vqtr je_6Eb4",error:"A_6DUj M_Y4lw4 C_ZnTFMv H_6FIA W_3vqtr",headerText:"H_6FsP A_6EGz u_e69 jb_fq7 N_3nGCH",test:"W_3vqtr H_7jsH",noError:"v_h A_6DUj M_Y4lw4 H_6FIA W_3vqtr",registrationInfo:"v_h A_6DUj M_Z14OrCK C_Z1VRqsb H_7iGr",errorInfo:"A_6DUj C_Z1VRqsb H_73Xs W_3vqtr",overlayContainer:"W_0",overlay:"W_7jIs H_7jIs h_ZE41ng q_Z1WGv5u O_6uA1 e_e5X"},isPhone:{checkmark:"X_6TFj",digits:"X_6TFj"}},_key:"Z2pW2SV"}},44359:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>g});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=s(57938),l=s.n(i),c=s(37422),d=s(23492),E=s(56148),_=s(43007),u=s(76531),m=s(20305),S=s(92559),p=s(92743),C=s(30982),A=s(85927);function T(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class h extends a.Component{constructor(...e){super(...e),T(this,"state",{selectedIndex:-1}),T(this,"getRapidSectionValue",(()=>{const{isMenuMode:e,isCueMode:t}=this.props;let s=S.nJ.SETTINGS_CATEGORIZATION_TAB;return e?s=S.nJ.TABS_MENU:t&&(s=S.nJ.FEATURE_CUE),s})),T(this,"onChange",((e,t)=>{const{smartViews:s,isCueMode:a,onTryNow:n}=this.props,r=s.map(((t,s)=>s===e?{...t,status:t.status?0:1}:t)),o={mKey:S.JE.SETTINGS_CATEGORIZATION_CHANGE,sec:this.getRapidSectionValue(),interactionType:S.Rb.click,actionData:{smartView:r[e].name,status:r[e].status}};a&&n(t),this.saveSmartViews(r,o)})),T(this,"saveSmartViews",((e,t)=>{this.props.changeSettings({name:c.Zrf.SYSTEM_TABS,value:e.filter((({name:e})=>!!c.B_Z[e])).map((({name:e,status:t})=>c.B_Z[e]+":"+t)),i13nModel:t})})),T(this,"moveSmartViews",((e,t)=>{const{smartViews:s}=this.props,a=s.slice(),n=Object.assign({},a[t]),r=t+(e?-1:1),o={mKey:S.JE.SETTINGS_CATEGORIZATION_ORDER,sec:this.getRapidSectionValue(),interactionType:S.Rb.click,actionData:{direction:e?"up":"down"}};r>=0&&r<a.length&&(a[t]=Object.assign({},a[r]),a[r]=n,this.setState({selectedIndex:r},(()=>{this.saveSmartViews(a,o)})))})),T(this,"renderReorderControls",(()=>{const e=o()(l()),{formatMessage:t}=this.context.intl,{selectedIndex:s}=this.state,r=s<=-1;return a.createElement("div",{className:e.categoriesReorderContainer},a.createElement("div",{className:e.categoriesReorderTitle},a.createElement(n.FormattedMessage,{id:"categories_list_header_text",defaultMessage:"Priority list"})),a.createElement("div",{className:e.categoriesReorderBtnsContainer},a.createElement(E.Z,{"data-test-id":"move-category-up",size:u.Sizes.XS,kind:u.Kinds.ARROW_UP,title:t(m.Z.moveCategoryUp),"aria-label":t(m.Z.moveCategoryUp),onClick:()=>{this.moveSmartViews(!0,s)},colorStates:{normal:r?u.ColorStates.DISABLED:u.ColorStates.NORMAL,hovered:r?u.ColorStates.DISABLED:u.ColorStates.SELECTED},disabled:r}),a.createElement(E.Z,{"data-test-id":"move-category-down",size:u.Sizes.XS,kind:u.Kinds.ARROW_UP,rotate:u.Rotate.D180,title:t(m.Z.moveCategoryDown),"aria-label":t(m.Z.moveCategoryDown),onClick:()=>{this.moveSmartViews(!1,s)},colorStates:{normal:r?u.ColorStates.DISABLED:u.ColorStates.NORMAL,hovered:r?u.ColorStates.DISABLED:u.ColorStates.SELECTED},disabled:r})))})),T(this,"setSelectedIndex",(e=>{this.setState({selectedIndex:e})})),T(this,"handleClick",((e,t)=>{const{isMenuMode:s,isCueMode:a}=this.props;t.stopPropagation(),a||s||this.setSelectedIndex(e)})),T(this,"renderCategories",(e=>{const{formatMessage:t}=this.context.intl,{selectedIndex:s}=this.state,{useCalloutButton:n,smartViews:r,isMenuMode:o,isCueMode:i,showHint:l,showToggleState:E}=this.props,S=o||i,p={[c.K8C.PEOPLE]:{kind:u.Kinds.PEOPLE,colorState:u.ColorStates.SMARTVIEW_PEOPLE},[c.K8C.COUPONS]:{kind:u.Kinds.SHOPPING,colorState:u.ColorStates.SMARTVIEW_SHOPPING}},C=r.length>1;return a.createElement("ol",{className:e.categoriesList},r.map((({name:r,status:o},i)=>{const A=C&&s===i,T=p[r],h=r===c.K8C.COUPONS?c.K8C.SHOPPING:r;let g="";return l&&(g=t(S?m.Z[`smart_view_${h}_SHORT_HINT`]:m.Z[`smart_view_${h}_HINT`])),a.createElement("li",{className:A?e.categorySelected:e.category,onClick:this.handleClick.bind(this,i),key:`category-${i}`},a.createElement(d.Z,{key:r,canToggle:!n,subHeader:!0,toggleEnabled:!!o,header:t(m.Z[`smart_view_${h}`]),hint:g,onToggle:this.onChange.bind(this,i),showToggleState:E,useCalloutButton:n,iconElement:a.createElement("span",{className:e.iconWrapper,"aria-hidden":"true"},a.createElement(_.Z,{kind:T.kind,colorState:T.colorState,size:u.Sizes.S}))}))})))}))}render(){const{isMenuMode:e,isCueMode:t,smartViews:s}=this.props,n=!t&&!e&&s.length>1,r=o()(l(),{isMenuMode:e,isCueMode:t});return a.createElement("div",{className:r.categoriesContainer},n&&this.renderReorderControls(),this.renderCategories(r))}}T(h,"contextTypes",{intl:n.intlShape.isRequired}),T(h,"defaultProps",{isMenuMode:!1,isCueMode:!1,showHint:!1,showToggleState:!1,onTryNow:()=>{}});const g=(0,p.connect)((e=>{const{getSetting:t}=(0,A.selectors)(e);return{smartViews:t(c.Zrf.SYSTEM_TABS)}}),(e=>({changeSettings:t=>e((0,C.Dy)(t))})))(h)},57938:e=>{"use strict";e.exports={className:{default:{categoriesContainer:"W_A",topSection:"D_F",categoriesHeader:"A_6EqO i_6Fd5 P_6Fd5 M_0",categoriesReorderContainer:"m_Z14vXdP D_F gl_FM",categoriesReorderTitle:"u_b A_6EqO i_6LEV M_E8xte",categoriesReorderBtnsContainer:"ab_C D_F",categoriesList:"hd_n M_0 P_0",category:"P_fq7 m_ZmUeFv D_F ab_C m8_n",categorySelected:"P_fq7 m_ZmUeFv D_F ab_C m8_n q_2ieeaE",iconWrapper:"Q_eo6 Y_689y"},isMenuMode:{categoriesContainer:"W_3rBgu",category:"P_Z1E2XDm"},isCueMode:{category:"P_fq7"}},_key:"Z263A7t"}},82789:e=>{"use strict";e.exports={className:{default:{properties:"D_F W_A",property:"D_F U_0 r_P M_Z1kd4S1 q_n b_n P_0 C_52qC cdPFi_Z1TsNbA cdPFi4_Z2aVTcY",selectedProperty:"D_F U_0 r_P M_Z1kd4S1 q_n b_n P_0 C_52qC cdPFi_Z2aVTcY",calendarIcon:"p_R C_q H_qc",calendarIconButton:"b_n P_0 p_R C_q H_qc r_P I_T",calendarDateText:"p_a A_pG C_q u_e69 T_e5X L_e5X h_16Wm1O",icon:"W_6LEV H_6LEV cdPFi_q",helpMenuContainer:"M_0 hd_n W_3s0hC a_3vNsy P_0",helpMenuItem:"P_6EqO i_6CCo A_6EqO u_e69 D_F ab_C",helpMenuText:"Q_6EqO p_R",helpMenuLink:"D_F",helpMenuLinkText:"C_Z2aVTcY C4_Z29WjXl",helpMenuPhoneText:"C_Z281SGl S_n",separator:"m_Z14vXdP"},verticalLayout:{properties:"ek_BB Y_6EGz",property:"E_0 U_6EGz"},"themeMode-MEDIUM":{property:"cdPFi_2sqbRh C_Z281SGl is_26ISAR cZdTOHS_ZXgLQ3 cdPFi4_52qC",selectedProperty:"cdPFi_52qC C_Z281SGl is_26ISAR cZdTOHS_ZXgLQ3",calendarIconButton:"is_26ISAR cZdTOHS_ZXgLQ3"},"themeMode-DARK":{property:"cdPFi_2sqbRh C_Z281SGl is_26ISAR cZdTOHS_ZXgLQ3 cdPFi4_52qC",selectedProperty:"cdPFi_52qC C_Z281SGl is_26ISAR cZdTOHS_ZXgLQ3",calendarIconButton:"is_26ISAR cZdTOHS_ZXgLQ3"},"themeCombo-LIGHT_ATT":{selectedProperty:"cdPFi_2lcdKJ"},"themeCombo-LIGHT_FRONTIER":{selectedProperty:"cdPFi_Z1VoWer"},"themeCombo-LIGHT_ROGERS":{selectedProperty:"cdPFi_Z1KxAI3"},"themeCombo-LIGHT_BT":{selectedProperty:"cdPFi_2oLgFe"},"themeCombo-LIGHT_SKY":{selectedProperty:"cdPFi_1EhNce"},"themeCombo-LIGHT_AOL":{selectedProperty:"cdPFi_11nHQC"},"themeCombo-LIGHT_SUNRISE":{selectedProperty:"cdPFi_Z1dbuzs"},"themeCombo-LIGHT_AQUA_GREEN":{selectedProperty:"cdPFi_Z2q5fnY"},"themeCombo-LIGHT_AQUA_BLUE":{selectedProperty:"cdPFi_3AoN2"},"themeCombo-LIGHT_DEEP_PURPLE":{selectedProperty:"cdPFi_U7vu"},"themeCombo-LIGHT_BLUE_NIGHT":{selectedProperty:"cdPFi_ZqdWbg"},"themeCombo-LIGHT_DARK_GREY":{selectedProperty:"cdPFi_Z1KxAI3"},"themeCombo-LIGHT_NIGHT_LANDSCAPE":{selectedProperty:"cdPFi_2siI7q"},"themeCombo-LIGHT_ROADTRIP":{selectedProperty:"cdPFi_MHjSW"},"themeCombo-LIGHT_SUNSET_AUSSIE":{selectedProperty:"cdPFi_Z1dbuzs"},"themeCombo-LIGHT_LIGHTHOUSE":{selectedProperty:"cdPFi_Z23EoD8"}},_key:"ZJA01L"}},48626:e=>{"use strict";e.exports={className:{default:{properties:"D_F en_0 gl_FM je_6Fd5 jb_6Fd5 N_6Fd5 X_6Fd5 H_7bcz k_w I_52qC m_Z14vXdP U_67SN",container:"Z_qc"},verticalLayout:{container:"H_6D6F",properties:"ek_BB gl_CI H_6D6F ab_C"},"themeMode-DARK":{properties:"I_sgPuT m_ZYfFSw U_0"},"themeMode-MEDIUM":{properties:"I_sgPuT m_ZYfFSw U_0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{properties:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{properties:"I_t5YMW"}},_key:"27ADHP"}},25319:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>b});s(45697);var a=s(67294),n=s(99095),r=s(63352),o=s(64828),i=s(66679),l=s(21939),c=s(19822),d=s(76439),E=s.n(d),_=s(93332),u=s.n(_),m=s(76223),S=s.n(m),p=s(43007),C=s(76531),A=s(9333),T=s(67498),h=s(8470),g=s(94482),I=s(77078),R=s(78041),O=s(10728);function D(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const N=S()(E()),f=S()(u()),M=(0,n.defineMessages)({foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class L extends a.Component{constructor(...e){super(...e),D(this,"handleBackButton",(e=>{e.stopPropagation(),this.props.goToMainMenu()})),D(this,"onColorChange",((e,t)=>{e(t)}))}render(){const{formatMessage:e}=this.context.intl,t=e(M.foreground_color_text_label),{onFGColorChange:s,onBGColorChange:r,swatchColors:d,selectedFGColor:E,selectedBGColor:_}=this.props,u=e(M.background_color_text_label),m=(0,c.getSixDigitHexColor)(E),S=(0,c.getSixDigitHexColor)(_),T=d.map((e=>{const t=`#${e}`;return a.createElement(y,{key:"fc-"+e,name:"fc-"+e,color:t,selected:m===t,onClick:this.onColorChange.bind(this,s,t),isDark:P(e)})})),g=d.map((e=>{const t=`#${e}`;return a.createElement(y,{key:"bc-"+e,name:"bc-"+e,color:t,selected:S===t,onClick:this.onColorChange.bind(this,r,t),isDark:P(e)})}));return a.createElement(l.Z,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu},this.props.parentMenu?a.createElement(i.Z,{style:{display:"none"}}):a.createElement(i.Z,{"data-test-id":"icon-btn-text_color",title:t,"aria-label":t},a.createElement(p.Z,{kind:C.Kinds.TEXT_COLOR,size:C.Sizes.XS,colorState:C.ColorStates.NORMAL})),a.createElement(o.ZP,{menuLayout:R.A.VERTICAL,"data-test-id":"color-picker"},this.props.parentMenu?a.createElement(A.default,{title:e(M.back_button_text_label),kind:C.Kinds.ARROW_UP,size:C.Sizes.XS,rotate:C.Rotate.D270,colorState:C.ColorStates.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_color_back"},a.createElement("span",{className:f.backButtonLabel},a.createElement(n.FormattedMessage,M.back_button_text_label))):"",a.createElement("div",{className:this.props.parentMenu?N.subColorMenu:N.colorMenu},a.createElement(h.Z,{layout:R.A.HORIZONTAL},a.createElement("li",{className:N.swatchItem},a.createElement("div",{className:N.swatchTitleBase},a.createElement(n.FormattedMessage,M.foreground_color_text_label)),a.createElement("div",{className:N.swatchContent},a.createElement(h.Z,{layout:R.A.GRID},T))),a.createElement("li",{className:N.swatchItem},a.createElement("div",{className:N.swatchTitleBase},a.createElement(n.FormattedMessage,M.background_color_text_label)),a.createElement("div",{className:N.swatchContent},a.createElement(h.Z,{layout:R.A.GRID,title:u},g)))))))}}function P(e){(0,r.Z)(6===e.length,"Expect input to be 6 digit hex color");const t=parseInt(e.slice(0,2),16)/255,s=parseInt(e.slice(2,4),16)/255,a=parseInt(e.slice(4,6),16)/255;return(Math.max(t,s,a)+Math.min(t,s,a))/2<.55}function y({color:e,selected:t,name:s,isDark:n,onClick:r}){const o={backgroundColor:e,boxShadow:e===O.E6z.vzm_white?"inset 0 0 0 1px #e2e2e6":null};return a.createElement(g.Z,{name:s,kind:I.F.GRID},a.createElement("div",{className:N.colorElement},a.createElement(T.Z,{title:e,className:N.color,style:o,onClick:r},t&&a.createElement(p.Z,{kind:C.Kinds.CHECKMARK,size:C.Sizes.XXS,colorState:n?C.ColorStates.INVERTED:C.ColorStates.NORMAL}))))}D(L,"contextTypes",{intl:n.intlShape.isRequired}),D(L,"DEFAULTS",{FG_COLOR:O.E6z.vzm_black,BG_COLOR:O.E6z.vzm_white}),D(L,"defaultProps",{swatchColors:["000000","808080","ffffff","9d1811","cd232c","d36a53","a46016","dd902f","e4ac64","ac9e19","fdef2b","fdf869","5b8828","8fca40","add773","4c76a2","70aced","7dbef1","440062","652191","845aa7","9c005c","cb008e","d264aa"],parentMenu:null});const b=L},31953:(e,t,s)=>{"use strict";s.d(t,{Z:()=>ie});var a=s(45697),n=s.n(a),r=s(67294),o=s(73935),i=s(29824),l=s(76223),c=s.n(l),d=s(99163),E=s.n(d),_=s(99095),u=s(31280),m=s(43007),S=s(19822),p=s(37422),C=s(76531),A=s(70582),T=(s(95406),s(87771)),h=s(35960),g=s(67498),I=s(9333),R=s(69511),O=s(39195),D=s.n(O),N=s(51892),f=s(7449),M=s(64059);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function P(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const y=(0,_.defineMessages)({link_text_placeholder:{id:"compose.link_placeholder",defaultMessage:"Display text"},close:{id:"compose.link_close",defaultMessage:"Close"},error_title:{id:"compose.link_error_title",defaultMessage:"Error"},open_link_alert:{id:"compose.link_test_error",defaultMessage:"This link cannot be tested."}}),b=/^(?:https?|ftp|mailto):(?:\/\/)?/i;class F extends r.Component{constructor(...e){super(...e),P(this,"state",{focusOnLinkInput:!1,saveBtnEnabled:!1,showTestAlert:!1,isTextModified:!1}),P(this,"saveLink",(()=>{let e,t=this.linkInput.value.trim();const s=this.textInput.value.trim();!this.state.isTextModified&&s||(e=s||t.replace(b,"")),b.test(t)||(t="http://"+t),this.props.onSave(e,t)})),P(this,"handleClose",(()=>{this.props.onClose()})),P(this,"handleKeyDown",(e=>{e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),this.saveLink()):"Escape"===e.key&&(e.preventDefault(),this.handleClose())})),P(this,"toggleTestLink",(e=>{this.setState({focusOnLinkInput:e})})),P(this,"openTestLink",(()=>{const e=this.linkInput.value.trim(),t=b.test(e);if(!e.replace(b,""))return;(0,M.x)(t?e:`http://${e}`)||this.setState({showTestAlert:!0})})),P(this,"handleTextInput",(()=>{this.state.isTextModified||this.setState({isTextModified:!0})})),P(this,"handleLinkInput",(()=>{const e=this.linkInput.value.trim();""===e||"http://"===e?this.setState({saveBtnEnabled:!1}):this.setState({saveBtnEnabled:!0})})),P(this,"hideTestAlertDialog",(()=>{this.setState({showTestAlert:!1})}))}componentDidMount(){const{anchorNode:e}=this.props,{left:t,top:s}=(0,f.E)(e,this.dropdown);(s>document.getElementById("app").clientHeight||s<0)&&e.parentNode.scrollIntoView(),Object.assign(this.dropdown.style,{left:t+"px",top:(0,f.E)(e,this.dropdown).top+"px"}),this.timeout=setTimeout((()=>{const e=this.linkInput.value,t=e&&e.trim().length||0;this.linkInput.focus(),this.linkInput.setSelectionRange(t,t)}),0)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}render(){var e;const{textInput:t,linkInput:s}=this.props,{saveBtnEnabled:a,focusOnLinkInput:n}=this.state,o=!(s||a),i=this.context.intl.formatMessage,l=i(y.link_text_placeholder),d=c()(D(),{saveBtnEnabled:!o,focusOnLinkInput:n}),E=(0,R.getTextDirection)(t||l),u=(null===(e=this.context.partner)||void 0===e?void 0:e.toUpperCase())===p.Bs7.AOL?"https://www.aol.com":"https://www.yahoo.com";return r.createElement(h.Z,null,r.createElement("div",{ref:e=>this.dropdown=e,className:d.container,onKeyDown:this.handleKeyDown,"data-test-id":"hyperlink-plugin"},this.state.showTestAlert?r.createElement(N.Z,{title:i(y.error_title),message:i(y.open_link_alert),onAccept:this.hideTestAlertDialog}):null,r.createElement("div",{className:d.close},r.createElement(I.default,{onClick:this.handleClose,kind:C.Kinds.CLOSE,size:C.Sizes.XXS,title:i(y.close),"aria-label":i(y.close)})),r.createElement("div",{className:d.item},r.createElement("input",L({ref:e=>this.textInput=e,className:d.textInput,placeholder:i(y.link_text_placeholder),onFocus:this.handleLinkInput,defaultValue:t,onChange:this.handleTextInput},E&&{dir:E}))),r.createElement("div",{className:d.item},r.createElement("input",{ref:e=>this.linkInput=e,className:d.linkInput,placeholder:u,onFocus:this.toggleTestLink.bind(this,!0),onBlur:this.toggleTestLink.bind(this,!1),onChange:this.handleLinkInput,defaultValue:s}),r.createElement("span",{"data-test-id":"testLinkInput",className:d.testLink,onMouseDown:this.openTestLink},r.createElement(_.FormattedMessage,{id:"compose.test_hyperlink",defaultMessage:"Test"}))),r.createElement("div",{className:d.item},r.createElement(g.Z,{onClick:this.saveLink,className:d.button,disabled:o},r.createElement(_.FormattedMessage,{id:"compose.save_hyperlink",defaultMessage:"Save"})))))}}P(F,"contextTypes",{intl:_.intlShape.isRequired,partner:n().string});const U=F;var v=s(2801),w=s.n(v);function G(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const k=/^(?:https?|ftp|mailto):/i,H=c()(w());class B extends r.Component{constructor(...e){super(...e),G(this,"editLink",(()=>{this.props.onEdit()})),G(this,"removeLink",(()=>{this.props.onRemove()}))}componentDidMount(){const{anchorNode:e}=this.props,{left:t,top:s}=(0,f.E)(e,this.container);Object.assign(this.container.style,{left:t+"px",top:s+"px"})}render(){const e=(this.props.goToLinkValue||"").trim(),t=k.test(e);return r.createElement(h.Z,null,r.createElement("div",{className:H.container,ref:e=>this.container=e},r.createElement("div",{className:H.linkWrapper},r.createElement(_.FormattedMessage,{id:"compose.link_go_to",defaultMessage:"Go to"})," ",r.createElement("span",null,t?r.createElement("a",{className:H.link,href:e,rel:"noreferrer",target:"_blank","data-test-id":"anchor"},e):e)),r.createElement("div",{"data-test-id":"editControl",className:H.control,onClick:this.editLink},r.createElement(_.FormattedMessage,{id:"compose.link_edit",defaultMessage:"Edit"})),r.createElement("div",{"data-test-id":"removeControl",className:H.control,onClick:this.removeLink},r.createElement(_.FormattedMessage,{id:"compose.link_remove",defaultMessage:"Remove"}))))}}const x=B;var V=s(69366),W=s.n(V),Z=s(63352),K=s(7320),z=s(7187),q=s.n(z);function Y(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const j=c()(W());class Q extends r.Component{constructor(...e){super(...e),Y(this,"state",{renderGoToLink:!1,renderHyperlinkDropdown:!1,textInput:"",linkInput:"",goToLinkValue:""}),Y(this,"handleClick",(e=>{"A"===e.target.nodeName&&-1===e.target.className.indexOf(K.HYPERLINK_PLUGIN_IGNORE_CLASS)?this.props.editor.pushButton("clicklink",e.target):this.hideGoToLink()})),Y(this,"_getFirstCurrentLinkNodes",(()=>this._currentLinkNodes[0])),Y(this,"_setCurrentLinkNodes",(e=>{Array.isArray(e)?this._currentLinkNodes=e:"[object NodeList]"===Object.prototype.toString.call(e)?this._currentLinkNodes=Array.prototype.slice.call(e):this._currentLinkNodes=[e]})),Y(this,"createNewLink",(e=>{let t=e;const s=t.parentNode;"A"===s.nodeName?t=s:(this.props.editor.pushButton("insertHTML","<a data-tmp>_</a>"),t=s.querySelector("[data-tmp]")),t&&(this._setCurrentLinkNodes(t),this._getFirstCurrentLinkNodes().innerHTML="",this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:t,textInput:t.textContent||"",linkInput:t.hasAttribute("href")?t.getAttribute("href").trim():"http://"}))})),Y(this,"createLinkFromSelection",(e=>{let t=e;t.nodeType===Node.TEXT_NODE?"A"!==t.parentNode.nodeName?(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')):t=t.parentNode:"A"!==t.nodeName&&(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')),(0,Z.Z)(t,"Cannot find anchor element to create link"),this._setCurrentLinkNodes(t),this.showHyperLinkDropdown()})),Y(this,"showHyperLinkDropdown",(()=>{var e;if(!this._currentLinkNodes&&this._currentLinkNodes.length<1)return;const t=this._getFirstCurrentLinkNodes(),s=(null==t||null===(e=t.getAttribute("href"))||void 0===e?void 0:e.trim())||"";this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:this._currentLinkNodes[this._currentLinkNodes.length-1],textInput:this._currentLinkNodes[this._currentLinkNodes.length-1].textContent,linkInput:s})})),Y(this,"hideHyperLinkDropdown",(()=>{this.setState({renderHyperlinkDropdown:!1})})),Y(this,"updateLink",((e,t)=>{const{editor:s}=this.props;if(this.hideHyperLinkDropdown(),!this._currentLinkNodes)return;this.props.editor.focus(),this._getFirstCurrentLinkNodes().focus();const a=window.getSelection(),n=document.createRange();let r;const o=this._currentLinkNodes.length;this._currentLinkNodes.forEach(((s,a)=>{r=document.createElement("a"),r.innerHTML=a===o-1?q()(e)||s.innerHTML:s.innerHTML||q()(e),r.href=t,s.parentElement.replaceChild(r,s)})),this._currentLinkNodes=null,n.setStartAfter(r),n.setEndAfter(r),a.removeAllRanges(),a.addRange(n),n.collapse(),a.collapseToEnd(),s.contentChanged({type:"link",node:r}),document.execCommand("unlink",!1,!1)})),Y(this,"cancelCreateOrEditLink",(()=>{this.hideHyperLinkDropdown(),!this._currentLinkNodes||this._getFirstCurrentLinkNodes().getAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()||this.removeCurrentLinkNodes()})),Y(this,"removeCurrentLinkNodes",(()=>{let e;this._currentLinkNodes.filter((e=>this.props.editor.element.contains(e))).forEach((t=>{e=t.parentElement;[].slice.call(t.childNodes).forEach((s=>{!s||s.nodeType===Node.TEXT_NODE&&""===s.textContent||e.insertBefore(s,t)})),e.removeChild(t),e.normalize(),window.getSelection().removeAllRanges();const s=document.createRange();s.setStartAfter(e),s.setEndAfter(e),window.getSelection().addRange(s),window.getSelection().collapseToEnd()})),this._currentLinkNodes=null})),Y(this,"showGoToLink",(e=>{this.setState({renderHyperlinkDropdown:!1,renderGoToLink:!0,anchorNode:e,goToLinkValue:e.getAttribute("href")}),this._setCurrentLinkNodes(e)})),Y(this,"hideGoToLink",(()=>{this.setState({renderGoToLink:!1})})),Y(this,"editHyperLink",(()=>{this.showHyperLinkDropdown()})),Y(this,"removeHyperLink",(()=>{this.hideGoToLink(),this.removeCurrentLinkNodes()}))}UNSAFE_componentWillMount(){this.commands={createlink:{action:()=>{const e=window.getSelection();e.isCollapsed?this.createNewLink(e.anchorNode):this.createLinkFromSelection(e.anchorNode)}},clicklink:{action:(e,t)=>{this.showGoToLink(t)}}}}componentDidUpdate(e){this.props.editor!==e.editor&&this.props.editor.addPlugin({commands:this.commands})}render(){return r.createElement("div",{onClick:this.handleClick,className:j.container},this.props.children,this.state.renderHyperlinkDropdown?r.createElement(U,{onSave:this.updateLink,onClose:this.cancelCreateOrEditLink,textInput:this.state.textInput,linkInput:this.state.linkInput,anchorNode:this.state.anchorNode}):null,this.state.renderGoToLink?r.createElement(x,{onEdit:this.editHyperLink,onRemove:this.removeHyperLink,goToLinkValue:this.state.goToLinkValue,anchorNode:this.state.anchorNode}):null)}}const X=Q;var J=s(77953),$=s(35456);class ee{constructor(e){this.isScheduled=!1,this.interval=e,this.buckets=[[],[]]}initBucketCleaner(){this.bucketCleanerInterval=setInterval(this.cleanBuckets.bind(this),this.interval)}stopBucketCleaner(){clearInterval(this.bucketCleanerInterval),this.isScheduled=!1}addToBucket(e){this.buckets[0].push(e),this.isScheduled||(this.isScheduled=!0,this.initBucketCleaner())}cleanBuckets(){this.buckets[this.buckets.length-1].forEach(URL.revokeObjectURL),this.buckets.unshift([]),this.buckets.splice(this.buckets.length-1,1);this.buckets.some((e=>e.length>0))||this.stopBucketCleaner()}}let te;var se=s(8106);function ae(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ne=p.sSc.Dispositions,re=()=>{};class oe extends r.Component{constructor(...e){super(...e),ae(this,"state",{rtePlaceholderVisible:!0,hiddenQuotedText:"",showSendAsAttachmentBtn:!0,hoveredImage:null,imageSize:K.CURRENT_IMAGE_SIZE_STATUS.SMALL}),ae(this,"editorSetup",(e=>{const t=this.refs.rte,{content:s,htmlAnnotations:a,undoStack:n,redoStack:r,initialFocus:o,selectedReplySuggestion:l,isRichTextMode:c,updateToolbarState:d=(()=>{})}=e;if(this.rte||(this.rte=new i.default({element:t,isRich:c,shouldTabIndent:!0,toolbarStateChangeHandler:d,whitelistedAttributes:["style","size","href","src","face","color"],skippedFromMutationObserver:["data-inlineimagemanipulating"]}),this.rte.undoStack=n,this.rte.redoStack=r,this.rte.undoStack.length&&(this.rte.firstUndoSave=!1),this.rte.addPlugin({commands:{add_attachment:{action:()=>{e.onAttachmentShortcut(e.csid)}}},keydownCommands:{[K.RTEKeyModifier.SPECIAL|K.RTEKeyModifier.SHIFT]:{85:"add_attachment"},[K.RTEKeyModifier.SPECIAL]:{75:"createlink"}}})),s){const{quote:e,nonQuote:t}=(0,A._m)(s,a);this.setState({rtePlaceholderVisible:!1,hiddenQuotedText:e},(()=>{(this.props.cursorWithinQuotedText||this.props.autoExpandQuotedText)&&this.state.hiddenQuotedText&&this.expandQuote()})),l&&(this.isListeningForChanges=!0),this.rte.setHTML(t)}else this.isListeningForChanges=!0;this._lazyLoadedPlugins&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins,e),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft(),o&&this.rte.focus(),this.rte.addPlugin({onContentMutated:e=>{this.isListeningForChanges?this.onContentChange("content_mutation",e):this.isListeningForChanges=!0},contentChanged:e=>{e&&e.type&&K.EDITOR_EVENTS[e.type]&&this.onContentChange(e)}})})),ae(this,"onContentChange",(e=>{if(this.isListeningForChanges){const t=e=>"string"==typeof e?e:e&&e.type;this.props.onContentChange({format:{richTextMode:this.rte.isRich},caret:this.rte.getCaretCoordinates(),type:t(e),eventData:e&&e.eventData}),this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})}})),ae(this,"handleSendAsAttachment",(e=>{if(!e)return;const t=e.getAttribute("data-id");t?this.props.onSendAsAttachment(!0,t,null):this.props.onSendAsAttachment(!1,null,(0,S.extractPidFromString)(e.src))})),ae(this,"resizeHoverImage",(e=>{this._inlineImagePlugin.resizeHoverImage(e)})),ae(this,"_resizeLinkEnhancerCard",(e=>{this._linkEnhancerPlugin.handleResizeCard({newSize:e})})),ae(this,"_removeLinkEnhancerCard",(()=>{this._linkEnhancerPlugin.handleRemoveCard()})),ae(this,"_moveLinkEnhancerCard",(()=>{this._linkEnhancerPlugin.handleMoveCardToBottom()})),ae(this,"getInnerHtml",(()=>this.rte.getRawHTML())),ae(this,"getPlainText",(()=>this.rte.getText())),ae(this,"getUndoStack",(()=>this.rte.undoStack)),ae(this,"getRedoStack",(()=>this.rte.redoStack)),ae(this,"getRTEDOMNode",(()=>(0,o.findDOMNode)(this.rte.element))),ae(this,"getRTEWrappedElement",(()=>(0,$.X1)(this.rte.element))),ae(this,"getRawMessageContent",(()=>this.rte.getRawHTML()+this.state.hiddenQuotedText)),ae(this,"containsStationery",(()=>!!this._stationeryPlugin&&this._stationeryPlugin.isStationeryUsed())),ae(this,"handleMouseDown",(()=>{this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})})),ae(this,"handleKeyDown",(e=>{this.props.onKeyDown&&this.props.onKeyDown(e)})),ae(this,"handleQuoteExpand",(e=>{e.preventDefault(),e.stopPropagation(),this.expandQuote()})),ae(this,"expandQuote",(()=>{const{hiddenQuotedText:e}=this.state;let t="";if(this.props.cepForward){const s=e.indexOf("<div fwdid");if(-1===s)t=e;else{const a=e.indexOf(">",s);t=e.substring(0,s)+e.substring(a+1)}this.props.onExpandQuotedText({csid:this.props.csid})}else t=e;this.isListeningForChanges=!t,this.rte.setHTML(t,{isAppend:true,skipContentChanged:!0}),this.setState({hiddenQuotedText:""},(()=>{this.props.cursorWithinQuotedText&&this.props.restoreCursorPosition(!0)})),this.rte.undoStack.concat(this.rte.redoStack).forEach((e=>{const s=(0,J.UZ)(e.html);(0,J.c$)(s,t,true),e.html=s.innerHTML})),this.props.fixImgSrcURL&&this._inlineImagePlugin&&this._inlineImagePlugin.fixImgSrcDomain(),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft()})),ae(this,"updateImgHoverOverlayProps",(e=>{this.setState({showSendAsAttachmentBtn:!1,imageSize:K.CURRENT_IMAGE_SIZE_STATUS.SMALL,...e})})),ae(this,"updateCurrentCardState",(({newCardSize:e,hoveredCard:t})=>{this.setState({cardSize:e,hoveredCard:t})})),ae(this,"handlePluginsLoaded",(e=>{this._lazyLoadedPlugins=e,this.rte&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins)})),ae(this,"_initializeLazyLoadedPlugins",((e,t)=>{const{InlineImagePlugin:s,StationeryPlugin:a,LinkEnhancerPlugin:n,TableFormatterPlugin:r}=e;if(this.props.linkEnhancer&&!this._linkEnhancerPlugin&&(this._linkEnhancerPlugin=new n({rte:this.rte,overlay:(0,o.findDOMNode)(this.refs.linkEnhancerOverlay),apiClient:this.context.linkEnhancerClient,blocklist:this.props.linkEnhancerUrlBlocklist,enhancedLinks:this.props.enhancedLinks,scrollableArea:this.props.scrollableAreaRef,onCardHovered:this.updateCurrentCardState,context:this.context,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom}),this.rte.addPlugin(this._linkEnhancerPlugin)),this.props.stationery&&!this._stationeryPlugin){const{htmlAnnotations:e=[],initialFocus:s}=t||this.props,{onStationeryThemeChange:n,onStationeryDefaultThemeChange:r,rtl:o}=this.props;this._stationeryPlugin=new a({rte:this.rte,htmlAnnotations:e,onThemeChange:n,onDefaultThemeChange:r,context:this.context,fontFamily:this.props.composeFontFamily,rtl:o}),this.rte.addPlugin(this._stationeryPlugin),this._stationeryPlugin.checkAndSetDraft(),!this.containsStationery()&&this.props.canApplyDefaultStationery&&this._stationeryPlugin.update(this.props.getThemeConfig()),s&&this.rte.focus()}this._inlineImagePlugin||(this._inlineImagePlugin=new s({rte:this.rte,getAttachmentInfo:()=>this.props.getAttachments().filter((({id:e="",disposition:t})=>t===ne.INLINE&&!e.includes("inlineImage"))),onImageRemove:this.props.onImageRemove,onImagePaste:this.props.onImagePaste,updateImgHoverOverlayProps:this.updateImgHoverOverlayProps,_overlay:(0,o.findDOMNode)(this.refs.imageOverlay),fixImgSrcURL:this.props.fixImgSrcURL,blobCleaner:se.jU&&URL.revokeObjectURL&&(te||(te=new ee(3e5)),te)}),this._inlineImagePlugin.setScrollableArea(this.props.scrollableAreaRef),this.props.fixImgSrcURL&&this._inlineImagePlugin.fixImgSrcDomain(),this.rte.addPlugin(this._inlineImagePlugin)),this._tableFormatterPlugin||(this._tableFormatterPlugin=new r,this.rte.addPlugin(this._tableFormatterPlugin))})),ae(this,"formatMessage",((e,t={})=>this.context.intl.formatMessage(e,t))),ae(this,"_notifyPlugins",(()=>{const{linkEnhancer:e}=this.props;this._inlineImagePlugin&&(this._inlineImagePlugin.setOverylayNode((0,o.findDOMNode)(this.refs.imageOverlay)),this._inlineImagePlugin.contentChanged("sethtml")),e&&this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setOverylayNode((0,o.findDOMNode)(this.refs.linkEnhancerOverlay)),this._linkEnhancerPlugin.contentChanged("sethtml"))}))}UNSAFE_componentWillMount(){this.isListeningForChanges=!1}componentDidMount(){document.execCommand("enableObjectResizing",!1,"false"),this.editorSetup(this.props)}UNSAFE_componentWillReceiveProps(e){if(e.csid!==this.props.csid&&this.editorSetup(e),(e.composeFontSize!==this.props.composeFontSize||e.composeFontFamily!==this.props.composeFontFamily)&&this.rte){const t=this.rte.element.style,s=(0,S.getFontSizeStyle)(e.composeFontSize),a=e.composeFontFamily.replace(/"/g,""),n=(0,$.X1)(this.rte.element),r=(0,$.yP)(n);if(t.fontSize=s,t.fontFamily=a,n&&!r){const e=n.style;e.fontSize=s,e.fontFamily=a}}this._inlineImagePlugin&&this._inlineImagePlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin.setEnhancedLinks(e.enhancedLinks))}shouldComponentUpdate(e,t){const{props:s,state:a}=this;return e.csid!==s.csid||e.content!==s.content||t.hiddenQuotedText!==a.hiddenQuotedText||t.rtePlaceholderVisible!==a.rtePlaceholderVisible||t.showSendAsAttachmentBtn!==a.showSendAsAttachmentBtn||t.hoveredImage!==a.hoveredImage||t.hoveredCard!==a.hoveredCard||t.imageSize!==a.imageSize||t.cardSize!==a.cardSize||e.contentEditable!==s.contentEditable}componentWillUnmount(){this.rte&&this.rte.destroy()}render(){const{ariaLabel:e,kind:t,contentEditable:a,scrollableAreaRef:n,onImageRemove:o}=this.props,i=c()(E(),{kind:t}),{hiddenQuotedText:l,showSendAsAttachmentBtn:d,imageSize:u,cardSize:p}=this.state,A={fontFamily:this.props.composeFontFamily,fontSize:(0,S.getFontSizeStyle)(this.props.composeFontSize)};return r.createElement("div",{tabIndex:-1,onBlur:this.props.onBlur,"data-test-id":"editorWrapper",className:i.editorWrapper,ref:e=>this.editorWrapper=e},r.createElement("div",{className:i.placeholder,"data-test-id":"rte_placeholder"},this.state.rtePlaceholderVisible?r.createElement(_.FormattedMessage,{id:"compose.rte_placeholder",defaultMessage:"Write something..."}):null),r.createElement(X,{editor:this.rte},r.createElement(T.cr,{import:"./editor_plugin_loader",onLoad:this.handlePluginsLoaded,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,60439))},_moduleResolver:function(){return 60439}}),r.createElement("div",{className:i.editorContainer,id:"editor-container",ref:"editorContainer"},r.createElement("div",{"data-test-id":"rte",role:"textbox",spellCheck:!0,autoCorrect:"off","aria-multiline":!0,contentEditable:a,"aria-label":e,className:"rte "+i.rte,ref:"rte",style:A,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.props.onFocus}),r.createElement(T.cr,{import:"./img_hover_overlay",ref:"imageOverlay",onload:this._notifyPlugins,overlayType:K.RTEHoverOverlayTypes.IMAGE,onHoverImageRemove:this.removeHoverImage,onImageResize:this.resizeHoverImage,onSendAsAttachment:this.handleSendAsAttachment,showSendAsAttachmentBtn:d,hoveredElement:this.state.hoveredImage,onImageRemove:o,imageSize:u,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:n,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,52703))},_moduleResolver:function(){return 52703}}),this.props.linkEnhancer?r.createElement(T.cr,{import:"./img_hover_overlay",onload:this._notifyPlugins,ref:"linkEnhancerOverlay",overlayType:K.RTEHoverOverlayTypes.LINK_ENHANCER_CARD,onCardResize:this._resizeLinkEnhancerCard,onCardRemove:this._removeLinkEnhancerCard,onCardMove:this._moveLinkEnhancerCard,hoveredElement:this.state.hoveredCard,cardSize:p,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:n,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,52703))},_moduleResolver:function(){return 52703}}):null)),l?r.createElement("div",null,r.createElement("button",{"data-test-id":"compose-show-quoted-text",onClick:this.handleQuoteExpand,className:i.button},r.createElement("span",{className:i.buttonInner},r.createElement(m.Z,{kind:C.Kinds.CHEVRON_UP,size:C.Sizes.XXS,rotate:C.Rotate.D90,colorState:C.ColorStates.DISABLED}),r.createElement(_.FormattedMessage,{id:"compose.show_quote",defaultMessage:"Show Original Message"})))):null)}}ae(oe,"contextTypes",{config:n().object,intl:_.intlShape.isRequired,executeAction:n().func,linkEnhancerClient:u.LinkEnhancerClientType}),ae(oe,"defaultProps",{kind:K.EditorTypes.COMPOSE,onStationeryThemeChange:re,onStationeryDefaultThemeChange:re,autoExpandQuotedText:!1,onExpandQuotedText:re,contentEditable:!0,undoStack:[],redoStack:[],getThemeConfig:re,getAttachments:()=>[],canApplyDefaultStationery:!1,isRichTextMode:!0});const ie=oe},97602:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(99095),i=s(19341),l=s(43007),c=s(76531),d=s(79149),E=s.n(d),_=s(7320);function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const m=(0,o.defineMessages)({from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural, one {# contact} other {# contacts}}"},remove_contact:{id:"compose.btn_remove_contact",defaultMessage:"Remove"}});class S extends a.Component{constructor(...e){super(...e),u(this,"state",{hovered:!1,xButtonHovered:!1}),u(this,"getDefaultprops",(()=>({isSelected:!1,allowContactRemoval:!0}))),u(this,"handleMouseOver",(()=>{this.setState({hovered:!0})})),u(this,"handleMouseLeave",(()=>{this.setState({hovered:!1})})),u(this,"renderHighlight",(({string:e="",highlightedTextClassName:t,highlightRange:s=[]})=>{const n=[];let r=0;return s.sort(((e,t)=>e.s===t.s?e.l-t.l:e.s-t.s)),s.forEach((({s,l:o},i,l)=>{const c=s+o;n.push(e.slice(r,s)),n.push(a.createElement("span",{className:t,"data-test-id":"result-match",key:e+i},e.slice(s,c))),r=c,i===l.length-1&&n.push(e.slice(r))})),a.createElement("span",null,n.length?n.map((e=>e)):e)})),u(this,"handleXButtonHover",(e=>{this.setState({xButtonHovered:e})}))}render(){const e=r()(E()),{formatMessage:t}=this.context.intl,s=this.state.xButtonHovered?c.ColorStates.NORMAL:c.ColorStates.DISABLED,{option:n,allowContactRemoval:o=!0}=this.props,{hovered:d}=this.state;return a.createElement("div",{className:e.typeaheadOptionContainer,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"suggest-contact-item-container"},a.createElement("span",{className:e.contactIcon},a.createElement(i.ZP,{contact:{id:n.id},size:i.u8.M})),a.createElement("div",{className:e.textContainer},a.createElement("div",{className:e.name,"data-test-id":"result-name"},this.renderHighlight({string:n.name,highlightedTextClassName:e.highlight,highlightRange:n.filteredResults&&n.filteredResults.fullName})),a.createElement("div",{className:e.email,"data-test-id":"result-email"},n.list?t(m.from_group,{contactCount:n.list.length}):this.renderHighlight({string:n.email,highlightedTextClassName:e.highlight,highlightRange:n.filteredResults&&n.filteredResults.email}))),d&&o?a.createElement("span",{className:e.remove,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1),"data-test-id":"contact-remove-button-wrapper","data-action":_.DELETE_CONTACT},a.createElement(l.Z,{"data-iskeynav":!0,"data-test-id":"contact-remove-button",kind:c.Kinds.CLOSE,size:c.Sizes.XXS,disabled:d,title:t(m.remove_contact),colorState:s})):null)}}u(S,"contextTypes",{intl:o.intlShape.isRequired});const p=S},60937:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>xe});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(92743),l=s(67498),c=s(37422),d=s(94482),E=s(43007),_=s(9333),u=s(76531),m=s(21939),S=s(66679),p=s(64828),C=s(78041),A=s(76223),T=s.n(A),h=s(95004),g=s.n(h),I=s(86460);function R(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const O=T()(g());class D extends r.Component{constructor(...e){super(...e),R(this,"_getColorState",(e=>e?u.ColorStates.PRIMARY_HOVER:u.ColorStates.INHERITED))}render(){const{tooltip:e,onChange:t,showPlainTextToggle:s,strikeThrough:a,justifyleft:n,justifycenter:o,justifyright:i,insertorderedlist:l,insertunorderedlist:c,disabled:A}=this.props,{formatMessage:T}=this.context.intl;return r.createElement(m.Z,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1},r.createElement(S.Z,{"aria-label":e,"data-test-id":"icon-btn-more_tools",title:e},r.createElement(E.Z,{kind:u.Kinds.MORE,size:u.Sizes.XS,colorState:u.ColorStates.INHERITED})),r.createElement(p.ZP,{persistOnClick:!0,disabled:A,focusBackEditor:this.props.focusBackEditor,menuLayout:C.A.HORIZONTAL,"data-test-id":"more-tools"},r.createElement("span",{className:O.sectionDivider}),r.createElement("span",{className:O.rtlIgnoreDir},r.createElement(d.Z,{key:"align-l",name:"align-l"},r.createElement("span",{className:O.icon},r.createElement(_.default,{"aria-label":T(I.Z.leftAlign),title:T(I.Z.leftAlign),kind:u.Kinds.ALIGN_LEFT,size:u.Sizes.XS,onClick:t.bind(null,"left"),colorState:this._getColorState(n)}))),r.createElement(d.Z,{key:"align-c",name:"align-c"},r.createElement("span",{className:O.icon},r.createElement(_.default,{"aria-label":T(I.Z.centerAlign),title:T(I.Z.centerAlign),kind:u.Kinds.ALIGN_CENTER,size:u.Sizes.XS,onClick:t.bind(null,"center"),colorState:this._getColorState(o)}))),r.createElement(d.Z,{key:"align-r",name:"align-r"},r.createElement("span",{className:O.icon},r.createElement(_.default,{className:O.rightAlignIcon,"aria-label":T(I.Z.rightAlign),title:T(I.Z.rightAlign),kind:u.Kinds.ALIGN_LEFT,rotate:u.Rotate.D0,size:u.Sizes.XS,onClick:t.bind(null,"right"),colorState:this._getColorState(i)})))),r.createElement("span",{className:O.sectionDivider}),r.createElement(d.Z,{key:"bullet",name:"bullet"},r.createElement("span",{className:O.icon},r.createElement(_.default,{className:O.rtlRawScaleX,"aria-label":T(I.Z.bulletedList),title:T(I.Z.bulletedList),kind:u.Kinds.LIST_UNORDERED,size:u.Sizes.XS,onClick:t.bind(null,"bullet"),colorState:this._getColorState(c)}))),r.createElement(d.Z,{key:"number",name:"number"},r.createElement("span",{className:O.icon},r.createElement(_.default,{className:O.rtlRawHidden,"aria-label":T(I.Z.numberedList),title:T(I.Z.numberedList),kind:u.Kinds.LIST_ORDERED,size:u.Sizes.XS,onClick:t.bind(null,"number"),colorState:this._getColorState(l)}),r.createElement(_.default,{className:O.rtlRemoveHidden,"aria-label":T(I.Z.numberedList),title:T(I.Z.numberedList),kind:u.Kinds.LIST_ORDERED_FLIPPED,size:u.Sizes.XS,onClick:t.bind(null,"number"),colorState:this._getColorState(l)}))),r.createElement("span",{className:O.sectionDivider}),r.createElement(d.Z,{name:"indent",key:"indent"},r.createElement("span",{className:O.icon},r.createElement(_.default,{className:O.rtlRawScaleX,"aria-label":T(I.Z.increaseIndent),title:T(I.Z.increaseIndent),kind:u.Kinds.INDENT,size:u.Sizes.XS,onClick:t.bind(null,"indent")}))),r.createElement(d.Z,{name:"outdent",key:"outdent"},r.createElement("span",{className:O.icon},r.createElement(_.default,{className:O.rtlRawScaleX,"aria-label":T(I.Z.decreaseIndent),title:T(I.Z.decreaseIndent),kind:u.Kinds.OUTDENT,size:u.Sizes.XS,onClick:t.bind(null,"outdent")}))),r.createElement("span",{className:O.sectionDivider}),r.createElement(d.Z,{name:"strikethrough",key:"strikethrough"},r.createElement("span",{className:O.icon},r.createElement(_.default,{"aria-label":T(I.Z.strikeThrough),title:T(I.Z.strikeThrough),kind:u.Kinds.STRIKETHROUGH,size:u.Sizes.XS,onClick:t.bind(null,"strikeThrough"),colorState:this._getColorState(a)}))),s?r.createElement(d.Z,{name:"turn-off-richtext",key:"turn-off-richtext"},r.createElement("span",{className:O.icon},r.createElement(_.default,{"data-test-id":"richtext-off",onClick:t.bind(null,"plaintext"),title:T(I.Z.plaintext),"aria-label":T(I.Z.plaintext_icon_label),kind:u.Kinds.RICHTEXT_OFF,size:u.Sizes.XS})),r.createElement("span",{className:O.sectionDivider})):null))}}R(D,"contextTypes",{intl:o.intlShape.isRequired}),R(D,"defaultProps",{onMenuShow:()=>{}});const N=D;var f=s(77078),M=s(28182),L=s(79069),P=s.n(L);const y=function({kind:e,text:t,onClick:s,selected:a}){const n=T()(P(),{kind:e,selected:a});return r.createElement(d.Z,{key:e,kind:f.F.WRAP_CONTENT,name:e,text:t},r.createElement(l.Z,{kind:M.F.MENUITEM,onClick:s},r.createElement("div",{className:n.menuItem},r.createElement("span",{className:n.checkmarkWrapper},a&&r.createElement(E.Z,{kind:u.Kinds.CHECKMARK,size:u.Sizes.XS})),t)))};var b=s(7320),F=s(8470),U=s(93332),v=s.n(U),w=s(19822);function G(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const k=T()(v()),H=(0,o.defineMessages)({font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},font_size_label_tiny:{id:"compose.font_size_label_tiny",defaultMessage:"Tiny"},font_size_label_small:{id:"compose.font_size_label_small",defaultMessage:"Small"},font_size_label_medium:{id:"compose.font_size_label_medium",defaultMessage:"Medium"},font_size_label_large:{id:"compose.font_size_label_large",defaultMessage:"Large"},font_size_label_xlarge:{id:"compose.font_size_label_xlarge",defaultMessage:"X-Large"},font_size_label_huge:{id:"compose.font_size_label_huge",defaultMessage:"Huge"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class B extends r.Component{constructor(...e){super(...e),G(this,"state",{selectedFontSizeInMenu:this.props.selectedFontSize}),G(this,"handleBackButton",(e=>{e.stopPropagation(),this.props.goToMainMenu()})),G(this,"setSelectedFontSizeInMenu",(e=>{this.setState({selectedFontSizeInMenu:e||this.props.selectedFontSize})})),G(this,"handleMenuFocus",(()=>{const e=document.queryCommandValue("fontSize");this.setSelectedFontSizeInMenu(e)}))}render(){const{formatMessage:e}=this.context.intl,t={[b.FontSizes[0].name]:e(H.font_size_label_tiny),[b.FontSizes[1].name]:e(H.font_size_label_small),[b.FontSizes[2].name]:e(H.font_size_label_medium),[b.FontSizes[3].name]:e(H.font_size_label_large),[b.FontSizes[4].name]:e(H.font_size_label_xlarge),[b.FontSizes[5].name]:e(H.font_size_label_huge)},{selectedFontSizeInMenu:s}=this.state,a=parseInt(s,10),n=this.props.selectedFontFamily,i=b.FontSizes.map((({name:e,fontSize:s})=>r.createElement(y,{key:e,kind:e,text:t[e]||"",onClick:this.props.onFontSizeChange.bind(null,s),selected:s===a}))),l=b.Fonts.map((({name:t,label:s,fontFamily:a})=>{const o=a.replace(/['," ]/g,"").toLowerCase()===(n&&n.replace(/['," ]/g,"").toLowerCase()||"");return r.createElement(y,{key:t,kind:t,text:(0,w.getLocalizedFontFamilyName)(e,t)||s,onClick:this.props.onFontFamilyChange.bind(null,a),selected:o})}));return r.createElement(m.Z,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu,onFocus:this.handleMenuFocus},this.props.parentMenu?r.createElement(S.Z,{style:{display:"none"}}):r.createElement(S.Z,{"aria-label":e(H.font_name_size),"data-test-id":"icon-btn-text",title:e(H.font_name_size)},r.createElement(E.Z,{kind:u.Kinds.TEXT,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL})),r.createElement(p.ZP,{style:this.props.parentMenu?{marginLeft:"8px",marginTop:"4px"}:{},menuLayout:C.A.VERTICAL,"data-test-id":"font-picker"},this.props.parentMenu?r.createElement(_.default,{title:e(H.back_button_text_label),kind:u.Kinds.ARROW_UP,size:u.Sizes.XS,rotate:u.Rotate.D270,colorState:u.ColorStates.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_back"},r.createElement("span",{className:k.backButtonLabel},r.createElement(o.FormattedMessage,H.back_button_text_label))):"",r.createElement(F.Z,{layout:C.A.HORIZONTAL},r.createElement(d.Z,{key:"font-families"},r.createElement(F.Z,null,l)),r.createElement(d.Z,{key:"font-sizes"},r.createElement(F.Z,null,i)))))}}G(B,"contextTypes",{intl:o.intlShape.isRequired}),G(B,"defaultProps",{parentMenu:null});const x=B;var V=s(25319);function W(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Z=T()(v());class K extends r.Component{constructor(...e){super(...e),W(this,"state",{showMainMenu:!0,showColorMenu:!1,showFontMenu:!1}),W(this,"onClickColor",(e=>{this.setState({showMainMenu:!1,showColorMenu:!0,showFontMenu:!1}),e.stopPropagation()})),W(this,"onClickFont",(e=>{this.setState({showMainMenu:!1,showColorMenu:!1,showFontMenu:!0}),e.stopPropagation()})),W(this,"onShowMenu",(()=>{this.props.onMenuShow(),this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})})),W(this,"focusBackEditor",(()=>{this.setState({showColorMenu:!1,showFontMenu:!1}),this.refs.expandedmoretoolsmenu.hideMenu(),this.props.focusBackEditor()})),W(this,"goToMainMenu",(()=>{this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})})),W(this,"_getColorState",(e=>e?u.ColorStates.PRIMARY_HOVER:u.ColorStates.INHERITED))}render(){const{tooltip:e,onChange:t,isBold:s,isItalic:a,showPlainTextToggle:n,strikeThrough:i,justifyleft:c,justifycenter:_,justifyright:A,insertorderedlist:T,insertunorderedlist:h}=this.props,{formatMessage:g}=this.context.intl;return r.createElement("div",null,r.createElement(m.Z,{ref:"expandedmoretoolsmenu",afterMenuHide:this.focusBackEditor,showMenuActiveState:!1,onMenuShow:this.onShowMenu},r.createElement(S.Z,{"aria-label":e,"data-test-id":"icon-btn-expanded_more_tools",title:e},r.createElement(E.Z,{kind:u.Kinds.MORE,size:u.Sizes.XS,colorState:u.ColorStates.INHERITED})),this.state.showMainMenu?r.createElement(p.ZP,{menuLayout:C.A.VERTICAL,"data-test-id":"expanded-more-tools-menu"},r.createElement("div",{className:Z.menuContainer},r.createElement("div",null,r.createElement(d.Z,{key:"link",name:"link",className:Z.menuListItem,ariaLabel:g(I.Z.link_icon_label),onClick:this.props.onAddLink},r.createElement(l.Z,{className:Z.button,title:g(I.Z.link),"data-test-id":"icon-btn-link"},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon},r.createElement(E.Z,{kind:u.Kinds.LINK,size:u.Sizes.XS})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.link))))),r.createElement(d.Z,{key:"font",name:"font",className:Z.menuListItem,ariaLabel:g(I.Z.font_name_size),onClick:this.onClickFont,"data-test-id":"icon-btn-font"},r.createElement(l.Z,{className:Z.button,title:g(I.Z.font_name_size),"data-test-id":"icon-btn-text_expanded"},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon},r.createElement(E.Z,{kind:u.Kinds.TEXT,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.font_name_size))))),r.createElement(d.Z,{key:"color",name:"color",className:Z.menuListItem,ariaLabel:g(I.Z.color),onClick:this.onClickColor,"data-test-id":"icon-btn-color"},r.createElement(l.Z,{className:Z.button,title:g(I.Z.color),"data-test-id":"icon-btn-text_color_expanded"},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon},r.createElement(E.Z,{kind:u.Kinds.TEXT_COLOR,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.color))))),n?r.createElement(d.Z,{key:"turn-off-richtext",name:"turn-off-richtext",className:Z.menuListItem,ariaLabel:g(I.Z.plaintext_icon_label),onClick:t.bind(null,"plaintext")},r.createElement(l.Z,{className:Z.button,title:g(I.Z.plaintext),"data-test-id":"richtext-off"},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon},r.createElement(E.Z,{kind:u.Kinds.RICHTEXT_OFF,size:u.Sizes.XS})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.plaintext_text_label))))):r.createElement(d.Z,{className:Z.menuListItem}),r.createElement("span",{className:Z.sectionDivider}),r.createElement(d.Z,{key:"align-l",name:"align-l",className:Z.menuListItem,ariaLabel:g(I.Z.leftAlign),onClick:t.bind(null,"left")},r.createElement(l.Z,{className:Z.button,title:g(I.Z.leftAlign)},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon},r.createElement(E.Z,{kind:u.Kinds.ALIGN_LEFT,size:u.Sizes.XS,colorState:this._getColorState(c)})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.leftAlign))))),r.createElement(d.Z,{key:"align-c",name:"align-c",className:Z.menuListItem,ariaLabel:g(I.Z.centerAlign),onClick:t.bind(null,"center")},r.createElement(l.Z,{className:Z.button,title:g(I.Z.centerAlign)},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon},r.createElement(E.Z,{kind:u.Kinds.ALIGN_CENTER,size:u.Sizes.XS,colorState:this._getColorState(_)})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.centerAlign))))),r.createElement(d.Z,{key:"align-r",name:"align-r",className:Z.menuListItem,ariaLabel:g(I.Z.rightAlign),onClick:t.bind(null,"right")},r.createElement(l.Z,{className:Z.button,title:g(I.Z.rightAlign)},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.rightAlignIcon},r.createElement(E.Z,{kind:u.Kinds.ALIGN_LEFT,size:u.Sizes.XS,colorState:this._getColorState(A)})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.rightAlign))))),r.createElement(d.Z,{name:"indent",key:"indent",className:Z.menuListItem,ariaLabel:g(I.Z.increaseIndent),onClick:t.bind(null,"indent")},r.createElement(l.Z,{className:Z.button,title:g(I.Z.increaseIndent)},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon+" "+Z.rtlRawScaleX},r.createElement(E.Z,{kind:u.Kinds.INDENT,size:u.Sizes.XS})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.increaseIndent)))))),r.createElement("div",{className:Z.spaceBetween}),r.createElement("div",null,r.createElement(d.Z,{key:"bold",name:"bold",className:Z.menuListItem,ariaLabel:g(I.Z.bold_icon_label),onClick:this.props.onClickBold},r.createElement(l.Z,{className:Z.button,title:g(I.Z.bold),"data-test-id":"icon-btn-bold"},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon},r.createElement(E.Z,{kind:u.Kinds.BOLD,size:u.Sizes.XS,colorState:this._getColorState(s)})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.bold))))),r.createElement(d.Z,{key:"italic",name:"italic",className:Z.menuListItem,ariaLabel:g(I.Z.italic_icon_label),onClick:this.props.onClickItalic},r.createElement(l.Z,{className:Z.button,title:g(I.Z.italic),"data-test-id":"icon-btn-italic"},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon},r.createElement(E.Z,{kind:u.Kinds.ITALIC,size:u.Sizes.XS,colorState:this._getColorState(a)})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.italic))))),r.createElement(d.Z,{key:"strikethrough",name:"strikethrough",className:Z.menuListItem,ariaLabel:g(I.Z.strikeThrough),onClick:t.bind(null,"strikeThrough")},r.createElement(l.Z,{className:Z.button,title:g(I.Z.strikeThrough),"data-test-id":"icon-btn-strikethrough"},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon},r.createElement(E.Z,{kind:u.Kinds.STRIKETHROUGH,size:u.Sizes.XS,colorState:this._getColorState(i)})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.strikeThrough))))),r.createElement(d.Z,{className:Z.menuListItem}),r.createElement("span",{className:Z.sectionDivider}),r.createElement(d.Z,{key:"bullet",name:"bullet",className:Z.menuListItem,ariaLabel:g(I.Z.bulletedList),onClick:t.bind(null,"bullet")},r.createElement(l.Z,{className:Z.button,title:g(I.Z.bulletedList)},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon+" "+Z.rtlRawScaleX},r.createElement(E.Z,{kind:u.Kinds.LIST_UNORDERED,size:u.Sizes.XS,colorState:this._getColorState(h)})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.bulletedList))))),r.createElement(d.Z,{key:"number",name:"number",className:Z.menuListItem,ariaLabel:g(I.Z.numberedList),onClick:t.bind(null,"number")},r.createElement(l.Z,{className:Z.button,title:g(I.Z.numberedList)},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon+" "+Z.rtlRawHidden},r.createElement(E.Z,{kind:u.Kinds.LIST_ORDERED,size:u.Sizes.XS,colorState:this._getColorState(T)})),r.createElement("span",{className:Z.menuIcon+" "+Z.rtlRemoveHidden},r.createElement(E.Z,{kind:u.Kinds.LIST_ORDERED_FLIPPED,size:u.Sizes.XS})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.numberedList))))),r.createElement(d.Z,{key:"outdent",name:"outdent",className:Z.menuListItem,ariaLabel:g(I.Z.decreaseIndent),onClick:t.bind(null,"outdent")},r.createElement(l.Z,{className:Z.button,title:g(I.Z.decreaseIndent)},r.createElement("div",{className:Z.menuItem},r.createElement("span",{className:Z.menuIcon+" "+Z.rtlRawScaleX},r.createElement(E.Z,{kind:u.Kinds.OUTDENT,size:u.Sizes.XS})),r.createElement("span",{className:Z.menuLabel},r.createElement(o.FormattedMessage,I.Z.decreaseIndent)))))))):r.createElement(p.ZP,{style:{display:"none"}})),this.state.showColorMenu?r.createElement("span",null,r.createElement(V.ZP,{selectedFGColor:this.props.foreColor,selectedBGColor:this.props.backgroundColor,onFGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"forecolor"),onBGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"backcolor"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"",this.state.showFontMenu?r.createElement("span",null,r.createElement(x,{selectedFontSize:this.props.fontSize,selectedFontFamily:this.props.fontFamily,onFontSizeChange:this.props.onChooseFont.bind(this.props.toolbar,"fontsize"),onFontFamilyChange:this.props.onChooseFont.bind(this.props.toolbar,"fontname"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"")}}W(K,"contextTypes",{intl:o.intlShape.isRequired});const z=K;var q=s(73935);class Y extends r.Component{render(){const{className:e,ariaLabel:t,multiple:s,onChange:a,accept:n=""}=this.props;return r.createElement("input",{role:"button",className:e,type:"file",ref:"input",value:"",title:t,"aria-label":t,multiple:s,onChange:a,accept:n})}}const j=Y;var Q=s(11160),X=s(31509),J=s(18030),$=s(65304),ee=s(10728),te=s(71628),se=s.n(te),ae=s(85927),ne=s(66588),re=s(1656),oe=s(17016),ie=s(92559),le=s(87771),ce=s(23279),de=s.n(ce);function Ee(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _e=()=>{},ue=(0,o.defineMessages)({attachFile:{id:"compose.attach_file",defaultMessage:"Attach files"},close:{id:"compose.close_button_label",defaultMessage:"Close"}});class me extends r.Component{constructor(e,t){super(e,t),Ee(this,"state",{showMainPopover:!0,showGDrivePopover:!1,showDropboxPopover:!1,showRecentFilesInMail:!1,searchBoxValue:"",path:{ymail:"/",gdrive:"/",dropbox:"/"},folderTreeState:{ymail:[],gdrive:[{id:"allFiles",name:"All Files",path:"/"}],dropbox:[{id:"allFiles",name:"All Files",path:"/"}]}}),Ee(this,"_getInitialState",(()=>({showMainPopover:!0,showGDrivePopover:!1,showDropboxPopover:!1,showRecentFilesInMail:!1,searchBoxValue:"",path:{ymail:"/",gdrive:"/",dropbox:"/"},folderTreeState:{ymail:[],gdrive:[{id:"allFiles",name:"All Files",path:"/"}],dropbox:[{id:"allFiles",name:"All Files",path:"/"}]}}))),Ee(this,"onPopoverContentHide",(()=>{this.setState({showMainPopover:!0,showGDrivePopover:!1,showDropboxPopover:!1,showRecentFilesInMail:!1,searchBoxValue:""})})),Ee(this,"handleOpenPopover",(e=>{e===c.hKF.GDRIVE?this.handleAttachFromGDrive():e===c.hKF.DROPBOX&&this.handleAttachFromDropbox(),this._attachPopoverContainer.show($.K2.CLICK)})),Ee(this,"handleClosePopover",(()=>{this._attachPopoverContainer.hide($.K2.CLICK)})),Ee(this,"handleChange",(e=>{const t=Array.prototype.slice.call(e.target.files);this.props.onFileSelect({data:t})})),Ee(this,"handleLoadItems",((e="",t="/",s="",a=!1,n=!1)=>{const r=e;this.props.fetchCloudStorageItems({source:r,query:s,path:t,fetchMoreItems:a,i13nModel:{mKey:n?ie.JE.CLOUD_STORAGE_FOLDER_ITEMS_FETCHED:ie.JE.CLOUD_STORAGE_ITEMS_FETCHED,sec:ie.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:ie.Rb.click,actionData:{source:r,query:s,fetchMoreItems:a}}})})),Ee(this,"handleAttachFromComputer",(()=>{q.findDOMNode(this.inputFileBtn).click(),this.props.onFileSelectBtnClicked(),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:ie.JE.ATTACH_FILES_FROM_COMPUTER,sec:ie.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:ie.Rb.click}})})),Ee(this,"handleAttachFromGDrive",(()=>{this.setState({showMainPopover:!1,showGDrivePopover:!0}),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:ie.JE.ATTACH_FILES_FROM_GDRIVE,sec:ie.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:ie.Rb.click}})})),Ee(this,"handleAttachFromDropbox",(()=>{this.setState({showMainPopover:!1,showDropboxPopover:!0}),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:ie.JE.ATTACH_FILES_FROM_DROPBOX,sec:ie.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:ie.Rb.click}})})),Ee(this,"handleAttachFromRecentEmails",(()=>{this.setState({showMainPopover:!1,showRecentFilesInMail:!0}),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:ie.JE.ATTACH_FILES_FROM_RECENT_FILES,sec:ie.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:ie.Rb.click}})})),Ee(this,"handleGDriveConnect",(e=>{this.props.onConnect({url:"",provider:c.hKF.GDRIVE,i13nModel:{mKey:ie.JE.CLOUD_STORAGE_GDRIVE_CONNECT_CLICKED,sec:ie.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:(0,oe.getInteractionFromEvent)(e)}})})),Ee(this,"handleDropboxConnect",(e=>{this.props.onConnect({url:"",provider:c.hKF.DROPBOX,i13nModel:{mKey:ie.JE.CLOUD_STORAGE_DROPBOX_CONNECT_CLICKED,sec:ie.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:(0,oe.getInteractionFromEvent)(e)}})})),Ee(this,"handlePathChange",((e,t,s)=>{const a=this.state.path;a[e]=t,this.setState({path:{...a}},(()=>{this.handleLoadItems(e,t,s,!1,!0)}))})),Ee(this,"searchCloudStorageItems",((e,t)=>{this.props.fetchCloudStorageItems(t),this.setState({query:e})})),Ee(this,"handleSearchChange",((e,t)=>{const s=t||"",a=e,n=this.state.path[e];this.setState({searchBoxValue:s},(()=>this.debouncedSearch(s,{source:e,query:s,path:n,fromSearchBox:!0,i13nModel:{mKey:ie.JE.CLOUD_STORAGE_ITEMS_SEARCHED,sec:ie.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:ie.Rb.keydown,actionData:{source:a,query:s,fromSearchBox:!0}}})))})),Ee(this,"renderConnectMenu",((e,t)=>r.createElement(le.cr,{import:"../attach_files_menu/connect_cloud_storage_account",provider:e,onConnectHandler:t,handleClose:this.handleClosePopover,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,56229))},_moduleResolver:function(){return 56229}}))),Ee(this,"renderResultsMenu",((e,t=_e)=>r.createElement(le.cr,{import:"../attach_files_menu/cloud_storage_items",provider:e,fetchCloudStorageItems:this.props.fetchCloudStorageItems,searchBoxValue:this.state.searchBoxValue,handleSearchChange:this.handleSearchChange.bind(this,e),handlePathChange:this.handlePathChange,query:this.state.searchBoxValue,path:this.state.path[e],handleClose:this.handleClosePopover,insertLink:this.props.insertLink,handleLoadMoreItemsOnScroll:this.handleLoadItems,handleAttachmentFromRecentFiles:this.props.handleAttachmentFromRecentFiles,previewAttachment:this.props.previewAttachment,folderTreeArray:this.state.folderTreeState[e],saveFolderState:this.saveFolderState.bind(this),savePathState:this.savePathState.bind(this),reconnectHandler:t,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,27755))},_moduleResolver:function(){return 27755}}))),Ee(this,"renderAttachFilesMenu",(e=>{const{formatMessage:t}=this.context.intl,{gDriveConnected:a,dropboxConnected:n}=this.props,{showMainPopover:o,showGDrivePopover:i,showDropboxPopover:l,showRecentFilesInMail:d}=this.state,E=i||l||d;return r.createElement(Q.Z,{className:e.popoverContainer,ref:e=>this._attachPopoverContainer=e},r.createElement(X.Z,null,r.createElement("div",null,r.createElement(_.default,{"data-iskeynav":!0,"aria-label":t(ue.attachFile),title:t(ue.attachFile),kind:u.Kinds.ATTACH,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL}),r.createElement(j,{ref:e=>this.inputFileBtn=e,className:e.hiddenInput,multiple:!0,onChange:this.handleChange}))),o?r.createElement(J.ZP,{triggerOn:$.K2.CLICK,permittedArrowDirections:[$.Ji.DOWN],useMenuPositioning:!0,zAltitude:ee.LSY.POPOVER.HIGH,isArrowVisible:!1,align:$.xM.START},r.createElement(le.cr,{import:"../attach_files_menu/index",handleEscape:this.handleClosePopover,handleAttachFromGDrive:this.handleAttachFromGDrive,handleAttachFromDropbox:this.handleAttachFromDropbox,handleAttachFromRecentEmails:this.handleAttachFromRecentEmails,handleAttachFromComputer:this.handleAttachFromComputer,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,36872))},_moduleResolver:function(){return 36872}})):null,E?r.createElement(J.ZP,{triggerOn:$.K2.CLICK,permittedArrowDirections:[$.Ji.DOWN],zAltitude:ee.LSY.POPOVER.HIGH,isArrowVisible:!1,align:$.xM.START,onHide:this.onPopoverContentHide,hideOnContentClick:!1,outerClickFallthrough:!1,useMenuPositioning:!0},i&&!a?this.renderConnectMenu(c.hKF.GDRIVE,this.handleGDriveConnect):null,i&&a?this.renderResultsMenu(c.hKF.GDRIVE,this.handleGDriveConnect):null,l&&!n?this.renderConnectMenu(c.hKF.DROPBOX,this.handleDropboxConnect):null,l&&n?this.renderResultsMenu(c.hKF.DROPBOX,this.handleDropboxConnect):null,d?this.renderResultsMenu(c.hKF.YMAIL):null):null)})),this.state=this._getInitialState()}componentDidMount(){this.debouncedSearch=de()(this.searchCloudStorageItems,250)}saveFolderState(e,t){const s=this.state.folderTreeState;s[t]=e,this.setState({folderTreeState:{...s}})}savePathState(e,t){const s=this.state.path;s[t]=e,this.setState({path:{...s}})}render(){const{formatMessage:e}=this.context.intl,t=T()(se(),{pointerEventsDisabled:this.props.cloudStorageEnabled});return this.props.cloudStorageEnabled?this.renderAttachFilesMenu(t):r.createElement("div",{className:t.container,onClick:this.handleAttachFromComputer,"data-test-id":"attach-from-computer-btn"},r.createElement(E.Z,{kind:u.Kinds.ATTACH,colorState:u.ColorStates.NORMAL,size:u.Sizes.XS}),r.createElement(j,{ref:e=>this.inputFileBtn=e,className:t.input,multiple:!0,onChange:this.handleChange,ariaLabel:e(ue.attachFile)}))}}Ee(me,"contextTypes",{intl:o.intlShape.isRequired});const Se=(0,i.connect)((e=>{const{getFeaturesSelectors:t,getContentProviders:s}=(0,ae.selectors)(e),{doesContentProviderExist:a,isContentProviderConnected:n}=s();return{cloudStorageEnabled:t().isEnabled(c.ANe.CLOUD_STORAGE),gDriveConnected:a(c.hKF.GDRIVE)&&n(c.hKF.GDRIVE),dropboxConnected:a(c.hKF.DROPBOX)&&n(c.hKF.DROPBOX)}}),(e=>({onAttachFilesMenuItemClick:t=>e((0,re.ft)(t)),onConnect:t=>e((0,ne.S9)(t)),fetchCloudStorageItems:t=>e((0,re.dc)({...t,query:t.query.toLocaleLowerCase().trim(),path:t.path}))})),null,{withRef:!0})(me);var pe=s(62639),Ce=s(88071),Ae=s(79483);function Te(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const he=(0,o.defineMessages)({gifPicker:{id:"gif.gifpicker.title",defaultMessage:"Insert animated GIFs"}});class ge extends r.Component{constructor(e,t){super(e,t),Te(this,"_getDefaultCategory",(()=>{const{gifCategories:e}=this.props;return e.length?e[0]:{}})),Te(this,"_getInitialState",(()=>{const{queryString:e="",categoryId:t=""}=this._getDefaultCategory();return{query:e,searchBoxValue:"",selectedCategory:t,menuOpen:!1}})),Te(this,"handleGifClick",(e=>{this.props.onGifClick(e),this.toggleMenu()})),Te(this,"fetchGIF",(e=>{this.props.gifCategories.length&&this.props.fetchGIF(e)})),Te(this,"onCategoryClick",((e,t=!0)=>{this.fetchGIF({query:e.queryString,fromCategory:t,i13nModel:{mKey:ie.JE.GIF_CATEGORY,sec:ie.nJ.COMPOSE_TOOLBAR,interactionType:ie.Rb.click}}),this.setState({query:e.queryString,selectedCategory:e.categoryId,searchBoxValue:""})})),Te(this,"toggleMenu",(e=>{e&&(e.stopPropagation(),e.preventDefault());const{menuOpen:t}=this.state;t?(this._gifPopoverContainer.hide($.K2.MOUNT),this.setState(this._getInitialState(),(()=>this.props.focusBackEditor()))):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._gifPopoverContainer.show($.K2.MOUNT),this.setState({menuOpen:!t}),Ae.ZP.sendI13nModel({i13nModel:{mKey:ie.JE.GIF_OPEN,sec:ie.nJ.COMPOSE_MSG,interactionType:ie.Rb.click}}))})),Te(this,"handleSearchChange",(e=>{clearTimeout(this._timer);const{queryString:t="",categoryId:s=""}=this._getDefaultCategory();let a=t;e?(this.setState({searchBoxValue:e,selectedCategory:""}),a=e):this.setState({searchBoxValue:"",selectedCategory:s}),this._timer=setTimeout(function(e){this.fetchGIF({query:e,fromSearchBox:!0,i13nModel:{mKey:ie.JE.GIF_SEARCH,sec:ie.nJ.COMPOSE_TOOLBAR,interactionType:ie.Rb.keydown}}),this.setState({query:e})}.bind(this,a),500)})),Te(this,"onPopoverContentHide",(()=>{this.setState(this._getInitialState())})),Te(this,"renderGifPopup",(()=>r.createElement(J.ZP,{permittedArrowDirections:[$.Ji.DOWN],triggerOn:$.K2.MOUNT,customPositioning:!0,"data-test-id":"gif-pop-up",onHide:this.onPopoverContentHide},r.createElement(le.cr,{import:"./atoms/gif_pop_up",fetchGIF:this.fetchGIF,fetchGifCategories:this.props.fetchGifCategories,gifCategories:this.props.gifCategories,handleGifClick:this.handleGifClick,handleSearchChange:this.handleSearchChange,left:this.toolbarBoundingRect.left,right:this.toolbarBoundingRect.right,bottom:document.documentElement.clientHeight-this.toolbarBoundingRect.top,onCategoryClick:this.onCategoryClick,searchBoxValue:this.state.searchBoxValue,selectedCategory:this.state.selectedCategory,query:this.state.query,toggleMenu:this.toggleMenu,width:this.toolbarBoundingRect.width,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,77277))},_moduleResolver:function(){return 77277}})))),this._timer=null,this.state=this._getInitialState(),this.scrollDebounce=de()(this.handleScroll.bind(this),100)}handleScroll(){this.state.menuOpen&&(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.forceUpdate())}UNSAFE_componentWillReceiveProps(e){if(!this.props.gifCategories.length&&e.gifCategories.length){const{queryString:t="",categoryId:s=""}=e.gifCategories[0];this.setState({query:t,selectedCategory:s})}}componentDidMount(){this.props.showGIFPicker&&setTimeout((()=>{this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.setState({menuOpen:!0})}),1e3),window.addEventListener("scroll",this.scrollDebounce,!0)}componentWillUnmount(){window.removeEventListener("scroll",this.scrollDebounce,!0)}render(){const{menuOpen:e}=this.state,{formatMessage:t}=this.context.intl;return r.createElement("div",{"data-test-id":"gif-button",onClick:this.toggleMenu},r.createElement(Q.Z,{ref:e=>this._gifPopoverContainer=e},r.createElement(X.Z,{"data-test-id":"gif-picker-anchor"},r.createElement(l.Z,{title:t(he.gifPicker),"aria-label":t(he.gifPicker),kind:e?M.F.ICON_HIGHLIGHTED:M.F.ICON},r.createElement(E.Z,{kind:u.Kinds.GIF_BOX,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL}))),e?this.renderGifPopup():null))}}Te(ge,"defaultProps",{onGifClick:()=>{},showGIFPicker:!1}),Te(ge,"contextTypes",{executeAction:n().func,intl:o.intlShape.isRequired});const Ie=ge;const Re=(0,i.connect)((e=>{const{getGifCategoriesSelectors:t}=(0,ae.selectors)(e),{isCategoryListLoaded:s,getGifCategoriesList:a}=t();return{gifCategories:s()?a():[]}}),(function(e){return{fetchGIF(t){e((0,Ce.Dt)({...t,query:t.query.toLocaleLowerCase().trim()}))},fetchGifCategories(){e((0,Ce.$B)())}}}))(Ie);var Oe=s(97530),De=s(26),Ne=s(95764),fe=s.n(Ne);function Me(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Le=T()(fe()),Pe=(0,o.defineMessages)({emojiPicker:{id:"emoji.emojipicker.title",defaultMessage:"Insert emojis"}});class ye extends r.Component{constructor(e){super(e),Me(this,"togglePopover",(()=>{const{popoverOpen:e}=this.state;this.state.popoverOpen&&this.props.focusBackEditor(),this.setState({popoverOpen:!e})})),Me(this,"onPopoverContentHide",(()=>{this.setState({popoverOpen:!1},(()=>this.props.focusBackEditor()))})),Me(this,"closePicker",(()=>{this.refs.emojiPopoverContainer.hide($.K2.CLICK);const e={mKey:ie.JE.EMOJI_CLOSE,sec:ie.nJ.COMPOSE_MSG,interactionType:ie.Rb.click};this.setState({popoverOpen:!1}),this.props.focusBackEditor(),this.context.executeAction(Oe.nX,{i13nModel:e})})),Me(this,"renderEmojiCue",(()=>r.createElement(J.ZP,{align:$.xM.CENTER,triggerOn:$.K2.MOUNT,zAltitude:ee.LSY.POPOVER.HIGH,persistent:!0},r.createElement(le.cr,{import:"../compose/atoms/emoji_cue",cueName:c.ANe.EMOJI_CUE,onTryNow:()=>{this.refs.emojiPopoverContainer.hide($.K2.MOUNT),this.refs.emojiPopoverContainer.show($.K2.CLICK)},onMayBeLater:()=>{},_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,9620))},_moduleResolver:function(){return 9620}})))),Me(this,"renderEmojiPopup",(()=>r.createElement(J.ZP,{permittedArrowDirections:[$.Ji.DOWN],triggerOn:$.K2.CLICK,"data-test-id":"emoji-pop-up",onShow:()=>{this.props.showEmojiCue&&this.refs.emojiPopoverContainer.hide($.K2.MOUNT)},onHide:this.onPopoverContentHide,align:$.xM.ANY,className:Le.emojiPopUp},r.createElement(le.cr,{import:"./emoji_popup",bundleName:"lazy_group2",onEmojiClick:this.props.onEmojiClick,closePicker:this.closePicker,"data-test-id":"emoji-lazy-component",tooltipEmoji:this.props.tooltipEmoji,_moduleLoader:function(){return Promise.all([s.e(567),s.e(340)]).then(s.bind(s,62761))},_moduleResolver:function(){return 62761}},r.createElement(le.nA,{loading:!0},r.createElement("div",{className:Le.lazyStyle},r.createElement(De.Z,null))))))),this.timer=null,this.state={popoverOpen:!1}}componentWillUnmount(){clearTimeout(this.timer)}render(){const{formatMessage:e}=this.context.intl,{popoverOpen:t}=this.state;return r.createElement("div",{onClick:this.togglePopover},r.createElement(Q.Z,{ref:"emojiPopoverContainer"},r.createElement(X.Z,{"data-test-id":"emoji-picker-anchor"},r.createElement(l.Z,{"data-test-id":"emoji-picker-button",title:e(Pe.emojiPicker),"aria-label":e(Pe.emojiPicker),kind:t?M.F.ICON_HIGHLIGHTED:M.F.ICON},r.createElement(E.Z,{kind:u.Kinds.COMPOSE_EMOJI,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL}))),this.props.showEmojiCue?this.renderEmojiCue():null,this.renderEmojiPopup()))}}Me(ye,"contextTypes",{executeAction:n().func.isRequired,intl:o.intlShape.isRequired});const be=ye;var Fe=s(79940),Ue=s.n(Fe);s(95406);function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function we(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ge=c.nuI.Status,ke={bullet:"insertunorderedlist",number:"insertorderedlist",left:"justifyleft",center:"justifycenter",right:"justifyright"},He=(0,o.defineMessages)({bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},select_more_tools:{id:"compose.select_more_tools",defaultMessage:"More options"},delete_draft:{id:"compose.delete_draft",defaultMessage:"Delete this draft"},send_button_title:{id:"compose.send_button_title",defaultMessage:"Send this email"}});class Be extends r.Component{constructor(...e){super(...e),we(this,"state",{bold:!1}),we(this,"_getToolbarStyle",(()=>{const e={};return this.props.fixed&&this.props.width&&(e.maxWidth=this.props.width-b.HORIZONTAL_PADDING+"px"),e})),we(this,"updateState",(e=>{this.setState(e)})),we(this,"_renderToolbarPlaceholder",(e=>r.createElement("div",{className:e.toolbarPlaceholder,"data-test-id":"compose-toolbar-placeholder"}))),we(this,"_renderRichTextOff",((e,t)=>r.createElement("span",{className:e.icon},r.createElement(_.default,{"data-test-id":"richtext-on",onClick:this.onMoreMenuChange.bind(this,"richtext"),title:t(He.richtext),"aria-label":t(He.richtext_icon_label),kind:u.Kinds.RICHTEXT_ON,size:u.Sizes.XS})))),we(this,"getToolbarBoundingRect",(()=>{if(this.toolbar&&this.props.fixed){const e=this.toolbar.getBoundingClientRect();return{width:e.width,height:e.height,left:e.left,right:e.right,bottom:e.bottom,top:e.bottom>=window.innerHeight?window.innerHeight-e.height:e.top}}return this.toolbar?this.toolbar.getBoundingClientRect():{}})),we(this,"_renderRichTextOn",((e,t,s,a)=>{const{fontSize:n,foreColor:o,fontFamily:i,backgroundColor:l}=this.getFormatState(),{bold:c,italic:d,foreColor:E=o,fontSize:m=n,fontName:S=i,backColor:p=l,...C}=this.state;return s?r.createElement("div",{className:e.formattingTools},r.createElement("span",{className:e.menuIcon},r.createElement(z,ve({onChange:this.onMoreMenuChange,onHandleChange:this.handleChange,tooltip:t(He.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:a,onMenuShow:this.props.onMoreMenuClick,onAddLink:this.onAddLink,onClickBold:this.onClickBold,onClickItalic:this.onClickItalic,onChooseColor:this.chooseColor,onChooseFont:this.chooseFont,foreColor:E||o,backgroundColor:p||l,fontSize:m||n,fontFamily:S||i,toolbar:this,isBold:c,isItalic:d},C)))):r.createElement("div",{className:e.formattingTools},r.createElement("span",{className:e.icon},r.createElement(_.default,{onClick:this.onAddLink,title:t(He.link),"aria-label":t(He.link_icon_label),kind:u.Kinds.LINK,size:u.Sizes.XS})),r.createElement("span",{className:e.icon},r.createElement(_.default,{onClick:this.onClickBold,title:t(He.bold),"aria-label":t(He.bold_icon_label),kind:u.Kinds.BOLD,size:u.Sizes.XS,colorState:c?u.ColorStates.PRIMARY_HOVER:u.ColorStates.INHERITED})),r.createElement("span",{className:e.icon},r.createElement(_.default,{onClick:this.onClickItalic,title:t(He.italic),"aria-label":t(He.italic_icon_label),kind:u.Kinds.ITALIC,size:u.Sizes.XS,colorState:d?u.ColorStates.PRIMARY_HOVER:u.ColorStates.INHERITED})),r.createElement("span",{className:e.menuIcon},r.createElement(V.ZP,{selectedFGColor:E||o,selectedBGColor:p||l,onFGColorChange:this.chooseColor.bind(this,"forecolor"),onBGColorChange:this.chooseColor.bind(this,"backcolor"),focusBackEditor:this.props.focusOnEditor})),r.createElement("span",{className:e.menuIcon},r.createElement(x,{selectedFontSize:m||n,selectedFontFamily:S||i,onFontSizeChange:this.chooseFont.bind(this,"fontsize"),onFontFamilyChange:this.chooseFont.bind(this,"fontname"),focusBackEditor:this.props.focusOnEditor})),r.createElement("span",{className:e.menuIcon},r.createElement(N,ve({},this.state,{onChange:this.onMoreMenuChange,tooltip:t(He.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:a,onMenuShow:this.props.onMoreMenuClick,disabled:this.props.disabled}))))})),we(this,"onFileSelectBtnClicked",(()=>{const e={sec:ie.nJ.COMPOSE_TOOLBAR,mKey:ie.JE.COMPOSE_FILE_SELECT_BTN_CLICKED,interactionType:ie.Rb.click};this.handleChange(b.ToolbarActions.FILE_SELECT_BTN_CLICKED,{i13nModel:e})})),we(this,"onThemeChange",((e,t)=>this.handleChange(b.ToolbarActions.UPDATE_STATIONERY,{data:e,i13nModel:t}))),we(this,"onAddLink",(e=>{const t={mKey:ie.JE.COMPOSE_ADD_LINK,sec:ie.nJ.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}};this.handleChange("createlink",{data:e,i13nModel:t})})),we(this,"onClickBold",(e=>{const t={mKey:ie.JE.COMPOSE_BOLD,sec:ie.nJ.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}};this.handleChange("bold",{data:e,i13nModel:t}),this.props.focusOnEditor()})),we(this,"onClickItalic",(e=>{const t={mKey:ie.JE.COMPOSE_ITALIC,sec:ie.nJ.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}};this.handleChange("italic",{data:e,i13nModel:t}),this.props.focusOnEditor()})),we(this,"chooseColor",((e,t)=>{const s={mKey:ie.JE.COMPOSE_CHOOSE_COLOR,sec:ie.nJ.RTE_TOOLBAR,actionData:{color:t,isFreshCompose:this.props.isFreshCompose}};this.handleChange(e,{data:t,i13nModel:s})})),we(this,"chooseFont",((e,t)=>{let s={size:t};"fontname"===e&&(s={font:t});const a={mKey:ie.JE.COMPOSE_CHOOSE_FONT,sec:ie.nJ.RTE_TOOLBAR,actionData:{...s,isFreshCompose:this.props.isFreshCompose}};this.handleChange(e,{data:t,i13nModel:a})})),we(this,"onMoreMenuChange",((e,t)=>{let s=ie.JE.COMPOSE_OPEN_MORE_MENU,a="";switch(e){case"bullet":s=ie.JE.COMPOSE_CHOOSE_LIST_TYPE,a="unordrd";break;case"number":s=ie.JE.COMPOSE_CHOOSE_LIST_TYPE,a="ordrd";break;case"left":s=ie.JE.COMPOSE_ALIGN_TEXT,a="lft";break;case"right":s=ie.JE.COMPOSE_ALIGN_TEXT,a="rght";break;case"center":s=ie.JE.COMPOSE_ALIGN_TEXT,a="cntr";break;case"strikeThrough":s=ie.JE.COMPOSE_STRIKETHROUGH_TEXT,a="strikethrough";break;case"plaintext":s=ie.JE.COMPOSE_PLAIN_TEXT_MODE,a="plaintext";break;case"richtext":s=ie.JE.COMPOSE_RICH_TEXT_MODE,a="richtext"}const n={mKey:s,sec:ie.nJ.RTE_TOOLBAR,actionData:{setTo:a,isFreshCompose:this.props.isFreshCompose}};this.handleChange(e,{data:t,i13nModel:n})})),we(this,"handleChange",((e,t)=>{this.props.onExecuteAction(ke[e]||e,t)})),we(this,"getFormatState",(()=>Object.assign({foreColor:V.ZP.DEFAULTS.FG_COLOR,backgroundColor:V.ZP.DEFAULTS.BG_COLOR,fontSize:"0",fontFamily:""},this.props.formatState)))}render(){const{disabled:e,draftStatus:t,fixed:s,kind:a,showPlainTextMode:n,stationeryEnabled:i,gifFinderEnabled:c,uploadEnabled:d,width:E,stationeryRestrictedThemes:m,useRichText:S,isCompactSize:p,isSendButtonDisabled:C}=this.props,A=T()(Ue(),{kind:a,fixed:s,disabled:e,disabledButton:C}),{formatMessage:h}=this.context.intl,g=this._getToolbarStyle(),I=S&&i,R=S&&c,O=S,D=d||I,N=E<b.COMPOSE_MIN_WIDTH;return r.createElement("div",{"data-test-id":"compose-toolbar",ref:e=>this.toolbar=e},r.createElement("div",{"data-test-id":"compose-toolbar-styler",className:A.composeToolbar,style:g},this.props.showSendButton?r.createElement(l.Z,{"data-test-id":"compose-send-button",className:A.sendButton,disabled:t===Ge.SENDING||this.props.disabled,onClick:this.handleChange.bind(this,b.ToolbarActions.SEND),title:h(He.send_button_title)},r.createElement(o.FormattedMessage,{id:"compose.send_button_label",defaultMessage:"Send"})):null,d?r.createElement("span",{className:A.icon+" "+A.rtlRawScaleX},r.createElement(Se,{ref:e=>this.uploader=e,onFileSelect:this.handleChange.bind(this,b.ToolbarActions.FILE_SELECT),onFileSelectBtnClicked:this.onFileSelectBtnClicked,insertLink:this.props.insertLink,handleAttachmentFromRecentFiles:this.props.handleAttachmentFromRecentFiles,previewAttachment:this.props.previewAttachment})):null,R?r.createElement("span",{className:A.menuIcon},r.createElement(Re,{onGifClick:this.props.onGifClick,focusBackEditor:this.props.focusOnEditor,left:this.props.left,width:this.props.width,csid:this.props.csid,getToolbarBoundingRect:this.getToolbarBoundingRect,showGIFPicker:this.props.showGIFPicker})):null,I?r.createElement("span",{className:A.menuIcon+" "+A.rtlRawScaleX},r.createElement(pe.Z,{isCompactSize:p,"data-test-id":"stationery-button",getToolbarBoundingRect:this.getToolbarBoundingRect,onThemeChange:this.onThemeChange,focusBackEditor:this.props.focusOnEditor,stationeryDefaultTheme:this.props.stationeryDefaultTheme,stationeryTheme:this.props.stationeryTheme,stationeryCategory:this.props.stationeryCategory,stationeryCategoriesToShow:this.props.stationeryCategoriesToShow,showStationeryCue:this.props.showStationeryCue,stationeryRestrictedThemes:m,rtl:this.props.rtl,showStationeryPicker:!e&&this.props.showStationeryPicker,showStationeryDefaultTheme:this.props.showStationeryDefaultTheme,showStationeryThemeCategories:this.props.showStationeryThemeCategories,showStationerySetDefault:this.props.showStationerySetDefault,toolbarKind:this.props.kind})):null,O?r.createElement("span",{className:A.menuIcon},r.createElement(be,{ref:e=>this.emojiPicker=e,showEmojiCue:this.props.showEmojiCue,focusBackEditor:this.props.focusOnEditor,left:this.props.left,onEmojiClick:this.props.addEmoji})):null,D?r.createElement("span",{"data-test-id":"section-divider-contentSection",className:A.sectionDivider}):null,S?this._renderRichTextOn(A,h,N,n):this._renderRichTextOff(A,h),r.createElement("span",{className:A.spacer}),t===Ge.SAVED||t===Ge.SAVED_PARTIAL||t===Ge.SAVING?r.createElement("span",{role:"status","data-test-id":"status",className:A.status},t===Ge.SAVING?r.createElement(o.FormattedMessage,{id:"compose.draft_saving_status",defaultMessage:"Saving"}):r.createElement(o.FormattedMessage,{id:"compose.draft_save_success_status",defaultMessage:"Saved"})):null,this.props.showDeleteButton?r.createElement("span",{className:A.deleteButton},r.createElement(_.default,{onClick:this.handleChange.bind(null,b.ToolbarActions.DELETE_DRAFT),title:h(He.delete_draft),"aria-label":h(He.delete_draft),kind:u.Kinds.DELETE,size:u.Sizes.XS,colorState:u.ColorStates.INHERITED,className:A.trashIcon})):null),this.props.fixed&&this._renderToolbarPlaceholder(A))}}we(Be,"contextTypes",{intl:o.intlShape.isRequired}),we(Be,"defaultProps",{uploadEnabled:!0,showDeleteButton:!0,showSendButton:!0,showPlainTextMode:!0,kind:b.ToolbarTypes.COMPOSE,fixed:!1,disabled:!1,onGifClick:()=>{},stationeryEnabled:!1,useRichText:!0,isFreshCompose:!0,isComposeDisabled:!1});const xe=(0,i.connect)(((e,{csid:t,getDraftStatus:s})=>{const a=s?s():void 0,{getComposeFormat:n}=(0,ae.selectors)(e);return{draftStatus:a,isCompactSize:n(t)===c.UeM.COMPACT}}),null,null,{withRef:!0})(Be)},98360:e=>{"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_JMQ5f A_6FsP u_e69 D_F el_Z1mLfFl ab_AJ gl_FM",btnLogo:"D_F ab_C ek_BB r_P",logo:"W_74JI H_74JI",icon:"p_a M_6Fd5",title:"em_N",close:"Q_6Eb4",message:"P_Z2fgN7g w_AS ix_AS",btnControls:"P_ZG120x",linkControls:"D_F gl_FL M_1Wxz6o P_ZG120x",link:"C_Z2aVTcY A_6EqO i_6FIA"}},_key:"PwI0Y"}},7320:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Fonts:()=>r,FontSizes:()=>o,NO_STATIONERY:()=>i,STATIONERY_MIN_WIDTH:()=>l,ToolbarActions:()=>c,FocusableRefs:()=>d,KeyCodes:()=>E,RTEKeyModifier:()=>_,EditorTypes:()=>u,ToolbarTypes:()=>m,PreviewTypes:()=>S,TOOLBAR_HEIGHT:()=>p,HORIZONTAL_PADDING:()=>C,FORMAT_DATE_OPTION:()=>A,IMAGE_OVERLAY_INITIAL_LEFT:()=>T,CURRENT_IMAGE_SIZE_STATUS:()=>h,RTEHoverOverlayTypes:()=>g,INLINE_IMAGE_PLUGIN_CLASSES:()=>I,INLINE_IMAGE_PLUGIN_SIZE:()=>R,HYPERLINK_PLUGIN_IGNORE_CLASS:()=>O,COMPOSE_MIN_WIDTH:()=>D,OutlookSupportHTMLAttributes:()=>N,OutlookSupportHTMLHeadContent:()=>f,EDITOR_EVENTS:()=>M,DELETE_CONTACT:()=>b,INLINE_IMAGE_SELECTOR:()=>F,STATIONERY_BODY_SELECTOR:()=>U,LINK_EHANCER_CARD_SELECTOR:()=>v,HIDE_SELECTION_CLASS:()=>w,IMAGE_STATUS:()=>G});var a=s(95406),n=s(4119);const r=n.F3,o=n.TS,i="no_stationery",l=480,c={FILE_SELECT:"fileselect",FILE_SELECT_BTN_CLICKED:"fileselectbtnclicked",SEND:"send",DELETE_DRAFT:"delete_draft",UPDATE_STATIONERY:"update_stationery",CREATE_LINK:"createlink",PLAIN_TEXT:"plaintext",RICH_TEXT:"richtext",INSERT_ORDERED_LIST:"insertorderedlist",FONT_NAME:"fontname",FONT_SIZE:"fontsize"},d=n.vX,E={SEMICOLON:59,FF_SEMICOLON:186,FF_COMMA:188,COMMA:44,BREAK:13,SPACE:32,TAB:9},_={NO_MODIFIER:1,ALT:1,SHIFT:2,SPECIAL:4,NONSPECIAL:8},u=(0,a.gP)(["MESSAGE","COMPOSE","VACATION_RESPONSE_SETTINGS"]),m=(0,a.gP)(["MESSAGE","COMPOSE","VACATION_RESPONSE_SETTINGS"]),S=(0,a.gP)(["MESSAGE","VACATION_RESPONSE"]),p=70,C=72,A={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"},T="-5000px",h=(0,a.gP)(["LARGE","SMALL"]),g=(0,a.gP)(["IMAGE","LINK_ENHANCER_CARD"]),I={GIF_WRAPPER_CLASS:"yahoo-gif-wrapper",INLINE_IMAGE_CLASS:"yahoo-inline-image",IMAGE_OVERLAY_CLASS:"yahoo-inline-img-overlay",ONLINE_GIF_CLASS:"yahoo-online-gif",EMOJI_WRAPPER_CLASS:"yahoo-emoji-wrapper",IGNORE_CLASS:"yahoo-ignore-inline-image"},R={IMAGE_SMALL_WIDTH:400,IMAGE_BIG_WIDTH:800,TINY_IMAGE_WIDTH:100,IMAGE_BIG_PERCENTAGE:"100%",IMAGE_SMALL_PERCENTAGE:"50%"},O="yahoo-ignore-hyperlink",D=670,N=['xmlns="http://www.w3.org/1999/xhtml"','xmlns:v="urn:schemas-microsoft-com:vml"','xmlns:o="urn:schemas-microsoft-com:office:office"'].join(" "),f="\x3c!--[if gte mso 9]><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml><![endif]--\x3e",M=(0,a.gP)(["emoji_inserted","gif_inserted","gif_removed","gif_resized","inline_attachment_inserted","inline_image_removed","inline_image_resized","inline_to_non_inline_attachment","stationery_cleared","default_stationery_cleared","link_enhancer_card_removed","link_enhancer_card_size_changed","link_enhancer_card_added","link_enhancer_card_moved","plaintext_paste_event"]),{INLINE_IMAGE_CLASS:L,ONLINE_GIF_CLASS:P,IGNORE_CLASS:y}=I,b="delete-contact",F=`img[class*="${L}"]:not([class*="${P}"]):not([class*="${y}"])`,U='[id$="middleBody"]',v='div[class*="yahoo-link-enhancr-card"]',w="hide-selection",G={loading:"yahoo-loading"}},61856:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>Ws});var a=s(92743),n=s(14890),r=s(45697),o=s.n(r),i=s(67294),l=s(73935),c=s(99095),d=s(91966),E=s.n(d),_=s(25319),u=s(45578),m=s.n(u),S=(s(31280),s(10728)),p=s(67498),C=s(28182),A=s(23224),T=s(9333),h=s(76531),g=s(43007),I=s(19822),R=s(11160),O=s(31509),D=s(18030),N=s(65304),f=s(8470),M=s(40918),L=s(87771),P=s(76223),y=s.n(P),b=s(85786),F=s.n(b),U=s(67782),v=s(92559);function w(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class G extends i.Component{constructor(){super(),w(this,"state",{isPickerOpen:!1}),w(this,"handleContactContainerClick",(e=>{this.pillContainerRef&&e.target&&(e.target.getAttribute("class")||"").indexOf("pill-list")>-1&&this.props.onContactContainerClick()})),w(this,"onOpen",(()=>{this.state.isPickerOpen||this.setState({isPickerOpen:!0},this.props.contactPickerClicked)})),w(this,"onClose",(()=>{this.state.isPickerOpen&&this.setState({isPickerOpen:!1})})),this.pillContainerRef=i.createRef()}render(){const e=y()(F(),{active:this.props.active});return i.createElement("div",{className:e.module,"data-test-id":"recipient-input"},i.createElement(R.Z,{ref:e=>this._container=e},i.createElement(O.Z,{onClick:this.togglePickerStatus},i.createElement("button",{"aria-haspopup":!0,className:e.label,"data-test-id":`label-input-${this.props.label.props.defaultMessage}`},this.props.label)),i.createElement(D.ZP,{isArrowVisible:!1,triggerOn:N.K2.CLICK,zAltitude:S.LSY.POPOVER.HIGH,onClick:e=>e.stopPropagation(),align:N.xM.START,onShow:this.onOpen,onHide:this.onClose,outerClickFallthrough:!1},i.createElement(L.cr,{import:"../../contact_picker/index",onClose:()=>this._container.hide(N.K2.CLICK),addContactsToField:this.props.addContactsToField,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,95822))},_moduleResolver:function(){return 95822}}))),i.createElement("div",{className:e.children,"data-test-id":this.props.childrenId,onClick:this.handleContactContainerClick,ref:this.pillContainerRef},this.props.children))}}w(G,"defaultProps",{active:!1});const k=(0,a.connect)(null,(e=>({contactPickerClicked:()=>e((0,U.openContactPickerDisplay)({i13nModel:{mKey:v.JE.OPEN_CONTACT_PICKER,sec:v.nJ.CONTACT_PICKER,interactionType:v.Rb.click}}))})))(G);class H extends i.Component{render(){const e=y()(F(),{active:this.props.active,columnLayout:this.props.columnLayout});return i.createElement("div",{className:e.module,"data-test-id":"labeled-input"},i.createElement("label",{htmlFor:this.props.for,className:e.label,onClick:this.props.onLabelClick,"data-test-id":`label-input-${this.props.label.props.defaultMessage}`},this.props.label),i.createElement("div",{className:e.children,"data-test-id":this.props.childrenId},this.props.children))}}var B,x,V;V={active:!1},(x="defaultProps")in(B=H)?Object.defineProperty(B,x,{value:V,enumerable:!0,configurable:!0,writable:!0}):B[x]=V;var W=s(21939),Z=s(66679),K=s(64828),z=s(94482),q=s(77078),Y=s(44377),j=s.n(Y);const Q=y()(j());function X({account:e,selected:t,onClick:s}){return i.createElement(z.Z,{ariaLabel:e.email,kind:q.F.ACCOUNT_PICKER,name:e.email},i.createElement("span",{className:Q.rtlIgnoreDir},i.createElement(p.Z,{kind:C.F.MENUITEM,onClick:s,style:{backgroundColor:t?"#f9faff":""},overridingClass:Q.buttonOverride},i.createElement("div",{className:Q.buttonContent},i.createElement("span",{className:Q.checkmarkWrapper+" "+Q.rtlIgnoreMarginR},t&&i.createElement(g.Z,{kind:h.Kinds.CHECKMARK,size:h.Sizes.XS})),i.createElement("span",{className:Q.sendingName},e.sendingName),i.createElement("span",{className:Q.itemAddress+" "+Q.rtlIgnoreMarginL},e.email)))))}var J=s(70905),$=s.n(J);function ee(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const te=()=>{};class se extends i.Component{constructor(...e){super(...e),ee(this,"handleAccountChange",(e=>{this.props.selected!==e&&this.props.onChange(e)})),ee(this,"getMenuItems",(()=>{const{sendingAccounts:e,selected:t,dir:s}=this.props;return e.map((e=>i.createElement(X,{key:e.email,dir:s,account:e,selected:e===t,onClick:this.handleAccountChange.bind(this,e)})))}))}render(){const{selected:e,sendingAccounts:t,isCompactCompose:s}=this.props,a=y()($(),{isCompactCompose:s});if(!t.length)return null;const n="<"+e.email+">",r=i.createElement("div",{className:a.menuLabelEmail,"data-test-id":"compose-sending-address"},n);return 1===this.props.sendingAccounts.length?i.createElement("div",{tabIndex:0,"aria-label":this.props.selectLabel+" "+e.email,className:a.fromField,ref:"accountSelect"},i.createElement("span",null,e.sendingName," "),r):i.createElement("div",{className:a.select},i.createElement(W.Z,{onFocus:this.props.onFocus,onBlur:this.props.onBlur,className:a.menuContainer},i.createElement(Z.Z,{"aria-label":this.props.selectLabel+" "+e.email,hasText:!0,tabIndex:0},i.createElement("span",{className:a.label},i.createElement("span",{className:a.labelName},e.sendingName," "),r,i.createElement(g.Z,{kind:h.Kinds.CHEVRON_UP,size:h.Sizes.XXS,rotate:h.Rotate.D180}))),i.createElement(K.ZP,null,this.getMenuItems(a))))}}ee(se,"defaultProps",{onFocus:te,onBlur:te,onChange:te,isCompactCompose:!1});const ae=se;var ne=s(23279),re=s.n(ne),oe=s(14256),ie=s(79149),le=s.n(ie),ce=s(70006),de=s(28559),Ee=s(33364),_e=s(85927),ue=s(72710),me=s(7320),Se=s(18446),pe=s.n(Se),Ce=s(17016),Ae=s(97602);function Te(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const he=s(7320).KeyCodes,ge=(0,c.defineMessages)({suggestions_available:{id:"compose.suggestions_available",defaultMessage:"{suggestionsNum, plural, =0 {No suggestions are available.} one {# suggestion is available.} other {# suggestions are available. Use up and down arrows to select.}}"},from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural, one {# contact} other {# contacts}}"},close_related_contacts:{id:"dropdown.close_related_contacts",defaultMessage:"Close"},related_contacts:{id:"dropdown.related_contacts",defaultMessage:"Related contacts:"}}),Ie=/([^\s,;]+?@[^\s,;]+?\.[a-z]+[>)]?)[\s,;]+([^\s,;])/gi,Re=/[;,]+/,Oe=()=>{};class De extends i.Component{constructor(...e){super(...e),Te(this,"shouldComponentUpdate",((e,t)=>this.state.inputValue!==t.inputValue||!pe()(e.getSuggestions(t.inputValue),this.props.getSuggestions(this.state.inputValue))||!(0,Ce.compareObjectsWithKeys)(this.props,e,["autoBidi","composePillCount","id","inputId","isDragged","isEditing","maxContactsVisible","placeholder","selectedPills","recipientContacts","shiftDelimiters","showCcBcc","showSuggestions","wasRelatedContactsDropdownClosed"]))),Te(this,"createSearchRequest",(e=>re()(this.requestContactSuggestions,e))),Te(this,"inputValueToContact",(()=>{const{inputValue:e}=this.state;e.trim()&&(this.props.autoSuggestionDropdownWillAppear(),this.props.onInputContactAdd(e,this.props.isEditing),this.setState({inputValue:""}))})),Te(this,"handleOnFocus",(e=>{this.props.onFocus&&this.props.onFocus(e)})),Te(this,"handleOnBlur",(e=>{document.hasFocus()&&this.inputValueToContact(),this.props.onBlur&&this.props.onBlur(e)})),Te(this,"handleInputKeyDown",(e=>{const{inputValue:t}=this.state,{shiftDelimiters:s,delimiters:a}=this.props,{ctrlKey:n,altKey:r,metaKey:o,shiftKey:i,which:l,keyCode:c}=e,d=this._isDelimiterKey(l||c);n||r||o||t&&(i&&d(s)||!i&&d(a))&&(e.preventDefault(),this.inputValueToContact())})),Te(this,"_isDelimiterKey",(e=>t=>-1!==t.indexOf(e))),Te(this,"handleInputChange",(e=>{const t=this.constructor.splitByDelimiters(e);t.length>1&&t.splice(0,t.length-1).map((e=>e.trim())).filter(Boolean).forEach((e=>{this.props.onInputContactAdd(e,!1)})),this.props.autoSuggestionDropdownWillAppear(),this.setState({inputValue:t[0]}),this.state.triggerSearchRequest(t[0])})),Te(this,"handleManualPillRemoval",((e,t)=>{t.preventDefault(),this.handlePillRemoval([e])})),Te(this,"handleManualPillEdit",(e=>{const t=(0,de.preparePillContact)(e);this.props.onContactEdit(t)})),Te(this,"handleManualPillUpdate",(e=>{this.props.onInputContactAdd(e,!0)})),Te(this,"handlePillRemoval",(e=>{this.props.onContactRemove(e)})),Te(this,"handleDropdownSelection",((e,t)=>{(t&&t.getAttribute("data-action"))===me.DELETE_CONTACT?this.requestDeleteContactSuggestions(e):(this.setState({inputValue:""}),e.disabled||this.props.onContactAdd({...e,createdTime:Date.now()}))})),Te(this,"handleCloseRelatedContactsPopup",(e=>{const t={interactionType:v.Rb.click,mKey:v.JE.RELATED_CONTACTS_CLOSED,sec:v.nJ.COMPOSE_CONTACTS};this.props.closeRelatedContactsForCurrentSession({i13nModel:t}),this.handleOnBlur(e)})),Te(this,"renderPill",((e,t,s,a)=>{const{name:n,email:r,title:o,isEditing:l,createdTime:c}=(0,de.preparePillContact)(e);return i.createElement(Ee.default,{email:r,isCompose:!0,isDisabled:this.props.isDragged||a||l,name:n,createdTime:c,popoverDidAppear:this.props.emailPillPopoverDidAppear},i.createElement(ce.default,{value:n,title:o,contactId:e.id,contactEmail:r,isEditing:l,isLastElement:t===s.length-1,isSelected:a,onPillUpdate:this.handleManualPillUpdate,onPillRemove:this.handleManualPillRemoval.bind(this,e),onPillEdit:this.handleManualPillEdit.bind(this,e),handleDrop:this.props.handleDrop,handleDragState:this.props.handleDragState,isDragged:this.props.isDragged&&a,inputField:this.props.id,isCompose:!0,selectedPills:this.props.selectedPills}))})),Te(this,"requestContactSuggestions",(()=>{const e=this.state.inputValue;this.props.requestContactSuggestions({i13nModel:{mKey:v.JE.CONTACT_SUGGEST,sec:v.nJ.COMPOSE_CONTACTS},query:e})})),Te(this,"handleOnCopy",(e=>{const{selectedPills:t}=this.props;let s="";t.map((e=>{s+=(0,de.preparePillContact)(e).title+"; "})),e.clipboardData.setData("text/plain",s)})),Te(this,"requestDeleteContactSuggestions",(e=>{this.props.requestDeleteContactSuggestions({contactInfo:e})})),Te(this,"state",{triggerSearchRequest:this.createSearchRequest(50),inputValue:""})}static splitByDelimiters(e){return e.replace(Ie,"$1,$2").split(Re)}UNSAFE_componentWillReceiveProps(e){e.composePillCount>0&&e.composePillCount!==this.props.composePillCount&&!e.wasRelatedContactsDropdownClosed&&this.state.triggerSearchRequest("")}render(){const{formatMessage:e}=this.context.intl,{getSuggestions:t,maxContactsVisible:s,filterSuggestions:a,recipientContacts:n,composePillCount:r,isEditing:o,showSuggestions:l,wasRelatedContactsDropdownClosed:c}=this.props,d=r>0&&!this.state.inputValue&&!c,E=t(this.state.inputValue),_=d&&a(E).length>0?3:s,u=!l||0===r&&!this.state.inputValue||c&&!this.state.inputValue?[]:a(E).slice(0,_),m=y()(le(),{showCcBcc:this.props.showCcBcc});return i.createElement(oe.Pills,{ref:this.props.suggestionRef,id:this.props.id,inputId:this.props.inputId,autoBidi:this.props.autoBidi,tabIndex:this.props.tabIndex,selected:n,renderPill:this.renderPill,placeholder:0===n.length?this.props.placeholder:"",inputValue:this.state.inputValue,onInputKeyDown:this.handleInputKeyDown,onInputChange:this.handleInputChange,onBlur:this.handleOnBlur,onCopy:this.handleOnCopy,onFocus:this.handleOnFocus,onRemove:this.handlePillRemoval,onSelect:this.handleDropdownSelection,notifyPillSelection:this.props.onPillSelection,messageForIncomingOptions:e(ge.suggestions_available,{suggestionsNum:u.length}),className:m.pills,getMessageForOption:this.props.getMessageForOption,containerClassName:m.pillsContainer,containerChildClassName:m.pillsContainerChild,pillClassName:m.pillOuter,noInitialSelection:!0,dropdownVisibleByDefault:!0,typeaheadInputContainerClassName:m.typeahead,typeaheadInputClassName:`input-${this.props.id} ${m.typeaheadInput}`,typeaheadInputHintClassName:m.typeaheadInputHint,typeaheadAriaStatusClassName:m.typeaheadAriaStatus,typeaheadDropDownClassName:m.typeaheadDropDown,clearSelectedPills:this.props.clearSelectedPills,isEditing:o},d&&u.length>0?i.createElement(oe.Option,{className:m.relatedContactsContainer,disabled:!0,value:{disabled:!0}},i.createElement("span",{className:m.relatedContacts,"data-test-id":"related-contacts-dropdown-header"},e(ge.related_contacts)),i.createElement("span",{className:m.relatedContactsClose},i.createElement(T.default,{"data-iskeynav":!0,"data-test-id":"related-contacts-close-button",kind:h.Kinds.CLOSE,size:h.Sizes.XXS,onMouseDown:this.handleCloseRelatedContactsPopup,colorState:h.ColorStates.FIRST_LEVEL_GRAY,paddingLess:!0,title:e(ge.close_related_contacts)}))):null,u.map((e=>i.createElement(oe.Option,{className:m.typeaheadOption,key:e.id,value:e},i.createElement(Ae.default,{option:e})))))}}Te(De,"contextTypes",{intl:c.intlShape.isRequired}),Te(De,"defaultProps",{placeholder:"",tabIndex:-1,maxContactsVisible:6,recipientContacts:[],delimiters:[he.FF_COMMA,he.FF_SEMICOLON,he.SEMICOLON,he.COMMA,he.BREAK,he.TAB],shiftDelimiters:[he.BREAK,he.TAB],handleDrop:Oe,handleDragState:Oe,onPillSelection:Oe,selectedPills:[],clearSelectedPills:Oe,getSuggestions:Oe,filterSuggestions:()=>[],isEditing:!1,requestDeleteContactSuggestions:Oe,requestContactSuggestions:Oe,showSuggestions:!0,autoSuggestionDropdownWillAppear:Oe,emailPillPopoverDidAppear:Oe,wasRelatedContactsDropdownClosed:!1});const Ne=(0,a.connect)(((e,t)=>{const{getComposeSuggestions:s,getComposeSessionsSelectors:a}=(0,_e.selectors)(e),{wasRelatedContactsClosed:n}=a();return{getSuggestions:s,wasRelatedContactsDropdownClosed:n(t.csid)}}),((e,t)=>({requestContactSuggestions:s=>{const{getRecipientList:a,getContextFrom:n}=t,r=a(),o=n();e((0,ue.contactSuggestionRequested)({...s,recipientList:r,contextFrom:o}))},requestDeleteContactSuggestions:s=>{const{getRecipientList:a,getContextFrom:n}=t,r=a(),o=n();e((0,ue.deleteContactSuggestionRequested)({...s,recipientList:r,contextFrom:o}))},closeRelatedContactsForCurrentSession:s=>{e((0,ue.closeRelatedContactsForCurrentSession)({...s,csid:t.csid}))}})))(De);var fe=s(22547),Me=s.n(fe);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Pe(e){const{hasFocus:t,...s}=e,a=y()(Me(),{hasFocus:t});return i.createElement("div",Le({},s,{className:a.input}),e.children)}var ye=s(82249),be=s.n(ye),Fe=s(95406),Ue=s(37422),ve=s(3405),we=s(7426),Ge=s(83034),ke=s(82653),He=s.n(ke);const Be=(0,c.defineMessages)({collapse_recipient:{id:"compose.collapse_recipient",defaultMessage:"and {collapsedRecipientCount} more"}}),xe=()=>{},Ve=e=>{const{recipients:t,onFocus:s}=e,{formatMessage:a}=(0,we.Y)(),[n,r]=(0,i.useState)(!1),o=(0,i.useRef)(),[l,c]=(0,i.useState)(t.length);(0,i.useLayoutEffect)((()=>{let e=0,t=S.CT1;const{offsetWidth:s,children:a}=o.current;Array.from(a).some((a=>t+a.offsetWidth>s||(t+=a.offsetWidth)&&++e&&t>=s)),c(0===e?1:e)}),[o,t]);const d=t.slice(0,l),E=t.slice(l),_=(0,Ge.Z)(He(),{hovered:n}),u=a(Be.collapse_recipient,{collapsedRecipientCount:E.length});return i.createElement("div",{"data-test-id":"collapsed-recipient-pills-container",onClick:s,onFocus:s,className:_.pillsContainer,tabIndex:0,ref:o},d.map((e=>(e=>{const{name:t,email:a,title:n}=(0,de.preparePillContact)(e);return i.createElement(ce.default,{value:t,title:n,contactId:e.id,contactEmail:a,isEditing:!1,isLastElement:!1,isSelected:!1,handleDrop:xe,onPillClick:s,key:a})})(e))),!!E.length&&i.createElement("div",{"data-test-id":"collapsed-recipient-overflow-pill",className:_.overflowPill,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)},u))};function We(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ze=(0,c.defineMessages)({save_draft_and_close:{id:"compose.save_draft_and_close",defaultMessage:"Close (and save to drafts)"},show_cc_button_label:{id:"compose.show_cc_button_label",defaultMessage:"CC / BCC"},hide_cc_button_label:{id:"compose.hide_cc_button_label",defaultMessage:"Hide CC / BCC"},show_cc_only_button_label:{id:"compose.show_cc_only_button_label",defaultMessage:"CC"},hide_cc_only_button_label:{id:"compose.hide_cc_only_button_label",defaultMessage:"Hide CC"},bcc_button_label:{id:"compose.bcc_button_label",defaultMessage:"bcc"},from_input_label:{id:"compose.from_input_label",defaultMessage:"From"},to_input_label:{id:"compose.to_input_label",defaultMessage:"To"},cc_input_label:{id:"compose.cc_input_label",defaultMessage:"CC"},bcc_input_label:{id:"compose.bcc_input_label",defaultMessage:"BCC"},select_contact:{id:"compose.select_contact",defaultMessage:"Select contact {email}"},subject_input_placeholder:{id:"compose.subject_input_placeholder",defaultMessage:"Subject"},additional_options:{id:"compose.additional_options",defaultMessage:"Additional options"},popout_compose:{id:"compose.popout",defaultMessage:"Pop out"}});class Ke extends i.Component{constructor(e){super(e),We(this,"handleSubjectChange",(e=>{const t=e.target.value;this.hideEmailHoverCards(!0),this.setState({subject:t},this.onHeaderChange)})),We(this,"handleCollapsedRecipientPillFocus",(()=>{const{updateComposeHeaderFocus:e,csid:t}=this.props;e({csid:t,inputFocus:this.state.prevFocus})})),We(this,"setDragState",(e=>{this.setState({isDragged:e})})),We(this,"handleDragOver",(e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()})),We(this,"updateSelectedPills",(e=>{this.state.isEditing||this.setState({selectedPills:e})})),We(this,"clearSelectedPills",(e=>{e&&this.clearPillsCallbacks.push(e),this.clearPillsCallbacks.forEach((e=>e())),this.setState({selectedPills:[]})})),We(this,"getCollapsedRecipientGroup",(()=>{let e=[];return e=e.concat(this.state[me.FocusableRefs.TO],this.state[me.FocusableRefs.CC],this.state[me.FocusableRefs.BCC]),e})),We(this,"handleDrop",((e,t,s,a)=>{if(e.stopPropagation(),e.preventDefault(),void 0===s&&(!this.shouldHandleDrop(e.target)||""===t))return;const n=e.dataTransfer.getData("text/pills"),r=document.getElementById("drag-img");let o=[],i={},l=0;if(r&&r.parentNode&&r.parentNode.removeChild(r),""===n||!(0,I.isJSONString)(n))return;const c=JSON.parse(n);c&&(i=c.contact),this.state.selectedPills.length>0&&(o=this.state.selectedPills),i&&(i.id||i.email||i.name)&&(l=o.findIndex((({name:e,email:t})=>i.name===e&&i.email===t)),-1===l&&o.push(i));const d={mKey:v.JE.DRAG_CONTACT,sec:v.nJ.COMPOSE_CONTACTS,actionData:{cnt:o.length,from:c.dragFromField.toUpperCase(),to:t.toUpperCase()}};this.props.dragDropContact({i13nModel:d}),this.handleDragContactAdd(t,o,{side:s,id:a}),c.dragFromField!==t&&this.handleContactRemove(c.dragFromField,o,!0),this.setDragState(!1),this.clearSelectedPills()})),We(this,"handleDragContactAdd",((e,t=[],{side:s="other",id:a})=>{const n=this.state[e],r=n.filter((e=>!t.find((({name:t,email:s})=>e.name===t&&e.email===s)))),o={left:0,right:1,other:n.length+1}[s],i=Math.max(0,r.findIndex((e=>e.id===a))+o),l=r.slice(0,i).concat(t).concat(r.slice(i));this.setState({[e]:l},this.onHeaderChange)})),We(this,"handleContactRemove",((e,t,s)=>{const a=this.state[e];let n=[];if(s){t.filter((e=>!!a.find((({name:t,email:s})=>e.name===t&&e.email===s)))).forEach((e=>{const t=a.findIndex((({name:t,email:s})=>e.name===t&&e.email===s));a.splice(t,1)})),n=a}else n=E()(a,t);this.setState({[e]:n},this.onHeaderChange)})),We(this,"handleContactEdit",((e,t)=>{const s=this.state[e].map((e=>e.email===t.email?Object.assign({},e,{isEditing:!0}):e));this.setState({[e]:s,isEditing:!0},this.onHeaderChange)})),We(this,"messageForOption",(e=>e.email?this.context.intl.formatMessage(Ze.select_contact,{email:e.email}):e)),We(this,"toggleExtraRecipients",(()=>{const{CC:e,TO:t}=me.FocusableRefs;this.toggleCcBcc(!this.state.showCcBcc,(()=>{this.focus(this.state.showCcBcc?e:t),this.handleFocusChange(this.state.showCcBcc?e:t,!0)}))})),We(this,"filterSuggestions",((e=[])=>{if(!e.length)return[];const t=this.state.to.concat(this.state.cc,this.state.bcc).reduce(((e,{email:t})=>(e[t]=1,e)),Object.create(null));return Object.keys(t).length&&(e=e.filter((({email:e})=>!t[e]))),e})),We(this,"handleContactAdd",((e,t)=>{let s=this.state[e];const a=({email:e,id:t,name:s,createdTime:a})=>{const n={createdTime:a};return e&&(n.email=e),t&&(n.id=t),s&&(n.name=s),n};if(Array.isArray(t)||t.hasOwnProperty("list")){const e=Array.isArray(t)?t:t.list;s=s.concat(e.map(a))}else void 0===s.find((e=>e.email===t.email))&&(s.push(a(t)),this.props.addRecipient({i13nModel:{mKey:v.JE.SELECT_CONTACT,sec:v.nJ.COMPOSE_CONTACTS}}));this.setState({[e]:s},this.onHeaderChange)})),We(this,"emailPillPopoverDidAppear",(e=>{this._popoverReference=e,this.state.isAutosuggestionHidden||this.setState({isAutosuggestionHidden:!0})})),We(this,"autoSuggestionDropdownWillAppear",(()=>{this._popoverReference&&(this._popoverReference.handlePopoverHide(),this._popoverReference=null),this.state.isAutosuggestionHidden&&this.setState({isAutosuggestionHidden:!1})})),We(this,"handleChangeReplyToSetting",(e=>{this.context.navigateTo({route:(0,ve.Tx)({settingsGroupId:Ue.u5h.ACCOUNTS}),i13nModel:{mKey:v.JE.CHANGE_REPLY_TO_SETTING,sec:v.nJ.REPLY_TO_ALERT_POPOVER,interactionType:(0,Ce.getInteractionFromEvent)(e)}})})),We(this,"getRecipientList",(()=>{const{to:e,cc:t,bcc:s}=this.state;return(0,I.buildRecipients)([e,t,s])})),We(this,"getContextFrom",(()=>this.state.from.email)),We(this,"handleFromChange",(e=>{this.setState({from:e},this.onHeaderChange)}));const{from:t={},to:s=[],cc:a=[],bcc:n=[],subject:r=""}=this.props;this.state={from:t,to:s,cc:a,bcc:n,subject:r,prevFocus:me.FocusableRefs.TO,showCcBcc:!!a.length||!!n.length,xButtonHovered:!1,isDragged:!1,isEditing:!1,selectedPills:[],isAutosuggestionHidden:!1},this.clearPillsCallbacks=[]}componentDidUpdate(e){const{composeMode:t,cc:s,bcc:a,csid:n,onComposeHeaderDelete:r,composeParams:o,inputFocus:i}=this.props,l=this.state[i],c=o&&o[i]&&o[i].length?o[i]:[];e.inputFocus!==i&&this.focus(i),this.setState((()=>this.props.composeMode!==t?{showCcBcc:!!s.length||!!a.length}:null),(()=>{if(c.length){l.every((({email:e})=>e!==c[0].email))&&this.handleContactAdd(i,c),r({csid:n})}}))}handleXButtonHover(e){this.setState({xButtonHovered:e})}handleInputContactAdd(e,t,s=!1){const a=(0,de.createAddress)(t.trim());s?this.handleContactUpdate(e,{email:a.email,name:a.name}):this.handleContactAdd(e,{email:a.email,name:a.name})}hideEmailHoverCards(e){e&&this._popoverReference&&(this._popoverReference.handlePopoverHide(),this._popoverReference=null)}handleFocusChange(e,t){const{csid:s}=this.props;this.hideEmailHoverCards(t),setTimeout((()=>this.props.updateComposeHeaderFocus({csid:s,inputFocus:e})),0),(0,I.isRecipientFieldsFocused)(e)&&this.setState({prevFocus:e})}shouldHandleDrop(e){return this.refs.composeHeaderTop.contains(e)}componentWillUnmount(){this.clearPillsCallbacks.length=0}addContactsToField(e){const{recipientGroup:t}=this.state;this.handleContactAdd(t,e)}editContactsToField(e){const{recipientGroup:t}=this.state;this.handleContactAdd(t,e)}focus(e){this.refs[e]?this.refs[e].focus():this[e]&&this[e].focus()}componentDidMount(){this.props.isHeaderFocusDisabled||this.focus(this.props.inputFocus)}toggleCcBcc(e=!1,t=(()=>{})){this.setState({showCcBcc:e},t)}onHeaderChange(){const{from:e,to:t,cc:s,bcc:a,subject:n}=this.state;this.props.onChange({from:e,to:t,cc:s,bcc:a,subject:n})}handleContactUpdate(e,t){const s=this.state[e].reduce(((e,s)=>s.isEditing?t.email?e.concat(Object.assign({},t)):e:e.concat(s)),[]);this.setState({[e]:s,isEditing:!1},this.onHeaderChange)}renderAutoSuggest(e,t){const{inputFocus:s}=this.props,a=this.state[e],n="message-"+e+"-field",r=this.props[me.FocusableRefs.TO].length+this.props[me.FocusableRefs.CC].length+this.props[me.FocusableRefs.BCC].length;return i.createElement(k,{active:s===e,label:t,childrenId:"compose-header-field-"+e,identifier:e,"data-test-id":`contact-picker-${e}`,addContactsToField:this.handleContactAdd.bind(null,e),onContactContainerClick:this.focus.bind(this,e)},i.createElement(Ne,{filterSuggestions:this.filterSuggestions,suggestionRef:t=>this[e]=t,id:e,inputId:n,autoBidi:!1,recipientContacts:a,onFocus:this.handleFocusChange.bind(this,e,!0),onInputContactAdd:this.handleInputContactAdd.bind(this,e),onContactRemove:this.handleContactRemove.bind(null,e),onContactAdd:this.handleContactAdd.bind(null,e),onContactEdit:this.handleContactEdit.bind(null,e),isEditing:this.state.isEditing,getMessageForOption:this.messageForOption,showCcBcc:this.state.showCcBcc,handleDrop:(t,s,a)=>this.handleDrop(t,e,s,a),handleDragState:this.setDragState,isDragged:this.state.isDragged,onPillSelection:this.updateSelectedPills,selectedPills:this.state.selectedPills,clearSelectedPills:this.clearSelectedPills,getRecipientList:this.getRecipientList,getContextFrom:this.getContextFrom,composePillCount:r,showSuggestions:!this.state.isAutosuggestionHidden&&s===e,emailPillPopoverDidAppear:this.emailPillPopoverDidAppear,autoSuggestionDropdownWillAppear:this.autoSuggestionDropdownWillAppear,csid:this.props.csid,inputFocus:s}))}renderCloseButton(e){const t=this.context.intl.formatMessage(Ze.save_draft_and_close),s=this.state.xButtonHovered?h.ColorStates.NORMAL:h.ColorStates.DISABLED;return i.createElement("span",{className:e.xButton},i.createElement(T.default,{onClick:this.props.onClose,title:t,"aria-label":t,kind:h.Kinds.CLOSE,colorState:s,size:h.Sizes.XXS,tabIndex:0}))}renderExtraRecipientBtn(e){if(this.state.cc.length>0||this.state.bcc.length>0)return null;const{formatMessage:t}=this.context.intl,{isBccDisabled:s}=this.props,a=this.state.showCcBcc?t(s?Ze.hide_cc_only_button_label:Ze.hide_cc_button_label):t(s?Ze.show_cc_only_button_label:Ze.show_cc_button_label);return i.createElement(p.Z,{ref:me.FocusableRefs.CCBTN,className:e,tabIndex:-1,onClick:this.toggleExtraRecipients,kind:C.F.CHROMELESS,"data-test-id":"btn-cc"},a)}renderEditSubjectMenu(e){const{formatMessage:t}=this.context.intl;return i.createElement(R.Z,{className:e.additionalOptionsButtonWrapper},i.createElement(O.Z,null,i.createElement(T.default,{"data-test-id":"additional-compose-options-button",kind:h.Kinds.CHEVRON_UP,rotate:h.Rotate.D180,size:h.Sizes.XS,title:t(Ze.additional_options)})),i.createElement(D.ZP,{triggerOn:N.K2.CLICK,align:N.xM.START,offset:2*S.mg$},i.createElement("div",{className:e.additionalOptionsListWrapper},i.createElement(f.Z,{kind:M.F.MENU,focusOnMount:!0,"data-test-id":"additional-compose-options-menu"},i.createElement("li",null,i.createElement(p.Z,{"data-test-id":"edit-subject",kind:C.F.MENUITEM,onClick:this.props.onEditSubject},i.createElement(c.FormattedMessage,{id:"editSubject",defaultMessage:"Edit subject"})))))))}renderReplyToWarning(e){return i.createElement(R.Z,null,i.createElement(O.Z,null,i.createElement("div",{className:e.replyToAnchor,"data-test-id":"reply-to-warning-anchor"},i.createElement("div",{className:e.replyToAnchorLabel},i.createElement(c.FormattedMessage,{id:"compose.reply_to_label",defaultMessage:"Reply-to: {replyToAddress}",values:{replyToAddress:this.props.from.replyToAddress}})),i.createElement(g.Z,{kind:h.Kinds.ATTENTION,colorState:h.ColorStates.ADVISORY,size:h.Sizes.XXS}))),i.createElement(D.ZP,{triggerOn:N.K2.CLICK,isArrowVisible:!0},i.createElement("div",{className:e.replyToPopover,"data-test-id":"reply-to-warning-content"},i.createElement(c.FormattedMessage,{id:"compose.reply_to_description",defaultMessage:"Replies to this message will be sent to {replyToAddress}.",values:{replyToAddress:this.props.from.replyToAddress}}),i.createElement("div",null,i.createElement(p.Z,{kind:C.F.TEXT,onClick:this.handleChangeReplyToSetting},i.createElement(c.FormattedMessage,{id:"compose.reply_to_settings",defaultMessage:"Change in Settings"}))))))}renderCcBcc(e){const{inputFocus:t}=this.props;return i.createElement(i.Fragment,null,i.createElement(Pe,{hasFocus:t===me.FocusableRefs.CC,"data-test-id":"container-cc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,me.FocusableRefs.CC)},i.createElement("div",{className:e.ccContainer},this.renderAutoSuggest(me.FocusableRefs.CC,i.createElement(c.FormattedMessage,Ze.cc_input_label)))),!this.props.isBccDisabled&&i.createElement(Pe,{hasFocus:t===me.FocusableRefs.BCC,"data-test-id":"container-bcc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,me.FocusableRefs.BCC)},this.renderAutoSuggest(me.FocusableRefs.BCC,i.createElement(c.FormattedMessage,Ze.bcc_input_label))))}renderRecipients(e){const{inputFocus:t}=this.props;return i.createElement("div",{"data-test-id":"compose-recipient-container"},i.createElement(Pe,{hasFocus:t===me.FocusableRefs.TO,"data-test-id":"container-to",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,me.FocusableRefs.TO)},this.props.canEditSubject?null:this.renderEditSubjectMenu(e),this.renderAutoSuggest(me.FocusableRefs.TO,i.createElement(c.FormattedMessage,Ze.to_input_label)),this.renderExtraRecipientBtn(e.extraRecipientsBtn)),this.state.showCcBcc&&this.renderCcBcc(e))}render(){const{inputFocus:e,from:t,showPopOutBtn:s,onComposePopOut:a,accounts:n,canEditSubject:r,isCompactCompose:o}=this.props,l=y()(be(),{"filled-subject":this.state.subject.length>0,isSubjectDisabled:!r,isCompactCompose:o}),d=t.replyToAddress&&t.replyToAddress!==t.email,E=this.context.intl.formatMessage(Ze.popout_compose),_=this.getCollapsedRecipientGroup(),u=o&&!(0,I.isRecipientFieldsFocused)(e)&&_.length>0;return i.createElement("div",{className:"compose-header "+l.container},s&&i.createElement("div",{className:l.expandButton},i.createElement(T.default,{title:E,"aria-label":E,size:h.Sizes.XXS,kind:h.Kinds.WINDOW_BOX,onClick:a,colorState:h.ColorStates.INHERITED,tabIndex:0})),this.props.showCloseButton?i.createElement("div",{className:l.xButtonWrapper,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1)},this.renderCloseButton(l)):null,i.createElement("div",{"data-test-id":"compose-header-top",className:l.composeHeaderTop,ref:"composeHeaderTop",onFocus:this.handleOnFocus},this.props.showFrom?i.createElement(Pe,{hasFocus:e===me.FocusableRefs.FROM,"data-test-id":"container-from"},i.createElement(H,{active:e===me.FocusableRefs.FROM,columnLayout:this.props.isCompactCompose,label:i.createElement(c.FormattedMessage,Ze.from_input_label)},i.createElement(ae,{dir:this.props.rtl?"rtl":"ltr",selectLabel:this.context.intl.formatMessage(Ze.from_input_label),onFocus:this.handleFocusChange.bind(this,me.FocusableRefs.FROM,!0),sendingAccounts:n,selected:this.state.from,onChange:this.handleFromChange,isCompactCompose:this.props.isCompactCompose}),d&&this.renderReplyToWarning(l))):null,u?i.createElement(Ve,{recipients:_,onFocus:this.handleCollapsedRecipientPillFocus}):this.renderRecipients(l)),this.props.showSubject?i.createElement("div",{className:l.composeSubject},i.createElement(Pe,{hasFocus:e===me.FocusableRefs.SUBJECT},this.props.canEditSubject||this.props.composeMode!==Ue.AGu.Modes.FORWARD?null:this.renderEditSubjectMenu(l),i.createElement(A.Z,{"data-test-id":"compose-subject",onFocus:this.handleFocusChange.bind(this,me.FocusableRefs.SUBJECT,!0),ref:me.FocusableRefs.SUBJECT,spellCheck:!0,autoCorrect:"off","aria-label":this.context.intl.formatMessage(Ze.subject_input_placeholder),className:l.subject,placeholder:this.context.intl.formatMessage(Ze.subject_input_placeholder),value:this.state.subject,onChange:this.handleSubjectChange,disabled:!this.props.canEditSubject,onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,"")}))):null)}}We(Ke,"contextTypes",{config:o().object,navigateTo:o().func,intl:c.intlShape.isRequired}),We(Ke,"defaultProps",{subject:"",from:{},to:[],cc:[],bcc:[],inputFocus:me.FocusableRefs.TO,showSubject:!0,isBccDisabled:!1,canEditSubject:!0,onChange:()=>{}});const ze=Ke;var qe=s(31953),Ye=s(68878),je=s(96943);const{TAB:Qe,ENTER:Xe,ESCAPE:Je,ARROW_UP:$e,ARROW_DOWN:et,ARROW_LEFT:tt,ARROW_RIGHT:st}=Ue.R8U;class at{constructor(e){this.args=e,this.TAG_REGEX=/^[\s]*[@+]([^\s\d\W][\w\s]*)$/,this.keyCodeMapper=[Qe,Xe,Je,$e,et],this.dropdownRef=this.args.dropdownRef,this.activeIndexBeginAt=1,this.lineHeight=20}getEventName(e){return"string"==typeof e?e:e&&e.type}contentChanged(e){if("keydown"===this.getEventName(e)&&this.args.isContactSuggestionVisible()){const t=this.args.getContactSuggestions(),s=this.args.getDropdownActiveIndex();this.keyCodeMapper.indexOf(e.key)>-1?(e.preventDefault(),e.stopPropagation()):[st,tt].indexOf(e.key)>-1&&this.args.toggleDropdown(!1);const a=t.length;if([Qe,Xe].indexOf(e.key)>-1)this.args.insertContact(t[s-this.activeIndexBeginAt]);else if(e.key===et){const e=s+1,t=e>a?this.activeIndexBeginAt:e;this.args.updateActiveIndex(t)}else if(e.key===$e){const e=s-1,t=e<this.activeIndexBeginAt?a:e;this.args.updateActiveIndex(t)}else e.key===Je&&this.args.toggleDropdown(!1)}}onContentMutated(e,t){const s=e.filter((e=>"characterData"===e.type));if(!t.length&&s.length&&this.dropdownRef)try{const e=at.getRangeFromStartToCursor().startContainer,t=e.textContent,s="Firefox"===(0,Fe.u9)(window,"AppBootstrapData.browserName","")?t.replace(/<br>/,""):t,a=this.TAG_REGEX.exec(s);if(a&&a.length){const t=e.parentElement.getBoundingClientRect(),s=a[a.length-1];if(1===s.length){const e={interactionType:v.Rb.keydown,mKey:v.JE.AUTOTAG_DROPDOWN_SHOWN,sec:v.nJ.COMPOSE_MSG};this.args.handleAutotagDropdownShown({i13nModel:e})}const{x:n}=this.args.rte.getCaretCoordinates(),r=this.getOffets(),o=t.top-this.args.rte.element.getBoundingClientRect().top,i=t.height;return this.dropdownRef.style.left=r.left+n+10+"px",this.dropdownRef.style.top=r.top+o+i+"px",void this.args.showContactSuggestion(s)}}catch(a){return}this.args.hideContactSuggestion()}static getRangeFromStartToCursor(){const e=window.getSelection(),t=document.createRange();return t.setStart(e.anchorNode,0),t.setEnd(e.anchorNode,e.anchorOffset),t}getOffets(){const{containerRef:e,rte:t}=this.args,s=t.element.getBoundingClientRect(),a=e.getBoundingClientRect();return{top:s.top-(a.top||0),left:s.left-(a.left||0)}}setDropdownElement(e){this.dropdownRef=e}insertContact(e=""){this.args.rte.restoreCaret(),this.args.rte.focus();const t=at.getRangeFromStartToCursor(),s=t.toString(),a=this.TAG_REGEX.exec(s);let n="";if(a&&a.length&&a.input){n=-1!==a.input.indexOf("+")?"+":-1!==a.input.indexOf("@")&&"@";try{t.setStart(t.startContainer,a.input.indexOf(n))}catch(r){return void je.Z.error("Should not be inserting contact if it is not prefixed with +/@",r)}t.setEnd(t.endContainer,t.endOffset);const s=window.getSelection();s.removeAllRanges(),s.addRange(t);let o="initial";try{o=window.getComputedStyle(s.anchorNode.parentElement).getPropertyValue("font-size")}catch(r){je.Z.error("Unable to get font size",r)}const i=document.createElement("span");i.innerHTML=this._getHighlightedName(n+e,o),t.deleteContents(),t.insertNode(i),t.setStartAfter(i),t.setEndAfter(i),s.removeAllRanges(),s.addRange(t),t.startContainer.parentElement.style.fontSize=o}}_getHighlightedName(e,t){return`<span style="background-color: #DBEDFE;font-size: ${t}" contenteditable="false" tabIndex="-1">${e}</span>&nbsp;`}}const nt=at;var rt=s(50566);function ot(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class it extends i.Component{constructor(e){super(e),ot(this,"_onXButtonClick",(()=>{const e={interactionType:v.Rb.click,mKey:v.JE.AUTOTAG_DROPDOWN_CLOSED,sec:v.nJ.COMPOSE_MSG};this.props.closeAutotagForCurrentSession({i13nModel:e}),this._closeAutotag()})),ot(this,"insertContact",(e=>{if(e.disabled)return;const t={interactionType:v.Rb.click,mKey:v.JE.AUTOTAG_CONTACT_SELECTED,sec:v.nJ.COMPOSE_MSG};this.toggleDropdown(!1),this.props.addInlineContactSuggestionToCcField(e),this._autotagPlugin.insertContact(e.name),this.props.handleAutotagContactSelected({i13nModel:t})})),ot(this,"_closeAutotag",(()=>{this._dropdownRef&&this.toggleDropdown(!1)})),ot(this,"_handleDropdownRef",(e=>{this._dropdownRef=this._dropdownRef||(0,l.findDOMNode)(e),this._autotagPlugin&&this._autotagPlugin.setDropdownElement(this._dropdownRef)})),this.state={contactActiveIndex:1,isContactSuggestionVisible:!1}}componentDidMount(){this.requestContactSuggestions=re()(this.props.requestContactSuggestions,300,{leading:!0}),window.addEventListener("mousedown",this._closeAutotag)}UNSAFE_componentWillReceiveProps(e){if(!this._autotagPlugin&&e.editorReference&&e.editorReference.rte){const{containerRef:t,editorReference:s}=e,{rte:a}=s;this._autotagPlugin=new nt({showContactSuggestion:this.showContactSuggestion.bind(this),hideContactSuggestion:this.toggleDropdown.bind(this),handleAutotagDropdownShown:e=>this.props.handleAutotagDropdownShown(e),isContactSuggestionVisible:()=>this.isContactSuggestionVisible(),setEditorState:e=>this.setState(e),updateActiveIndex:e=>this.setState({contactActiveIndex:e}),getContactSuggestions:()=>this.props.contactSuggestions,getDropdownActiveIndex:()=>this.state.contactActiveIndex,wasDropdownClosed:()=>this.props.wasDropdownClosed,insertContact:this.insertContact,toggleDropdown:this.toggleDropdown.bind(this),dropdownRef:this._dropdownRef,containerRef:t,rte:a}),e.editorReference.rte.addPlugin(this._autotagPlugin)}}showContactSuggestion(e=""){e.trim().length>0&&(this.requestContactSuggestions({query:e}),this.toggleDropdown(!0))}toggleDropdown(e=!1){this.state.isContactSuggestionVisible!==e&&this.setState({isContactSuggestionVisible:e,contactActiveIndex:1})}componentWillUnmount(){window.removeEventListener("mousedown",this._closeAutotag)}_getContactOptionItems(e){const{formatMessage:t}=this.context.intl;return[i.createElement(Ye.Option,{className:e.relatedContactsContainer,disabled:!0,value:{disabled:!0}},i.createElement("span",{className:e.relatedContacts},i.createElement(c.FormattedMessage,{id:"autotag_dropdown.add_recipient",defaultMessage:"Add a recipient"})),i.createElement("span",{className:e.relatedContactsClose},i.createElement(T.default,{"data-iskeynav":!0,"data-test-id":"autotag-close-button",kind:h.Kinds.CLOSE,size:h.Sizes.XXS,onMouseDown:this._onXButtonClick,colorState:h.ColorStates.FIRST_LEVEL_GRAY,paddingLess:!0,title:t(ge.close_related_contacts),id:"autotag-close"}))),...this.props.contactSuggestions.map((t=>i.createElement(Ye.Option,{className:e.typeaheadOption,key:t.id,value:t},i.createElement(Ae.default,{option:t,allowContactRemoval:!1}))))]}isContactSuggestionVisible(){return!(this.props.wasDropdownClosed||!this.props.contactSuggestions.length||!this.state.isContactSuggestionVisible)}render(){if(!this._autotagPlugin)return null;const e=y()(le(),{autotag:!0});return i.createElement(Ye.Dropdown,{ref:this._handleDropdownRef.bind(this),options:this._getContactOptionItems(e),activeIndex:this.state.contactActiveIndex,visible:this.isContactSuggestionVisible(),onMouseDown:this.insertContact,className:e.typeaheadDropDown})}}it.defaultProps={containerRect:{},wasDropdownClosed:!1},it.contextTypes={intl:c.intlShape.isRequired};const lt=(0,a.connect)(((e,t)=>{const{getAutotagSuggestions:s,getComposeSessionsSelectors:a}=(0,_e.selectors)(e),{wasAutotagDropdownClosed:n}=a();return{contactSuggestions:s(t.csid),wasDropdownClosed:n(t.csid)}}),((e,t)=>({requestContactSuggestions:s=>{e((0,ue.contactSuggestionRequested)({...s,csid:t.csid}))},closeAutotagForCurrentSession:s=>{e((0,ue.closeAutotagForCurrentSession)({...s,csid:t.csid}))},handleAutotagDropdownShown:t=>{e({type:rt.AUTOTAG_DROPDOWN_SHOWN,...t})},handleAutotagContactSelected:t=>{e({type:rt.AUTOTAG_CONTACT_SELECTED,...t})}})),null,{withRef:!0})(it);var ct=s(24329),dt=s.n(ct);function Et(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _t=y()(dt());class ut extends i.Component{constructor(...e){super(...e),Et(this,"state",{dragOverlayVisible:!1}),Et(this,"handleDragOver",(e=>{e.dataTransfer&&Array.prototype.slice.call(e.dataTransfer.types).some((e=>"Files"===e))&&(this.state.dragOverlayVisible||this.setState({dragOverlayVisible:!0}),e.preventDefault(),e.stopPropagation())})),Et(this,"handleDragLeave",(e=>{e.preventDefault(),e.stopPropagation(),this.state.dragOverlayVisible&&this.setState({dragOverlayVisible:!1})})),Et(this,"handleDrop",(e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files;this.setState({dragOverlayVisible:!1},(()=>this.props.onDrop(Array.prototype.slice.call(t))))}))}render(){return i.createElement("div",{onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,className:_t.attachmentDragContainer},this.props.children,this.state.dragOverlayVisible?i.createElement("div",{className:_t.dragOverlay},i.createElement("div",{className:_t.dragDescriptionContainer},i.createElement(g.Z,{kind:h.Kinds.ATTACH_GENERIC_48,colorState:h.ColorStates.ATTACH_GENERIC,size:h.Sizes.L}),i.createElement("div",{className:_t.dragTextDescription},i.createElement(c.FormattedMessage,{id:"compose.rte_dragdrop_overlay",defaultMessage:"Drag and drop files here"})))):null)}}const mt=ut;var St=s(60937),pt=s(26453),Ct=s(51892),At=s(576),Tt=s(89963),ht=s(98360),gt=s.n(ht),It=s(68949);function Rt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ot=(0,c.defineMessages)({close:{id:"dualActionDialog.close",defaultMessage:"Close"},gdriveLogo:{id:"compose.gdrive_logo",defaultMessage:"Google Drive logo"},dropboxLogo:{id:"compose.dropbox_logo",defaultMessage:"Dropbox logo"},okButton:{id:"largeAttachmentDialog.ok",defaultMessage:"OK"},attachLargeFileFromGDrive:{id:"compose.attachLargeFileFromGDrive.btn",defaultMessage:"Connect Google Drive"},attachLargeFileFromDropbox:{id:"compose.attachLargeFileFromDropbox.btn",defaultMessage:"Connect Dropbox"},bigAttachmentSupport_title:{id:"compose.too_big_attachment_support_title",defaultMessage:"Attach large files from the cloud"}}),Dt={[Ue.hKF.GDRIVE]:(0,It.A)("/img/google_drive.png"),[Ue.hKF.DROPBOX]:(0,It.A)("/img/dropbox.png")},Nt={margin:`${4*S.mg$}px ${S.mg$}px ${5*S.mg$}px 0`};class ft extends i.Component{constructor(...e){super(...e),Rt(this,"handlePrimaryButtonClick",(e=>{e.stopPropagation(),this.props.onPrimaryButtonClick(e)})),Rt(this,"handleSecondaryButtonClick",(e=>{e.stopPropagation(),this.props.onSecondaryButtonClick(e)})),Rt(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose(e)}))}render(){const{formatMessage:e}=this.context.intl,{message:t}=this.props,s=y()(gt());return i.createElement(Tt.Z,{onClose:this.handleClose},i.createElement("div",{className:s.container,"data-test-id":"large-attachment-support-dialog"},i.createElement("div",{className:s.header},i.createElement("div",{className:s.title,"data-test-id":"title"},e(Ot.bigAttachmentSupport_title)),i.createElement("div",{className:s.close},i.createElement(T.default,{onClick:this.handleClose,kind:h.Kinds.CLOSE,size:h.Sizes.XS,title:e(Ot.close),"aria-label":e(Ot.close),"data-test-id":"close-btn"}))),i.createElement("div",{className:s.message,"data-test-id":"message"},t),i.createElement("div",{className:s.linkControls},i.createElement("div",{className:s.btnLogo,onClick:this.handlePrimaryButtonClick},i.createElement("img",{className:s.logo,alt:e(Ot.gdriveLogo),src:Dt[Ue.hKF.GDRIVE]}),i.createElement("a",{className:s.link,"data-test-id":"primary-btn"},e(Ot.attachLargeFileFromGDrive))),i.createElement("div",{className:s.btnLogo,onClick:this.handleSecondaryButtonClick},i.createElement("img",{className:s.logo,alt:e(Ot.dropboxLogo),src:Dt[Ue.hKF.DROPBOX]}),i.createElement("a",{className:s.link,"data-test-id":"secondary-btn"},e(Ot.attachLargeFileFromDropbox)))),i.createElement("div",{className:s.btnControls},i.createElement(p.Z,{onClick:this.handleClose,style:Nt,"data-test-id":"ok-btn"},e(Ot.okButton)))))}}Rt(ft,"contextTypes",{intl:c.intlShape.isRequired}),Rt(ft,"defaultProps",{primaryButtonLabel:Ot.defaultprimaryButtonLabel,secondaryActionLabel:Ot.defaultsecondaryActionLabel});const Mt=ft;var Lt=s(40564),Pt=s(31057),yt=s(64059),bt=s(32440);function Ft(e,{csid:t,files:s,newContentIds:a,i13nModel:n}){e.dispatch(rt.FILE_ATTACHMENT_ADDED,{csid:t,files:s,newContentIds:a,i13nModel:n})}var Ut=s(77201),vt=(s(42655),s(29824)),wt=s(40959),Gt=s.n(wt),kt=s(30982),Ht=s(23493),Bt=s.n(Ht),xt=s(549),Vt=s(70582),Wt=s(62760),Zt=s(74630),Kt=s(17673);function zt(e){0===e.indexOf("mailto:")&&(e=e.substring(7));const t=function(e){if(e&&e.length){const t=e.indexOf("?");if(t>-1&&(e=e.substring(0,t)),e.length){if(0===(e=e.toLowerCase()).indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("ftp://"))return"";if((0,Ce.isValidEmail)(e))return e}}return""}(e),s=e.indexOf("?");s>-1&&(e=e.substring(s+1));const a=Kt.parse(e);return t&&Object.assign(a,{to:t}),["to","cc","bcc"].forEach((e=>{const t=a[e];t&&"string"==typeof t&&(a[e]=[].concat(t))})),["subject","body"].forEach((e=>{const t=a[e];t&&Array.isArray(t)&&(a[e]=t.pop())})),a}var qt=s(86460),Yt=s(35456),jt=s(8106),Qt=s(7187),Xt=s.n(Qt);const Jt="<div><br/></div>",$t=["font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;","font-size:13px;","color:#26282a;"].join(""),es=/^((?:re|fwd?): )*/i,ts=(e=[])=>{const t={},s=[];return e.forEach((e=>{t[e.email]||(t[e.email]=!0,s.push(e))})),s},ss=(e,t,{getForwardAttachmentIds:s,getAttachmentById:a})=>{const n=s(e)||[];return n.length&&(t.forwardAttachmentAdded=!0),n.forEach((({id:e})=>{const s=a(e),{disposition:n}=s;n===Ue.sSc.Dispositions.ATTACHMENT?t.attachmentsInfo=[...t.attachmentsInfo,s]:t.canApplyDefaultStationery=!1})),t},as=({accounts:e=[],listId:t,csid:s,selectors:a,selectedReplySuggestion:n})=>r=>{const o=(({accounts:e=[],listId:t,csid:s,selectors:a,selectedReplySuggestion:n},r)=>{const{getFeaturesSelectors:o,getMrdParams:i,getAdsSelectors:l,doesComposeSessionExist:c,findUnsyncedDataByCsid:d,doComposeFromRouteQueryParams:E,doComposeFromMailToLink:_,getComposeMailToLink:u,getDraftMessageId:m,getForwardCreativeId:S,isReplyOrReplyAll:p,getReplyingToMessageId:C,getSubjectAndSnippetSelectors:A,getMessageFromAddress:T,getMessageToAddress:h,getMessageCcAddress:g,getMessageBccAddress:R,getMessageTimeStamp:O,doesMessageBodyExist:D,getReplyToAddress:N,isReplyMessage:f,isReplyAllMessage:M,isForwardMessage:L,isMyEmailAddress:P,getAttachmentsByMessageId:y,getSignatureByAccountEmail:b,getMessageBody:F,getStationeryTheme:U,getComposeUndoStack:v,getComposeRedoStack:w,getComposeUiState:G,getTimeZoneName:k,getComposeSessionsSelectors:H,isSelectedAccount:B}=a,x=`${Vt.dj}_${s}`,V=o().isEnabled(Ue.ANe.PERSIST_COMPOSE_TEXT_MODE),W={from:(0,I.getFromAddress)(e),to:[],cc:[],bcc:[],subject:"",body:"",canApplyDefaultStationery:!0,stationeryTheme:"",attachmentsInfo:[],htmlAnnotations:[{divIds:[x]}],uiState:{useRichText:!V||o().getSetting(Ue.Zrf.USE_RICH_TEXT),isQuotedTextExpanded:!1},undoStack:[],redoStack:[]},Z=o("conversations"),K=b(W.from.email),z=U(s);let q="";if(z!==me.NO_STATIONERY&&(W.stationeryTheme=z),W.stationeryTheme||(W.stationeryTheme=o().getSetting(Ue.Zrf.STATIONERY_DEFAULT_THEME)),K&&(q=`<div><br/></div><div><br/></div><div class="signature">${K}</div>`),!c(s))return q&&(W.body+=`<div>${q}</div>`),W;const Y=m(s),{getSubject:j}=A(),Q=d(s);if(Q)return W.from=Q.from||W.from,W.to=Q.to||W.to,W.cc=Q.cc||W.cc,W.bcc=Q.bcc||W.bcc,W.subject=Q.subject||W.subject,W.body=Q.html||(Q.text?`<div>${Xt()(Q.text)}</div>`:W.body),W.canApplyDefaultStationery=!W.body,W.attachmentsInfo=Q.attachmentsInfo||W.attachmentsInfo,W.uiState=Q.uiState||W.uiState,W.stationeryTheme=Q.stationeryTheme||W.stationeryTheme,W.undoStack=Q.undoStack||W.undoStack,W.redoStack=Q.redoStack||W.redoStack,ss(s,W,a);if(Y){const{html:n="",text:r="",htmlAnnotations:o=[]}=D(Y)?F(Y):{},i=T(Y)||[];return W.from=(0,I.getFromAddress)(e,(i[0]||{}).email),W.to=h(Y),W.cc=g(Y),W.bcc=R(Y),W.subject=(0,Wt.bR)(j(Y,t)||""),W.body=n||`<div>${Xt()(r)}</div>`,W.canApplyDefaultStationery=!W.body,W.htmlAnnotations=o,W.attachmentsInfo=y(Y),W.stationeryTheme=U(s)||W.stationeryTheme,W.undoStack=v(s)||[],W.redoStack=w(s)||[],W.uiState=G(s)||W.uiState,ss(s,W,a)}if(E(s)){var X;const e=i();return W.to=e.initialTo||[],W.cc=e.initialCc||[],W.bcc=e.initialBcc||[],W.subject=e.initialSubject||"",W.body=(null===(X=e.initialBody)||void 0===X?void 0:X.content)||(q?`<div>${q}</div>`:""),W.canApplyDefaultStationery=!0,W.stationeryTheme=e.initialStationeryTheme||W.stationeryTheme,W.showGIFPicker=e.showGIFPicker,W.showStationeryPicker=e.showStationeryPicker,W}if(_(s)){const e=zt(u(s)||"");return{...W,to:(e.to||[]).map((e=>({email:e}))),cc:(e.cc||[]).map((e=>({email:e}))),bcc:(e.bcc||[]).map((e=>({email:e}))),subject:e.subject||"",body:e.body||(q?`<div>${q}</div>`:""),canApplyDefaultStationery:!0}}const{formatMessage:J}=r.intl,$=S(s);if($){const{nativeAd:e={},pencilAd:t={}}=l().getSponsoredAd($);return W.subject=t.adHeadline||"",W.body=[`<div><br/></div>\n            <div><br/></div>\n            <div><br/></div>\n            <div style="${$t}">\n                <div>----- ${J(qt.Z.forwarded_message)} -----</div>\n                <div><br/></div>\n                <div>${e.geminiSponsoredAsset||""}</div>\n            </div>`].join(""),W.body+=`<div>${q}</div>`,W.canApplyDefaultStationery=!1,W}ss(s,W,a);const ee=C(s),te=Object.assign({timeZone:k()},me.FORMAT_DATE_OPTION);if(ee){const a=f(s),i=M(s),l=L(s),c=[...N(ee)]||[],d=T(ee)||[],E=Boolean(!!G(s)&&G(s).isQuotedTextExpanded);c.length&&!c.name&&d.length&&c[0].email===d[0].email&&(c[0].name=d[0].name);const _=h(ee),u=g(ee),m=R(ee);if(W.from=(0,I.getFromAddressForReplyForward)(e,{to:_,cc:u,bcc:m}),a||i){const e=-1!==d.findIndex((e=>P(e.email))),t=-1!==c.findIndex((e=>P(e.email)));if(a){const s=-1!==d.findIndex((e=>B(e.email)));W.to=e&&(!c.length||t&&s)?_.slice(0,1):[...c,...d].slice(0,1)}else if(i){const s=-1!==_.findIndex((e=>P(e.email))),a=(e||t)&&s?[...c,...d].find((e=>P(e.email))):[];W.to=ts([..._,...t?[]:c,...c.length||e?[]:d].filter((e=>e.email!==W.from.email)).concat(a)),W.cc=ts([...u].filter((e=>e.email!==W.from.email)).filter((e=>!W.to.find((t=>t.email===e.email)))))}}const S=(0,Wt.bR)(j(ee,t)||"");if(S){const e=p(s)?"Re: ":"Fw: ";W.subject=e+S.replace(es,"")}const C=r.intl.formatDate(1e3*O(ee),te),{html:A=""}=F(ee),D=[];if(d.length)if(Z&&p(s)){const{name:e="",email:t}=d[0];D.push(`<div>\n                    ${(0,Zt.g)(J(qt.Z.quoted_draft,{date:C,quotedName:e,quotedAddress:t}))}\n                </div>\n                <div><br/></div>\n                <div><br/></div>`)}else D.push(`<div>${J(qt.Z.quoted_message_from,{from:(0,Zt.g)((0,I.addressHTMLString)(d[0]))})}</div>`),_.length&&D.push(`<div>${J(qt.Z.quoted_message_to,{to:(0,Zt.g)(_.map(I.addressHTMLString).join("; "))})}</div>`),u.length&&D.push(`<div>${J(qt.Z.quoted_message_cc,{cc:(0,Zt.g)(u.map(I.addressHTMLString).join("; "))})}</div>`),D.push(`<div>${J(qt.Z.quoted_message_sentdate,{sentDate:C})}</div>`,`<div>${J(qt.Z.quoted_message_subject,{subject:Xt()(S)})}</div>`,Jt);const b=p(s)?"":`<div>----- ${J(qt.Z.forwarded_message)} -----</div>`,U=Z?"":"<hr/>";let v=A;return o().isEnabled(Ue.ANe.CEP_FORWARD)&&l&&!E&&-1===A.indexOf(`<div fwdid=${s} src='mid://${ee}'>`)&&(v=[`<div fwdid=${s} src='mid://${ee}'>`,A,"</div>"].join("")),W.body=[n?`<div>${n}&nbsp;</div>`:"",`<div>${q}</div>\n        <div><br/></div><div><br/></div>\n        ${U}\n        <div id="${(0,Zt.b)(x)}" class="${Vt.dj}">\n            <div style="${$t}">\n                ${b}\n                ${D.join("")}\n                <div>${v}</div>\n            </div>\n        </div>`].join(""),W.canApplyDefaultStationery=!0,W.attachmentsInfo=p(s)?[]:y(ee),W}const se=H().getComposeParams(s);return se&&(W.to=se.to||[],W.body=se.body||W.body,W.subject=se.subject||W.subject,W.isDirty=!0,W.feedbackImgs=se.feedbackImgs||[],W.feedbackFiles=se.feedbackFiles||[]),q&&(W.body+=`<div>${q}</div>`),W.stationeryTheme&&z!==me.NO_STATIONERY&&(W.showStationeryPicker=!0),W})({accounts:e,listId:t,csid:s,selectors:a,selectedReplySuggestion:n},r);return(0,jt.jU)()&&(o.uiState.useRichText?o.body=(0,Yt.ZK)(o.body,a):o.body=(0,Yt.iT)(o.body)),o};var ns=s(12630),rs=s(99691),os=s(72942),is=s(90108),ls=s(62639),cs=s(77163),ds=s(1191),Es=s(4119),_s=s(62631),us=s(61395),ms=s.n(us);function Ss(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ps=Ue.nuI.Status,Cs=Ue.AGu.Modes,{Dispositions:As}=Ue.sSc,Ts={[rt.COMPOSE_NO_ADDRESS_DETECTED]:is.$6,[rt.COMPOSE_ADDRESSING_FAILED]:is.$i,[rt.COMPOSE_RECIPIENT_LIMIT_EXCEEDED]:is.s7},hs=()=>{},gs=y()(Gt()),Is={_data:{},get(e){return this._data[e]||{}},set(e,t={}){this._data[e]||(this._data[e]={}),Object.assign(this._data[e],t)}};class Rs extends i.Component{constructor(e,t){super(e,t),Ss(this,"restoreCursorPosition",((e=!1)=>{const{cursorPositionDetails:t}=Is.get(this.props.csid),s=t&&t.pathToNode||[],a=t&&t.anchorNodeIndex,n=t&&t.cursorWithinQuotedText||!1;if(s.length&&a>-1){let t=null;if(n){if(e){const e=(0,l.findDOMNode)(this.refs.editorContainer).querySelector("[class$=yahoo_quoted]");t=Ut.Z.getNodeFromPath(e,s)}}else t=Ut.Z.getNodeFromPath(this.refs.editor.getRTEWrappedElement()||this.refs.editor.getRTEDOMNode(),s);if(t&&Ut.Z.isValidStartOffsetForNode(t,a)){t.parentNode.scrollIntoView();const e=document.createRange(),s=window.getSelection();return e.setStart(t,a),e.collapse(!0),s.removeAllRanges(),void s.addRange(e)}}})),Ss(this,"_updateWidth",(()=>{const e=(0,l.findDOMNode)(this.container),t=e&&e.getBoundingClientRect();t&&this.setState({composeWidth:t.width,composeLeft:t.left})})),Ss(this,"_restoreScrollPosition",(e=>{(0,l.findDOMNode)(this.refs.editorContainer).scrollTop=e})),Ss(this,"_handleWindowResize",(()=>{this._updateWidth(),this.props.onResize()})),Ss(this,"onChange",((e,t={})=>{t.type&&(0,ns.Z)(t),t.skipContentChanged||(this.lastEditedTimeStamp=Date.now(),this.props.onChange({...e,lastEditedTimeStamp:this.lastEditedTimeStamp},t),this.newContentIds=[])})),Ss(this,"handleHeaderChange",(e=>{const{from:t,to:s,cc:a,bcc:n,subject:r}=e;this.from=t,this.to=s,this.cc=a,this.bcc=n,this.subject=r,this.onChange(this._getUserInputtedValues(),{type:"header_changed"})})),Ss(this,"getUnsyncedData",(()=>({type:Ue.sKi.COMPOSE,id:this.props.csid,userInputtedValues:this._getUserInputtedValues()}))),Ss(this,"handleEditSubject",(()=>{const{csid:e,isCompactCompose:t,onEditSubject:s}=this.props;this.cursorAnchorNode=null,this.cursorAnchorNodeIndex=null,this.lastEditedTimeStamp=Date.now(),t?s({csid:e,isReplyingMessageSubjectEdited:!0}):this.context.navigateTo({route:(0,ve.Rl)(e),isReplyingMessageSubjectEdited:!0})})),Ss(this,"handleEditorContentChange",(e=>{const{format:t,caret:s,type:a}=e;(0,Fe.wU)(this.formatState,t)||(this.formatState={...this.formatState,...t}),this.onChange(this._getUserInputtedValues(),e),this.props.onContentChanged({caret:s,type:a})})),Ss(this,"_getUserInputtedValues",(()=>{const e=this.refs.editor.getUndoStack(),t=this.refs.editor.getRedoStack();return{csid:this.props.csid,from:this.from,to:this.to,cc:this.cc,bcc:this.bcc,subject:this.subject,html:this.refs.editor.getRawMessageContent(),htmlAnnotations:this.htmlAnnotations,attachmentsInfo:this.attachmentsInfo,rawFiles:this.rawFiles,newContentIds:this.newContentIds,lastEditedTimeStamp:this.lastEditedTimeStamp,uiState:this.uiState,stationeryTheme:this.stationeryTheme||me.NO_STATIONERY,undoStack:e,redoStack:t}})),Ss(this,"deleteDraft",(()=>{const{csid:e,listId:t,onDraftDelete:s}=this.props,a=this.getDraftStatus(),n=this.shouldshowConfirmationOnDeleteClick(),r={csid:e,listId:t,draftStatus:a,permanent:!0,i13nModel:{mKey:v.JE.DELETE_DRAFT,sec:v.nJ.COMPOSE_TOOLBAR,interactionType:v.Rb.click}};n?(0,xt.C)(i.createElement(At.Z,{title:this.context.intl.formatMessage(qt.Z.confirmDeleteTitle),message:this.context.intl.formatMessage(qt.Z.delete_confirm),primaryButtonLabel:qt.Z.confirmBtn,secondaryButtonLabel:qt.Z.cancelBtn,onPrimaryButtonClick:()=>s(r),onSecondaryButtonClick:()=>this.focusOnSubject(),onClose:()=>this.focusOnSubject()}),this.context):s(r)})),Ss(this,"send",((e={})=>{var t;const{i13nModel:s,forcedSend:a=!1,includeOriginalAttachments:n=!1}=e,{getSavedAttachment:r,getOriginalAttachments:o,csid:l,validReplyToAddresses:c,showInvalidReplyToAddressAlert:d}=this.props,{locale:E}=this.context.intl,_=o(l),u=this._getUserInputtedValues(),m=this.props.getDraftErrors(u),S=this.attachmentsInfo.map((e=>r(e)));if(m){const{name:e,params:t}=m;return void(Ts[e]&&this.context.toast({data:t,message:Ts[e]}))}const p=null==u||null===(t=u.from)||void 0===t?void 0:t.replyToAddress;if(p&&!c.some((e=>e===p)))return void d();if(!a&&this.props.shouldShowEmptySubjectAlert(u))return void(0,xt.C)(i.createElement(At.Z,{title:this.context.intl.formatMessage(qt.Z.emptySubjectAlert),primaryButtonLabel:qt.Z.emptySubjectAlertSend,secondaryButtonLabel:qt.Z.emptySubjectAlertCancel,onPrimaryButtonClick:()=>this.send({forcedSend:!0}),onSecondaryButtonClick:()=>this.focusOnSubject(),onClose:()=>this.focusOnSubject(),hideIcon:!0}),this.context);if(!a&&this.props.shouldShowIncludeOriginalAttachmentsAlert(u))return void(0,xt.C)(i.createElement(At.Z,{title:this.context.intl.formatMessage(qt.Z.includeOriginalAttachmentsAlert),message:this.context.intl.formatMessage(qt.Z.includeOriginalAttachmentsAlertMsg),primaryButtonLabel:qt.Z.includeOriginalAttachmentsAlertYes,secondaryButtonLabel:qt.Z.includeOriginalAttachmentsAlertNo,onPrimaryButtonClick:()=>{this.attachmentsInfo=_.concat(this.attachmentsInfo),this.onChange(this._getUserInputtedValues()),this.send({forcedSend:!0,includeOriginalAttachments:!0})},onSecondaryButtonClick:()=>this.send({forcedSend:!0,includeOriginalAttachments:!1}),onClose:()=>{},hideIcon:!0,dataTestId:"include-original-attachment"}),this.context);if(S.filter((({filename:e})=>!(0,rs.wt)(e))).length)return(0,xt.C)(i.createElement(Ct.Z,{title:this.context.intl.formatMessage(qt.Z.error_title),message:this.unSupportedAttachmentAlertMessage(),helpLink:(0,Ue.ITc)(E),onAccept:()=>{},onClose:()=>{}}),this.context);(()=>{this.props.onSend({includeOriginalAttachments:n,...u,i13nModel:{mKey:v.JE.SEND,sec:v.nJ.COMPOSE_TOOLBAR,...s}})})()})),Ss(this,"unSupportedAttachmentAlertMessage",(()=>{const{formatMessage:e,locale:t}=this.context.intl,s=e(qt.Z.unsupportedFileType);return i.createElement("div",null,s,i.createElement(p.Z,{kind:C.F.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>(0,yt.x)((0,Ue.ITc)(t))},i.createElement("span",{className:gs.button},i.createElement(c.FormattedMessage,{id:"alert.learn_more_url",defaultMessage:"Learn more"}))))})),Ss(this,"getThemeConfig",(()=>(0,ls.I)(this.stationeryTheme,this.props.stationeryDefaultTheme))),Ss(this,"execEditorCommand",((e,t)=>{switch(e){case me.ToolbarActions.PLAIN_TEXT:this.stationeryTheme=me.NO_STATIONERY,this.execEditorCommand(me.ToolbarActions.UPDATE_STATIONERY,null),this.refs.editor.expandQuote(),this.uiState.useRichText=!1,this.forceUpdate();break;case me.ToolbarActions.RICH_TEXT:this.uiState.useRichText=!0;break;case me.ToolbarActions.UPDATE_STATIONERY:this.stationeryTheme=t?t.themeName:me.NO_STATIONERY;break;case me.ToolbarActions.FONT_NAME:this.formatState={...this.formatState,fontFamily:t};break;case me.ToolbarActions.FONT_SIZE:this.formatState={...this.formatState,fontSize:t}}const s=document.activeElement;if(this.refs.editor.rte.focus(),this.refs.editor.rte.pushButton(e,t),e===me.ToolbarActions.INSERT_ORDERED_LIST){const e=window.getSelection().focusNode;if(e&&"FONT"===e.nodeName&&e.parentNode&&"LI"===e.parentNode.nodeName){const t=window.getComputedStyle(e).fontFamily,s=window.getComputedStyle(e).fontSize;e.parentNode.style.fontFamily=t,e.parentNode.style.fontSize=s}if(e&&e.parentNode&&"LI"===e.parentNode.nodeName){const t=e.parentNode;window.getComputedStyle(t).fontSize===Es.N4.HUGE&&t.parentNode&&"OL"===t.parentNode.nodeName&&(t.parentNode.style.paddingLeft="1em")}}e===me.ToolbarActions.UPDATE_STATIONERY&&this.refs.editor.rte.focus(),s.focus()})),Ss(this,"handleToolbarAction",((e,t={})=>{const{data:s,i13nModel:a}=t;switch(a&&this.props.handleToolbarActions({i13nModel:a}),e){case me.ToolbarActions.FILE_SELECT:this.addFileAttachments(s);break;case me.ToolbarActions.FILE_SELECT_BTN_CLICKED:break;case me.ToolbarActions.SEND:this.send();break;case me.ToolbarActions.DELETE_DRAFT:this.deleteDraft();break;case me.ToolbarActions.CREATE_LINK:this.execEditorCommand(e,"");break;case me.ToolbarActions.PLAIN_TEXT:return void this._renderPlainTextWarning();case me.ToolbarActions.RICH_TEXT:return void this._switchToRichText(s);default:this.execEditorCommand(e,s)}})),Ss(this,"_renderPlainTextWarning",(()=>{const{formatMessage:e}=this.context.intl;(0,xt.C)(i.createElement(At.Z,{title:e(qt.Z.switch_to_plain_text_warning_title),message:e(qt.Z.switch_to_plain_text_message),primaryButtonLabel:qt.Z.switch_to_plain_text_warning_ok,secondaryButtonLabel:qt.Z.switch_to_plain_text_warning_cancel,onPrimaryButtonClick:()=>this._switchToPlainText(),onSecondaryButtonClick:hs,onClose:hs,hideIcon:!0}),this.context)})),Ss(this,"_renderLargeAttachmentDialog",(()=>{const{cloudStorageEnabled:e}=this.props,t=this.context.intl.formatMessage(e?qt.Z.bigAttachmentSupport:qt.Z.bigAttachment,{maxFileSize:25});(0,xt.C)(e?i.createElement(Mt,{message:t,onPrimaryButtonClick:()=>this.openAttachFilesPopover(Ue.hKF.GDRIVE),onSecondaryButtonClick:()=>this.openAttachFilesPopover(Ue.hKF.DROPBOX),onClose:hs}):i.createElement(Ct.Z,{title:this.context.intl.formatMessage(qt.Z.error_title),message:t,onAccept:hs,onClose:hs}),this.context)})),Ss(this,"_switchToRichText",(e=>{this.props.changeSettings({name:Ue.Zrf.USE_RICH_TEXT,value:!0}),this.execEditorCommand(me.ToolbarActions.RICH_TEXT,e)})),Ss(this,"_switchToPlainText",(()=>{this.props.changeSettings({name:Ue.Zrf.USE_RICH_TEXT,value:!1}),this.execEditorCommand(me.ToolbarActions.PLAIN_TEXT)})),Ss(this,"_handleStationeryDefaultThemeChange",(e=>{this.props.changeSettings({name:Ue.Zrf.STATIONERY_DEFAULT_THEME,value:e}),""===e&&(this.stationeryTheme=me.NO_STATIONERY)})),Ss(this,"handleComposePopOut",(e=>{const{csid:t,onComposePopOut:s=hs}=this.props;s({csid:t,i13nModel:{mKey:v.JE.COMPOSE_POP_OUT,sec:v.nJ.COMPOSE_TOPBAR,interactionType:(0,Ce.getInteractionFromEvent)(e)}})})),Ss(this,"handleClose",(()=>{const{csid:e,onClose:t=hs}=this.props;t&&t({csid:e,i13nModel:{mKey:v.JE.CANCEL_COMPOSE,sec:v.nJ.COMPOSE_TOPBAR,interactionType:v.Rb.click}})})),Ss(this,"handleDrop",(e=>{const{ATTACHMENT:t,INLINE:s}=Ue.sSc.Dispositions,a={[t]:[],[s]:[]};e.forEach((e=>a[(0,I.getAttachmentDisposition)(e)].push(e))),a[t].length&&this.addFileAttachments(a[t]),a[s].length&&this.addInlineAttachments(a[s])})),Ss(this,"openAttachFilesPopover",(e=>{if(this.refs.toolbar&&this.refs.toolbar.getWrappedInstance()){const{uploader:t}=this.refs.toolbar.getWrappedInstance();if(t&&t.getWrappedInstance())return void t.getWrappedInstance().handleOpenPopover(e)}})),Ss(this,"addAttachments",((e,t,{disposition:s,i13nModel:a})=>{if(!this.isValidAttachmentsSize(e))return this.props.addBigAttachment(),this._renderLargeAttachmentDialog();const n=s===As.ATTACHMENT?e.map(rs._n):e.map(rs.N3);n.filter((({disposition:e,isFromDataURI:t=!1})=>e===As.INLINE&&!t)).forEach((e=>this.insertInlineAttachment(e))),this.newContentIds=n.map((e=>e.contentId)),this.attachmentsInfo=this.attachmentsInfo.concat(n),this.rawFiles=this.newContentIds.reduce(((t,s,a)=>({...t,[s]:e[a]})),this.rawFiles),this.onChange({...this._getUserInputtedValues(),files:e,i13nModel:Object.assign({interactionType:v.Rb.click},a)},{type:t,skipContentChanged:"addInlineAttachment"===t})})),Ss(this,"addInlineAttachments",(e=>{this.uiState.useRichText?this.addAttachments(e,"addInlineAttachment",{disposition:As.INLINE,i13nModel:{mKey:v.JE.COMPOSE_DRAG_ATTACHMENT,sec:v.nJ.COMPOSE_MSG}}):this.addFileAttachments(e)})),Ss(this,"isValidAttachmentsSize",(e=>{const t=e.concat(this.attachmentsInfo);return this.getAttachmentSize(t)<=26214400})),Ss(this,"handleAttachmentFromRecentFiles",(e=>{if(!e)return;if(this.attachmentsInfo.some((({id:t})=>t===e.id)))return void this.context.toast({role:Ue._tT.STATUS,message:is.U4});const t=e;return this.isValidAttachmentsSize([t])?t.disposition===As.INLINE?(this.insertInlineAttachment(t),void(this.attachmentsInfo=this.attachmentsInfo.concat(t))):(this.attachmentsInfo=this.attachmentsInfo.concat(t),this.onChange({...this._getUserInputtedValues(),files:[t],i13nModel:{mKey:v.JE.COMPOSE_ADD_ATTACHMENT,sec:v.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:v.Rb.click}},{type:"addAttachmentFromRecentFile"}),this.forceUpdate(),void setTimeout((()=>{const e=(0,l.findDOMNode)(this._attachmentTray);return e&&e.scrollIntoView()}),0)):(this.props.addBigAttachment(),this._renderLargeAttachmentDialog())})),Ss(this,"getAttachmentSize",(e=>e.length?e.reduce(((e,{size:t=0})=>e+t),0):0)),Ss(this,"moveImageAttachmentInline",(e=>{this.attachmentsInfo=this.attachmentsInfo.map((t=>t.contentId===e.contentId?{...t,disposition:As.INLINE}:t)),this.insertInlineAttachment(e),this.onChange(this._getUserInputtedValues(),{type:"attachment_to_inline"}),this.forceUpdate()})),Ss(this,"addFileAttachments",(e=>{this.addAttachments(e,"addAttachment",{disposition:As.ATTACHMENT,i13nModel:{mKey:v.JE.COMPOSE_ADD_ATTACHMENT,sec:v.nJ.COMPOSE_TOOLBAR}}),setTimeout((()=>{const e=(0,l.findDOMNode)(this._attachmentTray);return e&&e.scrollIntoView()}),0)})),Ss(this,"handleAttachmentRemoval",(e=>{this.attachmentsInfo=this.attachmentsInfo.filter((({contentId:t})=>t!==e.contentId)),this.onChange({...this._getUserInputtedValues(),removedContentIds:[e.contentId]},{type:"attachment_removed"})})),Ss(this,"handleInlineAttachmentRemoval",(e=>{this.attachmentsInfo=this.attachmentsInfo.filter((({contentId:t,disposition:s})=>!(t===e&&s===As.INLINE))),this.onChange({...this._getUserInputtedValues(),removedContentIds:[e]},{type:me.EDITOR_EVENTS.inline_image_removed})})),Ss(this,"moveInlineAttachmentToTray",((e,t)=>{this.attachmentsInfo=this.attachmentsInfo.map((e=>e.contentId===t?{...e,disposition:As.ATTACHMENT}:e)),this.onChange(this._getUserInputtedValues(),{type:"inlined_attachment_to_tray"})})),Ss(this,"handleAttachmentTray",(e=>{const t=document.createElement("input");t.type="file",t.multiple=!0,t.id="inputFile",t.click(),t.addEventListener("change",(t=>{const s=Array.prototype.slice.call(t.target.files);this.handleAttachmentTrayAdd(s,e)}))})),Ss(this,"handleAttachmentTrayAdd",((e,t)=>{this.context.executeAction(Ft,{files:e,csid:t,i13nModel:{mKey:v.JE.COMPOSE_ADD_ATTACHMENT,sec:v.nJ.COMPOSE_TOOLBAR,interactionType:v.Rb.shortcut}})})),Ss(this,"getDraftStatus",(()=>{if(this.lastEditedTimeStamp)return this.props.getDraftStatus(this._getUserInputtedValues())})),Ss(this,"renderEmojiPreloader",(()=>i.createElement(L.cr,{bundleName:"lazy_group2",import:"../emoji_picker/emoji_preloader",_moduleLoader:function(){return Promise.all([s.e(567),s.e(340)]).then(s.bind(s,30381))},_moduleResolver:function(){return 30381}}))),Ss(this,"onMoreMenuClick",(()=>{const e={mKey:v.JE.COMPOSE_OPEN_MORE_MENU,sec:v.nJ.RTE_TOOLBAR};this.props.onMoreMenuClick({i13nModel:e})})),Ss(this,"handleShortcuts",(e=>{e.preventDefault(),e.stopPropagation();const t="Unidentified"===e.key?String.fromCharCode(e.which):e.key,s=e.metaKey||e.ctrlKey,{csid:a,isCompactCompose:n,onCloseCompactCompose:r,isQuickReply:o}=this.props;if(s&&e.keyCode===cs.P.ENTER)this.send({i13nModel:{interactionType:v.Rb.shortcut}});else if(s&&"S"===t.toUpperCase())this.context.executeAction(ds.PV,{forceSync:!0,i13nModel:{mKey:v.JE.MANUAL_SAVE_DRAFT,sec:v.nJ.COMPOSE_MSG}});else if(e.keyCode===cs.P.ESCAPE){if(this._autotag&&this._autotag.isContactSuggestionVisible())return void this._autotag._closeAutotag();if(this.refs.toolbar&&this.refs.toolbar.getWrappedInstance()){const{emojiPicker:e}=this.refs.toolbar.getWrappedInstance();if(e&&e.state.popoverOpen)return void e.closePicker()}if(n)return void r({csids:[a]});o||this.handleClose()}})),Ss(this,"focusOnEditor",(()=>{this.refs.editor.rte.focus()})),Ss(this,"focusOnSubject",(()=>{this.header.focus(me.FocusableRefs.SUBJECT)})),Ss(this,"onGifClick",(e=>{const{editor:{rte:t}={}}=this.refs;t&&Ut.Z.insertGif(t,this.context.intl.formatMessage,e)})),Ss(this,"addEmoji",(e=>{const{editor:{rte:t}={}}=this.refs;t&&Ut.Z.insertEmoji(t,this.context.intl.formatMessage,e)})),Ss(this,"insertInlineAttachment",(e=>{const{editor:{rte:t}={}}=this.refs;t&&Ut.Z.insertInlineAttachment(t,this.context.intl.formatMessage,e)})),Ss(this,"insertLink",(e=>{const{editor:{rte:t}={}}=this.refs;t&&Ut.Z.insertLink(t,e)})),Ss(this,"getAttachments",(()=>{const{getSavedAttachment:e}=this.props;return m()(this.attachmentsInfo,(({id:e,dataId:t})=>e||t)).map((t=>e(t)))})),Ss(this,"previewAttachment",((e,t,s,a=!1)=>{if(!e)return;const{getComposeMessageGroupId:n,routeName:r,draftFolderId:o,isFreshCompose:i,previewPaneSetting:l,routeQuery:c,csid:d,isCompactCompose:E}=this.props,_=n()||s;if(!_)return;const u=(0,Pt.Kw)(o),m=i&&r!==Ue.n8z.SEARCH||!(0,Pt.vQ)(this.props.listId)?u:this.props.listId,S=c.messagePreview||l!==Ue.EsZ.NO&&-1!==[Ue.n8z.FOLDER,Ue.n8z.BASE,Ue.n8z.SEARCH].indexOf(r),p=r===Ue.n8z.NEW_DRAFT,C=Object.assign({},p?{newCompose:"1"}:null,S?{messagePreview:"1"}:null,a?{fullscreen:"1"}:null,E?{fullscreen:"1",isCompactCompose:"1"}:null),A=(0,ve.Sk)(m,_,e,C,a?d:null),T={mKey:v.JE.OPEN_DOC_PREVIEW,sec:a?v.nJ.COMPOSE_ATTACH_FILES_MENU:v.nJ.ATTM_PREVIEW,interactionType:t};this.context.navigateTo({route:A,i13nModel:T})})),Ss(this,"addInlineContactSuggestionToCcField",(e=>{let t=me.FocusableRefs.TO;this.props.isFreshCompose||(this.header.toggleCcBcc(!0),t=me.FocusableRefs.CC),this.header.handleContactAdd(t,e)})),Ss(this,"handleEditorFocusChange",(()=>{this.props.updateComposeHeaderFocus({csid:this.props.csid,inputFocus:me.FocusableRefs.EDITOR})})),Ss(this,"handleEditorFocus",(()=>{this.header&&this.header.hideEmailHoverCards(!0),this.handleEditorFocusChange()})),Ss(this,"handleEditorKeyDown",(()=>{this.header&&this.header.hideEmailHoverCards(!0)})),Ss(this,"handleEditorBlur",(()=>{this.cursorAnchorNode=window.getSelection().anchorNode;const e=Ut.Z.getSelectionRange();this.cursorAnchorNodeIndex=e&&e.startOffset})),Ss(this,"moveCursorToSmartReplyLine",(()=>{const e=(0,l.findDOMNode)(this.refs.editorContainer),t=e?e.querySelector("[class$=yahoo-style-wrap]"):null;if(t)for(const s of t.childNodes)if(s&&s.firstChild&&s.firstChild.nodeType===Node.TEXT_NODE){const e=document.createRange(),t=window.getSelection();e.setStart(s.firstChild,s.firstChild.length),e.collapse(!0),t.removeAllRanges(),t.addRange(e);break}})),Ss(this,"_updateToolbarState",(e=>{const{toolbar:t}=this.refs;t&&t.getWrappedInstance().updateState(e)})),Ss(this,"shouldshowConfirmationOnDeleteClick",(()=>{if(this.refs.editor){const e=this._getUserInputtedValues();return!(0,I.hasInvalidComposeHeader)(e)}return!1}));const{composeFontSize:a,composeFontFamily:n,isQuotedTextExpanded:r,attachmentsToForward:o,isPersistComposeTextModeEnabled:d,isRichTextModeEnabled:E}=e,{from:u,to:S,cc:A,bcc:T,subject:h="",body:g="",canApplyDefaultStationery:R=!1,htmlAnnotations:O=[],attachmentsInfo:D=[],stationeryTheme:N="",showGIFPicker:f=!1,showStationeryPicker:M=!1,uiState:P={useRichText:!d||E,isQuotedTextExpanded:r},undoStack:y=[],redoStack:b=[],forwardAttachmentAdded:F=!1,isDirty:U=!1,feedbackImgs:w=[],feedbackFiles:G=[]}=e.getContent(t),k=e=>e.name?e:{...e,name:e.email};this.from=u,this.to=S.map(k),this.cc=A.map(k),this.bcc=T.map(k),this.subject=h,this.content=g,this.forwardAttachmentAdded=F,this.canApplyDefaultStationery=!o.length&&R,this.htmlAnnotations=O,this.attachmentsInfo=D.concat(o.map((({attachment:e})=>e))).concat(w),this.rawFiles={},this.newContentIds=[],this.isDirty=U,this.forwardAttachments=o,this.stationeryTheme=N,this.showGIFPicker=f,this.showStationeryPicker=M,this.formatState={foreColor:_.ZP.DEFAULTS.FG_COLOR,backgroundColor:_.ZP.DEFAULTS.BG_COLOR,fontSize:a||"0",fontFamily:n||""},this.uiState=P,this.undoStack=y,this.redoStack=b,this.cursorAnchorNode=null,this.cursorAnchorNodeIndex=null,this.feedbackImgs=w,this.feedbackFiles=G,this.uiState.useRichText||(this.content=(0,vt.formatPlaintextForDisplay)(this.content)),this.state={imgHoverMenuVisible:!1,composeWidth:null,composeLeft:null,unsupportedFileTypeAlert:!1}}componentDidMount(){const{csid:e,isSendFailed:t,attachmentsToForward:s,onAttachmentForwarded:a,fileAttachments:n=[],inputFocus:r}=this.props,{scrollPosition:o}=Is.get(e);(t(e)||this.forwardAttachmentAdded||this.isDirty)&&(this.lastEditedTimeStamp=Date.now()),this.mousetrap=this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts,this.container),void 0!==o&&this._restoreScrollPosition(o),this._updateWidth(),this._handleWindowResize=Bt()(this._handleWindowResize,40),window.addEventListener("resize",this._handleWindowResize),(n.length||s.length||this.forwardAttachmentAdded)&&(s.forEach((({attachment:e})=>this.insertInlineAttachment(e))),a(e),this.forwardAttachmentAdded=!1),this.feedbackImgs.length&&(this.newContentIds=this.feedbackImgs.map((e=>e.contentId)),this.rawFiles=this.newContentIds.reduce(((e,t,s)=>({...e,[t]:this.feedbackFiles[s]})),this.rawFiles)),this.props.replySuggestion&&this.moveCursorToSmartReplyLine(),r===me.FocusableRefs.EDITOR&&this.restoreCursorPosition(!1)}componentDidUpdate(e){const{csid:t,attachmentsToForward:s,onAttachmentForwarded:a,fileAttachments:n=[]}=this.props;e.hasAttachmentPreview!==this.props.hasAttachmentPreview&&this._handleWindowResize(),e.widthChanged!==this.props.widthChanged&&this._updateWidth(),e.composeFontFamily===this.props.composeFontFamily&&e.composeFontSize===this.props.composeFontSize||(this.formatState={...this.formatState,fontSize:this.props.composeFontSize||"0",fontFamily:this.props.composeFontFamily||""}),e.replySuggestion!==this.props.replySuggestion&&this.moveCursorToSmartReplyLine(),(n.length||s.length||this.forwardAttachmentAdded)&&(s.forEach((({attachment:e})=>this.insertInlineAttachment(e))),a(t),this.forwardAttachmentAdded=!1,this.lastEditedTimeStamp=Date.now());const r=this.getDraftStatus();this.props.csid===e.csid&&r===ps.SENT&&this.props.onSendSuccess&&this.props.onSendSuccess()}UNSAFE_componentWillUpdate(e){const{fileAttachments:t=[]}=e;this.attachmentsInfo=this.attachmentsInfo.concat(t)}componentWillUnmount(){const e=(0,l.findDOMNode)(this.refs.editorContainer),{scrollTop:t}=e,s=this.refs.editor.getRTEDOMNode();let a=[],n=!1;if(s.contains(this.cursorAnchorNode)){const t=e.querySelector("[class$=yahoo_quoted]");t&&t.contains(this.cursorAnchorNode)?(a=Ut.Z.getPathToNode(t,this.cursorAnchorNode,this.uiState.useRichText),n=!0):a=Ut.Z.getPathToNode(this.refs.editor.getRTEWrappedElement()||s,this.cursorAnchorNode,this.uiState.useRichText)}this.context.unbindShortcut(this.props.listenKeys,this.mousetrap),Is.set(this.props.csid,{scrollPosition:t,cursorPositionDetails:{pathToNode:a,anchorNodeIndex:this.cursorAnchorNodeIndex,cursorWithinQuotedText:n}}),clearInterval(this.saveInterval),window.removeEventListener("resize",this._handleWindowResize)}render(){const{accounts:e,composeFontFamily:t,composeFontSize:s,conversations:a,csid:n,gif:r,isBccDisabled:o,canEditSubject:l,isQuotedTextExpanded:c,onExpandQuotedText:d,linkEnhancer:E,linkEnhancerUrlBlocklist:_,enhancedLinks:u,preloadEmoji:m,refToComposeContainer:S,refToComposeHeader:p,showCloseButton:C,showEmojiCue:A,showFrom:T,showStationeryCue:h,showSubject:g,simpleCompose:I,stationery:R,stationeryDefaultTheme:O,stationeryRestrictedThemes:D,toolbarFixed:N,uploadEnabled:f,cepForward:M,isFreshCompose:L,composeMode:P,addRecipient:y,dragDropContact:b,composeParams:F,onComposeHeaderDelete:U,inputFocus:v,updateComposeHeaderFocus:w,showPopOutBtn:G,isCompactCompose:k,isComposeDisabled:H,showComposeFormatCue:B}=this.props,x=this.getDraftStatus(),V=this.props.lastSavedTime||0,{formatMessage:W}=this.context.intl,Z=M?c||P!==Cs.FORWARD&&!a:P===Cs.FORWARD||!a,K=x!==ps.SENDING,{to:z,cc:q}=this,Y=this.attachmentsInfo,{cursorPositionDetails:j}=Is.get(n),Q=j&&j.cursorWithinQuotedText||!1,X=(0,_s.Nu)(e),J=ms()(gs.compose,k?gs.compactCompose:""),$=T&&(!k||X.length>1);return i.createElement(os.Z,{getUnsyncedData:this.getUnsyncedData},i.createElement("div",{"data-test-id":"compose",role:"main","aria-label":W(qt.Z.compose_view),ref:e=>{this.container=e,S(e)},className:J},m?this.renderEmojiPreloader():null,i.createElement(lt,{addInlineContactSuggestionToCcField:this.addInlineContactSuggestionToCcField,editorReference:this.refs.editor,csid:this.props.csid,containerRef:this.container,ref:e=>{e&&(this._autotag=e.getWrappedInstance())}}),i.createElement(ze,{ref:e=>{this.header=e,p(e)},composeMode:P,showPopOutBtn:G,onComposePopOut:this.handleComposePopOut,onChange:this.handleHeaderChange,onEditSubject:this.handleEditSubject,onClose:this.handleClose,showSubject:g,showFrom:$,showCloseButton:C,from:this.from,composeParams:F,to:z,cc:q,bcc:this.bcc,subject:this.subject,csid:n,accounts:X,inputFocus:v,isBccDisabled:o,canEditSubject:l,addRecipient:y,dragDropContact:b,onComposeHeaderDelete:U,updateComposeHeaderFocus:w,isCompactCompose:k,isHeaderFocusDisabled:H||B}),i.createElement(mt,{onDrop:this.handleDrop},i.createElement("div",{className:gs.editorContainer,ref:"editorContainer","data-test-id":"compose-editor-container"},i.createElement(qe.Z,{updateToolbarState:this._updateToolbarState,onFocus:this.handleEditorFocus,restoreCursorPosition:this.restoreCursorPosition,ariaLabel:W(qt.Z.message_body),autoExpandQuotedText:Z,onExpandQuotedText:d,cepForward:M,getAttachments:this.getAttachments,composeFontFamily:t,composeFontSize:s,content:this.content,canApplyDefaultStationery:this.canApplyDefaultStationery,contentEditable:K,csid:n,cursorWithinQuotedText:Q,htmlAnnotations:this.htmlAnnotations,initialFocus:v===me.FocusableRefs.EDITOR,linkEnhancer:E,linkEnhancerUrlBlocklist:_,enhancedLinks:u,onAttachmentShortcut:this.handleAttachmentTray,onContentChange:this.handleEditorContentChange,onImagePaste:this.addInlineAttachments,onImageRemove:this.handleInlineAttachmentRemoval,onKeyDown:this.handleEditorKeyDown,onSendAsAttachment:this.moveInlineAttachmentToTray,onStationeryDefaultThemeChange:this._handleStationeryDefaultThemeChange,onStationeryThemeChange:this.handleToolbarAction.bind(this,me.ToolbarActions.UPDATE_STATIONERY),ref:me.FocusableRefs.EDITOR,scrollableAreaRef:this.refs.editorContainer,stationery:R,getThemeConfig:this.getThemeConfig,undoStack:this.undoStack,redoStack:this.redoStack,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom,selectedReplySuggestion:this.props.replySuggestion,isRichTextMode:this.uiState.useRichText,onBlur:this.handleEditorBlur,fixImgSrcURL:this.props.fixImgSrcURL}),Y.length?i.createElement(pt.ZP,{ref:e=>this._attachmentTray=e,onAttachmentRemove:this.handleAttachmentRemoval,onAttachmentPreview:this.previewAttachment,readOnly:!1,allowDownload:!0,onSendAsInlineImage:this.moveImageAttachmentInline,richTextMode:this.uiState.useRichText,getAttachments:this.getAttachments,csid:n}):null),i.createElement(St.ZP,{getDraftStatus:this.getDraftStatus,useRichText:this.uiState.useRichText,ref:"toolbar",showDeleteButton:!I,lastDraftSavedTime:V,formatState:this.formatState,onExecuteAction:this.handleToolbarAction,uploadEnabled:f,focusOnEditor:this.focusOnEditor,fixed:N,width:this.state.composeWidth,left:this.state.composeLeft,showStationeryCue:h&&P===Cs.NEW,showEmojiCue:A&&P===Cs.NEW,isFreshCompose:L,stationeryDefaultTheme:O,stationeryTheme:this.stationeryTheme,stationeryEnabled:R,gifFinderEnabled:r,csid:n,addEmoji:this.addEmoji,insertLink:this.insertLink,onMoreMenuClick:this.onMoreMenuClick,stationeryRestrictedThemes:D,onGifClick:this.onGifClick,showGIFPicker:this.showGIFPicker,showStationeryPicker:this.showStationeryPicker,handleAttachmentFromRecentFiles:this.handleAttachmentFromRecentFiles,previewAttachment:this.previewAttachment,isComposeDisabled:H,isSendButtonDisabled:H||B}))))}}Ss(Rs,"contextTypes",{executeAction:o().func,intl:c.intlShape.isRequired,config:o().object,navigateTo:o().func,toast:o().func,bindShortcut:o().func,unbindShortcut:o().func,getTheme:o().func,getStore:o().func}),Ss(Rs,"defaultProps",{showSubject:!0,getDraftStatus:hs,refToComposeContainer:hs,refToComposeHeader:hs,onChange:hs,onSend:hs,onMoreMenuClick:hs,onExpandQuotedText:hs,isQuotedTextExpanded:!1,handleToolbarActions:hs,getComposeMessageGroupId:()=>{},getDraftFolderIdForPrimaryAccount:()=>{},shouldShowIncludeOriginalAttachmentsAlert:()=>!1,shouldShowEmptySubjectAlert:()=>!1,getContent:hs,cepForward:!1,simpleCompose:!1,showFrom:!1,showCloseButton:!0,isQuickReply:!1,showDeleteButton:!0,styles:{},onContentChanged:hs,toolbarFixed:!1,onResize:hs,isBccDisabled:!1,canEditSubject:!0,widthChanged:0,onDraftDelete:hs,onContactAdd:hs,onContactRemove:hs,onMultipleContactsAdd:hs,getSavedAttachment:e=>e,isSendFailed:()=>!1,listenKeys:[],attachmentsToForward:[],addBigAttachment:hs,isComposeDisabled:!1});const Os=({csid:e,selectors:t})=>s=>{if((0,I.hasInvalidComposeField)(s))return!1;const{doesComposeSessionExist:a,isReplyOrReplyAll:n,hasNonInlineAttachmentsByMessageId:r,getReplyingToMessageId:o,getMessageFromAddress:i,getMessageToAddress:l,getMessageCcAddress:c}=t;if(!a(e)||!n(e))return!1;const d=o(e),{to:_=[],cc:u=[],attachmentsInfo:m=[]}=s;if(m.some((e=>e.disposition===As.ATTACHMENT)))return!1;if(!r(d))return!1;const S=(0,I.buildRecipients)([_,u]),p=(0,I.buildRecipients)([l(d),c(d),i(d)]),C=E()(S,p);return Boolean(C.length)},Ds=({csid:e,selectors:t})=>s=>{const a=(0,I.hasInvalidComposeField)(s),{subject:n}=s,{isReplyOrReplyAll:r,isForwardMessage:o,doesComposeSessionExist:i}=t;return!a&&(!(!i(e)||r(e)&&!o(e))&&Boolean(!n||!n.trim().length))},Ns=(0,n.compose)((0,a.connect)(((e,{csid:t,listId:s,accounts:a,initialShowSubject:n=!1,canEditSubject:r=!0,composeMode:o,isCompactCompose:i=!1})=>{const l=(0,_e.selectors)(e),{getRoute:c,getFeaturesSelectors:d,isComposeSaveDue:E,getComposeUiState:_,getAttachmentByContentId:u,getDraftErrors:m,getDraftStatus:S,isSendRequested:p,getGroupIdContainingMessageId:C,getComposeSessionsSelectors:A,isReplyOrReplyAll:T,isForwardMessage:h,getDraftMessageId:g,getAttachmentsByMessageId:I,getLinkEnhancerSelectors:R,getComposeParams:O,getComposeHeaderFocus:D,getSelectedAccountId:N,getDraftFolderIdByAccountId:f,getForwardAttachmentIds:M,getAttachmentById:L,getInlineImagesAttachmentsSelectors:P,getComposeFormat:y,isFeatureEnabled:b,getValidReplyToAddresses:F}=l,{getInlineImageByAttachmentId:U}=P(),{isEnabled:v,getSetting:w}=d(),{getInReplyToMessageId:G,getInReplyAllToMessageId:k,getLastSaveTimeStamp:H,isSendFailed:B,getSelectedReplySuggestion:x}=A(),{name:V,query:W}=c(),Z=M(t)||[],K=v("conversations"),z=i?!K||o===Cs.NEW:n||r,q=v(Ue.ANe.CEP_FORWARD),Y=v(Ue.ANe.FIX_IMG_SRC),j=v(Ue.Zrf.STATIONERY_RESTRICTED_THEMES),Q=w(Ue.Zrf.LINK_ENHANCER_URL_BLOCK_LIST),X=R().getEnhancedLinks(),J=v(Ue.ANe.RTL),$=v(Ue.ANe.PRELOAD_EMOJI),ee=v(Ue.ANe.GIF),te=v(Ue.ANe.STATIONERY),se=v(Ue.ANe.PERSIST_COMPOSE_TEXT_MODE),ae=w(Ue.Zrf.USE_RICH_TEXT),ne=H(t),re=f(N()),oe=Z.reverse().map((({id:e,timestamp:t})=>({id:e,timestamp:t,attachment:L(e)||U(e)}))).filter((({attachment:e})=>e.disposition===As.INLINE)),ie=Z.map((({id:e,timestamp:t})=>({id:e,timestamp:t,...L(e)}))).filter((({disposition:e})=>Boolean(e)));return{cepForward:q,fixImgSrcURL:Y,getDraftErrors:m,forwardAttachmentIds:Z,fileAttachments:ie,showPopOutBtn:b(Ue.ANe.COMPACT_COMPOSE)&&!i&&Ue.UeM.COMPACT!==y(t),getContent:as({accounts:a,csid:t,listId:s,selectors:l,selectedReplySuggestion:x(t)}),replySuggestion:x(t),shouldShowIncludeOriginalAttachmentsAlert:Os({csid:t,selectors:l}),shouldShowEmptySubjectAlert:Ds({csid:t,selectors:l}),showSubject:z,conversations:K,isSaveDue:E,isSendFailed:B,isSendRequested:p,isQuotedTextExpanded:Boolean(!!_(t)&&_(t).isQuotedTextExpanded),getDraftStatus:e=>S(e),stationeryRestrictedThemes:j,linkEnhancerUrlBlocklist:Q,enhancedLinks:X,rtl:J,getSavedAttachment:e=>{const{contentId:t}=e,s=u(t);return s?{...e,...s,disposition:e.disposition}:e},preloadEmoji:$,gif:ee,stationery:te,showStationeryCue:v(Ue.ANe.STATIONERY_CUE),showEmojiCue:v(Ue.ANe.EMOJI_CUE),stationeryDefaultTheme:w(Ue.Zrf.STATIONERY_DEFAULT_THEME),listenKeys:["ctrl+s","command+s","ctrl+enter","command+enter","escape"],getComposeMessageGroupId:()=>{const e=g(t);return e?C(e):void 0},routeName:V,isFreshCompose:!(T(t)||h(t)),composeMode:o,getOriginalAttachments:e=>{const t=G(e)||k(e);return t?I(t):[]},lastSavedTime:ne,attachmentsToForward:oe,composeParams:O(t),inputFocus:D(t),draftFolderId:re,routeQuery:W,previewPaneSetting:w(Ue.Zrf.PREVIEW_PANE),isPersistComposeTextModeEnabled:se,isRichTextModeEnabled:ae,cloudStorageEnabled:v(Ue.ANe.CLOUD_STORAGE),canEditSubject:i?z:r,validReplyToAddresses:F()}})),(0,a.connect)(void 0,((e,{isSaveDue:t,isSendRequested:s})=>({onDraftDelete:t=>e(bt.R5(t)),onMoreMenuClick:t=>e(bt.Lz(t)),handleToolbarActions:t=>e(bt.Q0(t)),onChange:s=>t(s)&&e(bt.zE(s)),onSend:t=>!s(t.csid)&&e(bt.bG(t)),onExpandQuotedText:t=>e(bt.Jo(t)),linkEnhancerFetch:t=>e(Lt.Rx(t)),onLinkEnhancerlinkRemoved:t=>e(Lt.bL(t)),onLinkEnhancerlinkMoveToInline:t=>e(Lt.Eq(t)),onLinkEnhancerlinkAdded:t=>e(Lt.HZ(t)),onLinkEnhancerlinkResized:t=>e(Lt.LW(t)),onLinkEnhancerlinkMoveToBottom:t=>e(Lt.r0(t)),addRecipient:t=>e(bt.hP(t)),dragDropContact:t=>e(bt.jt(t)),onComposeHeaderDelete:t=>e(bt.eW(t)),changeSettings:t=>e((0,kt.Dy)(t)),updateComposeHeaderFocus:t=>e(bt.wy(t)),onAttachmentForwarded:t=>e(bt.FU(t)),addBigAttachment:()=>e(bt.M5()),onEditSubject:t=>e(bt.yh(t)),onComposePopOut:t=>e(bt.L3(t)),onCloseCompactCompose:t=>e(bt.bU(t)),showInvalidReplyToAddressAlert:t=>e(bt.Cr(t))}))))(Rs);var fs=s(82702),Ms=s.n(fs),Ls=s(61330),Ps=s(14196);const ys=y()(Ms());function bs(e){const{previewMessage:t,listId:s,messageId:a}=e;t({listId:s,messageIds:[a]})}function Fs(e){const{listId:t,messageId:s}=e;return i.createElement("div",{"data-test-id":"compose",className:ys.errorContainer},s?i.createElement(Ls.ZP,{expanded:!0,expandable:!1}):null,t&&s?function(e){return i.createElement("span",{className:ys.errorWrapper},i.createElement(g.Z,{kind:h.Kinds.EXCLAMATION_ALT,size:h.Sizes.S,colorState:h.ColorStates.COOL_FAINT}),i.createElement("span",{"data-test-id":"compose-app-error",className:ys.errorMessage},i.createElement(c.FormattedMessage,{id:"compose.draft_error_message_retry",defaultMessage:"We couldn't load this draft. {retry}",values:{retry:i.createElement("a",{className:ys.emptyBodyRetry,onClick:bs.bind(null,e),"data-test-id":"body-error-retry"},i.createElement(c.FormattedMessage,{id:"compose.retry_message",defaultMessage:"Retry!"}))}})))}(e):i.createElement("span",{className:ys.errorWrapper},i.createElement(g.Z,{kind:h.Kinds.EXCLAMATION_ALT,size:h.Sizes.S,colorState:h.ColorStates.COOL_FAINT}),i.createElement("span",{"data-test-id":"compose-app-error",className:ys.errorMessage},i.createElement(c.FormattedMessage,{id:"compose.draft_error_message_noretry",defaultMessage:"We couldn't load this draft."}))))}const Us=(0,a.connect)(void 0,(e=>({previewMessage:t=>e((0,Ps.fP)(t))})))(Fs);var vs=s(26),ws=s(38325),Gs=s.n(ws),ks=s(78737);function Hs(){return(Hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Bs=Ue.AGu.Modes,xs=y()(Gs());function Vs(e){const{csid:t,composeDataState:a,composeMode:n,onClose:r,isComposeDisabled:o=!1,composeFormatCueEnabled:l,popOutCompose:c}=e;if(-1!==[Ue.DAQ.LOADING,Ue.DAQ.DOES_NOT_EXIST].indexOf(a))return i.createElement("div",{className:xs.loadingContainer},i.createElement(vs.Z,null));if(a===Ue.DAQ.ERROR)return i.createElement(Us,e);const d=`${t}-${n}-compose`;return i.createElement(i.Fragment,null,i.createElement(Ns,Hs({key:d},e,{csid:t,composeMode:n,onSendSuccess:r,isComposeDisabled:o})),l&&i.createElement("div",{className:xs.cueContainer},i.createElement(L.cr,{import:"../../molecules/compose_format_cue",cueName:Ue.ANe.COMPOSE_FORMAT_CUE,switchToCompactCompose:e=>{c({csid:t,i13nModel:{mKey:v.JE.COMPOSE_POP_OUT,sec:v.nJ.COMPOSE_TOPBAR,interactionType:(0,Ce.getInteractionFromEvent)(e)}})},_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,93658))},_moduleResolver:function(){return 93658}})))}const Ws=(0,a.connect)(((e,t)=>{const{doesComposeSessionExist:s,getDraftMessageId:a,getReplyingToMessageId:n,doesMessageFullBodyExist:r,doesMessageBodyHasError:o,isReplyMessage:i,isReplyAllMessage:l,isForwardMessage:c,getRoute:d,getCurrentListId:E,getFeaturesSelectors:_,getTimeZoneName:u,getSelectedAccountId:m,getSendAccountsByAccountId:S,hasMultipleRootAccounts:p,getLastEditedTimestampForCompose:C}=(0,_e.selectors)(e),{name:A,params:T}=d();let h,g=Ue.DAQ.DOES_NOT_EXIST,I=Bs.NEW;if(t.isCompactCompose||-1===[Ue.n8z.NEW_DRAFT,Ue.n8z.EDIT_DRAFT].indexOf(A)||(h=T.csid),h=h||t.csid,!h||!s(h))return{csid:h,composeDataState:h?Ue.DAQ.DOES_NOT_EXIST:Ue.DAQ.ERROR,composeMode:I};const R=_(),O=m(),D=S(O);g=Ue.DAQ.LOADED;const N=a(h)||n(h);return N&&!C(h)&&(r(N)||(g=Ue.DAQ.LOADING),o(N)&&(g=Ue.DAQ.ERROR)),i(h)&&(I=Bs.REPLY),l(h)&&(I=Bs.REPLY_ALL),c(h)&&(I=Bs.FORWARD),{csid:h,listId:E(),composeDataState:g,composeMode:I,accountId:O,accounts:D,showFrom:p()||D.length>1,dateFormattingOption:{timezone:u(),offset:0},saveInterval:R.getSetting(Ue.Zrf.COMPOSE_SAVE_INTERVAL),linkEnhancer:R.isEnabled(Ue.Zrf.LINK_ENHANCR),composeFontFamily:R.getSetting(Ue.Zrf.COMPOSE_FONT_FAMILY),composeFontSize:R.getSetting(Ue.Zrf.COMPOSE_FONT_SIZE),composeFormatCueEnabled:R.isEnabled(Ue.ANe.COMPOSE_FORMAT_CUE)}}),(e=>({onClose:t=>e((0,ks.I3)(t)),popOutCompose:t=>e((0,bt.L3)(t))})))(Vs)},86460:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({error_title:{id:"compose.error_title",defaultMessage:"Error"},bigAttachment:{id:"compose.too_big_attachment",defaultMessage:"The file exceeds the {maxFileSize}MB attachment limit. Large attachment support coming soon!"},bigAttachmentSupport:{id:"compose.too_big_attachment_support",defaultMessage:"The file(s) you are trying to attach exceed the {maxFileSize}MB attachment size limit. You can upload files to Dropbox or Google Drive, connect your cloud service to Mail, and then add those files to emails you send."},compose_view:{id:"compose.view_aria_label",defaultMessage:"Compose view"},message_body:{id:"compose.message_body",defaultMessage:"Message body"},quoted_draft:{id:"quoted_draft",defaultMessage:"On {date}, {quotedName} &lt;{quotedAddress}&gt; wrote:"},forwarded_message:{id:"forwarded_message",defaultMessage:"Forwarded Message"},quoted_message_from:{id:"quoted_message_from",defaultMessage:"<b>From:</b> {from}"},quoted_message_to:{id:"quoted_message_to",defaultMessage:"<b>To:</b> {to}"},quoted_message_cc:{id:"quoted_message_cc",defaultMessage:"<b>Cc:</b> {cc}"},quoted_message_subject:{id:"quoted_message_subject",defaultMessage:"<b>Subject:</b> {subject}"},quoted_message_sentdate:{id:"quoted_message_sentdate",defaultMessage:"<b>Sent:</b> {sentDate}"},beingUploadedAlert:{id:"being_uploaded_alert",defaultMessage:"Attachment is still being uploaded. Wait and send?"},beingUploadedAlertOK:{id:"compose.beingUploadedAlert.ok",defaultMessage:"OK"},beingUploadedAlertSendWithout:{id:"compose.beingUploadedAlert.send_without",defaultMessage:"Send Without"},emptySubjectAlert:{id:"empty_subject_alert",defaultMessage:"Do you want to send the message without any subject?"},emptySubjectAlertSend:{id:"compose.emptySubjectAlert.send",defaultMessage:"Send"},emptySubjectAlertCancel:{id:"compose.emptySubjectAlert.cancel",defaultMessage:"Cancel"},includeOriginalAttachmentsAlert:{id:"include_original_attachments_alert",defaultMessage:"Include original attachments?"},includeOriginalAttachmentsAlertMsg:{id:"include_original_attachments_alert_msg",defaultMessage:"You added new recipients to your reply. Do you want to include attachments from the original message?"},includeOriginalAttachmentsAlertYes:{id:"compose.includeOriginalAttachmentsAlert.yes",defaultMessage:"Yes"},includeOriginalAttachmentsAlertNo:{id:"compose.includeOriginalAttachmentsAlert.no",defaultMessage:"No"},switch_to_plain_text_warning_title:{id:"compose.switch_to_plain_text_warning_title",defaultMessage:"Switch to Plain Text"},switch_to_plain_text_message:{id:"compose.switch_to_plain_text_message",defaultMessage:"Converting your message to plain text will remove all formatting and inline images. Continue?"},switch_to_plain_text_warning:{id:"compose.switch_to_plain_text_warning",defaultMessage:"Converting your message to plain text will lose all formatting and remove inserted items. Continue?"},switch_to_plain_text_warning_ok:{id:"compose.switch_to_plain_text_warning_ok",defaultMessage:"OK"},switch_to_plain_text_warning_cancel:{id:"compose.switch_to_plain_text_warning_cancel",defaultMessage:"Cancel"},font_family_label_modern:{id:"compose.font_family_label_modern",defaultMessage:"Modern"},font_family_label_modernwide:{id:"compose.font_family_label_modernwide",defaultMessage:"Modern Wide"},font_family_label_classic:{id:"compose.font_family_label_classic",defaultMessage:"Classic"},font_family_label_classicwide:{id:"compose.font_family_label_classicwide",defaultMessage:"Classic Wide"},unsupportedFileType:{id:"compose.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."},plaintext_icon_label:{id:"compose.plaintext_icon_label",defaultMessage:"Switch to plain text mode"},plaintext:{id:"compose.plaintext",defaultMessage:"Switch to plain text mode"},plaintext_text_label:{id:"compose.plaintext_text_label",defaultMessage:"Plain Text"},leftAlign:{id:"compose.left_align_icon",defaultMessage:"Left align"},rightAlign:{id:"compose.right_align_icon",defaultMessage:"Right align"},centerAlign:{id:"compose.center_align_icon",defaultMessage:"Center align"},bulletedList:{id:"compose.bulleted_list_icon",defaultMessage:"Bulleted List"},numberedList:{id:"compose.numbered_list_icon",defaultMessage:"Numbered list"},increaseIndent:{id:"compose.increase_indent_icon",defaultMessage:"Increase indent"},decreaseIndent:{id:"compose.decrease_indent_icon",defaultMessage:"Decrease indent"},strikeThrough:{id:"compose.strikethrough_icon",defaultMessage:"Strikethrough"},bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},color:{id:"compose.color",defaultMessage:"Color"},delete_confirm:{id:"confirm.delete_message_draft",defaultMessage:"Are you sure you want to permanently delete this message?"},cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},confirmBtn:{id:"confirm_btn_text",defaultMessage:"Confirm"},confirmDeleteTitle:{id:"list.confirm_delete_title",defaultMessage:"Delete message"}})},70905:e=>{"use strict";e.exports={className:{default:{select:"C_516e D_F ab_C ir_0 q_T b_0",menuContainer:"D_F",label:"D_F ab_C y_Z2hYGcu A_6EqO",labelName:"a_3He0m ix_AS",menuLabelEmail:"D_X ix_ZnEKB7",menu:"P_3zDxc l_ZufDBK j_20l77p",fromField:"q_T b_0 C3_4N1z"},isCompactCompose:{labelName:"a_3rBgu"}},_key:"Z1p2L0k"}},44377:e=>{"use strict";e.exports={className:{default:{itemAddress:"A_6DUj C_Z1Xxgu2 ix_ZnEKB7",checkmarkWrapper:"W_6LEV H_6LEV D_X",buttonOverride:"J_N",buttonContent:"D_F ab_C i_6LEV",rtlIgnoreDir:"rtlI_dz_sSg",rtlIgnoreMarginR:"rtlI_E_fq7",rtlIgnoreMarginL:"rtlI_Q_fq7",sendingName:"a_3He0m ix_AS"}},_key:"14L4kR"}},79149:e=>{"use strict";e.exports={className:{default:{pills:"k_w D_F ab_C W_6D6F p_R",pillsContainer:"hd_n em_N eo_HB el_Z12c0F D_F M_0 P_3HLUz ir_0 o_A K_3qWeB",pillsContainerChild:"em_N o_h s_3nx4N",pillOuter:"D_F ac_C",textContainer:"E_6LEV o_h",contactIcon:"o_q",name:"C_Z281SGl o_h G_e J_x Q_fq7 E_fq7",email:"C_Z1VRqsb o_h G_e J_x Q_fq7 E_fq7",remove:"o_h G_e J_x Q_fq7 E_fq7 p_a R_0 W_6LEV H_6LEV r_P",highlight:"u_eBE",typeahead:"M_0 p_R H_6NIX",typeaheadInput:"Z_N ir_0 j_n y_Z2hYGcu q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadInputHint:"Z_0 y_Z2hYGcu q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadAriaStatus:"L_Z1yJMeR p_a",typeaheadDropDown:"Z_f8a I_52qC k_w ha_n M_0 P_3HLUz b_Z14vXdP e_dRA j_ZqTdtW p_a o_A K_3vFsb W_3vVYr L_A T_6D6F",typeaheadOptionContainer:"D_F ab_C P_ZGAgNS k_w H_74JI r_P q4_1I4yPF cZ1WADfW_1I4z5p",relatedContactsContainer:"M_fq7 D_F gl_FM",relatedContacts:"M_2gqwFT",relatedContactsClose:"P_eo6 r_P"},autotag:{typeaheadDropDown:"a_3rJgR",relatedContacts:"A_6EqO C_Z1VRqsb u_e69 Q_6Eb4"},showCcBcc:{pillsContainer:"K_FB7P8"},editList:{typeaheadDropDown:"W_3s2lE"}},_key:"Z2gqmzh"}},82653:e=>{"use strict";e.exports={className:{default:{pillsContainer:"hd_n em_N eo_HB el_Z12c0F D_F M_0 P_ZuD4Fa ir_0 o_A K_3qWeB m_Z1a7UWG",overflowPill:"P_oRhLS r_P C_Z281SGl k_w e_6Eb4 M_dRA H_6MGW i_6Mbr p_R o_h I_52qC Z_N J_x G_e a_3nF5b"},hovered:{overflowPill:"b_2fAfSG I_Z2aVTcY e_dRA P_3gIMd C_52qC"}},_key:"DdOiC"}},76439:e=>{"use strict";e.exports={className:{default:{swatchItem:"D_F ek_BB ab_C M_eo6",swatchContent:"W_7rdk",swatchTitleBase:"J_x U_6Eb4 ac_CI",colorElement:"p_R",color:"D_F gl_C ab_C W_6LEV H_6LEV b_0 P_0 it_689y",colorMenu:"P_6DEy",subColorMenu:"P_Z2aXgbn Q_eTB"}},_key:"2lVS8r"}},88760:e=>{"use strict";e.exports={className:{default:{container:"D_F q_52qC ek_BB j_ZqTdtW W_3HK1R cj_dRA ck_dRA cZW7ROP_A p_R H_6D6F ab_BZ",composeStyler:"T_0 L_0 R_0 B_0 W_6D6F H_6D6F D_F p_R",topBar:"D_F H_6VdP q_Z22yhkg ba_1v4W3v W_6D6F",content:"W_6D6F",subjectContainer:"em_N C_52qC D_F r_P o_h ab_C P_1EudUu",subjectStyle:"C_52qC u_e69 o_h J_x G_e",buttonsStyle:"D_F Q_A ab_C W_7He5 gl_2qpK5e"},isMinimized:{container:"ah_iPNmF cZW7ROP_n"},isHidden:{container:"D_n"}},_key:"Zgkus0"}},40959:e=>{"use strict";e.exports={className:{default:{compose:"I_52qC j_n k_w W_6D6F D_F ek_BB em_N P_ZzJed p_R",loadingContainer:"je_74JI",editorContainer:"em_N D_F ek_BB iz_A d_6VdP"}},_key:"Z1mCNPh"}},24329:e=>{"use strict";e.exports={className:{default:{attachmentDragContainer:"em_N D_F ek_BB p_R o_h",dragOverlay:"cZW7ROP_n b_2dWFvS T_fq7 p_a L_0 R_0 B_eo6 D_F gl_C ab_C q_2iedUU",dragDescriptionContainer:"D_F A_6EWk u_b O_cMr ek_BB ab_C C_Z2aVTcY",dragTextDescription:"je_6LEV"}},_key:"Z19Utn2"}},99163:e=>{"use strict";e.exports={className:{default:{editorWrapper:"p_R em_N D_F ek_BB en_0 d_eik",editorContainer:"p_R cZ1RN91d_GG k_w W_6D6F em_N D_F",rte:"em_N ir_0 iy_A iz_h",placeholder:"p_a T_6LEV L_0 C_Z1TsNbA cZW7ROP_n",button:"b_0 ir_0 P_eo6 I_T y_Z2hYGcu A_6DUj C_Z1TsNbA M_6Fd5",buttonInner:"D_F ab_C r_P"},"kind-MESSAGE":{rte:"k_w P_6Fd5 d_7ALe",placeholder:"T_eTB P_1Eu7sD i_6VdP"},"kind-COMPOSE":{rte:"N_6Fd5"},"kind-VACATION_RESPONSE_SETTINGS":{rte:"k_w P_6Fd5 d_3w6xl",placeholder:"T_eTB P_1Eu7sD i_6VdP"}},_key:"Z1bjqzo"}},82702:e=>{"use strict";e.exports={className:{default:{errorContainer:"H_6D6F W_6D6F",errorWrapper:"H_6D6F W_6D6F D_F gl_C ab_C P_Z17Hvh7",errorMessage:"A_6FsP Q_fq7",emptyBodyRetry:"r_P C_Z2aVTcY"}},_key:"Z1fhFdm"}},93332:e=>{"use strict";e.exports={className:{default:{rightAlignIcon:"D_X H_6LEV P_eo6 O_cMu h_2gl0WC",menuIcon:"D_X H_6LEV P_eo6 O_cMu",button:"s_6D6F q_T b_0 P_0 r_P O_cMu I4_2ieea9 e4_dRA O4_N",menuLabel:"A_6EqO C_Z281SGl Q_fq7",menuItem:"D_F N_fq7 ab_C",menuListItem:"Y_eTB H_6NIX",menuContainer:"D_F ek_EZ M_1ghjXT",spaceBetween:"W_fq7",sectionDivider:"D_B z_Z163u0T Y_6DEy U_eo6 E_69H5",backButtonLabel:"A_6DUj C_Z1TsNbA",rtlRawScaleX:"rtlR_h_2gl0WC",rtlRawHidden:"rtlR_v_h rtlR_D_ATgVd",rtlRemoveHidden:"rtlRM_v_h rtlRM_D_ATgVd"}},_key:"1bHiUz"}},22547:e=>{"use strict";e.exports={className:{default:{input:"D_F ab_CI je_eo6 em_N m_Z1a7UWG"},hasFocus:{input:"bj_Z2aVTcY"}},_key:"2tU4n4"}},79069:e=>{"use strict";e.exports={className:{default:{menuItem:"C_Z281SGl H_6UbO i_6UbO N_fq7 D_F ab_C",checkmarkWrapper:"D_X E_fq7 i_0"},"selected-false":{checkmarkWrapper:"W_6LEV"},"kind-tiny":{menuItem:"A_6DEy"},"kind-small":{menuItem:"A_6EqO"},"kind-medium":{menuItem:"A_6Fd5"},"kind-large":{menuItem:"A_6MGW"},"kind-xlarge":{menuItem:"H_72FG i_72FG A_6UbO"},"kind-huge":{menuItem:"H_7ceA i_7ceA A_74JI"},"kind-modern":{menuItem:"y_1ACvVU"},"kind-modernwide":{menuItem:"y_ZISf5J"},"kind-classic":{menuItem:"y_ZYqQIR"},"kind-classicwide":{menuItem:"y_ZNDoVU"},"kind-courier":{menuItem:"y_16XJVH"},"kind-garamond":{menuItem:"y_1i8dl0"},"kind-lucida":{menuItem:"y_Z2hYH8W"}},_key:"Cv0SA"}},2801:e=>{"use strict";e.exports={className:{default:{container:"p_a D_F I_52qC b_Z14vXdP j_ZqTdtW Z_e69 P_Z1E2YFn",linkWrapper:"C_Z1VRqsb",link:"C_Z2aVTcY a_3rdfm J_x o_h G_e D_X f_r",control:"Q_6Eb4 u_b C_Z2aVTcY r_P"}},_key:"ZYpl2f"}},82249:e=>{"use strict";e.exports={className:{default:{container:"en_0",inputDark:"C_Z281SGl",additionalOptionsButtonWrapper:"D_F p_a L_371PO B_dBP P_eo6",additionalOptionsListWrapper:"P_3Y3Gk",replyToAnchor:"Q_pM D_F ab_C r_P",replyToAnchorLabel:"E_Q",replyToPopover:"P_pM",ccContainer:"D_F ab_C em_N",subject:"G_e y_Z2hYGcu A_6EqO C_Z281SGl ir_0 P_0 X_0 bj3_Z281SGl b_0 j_n d_72FG em_N",extraRecipientsBtn:"en_0 Q_fq7 E_eo6 Y_6DEy U_6DEy A_6DUj y_Z2hYGcu C_Z1VRqsb P_ZvFAnJ b_n a_3mS2U q_T r_P",composeHeaderTop:"p_R",composeSubject:"p_R",ccButton:"C_Z1TsNbA je_0 jb_0 cn_0 q_T en_0 r_P",ccButtonNotLast:"x_ZGN9rt C_Z1TsNbA je_0 jb_0 cn_0 q_T en_0 r_P",expandButton:"Z_f8a p_a R_6UbO T_fq7 C4_Z2aVTcY cdPFi4_Z2aVTcY",xButton:"en_0",xButtonWrapper:"p_a R_fq7 T_fq7"},"filled-subject":{subject:"C_Z281SGl"},isSubjectDisabled:{subject:"C_Z1VRqsb I_T"},isCompactCompose:{replyToAnchor:"Q_0 U_U"}},_key:"ZjBJCL"}},39195:e=>{"use strict";e.exports={className:{default:{container:"I_52qC b_Z14vXdP j_ZqTdtW Z_e69 p_a D_F ek_BB P_1iBkeu",button:"q_ZpQYvz e_dRA k_w r_P H_6NIX s_7ceA Y_6Eb4 A_6EqO b_0 C_Z1TsNbA",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",item:"H_6UbO s_3rBgu a_3vXwX jb_fq7 p_R D_F ab_C",testLink:"r_P C_Z2aVTcY q_2uyuKK m_2tEIDu D_Z1YJkyX ab_C gl_CH J_x P_ZvFCc1 H_6D6F W_6D6F",textInput:"z_0 x_0 n_0 m_2tEIDu H_6D6F W_6D6F A_6EqO bj3_Z2aVTcY",linkInput:"z_0 x_0 n_0 m_2tEIDu H_6D6F s_3r5Ku N_eo6 A_6EqO bj3_Z2aVTcY",close:"t_r E_36JN3 Q_0"},saveBtnEnabled:{button:"q_Z2aVTcY C_52qC"},focusOnLinkInput:{testLink:"bj_Z2aVTcY"}},_key:"Z1xdfHq"}},69366:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB em_N"}},_key:"1Nkogp"}},38325:e=>{"use strict";e.exports={className:{default:{loadingContainer:"je_74JI W_6D6F",cueContainer:"q_T H_6D6F W_6D6F p_a B_0 D_F gl_C Z_7G9R"}},_key:"ZkwTAx"}},85786:e=>{"use strict";e.exports={className:{default:{module:"C_Z1VRqsb D_F ab_C em_N",label:"E_6Fd5 r_P en_0 ac_CI i_6VdP C4_Z2aVTcY J_x b_n I_T P_0 C_Z1VRqsb",children:"em_N D_F ab_C"},active:{module:"C_Z281SGl",label:"C_Z2aVTcY"},columnLayout:{children:"ek_BB ab_CI"}},_key:"Z1AQmab"}},95004:e=>{"use strict";e.exports={className:{default:{icon:"D_X P_3gIMd O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL e_dRA",sectionDivider:"M_3gIMd",rtlIgnoreDir:"rtlI_dz_sSg rtlI_D_F",rightAlignIcon:"h_2gl0WC",rtlRawScaleX:"rtlR_h_2gl0WC",rtlRawHidden:"rtlR_v_h rtlR_D_ATgVd",rtlRemoveHidden:"rtlRM_v_h rtlRM_D_ATgVd"}},_key:"ZSXmc7"}},79940:e=>{"use strict";e.exports={className:{default:{composeToolbar:"z_Z14vXdP D_F ab_C I_52qC W_6D6F p_R B_0",sendButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl it3_dRA",status:"Q_fq7 E_fq7 C_Z1TsNbA",spacer:"em_N",sectionDivider:"M_1Eu7sD n_Z14vXdP H_6MGW",formattingTools:"en_N J_x o_h cZ1RN91d_n",icon:"D_X P_3gIMd V_GI O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",menuIcon:"D_Z1YJkyX gl_C V_GI it3_dRA H_6NIX W_6VdP",rtlRawScaleX:"rtlR_h_2gl0WC",deleteButton:"D_Z1YJkyX gl_C en_0 P_0 q_n O4_N I4_2ieea9 it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",trashIcon:"cdPFi_Z26U5qH cdPFi4_ZkiIcp"},"kind-MESSAGE":{composeToolbar:"W_A z_n i_N H_72FG",toolbarContainer:"gl_C z_2w4lU5"},"kind-VACATION_RESPONSE_SETTINGS":{composeToolbar:"W_A i_N H_7ceA P_2aKOEx",toolbarContainer:"gl_C z_2w4lU5"},disabled:{composeToolbar:"cZW7ROP_n O_od"},fixed:{composeToolbar:"p_f Z_e69",toolbarPlaceholder:"W_6D6F H_7qGO"},disabledButton:{sendButton:"q_ZpQYvz C_ZvsWfq cZW7ROP_n"}},_key:"ZYXdUc"}},71628:e=>{"use strict";e.exports={className:{default:{container:"p_R D_F ab_C P_eo6 o_h r_P",input:"p_a T_0 L_0 O_0 r_P o_h W_0 H_0 cZW7ROP_A",hiddenInput:"D_n"},pointerEventsDisabled:{input:"cZW7ROP_n"}},_key:"1hIOpg"}},77201:(e,t,s)=>{"use strict";s.d(t,{Z:()=>C});var a=s(99095),n=s(7320),r=s(10728),o=s(29824),i=s(18446),l=s.n(i);const c=()=>{},d=(0,a.defineMessages)({inlineImageAltText:{id:"compose.inline_image",defaultMessage:"Inline image"},emojiAltText:{id:"compose.emoji_image",defaultMessage:"Emoji"},gifPickerAttribution:{id:"compose.gif_picker_attr",defaultMessage:"Via {htmlImage}"}}),{IMAGE_BIG_WIDTH:E}=n.INLINE_IMAGE_PLUGIN_SIZE,{INLINE_IMAGE_CLASS:_,EMOJI_WRAPPER_CLASS:u,ONLINE_GIF_CLASS:m,GIF_WRAPPER_CLASS:S}=n.INLINE_IMAGE_PLUGIN_CLASSES;function p(e,t,s=c){try{const a=window.getSelection();e.restoreCaret(),a&&!e.element.contains(a.anchorNode)&&e.focus(),e.pushButton("insertHTML",t),e.saveUndo(),s()}catch(a){console.error(a)}}const C={findGifWrapper(e){for(;e&&-1===e.className.indexOf(S);)e=e.parentNode;return e},insertEmoji(e,t,s){const a=new Image;a.alt=a.title=t(d.emojiAltText),a.classList.add(u),a.height=s.height,a.src=s.downloadLink,a.style.padding="0px 2px",a.style.verticalAlign="middle",a.width=s.width,p(e,a.outerHTML,(()=>{e.contentChanged({type:"emoji_inserted",eventData:{emoji:s}})}))},insertGif(e,t,s){const a=new Image;a.alt=a.title=s.altText,a.src=s.downloadLink,a.className=_+" "+m,a.setAttribute("data-id",Date.now()),a.draggable=!1,p(e,function(e,t,{onlineContentLink:s}){const a=e(d.gifPickerAttribution,{htmlImage:'<img src="https://s.yimg.com/nq/gif-providers/1/gif-providers/tenor.png"/>'});let n={"font-size":r.qNP,color:r.E6z.vzm_gandalf,"margin-top":"8px","font-family":"Arial"};return n=Object.keys(n).map((e=>e+":"+n[e])).join(";"),`<div><br></div><div class="${S}" contentEditable="false">\n               <a rel="noreferrer"\n                   target="_blank"\n                   href="${s}"\n                   style="cursor:pointer;text-decoration: none;color:transparent"\n               >${t.outerHTML}\n                   <div style="${n}" class="rte-gif-attribution">${a}</div>\n               </a></div><div><br></div>`}(t,a,s),(()=>{e.contentChanged({type:"gif_inserted",eventData:{gif:s}}),e.scrollCaretIntoView()}))},getOffsetFromEditorContainer(e,t){const s={top:0,left:0};for(;t&&t!==e.element.parentNode&&t!==document.body;)s.top+=t.offsetTop,s.left+=t.offsetLeft,t=t.offsetParent;return s},insertLink(e,t){p(e,`<div class='pasted-link'><a href="${t}">${t}</a></div>`,(()=>e.scrollCaretIntoView()))},insertInlineAttachment(e,t,s){const{contentId:a}=s,n=new Image;n.setAttribute("data-id",a),n.alt=n.title=t(d.inlineImageAltText),n.src=s.downloadUrl,n.classList.add(_),n.style.maxWidth=E+"px",n.draggable=!1,p(e,n.outerHTML+"<br/>",(()=>e.scrollCaretIntoView()))},isGif:e=>e.className.indexOf(S)>-1||e.className.indexOf(m)>-1,putCursorBefore(e){const t=window.getSelection(),s=document.createRange();s.setStartBefore(e),s.collapse(!0),t.removeAllRanges(),t.addRange(s)},removeInlineImage(e,t,s=c){let a=n.EDITOR_EVENTS.inline_image_removed;this.isGif(t)&&(t=this.findGifWrapper(t.parentNode),a=n.EDITOR_EVENTS.gif_removed),t.parentNode.removeChild(t),e.contentChanged({type:a}),s()},fixOverlayPosition({hoveredElement:e,overlay:t,scrollableContainer:s,editor:a}){if(e&&t&&s){const{scrollTop:n}=s,r=this.getOffsetFromEditorContainer(a,e);let o=Math.min(e.clientWidth,s&&s.clientWidth||Number.MAX_VALUE);r.left+o>a.element.clientWidth&&(o=a.element.clientWidth-r.left);let i=e.clientHeight;if(r.top<n){const e=r.top;r.top=n,i-=s.scrollTop-e}Object.assign(t.style,{left:r.left+"px",top:r.top+"px",width:o+"px",height:i+"px",position:"absolute"})}},getNodeFromPath(e,t){if(!e)return null;for(e.normalize();t.length&&e&&e.hasChildNodes();)e=e.childNodes[t.pop()];return e},getBoundingClientRectTextNode(e){const t=document.createRange();if(!t)return;t.selectNode(e);const{x:s,y:a}=t.getBoundingClientRect();return{x:s,y:a}},getPathToNode(e,t,s){if(!e)return null;e.normalize();const a=[];if(t&&!s){const{x:s,y:a}=this.getBoundingClientRectTextNode(t),n={x:s,y:a},r=(0,o.formatPlaintextForDisplay)((0,o.convertToPlainText)(e));e.innerHTML=r;const i=(e,t)=>l()(this.getBoundingClientRectTextNode(e),t),c=Array.from(e.childNodes).findIndex((e=>t.textContent===e.textContent&&i(e,n)));return c>-1?[c]:[]}for(;t&&t!==e;){const e=t.parentNode;if(!e||!e.hasChildNodes())break;{const s=Array.from(e.childNodes).indexOf(t);a.push(s),t=e}}return a},getSelectionRange(){if("function"==typeof window.getSelection){const e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0)}return null},isValidStartOffsetForNode(e,t){switch(e.nodeType){case Node.TEXT_NODE:return t<=e.length;case Node.ELEMENT_NODE:return t<=e.childNodes.length;default:return!1}}}},12630:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(79483),n=s(7320),r=s(92559);function o({type:e,eventData:t}){switch(e){case n.EDITOR_EVENTS.emoji_inserted:a.ZP.sendI13nModel({i13nModel:{mKey:r.JE.EMOJI_ADD,sec:r.nJ.RTE_TOOLBAR,interactionType:r.Rb.click,actionData:{emoji:t.emoji.source}}});break;case n.EDITOR_EVENTS.gif_inserted:if(a.ZP.sendI13nModel({i13nModel:{mKey:r.JE.GIF_ADD,sec:r.nJ.RTE_TOOLBAR,interactionType:r.Rb.click}}),t.gif.feedbackUrl){const e=new Image;e.crossorigin="anonymous",e.src=t.gif.feedbackUrl}break;case n.EDITOR_EVENTS.gif_removed:a.ZP.sendI13nModel({i13nModel:{mKey:r.JE.GIF_REMOVE,sec:r.nJ.COMPOSE_MSG,interactionType:r.Rb.click}});break;case n.EDITOR_EVENTS.gif_resized:a.ZP.sendI13nModel({setTo:t.size,i13nModel:{mKey:r.JE.GIF_CHANGE_SIZE,sec:r.nJ.COMPOSE_MSG,interactionType:r.Rb.click}});break;case n.EDITOR_EVENTS.stationery_cleared:a.ZP.sendI13nModel({i13nModel:{mKey:r.JE.COMPOSE_CLEAR_STATIONERY,sec:t.sec,interactionType:r.Rb.click}});break;case n.EDITOR_EVENTS.default_stationery_cleared:a.ZP.sendI13nModel({i13nModel:{mKey:r.JE.COMPOSE_CLEAR_DEFAULT_STATIONERY,sec:t.sec,interactionType:r.Rb.click}})}}},19822:(e,t,s)=>{"use strict";s.r(t),s.d(t,{makeArray:()=>E,hasInvalidComposeField:()=>_,hasInvalidComposeHeader:()=>u,hasInvalidComposeFields:()=>m,hasTooFewComposeFields:()=>S,hasTooManyComposeFields:()=>p,getInvalidEmails:()=>C,_getAccountFieldFromSelection:()=>A,getFromAddress:()=>T,getFromAddressForReplyForward:()=>h,getSixDigitHexColor:()=>g,getInitialFocusRef:()=>I,addressHTMLString:()=>R,getCaretCoordinates:()=>O,getFontSizeStyle:()=>D,getLocalizedFontFamilyName:()=>N,isJSONString:()=>f,buildRecipients:()=>M,getAttachmentDisposition:()=>L,extractPidFromString:()=>P,getFileFromDataURI:()=>y,isRecipientFieldsFocused:()=>b});var a=s(17016),n=s(62631),r=s(7320),o=s(50566),i=s(99691),l=s(37422),c=s(4119),d=s(86460);function E(e){return""===e||null==e?[]:Array.isArray(e)?e.slice(0):[e]}function _(e){const{to:t,cc:s,bcc:a}=e,n=C(t,s,a)||[];return n.length?{name:o.COMPOSE_ADDRESSING_FAILED,params:{invalidAddresses:n}}:t&&t.length||s&&s.length||a&&a.length?t.length+s.length+a.length>c.jQ?{name:o.COMPOSE_RECIPIENT_LIMIT_EXCEEDED}:null:{name:o.COMPOSE_NO_ADDRESS_DETECTED}}function u(e){return m(e)||S(e)||p(e)}function m(e){const{to:t=[],cc:s=[],bcc:a=[]}=e,n=C(t,s,a)||[];return n.length?{name:o.COMPOSE_ADDRESSING_FAILED,params:{invalidAddresses:n}}:null}function S(e){const{to:t=[],cc:s=[],bcc:a=[]}=e;return t.length+s.length+a.length<=0?{name:o.COMPOSE_NO_ADDRESS_DETECTED}:null}function p(e){const{to:t=[],cc:s=[],bcc:a=[]}=e;return t.length+s.length+a.length>c.jQ?{name:o.COMPOSE_RECIPIENT_LIMIT_EXCEEDED}:null}function C(){let e=[];return Array.prototype.slice.call(arguments).forEach((function(t){e=e.concat(t)})),e.map((({email:e})=>e)).filter((e=>!(0,a.isValidEmail)(e)))}function A(e,t){let s;const a=(0,n.Nu)(e);return t&&(s=a.find((({email:e})=>e===t))),s||(s=a.find((({isSending:e})=>!!e))),s||(s=a[0]||e[0]),s}function T(e,t){return A(e,t)}function h(e,t={}){const s=(0,n.Nu)(e);let a;return["to","cc","bcc"].forEach((e=>{a||(e=new Set(t[e].map((({email:e})=>e))),a=s.find((({email:t})=>e.has(t))))})),a||s.find((({isSending:e})=>!!e))||s.find((({isPrimary:e})=>!!e))||s[0]}function g(e){let t,s;if("number"==typeof e){for(e=e.toString(16);e.length<6;)e="0"+e;e="#"+(e=e.substr(4,2)+e.substr(2,2)+e.substr(0,2))}return"string"==typeof e&&(e.indexOf("rgb")>-1&&(t=e.split("(")[1].split(")")[0],t=t.split(","),s=t.map((function(e){return 1===(e=parseInt(e,10).toString(16)).length?"0"+e:e})),e="#"+s.join("")),4===e.length)?e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e}function I({focusSubject:e,initialTo:t=[],initialSubject:s=""}){let a=r.FocusableRefs.EDITOR;return e?a=r.FocusableRefs.SUBJECT:0===t.length?a=r.FocusableRefs.TO:0===s.length&&(a=r.FocusableRefs.SUBJECT),a}function R({name:e,email:t}){return e||(e=`"${t}"`),`${e} &lt;${t}&gt;`}function O(e){const t=window.getSelection(),s=e.getBoundingClientRect();let a=0,n=0;if(t&&t.rangeCount){const e=t.getRangeAt(0).cloneRange();if(e.getClientRects){e.collapse(!0);const t=e.getClientRects();if(t.length>0){const e=t[0];a=e.left-s.left,n=e.top-s.top}}if(0===a&&0===n){const t=document.createElement("span");if(t.getClientRects){t.appendChild(document.createTextNode("​")),e.insertNode(t);const r=t.getClientRects(),o=t.parentNode;if(r.length>0){const e=r[0];a=e.left-s.left,n=e.top-s.top}o.removeChild(t),o.normalize()}}}return{x:a,y:n}}function D(e){const t=Math.min(Number(e),7),s=c.TS.find((e=>e.fontSize===t));return s?s.value:c.N4.MEDIUM}function N(e,t=""){const s=d.Z["font_family_label_"+t.toLowerCase()];return s?e(s):null}function f(e){try{return JSON.parse(e),!0}catch(t){return!1}}function M(e){return e.reduce(((e,t=[])=>e.concat(t.map((({email:e})=>e)))),[]).filter((e=>(0,a.isValidEmail)(e)))}function L(e){const t=e.type.split("/");let s;return s=t.length>1?(0,i.SA)(t[0],t[1]):(0,i.SA)(e.type,e.subtype),s===l.sSc.SimplifiedTypes.IMAGE?l.sSc.Dispositions.INLINE:l.sSc.Dispositions.ATTACHMENT}function P(e){const t=/https:\/\/.*?mail.(yahoo|aol).com.*?(?:\?|&)pid=([0-9]*)/i;if(t.test(e)){const[,,s]=t.exec(e);return s}return""}function y(e){const t=e.match(/^(data):(.+)?;(.+?),/);if(!t||!window.atob)return null;const s=e.split(",")[1];let a;a="base64"===t[3]?atob(s):window.unescape(s);const n=a.length,r=t[2],o=new Uint8Array(n);for(let l=0;l<n;l++)o[l]=a.charCodeAt(l);const i=new Blob([o],{type:r});return i.name=`dataURI-${Date.now()}`,i.lastModifiedDate=new Date,i.isFromDataURI=!0,i}function b(e){return e===r.FocusableRefs.TO||e===r.FocusableRefs.BCC||e===r.FocusableRefs.CC}},51404:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var a=s(67294),n=s(45697),r=s.n(n),o=s(74449),i=s.n(o),l=s(19341),c=s(92559),d=s(37422),E=s(99095),_=s(85927),u=s(92743);const m=(e,t)=>{const{email:s,id:n,isBusiness:r,redirectToAffiliateLink:o,sectionValue:d,isAffiliatePartnerEnabled:E,website:_,isDarkMode:u}=e,m=d===c.nJ.MSG_BODY,S=d===c.nJ.MSG_LIST_SEARCH,p=t.getCss(i(),{websiteLinked:E||r&&!!_,isMerchantCard:m,isSearchContactCard:S});let C=l.u8.L;return m&&(C=l.u8.MEDIUM_PLUS),S&&(C=l.u8.UNIFY_DESIGN_L),a.createElement("div",{className:p.leftColElement},a.createElement("div",{title:E?_:null,className:p.avatarContainer,onClick:e=>{if(r&&_)return!E&&_?(window.open(_,"_blank","noreferrer"),void e.stopPropagation()):void o(e,d,"logo")},"data-test-id":"contact-card-avatar"},a.createElement(l.ZP,{contact:{email:s,id:n},size:C,isDarkMode:u})))};m.contextTypes={intl:E.intlShape,getCss:r().func,getThemeMode:r().func,getTheme:r().func};const S=(0,u.connect)(((e,{website:t,isBusiness:s})=>{const{isFeatureEnabled:a}=(0,_.selectors)(e);return{isAffiliatePartnerEnabled:s&&t&&a(d.ANe.AFFILIATE_PARTNER)}}))(m)},19276:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=s(67294),n=s(45697),r=s(99e3),o=s.n(r),i=s(92743),l=s(85927),c=s(37422),d=s(99095),E=s(91742);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const u=({relationshipHistory:e,isBusiness:t,isEnabled:s,onContactClick:n},r)=>{if(!s||t||!e)return null;const{prose:i}=e;if(!i||0===i.length)return null;const l=r.getCss(o());return a.createElement("div",{className:l.contactSummary,"data-test-id":"contact-card-summary"},i.map(((e,t)=>{const s={},{type:r,name:o=""}=e;return"contact"===r&&"you"!==o&&(s.className=l.contact,s.onClick=n.bind(void 0,e)),a.createElement("span",_({"data-test-id":`summary-part-${t}`,key:t},s),o||e||"")})))};u.defaultProps={isBusiness:!1},u.contextTypes={intl:d.intlShape,getCss:n.func,getThemeMode:n.func,getTheme:n.func};const m=(0,i.connect)((e=>{const{isFeatureEnabled:t}=(0,l.selectors)(e);return{isEnabled:t(c.ANe.CONTACT_SUMMARY)}}),(e=>({onContactClick:({name:t,smtp:s})=>e((0,E.lY)({smtp:s,name:t}))})))(u)},97113:(e,t,s)=>{"use strict";s.d(t,{Z:()=>C});var a=s(67294),n=s(45697),r=s.n(n),o=s(86697),i=s.n(o),l=s(99095),c=s(76531),d=s(9333),E=s(9026);const _=(0,l.defineMessages)({sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"},search:{id:"contact_card.search",defaultMessage:"Search for emails from {name}"},default_contact_name:{id:"contact.unknown_name",defaultMessage:"# Unknown name"}});var u=s(69511),m=s(44278);const S=()=>{},p=({name:e,onContactNameClick:t,onContactNameDoubleClick:s=S,email:n,isInRightRail:r,isMobile:o,isEnhancedContactCard:l=!1},p)=>{const{intl:{formatMessage:C}}=p,A=(0,E.$o)({context:p,includeMedium:!0})&&r,T=p.getCss(i(),{isEnhancedContactCard:l,darkVariations:A,isMobile:o,defaultName:!e&&!n}),h=e||n||C(_.default_contact_name),g="rtl"===(0,u.getTextDirection)(h)?T.rtlIgnoreDirRTL:T.rtlIgnoreDirLTR;return a.createElement("div",{className:T.searchSection,"data-test-id":"contact-card-search"},a.createElement("div",{"data-test-id":"contact-card-name","data-id":"contact-card-name",className:T.name+" "+g,title:h,onClick:t,onDoubleClick:s},h),l?a.createElement("span",{className:T.groupedIconsSection,onClick:e=>e.stopPropagation()},a.createElement("span",{className:T.iconsSection,onClick:t},a.createElement(d.default,{paddingLess:!0,"data-test-id":"contact-card-search-icon",className:T.searchIcon,title:C(_.search,{name:h}),kind:o?c.Kinds.SEARCH:c.Kinds.SEARCH_MINI,size:o?c.Sizes.S:c.Sizes.XS,colorState:c.ColorStates.INHERITED})),a.createElement("span",{className:T.partnerIcon},a.createElement(m.ZP,{isOnDarkBackground:A,size:c.Sizes.XS}))):a.createElement("span",{className:T.iconsSection,onClick:t},a.createElement(d.default,{paddingLess:!0,"data-test-id":"contact-card-search-icon",className:T.searchIcon,title:C(_.search,{name:h}),kind:o?c.Kinds.SEARCH:c.Kinds.SEARCH_MINI,size:o?c.Sizes.S:c.Sizes.XS,colorState:c.ColorStates.INHERITED})))};p.contextTypes={intl:l.intlShape,getCss:r().func,getThemeMode:r().func,getTheme:r().func},p.defaultProps={isInRightRail:!1};const C=p},7599:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(67294),n=s(45697),r=s.n(n),o=s(57677),i=s.n(o),l=s(9026);const c=({position:e,isInRightRail:t,isMobile:s},n)=>{if(!e)return null;const r=n.getCss(i(),{darkVariations:(0,l.$o)({context:n,includeMedium:!0})&&t,isMobile:s});return a.createElement("div",{"data-test-id":"contact-card-position",className:r.position,title:e},e)};c.contextTypes={getCss:r().func,getThemeMode:r().func,getTheme:r().func},c.defaultProps={isInRightRail:!1};const d=c},67265:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>y});var a=s(67294),n=s(92743),r=(s(45697),s(3727)),o=s.n(r),i=s(76223),l=s.n(i),c=s(99095),d=s(9333),E=s(18030),_=s(76531),u=s(65304),m=s(10728),S=s(8470),p=s(94482),C=s(11160),A=s(31509),T=s(85927),h=s(92559),g=s(37422),I=s(17016),R=s(78041),O=s(79483),D=s(40918),N=s(59959),f=s(72484);const M=l()(o()),L=(0,c.defineMessages)({merchantCardMenu:{id:"merchant_card_deal_reco_tooltip",defaultMessage:"Deal recommendations options"}}),P=(e,t)=>{const{formatMessage:s}=t.intl,{onDealRecoClick:n,dealRecoSetting:r,toggleDealRecommendationsPreview:o,showDealsRecommendControlCue:i}=e;return a.createElement("div",{className:M.container},a.createElement(C.Z,null,a.createElement(A.Z,null,a.createElement(d.default,{kind:_.Kinds.MORE,size:_.Sizes.XS,colorState:_.ColorStates.INHERITED,title:s(L.merchantCardMenu),"aria-haspopup":!0})),a.createElement(E.ZP,{offset:8,arrowSize:u.Jk.M,triggerOn:u.K2.CLICK,permittedArrowDirections:[u.Ji.UP],zAltitude:m.LSY.POPOVER.HIGH,align:u.xM.END},a.createElement("div",{className:M.menu},a.createElement(S.Z,{focusOnMount:!0,layout:R.A.VERTICAL,kind:D.F.MENU},a.createElement(p.Z,null,a.createElement("a",{"data-test-id":"deals-toggle-contact-card",className:M.menuOption,onClick:e=>{i?o({dealsRecommendationsAllowed:!r,i13nModel:{mKey:h.JE.MERCHANT_CARD_TOGGLE_PREVIEW_DEALS,sec:h.nJ.CONTACT_CARD,interactionType:h.Rb.click,actionData:{previewValue:!r}}}):n(e,h.nJ.CONTACT_CARD)},tabIndex:-1},a.createElement(c.FormattedMessage,{id:"merchant_card_menu.show_hide_deals",defaultMessage:"{dealRecoSetting, select,\n                                                        false {Show}\n                                                        true {Do not show}\n                                                        } deals",values:{dealRecoSetting:r}}),a.createElement(f.ZP,null))),a.createElement(p.Z,null,a.createElement("a",{"data-test-id":"privacy-policy-contact-card",target:"_blank",rel:"noopener noreferrer",className:M.menuOption,href:e.privacyUrl,onClick:e=>{O.ZP.sendI13nModel({i13nModel:{mKey:h.JE.MERCHANT_CARD_MENU_PRIVACY_CLICKED,sec:h.nJ.CONTACT_CARD,interactionType:(0,I.getInteractionFromEvent)(e)}})},tabIndex:-1},a.createElement(c.FormattedMessage,{id:"merchant_card_menu.privacy_policy",defaultMessage:"Privacy policy"}))))))))};P.contextTypes={intl:c.intlShape.isRequired},P.defaultProps={dealRecoSetting:!0};const y=(0,n.connect)((e=>{const{getSetting:t,isFeatureEnabled:s}=(0,T.selectors)(e);return{privacyUrl:t(g.Zrf.PRIVACY_URL),dealRecoSetting:s(g.ANe.DEAL_RECOMMENDATIONS_ENABLED),showDealsRecommendControlCue:s(g.ANe.DEALS_RECOMMEND_CONTROL_CUE)}}),(e=>({onDealRecoClick:t=>e((0,N.co)(t)),toggleDealRecommendationsPreview:t=>e((0,N.Oc)(t))})))(P)},8153:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var a=s(67294),n=s(45697),r=s(92743),o=s(76531),i=s(41205),l=s.n(i),c=s(99095),d=s(43007),E=s(9026);const _=(0,c.defineMessages)({backyard:{id:"contact_card.backyard",defaultMessage:"backyard profile"},flickr:{id:"contact_card.flickr",defaultMessage:"flickr profile"},facebook:{id:"contact_card.facebook",defaultMessage:"facebook profile"},linkedin:{id:"contact_card.linkedin",defaultMessage:"linkedin profile"},twitter:{id:"contact_card.twitter",defaultMessage:"twitter profile"}}),u=e=>{e.stopPropagation()},m=(e,t)=>{const{formatMessage:s}=t.intl,{backyardLink:n,facebookLink:r,twitterLink:i,linkedinLink:c,flickrLink:m,isInRightRail:S,contextOfUse:p=""}=e,C=(0,E.$o)({context:t,includeMedium:!0}),A=S&&C,T=t.getCss(l(),{darkVariations:A,isEnhancedContactCard:"enhancedContactCard"===p}),h=T.socialIcon,g=[{href:n&&`https://directory.vzbuilders.com/view/vzm/${n}`,iconType:o.Kinds.HOME,iconClassName:T.backyardIcon,title:s(_.backyard)},{href:r,iconType:o.Kinds.FACEBOOK,colorState:A?o.ColorStates.INHERITED:o.ColorStates.FACEBOOK_ENABLED,iconClassName:h,title:s(_.facebook)},{href:i,iconType:o.Kinds.TWITTER,colorState:A?o.ColorStates.INHERITED:o.ColorStates.TWITTER_ENABLED,iconClassName:h,title:s(_.twitter)},{href:c,iconType:o.Kinds.LINKEDIN,colorState:A?o.ColorStates.INHERITED:o.ColorStates.LINKEDIN_ENABLED,iconClassName:h,title:s(_.linkedin)},{href:m,iconType:A?o.Kinds.FLICKR_MONOCHROME:o.Kinds.FLICKR,iconClassName:h,title:s(_.flickr)}].filter((({href:e})=>e));return g&&0!==g.length?a.createElement("div",{className:T.social},g.map((e=>(e=>{const{iconType:t,href:s,title:n,iconClassName:r,colorState:i}=e;return a.createElement("a",{"data-test-id":"contact-card-social",key:t,className:r,href:s,target:"_blank",onClick:u,title:n,rel:"noreferrer"},a.createElement(d.Z,{kind:t,size:o.Sizes.XS,colorState:i||o.ColorStates.INHERITED}))})(e)))):null};m.defaultProps={isInRightRail:!1},m.contextTypes={intl:c.intlShape,getCss:n.func,getThemeMode:n.func,getTheme:n.func};const S=(0,r.connect)(((e,{contact:t={}})=>({backyardLink:t.backyard,facebookLink:t.facebook,twitterLink:t.twitter,linkedinLink:t.linkedin,flickrLink:t.flickr})))(m)},40343:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(67294),n=s(45697),r=s.n(n),o=s(5061),i=s.n(o),l=s(37422),c=s(99095),d=s(85927),E=s(92743);const _=(e,t)=>{const{contextOfUse:s="",isAffiliatePartnerEnabled:n,redirectToAffiliateLink:r,sectionValue:o,website:l,isMerchantCard:c=!1}=e,d=t.getCss(i(),{websiteLinked:n||!!l,isEnhancedContactCard:"enhancedContactCard"===s});if(!l)return c?a.createElement("div",{className:d.placeHolder}):null;return a.createElement("div",{title:l,className:d.website,onClick:e=>{if(!n||l&&!r)return window.open(l,"_blank","noreferrer"),void e.stopPropagation();r(e,o,"weblink")}},l.split("://").pop().replace(/\/+$/,""))};_.contextTypes={intl:c.intlShape,getCss:r().func,getThemeMode:r().func,getTheme:r().func};const u=(0,E.connect)(((e,{website:t,isBusiness:s})=>{const{isFeatureEnabled:a}=(0,d.selectors)(e);return{isAffiliatePartnerEnabled:s&&t&&a(l.ANe.AFFILIATE_PARTNER)}}))(_)},29995:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>Te,j2:()=>Ce});var a=s(45697),n=s.n(a),r=s(67294),o=s(92743),i=s(99095),l=(s(31280),s(30426)),c=s(18091),d=s(92559),E=s(17016),_=s(3405),u=s(9026),m=s(66488),S=s.n(m),p=s(85927),C=s(78737),A=s(8153),T=s(20045),h=s.n(T),g=s(76223),I=s.n(g);const R=I()(h()),O=e=>{const{isBusiness:t}=e;return t?r.createElement("span",{className:R.footer}):r.createElement("div",{"data-test-id":"contact-card-footer",className:R.containerFooter},r.createElement("div",{className:R.footerText},r.createElement(i.FormattedMessage,{id:"contact_card.footer",defaultMessage:"Auto generated card visible only to you"})))};O.defaultProps={isBusiness:!1};const D=O;var N,f,M,L=s(19276),P=s(51404),y=s(97113),b=s(7599),F=s(40343),U=s(44278),v=s(37422),w=s(91742),G=s(69511),k=s(9333),H=s(76531),B=s(45481),x=s(79483),V=s(67498),W=s(28182),Z=s(19341),K=s(10728),z=s(11396),q=s.n(z);class Y extends r.Component{render(){const{formatMessage:e}=this.context.intl,t=I()(q());return r.createElement("div",{className:t.merchantCardContainer},r.createElement("span",{className:t.textWrapper},r.createElement("span",{className:t.textLeft},r.createElement(Z.ZP,{contact:{},size:Z.u8.MEDIUM_PLUS,useFallbackImage:!1})),r.createElement("span",{className:t.textRight},r.createElement("span",{className:t.textName},this.props.name),r.createElement("span",{className:t.textLink}))),r.createElement("span",{className:t.actionWrapper},r.createElement(V.Z,{kind:W.F.PRIMARY,disabled:!0,style:{display:"flex",padding:`0 ${4*K.mg$}px`,margin:`0 ${2*K.mg$}px 0 ${3*K.mg$}px`,height:7.5*K.mg$+"px",lineHeight:6.75*K.mg$+"px"}},e(Ce.visit_site))))}}N=Y,f="contextTypes",M={intl:i.intlShape.isRequired},f in N?Object.defineProperty(N,f,{value:M,enumerable:!0,configurable:!0,writable:!0}):N[f]=M;var j=s(67265),Q=s(40818),X=s(87771),J=s(27828),$=s.n(J);function ee(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const te={LOGO:"logo",SAVED_DEALS:"saved_deals",SAVED_DEALS_CLOSE:"saved_deals_close",TITLE:"title",VIEW_MORE_DEALS:"view_more_deals",VISIT_SITE:"visit_site",WEBLINK:"weblink"};class se extends r.Component{constructor(...e){super(...e),ee(this,"state",{showCompactContactCard:!1,showSavedDealsModal:!1}),ee(this,"handleScroll",(()=>{var e,t;const{isStorefrontView:s,storefrontContainer:a}=this.props;s&&(null===(e=a.current)||void 0===e?void 0:e.scrollTop)<94&&this.state.showCompactContactCard&&this.setState({showCompactContactCard:!1}),s&&(null===(t=a.current)||void 0===t?void 0:t.scrollTop)>=94&&!this.state.showCompactContactCard&&this.setState({showCompactContactCard:!0})})),ee(this,"i13nModel",(({mKey:e,interactedItem:t})=>{const{contact:s,email:a}=this.props,n={brandurl:null==s?void 0:s.website,featurefamily:v.lMo.IC,interactedItem:t,interactiontype:d.Rb.click,kpidriven:v.bf3,moment:"na",slot:d.KJ.BRAND_SEARCH,sndr:a,xpname:v.pdX.CONTACT_CARD};x.ZP.sendI13nModel({i13nModel:{mKey:e,sec:d.nJ.MSG_LIST_SEARCH,actionData:n}})})),ee(this,"handleStorefrontBrandFollow",((e,t,s)=>{e.preventDefault(),e.stopPropagation();const{requestStorefrontBrandFollow:a,requestStorefrontBrandUnfollow:n,selectedAccountId:r}=this.props;s?n({accountId:r,brandId:t}):a({accountId:r,brandId:t})})),ee(this,"handleSavedDealsViewMoreClick",(()=>{const{navigateToRoute:e,selectedAccountId:t,storefrontBrandInfo:s}=this.props;this.i13nModel({mKey:d.JE.CARD_INTERACT,interactedItem:te.VIEW_MORE_DEALS}),e({route:(0,_.Rb)(t,null==s?void 0:s.brandId)})})),ee(this,"handleSavedDealsIconClick",(()=>{const e=this.state.showSavedDealsModal?te.SAVED_DEALS_CLOSE:te.SAVED_DEALS;this.i13nModel({mKey:d.JE.CARD_INTERACT,interactedItem:e}),this.setState({showSavedDealsModal:!this.state.showSavedDealsModal})})),ee(this,"handleStorefrontViewSavedDealsIconClick",(()=>{const{onDealsExpand:e}=this.props;e(),this.setState({showSavedDealsModal:!1})})),ee(this,"_renderSearchContactCardBodyText",(()=>{const{contact:e,redirectToAffiliateLink:t,storefrontBrandInfo:s,storefrontBrandDeals:a}=this.props,{isBusiness:n=!1,website:o}=e||{},l=(null==s?void 0:s.numberOfMessages)||0;return!s||s&&!a||0===(null==a?void 0:a.length)?r.createElement(F.Z,{contextOfUse:"enhancedContactCard",isBusiness:n,isMerchantCard:!0,redirectToAffiliateLink:t,sectionValue:d.nJ.MSG_LIST_SEARCH,website:o}):a?r.createElement(i.FormattedMessage,{id:"search_contact_card.emails_deals",defaultMessage:"{numberOfMessages} {numberOfMessages, plural, =1 {email} other {emails}} | {numberOfDeals} {numberOfDeals, plural, =1 {deal} other {deals}}",values:{numberOfMessages:l,numberOfDeals:a.length}}):null})),ee(this,"_renderLinkButton",(e=>r.createElement(V.Z,{"data-test-id":"visit_site_button",kind:W.F.PRIMARY,onClick:e=>this.props.redirectToAffiliateLink(e,d.nJ.MSG_LIST_SEARCH,te.VISIT_SITE),overridingClass:e.visitSite},r.createElement(i.FormattedMessage,{id:"search_contact_card.visit_site",defaultMessage:"Visit site"})))),ee(this,"_renderSavedDealsIcon",((e,t=!1)=>r.createElement(r.Fragment,null,r.createElement("div",{className:e.separator}),r.createElement("div",{className:e.savedDeals},r.createElement("span",{className:e.dealsIcon},r.createElement(k.default,{"aria-label":"Saved deals",colorState:H.ColorStates.INHERITED,"data-test-id":"saved_deals_button",kind:H.Kinds.DEALS,onClick:this.handleSavedDealsIconClick,size:H.Sizes.XS,title:"Saved deals"})),!t&&r.createElement("span",{className:e.savedDealsText},r.createElement(i.FormattedMessage,{id:"search_contact_card.saved_deals",defaultMessage:"Saved deals"}))))))}componentDidMount(){window.addEventListener("scroll",this.handleScroll,!0)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll,!0)}render(){const{contact:e,email:t,isCompactView:a,isDarkTheme:n,isStorefrontEnabled:o,isStorefrontView:i,redirectToAffiliateLink:l,storefrontBrandDeals:c,storefrontBrandInfo:E}=this.props,_=null==E?void 0:E.logo,u=null==E?void 0:E.name,m=null==E?void 0:E.followed,S=null==E?void 0:E.brandId,p=(null==e?void 0:e.name)||u,C=null==e?void 0:e.isBusiness,A=null==e?void 0:e.id,T=(null==e?void 0:e.website)||(null==E?void 0:E.website),{showCompactContactCard:h}=this.state,g=I()($(),{isStorefrontView:i,isCompactView:a,isDarkTheme:n});return r.createElement(r.Fragment,null,(()=>r.createElement("div",{className:g.cardContainer},r.createElement("span",{className:g.textWrapper},r.createElement(P.Z,{email:t,id:A,isBusiness:C,redirectToAffiliateLink:l,sectionValue:d.nJ.MSG_LIST_SEARCH,website:T}),r.createElement("div",{className:g.textRight},r.createElement("span",{className:g.textName,"data-test-id":"coupon_head_name",onClick:T?e=>l(e,d.nJ.MSG_BODY,te.TITLE):()=>{}},e&&p,r.createElement(k.default,{"data-test-id":"star-brand",className:g.starButton,colorState:m?H.ColorStates.STARRED:H.ColorStates.FAINT,kind:H.Kinds.STAR,size:H.Sizes.S,onClick:e=>this.handleStorefrontBrandFollow(e,S,m)})),r.createElement("span",{className:g.textLink},this._renderSearchContactCardBodyText()))),r.createElement("span",{className:g.actionWrapper},a&&r.createElement("div",{className:g.viewStorePage}),T&&this._renderLinkButton(g),!a&&E&&this._renderSavedDealsIcon(g))))(),i&&h&&(()=>r.createElement("div",{className:g.compactContainer},r.createElement("div",{"data-test-id":"compact-brand-logo",className:g.compactLogoImageContainer,onClick:e=>l(e,te.logo)},r.createElement("img",{className:g.compactLogoImage,src:_,alt:u})),r.createElement("div",{className:g.compactBrandInfo},r.createElement("div",{"data-test-id":"compact-brand-name",className:g.textName,onClick:e=>l(e,te.TITLE)},u)),r.createElement("div",{className:g.actionArea},this._renderLinkButton(g),E&&this._renderSavedDealsIcon(g,!0))))(),this.state.showSavedDealsModal&&r.createElement(X.cr,{import:"../storefront_view/atoms/saved_deals_modal","data-test-id":"saved_deals_modal",deals:c,isStorefrontEnabled:o,onCloseModal:this.handleSavedDealsIconClick,onDealsExpand:i?this.handleStorefrontViewSavedDealsIconClick:this.handleSavedDealsViewMoreClick,selectedBrandLogo:_,selectedBrandName:u,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,17203))},_moduleResolver:function(){return 17203}}))}}const ae=(0,o.connect)(((e,t)=>{const{email:s}=t,{getCouponsSelectors:a,getSelectedAccountId:n,getStorefrontBrandsSelectors:r,isFeatureEnabled:o}=(0,p.selectors)(e),{doesDealExist:i,getDealFromCmid:l}=a(),c=(0,E.getRootDomainFromEmailAddress)(s),{getBrandIdFromDomain:d,getBrandInfoFromBrandId:_,getStorefrontDealCmidsFromBrandId:u}=r(),m=d(c),S=_(m),C=(u(m)||[]).filter((e=>i(e))).map((e=>l(e)));return{isStorefrontEnabled:o(v.ANe.STOREFRONT),selectedAccountId:n(),storefrontBrandDeals:C,storefrontBrandInfo:S}}),(e=>({navigateToRoute:t=>e((0,C.Ch)(t)),requestStorefrontBrandFollow:t=>e((0,Q.qs)(t)),requestStorefrontBrandUnfollow:t=>e((0,Q.O$)(t))})))(se);var ne=s(7387),re=s.n(ne);function oe(){const e=I()(re());return r.createElement("div",{className:e.cardContainer},r.createElement("span",{className:e.textWrapper},r.createElement(Z.ZP,{contact:{},size:Z.u8.UNIFY_DESIGN_L,useFallbackImage:!1})))}var ie=s(55831),le=s(6097);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function de(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let Ee=null,_e=!1;var ue=s(5156);function me(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Se="title",pe="visit_site",Ce=(0,i.defineMessages)({addToContacts:{id:"add_to_contacts",defaultMessage:"Add to contacts"},editContact:{id:"edit_contact",defaultMessage:"Edit contact"},see_fewer_deals:{id:"contact_card.see_fewer_deals",defaultMessage:"See fewer deals"},see_all_deals:{id:"contact_card.see_all_deals",defaultMessage:"See all deals"},visit_site:{id:"contact_card.visit_site",defaultMessage:"Visit site"},welcome_back:{id:"contact_card.welcome_back",defaultMessage:"Welcome back!"},welcome_back_body:{id:"contact_card.welcome_back_body",defaultMessage:"Didn’t find what you were looking for? You might like…"}});class Ae extends r.Component{constructor(...e){super(...e),me(this,"merchantCardRef",r.createRef()),me(this,"handleClick",(e=>{e.stopPropagation()})),me(this,"_i13nModel",((e,t,s,a)=>{const{affiliateFeatures:n,contact:r,domainMap:o,email:i,isAffiliatePartnerEnabled:l,isInRightRail:c,isMerchantCard:E,isPotentialContactCard:_,isSearchContactCard:u,merchantCardFeature:m,messageIds:S=[],name:p,isStorefrontView:C}=this.props,{name:A,website:T,isBusiness:h,isInUserContactList:g}=r||{};let I,R,O=!1,D=v.pdX.CONTACT_CARD;if(E?(I=d.KJ.TOM,R=d.nJ.MSG_BODY):u?(I=d.KJ.BRAND_SEARCH,R=d.nJ.MSG_LIST_SEARCH):(I=c?d.KJ.RIGHT_RAIL:d.KJ.HOVER,R=c?t||d.nJ.RIGHT_RAIL:d.nJ.MSG_HEADER),_&&(O=(0,B.Fg)(o,i,n).isMonetizable,D=v.pdX.POTENTIAL_CONTACT_CARD),l||_){const t={brandurl:T||"",featurefamily:v.lMo.IC,isBusiness:h,isInUserContactList:g,isMonetizable:O,kpidriven:v.bf3,merchantCardFeature:m,moment:"na",msgId:S[0],name:A||p,slot:I,sndr:i,xpname:C?v.pdX.SHORTCUTS_STORE_BRAND_HEADER:D};e===d.JE.CARD_INTERACT&&(t.interactiontype=d.Rb.click,t.affiliatePartner=a,t.interacteditem=s),x.ZP.sendI13nModel({i13nModel:{mKey:e,sec:R,actionData:t}})}})),me(this,"redirectToAffiliateLink",((e,t,s)=>{const{contact:a,inboxCommerceFeatureClicked:n,isAffiliatePartnerEnabled:r,locale:o,partner:i,appId:l}=this.props,{website:c}=a||{},{affiliatePartnerName:E,affiliatePartnerUrl:_}=r?(0,B.sx)({affiliateLink:c,locale:o,partner:i,appId:l}):{affiliatePartnerName:"",affiliatePartnerUrl:""};this._i13nModel(d.JE.CARD_INTERACT,t,s,E),n({clicked:!0}),window.open(r?_:c,"_blank","noreferrer"),e.stopPropagation()})),me(this,"openComposeView",(e=>{e.stopPropagation(),e.preventDefault();const{isCompose:t,email:s,onOpenComposeView:a}=this.props;t||a({route:(0,_.Rl)((0,E.generateUID)()),mailtoAttr:`mailto:${s}`,i13nModel:{mKey:d.JE.CONTACT_CARD_EMAIL_CLICKED,sec:d.nJ.CONTACT_CARD,interactionType:(0,E.getInteractionFromEvent)(e)}})})),me(this,"handleContactNameClick",(e=>{e.stopPropagation(),e.preventDefault();const{contact:{name:t},email:s,onSearchRequested:a,isEnhancedContactCard:n,isInRightRail:r}=this.props;n&&e.target&&"contact-card-name"===e.target.getAttribute("data-id")?this.redirectToAffiliateLink(e,r?d.nJ.RIGHT_RAIL:d.nJ.MSG_HEADER,"title"):a({name:t,email:s})})),me(this,"handleAddToContacts",(e=>{e.stopPropagation(),e.preventDefault();const{email:t,isCompose:s,contact:a}=this.props;this.props.addToContacts({id:a?a.id:void 0,email:t,isCompose:s,name:v.Qk$.CONTACTS_PANE,i13nModel:{mKey:d.JE.CONTACT_CARD_ADD_TO_CONTACTS,sec:d.nJ.CONTACT_CARD,interactionType:(0,E.getInteractionFromEvent)(e)}})})),me(this,"handleEditContact",(e=>{const{isCompose:t,contact:s}=this.props;this.props.editContact({id:s?s.id:void 0,isCompose:t,name:v.Qk$.CONTACTS_PANE,i13nModel:{mKey:d.JE.CONTACT_CARD_EDIT_CONTACT,sec:d.nJ.CONTACT_CARD,interactionType:(0,E.getInteractionFromEvent)(e)}})})),me(this,"_renderMerchantCard",(e=>{const{contact:t,email:s,hasMoreButton:a,isCompactView:n,isMerchantCardExpanded:o,name:i,showOutAndBackExpansionText:l,toggleMerchantCardExpandState:c,showMerchantCardMenu:E}=this.props,{formatMessage:_}=this.context.intl,{isBusiness:u=!1,website:m,id:S}=t||{},p=t.name||i,C=o?Ce.see_fewer_deals:Ce.see_all_deals;return r.createElement("div",{ref:this.merchantCardRef},r.createElement("div",{className:e.merchantCardContainer},r.createElement("span",{className:e.textWrapper},r.createElement("span",{className:e.textLeft},r.createElement(P.Z,{email:s,id:S,isBusiness:u,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:d.nJ.MSG_BODY,website:m})),t&&r.createElement("div",{className:e.textRight},r.createElement("span",{className:e.textName,"data-test-id":"coupon_head_name",onClick:l||!m?()=>{}:e=>this.redirectToAffiliateLink(e,d.nJ.MSG_BODY,Se)},l?_(Ce.welcome_back):p),!(n&&l)&&r.createElement("span",{className:e.textLink},l?_(Ce.welcome_back_body):r.createElement(F.Z,{contextOfUse:"enhancedContactCard",isBusiness:u,isMerchantCard:!0,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:d.nJ.MSG_BODY,website:m})))),r.createElement("span",{className:e.actionWrapper},a&&r.createElement(V.Z,{"data-test-id":"merchant_expand_button",kind:W.F.SECONDARY,onClick:()=>c(),overridingClass:e.expandButton},_(C)),m&&r.createElement(V.Z,{"data-test-id":"visit_site_button",kind:W.F.PRIMARY,onClick:e=>this.redirectToAffiliateLink(e,d.nJ.MSG_BODY,pe),overridingClass:e.visitSite},_(Ce.visit_site)),E?r.createElement(j.ZP,null):r.createElement("span",{className:e.partnerAttributionIcon},r.createElement(U.ZP,{size:H.Sizes.XXS})))))}))}componentDidMount(){this._getContactDetailsTimer=setImmediate((()=>{this.props.getContactDetails(this.props.contact)}))}componentDidUpdate(e){const{domainMap:t,onUpdateFinished:s,isAffiliatePartnerEnabled:a,isPotentialContactCard:n}=this.props;e.contact&&(e.domainMap||!t)||!a&&!n||this._i13nModel(d.JE.CARD_VIEW),s&&s()}componentWillUnmount(){this._getContactDetailsTimer&&clearImmediate(this._getContactDetailsTimer),this.props.showDealsRecommendControlCue&&this.props.closeDealsRecommendControlCue({name:v.ANe.DEALS_RECOMMEND_CONTROL_CUE,i13nModel:{mKey:`cue_${v.ANe.DEALS_RECOMMEND_CONTROL_CUE}_close`,sec:d.nJ.CONTACT_CARD},userAction:"close"})}render(){const{contact:e,email:t,enableAddToContacts:s,enableEditContacts:a,hasCoupons:n,isAffiliatePartnerEnabled:o,isCompactView:l,isCompose:c,isEnhancedContactCard:E,isInRightRail:_,isMerchantCard:m,isSearchContactCard:p,isStorefrontView:C,name:T,onDealsExpand:h,relationshipHistory:g,showOutAndBackExpansionText:I,storefrontContainer:R}=this.props;if(!e)return m?r.createElement(Y,{name:T}):C?r.createElement(oe,null):null;const{facebook:O,id:N,isBusiness:f=!1,linkedin:M,name:v,phonesWithType:w=[],position:B,twitter:x,website:V}=e||{},W=_?(0,u.OW)(this.context,!0):{},Z=(0,u.$o)({context:this.context,includeMedium:!0}),K=_&&(n||o),z=this.context.getCss(S(),{isInRightRail:_,isCompose:c,partnerIconEnabled:K,isEnhancedContactCard:E,isEnhancedInRightRail:_&&E,hasWebsiteLink:!!V,showOutAndBackExpansionText:I,...W}),q=w[0],j=O||M||x,Q="ltr"===(0,G.getTextDirection)(t)?z.rtlIgnoreDirLTR:z.rtlIgnoreDirRTL,{formatMessage:X}=this.context.intl;return m?this._renderMerchantCard(z):p||C?r.createElement(ae,{contact:e,email:t,isCompactView:!C&&l,isDarkTheme:!C&&(0,u.$o)({context:this.context}),isStorefrontView:C,onDealsExpand:h,redirectToAffiliateLink:this.redirectToAffiliateLink,storefrontContainer:R}):r.createElement("div",{"data-test-id":"contact-card",className:z.container,onClick:this.handleClick,key:t},r.createElement("div",null,K&&!E&&r.createElement(U.ZP,{isOnDarkBackground:Z,size:H.Sizes.S}),r.createElement("div",{className:z.contactFlexContainer},r.createElement(P.Z,{email:t,id:N,isBusiness:f,isDarkMode:_&&Z,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:_?d.nJ.RIGHT_RAIL:d.nJ.MSG_HEADER,website:V}),r.createElement("div",{className:z.rightColElement},r.createElement("div",{className:z.header},r.createElement(y.Z,{name:v||T,email:t,isInRightRail:_,onContactNameClick:this.handleContactNameClick,isEnhancedContactCard:E}),r.createElement(b.Z,{position:B,isInRightRail:_})),f&&r.createElement(F.Z,{contextOfUse:E?"enhancedContactCard":"",isBusiness:!0,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:_?d.nJ.RIGHT_RAIL:d.nJ.MSG_HEADER,website:V}),E&&f?null:r.createElement("a",{"data-test-id":"contact-card-email",className:z.email+" "+Q,title:t,onClick:this.openComposeView},t),q&&r.createElement("div",{"data-test-id":"contact-card-phone",className:z.phone,title:q.number},q.number),r.createElement("div",{className:E?z.unclickableArea:null},E&&f?r.createElement("span",{className:z.sharingPanel},r.createElement(k.default,{kind:H.Kinds.INBOX,size:H.Sizes.XS,onClick:this.openComposeView,colorState:H.ColorStates.INHERITED,className:z.openComposeIcon,paddingLess:!0,title:t,"data-test-id":"open-email-icon"}),j&&r.createElement("span",{className:z.vertical}),r.createElement(A.Z,{contact:e,isInRightRail:_,contextOfUse:"enhancedContactCard"})):r.createElement(A.Z,{contact:e,isInRightRail:_}),s&&r.createElement("a",{"data-test-id":"add-to-contacts",title:X(Ce.addToContacts),className:z.contacts,onClick:this.handleAddToContacts},r.createElement(i.FormattedMessage,{id:"add_to_contacts_from_card",defaultMessage:"+ Add to contacts"})),a&&r.createElement("a",{"data-test-id":"edit-contacts",title:X(Ce.editContact),className:z.contacts,onClick:this.handleEditContact},r.createElement(i.FormattedMessage,{id:"edit_contacts_from_card",defaultMessage:"Edit contact"}))))),r.createElement(L.Z,{relationshipHistory:g,isBusiness:f})),!_&&r.createElement(D,{isBusiness:f}))}}me(Ae,"contextTypes",{executeAction:n().func.isRequired,intl:i.intlShape,getCss:n().func,getThemeMode:n().func,getTheme:n().func,config:n().object}),me(Ae,"defaultProps",{hasMoreButton:!1,isInRightRail:!1,isMerchantCard:!1,isMerchantCardExpanded:!1,isStorefrontView:!1,showOutAndBackExpansionText:!1});const Te=function(e){class t extends r.Component{constructor(...e){super(...e),de(this,"state",{dataFetched:!1}),de(this,"fetchJSON",(e=>new le.Z("GET",e).setHeader("Accept","application/json").send().then((e=>e.body))))}componentDidMount(){Ee||_e?this.setState({dataFetched:_e}):(_e=!0,this.fetchJSON(this.props.affiliateUrl).then((({affiliateDomains:e={},awinMerchantIds:t={},commissionJunctionUrls:s={},impactRadiusUrls:a={}})=>{Ee={affiliateDomains:e,awinMerchantIds:t,commissionJunctionUrls:s,impactRadiusUrls:a}})).then((()=>this.setState({dataFetched:_e}))))}render(){return this.state.dataFetched?r.createElement(e,ce({},this.props,{domainMap:Ee})):r.createElement(e,this.props)}}return de(t,"displayName",`WithDomainContext<${e.displayName||e.name||"Component"}>`),(0,o.connect)((e=>{const{getSetting:t}=(0,p.selectors)(e);return{affiliateUrl:t(v.Zrf.AFFILIATE_URL)}}))(t)}((0,o.connect)(((e,t)=>{const{email:s,messageIds:a=[],isInRightRail:n}=t,{getContactListSelectors:r,getCouponsSelectors:o,getEnvironmentSelectors:i,getMessagesSelectors:l,getSetting:c,isFeatureEnabled:d,isMessageRoute:E}=(0,p.selectors)(e),{isUserAddedContact:_,getContactIdByEmail:u,isEditable:m,getContactByEmail:S}=r(),C=u(s),A=S(s),T=A&&t.showContactSummary,{emailHasCoupons:h}=o(),g=h(),I=A&&A.website&&A.isBusiness,R=A&&A.isBusiness&&A.website&&d(v.ANe.AFFILIATE_PARTNER),O=c(v.Zrf.ENABLED_AFFILIATE_PARTNERS),D=d(v.ANe.ADD_EDIT_FROM_LIST_CARD),{getLoggerParams:N,getPartner:f,getAppId:M}=i(),{getDecos:L}=l(),P=L(a[0])||[],y=n&&A&&P.length&&!(0,ie.m3)(P,v.Jd6.PE);return{affiliateFeatures:O,appId:M(),contact:A,enableAddToContacts:D&&!_(C),enableEditContacts:D&&_(C)&&m(C),hasCoupons:g,isAffiliatePartnerEnabled:R,isCompactView:c(v.Zrf.PREVIEW_PANE)===v.EsZ.RIGHT&&!E(),isEnhancedContactCard:I,isPotentialContactCard:y,locale:N().locale,merchantCardFeature:d(v.ANe.SHOW_MERCHANT_CARD),partner:f(),relationshipHistory:T&&A.relationshipHistory?A.relationshipHistory:void 0,showDealsRecommendControlCue:d(v.ANe.DEALS_RECOMMEND_CONTROL_CUE)}}),((e,t)=>{const{email:s,isCompose:a}=t;return{getContactDetails:t=>{t||e((0,l.KI)({email:s,isCompose:a}))},onSearchRequested:({name:t,email:s})=>e((0,w.lY)({smtp:s,name:t})),addToContacts:t=>e((0,l.XQ)(t)),editContact:t=>e((0,l.FT)(t)),inboxCommerceFeatureClicked:t=>e((0,c.c5)(t)),onOpenComposeView:t=>e((0,C.Hg)(t)),closeDealsRecommendControlCue:t=>e((0,ue.hN)(t))}}))(Ae))},74449:e=>{"use strict";e.exports={className:{default:{avatarContainer:"W_A o_v H_tQ r_BN",leftColElement:"D_B gl_C"},websiteLinked:{avatarContainer:"r_P"},isMerchantCard:{avatarContainer:"H_rd"},isSearchContactCard:{avatarContainer:"H_rj"}},_key:"ZgD63r"}},66488:e=>{"use strict";e.exports={className:{default:{rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",container:"D_F ek_BB en_0 I_52qC r_BN W_3v1qi cZ1RN91d_GG X_6Fd5 N_6Fd5",email:"o_h J_x mq_CZ G_e r_P C_Z2aVTcY S4_U ac_CI",phone:"Y_dRA",header:"U_fq7 p_R",rightColElement:"D_F ek_BB i_6EWk Q_6Eb4 o_h gl_C W_3o4BO",contactFlexContainer:"D_F A_6DUj je_6Fd5 U_fq7",contacts:"r_P C_Z2aVTcY S4_U ac_CI Y_eo6",merchantCardContainer:"ab_C D_F ek_EZ u_b gl_FM M_6Fd5 H_72FG p_R",textWrapper:"ab_C D_F",textLeft:"b_Z12rHwq e_e5X E_6Eb4",textRight:"D_F ek_BB",textName:"r_BN A_6FsP C_Z281SGl",textLink:"A_6DUj u_e69 C_Z2aVTcY",actionWrapper:"D_F ab_C M_ZmsKgw",expandButton:"D_F gl_C P_1Eu7sD H_6TFj i_6Ntd J_x M_Z1feoPS",visitSite:"D_F H_6TFj i_6Ntd M_Z1feoPS P_1Eu7sD",partnerAttributionIcon:"Q_6Eb4"},isInRightRail:{container:"je_6LEV jb_6LEV k_w M_ZmdUJf W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz K_3I1y8 o_A",contactFlexContainer:"je_dm5 U_dm5"},partnerIconEnabled:{container:"je_eo6"},isCompose:{email:"r_BN C_Z281SGl S4_n"},isEnhancedContactCard:{container:"jb_0",contactFlexContainer:"A_6EqO U_0",sharingPanel:"D_F gl_l",header:"U_dRA",phone:"Y_eo6 A_6EqO",openComposeIcon:"P_Z1mVhPY cdPFi_Z1WGv5u",vertical:"n_Z1a7UWG H_6LEV M_1xQvDX",unclickableArea:"W_CD jb_fq7",contacts:"C4_Z29WjXl S4_n P_Z1mVhPY U_6Eb4"},isEnhancedInRightRail:{contactFlexContainer:"Y_6Eb4",unclickableArea:"jb_6MGW"},hasWebsiteLink:{textName:"r_P"},showOutAndBackExpansionText:{textName:"r_BN A_6MGW U_eo6",textLink:"r_BN u_b A_6EWk C_Z281SGl"},darkModeNonPhotoTheme:{container:"I_sgPuT C_ZpQYvz l_T",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_NIGHT_LANDSCAPE:{container:"I_cOYF6 C_ZpQYvz l_ajP6C",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_ROADTRIP:{container:"I_1iaDt1 C_ZpQYvz l_ajP6C",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_SUNSET_AUSSIE:{container:"I_2woj1H C_ZpQYvz l_ajP6C",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_LIGHTHOUSE:{container:"I_t5YMW C_ZpQYvz l_ajP6C",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"}},_key:"Z1GuXnh"}},99e3:e=>{"use strict";e.exports={className:{default:{contactSummary:"gl_C A_6EqO C_Z1YRXYn o_h je_6Fd5",contact:"r_P C_Z2aVTcY"},"themeMode-DARK":{contactSummary:"C_ZvsWfq",contact:"C_Z2bg7IA"},"themeMode-MEDIUM":{contactSummary:"C_ZvsWfq",contact:"C_Z2bg7IA"}},_key:"2pfhwA"}},86697:e=>{"use strict";e.exports={className:{default:{rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",name:"C_Z281SGl i_6MGW A_6EWk u_b cZ1RN91d_GG w_AS k_w D_X a_3nHoX o_h",searchSection:"r_P D_F cdPFi_Z1YRXYn cdPFi4_Z2aVTcY C4_Z2aVTcY p_R",searchIcon:"Q_dRA cdPFi_q P_Z1nnkYl",iconsSection:"ac_CI"},isMobile:{name:"A_6FIA",searchSection:"gl_FM ab_C",searchIcon:"P_3gJOe"},isEnhancedContactCard:{iconsSection:"cdPFi4_Z2aVTcY",searchSection:"cdPFi4_Z1YRXYn",groupedIconsSection:"r_BN D_F",partnerIcon:"P_Z1jFCVf",searchIcon:"P_xCFNf"},darkVariations:{name:"C_ZpQYvz",searchSection:"cdPFi_ZpQYvz cdPFi4_52qC C4_52qC"},defaultName:{name:"fd_i"}},_key:"2975lR"}},57677:e=>{"use strict";e.exports={className:{default:{position:"i_6LEV C_Z1VRqsb Y_dRA A_6EqO q_T w_AS"},isMobile:{position:"A_6Fd5"},darkVariations:{position:"C_ZvsWfq"}},_key:"Zlhv6m"}},20045:e=>{"use strict";e.exports={className:{default:{containerFooter:"H_A z_Z12nDQf je_eTB jb_6DEy C_Z1YRXYn A_6DUj",footerText:"X_eo6 N_eo6 i_6EqO",footer:"U_fq7"}},_key:"Z1Ow2aJ"}},3727:e=>{"use strict";e.exports={className:{default:{container:"Q_fq7 I_T cdPFi_Z1VRqsb cdPFi4_Z2aVTcY r_P",menu:"je_fq7 jb_fq7 W_A H_A a_3v1qi",menuOption:"r_P D_F cZW7ROP_A je_eo6 jb_eo6 X_6Fd5 N_6Fd5 I4_1I4yPF I3_1I4yPF",menuOptionText:"ix_AS"}},_key:"Z1xncU9"}},27828:e=>{"use strict";e.exports={className:{default:{cardContainer:"ab_C I_52qC e_eo6 j_2dr0ih D_F ek_EZ u_b H_7qGO gl_FM M_1Wxz6o P_1EudUu",textWrapper:"ab_C D_F",textRight:"D_F ek_BB Q_6Eb4",textName:"D_F ab_C C_Z281SGl r_P A_6FsP u_b",starButton:"P_82XEY Q_eo6 lv4_1IWXzk h4_2d9T5e",textLink:"C_Z1YRXYn A_6DUj u_e69 Y_eo6",actionWrapper:"D_F ab_C",visitSite:"ab_C D_F H_6TFj i_6CC0 M_82XEY P_1Eu7sD J_x",separator:"H_74ed M_Z1VdT10 n_Z14vXdP",savedDeals:"D_F ek_BB gl_C ab_C",dealsIcon:"H_6UbO W_6UbO D_F gl_C ab_C e_e5X I_ZnMIOa cdPFi_Z1WBuqm I4_Z20yP3Y cdPFi4_Z29WjXl r4_P",savedDealsText:"A_6DUj u_N i_6uE4 t_C C_Z1YRXYn Y_eo6",compactContainer:"j_2dr0ih D_F gl_FM ab_C W_6D6F I_52qC H_7aVO p_a T_dm5 Z_pG",compactLogoImageContainer:"r_P p_a B_6Eb4 b_Z12rHwq e_e5X T_fq7 L_6LEV W_6UbO H_6UbO",compactLogoImage:"e_e5X W_6UbO H_6UbO",compactBrandInfo:"X_7iGr",actionArea:"D_F ab_C E_6LEV"},isStorefrontView:{compactContainer:"T_7aVO L_dm5"},isCompactView:{cardContainer:"ab_CI ek_BB H_7Ig6 gl_FM P_6Eb4",textRight:"Q_fq7",viewStorePage:"E_fq7 W_74ed"},isDarkTheme:{cardContainer:"I_sgPuT",textName:"C_52qC",textLink:"C_Zw4K57",visitSite:"I_ZamTeg l_ZamTeg",separator:"O_cMp",dealsIcon:"I_2sqbOJ cdPFi_52qC I4_ajP3z cdPFi4_52qC r4_P",savedDealsText:"C_52qC"}},_key:"ao2yy"}},7387:e=>{"use strict";e.exports={className:{default:{cardContainer:"ab_C I_52qC e_eo6 j_2dr0ih D_F ek_EZ u_b H_7qGO gl_FM M_1Wxz6o P_1EudUu",textWrapper:"ab_C D_F"}},_key:"ZER2UG"}},41205:e=>{"use strict";e.exports={className:{default:{social:"D_F gl_l Y_fq7 Q6_67SN",socialIcon:"D_F E_6Eb4 cdPFi_ZpQYvz",backyardIcon:"D_F E_6Eb4 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY"},isEnhancedContactCard:{social:"Y_0",socialIcon:"E_eo6 P_IdQyw"},darkVariations:{backyardIcon:"cdPFi_2sqbRh cdPFi4_52qC",socialIcon:"cdPFi_2sqbRh cdPFi4_52qC"}},_key:"1GcehN"}},5061:e=>{"use strict";e.exports={className:{default:{website:"o_h J_x mq_CZ G_e r_A Y_dRA i_6EWk C_Z2aVTcY S4_U",placeHolder:"H_6EGz"},websiteLinked:{website:"r_P"},isEnhancedContactCard:{website:"S4_n C4_Z29WjXl"},"themeMode-DARK":{website:"C_Z2bg7IA"},"themeMode-MEDIUM":{website:"C_Z2bg7IA"}},_key:"Z1OpBIa"}},7837:(e,t,s)=>{"use strict";s.d(t,{j2:()=>r,PR:()=>o,qL:()=>i,_t:()=>l,rv:()=>c,eB:()=>E,KF:()=>_,Aj:()=>u,HU:()=>m,ec:()=>S,hx:()=>p,id:()=>C,Y7:()=>A});var a=s(99095),n=s(37422);const r=(0,a.defineMessages)({addADate:{id:"contact_details.addADate",defaultMessage:"Add a date"},addAddress:{id:"contact_details.addAddress",defaultMessage:"Add address"},addEmail:{id:"contact_details.addEmail",defaultMessage:"Add email"},addPhone:{id:"contact_details.addPhone",defaultMessage:"Add phone"},address:{id:"contact_details.address",defaultMessage:"Address"},anniversary:{id:"contact_details.anniversary",defaultMessage:"Anniversary"},birthday:{id:"contact_details.birthday",defaultMessage:"Birthday"},cancelBtn:{id:"contact_details.cancelBtn",defaultMessage:"Cancel"},city:{id:"contact_details.city",defaultMessage:"City"},company:{id:"additional_contact_info.company",defaultMessage:"Employer"},contactDetails:{id:"contact_details.contactDetails",defaultMessage:"Contact details"},country:{id:"contact_details.country",defaultMessage:"Country"},create:{id:"contact_details.create",defaultMessage:"Create"},delete:{id:"contact_details.delete",defaultMessage:"Contact edit delete field"},edit:{id:"contact_details.edit",defaultMessage:"Edit"},email:{id:"contact_details.email",defaultMessage:"Email"},facebook:{id:"contact_details.facebook",defaultMessage:"Facebook"},fax:{id:"contact_details.fax",defaultMessage:"Fax"},home:{id:"contact_details.home",defaultMessage:"Home"},homeAddress:{id:"contact_details.homeAddress",defaultMessage:"Home Address"},homeEmail:{id:"contact_details.homeEmail",defaultMessage:"Home email"},homeFax:{id:"contact_details.homeFax",defaultMessage:"Home Fax"},homePhone:{id:"contact_details.homePhone",defaultMessage:"Home Phone"},linkedin:{id:"contact_details.linkedin",defaultMessage:"LinkedIn"},main:{id:"contact_details.main",defaultMessage:"Main"},mainPhone:{id:"contact_details.mainPhone",defaultMessage:"Main Phone"},maxLengthError:{id:"contact_details.maxLengthError",defaultMessage:"Maximum allowed number of characters is 4095"},mobile:{id:"contact_details.mobile",defaultMessage:"Mobile"},mobilePhone:{id:"contact_details.mobilePhone",defaultMessage:"Mobile Phone"},firstName:{id:"contact_details.firstName",defaultMessage:"First Name"},middleName:{id:"contact_details.middleName",defaultMessage:"Middle Name"},lastName:{id:"contact_details.lastName",defaultMessage:"Last Name"},nickname:{id:"contact_details.nickname",defaultMessage:"Nickname"},category:{id:"contacts.aolCategory",defaultMessage:"Group"},[n.Ygm.AUTO_ADDED]:{id:"contacts.category_auto_added",defaultMessage:"Auto-added"},[n.Ygm.CO_WORKERS]:{id:"contacts.category_co_workers",defaultMessage:"Co-workers"},[n.Ygm.FAMILY]:{id:"contacts.category_family",defaultMessage:"Family"},[n.Ygm.FRIENDS]:{id:"contacts.category_friends",defaultMessage:"Friends"},[n.Ygm.UNCATEGORIZED]:{id:"contacts.category_uncategorized",defaultMessage:"Uncategorized"},[n.Ygm.GENERAL]:{id:"contacts.category_general",defaultMessage:"General"},notes:{id:"contact_details.notes",defaultMessage:"Notes"},other:{id:"contact_details.other",defaultMessage:"Other"},otherPhone:{id:"contact_details.otherPhone",defaultMessage:"Other Phone"},pager:{id:"contact_details.pager",defaultMessage:"Pager"},personalDetails:{id:"contact_details.personal_details",defaultMessage:"Personal details"},phone:{id:"contact_details.phone",defaultMessage:"Phone"},position:{id:"contact_details.job_title",defaultMessage:"Job title"},removeEmail:{id:"contact_details.remove_email_btn",defaultMessage:"Remove email"},removePhone:{id:"contact_details.remove_phone_btn",defaultMessage:"Remove phone"},removeAddress:{id:"contact_details.remove_address_btn",defaultMessage:"Remove address"},saveBtn:{id:"contact_details.saveBtn",defaultMessage:"Save"},state:{id:"contact_details.state",defaultMessage:"State or Province"},street:{id:"contact_details.street",defaultMessage:"Street"},twitter:{id:"contact_details.twitter",defaultMessage:"Twitter"},website:{id:"contact_details.website",defaultMessage:"Website"},work:{id:"contact_details.work",defaultMessage:"Work"},workAddress:{id:"contact_details.workAddress",defaultMessage:"Work Address"},workDetails:{id:"contact_details.workDetails",defaultMessage:"Work details"},workEmail:{id:"contact_details.workEmail",defaultMessage:"Work email"},workFax:{id:"contact_details.workFax",defaultMessage:"Work Fax"},workPhone:{id:"contact_details.workPhone",defaultMessage:"Work Phone"},RequiredNameFieldError:{id:"contact_details.RequiredNameFieldError",defaultMessage:"At least one name is required"},emailIInvalidError:{id:"contact_details.emailIInvalidError",defaultMessage:"Invalid email"},phoneInvalidError:{id:"contact_details.phoneInvalidError",defaultMessage:"Invalid phone number"},invalidDateError:{id:"contact_details.invalidDateError",defaultMessage:"Invalid date"},zipcode:{id:"contact_details.zipcode",defaultMessage:"Postal code"}}),o={HOME:{label:r.home,ariaLabel:r.homePhone},WORK:{label:r.work,ariaLabel:r.workPhone},PHONE:{label:r.phone,ariaLabel:r.phone},MOBILE:{label:r.mobile,ariaLabel:r.mobilePhone},FAX:{label:r.fax,ariaLabel:r.fax},OTHER:{label:r.other,ariaLabel:r.otherPhone},MAIN:{label:r.main,ariaLabel:r.mainPhone},PAGER:{label:r.pager,ariaLabel:r.pager},"WORK FAX":{label:r.workFax,ariaLabel:r.workFax},"HOME FAX":{label:r.homeFax,ariaLabel:r.homeFax}},i={HOME:{label:r.home,ariaLabel:r.homeEmail},WORK:{label:r.work,ariaLabel:r.workEmail},EMAIL:{label:r.email,ariaLabel:r.email}},l={HOME:{label:r.home,ariaLabel:r.homeAddress},WORK:{label:r.work,ariaLabel:r.workAddress},ADDRESS:{label:r.address,ariaLabel:r.address}},c={STREET:"street",CITY:"city",STATE:"state",ZIPCODE:"zipcode",COUNTRY:"country"},d={COMPANY:{label:r.company,attribute:"company"},WEBSITE:{label:r.website,attribute:"website"},BIRTHDAY:{label:r.birthday,attribute:"birthday"},ANNIVERSARY:{label:r.anniversary,attribute:"anniversary"},NOTES:{label:r.notes,attribute:"notes"}},E=[d.COMPANY,d.BIRTHDAY,d.ANNIVERSARY,d.WEBSITE,d.NOTES],_=[d.COMPANY,d.BIRTHDAY,d.ANNIVERSARY,d.NOTES],u={FACEBOOK:"facebook",TWITTER:"twitter",LINKEDIN:"linkedin",POSITION:"position",COMPANY:"company",WEBSITE:"website",BIRTHDAY:"birthday",ANNIVERSARY:"anniversary",NOTES:"notes"},m={...u,NAME:"name",FIRSTNAME:"firstName",MIDDLENAME:"middleName",LASTNAME:"lastName",NICKNAME:"nickname",EMAIL:"email",PHONE:"phone",ADDRESS:"address",AOLCATEGORY:"category"},S=2,p=1,C=({typesList:e,customType:t,defaultType:s,type:a,formatMessage:n})=>{let r=e[s.toUpperCase()],o=a,i=a;if(a){const s=e[a.toUpperCase()];r=s||t}return r&&(i=n(r.ariaLabel),o=n(r.label)),{ariaLabel:i,label:o}},A=4095},67782:(e,t,s)=>{"use strict";s.r(t),s.d(t,{openContactPickerDisplay:()=>n,contactPickerGroupChanged:()=>r});var a=s(50566);const n=e=>({...e,type:a.CONTACT_PICKER_OPENED}),r=e=>({...e,type:a.CONTACT_PICKER_GROUP_CHANGED})},61106:(e,t,s)=>{"use strict";s.d(t,{RC:()=>a,Ir:()=>n});const a=100,n="CONTACT_PICKER_DROPDOWN"},38700:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(38856),l=s(16707),c=s.n(l),d=s(9026);const E=(0,o.defineMessages)({label:{id:"contacts_list.loading_indicator",defaultMessage:"Loading"}}),_=({includeHeaders:e,applyTheme:t},s)=>{const{getCss:a,intl:n}=s,o=t&&(0,d.$o)({context:s,includeMedium:!0}),l=a(c(),{includeHeaders:e,darkStyles:o}),_=[l.wrapper];return e&&_.push(l.withBackground),r.createElement("div",{className:_.join(" "),"aria-label":n.formatMessage(E.label)},e&&r.createElement("div",{className:l.search,"aria-hidden":!0}),e&&r.createElement("div",{className:l.tabs,"aria-hidden":!0}),!e&&r.createElement("div",{className:l.separator,"aria-hidden":!0},r.createElement("span",{className:l.separatorText})),r.createElement(i.Z,null),r.createElement(i.Z,null),r.createElement(i.Z,null),r.createElement(i.Z,null),r.createElement(i.Z,null),!e&&r.createElement("div",{className:l.separator,"aria-hidden":!0},r.createElement("span",{className:l.separatorText})),r.createElement(i.Z,null),r.createElement(i.Z,null),r.createElement(i.Z,null))};_.contextTypes={intl:o.intlShape,getCss:n().func,getThemeMode:n().func};const u=_},38856:(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});var a=s(45697),n=s.n(a),r=s(67294),o=s(43007),i=s(76531),l=s(15226),c=s.n(l),d=s(9026);const E=({applyTheme:e},t)=>{const s=t.getCss(c(),{darkVariations:e&&(0,d.$o)({context:t,includeMedium:!0})});return r.createElement("div",{className:s.container},r.createElement("span",{className:s.orb,"aria-hidden":!0},r.createElement(o.Z,{kind:i.Kinds.ORB,colorState:i.ColorStates.INHERITED,size:i.Sizes.M})),r.createElement("span",{className:s.content,"aria-hidden":!0},r.createElement("span",{className:s.name}),r.createElement("span",{className:s.emails})))};E.contextTypes={getCss:n().func,getThemeMode:n().func};const _=E},73498:(e,t,s)=>{"use strict";s.d(t,{XY:()=>o,df:()=>i,ap:()=>l});var a=s(92559),n=s(37422),r=s(95406);const o={[n.ukn.TOP_CONTACTS]:a.nJ.TOP_CONTACTS_TAB,[n.ukn.USER_CREATED_CONTACTS]:a.nJ.USER_CREATED_CONTACTS_TAB,[n.ukn.PEOPLE]:a.nJ.PEOPLE_CONTACTS_TAB,[n.ukn.NOT_PEOPLE]:a.nJ.BUSINESS_CONTACTS_TAB,[n.ukn.WITH_KEYWORD]:a.nJ.CONTACTS_PANE_SEARCH,[n.ukn.RELATED]:a.nJ.RELATED_CONTACTS,[n.ukn.GROUPS]:a.nJ.GROUPS_CONTACTS_TAB},i={ID:"ID",EMAIL:"EMAIL",PHONE:"PHONE",ADDRESS:"ADDRESS",HIDDEN:"HIDDEN"},l=({value:e,type:t,id:s})=>(t===i.ADDRESS?(0,r.VO)(e||{}).join("-"):e)+"_"+s},16707:e=>{"use strict";e.exports={className:{default:{wrapper:"F_N",search:"H_72FG k_w m_Z12nDQf",tabs:"H_6UbO m_Z12nDQf",separator:"H_6MWH D_F ab_C P_Z1feoPS",separatorText:"ah_Z1tF3s4 D_X H_fq7 W_7kKt e_eo6 q_ZpQYvz",withBackground:"q_52qC"},includeHeaders:{wrapper:"W_3vpWV"},darkStyles:{withBackground:"q_sgPuT",search:"m_1iPdY0",tabs:"m_1iPdY0",separatorText:"q_Z1WBuqm"},"themeCombo-DARK_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-DARK_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{withBackground:"q_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{withBackground:"q_t5YMW"}},_key:"Vm5jW"}},15226:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C H_7jIs W_6D6F P_0 M_0 k_w b_n q_n",content:"D_F ek_BB gl_C F_N A_6EqO i_6MGW C_Z281SGl H_6MGW m_Z12nDQf",orb:"ah_Z1tF3s4 F_n p_R cdPFi_ZpQYvz P_0 M_20hyCR W_1M2iaA H_1M2iaA",name:"ah_Z1tF3s4 W_7rdk H_6DEy q_ZpQYvz e_eDQ",emails:"ah_Z1tF3s4 Y_6Eb4 W_3nH9d H_fq7 q_ZpQYvz e_eo6"},darkVariations:{content:"m_1iPdY0",orb:"cdPFi_Z1WBuqm",name:"q_Z1WBuqm",emails:"q_Z1WBuqm"}},_key:"Z1b4KPA"}},30884:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var a=s(67294),n=s(92743),r=s(76223),o=s.n(r),i=s(92559),l=s(17016),c=s(70500),d=s.n(c),E=s(30426);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const u=(0,n.connect)(null,{importCsvContacts:E.XF,importCsvContactsSizeFailed:E.r})((e=>{const t=o()(d()),{importCsvContacts:s,importCsvContactsSizeFailed:n,forwardedRef:r}=e,c=(0,a.useCallback)((e=>{const t=Array.prototype.slice.call(e.target.files),{name:a,size:r}=t[0]||{};r>=5242880?n({i13nModel:{mKey:i.JE.IMPORT_CSV_CONTACTS_SIZE_EXCEEDED,sec:i.nJ.CONTACTS_PANE,interactionType:(0,l.getInteractionFromEvent)(e),actionData:{name:a,size:r}}}):s({name:a,file:t[0],i13nModel:{mKey:i.JE.IMPORT_CSV_CONTACTS_REQUESTED,sec:i.nJ.CONTACTS_PANE,interactionType:(0,l.getInteractionFromEvent)(e)}})}),[s,n]);return a.createElement("input",{ref:r,type:"file",onChange:c,className:t.hiddenUploader,accept:".csv,.tsv",multiple:!1})})),m=(0,a.forwardRef)(((e,t)=>a.createElement(u,_({},e,{forwardedRef:t}))));m.displayName="ForwardedRefConnected<ContactsImportUploader>";const S=m},70500:e=>{"use strict";e.exports={className:{default:{menuButton:"I_T b_0 r_P D_F gl_C je_dRA cdPFi4_Z2aVTcY",menu:"P_1HT1B4 s_3nG7c W_A H_A a_3v1qi",menuOption:"r_P D_F P_fQq0A cZW7ROP_A I4_1I4yPF I3_1I4yPF",menuOptionText:"ix_AS",separator:"m_Z14vXdP M_3HLUz",hiddenUploader:"D_n"},isSelected:{menuOption:"I_1I4z5p"},darkVariations:{menuButton:"cdPFi_ZpQYvz cdPFi4_52qC"},"menuButtonSelected-light":{menuButton:"cdPFi_Z2aVTcY"},"menuButtonSelected-dark":{menuButton:"cdPFi_52qC"},disablePrint:{menuOption:"O_cMq r_BN I4_52qC"}},_key:"B83IP"}},4887:(e,t,s)=>{"use strict";s.d(t,{F:()=>A,Z:()=>h});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=s(39644),l=s.n(i),c=s(84328),d=s(37422),E=s(98217),_=s(17016),u=s(92559),m=s(43007),S=s(76531);const p=(e,t)=>{const{accountStatus:s,lastImportedTime:r}=e,{formatDate:o}=t.intl;switch(s){case d.UcZ.CONNECTED:return a.createElement(n.FormattedMessage,{id:"importAccountItem.connectedImportMessage",defaultMessage:"Importing new contacts everyday."});case d.UcZ.EXPIRED:return a.createElement(n.FormattedMessage,{id:"importAccountItem.expiredImportMessage",defaultMessage:"Last imported on {date}.",values:{date:o(r)}});case d.UcZ.QUEUED:return a.createElement(n.FormattedMessage,{id:"importAccountItem.queuedImportMessage",defaultMessage:"Import in progress"});case d.UcZ.FAILED:return a.createElement(a.Fragment,null,a.createElement(m.Z,{kind:S.Kinds.EXCLAMATION_ALT,size:S.Sizes.XXS,colorState:S.ColorStates.WARNING_GRAD_RED}),a.createElement(n.FormattedMessage,{id:"importAccountItem.errorImportMessage",defaultMessage:"Error importing contacts. Try importing again."}));case d.UcZ.NOT_CONNECTED:default:return null}};p.contextTypes={intl:n.intlShape.isRequired};const C=p,A={[d.zoT.GOOGLE]:{importMKey:u.JE.IMPORT_GMAIL_CONTACTS,disconnectMKey:u.JE.DISCONNECT_GMAIL_CONTACTS,displayName:E.Z.gmail_account_description},[d.zoT.YAHOO]:{importMKey:u.JE.IMPORT_YMAIL_CONTACTS,disconnectMKey:u.JE.DISCONNECT_YMAIL_CONTACTS,displayName:E.Z.yahoo_account_description},[d.zoT.AOL]:{importMKey:u.JE.IMPORT_AOL_CONTACTS,disconnectMKey:u.JE.DISCONNECT_AOL_CONTACTS,displayName:E.Z.aol_account_description},[d.zoT.OUTLOOK]:{importMKey:u.JE.IMPORT_OUTLOOK_CONTACTS,disconnectMKey:u.JE.DISCONNECT_OUTLOOK_CONTACTS,displayName:E.Z.outlook_account_description}},T=(e,t)=>{const{provider:s,accountStatus:r,lastImportedTime:i,onConnect:E,onDisconnect:m}=e,S=o()(l()),{formatMessage:p}=t.intl,T=A[s]||{},h=r===d.UcZ.CONNECTED||r===d.UcZ.QUEUED;return a.createElement("li",{className:S.listItem,onClick:e=>{let t,a;h?(t=T.disconnectMKey,a=m):(t=T.importMKey,a=E),a({url:"",provider:s,providerType:"EMAIL_PROVIDERS",providerName:T.displayName?p(T.displayName):s,i13nModel:{mKey:t,sec:u.nJ.SETTINGS_CONTACTS_TAB,interactionType:(0,_.getInteractionFromEvent)(e)}})},role:"button"},a.createElement(c.Z,{accountType:s,"aria-hidden":!0}),a.createElement("div",{className:S.accountInfo},a.createElement("div",{className:S.accountName},T.displayName?p(T.displayName):s),a.createElement("div",{className:S.accountStatusInfo},a.createElement(C,{accountStatus:r,lastImportedTime:i}))),a.createElement("div",{className:S.accountStatus},h?a.createElement(n.FormattedMessage,{id:"import_account_item.disconnectButtonText",defaultMessage:"Stop importing"}):a.createElement(n.FormattedMessage,{id:"import_account_item.importButtonText",defaultMessage:"Import"})))};T.contextTypes={intl:n.intlShape.isRequired};const h=T},39644:e=>{"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C P_6Eb4 gl_ZEO9jm m_Z12nDQf m8_n",accountInfo:"Q_6Fd5 D_F ek_BB",accountName:"M_0 i_d3a o_h J_x G_e C_Z281SGl u_e69",accountStatus:"Q_A A_6EqO C_Z2aVTcY t_r",accountStatusInfo:"A_6EqO C_Z1YRXYn D_F i_6EGz Y_eo6"}},_key:"Z2blqBJ"}},72103:(e,t,s)=>{"use strict";s.d(t,{f9:()=>l,c_:()=>c,K:()=>d,ZS:()=>E,ZP:()=>_});var a=s(92743),n=s(18352),r=s(85927),o=s(37422),i=(s(45481),s(17591));const l=e=>{const{getSetting:t}=(0,r.selectors)(e),s=t(o.Zrf.ABOUT_AD_URL);return{adVersion:t(o.Zrf.DEALS_SHOPPING_CART_AD_VERSION),aboutAdsUrl:s}},c=e=>({onAdClicked:t=>e((0,i.og)(t)),onAdRendered:t=>e((0,i.wu)(t))}),d=e=>{const{getEnvironmentSelectors:t,getMainContentWidth:s,getSetting:a,isFeatureEnabled:n}=(0,r.selectors)(e),i=a(o.Zrf.ENABLED_AFFILIATE_PARTNERS),{getLoggerParams:l,getPartner:c,getAppId:d}=t();return{affiliateFeatures:i,isAffiliatePartnerEnabled:n(o.ANe.AFFILIATE_PARTNER),locale:l().locale,mainContentWidth:s(),partner:c(),appId:d()}},E=(e,{onCouponClick:t})=>({clip:({mailboxId:t,cardMid:s,i13nModel:a={},recommendations:n=!1})=>e((0,i.Oz)({mailboxId:t,cardMid:s,i13nModel:a,recommendations:n})),unclip:({mailboxId:t,cardMid:s,i13nModel:a={},recommendations:n=!1})=>e((0,i.Ai)({mailboxId:t,cardMid:s,i13nModel:a,recommendations:n})),getParentGroupId:t=>e((0,i.lX)(t)),onCouponClick:t,couponRecommendationsOpened:({i13nModel:t,sectionId:s="",spaceId:a=0})=>e({...(0,i.uv)(),i13nModel:t,sectionId:s,spaceId:a}),couponRecommendationsClosed:({i13nModel:t,cardMid:s=""})=>e({...(0,i.Wf)(s),i13nModel:t}),couponRecommendationsViglinkClicked:t=>e({...(0,i.rz)(),...t}),unusualDiscountViglinkClicked:t=>e((0,n.QP)(t))}),_=(0,a.connect)(((e,{cardMid:t=""})=>{const{getCouponsSelectors:s,getEnvironmentSelectors:a,isFeatureEnabled:n,getSetting:i}=(0,r.selectors)(e),{getCouponExpirationTime:l,getDealLink:c,getUnusualDiscount:d,getDescription:E,getFromAddress:_,isSavedDeal:u}=s(),m=n(o.ANe.AFFILIATE_PARTNER),{name:S="",email:p=""}=_(t),C=u(t),A=d(t),T=E(t),{dateDiff:h,isInferred:g}=l(t,new Date),I=c(t),R=i(o.Zrf.ENABLED_AFFILIATE_PARTNERS),{getLoggerParams:O,getPartner:D,getAppId:N}=a();return{affiliateFeatures:R,cardMid:t,saved:C,daysUntilExpiry:h,dealLink:I,description:T,fromEmail:p,fromName:S,isAffiliatePartnerEnabled:m,appId:N(),isInferredDate:g,locale:O().locale,partner:D(),unusualDiscount:A}}),E)},79918:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_qN p_R X_eo6 h_Z1H3PfF I4_1I4yPF",subContainer:"D_F r_P ab_C H_qN bn_dBP bm_FJ bj_2spJWC A_6EqO i_6FIA o_h W_6D6F",avatar:"en_0 Q_fq7 E_6FIA i_0",vendorGrid:"D_F o_h ab_C H_6D6F a_3nq6r em_pO ej_0 p_R",infoGrid:"D_F o_h ab_C H_6D6F em_th ej_0",vendorName:"Q_fq7 o_h G_e J_EN",clippedButton:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z1E2YFn I_Z287E9E C_52qC",unclippedButton:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z1E2YFn I_52qC cdPFi_Z287E9E",description:"J_x Q_6Eb4 o_h G_e em_N",affiliatePartnerDescription:"J_x Q_6Eb4 o_h G_e em_N C4_Z2aVTcY",dateWrapper:"D_F gl_CH en_N A_6DUj Q_6Eb4 J_EN s_3mS2U",unclippedCpnExpiryInfo:"C_Z1VRqsb",openEmailIcon:"cdPFi_Z1VRqsb cdPFi4_Z2aVTcY"},"themeMode-DARK":{container:"C_ZpQYvz I4_1YEmYj I3_1YEmYj",vigLinkDescription:"C4_Z2bg7IA",subContainer:"bj_ajOPR",unclippedButton:"I_T cdPFi_29F7yW l_29F7yW",clippedButton:"I_29F7yW l_29F7yW",unclippedCpnExpiryInfo:"C_2sqbQg",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW"},hideBottomBorder:{subContainer:"bj_T"}},_key:"Z2x0EOX"}},16107:e=>{"use strict";e.exports={className:{default:{row:"D_F H_d4J P_3Y3Gk k_w",container:"W_Z2wlC3b D_F o_h ab_C P_0 e_eo6 q_ZnkeaL bm_n C_Z281SGl k_w q4_1I4z5p Q_3nVE4",image:"W_3mS2U H_3mS2U im_BH eh_1AmJOD",content:"F_N D_F o_h P_6Eb4 ek_BB gl_C",fromName:"cZ1zaJgg_B o_h J_x G_e A_6EGz i_6LUG u_b",description:"cZ1zaJgg_B o_h J_x G_e A_6EGz i_6FsP M_Z26RiTK",adActivity:"M_ZuD6o1 A_6EGz C_Z1VRqsb a_3nVBr o_h J_x",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_0 C_Z2drWk6 cdPFi_Z2drWk6",adContainer:"W_6D6F D_F o_h ab_C P_0 e_eo6 q_ZnkeaL bm_n C_Z281SGl k_w q4_1I4z5p",viewabilityTracker:"W_Z2wlC3b",cta:"v_h I_ZamTeg C_52qC P_eo6 u_b e_dRA K_6FIA o_h a_eE1",imageContainer:"W_3mS2U H_3mS2U ba_BH ay_C",ctaBackground:"W_6D6F H_6D6F D_F ab_C gl_C",fromNameContainer:"D_F gl_FM"},isWideView:{container:"W_1FMBJO",viewabilityTracker:"W_1FMBJO"},isCompactView:{container:"W_6D6F",viewabilityTracker:"W_6D6F"},themedAdActivity:{adActivity:"b_n H_6NIX M_ZuD6o1 u_b e_6LEV q_Z1XPDyi C_52qC t_C i_6NIX ac_CI W_6D6F"},ctaOnImg:{ctaBackground:"I4_sgPuT"},"themeMode-DARK":{container:"q_1YEmYj C_ZpQYvz q4_ZFyHXD",adContainer:"q_1YEmYj C_ZpQYvz q4_ZFyHXD",expiration:"C_2sqbQg",adActivity:"C_2sqbQg"},marginLess:{container:"Q_0"}},_key:"Z1wNOM6"}},28211:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>_});s(45697);var a=s(67294),n=s(99095),r=s(40315);function o(e,t){return new Date(t).getUTCFullYear()===e.getUTCFullYear()}class i extends a.Component{shouldComponentUpdate(e){const t=this.props;return e.date.getTime()!==t.date.getTime()||e.timezone!==t.timezone||e.long!==t.long}render(){const{date:e,long:t,timezone:s="UTC",weekday:i}=this.props,{intl:l}=this.context,{locale:c}=l;let d;try{d=(0,r.oe)({timezone:s})}catch(E){return function(e,t,s){return e?a.createElement(n.FormattedDate,{value:t,timeZone:s,minute:"numeric",hour:"numeric",hour12:"true",month:"short",day:"numeric"}):a.createElement(n.FormattedDate,{value:t,timeZone:s,day:"numeric",month:"numeric",year:"numeric"})}(t,e,s)}return t?function(e,t,s,i,l,c){const d={timeZone:s,day:"numeric",month:(0,r.ze)(l),weekday:c};return o(e,t)||(d.year="numeric"),a.createElement(n.FormattedMessage,{id:"date_at_time",defaultMessage:"\n                {date} at {time}\n            ",values:{date:i.formatDate(e,d),time:i.formatTime(e,{timeZone:s,hour:"numeric",minute:"numeric"})}})}(e,d,s,l,c,i||void 0):function(e,t,s,i){return function(e,t){return e.getTime()>=t}(e,t)?a.createElement(n.FormattedTime,{value:e,timeZone:s,hour:"numeric",minute:"2-digit"}):o(e,t)?a.createElement(n.FormattedDate,{value:e,timeZone:s,day:"numeric",month:(0,r.ze)(i)}):a.createElement(n.FormattedDate,{value:e,timeZone:s,day:"numeric",month:"numeric",year:"numeric"})}(e,d,s,c)}}i.contextTypes={intl:n.intlShape};const l=i;var c=s(85927),d=s(92743);class E extends a.Component{render(){const e=this.props;return a.createElement(l,e)}}const _=(0,d.connect)((e=>{const{getEnvironmentSelectors:t}=(0,c.selectors)(e),{getTimeZoneName:s}=t();return{timezone:s()}}))(E)},12779:(e,t,s)=>{"use strict";s.d(t,{j4:()=>o,ow:()=>i,BW:()=>l});var a=s(45697),n=s.n(a),r=s(95406);let o,i;!function(e){e.MODAL="Modal",e.OVERLAY="Overlay"}(o||(o={})),function(e){e.BIG_PURPLE_HEADER="bigPurpleHeader",e.SMALL_PURPLE_HEADER="smallPurpleHeader",e.BACKGROUND_IMAGE="backgroundImage",e.SIDE_HEADER="sideHeader",e.FALLBACK="fallback"}(i||(i={}));const l=(0,r.VO)(i),c=n().shape({oneX:n().string.isRequired,twoX:n().string,width:n().number,height:n().number});n().string.isRequired,n().oneOf((0,r.VO)(o)).isRequired,n().oneOf(l),c.isRequired,n().string,n().string,n().string,n().string,n().string,n().string.isRequired,n().string,n().string,n().string,n().string.isRequired,n().string.isRequired,n().string.isRequired,n().string.isRequired,n().string,n().string},53681:e=>{"use strict";e.exports={className:{default:{container:"D_F H_6VdP I_52qC",draftItemContainer:"D_F W_3nNB4 H_6UHk gl_C ab_C p_R b_n r_P k_w I_T X_6MGW N_eo6 je_fq7 jb_eTB M_dBP C4_Z2aVTcY C3_Z2aVTcY",textContainer:"W_3np4q o_h J_x G_e U_dRA t_l em_N",closeBtn:"cdPFi4_Z2aVTcY cdPFi3_Z2aVTcY"},hovered:{container:"I_1I4yPF"}},_key:"jSnyl"}},18886:e=>{"use strict";e.exports={className:{default:{popoverContainer:"Y_A W_7bcz s_7bcz p_a R_0 B_0 D_n",popoverClassName:"D_n",container:"D_F W_6VdP H_6VdP e_6NIX U_6LEV Q_A E_A ah_E1oud",btnContainer:"D_F W_6VdP H_6VdP e_6NIX j_22MRmL gl_C ab_C r_P cZW7ROP_AB P_0 b_n I_Z1VRqsb I4_Z2aVTcY",iconButton:"D_F U_0 q_n b_n P_0 cdPFi_52qC",closeAllContainer:"D_F W_3qYiD H_6VdP gl_C ab_C p_R r_P I_52qC I4_1I4yPF C4_Z2aVTcY I3_1I4yPF C3_Z2aVTcY X_6Fd5 N_eo6 je_6Eb4 jb_6DEy z_2wc7QY m_n n_n x_n M_dBP",textContainer:"W_3nOD5 o_h J_x G_e U_dRA t_l"},"themeCombo-MEDIUM_ATT":{btnContainer:"I_1JsoHa I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_ATT":{btnContainer:"I_1JsoHa I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_FRONTIER":{btnContainer:"I_Z2co2jK I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_FRONTIER":{btnContainer:"I_Z2co2jK I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_ROGERS":{btnContainer:"I_Z1z3sK7 I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_ROGERS":{btnContainer:"I_Z1z3sK7 I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_BT":{btnContainer:"I_Z1FmkbU I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_BT":{btnContainer:"I_Z1FmkbU I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_SKY":{btnContainer:"I_Z1XQLGO I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_SKY":{btnContainer:"I_Z1XQLGO I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_AOL":{btnContainer:"I_ZFKWw7 I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_AOL":{btnContainer:"I_ZFKWw7 I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_DEFAULT":{btnContainer:"I_NDqnh I4_NDqG5",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_DEFAULT":{btnContainer:"I_NDqnh I4_NDqG5",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_SUNRISE":{btnContainer:"I_iPHf4 I4_iPHxR",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_SUNRISE":{btnContainer:"I_iPHf4 I4_iPHxR",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_AQUA_GREEN":{btnContainer:"I_2sGYtY I4_2sGYMM",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_AQUA_GREEN":{btnContainer:"I_2sGYtY I4_2sGYMM",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_AQUA_BLUE":{btnContainer:"I_ZzKDky I4_ZzKD1K",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_AQUA_BLUE":{btnContainer:"I_ZzKDky I4_ZzKD1K",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_DEEP_PURPLE":{btnContainer:"I_Z1I2wWh I4_Z1I2wDt",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_DEEP_PURPLE":{btnContainer:"I_Z1I2wWh I4_Z1I2wDt",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_BLUE_NIGHT":{btnContainer:"I_NDqnh I4_NDqG5",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_BLUE_NIGHT":{btnContainer:"I_NDqnh I4_NDqG5",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_DARK_GREY":{btnContainer:"I_Z1z3sK7 I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_DARK_GREY":{btnContainer:"I_Z1z3sK7 I4_a0ywp",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{btnContainer:"I_uUHCh I4_uUHV5",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_NIGHT_LANDSCAPE":{btnContainer:"I_uUHCh I4_uUHV5",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_ROADTRIP":{btnContainer:"I_hmHyq I4_hmHRe",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_ROADTRIP":{btnContainer:"I_hmHyq I4_hmHRe",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{btnContainer:"I_iPHf4 I4_iPHxR",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_SUNSET_AUSSIE":{btnContainer:"I_iPHf4 I4_iPHxR",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-MEDIUM_LIGHTHOUSE":{btnContainer:"I_Z1x0X4n I4_Z1x0WKz",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},"themeCombo-DARK_LIGHTHOUSE":{btnContainer:"I_Z1x0X4n I4_Z1x0WKz",iconButton:"cdPFi_52qC cdPFi4_52qC cdPFi3_52qC"},isSettingsRoute:{btnContainer:"I_Z1VRqsb I4_Z2aVTcY",iconButton:"cdPFi_52qC"},opaqueBackground:{container:"I_6Lklp"},entered:{popoverContainer:"D_B",popoverClassName:"D_B"}},_key:"8NpgH"}},97530:(e,t,s)=>{"use strict";s.d(t,{nX:()=>n,q8:()=>r,bz:()=>o});var a=s(50566);function n(e,t){e.dispatch(a.EMOJI_PICKER_CLOSED,t)}function r(e,t){e.dispatch(a.EMOJI_PICKER_OPENED,t)}function o(e,t){e.dispatch(a.EMOJI_CATEGORY_CHANGED,t)}},95764:e=>{"use strict";e.exports={className:{default:{headerContainer:"H_6UbO D_F ek_EZ ab_C gl_FM",header:"A_6EqO u_elT i_6Fd5 X_6LEV C_Z281SGl",categoryTitle:"k_w H_6Nds A_6EqO P_Z14hUor C_Z1TsNbA",emojiBox:"H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiRow:"D_F ab_C k_w P_0 H_72FG",emojiLi:"D_X Q_6LEV W_6MGW H_6MGW Q4_6Fd5 E4_68F4 W4_6UbO H4_6UbO",emojiDiv:"W_6D6F H_6D6F r_P",emojiContainer:"k_w p_a B_0 j_nWwhY I_52qC",activeCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_Z2hYGcu A_6EqO r_P C_q ir3_1JO2M7",inactiveCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_Z2hYGcu A_6EqO r_P C_q ir3_1JO2M7 O_6uB4",categoryContent:"D_F ab_C gl_C W_6D6F",emojiPopUp:"W_3vX1s p_a Z_d48",categoryImage:"D_X em_N W_6Fd5 H_6Fd5",categoryContainer:"ha_n M_28w24u D_F P_Z1SeCye aw_ZnLdEY az_DW ba_ZVBCBL lv_Z1smGsJ",categories:"r_P D_X Q_6NIX H_6Fd5 Q6_6MGW",closeWrapper:"D_F ab_C N_6DEy",lazyStyle:"k_w p_a B_0 j_nWwhY I_52qC H_3vxXj D_F ab_C gl_C",emojiBoxV1:"p_R Z_0 iy_h iz_A k_w em_N c22hqzz_GN H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiListV1:"M_0 P_0",emojiListItemV1:"H_A hd_n",searchSection:"U_6LEV P_2aKOEx",searchInput:"X_6NIX N_6VdP H_6UbO",emojiPage:"D_F ek_BB ab_C gl_C W_3vFXG H_3rBM0",emojiMessage:"C_Z1TsNbA",pageEmojiWrapper:"P_0",pageEmoji:"Q_0 W_6UbO H_6UbO"}},_key:"ZtNsVk"}},94697:e=>{"use strict";e.exports={className:{default:{container:"H_6D6F D_F ek_BB I_52qC",contentContainer:"p_R iz_A H_1HKkit",syncImage:"W_3v9Wb H_3nH9d",syncMessage:"Y_6MGW C_Z1VRqsb",syncWaitMessage:"Y_eo6",videoContainer:"M_1EAG48 D_B W_3DVPV H_3rRhf cZ1YE9Aj_3HK1R cZ1YE9Ay_3vNsy",header:"t_C A_6FsP C_Z281SGl Y_6MGW U_6LEV I_52qC",subHeader:"A_6EqO C_Z1VRqsb W_3vVYr Q_A E_A Y_eTB"},videoHidden:{subHeader:"C_Z2aVTcY C4_Z29WjXl r4_P",header:"Y_7sfl H_1HKkit"},aolVideoPlayer:{videoContainer:"W_3HK1R H_3vNsy cZ1YE9Aj_3HK1R cZ1YE9Ay_3vNsy"},isDarkTheme:{container:"I_T",header:"I_T C_ZpQYvz",subHeader:"C_ZvsWfq"}},_key:"Z1uo0YP"}},26482:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F bn_dBP bj_ZpQYvz bm_FJ k_w D_F je_6MGW X_6MGW N_6LEV H_7bcz en_0 p_R",closeWrapper:"p_R B_fq7",categoryFilterContainer:"r_P I_ZnIF8Y e_dRA H_6D6F P_Zl3sKS U_fq7 D_F ab_C p_R B_fq7",categoryFilterHeader:"M_82XEY E_A y_Z2hYGcu A_6EqO W_3rui8 J_x G_e o_h",checkMark:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",channelTab:"W_3rv4o X_6LEV J_x G_e o_h"},isDarkTheme:{container:"bj_ajP3z"}},_key:"Z1DzDEa"}},68085:(e,t,s)=>{"use strict";s.d(t,{_:()=>E});var a=s(57557),n=s.n(a),r=s(45697),o=s.n(r),i=s(67294),l=s(92743),c=s(5156),d=s(92559);function E(e,t,s=!0){const a=e.displayName||e.name;function r(){i.Component.apply(this,arguments)}Object.assign(r.prototype,i.Component.prototype),r.displayName="featureCueConnector("+a+")",r.contextTypes=t,r.propTypes={cueName:o().string.isRequired,onShow:o().func,close:o().bool,onClick:o().func,closeFeatureCue:o().func,markFeatureAsShown:o().func,computeActionData:o().func,computeUserResponse:o().func},r.defaultProps={onShow:()=>{},onClick:()=>{},computeActionData:()=>({}),computeUserResponse:()=>""},Object.assign(r.prototype,{componentDidMount(){const{cueName:e,computeActionData:t,computeUserResponse:s,markFeatureAsShown:a,onShow:n}=this.props,r={sec:d.nJ.FEATURE_CUE,mKey:"cue_"+e+"_invoke"};r.actionData=t(r.mKey);const o=s(),i={name:e,i13nModel:r};o&&(i.userResponse=o),setImmediate((()=>{a(i),n()}))},handleCloseFeatureCue(e,t){const s=Object.assign({sec:d.nJ.FEATURE_CUE,mKey:`cue_${this.props.cueName}_${e}`},t.i13nModel),{userResponse:a}=t,n={name:this.props.cueName,i13nModel:s,userAction:e};a&&(n.userResponse=a),this.props.closeFeatureCue(n)},UNSAFE_componentWillReceiveProps(e){e.close&&this.handleCloseFeatureCue("close",{i13nModel:{mKey:"cue_"+this.props.cueName+"_success",interactionType:d.Rb.click}})},render(){const t=e.prototype&&e.prototype.isReactComponent?{ref:"wrappedElement"}:null,s=n()(this.props,["onShow","onClose"]);return i.createElement(e,{...s,...t,onClose:this.handleCloseFeatureCue.bind(this,"close"),persistent:!0,onSuccess:this.handleCloseFeatureCue.bind(this,"click")})}});return s?(0,l.connect)(null,(e=>({closeFeatureCue:t=>e((0,c.hN)(t)),markFeatureAsShown:t=>e((0,c.tF)(t))})),null,{withRef:!0})(r):r}},63097:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(92743),n=s(51135),r=s(85927),o=s(37422);const i=(0,a.connect)((function(e,{folderId:t,isCountVisible:s}){const{getFoldersSelectors:a}=(0,r.selectors)(e),n=a(),i=n.getFolderName(t),l=n.getFolderDisplayTypeByFolderId(t);let c;return s&&(c=l===o.tlB.DRAFT?n.getFolderTotal(t):n.getFolderUnreadCount(t)),{name:i,folderDisplayType:l,count:c}}))(n.Z)},3176:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var a=s(45697),n=s.n(a),r=s(67294),o=s(40199),i=s.n(o),l=s(9333),c=s(76531),d=s(99095),E=s(78603),_=s(9026);function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const m=(0,d.defineMessages)({create_new_folder:{id:"create_new_folder",defaultMessage:"Create new folder"},create_folder_label:{id:"create_folder_label",defaultMessage:"New Folder"},create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class S extends r.Component{constructor(...e){super(...e),u(this,"state",{createMode:!1}),u(this,"enableCreateMode",(()=>{this.setState({createMode:!0})})),u(this,"disableCreateMode",(()=>{this.setState({createMode:!1})})),u(this,"createFolder",(({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:0}},t),this.disableCreateMode(),this.props.onCreate({folderName:e,i13nModel:t})})),u(this,"handleKeyDown",(e=>{"Enter"!==e.key||this.state.createMode||(e.stopPropagation(),this.enableCreateMode())})),u(this,"renderNewFolderButton",(e=>{const{formatMessage:t}=this.context.intl,s=this.context.getThemeMode()===_.zg.LIGHT?c.ColorStates.IMPROVED_GRAY_DARK:c.ColorStates.INHERITED;return r.createElement("div",{"data-iskeynav":!0,onClick:this.enableCreateMode,className:e.newFolderContainer},r.createElement(l.default,{kind:c.Kinds.ADD,size:c.Sizes.XS,colorState:s,"aria-label":t(m.create_new_folder),title:t(m.create_new_folder),paddingLess:!0}),t(m.create_folder_label))}))}render(){const{indentation:e,fullWidth:t,noHoverColor:s,whiteBackground:a,activeAccountId:n}=this.props,o=this.context.getThemeMode(),l=this.context.getCss(i(),{indentation:e,fullWidth:t,noHoverColor:s,useDarkVariations:!a&&(o===_.zg.DARK||o===_.zg.MEDIUM)}),{formatMessage:c}=this.context.intl;return r.createElement("div",{className:l.container,onKeyDown:this.handleKeyDown,"data-test-id":"create-folder-container"},this.state.createMode?r.createElement(E.ZP,{onInputSubmit:this.createFolder,onDismiss:this.disableCreateMode,ariaLabel:c(m.create_folder_input_aria_label),indentation:e,activeAccountId:n,whiteBackground:a}):this.renderNewFolderButton(l))}}u(S,"contextTypes",{intl:d.intlShape.isRequired,getCss:n().func,getThemeMode:n().func}),u(S,"defaultProps",{fullWidth:!1,noHoverColor:!1,whiteBackground:!1});const p=S},78603:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>U});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(3539),l=s.n(i),c=s(76223),d=s.n(c),E=s(9333),_=s(53373),u=s(76531),m=s(10728),S=s(9026),p=s(95406),C=s(17016),A=s(23224),T=s(11160),h=s(31509),g=s(18030),I=s(65304),R=s(85927),O=s(92743),D=s(42907);function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function f(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const M=27,L=13,P=9,y=(0,p.gP)(["InvalidFolderName","DuplicateFolderName"]),b=(0,o.defineMessages)({folder_dismiss_input:{id:"folder_dismiss_input",defaultMessage:"Dismiss input"},folder_submit_input:{id:"folder_submit_input",defaultMessage:"Submit input"},folder_invalid_chars:{id:"folder_invalid_chars",defaultMessage:"Folder names may not contain {invalid_chars}"},duplicate_foldername:{id:"duplicate_foldername",defaultMessage:"A folder named {folder_name} already exists. Please choose a different name."}});class F extends r.Component{constructor(...e){super(...e),f(this,"state",{folderName:this.props.initialFolderName||"",folderError:null}),f(this,"handleKeyDown",(e=>{e.keyCode===M&&this.props.onDismiss(),e.keyCode!==L&&e.keyCode!==P||this.performFolderOperation(e)})),f(this,"handleChange",(e=>{const t=e.target.value;let s=null;t&&!(0,C.isValidFolderName)(t)&&(s=y.InvalidFolderName),this.setState({folderName:t,folderError:s})})),f(this,"handleBlur",(e=>{if(e.relatedTarget&&e.relatedTarget.parentNode!==this.containerNode)return""===this.state.folderName.trim()?this.props.onDismiss():void this.performFolderOperation(e)})),f(this,"performFolderOperation",(e=>{const{initialFolderName:t,isFolderNameExistInParentFolder:s,parentFolderId:a}=this.props,n=this.state.folderName.trim();let r=this.state.folderError;if(n!==t&&s(n,a)&&(r=y.DuplicateFolderName,this.setState({folderError:r})),n&&null===r){const t={interactionType:(0,C.getInteractionFromEvent)(e)};this.props.onInputSubmit({folderName:n,i13nModel:t})}})),f(this,"focusInput",(e=>{e&&e.focus()})),f(this,"getFolderError",(()=>{const{folderName:e,folderError:t}=this.state;return null===t?null:t===y.InvalidFolderName?r.createElement(o.FormattedMessage,N({},b.folder_invalid_chars,{values:{invalid_chars:D.Nk}})):t===y.DuplicateFolderName?r.createElement(o.FormattedMessage,N({},b.duplicate_foldername,{values:{folder_name:r.createElement("b",null,e)}})):void 0}))}render(){const{formatMessage:e}=this.context.intl,{getThemeMode:t}=this.context,{onDismiss:s,whiteBackground:a}=this.props,n=null===this.state.folderError,o=d()(l(),{invalidFolderName:!n,validFolderName:n,indentation:this.props.indentation}),i=t()===S.zg.LIGHT||a?u.ColorStates.NORMAL:u.ColorStates.INVERTED,c=e(b.folder_submit_input),_=e(b.folder_dismiss_input);return r.createElement("div",{className:o.container,ref:e=>this.containerNode=e},r.createElement(E.default,{onClick:s,kind:u.Kinds.CLOSE_MINI,size:u.Sizes.XS,colorState:i,"aria-label":_,title:_,"data-test-id":"icon-btn-close",className:o.closeButton,paddingLess:!0}),r.createElement(T.Z,{className:o.popoverContainer},r.createElement(h.Z,null,r.createElement("div",{className:o.inputSubmitContainer},r.createElement("div",{className:o.inputContainer},r.createElement(A.Z,{className:o.input,type:"text",ref:this.focusInput,value:this.state.folderName,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,placeholder:this.props.placeholder,"aria-label":this.props.ariaLabel})),r.createElement(E.default,{onClick:this.performFolderOperation,kind:u.Kinds.ENTER,colorState:u.ColorStates.INVERTED,size:u.Sizes.XXS,className:o.okIcon,title:c,"aria-label":c}))),this.state.folderName&&!n?r.createElement(g.ZP,{triggerOn:I.K2.MOUNT,permittedArrowDirections:[I.Ji.UP,I.Ji.DOWN],zAltitude:m.LSY.MODAL},r.createElement("div",{className:o.popover},this.getFolderError())):null))}}f(F,"defaultProps",{indentation:_.Vc,parentFolderId:"",whiteBackground:!1}),f(F,"contextTypes",{intl:o.intlShape.isRequired,getThemeMode:n().func});const U=(0,O.connect)((e=>{const{getFoldersSelectors:t,getFolderIdsByNameForSelectAccountId:s}=(0,R.selectors)(e),{getFolderName:a,getFolderPath:n}=t();return{isFolderNameExistInParentFolder:(e,t)=>s(e).some((s=>t?n(s)===`${n(t)}/${e}`:a(s)===e))}}))(F)},53373:(e,t,s)=>{"use strict";s.d(t,{gG:()=>a,Vc:()=>n,yr:()=>r,p_:()=>o,Fn:()=>i,$n:()=>l,cE:()=>c});const a="INDENTATION_NORMAL",n="INDENTATION_NONE",r="TOPFOLDER_WITH_ICON",o="TOPFOLDER_WITHOUT_ICON",i="SUBFOLDER_WITH_ICON",l="SUBFOLDER_WITHOUT_ICON",c="PLACE_AT_TOP_LEVEL"},20305:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({UNREAD:{id:"smart_view_unread_tooltip",defaultMessage:"Unread - Click to see unread mails"},smart_view_selected_UNREAD:{id:"smart_view_selected_unread_tooltip",defaultMessage:"Unread, selected - Showing unread mails"},STARRED:{id:"smart_view_starred_tooltip",defaultMessage:"Starred - Click to see starred mails"},smart_view_selected_STARRED:{id:"smart_view_selected_starred_tooltip",defaultMessage:"Starred, selected - Showing starred mails"},DOCUMENTS:{id:"smart_view_document_tooltip",defaultMessage:"Documents - Click to see all documents"},smart_view_selected_DOCUMENTS:{id:"smart_view_selected_document_tooltip",defaultMessage:"Documents, selected - Showing all documents"},PHOTOS:{id:"smart_view_photos_tooltip",defaultMessage:"Photos - Click to see all Photos"},smart_view_selected_PHOTOS:{id:"smart_view_selected_photos_tooltip",defaultMessage:"Photos, selected - Showing all Photos"},TUTORIAL:{id:"smart_view_tutorial_tooltip",defaultMessage:"Tutorials - Click to see all tutorial videos"},COUPONS:{id:"smart_view_coupons_tooltip",defaultMessage:"Deals - Click to see all deals"},COUPON_EMAILS:{id:"smart_view_coupon_emails_tooltip",defaultMessage:"Deals - Click to see all deals"},GROCERIES:{id:"smart_view_groceries_tooltip",defaultMessage:"Groceries - Click to see all grocery stores where you can save"},RECEIPTS:{id:"smart_view_receipts_tooltip",defaultMessage:"Receipts - Click to see all receipts"},SUBSCRIPTIONS:{id:"smart_view_subscriptions_tooltip",defaultMessage:"Subscriptions - Click to see all subscriptions"},STOREFRONT:{id:"smart_view_storefront_tooltip",defaultMessage:"Deals - Click to browse all stores"},smart_view_selected_TUTORIAL:{id:"smart_view_selected_tutorial_tooltip",defaultMessage:"Tutorial, selected - Showing the tutorial video"},TRAVEL:{id:"smart_view_travel_tooltip",defaultMessage:"Travel - Click to see your travel details"},ATTACHMENTS:{id:"smart_view_attachments_tooltip",defaultMessage:"Attachments - Click to see your attachments"},smart_view_UNREAD:{id:"smart_view_unread",defaultMessage:"Unread"},smart_view_STARRED:{id:"smart_view_starred",defaultMessage:"Starred"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},smart_view_DOCUMENTS:{id:"smart_view_document",defaultMessage:"Documents"},smart_view_PHOTOS:{id:"photos_label",defaultMessage:"Photos"},smart_view_TUTORIAL:{id:"smart_view_tutorial",defaultMessage:"Tutorials"},smart_view_COUPONS:{id:"smart_view_coupons",defaultMessage:"Deals"},smart_view_COUPON_EMAILS:{id:"smart_view_coupon_emails",defaultMessage:"Deals"},smart_view_selected_COUPONS:{id:"smart_view_selected_coupons_tooltip",defaultMessage:"Deals, selected - Showing your deals"},smart_view_selected_COUPON_EMAILS:{id:"smart_view_selected_coupon_emails_tooltip",defaultMessage:"Deals, selected - Showing your deals"},smart_view_GROCERIES:{id:"smart_view_groceries",defaultMessage:"Groceries"},smart_view_selected_GROCERIES:{id:"smart_view_selected_groceries_tooltip",defaultMessage:"Groceries, selected - Showing your grocery stores"},smart_view_TRAVEL:{id:"smart_view_travel",defaultMessage:"Travel"},smart_view_selected_TRAVEL:{id:"smart_view_selected_travel_tooltip",defaultMessage:"Travel, selected - Showing all flights"},smart_view_RECEIPTS:{id:"smart_view_receipts",defaultMessage:"Receipts"},smart_view_selected_RECEIPTS:{id:"smart_view_selected_receipts_tooltip",defaultMessage:"Receipts, selected - Showing your receipts"},smart_view_SUBSCRIPTIONS:{id:"smart_view_subscriptions",defaultMessage:"Subscriptions"},smart_view_selected_SUBSCRIPTIONS:{id:"smart_view_selected_subscriptions_tooltip",defaultMessage:"Subscriptions, selected - Showing your subscriptions"},smart_view_STOREFRONT:{id:"smart_view_storefront",defaultMessage:"Deals"},smart_view_selected_STOREFRONT:{id:"smart_view_selected_storefront",defaultMessage:"Deals, selected - Showing your stores"},smart_view_ATTACHMENTS:{id:"smart_view_attachments",defaultMessage:"Attachments"},smart_view_selected_ATTACHMENTS:{id:"smart_view_selected_attachments_tooltip",defaultMessage:"Attachments, selected - Showing your attachments"},smart_view_ALL:{id:"category.all_header",defaultMessage:"All"},smart_view_PEOPLE:{id:"category.people_header",defaultMessage:"People"},smart_view_PEOPLE_HINT:{id:"category.people_hint",defaultMessage:"Messages from real people, not businesses or promotions"},smart_view_PEOPLE_SHORT_HINT:{id:"category.people_short_hint",defaultMessage:"Turn on <strong>People View</strong> to see messages from people in one place."},smart_view_SHOPPING:{id:"category.shopping_header",defaultMessage:"Shopping"},smart_view_SHOPPING_HINT:{id:"category.shopping_hint",defaultMessage:"Subscriptions, coupons, deals and order confirmations"},smart_view_SHOPPING_SHORT_HINT:{id:"category.shopping_short_hint",defaultMessage:"Subscriptions, coupons, deals and orders"},smart_view_SOCIAL:{id:"category.social_header",defaultMessage:"Social"},smart_view_SOCIAL_HINT:{id:"category.social_hint",defaultMessage:"Updates from social networks like Facebook, LinkedIn and others"},smart_view_SOCIAL_SHORT_HINT:{id:"category.social_short_hint",defaultMessage:"Updates from social networks"},smart_view_FINANCE:{id:"category.finance_header",defaultMessage:"Finance"},smart_view_FINANCE_HINT:{id:"category.finance_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_FINANCE_SHORT_HINT:{id:"category.finance_short_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_TRAVEL_HINT:{id:"category.travel_hint",defaultMessage:"Flights, hotel reservations and travel confirmations"},smart_view_TRAVEL_SHORT_HINT:{id:"category.travel_short_hint",defaultMessage:"Messages about flights, hotel reservations"},moveCategoryUp:{id:"move_category_up",defaultMessage:"Move view up"},moveCategoryDown:{id:"move_category_down",defaultMessage:"Move view down"},categorization_header:{id:"categorization_header",defaultMessage:"Inbox views"},categorization_hint:{id:"categorization_hint",defaultMessage:"Automatically group messages by views for easier organization"},categorization_onboarding:{id:"categorization_onboarding",defaultMessage:"Automatically group messages by category for easier organization"}})},40199:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C H_6NIX N_fq7 C_Z281SGl I4_2tvNsT",newFolderContainer:"D_F ab_C r_P cdPFi_Z281SGl it3_dRA I4_T"},"indentation-INDENTATION_NORMAL":{newFolderContainer:"P_ZmsKgw"},fullWidth:{newFolderContainer:"W_6D6F"},noHoverColor:{container:"I4_T"},useDarkVariations:{container:"C_52qC",newFolderContainer:"cdPFi_2sqbRh is_26ISAR cZdTOHS_ZXgLQ3"}},_key:"2bCY2u"}},3539:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C",closeButton:"en_0",inputContainer:"D_F b_0 em_N",inputSubmitContainer:"D_F em_N ab_C b_2w4lU5",input:"W_6D6F k_w H_6LEV y_Z2hYGcu X_eo6 b_0 I_2bfYWg",okIcon:"I_ZroviD en_0 W_6LEV H_6LEV",popoverContainer:"D_F",popover:"P_eTB C_ZnTFMv W_3nh43 k_w A_6Eb4"},invalidFolderName:{inputSubmitContainer:"b_Z1222NH"},validFolderName:{okIcon:"I_Z2aVTcY"},"indentation-INDENTATION_NORMAL":{container:"P_ZmsKgw"}},_key:"Z2p3q8G"}},58073:e=>{"use strict";e.exports={className:{default:{container:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C I4_2tvNsT",activeContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C I4_2tvNsT n_Z1YKD9t I_1kC8gG",dragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C I4_2tvNsT I_1kC8gG",activeDragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C I4_2tvNsT n_Z1YKD9t I_1kC8gG",labelContainer:"D_F W_6D6F ab_C i_6FIA p_R o_h G_e J_x",activeLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",folderLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",label:"G_e J_x o_h H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F cdPFi_Z1YRXYn",folderMenu:"c27KHO0_n I_T b_0 X_fq7 v_h D_F em_N gl_CH je_e8l",folderMenuIcon:"cdPFi_Zjpyu2 r_P E_fq7 cdPFi4_Z281SGl",loader:"E_6Eb4",unreadWrapper:"E_fq7",unreadFadeIn:"ah_ZPQR1p",unreadFadeOut:"ah_Z1DNnWG",navContainer:"W_6D6F C_Z281SGl D_F",activeNavContainer:"W_6D6F C_Z281SGl D_F u_b",trashIconWrapper:"P_3PUiW D_F em_N gl_CH cdPFi_Zjpyu2 r_P cdPFi4_ZkiIcp"},isActive:{labelContainer:"Q_689y",unreadWrapper:"T_eDQ"},"indentation-TOPFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-TOPFOLDER_WITHOUT_ICON":{container:"X_6LEV",activeContainer:"X_6LEV",dragoverContainer:"X_6LEV",activeDragoverContainer:"X_6LEV"},"indentation-SUBFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-SUBFOLDER_WITHOUT_ICON":{container:"X_6EGz",activeContainer:"X_6EGz",dragoverContainer:"X_6EGz",activeDragoverContainer:"X_6EGz"},showFolderMenu:{folderMenu:"v_v"},"themeMode-MEDIUM":{container:"C_2sqbRh is_26ISAR cZdTOHS_ZXgLQ3",activeContainer:"C_52qC is_26ISAR cZdTOHS_ZXgLQ3",navContainer:"C_52qC is_26ISAR cZdTOHS_ZXgLQ3",activeNavContainer:"C_52qC is_26ISAR cZdTOHS_ZXgLQ3",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_52qC",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"},"themeMode-DARK":{container:"C_2sqbRh is_26ISAR cZdTOHS_ZXgLQ3",activeContainer:"C_52qC is_26ISAR cZdTOHS_ZXgLQ3",navContainer:"C_52qC is_26ISAR cZdTOHS_ZXgLQ3",activeNavContainer:"C_52qC is_26ISAR cZdTOHS_ZXgLQ3",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_52qC",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"}},_key:"18vf5R"}},20529:e=>{"use strict";e.exports={className:{default:{scrollOuter:"p_R k_w W_6D6F U_3mS2U",listSpacer:"H_6Fd5"},showMailproFreeTrialUpsell:{scrollOuter:"U_3n1yN"}},_key:"1NY9BG"}},42981:e=>{"use strict";e.exports={className:{default:{container:"P_3Y3Gk",separator:"m_Z14vXdP M_3HLUz"}},_key:"220Q4E"}},68537:e=>{"use strict";e.exports={className:{default:{folderTree:"hd_n P_0 M_0",folderContainer:"H_6NIX D_F ab_C r_P X_6DEy it3_689y I4_2tvNsT",toggleFolderTree:"N_fq7 A_6EqO C_Z1YRXYn C4_Z1VRqsb J_x",collapseFolders:"H_6MWH X_eDQ A_6EqO C_Z1YRXYn cdPFi_Z1YRXYn r_P D_F ab_C C4_Z1VRqsb it3_dBP",toggle:"D_F ab_C"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},"themeMode-MEDIUM":{folderContainer:"is_26ISAR cZdTOHS_ZXgLQ3",toggleFolderTree:"C_52qC cdPFi_52qC C4_2sqbRh",collapseFolders:"C_52qC cdPFi_52qC is_26ISAR cZdTOHS_ZXgLQ3 C4_2sqbRh"},"themeMode-DARK":{folderContainer:"is_26ISAR cZdTOHS_ZXgLQ3",toggleFolderTree:"C_52qC cdPFi_52qC C4_2sqbRh",collapseFolders:"C_52qC cdPFi_52qC is_26ISAR cZdTOHS_ZXgLQ3 C4_2sqbRh"}},_key:"ZMrDma"}},38569:e=>{"use strict";e.exports={className:{default:{menuContainer:"p_a K_q o_h a_3wdvH Z_3mRud q_52qC e_dRA j_ZlOSbd",itemLabel:"em_N P_0 o_h G_e",folderContainer:"K_3rehn iz_A iy_h P_cFf",searchContainer:"hd_n P_cFf M_0 m_Z14vXdP",emptyMessageContainer:"hd_n P_cFf M_0 m_0",fullLabel:"D_F W_6D6F",noResultContainer:"D_F ab_C C_Z1WBuqm i_6VdP k_w",searchInputContainer:"D_F ab_C k_w X_6EGz N_eo6 W_3wdvH",searchInput:"em_N cn_0 W_6D6F H_6VdP N_0 X_0 A_6EqO C_Z281SGl ir3_0",highlightedListItem:"I_1I4z5p O_N I4_1I4z5p",listItem:"I_52qC",placeAtTopLevel:"m_Z14vXdP",selectPlaceholder:"F_N o_h J_x D_X G_e C_Z1TsNbA",selectLabel:"D_F gl_FL C_Z281SGl m_2w4lU5 H_6VdP i_6VdP X_fq7",selectedValue:"em_N o_h J_x D_X G_e C_Z281SGl",inputWrapper:"em_N D_F o_h gl_FL H_6VdP i_6VdP",selectInput:"O_0 W_dBP H_dBP b_n ir_n p_a D_X",arrowDown:"r_P D_F gl_C ab_C"}},_key:"1si1ld"}},90732:e=>{"use strict";e.exports={className:{default:{container:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z281SGl I4_2tvNsT",activeContainer:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z281SGl I4_2tvNsT u_b n_Z1YKD9t I_1kC8gG",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"G_e J_x o_h E_6LEV H_6FIA",smartViewIcon:"c27KHO0_n I_T N_fq7 b_0 D_F em_N gl_CH",badgeContainer:"a_6NIX h_1UBaXG",rtlRawScaleX:"rtlR_h_2gl0WC rtlR_N_fq7 rtlR_X_2vNgMj",starAnimation:"N_fq7 ab_C Q_A i_6FIA W_72FG H_6LEV D_F k_w",sparkleGuidedStarAnimation:"p_a H_6VdP Q_69H5"},"animation-slideUp":{starAnimation:"v_h ah_Z2d532X ai_qM"},isActive:{smartViewIcon:"Q_68F4"},isActiveAndNoIcon:{labelContainer:"Q_689y"},hasIcon:{container:"X_fq7"},"themeMode-MEDIUM":{container:"C_52qC is_26ISAR cZdTOHS_ZXgLQ3",activeContainer:"C_52qC is_26ISAR cZdTOHS_ZXgLQ3"},"themeMode-DARK":{container:"C_52qC is_26ISAR cZdTOHS_ZXgLQ3",activeContainer:"C_52qC is_26ISAR cZdTOHS_ZXgLQ3"}},_key:"1zP9cQ"}},76352:e=>{"use strict";e.exports={className:{default:{smartviewList:"hd_n P_0 M_0",smartviewContainer:"H_6NIX D_F ab_C X_6DEy r_P ir3_1JO2M7 it3_dRA I4_2tvNsT",toggleSmartViews:"N_fq7 A_6EqO C_Z1YRXYn C4_Z1VRqsb",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"em_N G_e J_x o_h E_fq7 H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},"themeMode-MEDIUM":{smartviewContainer:"C_52qC ir3_Z1FS2Mn",toggleSmartViews:"C_52qC C4_2sqbRh"},"themeMode-DARK":{smartviewContainer:"C_52qC ir3_Z1FS2Mn",toggleSmartViews:"C_52qC C4_2sqbRh"}},_key:"vU4R"}},31436:e=>{"use strict";e.exports={className:{default:{groceryContainer:"D_F ek_BB H_6D6F W_6D6F I_52qC",groceryResultContainer:"H_6D6F iz_A",LoadingIndicatorPositionBox:"D_F ek_BB gl_C ab_C H_6D6F",itemContainer:"D_F eo_HB Y_6LEV Q_6Fd5",previousItemContainer:"D_F H_3nW7W Q_6MGW",previousItemSeparator:"M_2h1kNq A_6EqO u_b C_Z281SGl"},isSearch:{itemContainer:"iz_A",search:"u_b M_Z1St4Hb"},isCategorySearch:{categoriesBar:"ab_C D_F eo_HB M_1Eu7sD",itemContainer:"z_Z14vXdP iz_A",navigator:"D_F M_Z1E2Rbv",pill:"I_52qC b_Z14vXdP e_72FG r_P A_6EqO M_1osmbG a_3nOD5 s_7ceA o_h P_fQoXz t_C G_e J_x I4_1I4yPF b4_2fAfSG C4_Z2aVTcY",link:"D_F",separator:"H_6LEV M_3gIMd t_C W_6LEV",name:"r_P M_0 t_C",boldName:"r_P u_b M_0 t_C",toggleButton:"ab_C C_Z2aVTcY r_P D_F H_6MGW M_1osmbG P_eo6"}},_key:"Z1wYFJ3"}},12804:e=>{"use strict";e.exports={className:{default:{dialog:"W_3zCa0 I_52qC D_F ek_BB e_eTB gl_C ab_C jb_6LEV",close:"ac_CH M_C04i4",logo:"H_7rt5 W_7jsH",walmartLogo:"W_7rt5 H_7qGO",header:"t_C A_6FsP u_e69 P_Z2wfynt",subHeader:"W_3vasG H_6VdP U_6MGW A_6EqO C_Z21FVSm t_C",step:"D_F A_6EqO t_l jb_6Fd5",stepNumber:"D_F ab_C gl_C t_C I_Z1YRXYn e_e5X C_52qC W_6MGW H_6MGW E_6Eb4",productStepNumber:"D_F ab_C u_e69 gl_C t_C I_ZkchTG e_e5X C_Z281SGl W_6UbO H_6UbO E_6Eb4",icon:"N_6Eb4",detailedStep:"W_3r6wK",detailedProductStep:"W_3r6wK u_e69",subDetailedStep:"W_3rRhf A_6EqO C_Z1XthbR u_N",productBody:"P_Ic8v9 E_7jIs",body:"P_Z26n5mf"}},_key:"Z1MfzjC"}},38246:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB H_6D6F iz_A W_6D6F",header:"m_Z14vXdP D_F ek_EZ P_6MGW",image:"ab_C H_3s2lE gl_C im_BE W_3rvk9",right:"D_F ek_BB Q_74JI",retailer:"C_Z20JEyO i_6CBp",description:"A_6FsP u_e69 i_d3c M_S9pNs",value:"ab_C D_F A_6MGW u_b i_6uEz",unit:"C_Z1Y0KB7 A_6EWk u_N i_6CAs Q_fq7",cost:"C_Z20JEyO i_6CBp Y_6Eb4",add:"ab_C I_Z2aVTcY e_dRA C_52qC r_P D_F u_b H_6VdP gl_C Y_6LEV W_3np4q",numberContainer:"ab_C b_2fAfSG e_dRA r_P D_F A_6FsP u_e69 H_6VdP Y_6LEV W_3np4q",change:"D_F gl_C W_7jcW",details:"D_F ek_BB M_GGQyS",subtitle:"u_b i_6CCu Y_6Fd5",subtext:"D_F i_6CBU Y_fq7",more:"ab_C C_Z2aVTcY r_P D_F u_e69 gl_FL Y_6Fd5 W_7ALe",separator:"C_Z281SGl A_6EqO u_b M_2h1kNq",carouselContainer:"D_F H_3nW7W Q_6MGW"},collapsed:{subtext:"D_ZS1uoi i_6CBU Y_fq7 o_h J_EP ca8c02_O cZwJqdT_Z2lir11"}},_key:"Z114C5C"}},33364:(e,t,s)=>{"use strict";s.r(t),s.d(t,{DELAY_FOR_CONTACT_CARD:()=>S,default:()=>A});s(45697);var a=s(67294),n=s(50621),r=s(65304),o=s(17016),i=s(72328),l=s.n(i),c=s(76223),d=s.n(c),E=s(29995),_=s(10728),u=s(69511);function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const S=300,p=d()(l());class C extends a.Component{constructor(...e){super(...e),m(this,"popoverDidAppear",(()=>{this._popover&&this.props.popoverDidAppear(this._popover)})),m(this,"setPopoverRef",(e=>{this._popover=e})),m(this,"rerenderIfPopoverNotEnabled",(()=>{this.tooSoonToRender&&this.forceUpdate()})),m(this,"tooSoonToRenderPopover",(()=>{const{createdTime:e}=this.props;return this.tooSoonToRender=e&&Date.now()-e<1e3,this.tooSoonToRender}))}render(){const{email:e,isCompose:t,isDisabled:s,name:i,popoverZIndex:l}=this.props,c="ltr"===(0,u.getTextDirection)(i+" "+e)?p.rtlIgnoreDirLTR:p.rtlIgnoreDirRTL,d=s=>a.createElement(E.ZP,{key:e,email:e,isCompose:t,withBackground:!1,name:i,onUpdateFinished:s});return this.tooSoonToRenderPopover()||t&&!(0,o.isValidEmail)(e)?a.createElement("span",{className:p.anchor,onMouseEnter:this.rerenderIfPopoverNotEnabled,onMouseLeave:this.rerenderIfPopoverNotEnabled,"data-test-id":"email-pill-without-popover"},this.props.children):a.createElement(n.ZP,{arrowSize:r.Jk.M,permittedArrowDirections:[r.Ji.ANY],triggerOn:n.XU.HOVER_DELAYED,triggerDelayTime:S,triggerOff:n.Es.HOVER_OUT|n.Es.DRAG_START|n.Es.CLICK,disabled:s,zAltitude:l,onShown:this.popoverDidAppear,ref:this.setPopoverRef},a.createElement("span",{"data-test-id":"email-pill",className:p.anchor+" "+c},this.props.children),d)}}m(C,"defaultProps",{isDisabled:!1,popoverZIndex:_.LSY.POPOVER.HIGH,popoverDidAppear:()=>{}});const A=C},72328:e=>{"use strict";e.exports={className:{default:{anchor:"D_F",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"}},_key:"uHY9u"}},2502:(e,t,s)=>{"use strict";s.d(t,{j2:()=>g,ZP:()=>I});var a=s(67294),n=s(92743),r=s(76223),o=s.n(r),i=s(99095),l=s(85927),c=s(94230),d=s.n(c),E=s(7426),_=s(79483),u=s(92559),m=s(64059),S=s(56148),p=s(76531),C=s(37422),A=s(68085),T=s(8757),h=s(17016);const g=(0,i.defineMessages)({message:{id:"inline_prompt_ad_target_cue.message",defaultMessage:"Enable ad and content personalization"},primaryBtnText:{id:"inline_prompt_ad_target_cue.primaryBtn",defaultMessage:"Turn on"},learnMore:{id:"spam_or_unsub_dialog.learnMore",defaultMessage:"Learn more"},close:{id:"close",defaultMessage:"Close"},done:{id:"restore_button.done",defaultMessage:"Done"},header:{id:"privacy_redirect_dialog.header",defaultMessage:"Sending you to the Privacy Dashboard"},redirectMessage:{id:"privacy_redirect_dialog.redirectLink",defaultMessage:"If you are not redirected, click {redirectLink}."},here:{id:"privacy_redirect_dialog.here",defaultMessage:"here"}}),I=(0,A._)((0,n.connect)((e=>{const{getSetting:t}=(0,l.selectors)(e);return{themeMode:t(C.Zrf.THEME_MODE),helpUrl:t(C.Zrf.INLINE_PROMPT_HELP_URL),privacyDashBoardUrl:t(C.Zrf.INLINE_PROMPT_DASHBOARD_URL)}}))((e=>{const{cueName:t,themeMode:s,onClose:n,helpUrl:r,privacyDashBoardUrl:i}=e,{formatMessage:l}=(0,E.Y)(),[c,A]=(0,a.useState)(!1),I=-1!==[C.zgU.MEDIUM,C.zgU.DARK].indexOf(s),R=o()(d(),{isDark:I}),O=(0,a.useCallback)((e=>{(0,m.x)(i),_.ZP.sendI13nModel({i13nModel:{sec:t,mKey:u.JE.INLINE_PROMPT_AD_TARGET_CUE_TURN_ON,interactionType:(0,h.getInteractionFromEvent)(e)}}),A(!0)}),[t,i]),D=(0,a.useCallback)((e=>{(0,m.x)(r),_.ZP.sendI13nModel({i13nModel:{mKey:u.JE.INLINE_PROMPT_AD_TARGET_CUE_LEARN_MORE,sec:t,interactionType:(0,h.getInteractionFromEvent)(e)}})}),[r,t]),N=(0,a.useCallback)((e=>{n({i13nModel:{sec:t,mKey:u.JE.INLINE_PROMPT_AD_TARGET_CUE_CLOSE,interactionType:(0,h.getInteractionFromEvent)(e)}})}),[n,t]),f=(0,a.useCallback)((e=>{A(!1),n({i13nModel:{sec:u.nJ.INLINE_PROMPT_REDIRECT_DIALOG,mKey:u.JE.INLINE_PROMPT_DONE_BUTTON_CLICK,interactionType:(0,h.getInteractionFromEvent)(e)}}),location.reload()}),[n]);return c?a.createElement(T.Z,{handleDoneButton:f,privacyDashBoardUrl:i}):a.createElement("div",{"data-test-id":t,className:R.container},a.createElement("div",{className:R.close},a.createElement(S.Z,{"data-test-id":"close-cue-button",onClick:N,kind:p.Kinds.CLOSE,colorStates:{normal:p.ColorStates.SECOND_LEVEL_GRAY,hovered:I?p.ColorStates.DARK:p.ColorStates.WHITE},size:p.Sizes.XXS,title:l(g.close),"aria-label":l(g.close),paddingLess:!0,tabIndex:0})),a.createElement("div",{className:R.message},l(g.message)),a.createElement("button",{"data-test-id":"turn-on-cue-btn",onClick:O,className:R.primaryButton},l(g.primaryBtnText)),a.createElement("button",{"data-test-id":"learn-more-cue-button",onClick:D,className:R.button},l(g.learnMore)))})))},8757:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var a=s(67294),n=s(76223),r=s.n(n),o=s(99095),i=s(12405),l=s.n(i),c=s(7426),d=s(89963),E=s(67498),_=s(28182),u=s(43007),m=s(76531),S=s(2502),p=s(79483),C=s(92559),A=s(17016);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const h=e=>{const{handleDoneButton:t,privacyDashBoardUrl:s,isSingleColumnLayoutMobile:n=!1}=e,{formatMessage:i}=(0,c.Y)(),h=r()(l(),{isSingleColumnLayoutMobile:n}),g=(0,a.useCallback)((e=>{p.ZP.sendI13nModel({i13nModel:{mKey:C.JE.INLINE_PROMPT_REDIRECT_LINK_CLICK,sec:C.nJ.INLINE_PROMPT_REDIRECT_DIALOG,interactionType:(0,A.getInteractionFromEvent)(e)}})}),[]);return a.createElement(d.Z,{onClose:t},a.createElement("div",{className:h.modalContainer,"data-test-id":"privacy-redirect-dialog-modal"},a.createElement("div",{className:h.iconBorder,"aria-hidden":!0},a.createElement(u.Z,{kind:m.Kinds.LOCK,size:m.Sizes.M,colorState:m.ColorStates.SELECTED})),a.createElement("header",{className:h.header},i(S.j2.header)),a.createElement("div",{className:h.message},a.createElement(o.FormattedMessage,T({},S.j2.redirectMessage,{values:{redirectLink:a.createElement("a",{"data-test-id":"privacy-redirect-dialog-redirect-link",className:h.link,href:s,target:"_blank",rel:"noopener noreferrer",onClick:g},i(S.j2.here))}}))),a.createElement(E.Z,{"data-test-id":"privacy-redirect-dialog-done-btn",onClick:t,title:i(S.j2.done),kind:_.F.PRIMARY,"aria-label":i(S.j2.done),tabIndex:0,overridingClass:h.button},i(S.j2.done))))}},94230:e=>{"use strict";e.exports={className:{default:{container:"I_Z1YRXYn d_3n2AO C_52qC D_F ek_BB ab_C k_w P_2tGDG3 e_dRA",close:"ac_CH",message:"t_C u_e69 U_6Eb4",button:"H_6MGW W_CD s_7HtP P_fQoXz A_6DUj u_b C_52qC r_P cn_0 e_dRA M_Z26RiTK I_T C4_ZtwOFC",primaryButton:"H_6MGW W_CD s_7HtP P_fQoXz A_6DUj u_b C_52qC r_P cn_0 e_dRA I_ak5j5 C4_52qC I4_a0yf8"},isDark:{container:"I_52qC C_Z281SGl",button:"C_Z2aVTcY C4_Z2dyg2z",primaryButton:"C_Z2aVTcY I_2ieea9 C4_Z2aVTcY I4_2ieepT"}},_key:"ZACD2H"}},12405:e=>{"use strict";e.exports={className:{default:{modalContainer:"W_3A1b8 d_3s0hC e_dRA k_w I_52qC D_F el_QDCVj ab_C t_C P_1EueWv",iconBorder:"e_e5X b_opneY W_7yHc H_7yHc Y_72FG D_F ab_C gl_C",header:"A_6FsP u_e69 i_6MGW M_Z69yVg",message:"A_6EqO",link:"C_Z2aVTcY r_P"},isSingleColumnLayoutMobile:{modalContainer:"W_3v3uk",button:"W_3rvk9"}},_key:"25R6W1"}},51418:e=>{"use strict";e.exports={className:{default:{loadMoreContainer:"H_sL D_F ab_C gl_C",emptyListContainer:"D_F em_N ek_BB p_R T_e5X h_ZBOl0O",emptyListText:"t_C A_6FsP U_6MGW",emptyListImage:"t_C",loadingContainer:"T_dRK W_6D6F p_R",errorContainer:"je_74JI W_6D6F t_C A_6FsP",listLoadingRetry:"S_U r_P",container:"W_6D6F H_6D6F"},"themeMode-DARK":{emptyListText:"C_52qC",errorContainer:"C_52qC",listLoadingRetry:"C_52qC"}},_key:"ZKdmn0"}},81660:(e,t,s)=>{"use strict";s.d(t,{Wo:()=>i,GQ:()=>c,Kq:()=>d,UU:()=>u,IX:()=>E});var a=s(67294),n=(s(37422),s(95406));(0,n.gP)(["TIMECHUNK"]);const r=(0,n.gP)(["LEFT","CENTER","RIGHT","NONE"]),o=/^\^_+|\^_+$/g;function i(e,t){let s=-1;if(t&&e){const t=e.indexOf("^_");if(-1!==t){s=t/e.length}}return s>.66?r.RIGHT:s>.33?r.CENTER:s>=0?r.LEFT:r.NONE}function l(e){return e.split(/(\^_[^^]*?\^_)/g)}function c(e=null,t,s){return e&&t?function(e,t){return l(e).map((function(e){return 0===e.indexOf("^_")?a.createElement("span",{key:e,className:t,"data-test-id":"highlight"},e.replace(o,"")):e}))}(e,s):e}function d(e,t,s){if(e&&t&&s){return c(_(t,e,!1,"^_"),!0,s)}return e}function E(e=null){if(e){return l(e).map((function(e){return 0===e.indexOf("^_")?e.replace(o,""):e})).join("")}return e}function _(e,t,s,a){const n=(e=e.trim()).length;let r=t;if(0===n)return t;s||(r=r.toLowerCase(),e=e.toLowerCase());const o=r.indexOf(e,0);return o>-1&&(t=t.slice(0,o)+a+t.slice(o,o+n)+a+t.slice(o+n)),t}function u(e,t,s,a){if(!e)return s;return c(_(t,s,!1,"^_"),!0,a)}},3115:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(9333),l=s(76531),c=s(18768),d=s.n(c),E=s(76223),_=s.n(E);const u=(0,o.defineMessages)({close:{id:"shortcut.close",defaultMessage:"Close the keyboard shortcut cheatsheet"},headerText:{id:"shortcuts.header",defaultMessage:"Keyboard Shortcuts"}});function m({headerText:e,showSubheader:t,onClose:s},a){const{formatMessage:n}=a.intl,c=_()(d(),{[`${a.getTheme()}`]:!0});return r.createElement("header",{className:c.header},r.createElement("div",{className:c.text},"string"==typeof e?r.createElement("div",{className:c.heading,"aria-label":e},e):r.createElement("div",{className:c.heading,"aria-label":n(e)},r.createElement(o.FormattedMessage,e)),t?r.createElement("div",{className:c.subheading},r.createElement(o.FormattedMessage,{id:"shortcuts.open_close",defaultMessage:"Press '?' to open this window"})):null),r.createElement("div",null,r.createElement("div",null,r.createElement(i.default,{onClick:s,kind:l.Kinds.CLOSE,size:l.Sizes.XS,colorState:l.ColorStates.INVERTED,title:n(u.close)}))))}m.defaultProps={showSubheader:!0,headerText:u.headerText},m.contextTypes={intl:o.intlShape,getTheme:n().func}},88950:e=>{"use strict";e.exports={className:{default:{container:"s_3Lic3 H_HMYSt k_w I_52qC D_F ek_BB ab_FT",cheatContent:"P_1EutVf U_72FG D_F ek_BB en_N ej_0 em_N",keysetContainer:"iz_A W_6D6F em_N ej_0",header:"en_0",filterSection:"en_0"}},_key:"ZIdXmv"}},18768:e=>{"use strict";e.exports={className:{default:{header:"D_F ab_C W_6D6F k_w C_52qC aw_Z1Skzn2 P_nzg7u",text:"em_N D_F ek_BB ab_CI",heading:"A_6FsP u_b U_fq7",subheading:"A_6Eb4"},ATT:{header:"aw_ZvJQac"},FRONTIER:{header:"aw_Z21mNgp"},ROGERS:{header:"aw_cqhYR"},BT:{header:"aw_fyCuS"},SKY:{header:"aw_2i3i9C"},AOL:{header:"aw_1vEUx2"},DEFAULT:{header:"aw_Z1oGKIG"},SUNRISE:{header:"aw_j5A3N"},AQUA_GREEN:{header:"aw_Z1T7bEq"},AQUA_BLUE:{header:"aw_lYTmB"},DEEP_PURPLE:{header:"aw_Z2r9M2j"},BLUE_NIGHT:{header:"aw_ZhWBiv"},DARK_GREY:{header:"aw_cqhYR"},NIGHT_LANDSCAPE:{header:"aw_Z1wLEpd"},ROADTRIP:{header:"aw_Z1DvGqD"},SUNSET_AUSSIE:{header:"aw_1bjVkK"},LIGHTHOUSE:{header:"aw_4GXi2"}},_key:"2eB7u3"}},70808:e=>{"use strict";e.exports={className:{default:{twoColumnList:"D_F ha_n P_0 gl_FM eo_HB o_h M_1A1TYO",column:"em_N en_N s_3rRhf",spacer:"ej_6LEV en_0",sectionContainer:"U_6TFj",sectionHeading:"A_6EWk C_Z281SGl U_6Fd5",listView:"hd_n X_0"},searching:{twoColumnList:"ek_BB"}},_key:"2iQpu0"}},96464:e=>{"use strict";e.exports={className:{default:{keyRow:"D_F ab_C M_3Y3Gk em_N",description:"A_6Eb4 C_Z281SGl E_fq7"}},_key:"ZVMVx3"}},60919:e=>{"use strict";e.exports={className:{default:{searchContainer:"H_6UbO M_1JP1a2 p_R",input:"W_6D6F H_6D6F k_w li_6UbO y_Z2hYGcu",magnifying:"p_a L_0 T_0 cZW7ROP_n H_6D6F D_F ab_C P_3gJOe"}},_key:"Z1k3R3K"}},97845:e=>{"use strict";e.exports={className:{default:{delimit:"M_3gJOe A_6DUj",keyGroups:"D_F",keyGroup:"D_F ab_C",vertical:"D_F ek_BB ab_CI",key:"A_6DUj i_6DUj I_ZnkeaL j_Z11lovb y_2tAGiz H_6FIA P_3gJOe k_w e_dRA J_x D_F ab_C",marginTop:"Y_fq7"}},_key:"Z132g0I"}},98907:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",attachmentIcon:"D_F"}},_key:"OgOlY"}},73744:e=>{"use strict";e.exports={className:{default:{attachmentsCarouselContainer:"D_F H_3mT4V P_3gIMd",attachmentsPopoverContainer:"D_F P_1Eu5U7",attachmentItem:"P_V9iAe M_3gIgH r_P"}},_key:"vDuNx"}},35567:(e,t,s)=>{"use strict";s.d(t,{Z:()=>Ce});var a=s(45697),n=s.n(a),r=s(67294),o=s(92743),i=s(99095),l=s(3405),c=s(31280),d=s(37422),E=s(31057),_=s(73924),u=s(79159),m=s(78737),S=s(549),p=s(89963),C=s(9333),A=s(56148),T=s(43007),h=s(67498),g=s(61330),I=s(26453),R=s(11160),O=s(31509),D=s(18030),N=s(65304),f=s(10728),M=s(85927),L=s(78263);const P=(0,o.connect)(((e,{messageId:t,listId:s})=>{const{doesMessageIdExist:a,getMessageSnippet:n,getMessageSubject:r,getAttachmentsByMessageId:o,getMessageFlags:i}=(0,M.selectors)(e),l=a(t),c=o(t);return{isLoaded:l,flags:l?i(t):{},attachments:c,contentType:(0,E.WN)(s),subject:l?r(t):"",snippet:l?n(t):""}}),((e,{listId:t,onClose:s})=>{const a=(0,L.BA)([t]);return{onCancel:({i13nModel:t})=>{e((0,u.Ht)({i13nModel:t})),s()},onDeleteMessage:({i13nModel:n,groupId:r,messageId:o})=>{e((0,u.CV)({conversations:!1,streamId:a,i13nModel:n,streamItem:{id:r,messageIds:[o],listId:(0,E.tE)(t,{listContentType:d.F6k.MESSAGES}),isAffected:!0},triageActionType:d.Ewo.DELETE_SELECTED_ITEMS})),s()}}}));var y=s(28182),b=s(26),F=s(17016),U=s(92559),v=s(76531),w=s(18722),G=s.n(w),k=s(76223),H=s.n(k);function B(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const x=H()(G()),V=(0,i.defineMessages)({delete_message_warning:{id:"delete_preview.delete_message_warning",defaultMessage:"Delete the message containing this {contentType, select, IMAGES {photo} DOCUMENTS {document} other {attachment}}?"},delete_message_button:{id:"delete_preview.delete_message_button",defaultMessage:"Delete message"},delete_warning_tooltip:{id:"delete_preview.delete_warning_tooltip",defaultMessage:"To delete this {contentType, select, IMAGES {photo} DOCUMENTS {document} other {attachment}}, the message it’s attached to and any other attachments below must also be deleted."},view_original:{id:"delete_preview.view_message",defaultMessage:"View original message"},cancel:{id:"confirm.cancel",defaultMessage:"Cancel"},close:{id:"confirm.close",defaultMessage:"Close"},info:{id:"confirm.info",defaultMessage:"Information"}});class W extends r.Component{constructor(...e){super(...e),B(this,"handleDeleteMessage",(e=>{e.stopPropagation(),this.props.onDeleteMessage({i13nModel:{interactionType:(0,F.getInteractionFromEvent)(e),mKey:this.props.contentType===d.F6k.IMAGES?U.JE.PHOTO_MESSAGE_DELETE:U.JE.DOC_MESSAGE_DELETE,sec:this.props.contentType===d.F6k.IMAGES?U.nJ.PHOTO_LIST:U.nJ.DOC_LIST},messageId:this.props.messageId,groupId:this.props.groupId})})),B(this,"handleClose",(e=>{e.stopPropagation(),this.props.onCancel({i13nModel:{interactionType:(0,F.getInteractionFromEvent)(e),mKey:this.props.contentType===d.F6k.IMAGES?U.JE.PHOTO_DELETE_PREVIEW_CLOSE:U.JE.DOC_DELETE_PREVIEW_CLOSE,sec:this.props.contentType===d.F6k.IMAGES?U.nJ.PHOTO_LIST:U.nJ.DOC_LIST}})})),B(this,"navigateToMessage",(e=>{e.stopPropagation(),e.preventDefault();const{listId:t,groupId:s,messageId:a,attachments:n}=this.props;let r,o;if(s)r=(0,l.m9)(t,s);else{if(!n.find((e=>(o=e.csid,e.csid))))return;r=(0,l.Rl)(o,{})}this.context.navigateTo({hashParams:{messageId:a},route:r,i13nModel:{interactionType:(0,F.getInteractionFromEvent)(e),mKey:this.props.contentType===d.F6k.IMAGES?U.JE.PHOTO_DELETE_PREVIEW_READ_MSG:U.JE.DOC_DELETE_PREVIEW_READ_MSG,mKeyGroup:U.rO.openMsg,sec:this.props.contentType===d.F6k.IMAGES?U.nJ.PHOTO_LIST:U.nJ.DOC_LIST}}),this.props.onClose()})),B(this,"renderAttachments",(()=>{const{attachments:e,subject:t}=this.props,s={headers:{subject:t}};return e&&e.length?r.createElement(I.ZP,{attachments:e,readOnly:!0,allowDownload:!1,mayContainVirus:!1,message:s,onAttachmentPreview:this.navigateToMessage,shouldShowSpamAttachmentWarning:!1,allowInline:!0,isCompact:!0}):null}))}render(){const{formatMessage:e}=this.context.intl,t={margin:"16px 8px 16px 0"},{isLoaded:s,subject:a,snippet:n,flags:o,contentType:i}=this.props;return r.createElement(p.Z,{onClose:this.handleClose},r.createElement("div",{className:x.container,"data-test-id":"delete-preview-dialog"},r.createElement("div",{className:x.header},r.createElement("div",{className:x.heading},r.createElement(T.Z,{kind:v.Kinds.EXCLAMATION_ALT,size:v.Sizes.XS,colorState:v.ColorStates.WARNING,title:e(V.close),"aria-label":e(V.close)}),r.createElement("div",{className:x.title,"data-test-id":"title"},e(V.delete_message_warning,{contentType:i})),r.createElement("div",{className:x.info},r.createElement(R.Z,{className:x.popoverContainer},r.createElement(O.Z,null,r.createElement("div",{className:x.popoverAnchor},r.createElement(A.Z,{kind:v.Kinds.INFO,size:v.Sizes.XS,colorStates:{normal:v.ColorStates.SECOND_LEVEL_GRAY,hovered:v.ColorStates.TOUCH_PRIMARY},className:x.spacing,"aria-label":e(V.info),paddingLess:!0}))),r.createElement(D.ZP,{ignorePointerEvents:!0,permittedArrowDirections:[N.Ji.UP],isArrowVisible:!0,triggerOn:N.K2.HOVER,align:N.xM.START,zAltitude:f.LSY.MODAL,offset:12},r.createElement("div",{className:x.tooltip},e(V.delete_warning_tooltip,{contentType:i})))))),r.createElement("div",{className:x.close},r.createElement(C.default,{onClick:this.handleClose,kind:v.Kinds.CLOSE,size:v.Sizes.XS,title:e(V.close),"aria-label":e(V.close),"data-test-id":"close-btn"}))),r.createElement("div",{className:x.messageContent,"data-test-id":"mail-content"},s?r.createElement("div",{className:x.content},r.createElement("div",{className:x.subject,"data-test-id":"subject"},a),r.createElement("div",{className:x.msgHeader},r.createElement(g.ZP,{conversations:!1,message:{id:this.props.messageId,flags:o},expanded:!0,idx:0,onToggleRead:()=>{},onToggleStar:()=>{},isOnModal:!0,onAttachmentClick:()=>{}})),r.createElement("div",{className:x.snippet,"data-test-id":"snippet"},n),r.createElement("div",{className:x.attachments},this.renderAttachments())):r.createElement("div",{className:x.spinner},r.createElement(b.Z,null))),r.createElement("div",{className:x.controls},r.createElement("div",{className:x.buttonContainer},r.createElement(h.Z,{onClick:this.handleDeleteMessage,style:t,"data-test-id":"delete-btn"},e(V.delete_message_button)),r.createElement(h.Z,{onClick:this.handleClose,kind:y.F.SECONDARY,style:t,"data-test-id":"cancel-btn"},e(V.cancel))),r.createElement("div",{className:x.viewMessageContainer},r.createElement("a",{onClick:this.navigateToMessage,className:x.viewMessage,"data-test-id":"view-link"},e(V.view_original))))))}}B(W,"contextTypes",{intl:i.intlShape.isRequired,navigateTo:n().func.isRequired});const Z=P(W);var K=s(24659),z=s.n(K),q=s(18446),Y=s.n(q),j=s(99691),Q=s(30814);function X(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const J=(0,i.defineMessages)({read:{id:"photo.grid.read_message",defaultMessage:"Read message"},download:{id:"photo.grid.download",defaultMessage:"Download"},forward:{id:"photo.grid.forward",defaultMessage:"Forward"},delete:{id:"photo.grid.delete",defaultMessage:"Delete"}}),$=e=>{e.preventDefault(),e.stopPropagation()};class ee extends r.Component{constructor(e){super(e),X(this,"state",{hovered:!1}),X(this,"handleHover",(e=>{this.setState({hovered:e})})),X(this,"handleAttachmentPreviewOpen",(e=>{$(e);const{attachment:t,item:s,onAttachmentPreviewOpen:a}=this.props;a({i13nModel:{interactionType:U.Rb.click,mKey:U.JE.PHOTO_OPEN,sec:U.nJ.PHOTO_LIST},attachment:t,attachmentMessageId:s.messageGroupId||s.messageId,previewable:s.previewable})})),X(this,"handleMessageOpen",(e=>{$(e);const{attachment:t,messageRoute:s,item:a,onMessageOpen:n}=this.props;n({i13nModel:{interactionType:U.Rb.click,mKey:U.JE.PHOTO_READ_MSG,mKeyGroup:U.rO.openMsg,sec:U.nJ.PHOTO_LIST},attachment:t,messageRoute:s,messageId:a.messageId||a.messageGroupId})})),X(this,"handleDownloadClick",(e=>{$(e);const{attachment:t,onAttachmentDownload:s}=this.props;s({attachment:t,i13nModel:{interactionType:U.Rb.click,mKey:U.JE.PHOTO_DOWNLOAD,sec:U.nJ.PHOTO_LIST,mKeyGroup:U.rO.dwnldAttmnt}})})),X(this,"handleMessageDelete",(()=>{const{item:e,onMessageDelete:t}=this.props,s={interactionType:U.Rb.click,mKey:U.JE.PHOTO_DELETE_PREVIEW_OPEN,sec:U.nJ.PHOTO_LIST};t({messageId:e.messageId,messageGroupId:e.messageGroupId,i13nModel:s})})),X(this,"handleForward",((e,t)=>{const{attachment:s,onForwardAttachments:a}=this.props,n={mKey:U.JE.PHOTO_SHARE,mKeyGroup:U.rO.composeMsg,sec:U.nJ.PHOTO_LIST,interactionType:U.Rb.click};a({route:t,payload:{csid:e,attachments:s?[{...s,disposition:d.sSc.Dispositions.INLINE}]:[],i13nModel:n}})})),this.photoItem=r.createRef()}componentDidUpdate(e){this.props.active&&!e.active&&this.photoItem.current.focus()}render(){const{attachment:e,messageRoute:t,active:s,isBriefView:a}=this.props,{formatMessage:n}=this.context.intl,{thumbnailUrl:o,filename:i,downloadUrl:l,conversationId:c}=e,d=!!c,E=H()(z(),{isMessageDeleteEnabled:d,isBriefView:a});return r.createElement("div",{tabIndex:s?f.iUz.MESSAGE_LIST_MAIN:-1,className:E.photoGrid+" photo-list-item","data-test-id":"photo-list-item",role:"button",onClick:this.handleAttachmentPreviewOpen,onMouseOver:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),"aria-label":i,title:i,ref:this.photoItem},r.createElement("div",{className:E.photoItemImg,style:{backgroundImage:`url(${(0,j.gu)(o,f.oqp)})`},"data-test-id":"photo-item-img"}),r.createElement("div",{className:E.photoOverlay}),this.state.hovered&&!a?r.createElement("div",{className:E.iconContainer,onClick:e=>$(e)},t&&c?r.createElement("div",{className:E.photoActionBtn},r.createElement("a",{"data-test-id":"icon-btn-open-message",href:this.context.getUrlFromRoute(t),onClick:this.handleMessageOpen,rel:"noopener"},r.createElement(A.Z,{title:n(J.read),kind:v.Kinds.INBOX,size:v.Sizes.XS,colorStates:{normal:v.ColorStates.INVERTED_LESS_DIM,hovered:v.ColorStates.INVERTED}}))):null,r.createElement("div",{className:E.photoActionBtn},r.createElement("a",{"data-test-id":"icon-btn-download-photo",href:l,onClick:this.handleDownloadClick,rel:"noopener"},r.createElement(A.Z,{title:n(J.download),kind:v.Kinds.DOWNLOAD,size:v.Sizes.XS,colorStates:{normal:v.ColorStates.INVERTED_LESS_DIM,hovered:v.ColorStates.INVERTED}}))),d?r.createElement("div",{className:E.photoActionBtn,onClick:this.handleMessageDelete,"data-test-id":"icon-btn-delete-msg"},r.createElement(A.Z,{title:n(J.delete),kind:v.Kinds.DELETE,size:v.Sizes.XS,colorStates:{normal:v.ColorStates.INVERTED_LESS_DIM,hovered:v.ColorStates.INVERTED}})):null,r.createElement("div",{className:E.forwardButton+" "+E.rtlRawScaleX},r.createElement(Q.Z,{"data-test-id":"icon-btn-forward-photo",onForward:this.handleForward}))):null)}}X(ee,"defaultProps",{isBriefView:!1}),X(ee,"contextTypes",{intl:i.intlShape,getUrlFromRoute:n().func.isRequired});const te=(0,o.connect)(((e,t)=>{const{item:s,listId:a,streamId:n}=t,{getAttachmentsSelectors:r,isFeatureEnabled:o,doesStreamExist:i,getCursorItem:c}=(0,M.selectors)(e),{getAttachmentById:E}=r(),_=o(d.ANe.CONVERSATIONS),u=E(s.id),m=(0,l.F6)({attachment:u,listId:a,isConversationMode:_}),S=i(n)&&c(n)||{};return{attachment:u,messageRoute:m,active:S.id===s.id&&S.listId===s.listId}}),void 0,void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&Y()(e.attachment,t.attachment)&&e.active===t.active})(ee);var se=s(32481),ae=s.n(se),ne=s(94766),re=s(28211),oe=s(87195),ie=s(81660),le=s(9026);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function de(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ee=(0,i.defineMessages)({openMessage:{id:"document.item.open_message",defaultMessage:"Open Message"},openLink:{id:"document.item.open_link",defaultMessage:"Open the link"},download:{id:"document.item.download",defaultMessage:"Download"},forward:{id:"document.item.forward",defaultMessage:"Forward Document"},delete:{id:"document.item.delete",defaultMessage:"Delete message"}}),_e=e=>{e.preventDefault(),e.stopPropagation()};class ue extends r.Component{constructor(e){super(e),de(this,"state",{hovered:!1}),de(this,"handleHover",(e=>{this.setState({hovered:e})})),de(this,"handleAttachmentPreviewOpen",(e=>{_e(e);const{onAttachmentPreviewOpen:t,attachment:s,item:a}=this.props;t({i13nModel:{interactionType:U.Rb.click,mKey:U.JE.DOC_OPEN,sec:U.nJ.DOC_LIST},attachment:s,attachmentMessageId:a.messageGroupId||a.messageId,previewable:a.previewable})})),de(this,"renderAttachmentIcon",(e=>{const{attachment:t}=this.props;return r.createElement(ne.Z,ce({},t,{isInverted:e}))})),de(this,"handleMessageOpen",(e=>{_e(e);const{attachment:t,item:s,messageRoute:a,onMessageOpen:n}=this.props;n({i13nModel:{interactionType:U.Rb.click,mKey:U.JE.DOC_READ_MSG,mKeyGroup:U.rO.openMsg,sec:U.nJ.DOC_LIST},attachment:t,messageRoute:a,messageId:s.messageId||s.messageGroupId})})),de(this,"handleDownloadClick",(e=>{_e(e);const{onAttachmentDownload:t,attachment:s}=this.props;t({i13nModel:{mKey:U.JE.DOC_OPEN_LINK,sec:U.nJ.DOC_LIST,interactionType:U.Rb.click},attachment:s})})),de(this,"handleMessageDelete",(e=>{_e(e);const{onMessageDelete:t,item:s}=this.props;t({i13nModel:{interactionType:U.Rb.click,mKey:U.JE.DOC_DELETE_PREVIEW_OPEN,sec:U.nJ.DOC_LIST},messageGroupId:s.messageGroupId,messageId:s.messageId})})),de(this,"handleForward",((e,t)=>{const{onForwardAttachments:s,attachment:a}=this.props;s({route:t,payload:{csid:e,attachments:a?[a]:[],i13nModel:{mKey:U.JE.DOC_SHARE,mKeyGroup:U.rO.composeMsg,sec:U.nJ.DOC_LIST,interactionType:U.Rb.click}}})})),de(this,"renderActions",(e=>{const{messageRoute:t,attachment:s}=this.props,{formatMessage:a}=this.context.intl;return r.createElement("div",{className:e.documentAction,onClick:e=>_e(e)},t&&s.conversationId?r.createElement("div",{className:e.documentActionBtn},r.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-open-message",title:a(Ee.openMessage),href:this.context.getUrlFromRoute(t),onClick:this.handleMessageOpen},r.createElement(T.Z,{kind:v.Kinds.INBOX,size:v.Sizes.XS,colorState:v.ColorStates.INHERITED}))):null,r.createElement("div",{className:e.documentActionBtn},r.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-download-document",href:s.downloadUrl,target:s.isExternal?"_blank":null,title:a(s.isExternal?Ee.openLink:Ee.download),download:s.name,onClick:this.handleDownloadClick},r.createElement(T.Z,{kind:s.isExternal?v.Kinds.LINK:v.Kinds.DOWNLOAD,size:v.Sizes.XS,colorState:v.ColorStates.INHERITED}))),r.createElement("div",{className:e.documentActionBtn},r.createElement(C.default,{"data-test-id":"icon-btn-delete",onClick:this.handleMessageDelete,kind:v.Kinds.DELETE,size:v.Sizes.XS,title:a(Ee.delete),colorState:v.ColorStates.INHERITED,paddingLess:!0})),r.createElement("div",{className:e.forwardButton+" "+e.rtlRawScaleX},r.createElement(Q.Z,{"data-test-id":"icon-btn-forward-document",onForward:this.handleForward,colorStates:{normal:v.ColorStates.INHERITED,hovered:v.ColorStates.INHERITED}})))})),de(this,"renderDateTime",(e=>{const{attachment:t}=this.props,s=new Date(t.creationDate);return r.createElement("div",{className:e.documentTimeStamp,title:s.toLocaleString(this.context.intl.locale)},r.createElement(re.ZP,{date:s}))})),this.documentItem=r.createRef()}componentDidUpdate(e){this.props.active&&!e.active&&this.documentItem.current.focus()}render(){const{getCss:e,getThemeMode:t}=this.context,{attachment:s,messageSubject:a,active:n,isBriefView:o,documentPreviewEnabled:i}=this.props,l=t(),c=l===le.zg.DARK,d=l!==le.zg.LIGHT&&o,E=e(ae(),{isDarkThemeMode:c,isDarkBriefView:d}),_=s.size&&(0,oe.Xx)(s.size);return r.createElement("div",{className:E.documentContainer+" document-list-item",onMouseOver:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),onClick:i?this.handleAttachmentPreviewOpen:this.handleMessageOpen,tabIndex:n?f.iUz.MESSAGE_LIST_MAIN:-1,"data-test-id":"document-list-item",ref:this.documentItem},this.renderAttachmentIcon(c),r.createElement("div",{className:E.documentInfo},r.createElement("span",{className:E.filename,title:s.filename,"data-test-id":"filename"},s.filename),_?r.createElement("span",{className:E.filesize,title:_,"data-test-id":"filesize"},_):null,r.createElement("div",{className:E.messageSubject,title:(0,ie.IX)(a),"data-test-id":"file-message-subject"},r.createElement("span",null,(0,ie.GQ)(a,!0,E.highlightSearchTerm)))),this.state.hovered&&!o?this.renderActions(E):null,this.renderDateTime(E))}}de(ue,"defaultProps",{isBriefView:!1}),de(ue,"contextTypes",{intl:i.intlShape,getUrlFromRoute:n().func,getThemeMode:n().func,getCss:n().func});const me=(0,o.connect)(((e,t)=>{const{item:s,streamId:a}=t,{listId:n,id:r}=s,{getAttachmentsSelectors:o,isFeatureEnabled:i,doesMessageIdExist:c,getMessageSubject:E,doesStreamExist:_,getCursorItem:u}=(0,M.selectors)(e),{getAttachmentById:m}=o(),S=i(d.ANe.CONVERSATIONS),p=i(d.ANe.DOCUMENT_PREVIEW),C=m(r),A=(0,l.F6)({attachment:C,listId:n,isConversationMode:S}),T=c(s.messageId)?E(s.messageId,n):void 0,h=_(a)&&u(a)||{};return{listId:n,attachment:C,messageRoute:A,messageSubject:T,active:h.id===s.id&&h.listId===s.listId,documentPreviewEnabled:p}}),void 0,void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&Y()(e.attachment,t.attachment)&&e.active===t.active})(ue);function Se(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class pe extends r.Component{constructor(...e){super(...e),Se(this,"handleAttachmentPreviewOpen",(({i13nModel:e,attachment:t,attachmentMessageId:s,previewable:a})=>{const{onOpenAttachmentLink:n,listId:r}=this.props;if(!a)return n({i13nModel:e}),void window.open(t.downloadUrl,"_blank");this.props.navigateToRoute({route:(0,l.Sk)(r,s,t.id,{fullscreen:"1"}),itemId:t.id,i13nModel:e})})),Se(this,"handleMessageOpen",(({i13nModel:e,attachment:t,messageRoute:s,messageId:a})=>{this.props.navigateToRoute({route:s,hashParams:{messageId:a},itemId:t.id,i13nModel:e,full:!0})})),Se(this,"handleDownloadClick",(({i13nModel:e,attachment:t})=>{const{onAttachmentDownload:s}=this.props;s({attachment:t,i13nModel:e})})),Se(this,"renderDeletePreview",(({messageId:e,messageGroupId:t})=>{(0,S.C)(r.createElement(Z,{listId:this.props.listId,messageId:e,groupId:t}),this.context)})),Se(this,"handleMessageDelete",(({i13nModel:e,messageGroupId:t,messageId:s})=>{const{listId:a,onDeleteMessage:n}=this.props;n({messageId:s,messageGroupId:t,listId:a,i13nModel:e}),this.renderDeletePreview({messageId:s,messageGroupId:t})})),Se(this,"handleForward",(({route:e,payload:t})=>{this.props.onOpenComposeView({...t,route:e})}))}render(){const{listId:e,item:t,streamId:s,isBriefView:a}=this.props,n=t.listContentType||(0,E.WN)(e);return r.createElement("div",{"data-test-id":"attachment-list-item"},n===d.F6k.IMAGES?r.createElement(te,{item:t,listId:e,streamId:s,isBriefView:a,onAttachmentPreviewOpen:this.handleAttachmentPreviewOpen,onMessageOpen:this.handleMessageOpen,onAttachmentDownload:this.handleDownloadClick,onMessageDelete:this.handleMessageDelete,onForwardAttachments:this.handleForward}):r.createElement(me,{item:t,listId:e,streamId:s,isBriefView:a,onAttachmentPreviewOpen:this.handleAttachmentPreviewOpen,onMessageOpen:this.handleMessageOpen,onAttachmentDownload:this.handleDownloadClick,onMessageDelete:this.handleMessageDelete,onForwardAttachments:this.handleForward}))}}Se(pe,"defaultProps",{isBriefView:!1}),Se(pe,"contextTypes",{navigateTo:n().func.isRequired,intl:i.intlShape.isRequired,executeAction:n().func,config:n().object,getStore:n().func.isRequired,store:n().object.isRequired,timezone:c.TimezoneType,getTheme:n().func.isRequired,getThemeMode:n().func.isRequired,getCss:n().func.isRequired,appId:n().string.isRequired});const Ce=(0,o.connect)(void 0,(e=>({onOpenAttachmentLink(t){e((0,_.AV)(t))},onAttachmentDownload({attachment:t,i13nModel:s}){e((0,_.Ve)({attachment:t,i13nModel:s}))},onDeleteMessage(t){e((0,u.xF)(t))},navigateToRoute(t){e((0,m.Ch)(t))},onOpenComposeView:t=>e((0,m.Hg)(t))})))(pe)},1349:e=>{"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_ZPBfWW k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC p_R",filterItem:"I_T b_n W_6D6F i_6DEy D_B C_q r_q y_q u_q P_1Eu7sD A_6EqO it_dRA D33_B dq33_Z1WN6IG u33_b H33_0 C33_T o33_h v33_h",tabs:"P_2iGizO M_0 m_Z14vXdP D_F",categoryFilterContainer:"D_F p_a T_6Eb4 R_6LEV P_fQq0A I_ZnIF8Y e_dRA",categoryFilterAnchor:"D_F ab_C",categoryFilterAnchorLabel:"A_6EqO r_P",categoryFilterCheckIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",categoryFilterLabel:"Q_6Eb4"},"themeMode-DARK":{heading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",tabs:"m_Z6DFj8",categoryFilterContainer:"I_sgPuT"}},_key:"1rdjIP"}},32481:e=>{"use strict";e.exports={className:{default:{documentContainer:"I_T W_6D6F D_F k_w ab_C p_R o_h P_Z2rzCvT H_7ceA r_P I3_1I4z5p it3_689y I4_1I4yPF",documentInfo:"J_x o_h F_N P_fQoXz",documentTimeStamp:"P_23Qdjg",filename:"A_6EqO C_Z281SGl a_3rlLf J_x o_h G_e",filesize:"P_3gJOe A_6DUj C_Z1TsNbA D_X",messageSubject:"A_6EqO C_Z1TsNbA J_x o_h G_e",documentAction:"r_BN P_fQoXz",documentActionBtn:"D_X P_1Eu5U7 cdPFi_Z1WBuqm cdPFi4_Z2aVTcY",documentActionLink:"D_X",forwardButton:"D_X P_ZUD9Kb h_Z2uKmny cdPFi_Z1WBuqm cdPFi4_Z2aVTcY",highlightSearchTerm:"I_2ieea9 D_X P_3zDxc",rtlRawScaleX:"rtlR_h_2gl0WC"},isCompactLayout:{documentContainer:"r_P P_0",filename:"D_X a_6D6F"},isDarkThemeMode:{documentContainer:"C_2sqbRh is_26ISAR cZdTOHS_ZXgLQ3 I3_1YEmYj I4_ZFyHXD",messageSubject:"C_2sqbQg",highlightSearchTerm:"I_2sqbPK",forwardButton:"cdPFi_2sqbRh cdPFi4_52qC",documentActionBtn:"cdPFi_2sqbRh cdPFi4_52qC",filename:"C_52qC"},isDarkBriefView:{filename:"C_52qC",documentContainer:"C_2sqbRh is_26ISAR cZdTOHS_ZXgLQ3 I3_1YEmYj I4_ZFyHXD"}},_key:"Z28cXLs"}},521:e=>{"use strict";e.exports={className:{default:{documentsViewHeader:"ab_C k_w D_F ek_EZ H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",documentsViewTitle:"A_6FsP u_dPo D_F gl_C em_N",sortMenuContainer:"E_eo6"},"themeMode-DARK":{documentsViewHeader:"I_T m_ZYfFSw C_52qC cdPFi_52qC"}},_key:"11JDPt"}},12076:e=>{"use strict";e.exports={className:{default:{draftIndicator:"J_x A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"}},_key:"RjUyN"}},82406:e=>{"use strict";e.exports={className:{default:{counter:"C_52qC en_0 P_3gJiI e_fFR A_6DUj I_Z2aVTcY O_N D_X",dragIcon:"Z_3n0uA cdPFi_Z281SGl"}},_key:"ZVfm6W"}},8205:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>N});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(92743),l=s(25244),c=s(34866),d=s(92110),E=s(68949),_=s(37422),u=s(92559),m=s(9026),S=s(31057),p=s(95406),C=s(3405),A=s(85927),T=s(3226),h=s.n(T),g=s(62631),I=s(20561);function R(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const O=(0,o.defineMessages)({flights_no_upcoming:{id:"empty_results.flights_no_upcoming",defaultMessage:"No upcoming flights"},flights_empty_desc:{id:'empty_results.flights_empty_desc"',defaultMessage:"Connect another mailbox to see all of your {viewType, select, TRAVEL_VIEW_UPCOMING {upcoming} TRAVEL_VIEW_PAST {past}} flights in one place"},flights_no_past:{id:"empty_results.flights_no_past",defaultMessage:"No past flights"},add_a_mailbox:{id:"empty_results.add_a_mailbox",defaultMessage:"Add a mailbox"},coupons_empty_heading:{id:"empty_results.coupons_empty_heading",defaultMessage:"No deals found"},coupons_empty_desc:{id:"empty_results.coupons_empty_desc",defaultMessage:"Connect another mailbox to see all of your deals in one place"},receipts_empty_heading:{id:"empty_results.receipts_empty_heading",defaultMessage:"Have receipts in another email account?"},receipts_empty_desc:{id:"empty_results.receipts_empty_desc",defaultMessage:"Get your order confirmations organized in one place and we can help you save on purchases."},offers_empty_heading:{id:"empty_results.offers_empty_heading",defaultMessage:"Oops"},retailers_empty_desc:{id:"empty_results.retailers_empty_desc",defaultMessage:"Unable to load your deals. Please try later"},offers_empty_desc:{id:"empty_results.offers_empty_desc",defaultMessage:"No deals available"},product_empty_desc:{id:"empty_results.product_empty_desc",defaultMessage:"No products available"},empty_list_alt:{id:"empty_results.empty_list_alt",defaultMessage:"No items"},sync_message:{id:"sync_folder_message",defaultMessage:"We're syncing your mailbox."}});class D extends r.Component{constructor(...e){super(...e),R(this,"renderAddMailbox",(()=>{const e=this.context.getCss(h()),{formatMessage:t}=this.context.intl;return r.createElement("div",{className:e.addMailbox},r.createElement(I.Z,{"data-test-id":"add-mailbox",className:e.addMailboxLink,i13nModel:{mKey:u.JE.SETTINGS_LEFT_RAIL_ACCOUNTS,sec:this.sec},route:(0,C.Tx)({settingsGroupId:_.u5h.ACCOUNTS})},t(O.add_a_mailbox)))}))}render(){const{listId:e,retailerTotalNumber:t,isAccountSyncing:s,isGroceryWithProduct:a}=this.props,n=(0,S.C4)(e),i=(0,S.WN)(e),{formatMessage:p}=this.context.intl,C=this.context.getThemeMode(),A=this.context.getCss(h(),{moreDescriptionPadding:i===_.F6k.COUPON_CARDS,themeMode:C});switch(i){case _.F6k.TRAVEL_CARDS:return this.sec=u.nJ.TRAVEL_LIST,r.createElement("div",{className:A.container,"data-test-id":"empty-results"},s?r.createElement("div",{className:A.subContainer,"data-test-id":"sync-travel-results"},r.createElement("div",null,r.createElement("img",{"data-test-id":"sync-img",src:n===_.ukn.TRAVEL_VIEW_UPCOMING?(0,E.A)("/img/flights_upcoming.png"):(0,E.A)("/img/flights_past.png"),"aria-hidden":!0,className:A.travelImage})),r.createElement("div",{className:A.syncMessage},r.createElement("div",null,p(O.sync_message)),r.createElement("div",{className:A.syncWaitMessage},r.createElement(o.FormattedMessage,{id:"sync_upcoming_travel_wait_message",defaultMessage:"Check back soon to see your travel."})))):r.createElement("div",{className:A.subContainer},r.createElement("div",null,r.createElement("img",{"data-test-id":"empty-img",src:n===_.ukn.TRAVEL_VIEW_UPCOMING?(0,E.A)("/img/flights_upcoming.png"):(0,E.A)("/img/flights_past.png"),className:A.travelImage})),r.createElement("div",{className:A.heading,"data-test-id":"empty-heading"},n===_.ukn.TRAVEL_VIEW_UPCOMING?p(O.flights_no_upcoming):p(O.flights_no_past)),r.createElement("div",{className:A.description,"data-test-id":"empty-desc"},p(O.flights_empty_desc,{viewType:n})),this.renderAddMailbox()));case _.F6k.COUPON_CARDS:return this.sec=u.nJ.COUPONS_LIST,r.createElement("div",{className:A.container,"data-test-id":"empty-results"},s?r.createElement("div",{className:A.subContainer,"data-test-id":"sync-coupons-results"},r.createElement("div",null,r.createElement("img",{"data-test-id":"sync-img",src:(0,E.A)("/img/sync_deals_1x.png"),srcSet:(0,E.A)("/img/sync_deals_2x.png"),"aria-hidden":!0,className:A.couponImage})),r.createElement("div",{className:A.syncMessage},r.createElement("div",null,p(O.sync_message)),r.createElement("div",{className:A.syncWaitMessage},r.createElement(o.FormattedMessage,{id:"sync_coupon_wait_message",defaultMessage:"Check back soon to see your coupons."})))):r.createElement("div",{className:A.subContainer},r.createElement("div",null,r.createElement("img",{"data-test-id":"empty-img",src:C===m.zg.DARK?(0,E.A)("/img/coupon_emptystate_dark.png"):(0,E.A)("/img/coupon_emptystate_light.png"),className:A.couponImage})),r.createElement("div",{className:A.heading,"data-test-id":"empty-heading"},p(O.coupons_empty_heading)),r.createElement("div",{className:A.description,"data-test-id":"empty-desc"},p(O.coupons_empty_desc)),this.renderAddMailbox()));case _.F6k.REFUND_CARDS:return r.createElement("div",{className:A.container,"data-test-id":"empty-results"},s?r.createElement("div",{className:A.subContainer,"data-test-id":"sync-receipts-results"},r.createElement("div",null,r.createElement("img",{"data-test-id":"sync-img",src:(0,E.A)("/img/receipt_empty_state.png"),"aria-hidden":!0,className:A.receiptImage})),r.createElement("div",{className:A.syncMessage},r.createElement("div",null,p(O.sync_message)),r.createElement("div",{className:A.syncWaitMessage},r.createElement(o.FormattedMessage,{id:"sync_receipts_wait_message",defaultMessage:"Check back soon to see your receipts."})))):r.createElement("div",{className:A.subContainer},r.createElement("div",null,r.createElement("img",{"data-test-id":"empty-img",src:(0,E.A)("/img/receipt_empty_state.png"),className:A.receiptImage})),r.createElement("div",{className:A.heading,"data-test-id":"empty-heading"},p(O.receipts_empty_heading)),r.createElement("div",{className:A.description,"data-test-id":"empty-desc"},p(O.receipts_empty_desc)),this.renderAddMailbox()));case _.F6k.OFFER_CARDS:{const e=i===_.F6k.OFFER_CARDS,n=(0,E.A)("/img/grocery_empty_state.png"),l=(0,E.A)("/img/grocery_background.png"),c=a?O.product_empty_desc:O.offers_empty_desc;return r.createElement("div",{className:e?A.offersContainer:A.container,"data-test-id":"empty-results"},s?r.createElement("div",{className:A.subContainer,"data-test-id":"sync-offer-results"},r.createElement("div",null,r.createElement("img",{"data-test-id":"sync-img",src:n,"aria-hidden":!0,className:A.emptyImage}),r.createElement("img",{src:l,"aria-hidden":!0,className:A.groceryBackgroundImage})),r.createElement("div",{className:A.syncMessage},r.createElement("div",null,p(O.sync_message)),r.createElement("div",{className:A.syncWaitMessage},r.createElement(o.FormattedMessage,{id:"sync_offer_wait_message",defaultMessage:"Check back soon to see your offers."})))):r.createElement("div",{className:A.subContainer},r.createElement("div",null,r.createElement("img",{"data-test-id":"empty-img",src:n,className:A.emptyImage}),r.createElement("img",{src:l,className:A.groceryBackgroundImage})),r.createElement("div",{className:e?A.offersHeading:A.heading,"data-test-id":"empty-heading"},e?"":p(O.offers_empty_heading)),r.createElement("div",{className:A.groceryDescription,"data-test-id":"empty-desc"},p(e&&t>0?c:O.retailers_empty_desc,{retailerName:this.props.retailerName}))))}case _.F6k.IMAGES:return r.createElement("div",{className:A.container,"data-test-id":"empty-results"},s?r.createElement("div",{className:A.subContainer,"data-test-id":"sync-photo-results"},r.createElement("div",null,r.createElement("img",{"data-test-id":"sync-img",src:(0,E.A)("/img/sync_photos_1x.png"),srcSet:(0,E.A)("/img/sync_photos_2x.png"),"aria-hidden":!0,className:A.documentImage})),r.createElement("div",{className:A.syncMessage},r.createElement("div",null,p(O.sync_message)),r.createElement("div",{className:A.syncWaitMessage},r.createElement(o.FormattedMessage,{id:"sync_photos_wait_message",defaultMessage:"Check back soon to see your photos."})))):r.createElement("div",{className:A.subContainer,"data-test-id":"list-result-empty"},r.createElement(c.Z,null),r.createElement("div",{className:A.emptyListText,"data-test-id":"empty-list-message"},r.createElement(o.FormattedMessage,{id:"empty_photos_result",defaultMessage:"There are no Photos!"})),r.createElement("div",{className:A.emptyListImage},r.createElement(d.Z,{kind:l.F.EMPTY_FOLDER,width:160,height:160,altText:p(O.empty_list_alt)})),r.createElement(c.Z,null)));case _.F6k.DOCUMENTS:return r.createElement("div",{className:A.container,"data-test-id":"empty-results"},s?r.createElement("div",{className:A.subContainer,"data-test-id":"sync-documents-results"},r.createElement("div",null,r.createElement("img",{"data-test-id":"sync-img",src:(0,E.A)("/img/sync_documents_1x.png"),srcSet:(0,E.A)("/img/sync_documents_2x.png"),"aria-hidden":!0,className:A.documentImage})),r.createElement("div",{className:A.syncMessage},r.createElement("div",null,p(O.sync_message)),r.createElement("div",{className:A.syncWaitMessage},r.createElement(o.FormattedMessage,{id:"sync_documents_wait_message",defaultMessage:"Check back soon to see your documents."})))):r.createElement("div",{className:A.subContainer,"data-test-id":"list-result-empty"},r.createElement(c.Z,null),r.createElement("div",{className:A.emptyListText,"data-test-id":"empty-list-message"},r.createElement(o.FormattedMessage,{id:"empty_documents_result",defaultMessage:"There are no documents!"})),r.createElement("div",{className:A.emptyListImage},r.createElement(d.Z,{kind:l.F.EMPTY_FOLDER,width:160,height:160,altText:p(O.empty_list_alt)})),r.createElement(c.Z,null)));case _.F6k.SENDERS:case _.F6k.MESSAGES:return r.createElement("div",{className:A.container,"data-test-id":"empty-results"},s?r.createElement("div",{className:A.subContainer,"data-test-id":"sync-documents-results"},r.createElement("div",null,r.createElement("img",{"data-test-id":"sync-img",src:(0,E.A)("/img/sync_message_1x.png"),srcSet:(0,E.A)("/img/sync_message_2x.png"),"aria-hidden":!0,className:A.syncInboxImage})),r.createElement("div",{className:A.syncMessage},r.createElement("div",null,p(O.sync_message)),r.createElement("div",{className:A.syncWaitMessage},r.createElement(o.FormattedMessage,{id:"sync_inbox_wait_message",defaultMessage:"Check back soon to see your messages."})))):r.createElement("div",{className:A.subContainer,"data-test-id":"list-result-empty"},r.createElement(c.Z,null),r.createElement("div",{className:A.emptyListText,"data-test-id":"empty-list-message"},r.createElement(o.FormattedMessage,{id:"empty_results.search_result_empty",defaultMessage:"Nothing to see here!"})),r.createElement("div",{className:A.emptyListImage},r.createElement(d.Z,{kind:l.F.EMPTY_FOLDER,width:160,height:160,altText:p(O.empty_list_alt)})),r.createElement(c.Z,null)))}return null}}R(D,"contextTypes",{getCss:n().func,intl:o.intlShape.isRequired,getThemeMode:n().func});const N=(0,i.connect)(((e,{listId:t})=>{const{getRetailersSelectors:s,getAccountById:a,getSelectedAccountId:n,isFeatureEnabled:r}=(0,A.selectors)(e),{getRetailersFromRetailerIds:o,getTotalNumberOfRetailers:i,isRetailerLinkable:l}=s(),c=(0,S.h_)(t)||"",d=o([c]),E=(0,p.u9)(d,"0.displayName",""),u=i(),m=a(n());return{retailerName:E,retailerTotalNumber:u,isAccountSyncing:(0,g.hE)(m),isGroceryWithProduct:r(_.ANe.GROCERIES)&&!l(c)}}))(D)},3226:e=>{"use strict";e.exports={className:{default:{container:"D_F em_N gl_C ab_C W_6D6F H_6D6F",offersContainer:"D_F em_N gl_C ab_C W_6D6F H_6D6F",subContainer:"D_F em_N ek_BB ab_C gl_C W_3v9Wb a_3v9Wb",syncMessage:"Y_6MGW C_Z1VRqsb t_C",syncWaitMessage:"Y_eo6",syncInboxImage:"W_3v9Wb H_3nH9d",documentImage:"W_3zlCJ H_3o4BO",travelImage:"W_3v9Wb H_3nxAj",couponImage:"W_3zlCJ H_3o4BO",receiptImage:"W_3s13S H_3n37k",offerImage:"W_3s13S H_3n9zb",emptyImage:"W_3n93F H_3n93F p_a X_7yHc",groceryBackgroundImage:"W_3s13S H_3n13i",heading:"D_F gl_C t_C A_6FsP u_e69 i_6MGW P_28NWDt C_Z1YRXYn",offersHeading:"D_F gl_C t_C A_6FsP u_e69 i_6MGW P_28NWDt C_Z1YRXYn",description:"A_6EqO i_6FIA gl_C t_C C_Z1YRXYn",groceryDescription:"A_6EqO i_6CCW t_C C_Z1YRXYn",addMailbox:"je_6DEy",addMailboxLink:"C_Z2aVTcY A_6EqO i_6FIA",emptyListContainer:"D_F em_N ek_BB p_R T_e5X h_ZBOl0O",emptyListText:"t_C A_6FsP U_6MGW",emptyListImage:"t_C"},moreDescriptionPadding:{heading:"je_72FG"},"themeMode-DARK":{offersContainer:"q_52qC",heading:"C_2sqbRh",description:"C_2sqbRh",emptyListText:"C_52qC"}},_key:"JIbYp"}},39959:e=>{"use strict";e.exports={className:{default:{quotientPill:"D_F ab_C W_3nhzy H_6MGW r_P e_dRA b_0 M_Z1kkfxo I_2iee8C C_Z2aVTcY cdPFi_Z2aVTcY C4_Z29WjXl cdPFi4_Z29WjXl",quotientPillText:"y_Z2hYGcu A_6DUj u_b",unusualDiscountPill:"D_F ab_C r_BN J_Z1e9hjJ M_Z1kkfxo",unusualDiscountPillText:"D_F ab_C W_7ILB H_6DUj y_Z2hYGcu A_fFR u_b gp_1Fq47g C_Z2dsdRj"},isDarkNotHovered:{quotientPill:"I_sgPuo",unusualDiscountPillText:"C_Z29fFBt"},isLightHovered:{quotientPill:"I_ZsMVh3"},isDarkHovered:{quotientPill:"I_sgPuT C4_52qC cdPFi4_52qC",unusualDiscountPillText:"C_Z29fFBt"}},_key:"Z1FwwPc"}},64681:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",forwardIcon:"cAll3f_0 cAll3M_T cAll3x_0 cAll3N_P cAll33_F cZ1QVRpD_0 cZ1QVRrR_C cAll30_0 cAll3m_6LEV cZ2hFlUN_ZpQYvz cZjAtd1_Z1gAvbx",indicator:"Q_e8l"},isDarkThemeMode:{forwardIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"Z1Uazq6"}},47228:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB en_0",heading:"D_F p_R gl_C ab_C A_6FsP P_2cgFyC k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC",helper:"D_F gl_C ab_C A_6Eb4 r_P E_e8l",backButton:"p_a L_6LEV W_7Ig6 r_P",summaryRow:"D_F m_Z1lusya",sortByMenu:"D_F ab_C y_Z2hYGcu X_eo6 A_6EqO cdPFi_Z1RVMOO u_N C_Z281SGl C4_Z2aVTcY cdPFi4_Z2aVTcY",infoTextCategories:"D_F p_a R_dm5 ab_C A_6Eb4 C_Z281SGl y_Z2hYGcu E_7iGr",infoTextMain:"D_F p_a R_dm5 ab_C A_6Eb4 C_Z281SGl y_Z2hYGcu E_eo6",sortText:"D_F p_a R_dm5 ab_C A_6Eb4 C_Z281SGl y_Z2hYGcu E_fam",print:"D_F ab_C M_3gJOe",pContent:"D_F ek_BB P_1d6dau",helpContainer:"D_F ab_C gl_C P_Z2a4wQg r_P C4_Z2aVTcY",helpContainerForSearch:"D_F ab_C gl_C P_Z2a4wQg r_P C4_Z2aVTcY",text:"A_6EqO X_eo6",keywordText:"v_h E_36Kzj",body:"r_P jb_6Fd5 C4_Z2aVTcY",sortByMenuItemIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",sortByMenuItemLabel:"X_6Eb4",popoverListWrapper:"P_3Y3Gk",selectStoreContainer:"D_F ab_C A_6EqO C_Z281SGl r_P"},smartView:{groceryViewHeading:"gl_C"},"themeMode-DARK":{groceryViewHeading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",summaryRow:"I_52qC"}},_key:"xBDVe"}},68594:e=>{"use strict";e.exports={className:{default:{container:"D_F W_6D6F ab_C m_Z14vXdP",cardContainer:"D_F ab_C W_3vOuz P_1UqRsG",imageContainer:"D_F ab_C gl_C em_0 P_1DLYDz",image:"W_7aVO H_7aVO e_e5X",messageContainer:"D_F ek_BB em_N A_6EGz P_0",loyaltyInfo:"D_F ek_EZ",overlayContainer:"W_0",overlay:"q_Z1WGv5u O_6uA1 e_e5X W_7aVO H_7aVO h_ZE8tA5",hide:"D_n",retailer:"A_6FsP u_b",loyaltyNumber:"A_6DUj N_eo6",link:"A_6DUj C_Z2aVTcY r_P",store:"A_6EqO C_Z2aVTcY r_P",selectStoreContainer:"D_F",separator:"H_7iGr M_Z1E2XDm n_Z14vXdP",otherStoresContainer:"D_F ek_BB gl_C",otherStoresTitle:"A_6EqO C_Z1YRXYn",otherStoresImages:"D_F ab_C r_P",otherImageContainer:"D_F ab_C gl_C P_E8xte",otherImage:"W_6UbO H_6UbO e_e5X",groceryWithProduct:"W_3rSz1 C_Z20JEyO H_6TV4 A_6EqO",otherOverlay:"q_Z1WGv5u O_6uA1 e_e5X W_6UbO H_6UbO h_ZEgtX5",moreStoresContainer:"e_6Fd5 b_10bFUn C_Z1VRqsb A_6EqO P_Z2rzCvT J_Z1e9hjJ",selectedAddress:"A_6EqO C_Z1WBuqm",changeStore:"A_6EqO r_P C_Z2aVTcY W_7zdH"}},_key:"Z1VUk46"}},11761:e=>{"use strict";e.exports={className:{default:{headerBar:"D_F gl_FM M_1WRUln",title:"u_b",expand:"C_Z2aVTcY r_P",imgContainer:"D_F M_1BsbBk",block:"c2wuFny_Ldxq9 ba_3nb7H e_fq7 r_P H_3nb7H E_fq7 p_R s_3nb7H",name:"B_eo6 C_52qC u_b L_eo6 p_a"}},_key:"1anavS"}},86423:(e,t,s)=>{"use strict";s.d(t,{K:()=>c,Z:()=>d});var a=s(92743),n=s(85927),r=s(18247),o=s(31057),i=s(3405),l=s(37422);const c=(e,t)=>{const{streamId:s}=t,{getAttachmentIdsByMessageId:a,getAttachmentById:c,getMessageIdsFromMessageGroupId:d,getMessagesSelectors:E,getSubjectAndSnippetSelectors:_,getFoldersSelectors:u,doesStreamExist:m,doesMessageBodyExist:S,getCursorItem:p,isStreamItemSelected:C,isFeatureEnabled:A,getSetting:T,getRouteName:h,getAccountSelectors:g,getAccountIdByFolderId:I,getMessageGroupParticipantsInfo:R,getMessageFlags:O,getMessageFolderId:D,isDraftFolder:N,getMessageCsid:f,isPermDeleteFolderType:M,getCouponsSelectors:L,getCategoryFollowingSelectors:P,getCardGroupsSelectors:y,getCardConversationIdByMessageId:b,hasSelectedStreamItems:F,getStorefrontBrandsSelectors:U,isStorefrontRoute:v,isTrashMessage:w,isSpamMessage:G,enableSmartReply:k}=(0,n.selectors)(e),{groupId:H,listId:B,relevantMessageId:x,recentMessageId:V,firstMessageId:W}=t,Z=g(),{getPrimaryFolderTypeByFolderId:K}=u(),{getSubject:z,getSnippet:q}=_(),{shouldNudgeToReply:Y,isOfficialDomain:j,isCertifiedDomain:Q}=E(),X=d(H),J=(0,o.Fh)(B),$=J?K(J):void 0,ee=!A(l.ANe.CONVERSATIONS),te=m(s)&&p(s)||{},se={id:H,listId:B},ae=$===l.Sck.INBOX,ne=m(s)&&F(s),re=!!ne&&C(s,se),oe=te.id===se.id&&te.listId===se.listId,ie=re||oe&&!ne;let le=!1,ce=!1,de=!1,Ee=!0,_e=!1,ue=!1,me=[],Se="";X.forEach((e=>{const t=O(e),s=D(e);t.answered&&(le=!0,ce=!1),t.forwarded&&(le=!1,ce=!0),t.flagged&&(de=!0),t.read||(Ee=!1),ue=ue||N(s)}));const pe=D(x),Ce=I(pe),Ae=X[X.length-1],Te=k(H,Ae),{isCategoryFollowed:he,isCategoryListLoaded:ge}=P(),Ie=Z.getAccountDescriptionByAccountId(Ce),Re=Z.getProviderFromAccount(Ce),Oe=A(l.ANe.RSVP),De=1===X.length&&N(pe)?(0,i.fq)(t.listId,f(X[0])):(0,i.m9)(t.listId,t.groupId);let Ne=!0;A(l.ANe.NUDGE_TO_REPLY_ELIGIBLE)&&A(l.Zrf.NUDGE_TO_REPLY_SETTING)&&(_e=Y(Ae)&&!w(Ae)&&!G(Ae)&&!O(Ae).answered,_e&&(Ne=!1));const{doesDealExist:fe,getUnusualDiscount:Me,getCouponCategoriesForMessageGroup:Le}=L(),Pe=Le(H);if(ae&&S(Ae)+ge()>=[l.ANe.DEALS,l.ANe.UNUSUAL_DISCOUNT].filter((e=>A(e))).length&&(Ne&&A(l.ANe.SHOW_USER_FOLLOWED_CATEGORIES)&&(me=Pe.filter((e=>he(e.id))),me.length>0&&(Ne=!1)),Ne&&A(l.ANe.UNUSUAL_DISCOUNT))){const{getMessageIdsFromCardGroupId:e}=y(),t=(e(b(x))||[]).filter((e=>fe(e))).find((e=>!!Me(e)));t&&(Se=Me(t))}const ye={};if(v()){var be;const{getAllStorefrontBrands:e}=U(),t=e();ye.currentBrandId=(0,o.Yy)(B),ye.currentBrandPosition=t.findIndex((e=>e.brandId===ye.currentBrandId)),ye.currentBrandBadge=null===(be=t[ye.currentBrandPosition])||void 0===be?void 0:be.newDealsCount}return{messageIds:X,subject:z(W||x,B),snippet:q(V||x,B),isRead:Ee,isReplied:le,isForwarded:ce,isStarred:de,getParticipantsInfo:()=>R(H,B),active:oe,selected:re,showHighlightColor:ie,isOfficialDomain:j(x),isCertifiedDomain:Q(x),showSnippets:A(l.Zrf.SNIPPETS),messageListDensity:T(l.Zrf.MSG_LIST_DENSITY),listItemHeight:T(l.Zrf.LIST_ITEM_HEIGHT),isSpam:$===l.Sck.BULK,hasDraft:ue,showContactSearch:(e=[])=>1===((0,r.ln)(e)||[]).length&&1===X.length&&!(0,o.lG)(B),showSubjectSearch:ee,showDestinationLabel:()=>h()===l.n8z.SEARCH,productCategoryList:me,folderId:pe,getAttachments:()=>{const e=X.reduce(((e,t)=>e.concat(a(t).map(c))),[]).filter((({filename:e})=>e)),t=e.map((e=>e.filename+e.size));return e.filter((({filename:e,size:s},a)=>a===t.indexOf(e+s)))},accountProvider:Re,accountDescription:Ie,rsvpEnabled:Oe,messageRoute:De,permanentDelete:!!J&&M(J),showNudgeToReply:_e,unusualDiscount:Se,fullGPTCategoryList:Pe,isStorefrontRoute:v(),currentStorefrontBrand:ye,showSmartReply:Te}},d=(0,a.connect)(c,void 0,void 0,{areStatePropsEqual:(e,t)=>e.messageIds===t.messageIds&&e.folderId===t.folderId&&e.isRead===t.isRead&&e.isReplied===t.isReplied&&e.isForwarded===t.isForwarded&&e.isStarred===t.isStarred&&e.tabIndex===t.tabIndex&&e.selected===t.selected&&e.active===t.active&&e.listItemHeight===t.listItemHeight&&e.showNudgeToReply===t.showNudgeToReply&&e.brandId===t.brandId&&e.productCategoryList.length===t.productCategoryList.length&&!!e.unusualDiscount==!!t.unusualDiscount})},81680:e=>{"use strict";e.exports={className:{default:{container:"r_P p_R D_F A_6FIA i_6LEV",check:"k_w D_F ab_CI gl_C P_Pmuoy",checkbox:"P_Z1S5Ugg",starButtonStyle:"P_0",attachmentIcon:"D_F ek_BB gl_CH i_0",gridB1:"H_6D6F P_2v4Pah k_w D_F ek_BB W_6LEV Q_689y",participants:"o_h J_x G_AY",dateWrapper:"s_7jIs M_3gJOe A_6DUj i_6FIA D_F gl_CH C_Z281SGl",message:"em_N D_F ek_BB gl_CI o_h N_eo6",senderRow:"D_F gl_FM je_fq7",groupSection:"D_F o_h a_e91",bottomRight:"D_F J_x a_faw gl_FM",infoGroup:"D_F o_h ek_BB",subject:"A_6EqO i_6FIA J_x",snippet:"A_6EqO i_6FIA C_Z1YRXYn J_x G_e",messageCount:"D_X P_3gJiI Q_fq7 e_fFR A_6DUj i_6FIA I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"J_x C_ZnTFMv s_6NIX A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69 Q_fq7",senders:"D_F o_h G_e en_N ab_CI A_6EqO i_6FIA",highlightedTerm:"I_2ieea9 D_X P_3zDxc",trashIconContainer:"D_F gl_C ab_C",ybadgeIcon:"P_0 W_6LEV H_6LEV D_F ab_C gl_C",trustedIcon:"P_0 W_6LEV H_6LEV D_F ab_C gl_C",readIcon:"d_6LEV",extractedInfo:"A_6EqO",contactSearchIcon:"Y_67SN"},"isRead-false":{subject:"u_Z13VSE6",participants:"u_Z13VSE6",participantSolo:"u_Z13VSE6"},hasJustOneMessage:{messageCount:"W_0 O_0"},hasAttachment:{attachmentIcon:"s_6LEV M_3gJOe"},"themeMode-DARK":{highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y",selected:"I_iJ8JF I4_iJ8JF"},useTouchTargets:{check:"Q_eo6 W_6UbO gl_FO I_T",message:"N_74JI",starIcon:"p_a B_dRA R_eo6"},"msgListDensity-1":{gridB1:"je_eo6",check:"je_dm5",senderRow:"H_6FYl je_eo6",starButtonStyle:"Y_67SN",subject:"Y_dRA"},"msgListDensity-2":{senderRow:"H_6FYl je_fam",subject:"Y_dRA"},"msgListDensity-3":{message:"i_6LEV",subject:"i_6LEV",snippet:"i_6LEV",check:"je_eo6",gridB1:"je_fq7",senders:"i_6LEV",messageCount:"P_Z1Felua"}},_key:"Z1f7g5L"}},50214:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C bn_dBP bm_FJ bj_ZpQYvz p_R o_h X_eo6",check:"W_6EGz H_6EGz q_ZpQYvz M_1F09u0",gridB1:"D_F H_6D6F a_3vhr3 em_pG ej_0",gridB2:"D_F o_h H_6D6F em_tK ej_0 ek_BB Y_6EqO",senderRow:"D_F H_6Eb4 gl_FM W_f7Y",sender:"q_ZpQYvz W_elI H_6Eb4 e_3mS2U D_B",date:"q_ZpQYvz W_djH H_6Eb4 e_3mS2U D_B",subject:"q_ZpQYvz W_f7Y H_6Eb4 e_3mS2U D_B Y_6DEy",snippet:"q_ZpQYvz W_f7Y H_6Eb4 e_3mS2U D_B Y_fq7"},isDarkMode:{container:"bj_ajP6C",check:"q_7l9bL",sender:"q_7l9bL",subject:"q_7l9bL",snippet:"q_7l9bL",date:"q_7l9bL"}},_key:"ZaEokR"}},64732:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C p_R A_6EqO i_6FIA o_h X_eo6",check:"en_0 i_0 E_689y Z_f8a k_w",readIcon:"M_SkAgv",ybadgeIcon:"P_0 M_SkAgv W_6LEV H_6LEV D_F en_0 em_0 ab_C gl_C",trustedIcon:"P_0 M_SkAgv W_6LEV H_6LEV D_F en_0 em_0 ab_C gl_C",attachmentIcon:"s_6LEV en_0 i_0 M_3gJOe",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",participants:"o_h J_x G_AY em_N",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj C_Z281SGl",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_3ixhM o_h a_6D6F D_F ab_C",subject:"en_N",snippetContainer:"Q_fq7 en_qh",snippet:"C_Z1YRXYn",highlightedTerm:"P_3zDxc",messageCount:"en_0 P_3gJiI Q_fq7 I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"en_0 s_6NIX Q_fq7 C_ZnTFMv",messageDestinationLabel:"M_3gJOe W_7yHc en_0",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",iconB2:"p_R D_F ek_EZ ab_C H_6D6F",extractedInfo:"s_CD"},"isRead-false":{subject:"u_Z13VSE6",participants:"u_Z13VSE6",participantSolo:"u_Z13VSE6"},hasJustOneMessage:{messageCount:"W_0 O_0"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"},showSubjectSearchAndHovered:{subjectContainer:"a_1BBI71",subjectSearchIcon:"Q_68F4 E_69H5"},activateDarkThemeMode:{container:"C_ZnIF8Y",highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y"}},_key:"Z2rWrxa"}},11388:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C bn_dBP bm_FJ bj_ZpQYvz p_R o_h X_eo6",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",sender:"q_ZpQYvz W_elI H_6Eb4 e_3mS2U D_B M_1FEVlA",subject:"q_ZpQYvz W_eRe H_6Eb4 e_3mS2U D_B M_1FEOne",date:"q_ZpQYvz W_d3W H_6Eb4 e_3mS2U D_B M_1FEoi4"},isDarkMode:{container:"bj_ajP6C",sender:"q_7l9bL",subject:"q_7l9bL",snippet:"q_7l9bL",date:"q_7l9bL"}},_key:"Z2lUwhw"}},93603:e=>{"use strict";e.exports={className:{default:{link:"D_B bn_dBP bm_FJ bj_ZpQYvz I4_1I4yPF",highlight:"I_1I4z5p",active:"p_R",contextMenuAnchor:"p_a",contextMenuContainer:"s_3qWeB"},activateDarkThemeMode:{link:"C_ZpQYvz bj_ajP6C is_26ISAR cZdTOHS_ZXgLQ3 I4_1YEmYj",highlight:"I_ZFyHXD"}},_key:"ZF7G2H"}},74960:e=>{"use strict";e.exports={className:{default:{tabs:"P_1g7oPJ M_0 m_Z14vXdP D_F"},"themeMode-DARK":{tabs:"m_Z6DFj8"}},_key:"Z12uiOC"}},6330:(e,t,s)=>{"use strict";s.d(t,{Nd:()=>C,dL:()=>A,fz:()=>T});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(44278),l=s(37422),c=s(9026),d=s(3029),E=s.n(d),_=s(92559),u=s(79483);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const S=(0,o.defineMessages)({deal_separator_all:{id:"deal_separator_all",defaultMessage:"Deals from your inbox"},timechunk_str_today:{id:"timechunk_str_today",defaultMessage:"Today"},timechunk_str_yesterday:{id:"timechunk_str_yesterday",defaultMessage:"Yesterday"},timechunk_str_this_week:{id:"timechunk_str_this_week",defaultMessage:"This week"},timechunk_str_last_week:{id:"timechunk_str_last_week",defaultMessage:"Last week"},timechunk_str_this_month:{id:"timechunk_str_this_month",defaultMessage:"Earlier in {message}"},timechunk_str_this_year:{id:"timechunk_str_this_year",defaultMessage:"Earlier in {message}"},timechunk_str_days:{id:"timechunk_str_days",defaultMessage:"{weekday, select, 0 {Sunday} 1 {Monday} 2 {Tuesday} 3 {Wednesday} 4 {Thursday} 5 {Friday} 6 {Saturday}}"},timechunk_str_months:{id:"timechunk_str_months",defaultMessage:"{month, select, 0 {January} 1 {February} 2 {March} 3 {April} 4 {May} 5 {June} 6 {July} 7 {August} 8 {September} 9 {October} 10 {November} 11 {December}}"},linked_stores_separator:{id:"linked_stores_separator",defaultMessage:"Your stores"},recommended_stores_separator:{id:"recommended_stores_separator",defaultMessage:"Recommended for you"},unlinked_stores_separator:{id:"unlinked_stores_separator",defaultMessage:"More stores"},single_store_separator:{id:"single_store_separator",defaultMessage:"Deals for you"},single_store_product_separator:{id:"single_store_product_separator",defaultMessage:"Suggested for you"}}),p=l.tdP.Types;class C extends r.PureComponent{render(){const{type:e,value:t,context:s,style:a,timeZone:n}=this.props,{formatMessage:i,formatDate:l}=s.intl,d=s.getCss(E(),{...a,isDarkThemeMode:s.getThemeMode()===c.zg.DARK,isTimechunk:!0});let _=null;switch(e){case p.DAY:_=i(S.timechunk_str_days,{weekday:t});break;case p.MONTH:case p.THIS_MONTH:_=i(S.timechunk_str_months,{month:t});break;case p.THIS_YEAR:case p.YEAR:_=l(t,{year:"numeric",timeZone:n})}const u=e?S["timechunk_str_"+e.toLowerCase()]:null;let C=null;return C=u?r.createElement(o.FormattedMessage,m({},u,{values:{message:_}})):_,r.createElement("div",{className:d.container,"data-test-id":"time-chunk-separator"},C)}}class A extends r.PureComponent{componentDidMount(){const e={featurefamily:l.lMo.IC,slot:_.KJ.COUPON_SMART_VIEW,xpname:l.pdX.COUPON_SMART_VIEW_COUPON_LIST_ITEM};u.ZP.sendI13nModel({i13nModel:{mKey:_.JE.CARD_VIEW,sec:_.nJ.COUPONS_LIST,actionData:e}})}render(){const{context:e,value:t}=this.props,{formatMessage:s}=e.intl,a=0===t,n=e.getCss(E(),{isDarkThemeMode:e.getThemeMode()===c.zg.DARK,flex:a,couponSeparator:!0}),o=(0,c.$o)({context:e,includeMedium:!1});return r.createElement("div",{className:n.container,"data-test-id":"coupon-separator"},r.createElement("span",{className:n.couponHeader},s(S.deal_separator_all)),a&&r.createElement("span",{className:n.partnerAttributionIcon},r.createElement(i.ZP,{isOnDarkBackground:o})))}}class T extends r.PureComponent{render(){const{isGroceryWithProduct:e}=this.props,{formatMessage:t}=this.context.intl,s=this.context.getCss(E(),{black:!0,noDivider:!0,extraMarginInfoText:!0,grocerySeparator:!0});return r.createElement("div",{className:s.container,"data-test-id":"single-store-separator"},r.createElement("span",{className:s.infoText},t(e?S.single_store_product_separator:S.single_store_separator)))}}T.contextTypes={intl:o.intlShape.isRequired,getCss:n().func.isRequired,getThemeMode:n().func.isRequired}},3029:e=>{"use strict";e.exports={className:{default:{container:"H_6UbO k_w X_fq7 C_Z1YRXYn A_6EqO u_b",listDivider:"W_6D6F H_dRA I_ZpQYvz M_Z3ND8M",couponHeader:"u_b C_Z281SGl E_eo6 A_6EWk"},shadow:{container:"I_52qC j_1OUMqq"},leftPadded:{container:"X_6MGW"},stickyTimechunk:{container:"X_6MGW U_dRA"},fixedInTravelCard:{container:"X_6MGW"},gray:{container:"D_F ab_C I_ZnIF8Y A_6EGz i_6FIA u_N C_Z1VRqsb N_6Fd5 X_6Fd5 je_0 m_Z14vXdP"},black:{container:"C_Z281SGl"},longAndWideDivider:{container:"je_0 X_0 U_6Fd5",listDivider:"H_eo6 U_6LEV"},noDivider:{container:"je_0 X_0 Y_6Fd5",listDivider:"H_eo6 U_6LEV",infoText:"Q_6Fd5"},extraMarginInfoText:{infoText:"Q_6LEV"},spacedHeader:{container:"je_6LEV U_fq7"},isDarkThemeMode:{container:"I_T C_52qC",listDivider:"I_ajOPR",couponHeader:"C_52qC"},flex:{container:"D_F ab_C gl_FM"},couponSeparator:{container:"gl_BZ"},isTimechunk:{container:"D_F ab_C"},grocerySeparator:{container:"H_82XEY Y_6TFj"}},_key:"ZGtoPP"}},75018:e=>{"use strict";e.exports={className:{default:{container:"q_52qC D_F ab_C gl_C H_7ceA"},"themeMode-DARK":{container:"q_T"}},_key:"Z1ACwUA"}},10769:e=>{"use strict";e.exports={className:{default:{loadingBar:"W_6D6F H_dRA h_1BKo3v Z_qc p_a I_Z2aVTcY ah_5h53M",loadingBarEnd:"W_6D6F h_ZEpajT H_dRA Z_qc p_a I_Z2aVTcY ah_1MDq3I"},"themeMode-DARK":{loadingBar:"I_ZamTeg",loadingBarEnd:"I_ZamTeg"}},_key:"Z1veHIG"}},46533:e=>{"use strict";e.exports={className:{default:{messageCount:"e_fFR A_6DUj",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"}},_key:"2bOBil"}},44526:e=>{"use strict";e.exports={className:{default:{messageDestinationLabel:"o_h J_x G_e"}},_key:"Z24rH8W"}},44865:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},close:{id:"close",defaultMessage:"Close"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"},list_filter_from:{id:"list.filter_from",defaultMessage:"From"},list_filter_to:{id:"list.filter_to",defaultMessage:"To"},list_filter_all:{id:"list.filter_all",defaultMessage:"All"},list_delete_title:{id:"list.confirm_delete_title",defaultMessage:"Delete message"},list_delete_message:{id:"list.confirm_delete_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} to Trash?"},list_perm_delete_message:{id:"list.confirm_permanently_delete_messages",defaultMessage:"Are you sure you want to permanently delete {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},list_bulk_delete_message:{id:"list.confirm_bulk_delete_messages",defaultMessage:"Are you sure you want to delete {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},list_archive_title:{id:"list.confirm_archive_title",defaultMessage:"Archive message"},list_archive_message:{id:"list.confirm_archive_messages",defaultMessage:"Are you sure you want to archive all {conversations, select, true {conversations} false {messages}}?"},list_move_title:{id:"list.confirm_move_title",defaultMessage:"Move message"},list_move_message:{id:"list.confirm_move_messages",defaultMessage:"Are you sure you want to move all {conversations, select, true {conversations} false {messages}}?"},list_spam_title:{id:"list.confirm_spam_title",defaultMessage:"Spam message"},list_spam_message:{id:"list.confirm_spam_messages",defaultMessage:"Are you sure you want to mark all {conversations, select, true {conversations} false {messages}} as spam?"},list_mark_read_bulk_title:{id:"list_mark_read_bulk_title",defaultMessage:"Mark messages read"},list_mark_read_bulk_messages:{id:"list_mark_read_bulk_messages",defaultMessage:"Are you sure you want to mark all {conversations, select, true {conversations} false {messages}} as read?"},list_mark_unread_bulk_title:{id:"list_mark_unread_bulk_title",defaultMessage:"Mark messages unread"},list_mark_unread_bulk_messages:{id:"list_mark_unread_bulk_messages",defaultMessage:"Are you sure you want to mark all {conversations, select, true {conversations} false {messages}} unread?"},list_mark_starred_bulk_title:{id:"list_mark_starred_bulk_title",defaultMessage:"Star messages"},list_mark_starred_bulk_messages:{id:"list_mark_starred_bulk_messages",defaultMessage:"Are you sure you want to star all {conversations, select, true {conversations} false {messages}}?"},list_mark_unstarred_bulk_title:{id:"list_mark_unstarred_bulk_title",defaultMessage:"Unstar messages"},list_mark_unstarred_bulk_messages:{id:"list_mark_unstarred_bulk_messages",defaultMessage:"Are you sure you want to clear the star from all {conversations, select, true {conversations} false {messages}}?"}})},42698:e=>{"use strict";e.exports={className:{default:{container:"ab_C k_w D_F ek_EZ H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",leftHalfContainer:"D_F gl_FM",rightHalfContainer:"D_F em_N",leftGrid:"D_F ab_C",mainActionControls:"D_F em_N gl_C",selectionControlsWrapper:"D_F Q_6EGz",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 r_n cZW7ROP_n",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",disabledItem:"O_6uB4",usabiltyOptions:"D_F t_r",closeWrapper:"O_6uB4 cdPFi4_Z2aVTcY",listFilterViewMenu:"D_F en_0",listFilterMenu:"D_F ab_C y_Z2hYGcu X_6FIA A_6EqO lo_AT cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",popoverListWrapper:"P_3Y3Gk",viewMenu:"jb_eo6 M_bKltR",expandCollapse:"M_0 cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",actionListDefault:"hd_n D_F ab_C M_0 P_0 r_n cZW7ROP_n",actionListActive:"hd_n D_F ab_C r_BN cZW7ROP_A",toolbarItem:"M_1MYwXA cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",toolbarItemWithLabel:"M_1MYwXA",toolbarItemDisabled:"M_1MYwXA cdPFi_Z1RVMOO C_Z1RVMOO r_n O_6uB4 cZW7ROP_n",hiddenItem:"W_6NIX H_6NYI v_h"},"previewpane-1":{cboxWrapper:"ej_d70",viewMenu:"t_r ej_d70 E_0 jb_0",singleGroupActions:"Q_fq7",mainActionControls:"em_N",sortMenuContainer:"N_6MGW"},"previewpane-2":{container:"gl_FM",viewMenu:"Q_fq7"},groupActionsActive:{singleGroupActionList:"hd_n D_F ab_C r_BN cZW7ROP_A",closeWrapper:"O_N"},activateDarkThemeMode:{container:"I_T m_ZYfFSw C_52qC cdPFi_52qC",toolbarItem:"M_1MYwXA cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",toolbarItemDisabled:"M_1MYwXA cdPFi_ZpQYvz C_ZpQYvz O_6uB4 r_n cZW7ROP_n",listFilterMenu:"C_ZpQYvz cdPFi_ZpQYvz C4_52qC cdPFi4_52qC",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC",closeWrapper:"cdPFi_ZpQYvz cdPFi4_52qC",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC"},previewpaneInPixels:{leftHalfContainer:"a_ZEtPz3"}},_key:"Z18YWdS"}},36920:e=>{"use strict";e.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk W_3qWeB",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_1I4yPF I3_1I4yPF",label:"D_F",hint:"D_F ab_C Q_eo6 O_cMq O4_N cdPFi4_Z281SGl",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_52qC"}},_key:"JclJU"}},4609:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>te});var a=s(45697),n=s.n(a),r=s(67294),o=s(92743),i=s(85927),l=s(99095),c=s(9333),d=s(43007),E=s(23224),_=s(11160),u=s(31509),m=s(18030),S=s(63097),p=s(51135),C=s(37422),A=s(94482),T=s(67498),h=s(28182),g=s(65304),I=s(9026),R=s(10728),O=s(76531),D=s(75673),N=s.n(D),f=s(31057),M=s(42907),L=s(94184),P=s.n(L),y=(s(95406),s(18446)),b=s.n(y),F=s(8470),U=s(73935),v=s(549),w=s(76223),G=s.n(w),k=(s(31280),s(32665)),H=s(91869),B=s(78263),x=s(92559),V=s(85458),W=s(13556),Z=s(17016);function K(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const z=G()(N()),q=(0,l.defineMessages)({createNewFolderDescription:{id:"create_new_folder_text",defaultMessage:"Please enter a new folder name:"},duplicate_foldername:{id:"move_new_folder_duplciate_name",defaultMessage:"A folder named {folder_name} already exists. Please choose a different name."},newFolderLabel:{id:"new_folder_lable",defaultMessage:"Create new folder"},createButton:{id:"create_btn_text",defaultMessage:"Create"},folderNameText:{id:"folder_name_text",defaultMessage:"Folder name"},folder_invalid_chars:{id:"new_folder_invalid_chars",defaultMessage:"Folder names may not contain {invalid_chars}"}}),Y=()=>{};class j extends r.Component{constructor(...e){super(...e),K(this,"state",{error:"",value:""}),K(this,"handleConfirm",(e=>{e.stopPropagation();const{value:t}=this.state;if(!(0,Z.isValidFolderName)(t))return;const{formatMessage:s}=this.context.intl,{activeAccount:a,allFolders:n}=this.props;n.some((({name:e})=>e===t))?this.setState({error:s(q.duplicate_foldername,{folder_name:t})}):this.context.executeAction(W.L6,{folderName:(0,M.R_)(t,a),alertFromModalDialog:!0,accountId:a.id,i13nModel:{mKey:x.JE.ADD_FOLDER,sec:x.nJ.FILTER_MESSAGES,mKeyGroup:x.rO.createFldr}})})),K(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose()})),K(this,"handleOnChange",(e=>{const{formatMessage:t}=this.context.intl,s=!e||(0,Z.isValidFolderName)(e);this.setState({value:e,error:s?null:t(q.folder_invalid_chars,{invalid_chars:M.Nk})})}))}componentDidUpdate(e){const{value:t}=this.state,{customFolders:s,streamId:a}=this.props,{customFolders:n}=e,r=n.some((({name:e})=>e===t)),{id:o}=s.find((({name:e})=>e===t))||{};if(t&&!r&&o){const e={streamId:a,destinationFolderId:o,triageActionType:C.Ewo.MOVE_SELECTED_ITEMS,i13nModel:{mKey:x.JE.TOOLBAR_MOVE,sec:x.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:x.rO.moveMsg,interactionType:"click"}};this.props.onMove(e),this.props.onClose()}}render(){const{value:e,error:t}=this.state,{formatMessage:s}=this.context.intl;return r.createElement(H.Z,{hideIcon:!0,onOuterClick:Y,onAbort:this.handleClose,onConfirm:this.handleConfirm,acceptLabel:q.createButton,disablePrimaryButton:!e||!!t,title:s(q.newFolderLabel)},r.createElement("div",{className:z.description},r.createElement(l.FormattedHTMLMessage,q.createNewFolderDescription)),r.createElement(k.Z,{type:"text",isClearable:!0,focusOnMount:!0,value:e,error:t,id:"create-new-folder",onChange:this.handleOnChange,"data-test-id":"create-new-folder",placeholder:s(q.folderNameText)}))}}K(j,"contextTypes",{intl:l.intlShape.isRequired,executeAction:n().func.isRequired});const Q=(0,o.connect)(((e,t)=>{const{getRoute:s,getAccountById:a,getCustomFolderList:n,getMainStreamListIds:r,getSelectedAccountIdByRoute:o}=(0,i.selectors)(e),l=s(),c=r(l),d=(0,B.BA)(c),E=o(l),_=a(E),u=n(E),{allFolders:m}=t;return{streamId:d,allFolders:m,customFolders:u,activeAccount:_}}),(e=>({onMove:t=>e((0,V.B6)(t))})))(j);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function J(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const $=(0,l.defineMessages)({multikey_shortcut:{id:"multikey_shortcut",defaultMessage:"{primaryShortcutKey} then {secondaryShortcutKey}"},move_msgs:{id:"move_msgs",defaultMessage:"Move the selected {conversations, select, true {conversations} false {messages}} to another folder"},search_placeholder:{id:"folder_menu.search",defaultMessage:"Find a folder"},no_result_label:{id:"folder_menu.empty_search_result",defaultMessage:"No folders found"}});class ee extends r.Component{constructor(e){super(e),J(this,"_getListStyle",(e=>{let t=4*R.mg$,s=2*R.mg$*(e+2)+R.mg$;return this.props.isRTL&&(t=2*R.mg$*(e+2)+R.mg$,s=4*R.mg$),{paddingLeft:`${s}px`,paddingRight:`${t}px`,width:62.5*R.mg$+"px"}})),J(this,"_handleMenuShow",(()=>{this.selectedFolderId=null,this.firstFolderId=null,setTimeout((()=>this.props.isFilterFocused?this._focusFirstMenuItem():this._focusContainer()),0),this.props.onMenuShow()})),J(this,"_handleMenuHide",(()=>{this.setState({filterString:"",isFilterActive:!1,selectedFolderId:null},(()=>{this.firstFolderId=null,this.selectedFolderId=null,this.props.onMenuHide()}))})),J(this,"handleKeyDownOnInputField",(e=>{if(this.state.isFilterActive&&e.key===C.R8U.ENTER){const t=this.selectedFolderId;if("create-new-folder"===t)return this._handleMenuHide(),void this.renderNewFolderCreationModal();t&&this.handleClick(t,e)}})),J(this,"selectItem",(e=>{if(this.customFoldersList){const t=(0,U.findDOMNode)(e),s=this.customFoldersList.getBoundingClientRect(),a=t.getBoundingClientRect();(a.top<s.top||a.bottom>s.bottom)&&t.scrollIntoView()}this.selectedFolderId=e.id,this.setState({selectedFolderId:e.id})})),J(this,"resetSelectedItem",(()=>{this.selectedFolderId=null,this.foldersList.resetCursorIndex()})),J(this,"renderMenuItems",((e,t)=>{const s=[],{formatMessage:a}=this.context.intl;return e.forEach((({id:e,name:n,type:o,level:i,disabled:l,shortcut:c})=>{const d=null===this.selectedFolderId&&this.firstFolderId===e&&this.state.isFilterActive&&""!==this.state.filterString;d&&(this.selectedFolderId=l?null:e);const E=this.selectedFolderId===e;s.push(r.createElement(A.Z,{key:e,name:"item-move-to-folder-id-"+e},r.createElement(T.Z,{id:e,"data-test-id":"item-move-to-folder-id-"+e,kind:h.F.MENUITEM,onClick:this.handleClick.bind(this,e),style:this._getListStyle(i),disabled:!!d||l,title:(0,M.h5)(a,o)||n,overridingClass:E&&!l?t.highlightedListItem:t.listItem,"data-iskeynav":!0},r.createElement("span",{className:t.fullLabel},r.createElement("span",{className:t.itemLabel},r.createElement(S.Z,{folderId:e})),this.renderDisplayShortcut(o,t,c)))))})),s})),this.state={filterString:"",isFilterActive:!1,selectedFolderId:null},this._handleMenuHide=this._handleMenuHide.bind(this),this._handleMenuShow=this._handleMenuShow.bind(this),this._focusFirstMenuItem=this._focusFirstMenuItem.bind(this),this._focusContainer=this._focusContainer.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleClick=this.handleClick.bind(this),this.renderNewFolderCreationModal=this.renderNewFolderCreationModal.bind(this)}_renderLabel(){return r.createElement(l.FormattedMessage,{id:"move_button.move_label",defaultMessage:"Move"})}_focusFirstMenuItem(){if(!this.listContainer)return!1;const e=this.listContainer.querySelector("[data-iskeynav]");return e&&e.focus()}_focusContainer(){return this.listContainer&&this.listContainer.focus()}handleClick(e,t){t.preventDefault(),this.props.onClick(e,t),this._handleMenuHide()}handleKeyDown(e,t){if(!this.listContainer.contains(t.target)&&!t.target.contains(this.listContainer))return;if(t.target===this.input.bidiInput)return void this.handleKeyDownOnInputField(t);if(t.key===C.R8U.ARROW_DOWN||t.shiftKey&&"d"===t.key.toLowerCase())return t.preventDefault(),t.stopPropagation(),this._focusFirstMenuItem();const s=t.keyCode-48,a=t.keyCode-96,n=e[s]||e[a];n&&this.handleClick(n,t)}renderSearchInput(e){const{hasShortcuts:t}=this.props,s=t?"Shift+D":null,{filterString:a,isFilterActive:n}=this.state,{formatMessage:o}=this.context.intl,i=s&&!n&&""===a,l=Object.assign({},i?{}:{paddingRight:`${R.mg$}px`});return r.createElement(A.Z,{key:"folder-search","data-test-id":"item-move-to-folder-id-search"},r.createElement("div",{className:e.inputContainer,style:l,onClick:e=>e.stopPropagation()},r.createElement(d.Z,{kind:O.Kinds.SEARCH_MINI,size:O.Sizes.XS,colorState:O.ColorStates.DISABLED}),r.createElement(E.Z,{ref:e=>this.input=e,className:e.inputField,type:"text",id:"folder-menu-search-input","data-test-id":"folder-menu-search-input",value:a,onClear:()=>{this.resetSelectedItem(),this.setState({filterString:""}),this._focusFirstMenuItem()},onChange:e=>{this.resetSelectedItem(),this.setState({filterString:e.target.value})},onFocus:()=>this.setState({isFilterActive:!0}),onBlur:()=>this.setState({isFilterActive:!1}),onKeyDown:e=>{this.foldersList.handleKeyDown(e)},isClearable:!0,placeholder:o($.search_placeholder),"data-iskeynav":!0}),i?r.createElement("span",{className:e.shortcut},s):null))}renderEmptyResult(e){const{formatMessage:t}=this.context.intl;return r.createElement(A.Z,null,r.createElement("div",{className:e.noResultContainer,style:this._getListStyle(0)},t($.no_result_label)))}renderAllMailItem(e){const{formatMessage:t}=this.context.intl,s=t($.all_mail_title);null===this.selectedFolderId&&this.firstFolderId===C.ke7.ALL_MAIL&&this.state.isFilterActive&&""!==this.state.filterString&&(this.selectedFolderId=C.ke7.ALL_MAIL);const a=this.selectedFolderId===C.ke7.ALL_MAIL;return r.createElement(A.Z,{key:C.ke7.ALL_MAIL,"data-test-id":"all-mail"},r.createElement(T.Z,{id:C.ke7.ALL_MAIL,kind:h.F.MENUITEM,style:this._getListStyle(0),overridingClass:a?e.highlightedListItem:e.listItem},r.createElement("span",{className:e.fullLabel},r.createElement("span",{className:e.itemLabel},r.createElement(p.Z,{name:s})))))}renderDisplayShortcut(e,t,s){const{hasShortcuts:a}=this.props;let n;return!this.state.isFilterActive&&a&&((s||e===C.Sck.INBOX)&&(n=r.createElement(l.FormattedMessage,X({},$.multikey_shortcut,{values:{primaryShortcutKey:"d",secondaryShortcutKey:""+s}}))),e===C.Sck.ARCHIVE&&(n="e")),n?r.createElement("span",{className:t.shortcut},n):null}renderNewFolderCreationModal(){const{customFolders:e,systemFolders:t}=this.props,s=[].concat(e).concat(t);(0,v.C)(r.createElement(Q,{allFolders:s}),this.context)}renderAnchorButton(){const{disabled:e,showLabel:t,isCompact:s,onMenuToggle:a,conversations:n}=this.props,{formatMessage:o}=this.context.intl,i=o($.move_msgs,{conversations:n}),l=this.context.getThemeMode()===I.zg.DARK;return r.createElement("span",null,r.createElement(c.default,{"data-iskeynav":!0,"data-test-id":"folder-menu-button","aria-label":i,title:i,kind:O.Kinds.MOVE_TO_FOLDER,disabled:e,onClick:a,size:O.Sizes.XS,colorState:O.ColorStates.INHERITED,isOnDarkBackground:l,isCompact:s},t&&this._renderLabel()))}renderPopoverContent(e){const t=this.context.getCss(N()),{folderShortcutMap:s,excludeAllMailItem:a,customFolders:n,systemFolders:o}=this.props,{filterString:i=""}=this.state,c=n.filter((({name:e})=>-1!==e.toLowerCase().indexOf(i.toLowerCase()))),d=o.filter((({name:e})=>-1!==e.toLowerCase().indexOf(i.toLowerCase()))),E=c.length+d.length,_=[].concat(c).concat(d),u=_?_[0]:{};return this.firstFolderId=u?u.id:null,r.createElement(m.ZP,{triggerOn:e,permittedArrowDirections:[g.Ji.UP],zAltitude:R.LSY.POPOVER.HIGH,onShow:this._handleMenuShow,onHide:this._handleMenuHide},r.createElement("div",{className:t.clippedContainer},r.createElement("div",{"data-test-id":"folder-menu",className:t.popoverContent,onKeyDown:this.handleKeyDown.bind(this,s),tabIndex:R.iUz.FOLDER_SELECTION_MENU,role:"menu",ref:e=>this.listContainer=e},r.createElement("ul",{className:t.systemGroup},this.renderSearchInput(t)),r.createElement(F.Z,{ref:e=>this.foldersList=e,tabIndex:R.iUz.FOLDER_SELECTION_MENU,selectItemInsteadOfFocus:this.selectItem,onEscape:this._handleMenuHide,listNavigationOnInputEnabled:!0},0===E&&r.createElement("ul",{className:t.lastGroup},this.renderEmptyResult(t)),r.createElement("div",null,c.length>0&&r.createElement("ul",{ref:e=>this.customFoldersList=e,className:P()(t.customGroup,{[t.lastGroup]:!(d.length>0),[t.systemGroup]:d.length>0})},this.renderMenuItems(c,t)),d.length>0&&r.createElement("ul",{className:t.lastGroup},!a&&this.renderAllMailItem(t),this.renderMenuItems(d,t)),r.createElement("ul",{className:t.createFolderAction},r.createElement(A.Z,{key:"new-folder",name:"item-move-to-folder-id-new-folder"},r.createElement(T.Z,{"data-iskeynav":!0,id:"create-new-folder",kind:h.F.MENUITEM,"data-test-id":"item-move-to-folder-id-new-folder",onClick:this.renderNewFolderCreationModal,overridingClass:"create-new-folder"===this.selectedFolderId?t.highlightedListItem:t.listItem},r.createElement("span",{className:t.fullLabel},r.createElement("span",{className:t.itemLabel},r.createElement(l.FormattedMessage,{id:"move.new_folder",defaultMessage:"Create new folder"})))))))))))}renderPopoverContainer(e){const t=this.context.getCss(N());return r.createElement(_.Z,{className:t.popoverContainer},r.createElement(u.Z,null,this.renderAnchorButton()),this.renderPopoverContent(e))}render(){const{isMenuActive:e,onMenuToggle:t}=this.props;return t?e?this.renderPopoverContainer(g.K2.MOUNT):this.renderAnchorButton():this.renderPopoverContainer(g.K2.CLICK)}}ee.contextTypes={intl:l.intlShape.isRequired,getThemeMode:n().func,getCss:n().func,getTheme:n().func,executeAction:n().func,getStore:n().func,store:n().object,navigateTo:n().func},ee.defaultProps={showLabel:!0,excludeAllMailItem:!0};const te=(0,o.connect)(((e,t)=>{const{getFeaturesSelectors:s,getEnvironmentSelectors:a}=(0,i.selectors)(e),n=s().isEnabled(C.ANe.CONVERSATIONS);let r=[],o=[];const l={};let c=0;const{getFoldersSelectors:d,getSelectedAccountId:E,getSystemFolderListWithSmartView:_}=(0,i.selectors)(e),{getFolderName:u,getPrimaryFolderTypeByFolderId:m,getCustomFolderIds:S,getAccountIdByFolderId:p,getFolderLevelByFolderId:A}=d(),{listId:T}=t,h=(0,f.Fh)(T),g=h?p(h):E(),I=h?[h]:[],R=[C.Sck.DRAFT,C.Sck.SENT];return r=_(g).reduce(((e,{id:t,type:s,kind:a})=>"folder"===a&&-1===R.indexOf(s)?(s===C.Sck.INBOX&&-1===I.indexOf(t)&&c<10&&(l[c]=t),e.concat({id:t,name:u(t),type:s,disabled:-1!==I.indexOf(t),shortcut:s===C.Sck.INBOX&&c<10?c++:void 0})):e),[]),o=S(g).reduce(((e,t)=>(-1===I.indexOf(t)&&c<10&&(l[c]=t),e.concat({id:t,name:u(t),type:m(t),level:A(t),disabled:-1!==I.indexOf(t),shortcut:c<10?c++:void 0}))),[]),{systemFolders:r,customFolders:o,folderShortcutMap:l,conversations:n,isRTL:"rtl"===a().getPageDirection()}}),void 0,void 0,{areStatePropsEqual:(e,t)=>b()(e.systemFolders,t.systemFolders)&&b()(e.customFolders,t.customFolders)&&e.folderCount===t.folderCount&&b()(e.folderShortcutMap,t.folderShortcutMap)&&e.conversations===t.conversations})(ee)},75673:e=>{"use strict";e.exports={className:{default:{container:"D_F",clippedContainer:"K_q o_h a_3rBgu",label:"D_F ab_C y_Z2hYGcu A_6EqO P_eo6",itemLabel:"em_N P_0 o_h G_e",labelText:"X_eo6",customGroup:"K_3rehn iz_A iy_h P_cFf",systemGroup:"hd_n P_cFf M_0 m_Z14vXdP",lastGroup:"hd_n P_cFf M_0 m_0",popoverContainer:"D_F",popoverContent:"P_Z1gGUOP",shortcut:"ab_CH Q_fq7 Z_0",fullLabel:"D_F W_6D6F",anchorButton:"a_3rtg7",noResultContainer:"D_F ab_C C_Z1WBuqm i_6VdP k_w",inputContainer:"D_F ab_C k_w X_6EGz N_6Fd5 W_3rBgu",inputField:"em_N cn_0 W_6D6F H_6VdP X_0 A_6EqO C_Z281SGl",highlightedListItem:"I_1I4z5p O_N I4_1I4z5p",listItem:"I_52qC",createFolderAction:"hd_n P_cFf M_0 m_0 z_Z14vXdP je_eo6"}},_key:"1WkSMy"}},24307:e=>{"use strict";e.exports={className:{default:{nudgeToReply:"D_F ab_C W_CD a_3nqRH H_6MGW r_P e_dRA b_0 M_Z1kkfxo I_T C_Z2aVTcY cdPFi_Z2aVTcY P_3gK4Y C4_Z29WjXl cdPFi4_Z29WjXl I4_Z1owzx3",nudgeToReplyText:"y_Z2hYGcu A_fFR u_b o_h G_e J_x"},isDarkNotHovered:{nudgeToReply:"C_Z2bg7IA cdPFi_Z2bg7IA C4_52qC cdPFi4_52qC"},isLightHovered:{nudgeToReply:"I_2iee8C"},isDarkHovered:{nudgeToReply:"I_sgPuo I4_sgPuT C4_52qC cdPFi4_52qC"}},_key:"Z2Wuem"}},24659:e=>{"use strict";e.exports={className:{default:{photoGrid:"H_3nx4N W_3nx4N p_R M_eo6 r_BN",photoItemImg:"W_6D6F H_6D6F ba_BH",photoOverlay:"p_a H_6D6F W_6D6F T_0 q_ZpQYvz O_6uA3 r_P",iconContainer:"D_F gl_FM P_fQq0A p_a B_0 q_Zjpysv k_w W_6D6F H_6VdP",photoActionBtn:"H_6D6F",forwardButton:"h_Z2uKmny",rtlRawScaleX:"rtlR_h_2gl0WC"},isMessageDeleteEnabled:{iconContainer:"P_Z2rzCvT"},isBriefView:{photoGrid:"H_7He5 W_7He5"}},_key:"fcHSR"}},9723:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a,n,r,o=s(67294),i=(s(45697),s(74480)),l=s.n(i),c=s(76223),d=s.n(c),E=s(35567);class _ extends o.Component{render(){const{items:e,listId:t,streamId:s,isBriefView:a}=this.props,n=d()(l(),{isBriefView:a});return o.createElement("div",{className:n.gridsContainer},e.map((e=>o.createElement(E.Z,{key:e.id,item:e,listId:t,streamId:s,isBriefView:a}))))}}r={isBriefView:!1},(n="defaultProps")in(a=_)?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r;const u=_},74480:e=>{"use strict";e.exports={className:{default:{gridsContainer:"D_F P_3gIMd"},isBriefView:{gridsContainer:"P_0"}},_key:"Z1yJcAi"}},4450:e=>{"use strict";e.exports={className:{default:{photosViewHeader:"D_F ek_EZ gl_FM ab_C P_2bJhi m_Z14vXdP",photosViewTitle:"A_6FsP u_dPo D_F gl_C ab_C em_N",sortMenuContainer:"en_0 E_eo6"},"themeMode-DARK":{photosViewHeader:"I_T m_ZYfFSw C_52qC cdPFi_52qC"}},_key:"1M2AT3"}},33604:e=>{"use strict";e.exports={className:{default:{messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F"},"themeMode-DARK":{blank:"I_T"}},_key:"1r9yYy"}},13240:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",readIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 cdPFi_ZpQYvz cdPFi4_Z1TsNbA"},"isRead-false":{readIcon:"cdPFi_Z2aVTcY cdPFi4_Z2aVTcY"},isDarkThemeMode:{readIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"1e0ia6"}},43715:e=>{"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC",container:"P_8secV D_F gl_C",actionContainer:"D_F M_Z2gjVIH",svgStyle:"D_F ab_C Q_6Fd5 E_6Eb4 em_0",listDivider:"H_dRA I_ZpQYvz M_Z2eeeeR"},"themeMode-DARK":{heading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",listDivider:"I_ajOPR"}},_key:"Z1zXGST"}},18452:e=>{"use strict";e.exports={className:{default:{container:"H_6UbO k_w je_fq7 X_fq7 C_Z1YRXYn A_6EqO u_b I_52qC D_F ab_C gl_FM",expandButton:"i_6EWk P_Z2rzCvT",iconContainer:"D_F ab_C",partnerAttributionIcon:"Q_eo6",header:"u_b C_Z281SGl A_6EWk"},"themeMode-DARK":{container:"I_T",header:"C_52qC"}},_key:"yonkM"}},63350:e=>{"use strict";e.exports={className:{default:{trashIcon:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_eo6 Q_6Fd5 W_7jIs",trashIconAccessible:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_0",trashCenter:"D_F ab_C gl_C H_6D6F",trashIconCompact:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY D_F gl_F W_6D6F P_fq7 M_18qTTf"},isDarkThemeMode:{trashIcon:"cdPFi_1cIiP7 cdPFi4_Z1rAFli",trashIconCompact:"cdPFi_1cIiP7 cdPFi4_Z1rAFli"}},_key:"1jQ2Sd"}},46316:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",replyIcon:"cZ17HJts_0 cZ17HJsU_T cZ17HJta_0 cZ17HJsT_P cZ17HJtE_F cF9SWM_0 cF9SUy_C cZ17HJtH_0 cZ17HJtl_6LEV cNhr4M_ZpQYvz c1Lk3cu_Z1gAvbx",indicator:"Q_e8l"},isDarkThemeMode:{replyIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"Z1GKNgw"}},83168:e=>{"use strict";e.exports={className:{default:{searchIcon:"D_F gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNbA cdPFi4_Z2aVTcY P_3gIMd Q_eo6",contactSearchIconCompact:"D_Z1YJkyX gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNbA cdPFi4_Z2aVTcY Q_eo6 P_0"},isDarkThemeMode:{searchIcon:"cdPFi_ak5kB cdPFi4_ak5m8",contactSearchIconCompact:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"1w3og1"}},25629:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1WBuqm cdPFi4_Z2aVTcY"},activateDarkThemeMode:{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"1cQqjq"}},61209:e=>{"use strict";e.exports={className:{default:{senderRollupHeader:"ab_C C_Z281SGl D_F H_6Mrc gl_C m_Zhnraq i_6Mrc P_2bJhi p_R",senderBackContainer:"L_6Eb4 p_a",senderRollupTitle:"A_6FsP u_dPo gl_C a_eBt o_h G_e J_x mq_N",senderSortMenuContainer:"p_a R_6Eb4"},"themeMode-DARK":{senderRollupHeader:"m_ZYfFSw I_T C_ZpQYvz",senderBackContainer:"I_T C_ZpQYvz cdPFi_ZpQYvz"}},_key:"ZyornR"}},19068:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s(45697);var a=s(67294),n=(s(31280),s(66229)),r=s.n(n),o=s(76223),i=s.n(o),l=s(99095),c=s(18247);const d=(0,l.defineMessages)({comma:{id:"mail_app.comma_with_space",defaultMessage:", "},me:{id:"mail_app.me",defaultMessage:"me"},and:{id:"mail_app.and",defaultMessage:" and "},andNMore:{id:"mobile.message_read.and_n_more",defaultMessage:"& {count} more"}}),E=({sender:{name:e,email:t},myAddresses:s},a)=>{let n;return n=s[t]?a(d.me):e?e.split(" ")[0]:(t||"").split("@")[0],n.length>10+".".length?n.slice(0,10)+".":n};function _(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class u extends a.Component{constructor(...e){super(...e),_(this,"getLabel",((e,t,s)=>e?a.createElement("span",null,t):a.createElement("strong",{className:s.strong},t)))}shouldComponentUpdate(e){const{senders:t,isRead:s,myAddresses:a,transparent:n,layoutClassNames:r,visibleNum:o}=this.props,i=Object.keys(a),l=Object.keys(e.myAddresses);return e.senders.length!==t.length||e.senders[0].name!==t[0].name||e.isRead!==s||e.visibleNum!==o||e.transparent!==n||e.layoutClassNames.senders!==r.senders||l.length!==i.length}render(){const e=i()(r(),{transparent:this.props.transparent}),{senders:t,onClick:s,layoutClassNames:n,myAddresses:o,isRead:l,visibleNum:_}=this.props,{formatMessage:u}=this.context.intl,m=(({senders:e,myAddresses:t},s)=>{if(0===e.length)return"";const a=(0,c.ln)(e);let n=a.map((e=>E({sender:e,myAddresses:t},s)));if(n=n.filter(((e,t,s)=>s.indexOf(e)===t)),1===n.length)return a[0].email;const r=n.pop();return n.join(s(d.comma))+s(d.and)+r})({senders:t,myAddresses:o},u),S=(({senders:e,myAddresses:t,visibleNum:s=1},a)=>{if(0===e.length)return null;if(1===e.length){const s=e[0];return t[s.email]?a(d.me):s.name||s.email}const n=[],r=(0,c.ln)(e),o=(0,c.AN)(r),i=r.map((e=>E({sender:e,myAddresses:t},a))),l=(({senders:e,priorityIndices:t,visibleNum:s})=>e.length<=s-1?t:t.slice(0,e[0].recent?s-1:s))({senders:r,priorityIndices:o,visibleNum:s}).sort();let _=0;return l.forEach(((e,t)=>{const s=i[e];e>_+1?n.push(" .. "):t>0&&n.push(a(d.comma)),n.push(s),_=e})),n.join("")})({senders:t,myAddresses:o,visibleNum:_},u);return a.createElement("div",{className:n.senders,"data-test-id":"senders",role:"gridcell"},a.createElement("span",{className:e.participants,onClick:s,role:"gridcell",title:m},S?this.getLabel(l,S,e):null))}}_(u,"defaultProps",{myAddresses:{},transparent:!1,visibleNum:3}),_(u,"contextTypes",{intl:l.intlShape});const m=u},66229:e=>{"use strict";e.exports={className:{default:{participants:"o_h J_x em_N G_e",strong:"u_Z13VSE6"},transparent:{participants:"em_0 v_h"}},_key:"ZDOKbg"}},32778:e=>{"use strict";e.exports={className:{default:{snippet:"J_x o_h G_e",snippetContainer:"J_x o_h",highlightedTerm:"I_2ieea9 D_X"}},_key:"Z2piR2p"}},8069:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",starIcon:"k_BF q_T b_0 r_P D_F en_0 ab_C A_0 cdPFi_ZpQYvz h_Z13pql2 lv_1IWXzk cdPFi4_ZvsWfq h4_2d9T5e P_ZmsLO3 E_fq7",iconContainer:"H_6LEV"},"size-S":{iconContainer:"H_6MGW"},isDarkThemeMode:{starIcon:"cdPFi_2sqbQg h_Z13pql2 lv_1IWXzk cdPFi4_2sqbQg h4_2d9T5e"}},_key:"mUHod"}},31745:e=>{"use strict";e.exports={className:{default:{subject:"o_h G_e J_x",highlightedTerm:"I_2ieea9 D_X"}},_key:"1okHkV"}},31291:e=>{"use strict";e.exports={className:{default:{container:"F_n P_2bJhi H_6Mrc i_6Mrc m_Zhnraq D_F ab_C gl_C p_R",linkBack:"C_Z281SGl f_l A_6EqO P_3gIMd F_n D_F ab_C L_6Eb4 p_a",linkBackLabel:"Q_eo6",title:"ab_C C_Z281SGl A_6FsP gl_C a_eBt o_h G_e J_x mq_N"},"themeMode-DARK":{linkBack:"I_T C_ZpQYvz cdPFi_ZpQYvz",title:"C_ZpQYvz"}},_key:"Z22ahx2"}},75668:e=>{"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_w m_Z14vXdP C_Z281SGl H_7bcz",tabs:"P_1g7oPJ M_cFf m_Z14vXdP D_F"},"themeMode-DARK":{heading:"C_52qC m_ZYfqDw",tabs:"m_Z6DFj8"}},_key:"ZnkVPn"}},55146:e=>{"use strict";e.exports={className:{default:{ybadgeIcon:"q_T r_P D_F en_0 ab_C W_6LEV k_BF A_0 b_n"}},_key:"ZIMuu5"}},13957:(e,t,s)=>{"use strict";s.d(t,{Ur:()=>m,fx:()=>S,vt:()=>p});var a=s(45697),n=s.n(a),r=s(95406),o=s(68949),i=s(37422);const{string:l,arrayOf:c,shape:d,bool:E,func:_,oneOf:u}=n(),m=(n().oneOf((0,r.VO)(i.DAQ)).isRequired,l.isRequired,l.isRequired,n().object,n().bool,n().object,n().array,n().func,c(d({id:l.isRequired,listId:l.isRequired})).isRequired,u((0,r.VO)(i.EsZ)),n().number,n().object,n().bool,n().bool,n().number,n().bool,n().bool,n().func,n().number,n().number,n().bool,n().number,n().number,n().func,n().func,n().func,n().func,n().number,n().number,n().bool,n().bool,n().bool,n().object,n().number,n().func,n().func,n().func,n().func,n().bool,n().bool,n().func,n().func,n().bool,n().string,n().bool,{timeout:900,lightGifURL:(0,o.A)("/img/star_jiggle.gif"),darkGifURL:(0,o.A)("/img/star_jiggle_dark.gif")}),S={READ:"READ",UNREAD:"UNREAD",STAR:"STAR",UNSTAR:"UNSTAR",DELETE:"DELETE",ARCHIVE:"ARCHIVE",RESTORE:"RESTORE",OPEN_MSG:"OPEN_MSG",OPEN_PHOTO:"OPEN_PHOTO",OPEN_DOC:"OPEN_DOC",CHK_MAIL:"CHK_MAIL",ROTATE_PREVIEWPANE:"ROTATE_PREVIEWPANE",SELECTION_CHANGE:"SELECTION_CHANGE"},p={INTERACTION_GROUP_UNREAD:"INTERACTION_GROUP_UNREAD",INTERACTION_GROUP_FLAGGED:"INTERACTION_GROUP_FLAGGED"}},55720:(e,t,s)=>{"use strict";s.d(t,{Z:()=>Jl});var a=s(12913),n=s(23279),r=s.n(n),o=s(57557),i=s.n(o),l=s(45697),c=s.n(l),d=s(67294),E=s(76223),_=s.n(E),u=s(73935),m=s(99095),S=s(92743),p=s(72942),C=s(95406),A=s(37422),T=s(78107),h=s.n(T),g=s(90521),I=s(8106),R=s(10728),O=s(63352),D=(s(23493),s(50985)),N=s(60536);const f={TOUCH_ENABLED_DESKTOP:"ted",[A.a1v.H_SLIDER_POS_V2]:"hsp",[A.a1v.V_SLIDER_POS_V2]:"vsp"};class M extends N.p{constructor(e){super(e,"YM.CLIENT.PARAMS",{TTL:2592e3,path:"/"})}setClientParam(e,t){e&&Object.values(f).indexOf(e)>-1&&this.set({[e]:t})}getClientParam(e){return this.get()[e]}getClientParams(){return this.get()}}function L(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const P=!1,{H_SLIDER_POS:y,V_SLIDER_POS:b,H_SLIDER_POS_V2:F,V_SLIDER_POS_V2:U}=A.a1v,v={x:{min:{percent:R.tsr},max:{percent:R.ogS}},y:{min:{pixels:R.GdE},max:{pixels:R.qVV}}};class w extends d.Component{constructor(...e){super(...e),L(this,"state",{dragging:!1}),L(this,"_getLocalStorageKey",((e,t=!1)=>e===A.EsZ.RIGHT?t?F:y:t?U:b)),L(this,"_writePreviewPaneSetting",((e,t)=>{this.props.previewpaneCookie&&this.props.previewpaneInPixels&&new M({window}).setClientParam(e,t),(0,D.rl)(e,t)})),L(this,"_readPreviewPaneSetting",(e=>{const{previewpaneCookie:t,previewpaneInPixels:s}=this.props,a=this._getLocalStorageKey(e,s);return t&&s?new M({window}).getClientParam(a)||(0,D.zP)(this._getLocalStorageKey(e,!0))||(0,D.zP)(this._getLocalStorageKey(e,!1)):(0,D.zP)(a)})),L(this,"getLimits",(e=>{const{previewpane:t,isRTL:s}=this.props,a=t===A.EsZ.RIGHT?v.x:v.y;let n,r,o,i,l=(0,C.u9)(a,"min.percent",0)||0,c=(0,C.u9)(a,"min.pixels",0)||0,d=(0,C.u9)(a,"max.percent",100)||100,E=(0,C.u9)(a,"max.pixels",0)||0;if(s){const t=l,s=c;l=100-d,c=e.width-E,d=100-t,E=e.width-s}t===A.EsZ.RIGHT?(n=e.left+e.width*l/100,r=e.left+c,o=e.left+e.width*d/100,i=e.left+e.width-E):t===A.EsZ.BOTTOM?(n=e.top+e.height*l/100,r=e.top+c,o=e.top+e.height*d/100,i=e.top+e.height-E):(0,O.Z)(!1,`Unexpected orientation of preview pane during resize: ${t}`);let _=Math.max(n,r),u=Math.max(Math.min(o,i),_);return s&&(_=Math.min(n,r),u=Math.max(Math.max(o,i),_)),{min:_,max:u}})),L(this,"getLimitsV2",(e=>{const{previewpane:t,isRTL:s}=this.props;let a,n;return t===A.EsZ.RIGHT?s?(a=e.left+R.bA8,n=Math.max(e.left+e.width-R.XpS,a)):(a=e.left+R.XpS,n=Math.max(e.left+e.width-R.bA8,a)):t===A.EsZ.BOTTOM?(a=e.top+R.Yw5,n=Math.max(e.top+e.height-R.dEt,a)):(0,O.Z)(!1,`Unexpected orientation of preview pane during resize: ${t}`),{min:a,max:n}})),L(this,"resize",(()=>{if(!this.resizer)return;const{previewpane:e,previewpaneInPixels:t,isRTL:s}=this.props,{resize:a,dragStart:n,resizerStart:r,parent:o}=this.state,i=this.resizer.getBoundingClientRect();let l,c,d;e===A.EsZ.RIGHT?(c=r.left-o.rect.left+a.x-n.x,d=o.width,s&&(c=d-c),l=y):e===A.EsZ.BOTTOM?(c=r.top-o.rect.top+a.y-n.y,d=o.height,l=b):(0,O.Z)(!1,`Unexpected orientation of preview pane during resize: ${e}`);let E=100*c/d;t?this.props.resize(l,c,d):this.props.resize(l,E,d),this.setState({dragStart:{x:a.x,y:a.y},resizerStart:{left:i.left,top:i.top}}),this.resizer.style.marginTop="",this.resizer.style.marginLeft="",this.resizer.style.marginRight="",this._writePreviewPaneSetting(this._getLocalStorageKey(e,!1),E),t?(this._writePreviewPaneSetting(this._getLocalStorageKey(e,!0),c),e===A.EsZ.RIGHT&&(E=E<R.tsr?R.tsr:E,E=E>R.ogS?R.ogS:E),this._writePreviewPaneSetting(this._getLocalStorageKey(e,!1),E)):this._writePreviewPaneSetting(this._getLocalStorageKey(e,!1),E)})),L(this,"onDragStart",(e=>{const t=u.findDOMNode(this.resizer),s=null==t?void 0:t.parentNode;if(!t||!s)return;const a=t.getBoundingClientRect(),n=s.getBoundingClientRect(),r=this.props.previewpaneInPixels?this.getLimitsV2(n):this.getLimits(n),{clientX:o,clientY:i}=e;e.stopPropagation(),e.preventDefault(),this.resizer.style.backgroundColor=R.E6z.ycolorGrayG,this.setState({dragging:!0,dragStart:{x:o,y:i},resize:{x:o,y:i},resizerStart:{left:a.left,top:a.top},parent:{rect:n,width:s.clientWidth,height:s.clientHeight},limits:r}),e.dataTransfer&&(this.dragIcon=(0,I.av)(e.dataTransfer,this.dragIcon),e.dataTransfer.setData("text","anything")),this._ffDragFunc=e=>this.onDrag(e),this._ffDragEndFunc=e=>this.onDragEnd(e),document.addEventListener("mousemove",this._ffDragFunc),document.addEventListener("mouseup",this._ffDragEndFunc)})),L(this,"drag",(e=>{const{previewpane:t,isRTL:s}=this.props,{dragStart:a,limits:n}=this.state;let{clientX:r,clientY:o}=e;t===A.EsZ.RIGHT?(r>n.max&&(r=n.max),r<n.min&&(r=n.min),this.setState({resize:{x:r,y:o}}),this.resizer&&(s?this.resizer.style.marginRight=a.x-r+"px":this.resizer.style.marginLeft=r-a.x+"px")):t===A.EsZ.BOTTOM?(o>n.max&&(o=n.max),o<n.min&&(o=n.min),this.setState({resize:{x:r,y:o}}),this.resizer&&(this.resizer.style.marginTop=o-a.y+"px")):(0,O.Z)(!1,`We should not be dragging when there is no preview pane: ${t}`)})),L(this,"onDrag",(e=>{this.state.dragging&&(e.stopPropagation(),e.preventDefault(),0!==e.clientX&&0!==e.clientY&&(this.throttledDrag?this.throttledDrag(e):this.drag(e),this.throttledResize&&this.throttledResize()))})),L(this,"onDragEnd",(e=>{e.stopPropagation(),e.preventDefault(),(0,I.xq)(this.dragIcon),this.dragIcon=null,this.resizer&&(this.resizer.style.backgroundColor=""),this.setState({dragging:!1}),this.resize(),document.removeEventListener("mousemove",this._ffDragFunc),document.removeEventListener("mouseup",this._ffDragEndFunc)}))}shouldComponentUpdate(e,t){const s=this.props;this.state;return s.isEmpty!==e.isEmpty||s.previewpane!==e.previewpane||P}componentDidMount(){const{previewpane:e,previewpaneInPixels:t}=this.props,s=u.findDOMNode(this.resizer).parentNode,a=this._getLocalStorageKey(A.EsZ.RIGHT,t),n=this._getLocalStorageKey(A.EsZ.BOTTOM,t);this.sliderPos={hSliderPos:parseFloat(this._readPreviewPaneSetting(A.EsZ.RIGHT))||R.Q3u,vSliderPos:parseFloat(this._readPreviewPaneSetting(A.EsZ.BOTTOM))||R.TQs},t&&(this.sliderPos.hSliderPos<100&&(this.sliderPos.hSliderPos=Math.floor(this.sliderPos.hSliderPos*s.clientWidth/100)),this.sliderPos.vSliderPos<100&&(this.sliderPos.vSliderPos=Math.floor(this.sliderPos.vSliderPos*s.clientHeight/100)),this.sliderPos.hSliderPos&&this._writePreviewPaneSetting(a,this.sliderPos.hSliderPos),this.sliderPos.vSliderPos&&this._writePreviewPaneSetting(n,this.sliderPos.vSliderPos)),e===A.EsZ.RIGHT?this.props.resize(y,this.sliderPos.hSliderPos,s.clientWidth):e===A.EsZ.BOTTOM?this.props.resize(b,this.sliderPos.vSliderPos,s.clientHeight):(0,O.Z)(!1,`Unexpected orientation of preview pane during resize: ${e}`),this._ffDragStartFunc=e=>this.onDragStart(e),this.resizer.addEventListener("mousedown",this._ffDragStartFunc)}componentDidUpdate(e){const{previewpane:t}=this.props,s=u.findDOMNode(this.resizer).parentNode;t===A.EsZ.BOTTOM&&e.previewpane===A.EsZ.RIGHT&&this.props.resize(b,this.sliderPos.vSliderPos,s.clientHeight)}componentWillUnmount(){this.resizer.removeEventListener("mousedown",this._ffDragStartFunc),this._ffDragFunc&&document.removeEventListener("mousemove",this._ffDragFunc),this._ffDragEndFunc&&document.removeEventListener("mouseup",this._ffDragEndFunc)}render(){const{previewpane:e,isEmpty:t,isRTL:s}=this.props,a=this.context.getCss(h(),{previewpane:e}),{resize:n,dragStart:r}=this.state;if(!t){const e={};return d.createElement("div",{ref:e=>this.resizer=e,style:e,className:a.resizer,"data-test-id":"resizer"})}return d.createElement("div",{ref:e=>this.resizer=e,className:a.deadResizer,"data-test-id":"resizer"})}}L(w,"contextTypes",{getCss:c().func}),L(w,"defaultProps",{previewpaneInPixels:!1,previewpaneCookie:!1});const G=g.JJ(w);var k=s(76531),H=s(77163),B=s(9333),x=s(41920),V=s.n(x),W=s(66891),Z=s(31280);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class z extends d.Component{constructor(e,t){super(e,t),this.onScroll=this.onScroll.bind(this),this.handleScrollToTopClick=this.handleScrollToTopClick.bind(this),this.elementContainer=d.createRef(),this.scrollToTopRendered=!1}handleScrollToTopClick(){const{forceScrollToTop:e}=this.props;e()}onScroll(e){const{onScroll:t,config:s}=this.props,a=s.scrollThresholdPercentage||5,n=e.getScrollPercent();n>a&&!this.scrollToTopRendered?(u.render(s.render(),this.elementContainer.current),this.scrollToTopRendered=!0):n<a&&this.scrollToTopRendered&&(u.unmountComponentAtNode(this.elementContainer.current),this.scrollToTopRendered=!1),t(e)}render(){const e=_()(V()),{WrappedList:t,scrollTop:s}=this.props;return d.createElement("div",{className:e.listContainer},d.createElement(t,K({},this.props,{onScroll:this.onScroll,scrollTop:s})),d.createElement("div",{ref:this.elementContainer,onClick:this.handleScrollToTopClick}))}}var q,Y,j;q=z,Y="defaultProps",j={onScroll:()=>{},WrappedList:W.Z,config:{},scrollTop:0},Y in q?Object.defineProperty(q,Y,{value:j,enumerable:!0,configurable:!0,writable:!0}):q[Y]=j;const Q=z;var X=s(26),J=s(92559),$=s(9026),ee=s(17016),te=s(31057),se=s(63523),ae=s(34061),ne=s(27945),re=s.n(ne),oe=s(43007),ie=s(67498),le=s(19341),ce=s(98109),de=s(17272),Ee=s(68949),_e=s(27052),ue=s.n(_e),me=s(18352);const Se=(0,m.defineMessages)({flash_sale_countdown_in_seconds:{id:"ad.flash_sale_countdown_in_seconds",defaultMessage:"{days, plural, =0 {} other {{days} days : }}\n            {hrs, plural, =0 {} other {{hrs} hrs : }}\n            {mins, plural, =0 {} other {{mins} mins : }}\n            {secs} secs"},flash_sale_countdown:{id:"ad.flash_sale_countdown",defaultMessage:"{days, plural, =0 {} other {{days} days : }}\n            {hrs, plural, =0 {} other {{hrs} hrs : }}\n            {mins} mins"},deal_extension_countdown:{id:"ad.deal_extension_countdown",defaultMessage:"{days, plural, =0 {} other {{days} days }}\n            {hrs, plural, =0 {} other {{hrs} hrs }}\n            {mins} mins"},ending_soon:{id:"ad.flash_sale_ending_soon",defaultMessage:"Sale ends in {duration}"},expire_in:{id:"ad.expire_in",defaultMessage:"Expires in {duration}"}});class pe extends d.Component{constructor(e){super(e),this.timerId=0,this.clearTimers=this.clearTimers.bind(this),this.startTimers=this.startTimers.bind(this),this.state={now:Date.now()}}clearTimers(){this.timerId&&(clearTimeout(this.timerId),this.timerId=0)}startTimers(){if(!this.timerId){const e=this.props.countdownInSeconds?1e3:6e4,t=this.props.flashSaleEndTime-this.state.now;this.timerId=setInterval((()=>{t<=e&&(this.clearTimers(),this.props.flashSaleAdEnded()),this.setState({now:this.state.now+e})}),e)}}componentDidMount(){this.startTimers()}componentWillUnmount(){this.clearTimers()}getFormatedTime(e){return e<0&&(e=0),{days:Math.floor(e/864e5),hrs:Math.floor(e/36e5)%24,mins:Math.floor(e/6e4)%60,secs:Math.round(e/1e3)%60}}render(){const{formatMessage:e}=this.context.intl,{flashSaleTextStyles:t,flashSaleEndTime:s,countdownInSeconds:a,isMobile:n,flashSaleStyles:r,isDealExtension:o}=this.props,i=s-this.state.now,l=_()(ue(),{isDarkTheme:this.context.getThemeMode()===$.zg.DARK,flashSaleHighlight:i<864e5}),c=e(a?Se.flash_sale_countdown_in_seconds:Se.flash_sale_countdown,this.getFormatedTime(i));let E=c;if(n){const t=e(Se.deal_extension_countdown,this.getFormatedTime(i));E=o?e(Se.expire_in,{duration:t}):e(Se.ending_soon,{duration:c})}return d.createElement("div",{className:r||l.flashSaleCountdown},d.createElement(oe.Z,{kind:n?k.Kinds.STOPWATCH:k.Kinds.CLOCK,colorState:o?k.ColorStates.WHITE:k.ColorStates.STARRED,size:k.Sizes.XXS}),d.createElement("span",{className:t||l.flashSaleCountdownText},E))}}pe.contextTypes={intl:m.intlShape,getThemeMode:c().func};const Ce=(0,S.connect)(null,(e=>({flashSaleAdEnded:()=>e((0,me.K5)())})))(pe);var Ae=s(99972);function Te(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const he=(0,m.defineMessages)({learn_more_btn_label:{id:"learn_more_btn_label",defaultMessage:"Learn More"},watch_btn_label:{id:"watch_btn_label",defaultMessage:"Watch"},sponsored:{id:"ad.sponsored",defaultMessage:"Sponsored"},ad_text_unified:{id:"ad_text_unified",defaultMessage:"Ad"}});class ge extends d.Component{constructor(...e){super(...e),Te(this,"state",{previewVideoEnded:!1}),Te(this,"onAdChoiceClicked",(e=>{e.stopPropagation(),this.props.onAdChoiceClicked(e)})),Te(this,"renderSponsoredIcon",((e,t)=>d.createElement("button",{className:e.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},d.createElement(oe.Z,{kind:k.Kinds.SPONSORED,size:t,colorState:k.ColorStates.INHERITED})))),Te(this,"onPreviewVideoEnd",(()=>{this.setState({previewVideoEnded:!0})})),Te(this,"renderSponsoredImg",(e=>{const{msgListDensity:t,adPosition:s,pencilAdData:a,isAdblockPencilAd:n}=this.props;if(a.type===ce.aB.VideoAdType&&a.previewVideoUrl&&!n)return d.createElement("div",{className:e.previewVideo},this.state.previewVideoEnded?d.createElement("img",{"data-test-id":"play-icon",className:e.videoOverlay,src:(0,Ee.A)("/img/gemini_pencil_play.png")}):null,d.createElement("video",{muted:!0,className:e.previewVideoPlayer,ref:e=>this.previewVideoPlayer=e},d.createElement("source",{src:a.previewVideoUrl,type:a.previewVideoContentType})));if(a.adImg){const n=[le.u8.UNIFY_DESIGN_SECOND_AD_L,le.u8.UNIFY_DESIGN_S,le.u8.UNIFY_DESIGN_M,le.u8.UNIFY_DESIGN_L];let r=n[t];return s===A.e$m.MESSAGE_LIST_2&&r===le.u8.UNIFY_DESIGN_L&&(r=n[0]),d.createElement("div",{className:e.favicon},d.createElement(Ae.Z,{size:r,imageSrc:a.adImg}))}})),Te(this,"renderActionButton",((e,{type:t,callToAction:s})=>{const{formatMessage:a}=this.context.intl,n=t===ce.aB.VideoAdType?he.watch_btn_label:he.learn_more_btn_label,r=s||a(n);return d.createElement("div",{className:e.actionButtonContainer},d.createElement(ie.Z,{className:e.actionButton,title:r,"data-test-id":"learn-more-btn"},r))})),Te(this,"renderFeedbackMenu",(e=>{const{isCompactLayout:t,feedbackEnabled:s,sectionId:a,isAdFeedbackV2:n}=this.props;if(s)return d.createElement("div",{className:n?e.feedbackContainer:e.iconContainer,"data-test-id":"ad-feedback-menu"},d.createElement(de.Z,{size:k.Sizes.XXS,kind:n?k.Kinds.MORE:k.Kinds.CHEVRON_UP,sectionId:a,isCompactLayout:t,isAdFeedbackV2:n}))})),Te(this,"renderCompactAd",(({classNames:e,formatMessage:t,pencilAdData:s,isFlashSaleAd:a,flashSaleAdInSecondsEnabled:n,isSponsoredAd:r,isVideoAd:o,isAdFeedbackV2:i})=>d.createElement(d.Fragment,null,d.createElement("div",{className:e.gridB1},d.createElement("div",{className:e.imageContainer},i?d.createElement("button",{className:e.adTextContainer,onClick:this.onAdChoiceClicked,tabIndex:"-1"},"Ad"):this.renderSponsoredIcon(e,k.Sizes.XXS))),d.createElement("div",{className:e.gridB2},d.createElement("div",{className:e.message},d.createElement("div",{className:e.subjectContainer},d.createElement("span",{"data-test-id":"ad-subject",className:e.subject,"aria-label":s.adSource,title:s.adSource},s.adSource),d.createElement("div",{className:e.sponsoredContainer},!i&&d.createElement("button",{className:e.sponsored,onClick:this.onAdChoiceClicked,tabIndex:"-1"},t(he.ad_text_unified)),this.renderFeedbackMenu(e))),d.createElement("div",{"data-test-id":"ad-compact-headline",className:e.adHeadline,"aria-label":s.adHeadline,title:s.adHeadline},s.adHeadline),d.createElement("div",{className:e.snippetContainer},a?d.createElement(Ce,{flashSaleEndTime:s.flashSaleEndTime,countdownInSeconds:n}):null,!a&&d.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":s.adSummary,title:s.adSummary},s.adSummary),r||o?this.renderActionButton(e,s):null)))))),Te(this,"renderNormalAd",(({classNames:e,formatMessage:t,pencilAdData:s,msgListDensity:a,isFlashSaleAd:n,flashSaleAdInSecondsEnabled:r,isSponsoredAd:o,isVideoAd:i,isAdFeedbackV2:l})=>d.createElement(d.Fragment,null,d.createElement("div",{className:e.gridB1},d.createElement("div",{className:e.imageContainer},this.renderSponsoredImg(e)),d.createElement("div",{className:e.advertiserContainer},d.createElement("span",{"aria-label":s.adSource,title:s.adSource,className:e.advertiser},s.adSource))),d.createElement("div",{className:e.spacerContainer},l?d.createElement("button",{className:e.adTextContainer,onClick:this.onAdChoiceClicked,tabIndex:"-1"},"Ad"):this.renderSponsoredIcon(e,a===A.Ds1.SLIM?k.Sizes.XS:k.Sizes.S)),d.createElement("div",{className:e.gridB2},d.createElement("div",{className:e.message},d.createElement("span",{className:e.subject,"aria-label":s.adHeadline,title:s.adHeadline},s.adHeadline),d.createElement("div",{className:e.snippetContainer},n&&d.createElement(Ce,{flashSaleEndTime:s.flashSaleEndTime,countdownInSeconds:r}),!n&&d.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":s.adSummary,title:s.adSummary},s.adSummary),o||i||n?this.renderActionButton(e,s):null)),d.createElement("div",{className:e.adContainer},!l&&d.createElement("button",{className:e.sponsored,onClick:this.onAdChoiceClicked,tabIndex:"-1"},t(he.ad_text_unified))),this.renderFeedbackMenu(e)))))}componentDidMount(){this.previewVideoPlayer&&this.previewVideoPlayer.play&&(this.previewVideoPlayer.play(),this.previewVideoPlayer.onended=this.onPreviewVideoEnd)}render(){const{pencilAdData:e,onClick:t,isCompactLayout:s,adPosition:a,msgListDensity:n,flashSaleAdInSecondsEnabled:r,flashSaleAdEnabled:o,isAdFeedbackV2:i,isMailPlusUpsellAd:l,isMisclickSponsoredAd:c}=this.props,{formatMessage:E}=this.context.intl,_=o&&e.type===ce.aB.FlashSaleAdType&&e.flashSaleEndTime>Date.now(),u=e.type===ce.aB.NativeAdType||c,m=e.type===ce.aB.VideoAdType,S=u&&s,p=this.context.getCss(re(),{isCompactLayout:s,sponsoredCompactLayout:S,secondPencilAd:a===A.e$m.MESSAGE_LIST_2,msgListDensity:`${s?"compact_":""}${n}`,isFlashSaleAd:_}),C=s?"renderCompactAd":"renderNormalAd";return d.createElement("a",{rel:"noreferrer","data-test-id":`pencil-ad-${a}`,className:l||c?p.mailPlusUpsellLink:p.link,href:e.clickUrl,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:t},this[C]({classNames:p,formatMessage:E,pencilAdData:e,msgListDensity:n,isFlashSaleAd:_,flashSaleAdInSecondsEnabled:r,isSponsoredAd:u,isVideoAd:m,isAdFeedbackV2:i}))}}Te(ge,"contextTypes",{intl:m.intlShape.isRequired,getCss:c().func,getThemeMode:c().func,getTheme:c().func});const Ie=ge;var Re=s(17414),Oe=s(81660);function De(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ne=(0,m.defineMessages)({ad_text_unified:{id:"ad_text_unified",defaultMessage:"Ad"}});class fe extends d.Component{constructor(...e){super(...e),De(this,"onAdChoiceClicked",(e=>{e.stopPropagation(),this.props.onAdChoiceClicked(e)})),De(this,"renderSponsoredIcon",((e,t)=>d.createElement("button",{className:e.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},d.createElement(oe.Z,{kind:k.Kinds.SPONSORED,size:t,colorState:k.ColorStates.INHERITED})))),De(this,"renderSponsoredImg",(e=>{const{pencilAdData:t,msgListDensity:s,adPosition:a}=this.props;if(t.adImg){const n=[le.u8.UNIFY_DESIGN_SECOND_AD_L,le.u8.UNIFY_DESIGN_S,le.u8.UNIFY_DESIGN_M,le.u8.UNIFY_DESIGN_L];let r=n[s];return a===A.e$m.MESSAGE_LIST_2&&r===le.u8.UNIFY_DESIGN_L&&(r=n[0]),d.createElement("div",{className:e.favicon},d.createElement(Ae.Z,{size:r,imageSrc:t.adImg,doNotScaleUpImages:!0}))}})),De(this,"renderRating",((e,t)=>d.createElement("div",{className:t.starRatingContainer},d.createElement(Re.Z,{value:parseInt(e,10)/2})))),De(this,"renderCompactAd",(({classNames:e,formatMessage:t,pencilAdData:s,searchKeyword:a})=>d.createElement(d.Fragment,null,d.createElement("div",{className:e.gridB1},d.createElement("div",{className:e.imageContainer},this.renderSponsoredIcon(e,k.Sizes.XXS))),d.createElement("div",{className:e.gridB2},d.createElement("div",{className:e.message},d.createElement("div",{className:e.subjectContainer},d.createElement("span",{"data-test-id":"ad-subject",className:e.subject,"aria-label":s.adSource,title:s.adSource},s.adSource),d.createElement("div",{className:e.sponsoredContainer},d.createElement("button",{className:e.sponsored,onClick:this.onAdChoiceClicked},t(Ne.ad_text_unified)))),d.createElement("div",{"data-test-id":"ad-compact-headline",className:e.adHeadline,"aria-label":s.adHeadline,title:s.adHeadline},(0,Oe.UU)(!0,a,s.adHeadline,e.highlightedTerm)),d.createElement("div",{className:e.snippetContainer},d.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":s.adSummary,title:s.adSummary},(0,Oe.UU)(!0,a,s.adSummary,e.highlightedTerm)),s.rating&&this.renderRating(s.rating,e))))))),De(this,"renderNormalAd",(({classNames:e,formatMessage:t,pencilAdData:s,searchKeyword:a,msgListDensity:n})=>d.createElement(d.Fragment,null,d.createElement("div",{className:e.gridB1},d.createElement("div",{className:e.imageContainer},this.renderSponsoredImg(e)),d.createElement("div",{className:e.advertiserContainer},d.createElement("span",{"aria-label":s.adSource,title:s.adSource,className:e.advertiser},s.adSource))),d.createElement("div",{className:e.spacerContainer},this.renderSponsoredIcon(e,n===A.Ds1.SLIM?k.Sizes.XS:k.Sizes.S)),d.createElement("div",{className:e.gridB2},d.createElement("div",{className:e.message},d.createElement("span",{className:e.subject,"aria-label":s.adHeadline,title:s.adHeadline},(0,Oe.UU)(!0,a,s.adHeadline,e.highlightedTerm)),d.createElement("div",{className:e.snippetContainer},d.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":s.adSummary,title:s.adSummary},(0,Oe.UU)(!0,a,s.adSummary,e.highlightedTerm)),s.rating?this.renderRating(s.rating,e):null)),d.createElement("div",{className:e.adContainer},d.createElement("button",{className:e.sponsored,onClick:this.onAdChoiceClicked},t(Ne.ad_text_unified)))))))}render(){const{pencilAdData:e,onClick:t,isCompactLayout:s,adPosition:a,msgListDensity:n,searchKeyword:r}=this.props,{formatMessage:o}=this.context.intl,i=this.context.getCss(re(),{noAdFeedback:!0,isCompactLayout:s,secondPencilAd:a===A.e$m.MESSAGE_LIST_2,msgListDensity:`${s?"compact_":""}${n}`}),l=s?"renderCompactAd":"renderNormalAd";return d.createElement("a",{rel:"noreferrer","data-test-id":`pencil-ad-${a}`,className:`${i.link} ${i.transparentBackgroundLink}`,href:e.clickUrl,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:t},this[l]({classNames:i,searchKeyword:r,formatMessage:o,pencilAdData:e,msgListDensity:n}))}}De(fe,"contextTypes",{intl:m.intlShape.isRequired,getCss:c().func,getThemeMode:c().func,getTheme:c().func});const Me=fe;var Le=s(3405),Pe=s(336),ye=s(85927),be=s(64059),Fe=s(70302),Ue=s(24947),ve=s(87771);function we(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ge=(0,m.defineMessages)({mailplus_sponsor_summary:{id:"mailplus_sponsor_summary",defaultMessage:"{mailPlusMonthlyPrice}/month"},mailplus_sponsor_headline:{id:"mailplus_sponsor_headline",defaultMessage:"Treat yourself to an ad-free inbox and so many mail upgrades."},go_ad_free:{id:"ad_upsell_label",defaultMessage:"Go ad-free"}});class ke extends d.Component{constructor(...e){super(...e),we(this,"handleAdClicked",(e=>{const{pencilAdData:t,listId:s,sectionId:a,pencilAdClicked:n,isMailPlusUpsellAd:r,isMisclickSponsoredAd:o}=this.props;if(n({i13nModel:{mKey:J.JE.PENCIL_AD_CLICKED,sec:J.nJ.MSG_LIST_AD,interactionType:(0,ee.getInteractionFromEvent)(e),actionData:{sectionId:t.sectionId||a,type:t.type,isMisclickSponsoredAd:o}}}),-1!==[ce.aB.NativeAdType,ce.aB.VideoAdType].indexOf(t.type)||r||o){e.preventDefault();const a=(0,C.u9)(t,"actionUrls.IMPR_INTERNAL",[]);switch(t.type){case ce.aB.NativeAdType:case ce.aB.VideoAdType:(0,Pe.Z)(t.clickUrl,!1),a.forEach((function(e){e=e.replace("$(impr_label)","msm_open"),(0,Pe.Z)(e,!1)}))}this.context.navigateTo({route:(0,Le.Q0)(s,t.creativeId,o)})}})),we(this,"onAdChoiceClicked",(e=>{e.preventDefault(),e.stopPropagation(),(0,be.x)(this.props.aboutAdsUrl)})),we(this,"prepareMisclickSponsoredAd",(()=>{const{formatMessage:e}=this.context.intl,{yahooMailPlusBrandName:t}=this.context,{mailPlusMonthlyPrice:s,themeMode:a}=this.props,n=a===$.zg.DARK;return{adImg:(0,Ee.A)(n?"/img/y_plus_badge_white.svg":"/img/y_plus_badge_color.svg"),adSource:t,adHeadline:e(Ge.mailplus_sponsor_headline),adSummary:e(Ge.mailplus_sponsor_summary,{mailPlusMonthlyPrice:s}),callToAction:e(Ge.go_ad_free)}}))}shouldComponentUpdate(e){return e.pencilAdData.clickUrl!==this.props.pencilAdData.clickUrl||e.isCompactLayout!==this.props.isCompactLayout||e.viewabiltyContainerNode!==this.props.viewabiltyContainerNode||e.msgListDensity!==this.props.msgListDensity||e.feedbackStatus!==this.props.feedbackStatus||e.showMessageListBanner!==this.props.showMessageListBanner||e.isMisclickSponsoredAd!==this.props.isMisclickSponsoredAd}renderAdListItem(){const{isCompactLayout:e,adPosition:t,pencilAdData:s,flashSaleAdEnabled:a,flashSaleAdInSecondsEnabled:n,msgListDensity:r,sectionId:o,searchKeyword:i,isAdFeedbackV2:l,isMailPlusUpsellAd:c,isAdblockPencilAd:E,isMisclickSponsoredAd:_}=this.props;return s.type===ce.aB.SearchAdType?d.createElement(Me,{key:s.type,onClick:this.handleAdClicked,onAdChoiceClicked:this.onAdChoiceClicked,pencilAdData:s,isCompactLayout:e,adPosition:t,msgListDensity:r,searchKeyword:i}):d.createElement(Ie,{key:s.type,onClick:this.handleAdClicked,onAdChoiceClicked:this.onAdChoiceClicked,pencilAdData:_?this.prepareMisclickSponsoredAd():s,isCompactLayout:e,feedbackEnabled:!0,adPosition:t,flashSaleAdEnabled:a,flashSaleAdInSecondsEnabled:n,msgListDensity:r,sectionId:o,isAdFeedbackV2:l,isMailPlusUpsellAd:c,isMisclickSponsoredAd:_,isAdblockPencilAd:E})}render(){const{pencilAdData:e,viewabiltyContainerNode:t,sectionId:a,feedbackStatus:n,isCompactLayout:r,msgListDensity:o,themeMode:i,purchaseMailproFreeTrial:l,showMessageListBanner:c,isMisclickSponsoredAd:E}=this.props;if(c&&(!e||e.type!==ce.aB.SearchAdType)){const e={upsellId:this.props.upsellId};return d.createElement(ve.cr,{import:"../../atoms/mailpro_free_trial/message_list_banner",isCompactLayout:r,msgListDensity:o,themeMode:i,purchaseMailproFreeTrial:l,cueName:A.ANe.MAILPRO_FREE_TRIAL_UPSELLS,computeUserResponse:()=>this.props.upsellId,computeActionData:()=>e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,93745))},_moduleResolver:function(){return 93745}})}if(!e||!e.clickUrl)return null;return n===A._re.STARTED||n===A._re.SUBMITTED||n===A._re.DELETED||n===A._re.LIKED?d.createElement(ae.ZP,{sectionId:a}):E?this.renderAdListItem():d.createElement(Fe.ZP,{pencilAdData:e,sectionId:a,rootNode:t},this.renderAdListItem())}}we(ke,"contextTypes",{navigateTo:c().func,intl:m.intlShape.isRequired,store:c().object,yahooMailPlusBrandName:c().string});const He=(0,S.connect)(((e,t)=>{const{getAdsSelectors:s,isFeatureEnabled:a,getSetting:n,getRoute:r,getAction:o,getMailPremiumFreeTrialSelectors:i}=(0,ye.selectors)(e),{sectionId:l}=t,c=s(),d=r(),E=d.name===A.n8z.SEARCH,_=n(A.Zrf.PREVIEW_PANE)===A.EsZ.RIGHT,u=n(A.Zrf.GEMINI_SECTION_IDS),{MESSAGE_LIST:m,MESSAGE_LIST_2:S,ADBLOCK_MESSAGE_LIST:p}=A.e$m,C=(0,te.LY)(d),T=(0,te.Q7)(C),h=c.getAdFeedbackStatus(),g=i().getUpsellId(),I=a(A.ANe.MAILPRO_FREE_TRIAL_UPSELLS)&&g===A.$AH.PRE_SIGNUP_PENCIL_BANNER,R=c.getPencilAdData(l);let{creativeId:O}=R;O=parseInt(O,10)||0;const D=n(A.Zrf.GEMINI_MAIL_PLUS_ADS_CREATIVE_IDS),N=c.isABPDetected(),f=n(A.Zrf.MAIL_PLUS_MONTHLY_PRICE),M=a(A.ANe.MAIL_PLUS_SPONSORED_MESSAGE_ON_AD_MISCLICK)&&c.hasAdBeenMisclicked();return{aboutAdsUrl:n(A.Zrf.ABOUT_AD_URL),isSearchRoute:E,pencilAdData:R,flashSaleAdEnabled:a(A.ANe.FLASH_SALE_AD),flashSaleAdInSecondsEnabled:a(A.ANe.FLASH_SALE_AD_IN_SECONDS),msgListDensity:n(A.Zrf.MSG_LIST_DENSITY),action:o(),isCompactLayout:_,adPosition:l===u[m]||l===u[p]?m:S,searchKeyword:T,isAdFeedbackV2:a(A.ANe.AD_FEEDBACK_V2),feedbackStatus:h[l],themeMode:n(A.Zrf.THEME_MODE),showMessageListBanner:I,upsellId:g,isMailPlusUpsellAd:a(A.ANe.MAIL_PLUS_SPONSORED_MESSAGE)&&-1!==D.indexOf(O),isMisclickSponsoredAd:M,isAdblockPencilAd:N,mailPlusMonthlyPrice:f}}),(e=>({pencilAdClicked:t=>e((0,me.gB)(t)),purchaseMailproFreeTrial:t=>e((0,Ue.A)(t))})))(ke);var Be=s(79483),xe=s(45481),Ve=s(40902),We=s(72103),Ze=s(79918),Ke=s.n(Ze);function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function qe(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ye=(0,m.defineMessages)({coupon_aria_label:{id:"coupon_aria_label",defaultMessage:"{fromName}'s coupon"},openMessage:{id:"coupon.openMessage",defaultMessage:"Open Message"}});class je extends d.Component{constructor(...e){super(...e),qe(this,"state",{hovered:!1,openMailClicked:!1,parentMessageRequested:!1}),qe(this,"handleOpenMail",(e=>{const{openMailClicked:t}=this.state;e.preventDefault(),e.stopPropagation(),t||this.setState({openMailClicked:!0})})),qe(this,"openParentMessage",(()=>{const{cardMid:e,fromEmail:t,saved:s,isAffiliatePartnerEnabled:a,listId:n,groupId:r,cardConversationId:o,getParentGroupId:i}=this.props,{parentMessageRequested:l}=this.state;if(r){const o={mKey:J.JE.COUPON_OPENED,sec:J.nJ.COUPONS_LIST,actionData:{cardMid:e,fromEmail:t,isSavedDeal:s,isAffiliatePartnerEnabled:a}};this.props.onCouponClick({route:(0,Le.m9)(n,r),streamItem:{listId:n,id:r},i13nModel:o,full:!0}),this.setState({openMailClicked:!1})}else l||(i(o),this.setState({parentMessageRequested:!0}))})),qe(this,"handleAffiliateLinkClick",(e=>{const{cardMid:t,dealLink:s,fromEmail:a}=this.props;Be.ZP.sendI13nModel({i13nModel:{mKey:J.JE.CARD_INTERACT,sec:J.nJ.COUPONS_LIST,actionData:{xpname:A.pdX.COUPON_SMART_VIEW_COUPON_LIST_ITEM,msgId:t,brandurl:s,cardId:t,slot:J.KJ.COUPON_SMART_VIEW,sndr:a,affiliatePartner:e,featurefamily:A.lMo.IC,interactiontype:J.Rb.click,interacteditem:"deal_email"}}})})),qe(this,"clipCoupon",(e=>{e.preventDefault(),e.stopPropagation();const{cardMid:t}=this.props,s={mKey:J.JE.COUPON_CLIPPED,sec:J.nJ.COUPONS_LIST};this.props.clip({cardMid:t,i13nModel:s})})),qe(this,"unclipCoupon",(e=>{e.preventDefault(),e.stopPropagation();const t={mKey:J.JE.COUPON_UNCLIPPED,sec:J.nJ.COUPONS_LIST},{cardMid:s}=this.props;this.props.unclip({cardMid:s,i13nModel:t})}))}componentDidUpdate(){const{openMailClicked:e}=this.state;e&&this.openParentMessage()}render(){const{saved:e,cardMid:t,daysUntilExpiry:s,dealLink:a,description:n,fromEmail:r,fromName:o,hideBottomBorder:i,isAffiliatePartnerEnabled:l,isInferredDate:c,locale:E,partner:u,appId:m}=this.props;if(!r||!o||!n)return null;const{formatMessage:S}=this.context.intl,p=this.context.getTheme(),C=this.context.getThemeMode(),A=_()(Ke(),{themeCombo:`${C}_${p}`,themeMode:C,hideBottomBorder:i}),T={target:"_blank",title:n,rel:"noreferrer"};if(l&&a){const{affiliatePartnerName:e="",affiliatePartnerUrl:t=""}=(0,xe.sx)({affiliateLink:a,locale:E,partner:u,appId:m});T.href=t,T.onClick=()=>this.handleAffiliateLinkClick(e)}else a&&(T.href=a);return d.createElement("a",ze({role:"row","data-test-id":"coupon-list-item","aria-label":S(Ye.coupon_aria_label,{fromName:o}),onClick:this.handleOpenMail,className:A.container,key:t,onMouseOver:()=>this.setState({hovered:!0}),onMouseLeave:()=>this.setState({hovered:!1}),rel:"noreferrer"},T),d.createElement("span",{className:A.avatar},d.createElement(le.ZP,{"data-test-id":"coupon-vendor-xavatar",contact:{email:r},size:le.u8.C,useFallbackImage:!1})),d.createElement("div",{className:A.subContainer},d.createElement("div",{className:A.vendorGrid},d.createElement("span",{"data-test-id":"coupon-vendor-name",className:A.vendorName,title:r},o)),d.createElement("div",{className:A.infoGrid},e?d.createElement(ie.Z,{className:A.clippedButton,onClick:this.unclipCoupon,"data-test-id":"unclip-coupon-btn"},d.createElement(oe.Z,{kind:k.Kinds.SCISSORS,size:k.Sizes.XXS,colorState:k.ColorStates.INVERTED})):d.createElement(ie.Z,{className:A.unclippedButton,onClick:this.clipCoupon,"data-test-id":"clip-coupon-btn"},d.createElement(oe.Z,{kind:k.Kinds.SCISSORS,size:k.Sizes.XXS,colorState:k.ColorStates.INHERITED})),d.createElement("span",{"data-test-id":"coupon-description",className:l&&a?A.affiliatePartnerDescription:A.description},n),this.state.hovered?d.createElement(B.default,{kind:k.Kinds.SELECTED,size:k.Sizes.XS,onClick:this.handleOpenMail,colorState:k.ColorStates.INHERITED,className:A.openEmailIcon,title:S(Ye.openMessage),"data-test-id":"open-email-icon"}):null,d.createElement("div",{className:A.dateWrapper,"data-test-id":"expiry-date-wrapper"},e?d.createElement("strong",{"data-test-id":"clipped-cpn-expiry-info"},d.createElement(Ve.Z,{daysUntilExpiry:s,isInferred:c})):d.createElement("span",{className:A.unclippedCpnExpiryInfo,"data-test-id":"unclipped-cpn-expiry-info"},d.createElement(Ve.Z,{daysUntilExpiry:s,isInferred:c}))))))}}qe(je,"contextTypes",{intl:m.intlShape.isRequired,getUrlFromRoute:c().func,getThemeMode:c().func,getTheme:c().func,executeAction:c().func});const Qe=(0,S.connect)(We.K,We.ZS)(je);var Xe=s(16107),Je=s.n(Xe),$e=s(57801);function et(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const tt=(0,m.defineMessages)({RECOMMENDATION:{id:"shopping_cart_ad.recommendation",defaultMessage:"Recommended item"},ADD_TO_CART:{id:"shopping_cart_ad.add_to_cart",defaultMessage:"Item from your shopping cart"},VIEW:{id:"shopping_cart_ad.view",defaultMessage:"Pick up where you left off"},learnMore:{id:"learn_more_btn_label",defaultMessage:"Learn More"}}),st={};class at extends d.Component{constructor(...e){super(...e),et(this,"state",{adImageHover:!1}),et(this,"listNode",document.querySelector('[data-test-id="mail-reader-list-container"]')),et(this,"onAdChoiceClicked",(e=>{e.preventDefault(),e.stopPropagation(),(0,be.x)(this.props.aboutAdsUrl)})),et(this,"onAdImageHoverChange",((e,t)=>{e.preventDefault(),e.stopPropagation(),this.props.adVersion===A.C96.CTR_ON_IMG&&this.setState({adImageHover:t})})),et(this,"onAdClicked",(()=>{this.props.onAdClicked({i13nModel:{mKey:J.JE.DEALS_SHOPPING_CART_AD_CLICKED,sec:J.nJ.COUPONS_LIST}})}))}componentDidMount(){const e=this.props.pencilAd&&this.props.pencilAd.clickUrl;e&&!st[e]&&(this.shoppingCartBeaconTimer=setImmediate((()=>{st[e]||(this.props.onAdRendered({i13nModel:{mKey:J.JE.DEALS_SHOPPING_CART_AD_RENDERED,sec:J.nJ.SHOPPING_CART}}),st[e]=!0)})))}componentWillUnmount(){clearImmediate(this.shoppingCartBeaconTimer)}render(){const{pencilAd:e,isWideView:t,adVersion:s,isCompactView:a}=this.props,n=s===A.C96.THEMED_BUTTON,r=this.context.getCss(Je(),{isWideView:t,isCompactView:a,themedAdActivity:n,ctaOnImg:!n}),{formatMessage:o}=this.context.intl,{clickUrl:i,origImg:l,productAdActivity:c,productAdActivityMessage:E,adHeadline:_,adSource:u,sectionId:m,callToAction:S}=e,p=tt[c]?o(tt[c]):E,C=n?{color:R.Cjz}:{},T=this.state.adImageHover?{visibility:"visible"}:{};return i?d.createElement(Fe.ZP,{rootNode:this.listNode,pencilAdData:e,sectionId:m,className:r.viewabilityTracker},d.createElement("a",{className:r.adContainer,href:i,target:"_blank",rel:"noreferrer",onClick:this.onAdClicked},d.createElement("div",{className:r.imageContainer,style:{backgroundImage:`url(${l})`},onMouseEnter:e=>this.onAdImageHoverChange(e,!0),onMouseLeave:e=>this.onAdImageHoverChange(e,!1)},s===A.C96.CTR_ON_IMG?d.createElement("div",{className:r.ctaBackground},d.createElement("span",{className:r.cta,style:T},S)):null),d.createElement("span",{className:r.content},d.createElement("div",{className:r.fromNameContainer},d.createElement("span",{className:r.fromName},u),d.createElement("button",{className:r.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},d.createElement(oe.Z,{kind:k.Kinds.SPONSORED,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED}))),d.createElement("span",{className:r.description},_),d.createElement("span",{className:r.adActivity,style:C},p||o(tt.RECOMMENDATION))))):null}}et(at,"defaultProps",{pencilAd:{}}),et(at,"contextTypes",{getCss:c().func,intl:m.intlShape.isRequired});const nt=(0,S.connect)(We.f9,We.c_)(at);function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function ot(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class it extends d.Component{constructor(...e){super(...e),ot(this,"handleAffiliateLinkClick",(e=>{const{cmid:t,parentMessageId:s,dealLink:a,retailer:n,relevanceScore:r}=this.props;Be.ZP.sendI13nModel({i13nModel:{mKey:J.JE.CARD_INTERACT,sec:J.nJ.COUPONS_LIST,actionData:{xpname:A.pdX.COUPON_SMART_VIEW_DEAL_ITEM,msgId:s,cardId:t,brandurl:a,slot:J.KJ.COUPON_SMART_VIEW,sndr:n,affiliatePartner:e,featurefamily:A.lMo.IC,interactiontype:J.Rb.click,interacteditem:"deal_card",score:r}}})}))}render(){const{creativeId:e,dealLink:t,description:s,imageUrl:a,isAffiliatePartnerEnabled:n,locale:r,mainContentWidth:o,marginLess:i,partner:l,retailer:c="",retailerLogoUrl:E,appId:_}=this.props,u=o>$e.v4,m=o<$e.Si,S=this.context.getCss(Je(),{isWideView:u,isCompactView:m,marginLess:i}),p=!e,{affiliatePartnerName:C,affiliatePartnerUrl:A}=n&&t?(0,xe.sx)({affiliateLink:t,locale:r,partner:l,appId:_}):{affiliatePartnerName:"",affiliatePartnerUrl:""},T={target:"_blank",title:s,rel:"noreferrer"};return n&&t?(T.href=A||t,T.onClick=()=>this.handleAffiliateLinkClick(C)):t&&(T.href=t),p?d.createElement("a",rt({className:S.container},T),d.createElement("img",{className:S.image,src:a||E||(0,Ee.A)("/img/deal_image_placeholder.png")}),d.createElement("span",{className:S.content},d.createElement("span",{className:S.fromName},c),d.createElement("span",{className:S.description},s))):d.createElement(nt,rt({},this.props,{isWideView:u,isCompactView:m}))}}ot(it,"contextTypes",{getCss:c().func});const lt=(0,S.connect)(We.K,We.ZS)(it);function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class dt extends d.Component{componentDidMount(){const{items:e=[]}=this.props,t=e.map((e=>e.cmid||"")),s=e.map((e=>e.relevanceScore||0)),a={featurefamily:A.lMo.IC,slot:J.KJ.COUPON_SMART_VIEW,cardId:t,score:s,xpname:A.pdX.RECOMMENDED_DEALS};Be.ZP.sendI13nModel({i13nModel:{mKey:J.JE.CARD_VIEW,sec:J.nJ.COUPONS_LIST,actionData:a}})}render(){const e=this.context.getCss(Je()),{items:t=[]}=this.props;return d.createElement("div",{className:e.row,"data-test-id":"top-deals-row"},t.map(((e,t)=>d.createElement(lt,ct({key:e.cmid||e.creativeId},e,{marginLess:0===t})))))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(dt,"contextTypes",{getCss:c().func});var Et=s(51418),_t=s.n(Et),ut=s(78737);function mt({onRetry:e,route:t,isOnline:s},a){const n=a.getCss(_t());return s?d.createElement("div",{"data-test-id":"message-group-list-error",className:n.errorContainer},d.createElement("p",null,d.createElement(m.FormattedMessage,{id:"folder_loading_error",defaultMessage:"An error occurred while trying to fetch the items in this list."})),d.createElement("a",{"data-test-id":"list-loading-error-retry",className:n.listLoadingRetry,onClick:()=>e({route:t})},d.createElement(m.FormattedMessage,{id:"list_loading_error_retry",defaultMessage:"Retry"}))):d.createElement("div",{"data-test-id":"message-group-list-error",className:n.errorContainer},d.createElement("p",null,d.createElement(m.FormattedMessage,{id:"list_offline_loading_error",defaultMessage:"You are offline."})))}mt.contextTypes={getCss:c().func};const St=(0,S.connect)((e=>{const{getRoute:t,normalizeRoute:s,isOnline:a}=(0,ye.selectors)(e);return{route:s(t()),isOnline:a()}}),(e=>({onRetry:t=>e((0,ut.Ch)({...t,retry:!0,forceSync:!0}))})))(mt);var pt=s(82406),Ct=s.n(pt),At=s(13556);const Tt=_()(Ct());class ht extends d.Component{render(){const{count:e,formatNumber:t}=this.props;return(this.props.x||this.props.y)&&(this.iconStyles={left:this.props.x,top:this.props.y}),d.createElement("div",{className:this.iconStyles&&Tt.dragIcon,style:this.iconStyles?this.iconStyles:{}},d.createElement(oe.Z,{kind:k.Kinds.INBOX,size:k.Sizes.XS}),d.createElement("b",{className:Tt.counter},t(e)))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(ht,"defaultProps",{formatNumber:e=>""+e});const gt=(0,S.connect)((e=>{const{getNumberOfSelectedItemsInList:t,getRoute:s}=(0,ye.selectors)(e),a=s();let n=t((0,te.LY)(a));return n>At.DT&&(n=At.DT),{count:n}}))(ht),It=(0,S.connect)(((e,t)=>{const{cardMid:s,conversationId:a,messageId:n}=t,{getMessagesSelectors:r,getFeaturesSelectors:o}=(0,ye.selectors)(e),{getFromAddresses:i}=r(),l=o().isEnabled(A.ANe.CONVERSATIONS)?a:n,c=i(s);let d="",E="";return c&&c.length>0&&(d=c[0].email,E=c[0].name),{fromEmail:d,fromName:E,groupId:l}}));var Rt=s(60275),Ot=s.n(Rt);function Dt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Nt=(0,m.defineMessages)({receipt_aria_label:{id:"receipt_aria_label",defaultMessage:"{fromName}'s receipt"},receipt_multiple_items:{id:"receipt_multiple_items",defaultMessage:"& {numItems} other {numItems, plural, =1 {item} other {items}}"}});class ft extends d.Component{constructor(...e){super(...e),Dt(this,"handleReceiptClick",(e=>{e.preventDefault();const{cardMid:t,fromEmail:s,listId:a,groupId:n}=this.props,r={mKey:J.JE.RECEIPT_OPENED,sec:J.nJ.RECEIPTS_LIST,actionData:{cardMid:t,fromEmail:s}};this.props.onReceiptClick({route:(0,Le.m9)(a,n),streamItem:{listId:a,id:n},i13nModel:r})}))}render(){const{fromEmail:e,fromName:t,itemName:s,hideBottomBorder:a,price:n,currency:r,orderDate:o,numItems:i}=this.props,{formatMessage:l,formatNumber:c}=this.context.intl,E=this.context.getTheme(),u=this.context.getThemeMode(),S=i<2?null:l(Nt.receipt_multiple_items,{numItems:i-1}),p=_()(Ot(),{themeCombo:`${u}_${E}`,themeMode:u,hideBottomBorder:a,noItemName:!s}),C=()=>{return r?c(n,{style:"currency",currency:r}):`${e=n,parseFloat(e.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0]).toFixed(2)}`;var e};return d.createElement("a",{role:"row","data-test-id":"receipt-list-item","aria-label":l(Nt.receipt_aria_label,{fromName:t}),onClick:this.handleReceiptClick,className:p.container},d.createElement("span",{className:p.avatar},d.createElement(le.ZP,{"data-test-id":"receipt-vendor-xavatar",contact:{email:e},size:le.u8.C,useFallbackImage:!1})),d.createElement("div",{className:p.subContainer},d.createElement("div",{className:p.vendorGrid},d.createElement("span",{"data-test-id":"receipt-vendor-name",className:p.vendorName,title:e},t)),d.createElement("div",{className:p.infoGrid},d.createElement("span",{"data-test-id":"receipt-itemName",className:p.itemName},s," ",S),(e=>null!==e&&!isNaN(e))(n)?d.createElement("span",{"data-test-id":"receipt-price",className:p.price,"aria-label":C()},C()):null,d.createElement("div",{className:p.dateWrapper,"data-test-id":"date-received-wrapper"},d.createElement("span",{className:p.date,"data-test-id":"date-received-info"},d.createElement(m.FormattedDate,{value:new Date(o).toUTCString(),timeZone:"UTC",day:"2-digit",month:"short"}))))))}}Dt(ft,"contextTypes",{intl:m.intlShape.isRequired,getUrlFromRoute:c().func,getThemeMode:c().func,getTheme:c().func,executeAction:c().func});const Mt=It(ft);var Lt=s(96862),Pt=s.n(Lt),yt=s(16488),bt=s(69954),Ft=s(4846),Ut=s.n(Ft);function vt(e,t){const s=t.getCss(Ut());return d.createElement("div",{"data-test-id":"did-you-mean",className:s.didYouMean},d.createElement(m.FormattedMessage,{id:"search.did_you_mean",defaultMessage:"No results found. Showing search results for: {suggestedWord}.",values:{suggestedWord:d.createElement("span",{className:s.didYouMeanWord,"data-test-id":"did-you-mean-word"},e.suggestedWord)}}))}vt.contextTypes={getCss:c().func};var wt=s(55376),Gt=s.n(wt),kt=s(33364),Ht=s(70006);function Bt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const xt=(0,m.defineMessages)({related_searches:{id:"search.related_searches",defaultMessage:"Related searches:"},related_search:{id:"search.related_search",defaultMessage:"Related search:"}});class Vt extends d.Component{constructor(...e){super(...e),Bt(this,"renderPill",((e,t,s,a)=>{const{name:n,position:r,id:o,email:i,emails:l=[]}=e,c=i||l[0],E=this.context.getThemeMode()===$.zg.DARK;return d.createElement(kt.default,{key:o+c,email:c,isCompose:!1,name:n},d.createElement(Ht.default,{value:n,title:r,contactId:o,contactEmail:c,isLastElement:t===s.length-1,isSelected:a,onPillClick:()=>this.props.onClick(e),contact:e,useEllipsis:!0,maxWidth:R.hMM.S,isDark:E}))}))}static filterContacts(e){return e.length&&(e=e.filter((e=>{const{email:t,emails:s=[]}=e;return!!(t||s[0])}))),e}render(){const e=this.props.maxContactsVisible,t=Vt.filterContacts(this.props.contacts).slice(0,e),s=t.length>1?xt.related_searches:xt.related_search,a=this.context.getCss(Gt());return t.length>0&&d.createElement("div",{className:a.container,"data-test-id":"search-suggest-contact"},d.createElement("div",{className:a.labelPadding},d.createElement(m.FormattedMessage,s)),t.map(((e,s)=>this.renderPill(e,s,t,!1))))}}Bt(Vt,"contextTypes",{intl:m.intlShape.isRequired,getCss:c().func,getThemeMode:c().func}),Bt(Vt,"defaultProps",{tabIndex:-1,maxContactsVisible:2,selectedContacts:[],contacts:[]});const Wt=Vt;var Zt=s(18030),Kt=s(65304),zt=s(31208),qt=s.n(zt),Yt=s(83034),jt=s(39239);c().func.isRequired,c().func.isRequired;const Qt=(0,S.connect)(void 0,(e=>({toggleAdvancedSearchPane:t=>e((0,jt.p)(t))})))((({handleClick:e,toggleAdvancedSearchPane:t})=>{const s=(0,Yt.Z)(qt());return d.createElement("div",{"data-iskeynav":!0,"data-test-id":"advanced-search-link",className:s.linkContainer,role:"button",onClick:s=>{t(),e(s)},onKeyDown:s=>{s.preventDefault(),s.stopPropagation(),s.key===A.R8U.ENTER&&(t(),e(s))}},d.createElement(m.FormattedMessage,{id:"search_header.advanced_search_label",defaultMessage:"Advanced search"}))}));var Xt=s(90406),Jt=s(68003);function $t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const es=(0,m.defineMessages)({messages_aria_label:{id:"search.messages_aria_label",defaultMessage:"Messages, selected"},images_aria_label:{id:"search.images_aria_label",defaultMessage:"Images, selected"},documents_aria_label:{id:"search.documents_aria_label",defaultMessage:"Documents, selected"},content_filter_messages:{id:"search.content_filter_messages",defaultMessage:"Messages"},content_filter_images:{id:"photos_label",defaultMessage:"Photos"},content_filter_documents:{id:"search.content_filter_documents",defaultMessage:"Documents"}});class ts extends d.Component{constructor(...e){super(...e),$t(this,"state",{imagesHeader:null}),$t(this,"handleContentTypeChange",((e,t)=>{const s=J.JE["FILTER_"+t],a=s?{mKey:s,sec:J.nJ.HEADER_LIST,interactionType:(0,ee.getInteractionFromEvent)(e)}:null;this.props.onContentTypeChange({listContentType:t,i13nModel:a})})),$t(this,"handleAdvancedSearchLinkClick",(e=>{const t={mKey:J.JE.ADVANCED_SEARCH,interactionType:(0,ee.getInteractionFromEvent)(e)};this.props.focusSearchBar({i13nModel:t})})),$t(this,"renderContentTypeFilter",(()=>{const{activeContentType:e}=this.props,{formatMessage:t}=this.context.intl,s=e===A.F6k.MESSAGES,a=e===A.F6k.IMAGES,n=e===A.F6k.DOCUMENTS;return d.createElement(yt.Z,null,d.createElement(bt.Z,{isSelected:s,onClick:e=>this.handleContentTypeChange(e,A.F6k.MESSAGES),"data-test-id":"btn-messages-tab",tabIndex:-1,title:t(es.content_filter_messages)}),d.createElement(bt.Z,{isSelected:a,onClick:e=>this.handleContentTypeChange(e,A.F6k.IMAGES),"data-test-id":"btn-photos-tab",title:t(es.content_filter_images),tabIndex:-1,ref:e=>{this.state.imagesHeader||this.setState({imagesHeader:e})}}),d.createElement(bt.Z,{isSelected:n,onClick:e=>this.handleContentTypeChange(e,A.F6k.DOCUMENTS),"data-test-id":"btn-documents-tab",tabIndex:-1,title:t(es.content_filter_documents)}),this.renderSearchCue())})),$t(this,"updateContent",(()=>{this.popoverContent&&this.popoverContent.updatePosition()})),$t(this,"renderSearchCue",(()=>this.props.showSearchCue&&this.state.imagesHeader?d.createElement(Zt.yk,{popoverAnchor:this.state.imagesHeader,align:Kt.xM.CENTER,triggerOn:Kt.K2.MOUNT,permittedArrowDirections:[Kt.Ji.UP],offset:16,ref:e=>{this.popoverContent=e},zAltitude:R.LSY.POPOVER.HIGH},d.createElement(ve.cr,{import:"../molecules/search_header/atoms/search_cue",cueName:A.ANe.SEARCH_CUE,onShow:this.updateContent,close:this.props.activeContentType!==A.F6k.MESSAGES,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,18848))},_moduleResolver:function(){return 18848}})):null)),$t(this,"renderSuggestedWords",(()=>{const{suggestedWords:e}=this.props,[t]=e;return t?d.createElement(vt,{suggestedWord:t}):null})),$t(this,"renderSuggestedContacts",(()=>{const{suggestedContacts:e,suggestedWords:t}=this.props;return t.length?null:!this.props.isPeopleSearch&&e&&e.length>0&&d.createElement(Wt,{contacts:e,onClick:this.props.onContactClick})}))}render(){const{showAdvancedSearchInSearchHeader:e}=this.props,t=this.context.getCss(Pt());return d.createElement(Jt.Z,{axis:Jt.U.HORIZONTAL,circularNavigation:!1,groupTabIndex:R.iUz.SEGMENTED_CONTROL_FILTERS,role:"toolbar",className:t.searchHeader,"data-test-id":"search-header"},this.renderContentTypeFilter(),e&&d.createElement(Qt,{handleClick:this.handleAdvancedSearchLinkClick}),this.renderSuggestedWords(),this.renderSuggestedContacts())}}$t(ts,"contextTypes",{getCss:c().func,intl:m.intlShape.isRequired});const ss=(0,S.connect)((e=>{const{isFeatureEnabled:t}=(0,ye.selectors)(e);return{showAdvancedSearchInSearchHeader:t(A.ANe.ADVANCED_SEARCH_IN_SEARCH_HEADER)}}),(e=>({focusSearchBar:({i13nModel:t})=>e((0,Xt.tB)({i13nModel:{sec:J.nJ.HEADER_SEARCH,...t}}))})))(ts);function as(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class ns extends d.Component{constructor(...e){super(...e),as(this,"handleContentTypeChange",(({listContentType:e,i13nModel:t})=>{this.context.navigateTo({route:(0,Le.dM)((0,te.tE)(this.props.listId,{listContentType:e})),i13nModel:t})})),as(this,"handleContactClick",(e=>{const{name:t,email:s,emails:a=[]}=e,n=s||a[0];this.context.navigateTo({route:(0,Le.jq)({emailAddresses:n,name:t})})}))}render(){return d.createElement(ss,{suggestedWords:this.props.suggestedWords,onContentTypeChange:this.handleContentTypeChange,onContactClick:this.handleContactClick,isPeopleSearch:(0,te.lG)(this.props.listId),activeContentType:(0,te.WN)(this.props.listId),keyword:(0,te.Q7)(this.props.listId),suggestedContacts:this.props.suggestedContacts,showSearchCue:this.props.showSearchCue})}}as(ns,"contextTypes",{executeAction:c().func,navigateTo:c().func.isRequired});const rs=(0,S.connect)(((e,t)=>{const s=(0,te.tE)(t.listId,{listContentType:A.F6k.PEOPLE,listFilter:A.ukn.WITH_KEYWORD}),{getFeaturesSelectors:a,doesListExist:n,getPeopleListItems:r,getListSuggestedWords:o,getCurrentListId:i}=(0,ye.selectors)(e),l=a(),c=n(s)?r(s):[],d=i();return{suggestedWords:n(d)?o(d):[],suggestedContacts:c,showSearchCue:l.isEnabled(A.ANe.SEARCH_CUE)}}))(ns),os=(0,S.connect)(((e,t)=>{const{schemaId:s}=t,{getFlightsSelectors:a}=(0,ye.selectors)(e),{getFlightCard:n}=a(),{departureAirportDesc:r,departureAirportCode:o,departureAirportName:i,arrivalAirportDesc:l,arrivalAirportCode:c,arrivalAirportName:d,departureTime:E,arrivalTime:_,flightNumber:u,passengers:m,providerName:S,providerIataCode:p,reservationId:C}=n(s);return{departureAirportDesc:r,departureAirportCode:o,departureAirportName:i,arrivalAirportDesc:l,arrivalAirportCode:c,arrivalAirportName:d,departureTime:E,arrivalTime:_,flightNumber:u,passengers:m,providerName:S,providerIataCode:p,reservationId:C}}));var is=s(90775);function ls(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const cs=(0,m.defineMessages)({viewEmail:{id:"flight.viewEmail",defaultMessage:"View email"},flightNumber:{id:"flight.flightNumber",defaultMessage:"Flight {flightNumber}"},confirmationNumber:{id:"flight.confirmation",defaultMessage:"Confirmation: {reservationId}"},depart:{id:"flight.depart",defaultMessage:"Depart"},arrive:{id:"flight.arrive",defaultMessage:"Arrive"}}),ds={container:{width:"100%",maxWidth:197*R.mg$+"px",minWidth:109*R.mg$+"px",border:`1px solid ${R.NzJ}`,borderRadius:"2px",margin:`0 ${6*R.mg$}px ${3*R.mg$}px ${2*R.mg$}px`},logo:{padding:3*R.mg$+"px",verticalAlign:"top"},heading:{padding:3*R.mg$+"px 0 0 0",fontSize:R.bG1,fontWeight:R.Plh,color:R.E54,verticalAlign:"middle",width:"88%"},headingCell:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",display:"inline-flex",flexFlow:"row nowrap",maxWidth:"100%",verticalAlign:"middle",lineHeight:"28px",padding:0},headingLeft:{flexGrow:1,whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis"},headingRight:{whiteSpace:"nowrap",minWidth:"48px"},dateTimeGroup:{width:"25%",padding:0},airlineGroup:{padding:`0 0 0 ${8*R.mg$}px`,width:"50%"},date:{color:R.h_d,fontSize:R.qNP,padding:0,lineHeight:"20px"},time:{fontSize:R.EDd,padding:0},bottomRow:{backgroundColor:R.jh8,height:"32px"},centerInfo:{padding:`0 0 ${3*R.mg$}px 0`},passengers:{padding:0,fontSize:R.yN,verticalAlign:"middle",width:"50%",maxWidth:0,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},reservation:{fontWeight:R.M2k,padding:`0 0 0 ${8*R.mg$}px`},tableBasic:{width:"100%",border:0,borderSpacing:0,padding:0},tableFixed:{width:"100%",border:0,borderSpacing:0,padding:0,tableLayout:"fixed"},tdBasic:{padding:0},tdLastColumn:{padding:`0 ${3*R.mg$}px 0 0`,width:"99%"},viewEmail:{textAlign:"right",padding:4*R.mg$+"px 0 0 0",width:"99%"},viewEmailLink:{color:R.nGq,fontSize:R.qNP}},Es={container:Object.assign({},ds.container,{border:`1px solid ${(0,is.m)(R.Cjz,.2)}`}),heading:Object.assign({},ds.heading,{color:R.Cjz,opacity:.8}),date:Object.assign({},ds.date,{color:R.Cjz,opacity:.6}),time:Object.assign({},ds.time,{color:R.Cjz,opacity:.8}),bottomRow:Object.assign({},ds.bottomRow,{backgroundColor:(0,is.m)(R.Cjz,.1),color:R.Cjz,opacity:.8}),viewEmailLink:Object.assign({},ds.viewEmailLink,{color:R.CHL})},_s=({actualTime:e,dateFallback:t,isDarkMode:s})=>{const a=25===(n=e).length?Date.parse(n.substr(0,n.length-6)+"-00:00"):Date.parse(n);var n;const r=Number.isNaN(a);return d.createElement("table",{style:ds.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:s?Es.date:ds.date},r?t:d.createElement(m.FormattedDate,{value:a,timeZone:"UTC",weekday:"short",day:"numeric",month:"short"}))),d.createElement("tr",null,d.createElement("td",{style:s?Es.time:ds.time},r?"--":d.createElement(m.FormattedTime,{value:a,timeZone:"UTC",hour:"numeric",minute:"2-digit"})))))};class us extends d.Component{constructor(...e){super(...e),ls(this,"handleViewEmail",((e,t)=>{e.preventDefault();const{listId:s,groupId:a}=this.props;this.context.navigateTo({route:t,streamItem:{listId:s,id:a},i13nModel:{interactionType:J.Rb.click,mKey:J.JE.TRAVEL_READ_MSG,sec:J.nJ.TRAVEL_LIST,mKeyGroup:J.rO.openMsg}})}))}render(){const{departureAirportDesc:e,departureAirportCode:t,departureAirportName:s,arrivalAirportDesc:a,arrivalAirportCode:n,arrivalAirportName:r,departureTime:o,arrivalTime:i,flightNumber:l,passengers:c,providerName:E,providerIataCode:_,reservationId:u,listId:m,groupId:S}=this.props,p=(0,Le.m9)(m,S),{formatMessage:C}=this.context.intl,A=e||s,T=a||r,h=this.context.getThemeMode()===$.zg.DARK;return d.createElement("div",{style:h?Es.container:ds.container,"data-test-id":"flight-card"},d.createElement("table",{style:ds.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:ds.logo},d.createElement(le.ZP,{contact:{iataCode:_},size:le.u8.C,useFallbackImage:!1,customFallbackImageData:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeZJREFUeNrsmlFLAkEUhVVWcimNBJdWiAiKCgsq6sf30GNPQU9ZEYaUkaChZUWGG3Six3ZmZ/XujtK57JO7DOebmXvuvWD2+OQ0M8uRy8x4EIAABCAAAQhAAAIQgAAE+L8AjtRCe7tb+Xz4atc3zde392kHKC+VHCd8taOD2tl5PSEGsSsEicpNchwwFBfmpxoAG3xx1UifQTKJH9ud9BmEXSh9BnkbBQMePYMq3YVdCM7oVcpj7Pfvj1Xf0zAg6YMgSBYAeakHgER8c9dqhzKMgq9SUXlbVlf822YrWQAog0S3MKf5ZnNjDUKHw8+/r7pPPTza0rGoetXrvwgA4IixSTvb6/olIj8YLzrd3v1DO5IkF5mRH2G7m0Lg9h7u11SJFMOF6mpbTCFwvJqbZgSAQ+w/DywyVJcrk9YBtJMWAVy3MCkAvFJTm5KO0SgQqMQinj2mHWm92BQAXmSFIfLwY/RCqGsixd88YB6aMSP2RAb1aBBMeklYuGHLiTVDOxH8jkJmUoLidYVYFE+E6/meufrJR03hdhrqDTsLEfWSQ30s9T/z52VDZMx3rKiXGgbErpAt9TIAFtULAGDcsaheJgdMelX0M6ghSdTBLP+tQgACEIAABCAAAQhAAAIQgACW4luAAQAJVQdmI18HzQAAAABJRU5ErkJggg=="})),d.createElement("td",{style:ds.tdLastColumn},d.createElement("table",{style:ds.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:ds.tdBasic},d.createElement("table",{style:ds.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:h?Es.heading:ds.heading,"data-test-id":"card-heading"},d.createElement("table",{style:ds.tableFixed},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:ds.headingCell},d.createElement("span",{style:ds.headingLeft},A,t?` (${t})`:""," - ",T," "),d.createElement("span",{style:ds.headingRight},n?`(${n})`:"")))))),d.createElement("td",{style:ds.viewEmail},d.createElement("a",{href:this.context.getUrlFromRoute(p),style:h?Es.viewEmailLink:ds.viewEmailLink,onClick:e=>this.handleViewEmail(e,p),"data-test-id":"view-email"},C(cs.viewEmail)))))))),d.createElement("tr",null,d.createElement("td",{style:ds.centerInfo},d.createElement("table",{style:ds.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:ds.dateTimeGroup,"data-test-id":"depart-date"},d.createElement(_s,{actualTime:o,dateFallback:C(cs.depart),isDarkMode:h})),d.createElement("td",{style:ds.dateTimeGroup,"data-test-id":"arrive-date"},d.createElement(_s,{actualTime:i,dateFallback:C(cs.arrive),isDarkMode:h})),d.createElement("td",{style:ds.airlineGroup},d.createElement("table",{style:ds.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:h?Es.date:ds.date,"data-test-id":"airline-name"},E)),d.createElement("tr",null,d.createElement("td",{style:h?Es.time:ds.time,"data-test-id":"flight-no"},C(cs.flightNumber,{flightNumber:l}))))))))))))))),d.createElement("tr",{style:h?Es.bottomRow:ds.bottomRow},d.createElement("td",null," "),d.createElement("td",{style:ds.tdLastColumn},d.createElement("table",{style:ds.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:ds.passengers},c.join(", ")),d.createElement("td",{style:ds.reservation,"data-test-id":"confirmation"},C(cs.confirmationNumber,{reservationId:u}))))))))))}}ls(us,"contextTypes",{intl:m.intlShape.isRequired,navigateTo:c().func,getUrlFromRoute:c().func,getThemeMode:c().func});const ms=os(us);var Ss=s(35567),ps=s(1349),Cs=s.n(ps),As=s(8470),Ts=s(94482),hs=s(28182),gs=s(11160),Is=s(31509);function Rs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Os=(0,m.defineMessages)({heading:{id:"Coupons_header.heading",defaultMessage:"Deals from email"},coupons:{id:"Coupons_header.coupons",defaultMessage:"Deals"},emails:{id:"Coupons_header.emails",defaultMessage:"Emails"},categories:{id:"Coupons_header.categories",defaultMessage:"Categories"}}),Ds="All";class Ns extends d.Component{constructor(...e){super(...e),Rs(this,"handleTabChange",((e,{mKey:t,smartViewType:s})=>{const a=(0,Le.jK)(s,{accountIds:(0,te.Er)(this.props.listId)});this.props.onTabChange({route:a,i13nModel:{mKey:t,sec:J.nJ.SHOPPING_VIEW,interactionType:(0,ee.getInteractionFromEvent)(e)}})})),Rs(this,"getActiveIndex",(()=>(0,te.WN)(this.props.listId)===A.F6k.COUPON_CARDS?0:1)),Rs(this,"handleCategoryClick",(e=>{let t;if(e===Ds)t=(0,Le.jK)(A.K8C.COUPONS,{accountIds:this.props.activeAccountId});else{const s=(0,te.Ez)((0,se.qt)(A.K8C.COUPONS,{keyword:e,accountIds:this.props.activeAccountId})),a=(0,te.tr)(s);t={name:A.n8z.SEARCH,params:{query:a}}}this.context.navigateTo({route:t,i13nModel:{mKey:J.JE.CATEGORY_FILTER_CLICKED,sec:J.nJ.SHOPPING_VIEW,actionData:{category:e}}})})),Rs(this,"renderCategoryFilter",(()=>{const{categories:e,listId:t}=this.props,s=this.context.getThemeMode(),{formatMessage:a}=this.context.intl,n=_()(Cs(),{themeMode:s}),r=(0,te.Q7)(t);if(0!==this.getActiveIndex()||!e||!e.length)return null;const o=[Ds].concat(e).map((e=>d.createElement(Ts.Z,{key:e,name:e},d.createElement(ie.Z,{kind:hs.F.MENUITEM,onClick:()=>this.handleCategoryClick(e)},r===e||!r&&e===Ds?d.createElement("span",{className:n.categoryFilterCheckIcon},d.createElement(oe.Z,{kind:k.Kinds.CHECKMARK,size:k.Sizes.XS,colorState:k.ColorStates.NORMAL})):null,d.createElement("span",{className:n.categoryFilterLabel},e)))));return d.createElement("div",{className:n.categoryFilterContainer},d.createElement(gs.Z,null,d.createElement(Is.Z,null,d.createElement("div",{className:n.categoryFilterAnchor},d.createElement("span",{className:n.categoryFilterAnchorLabel},a(Os.categories)),d.createElement(B.default,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"category-filter-dropdown-button",kind:k.Kinds.CHEVRON_UP,colorState:k.ColorStates.INHERITED,size:k.Sizes.XS,rotate:k.Rotate.D180,className:n.categoryFilterAnchorButton}))),d.createElement(Zt.ZP,{triggerOn:Kt.K2.CLICK,isArrowVisible:!0},d.createElement("div",null,d.createElement(As.Z,{focusOnMount:!0,"data-test-id":"category-filter"},[o])))))}))}render(){const{formatMessage:e}=this.context.intl,t=this.context.getThemeMode(),s=_()(Cs(),{themeMode:t}),a=e(Os.heading),n=this.getActiveIndex();return d.createElement("div",null,d.createElement("div",{className:s.container},this.props.showShoppingHeader?d.createElement("div",{className:s.tabs},d.createElement(yt.Z,null,d.createElement(bt.Z,{isSelected:0===n,title:e(Os.coupons),onClick:e=>this.handleTabChange(e,{mKey:J.JE.SHOPPING_COUPONS_VIEW_CLICKED,smartViewType:A.K8C.COUPONS}),"data-test-id":"coupons-tab"}),d.createElement(bt.Z,{isSelected:2===n,title:e(Os.emails),onClick:e=>this.handleTabChange(e,{mKey:J.JE.SHOPPING_EMAILS_VIEW_CLICKED,smartViewType:A.K8C.SHOPPING_EMAILS}),"data-test-id":"shopping-emails-tab"})),this.renderCategoryFilter()):d.createElement("div",{className:s.heading,"data-test-id":"coupons-heading","aria-label":a,title:a},a,this.renderCategoryFilter())))}}Rs(Ns,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c().func,getTheme:c().func,navigateTo:c().func});const fs=(0,S.connect)((e=>{const{getSmartViewTypeFromRoute:t,getRoute:s,getSmartViewPosition:a,getDealsViewSelectors:n,getSelectedAccountId:r}=(0,ye.selectors)(e),o=s(),i=t(o),l=(0,te.LY)(o),c=n().getTopDealCategories();return{listId:l,showShoppingHeader:i===A.K8C.COUPONS&&a(i)===A.sDs.TAB_BAR,categories:c,activeAccountId:r()}}),(e=>({onTabChange:t=>e((0,ut.Ch)(t))})))(Ns);var Ms=s(18446),Ls=s.n(Ms),Ps=s(91472),ys=s.n(Ps),bs=s(67612);function Fs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Us extends d.Component{render(){const e=this.context.getThemeMode()===$.zg.DARK,t=this.context.getCss(ys()),{formatMessage:s}=this.context.intl,{availableSortOrders:a,currentSortOrder:n,showLabel:r,tabIndex:o}=this.props,i=r?s(bs.Z.sort_menu):null,l=a.map((e=>d.createElement(Ts.Z,{key:e,name:"sort-by-"+e},d.createElement(ie.Z,{"data-test-id":"sort-by-"+e,kind:hs.F.MENUITEM,onClick:t=>this.props.onClick(t,e),style:{position:"relative"}},e===n?d.createElement("span",{className:t.sortByMenuItemIcon},d.createElement(oe.Z,{kind:k.Kinds.CHECKMARK,size:k.Sizes.XXS,colorState:k.ColorStates.NORMAL})):null,d.createElement("span",{className:t.sortByMenuItemLabel},s(bs.Z["sort_by_"+e]))))));return d.createElement(gs.Z,null,d.createElement(Is.Z,null,d.createElement(ie.Z,{"data-test-id":"toolbar-sort-menu-button",kind:hs.F.CHROMELESS,tabIndex:o,"data-iskeynav":!0,isOnDarkBackground:e},d.createElement("span",{className:t.sortByMenu},i,d.createElement(oe.Z,{kind:k.Kinds.CHEVRON_UP,size:k.Sizes.XS,rotate:k.Rotate.D180,colorState:k.ColorStates.INHERITED})))),d.createElement(Zt.ZP,{triggerOn:Kt.K2.CLICK,permittedArrowDirections:[Kt.Ji.UP],offset:4*R.mg$,align:Kt.xM.END,zAltitude:R.LSY.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover"},d.createElement("div",{className:t.popoverListWrapper},d.createElement(As.Z,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},l))))}}Fs(Us,"contextTypes",{intl:m.intlShape.isRequired,getCss:c().func,getThemeMode:c().func}),Fs(Us,"defaultProps",{availableSortOrders:[],currentSortOrder:A.Asd.DATE_DESC,showLabel:!0,tabIndex:-1});const vs=Us;var ws=s(521),Gs=s.n(ws);const ks=e=>(t,s)=>{const{isFeatureEnabled:a}=(0,ye.selectors)(s()),n=a(A.ANe.SENDER_ROLLUP),r=a(A.ANe.CONVERSATIONS);let o={};const{listId:i,sortOrder:l,i13nModel:c}=e;n&&r&&l===A.Asd.SENDER&&(0,te.WN)(i)===A.F6k.MESSAGES&&(o={listContentType:A.F6k.SENDERS});const d=(0,Le.KI)(i,{sortOrder:l,...o});return t((0,ut.Ch)({route:d,i13nModel:{mKey:{[A.Asd.DATE_DESC]:J.JE.TOOLBAR_SORT_NEW,[A.Asd.DATE_ASC]:J.JE.TOOLBAR_SORT_OLD,[A.Asd.UNREAD]:J.JE.TOOLBAR_SORT_UNREAD,[A.Asd.STARRED]:J.JE.TOOLBAR_SORT_STARRED}[l],sec:J.nJ.MSG_LIST_SORT,...c}}))},Hs=(0,m.defineMessages)({documents:{id:"document_label",defaultMessage:"Documents from email"}}),Bs=(e,t)=>{const{getCss:s,intl:a,getThemeMode:n}=t,{formatMessage:r}=a,o=s(Gs(),{themeMode:n()}),{currentSortOrder:i,availableSortOrders:l,onSortOrderChange:c,listId:E}=e;return d.createElement("div",{className:o.documentsViewHeader},d.createElement("div",{className:o.documentsViewTitle},r(Hs.documents)),d.createElement("div",{className:o.sortMenuContainer},d.createElement(vs,{currentSortOrder:i,availableSortOrders:l,onClick:(e,t)=>{c({listId:E,sortOrder:t,i13nModel:{interactionType:(0,ee.getInteractionFromEvent)(e)}})},tabIndex:R.iUz.MESSAGE_LIST_TOOLBAR})))};Bs.contextTypes={getCss:c().func,intl:m.intlShape,getThemeMode:c().func};const xs=(0,S.connect)(((e,t)=>{const{getAvailableSortOrders:s}=(0,ye.selectors)(e);return{currentSortOrder:(0,te.WW)(t.listId),availableSortOrders:s()}}),(e=>({onSortOrderChange:t=>e(ks(t))})),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&Ls()(e.availableSortOrders,t.availableSortOrders)})(Bs);var Vs=s(8205),Ws=s(62760),Zs=s(1249),Ks=s(28211),zs=s(19068),qs=s(13240),Ys=s.n(qs);const js=(0,m.defineMessages)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},msgIsRead:{id:"msg_is_read",defaultMessage:"This message is read"},msgIsNotRead:{id:"msg_is_not_read",defaultMessage:"This message is not read"}}),Qs=({isDarkThemeMode:e,layoutClassNames:t,isHovered:s,isRead:a,readOnly:n,onClick:r},{getCss:o,intl:i})=>{const l=o(Ys(),{isDarkThemeMode:e}),{formatMessage:c}=i,E=c(a?js.markAsUnread:js.markAsRead);let _,u;return a?s?(_=d.createElement(oe.Z,{"data-test-read":a,kind:k.Kinds.CIRCLE,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED}),u=d.createElement("span",{className:l.accessible,"aria-label":c(a?js.msgIsRead:js.msgIsNotRead)})):u=d.createElement("span",{className:l.accessible,"aria-label":c(js.msgIsRead)}):(_=d.createElement(oe.Z,{"data-test-read":a,kind:k.Kinds.CIRCLE,size:k.Sizes.XS,colorState:e?k.ColorStates.SELECTED_DARK_THEME_MODE:k.ColorStates.SELECTED}),u=d.createElement("span",{className:l.accessible,"aria-label":c(js.msgIsNotRead)})),n?d.createElement("span",{"data-test-id":"icon-btn-read",title:E,className:l.readIcon,role:"gridcell"},_,u):d.createElement("span",{className:t.readIcon,role:"gridcell"},d.createElement(ie.Z,{"data-test-id":"icon-btn-read",title:c(a?js.markAsUnread:js.markAsRead),onClick:r,onDoubleClick:r,className:l.readIcon},_,u))},Xs=(e,t)=>t.isRead?t.isRead===e.isRead&&t.isHovered===e.isHovered&&t.readOnly===e.readOnly&&t.isDarkThemeMode===e.isDarkThemeMode&&t.layoutClassNames.readIcon===e.layoutClassNames.readIcon:t.isRead===e.isRead;Qs.defaultProps={isHovered:!1},Qs.contextTypes={intl:m.intlShape,getCss:c().func};const Js=d.memo(Qs,Xs);var $s=s(46316),ea=s.n($s);const ta=(0,m.defineMessages)({msgIsReplied:{id:"msg_is_replied",defaultMessage:"Replied"}}),sa=(e,t)=>{const{isDarkThemeMode:s,layoutClassNames:a}=e,{formatMessage:n}=t.intl,r=t.getCss(ea(),{isDarkThemeMode:s});return d.createElement(ie.Z,{"data-test-id":"icon-btn-reply","data-test-isreplied":!0,className:`${r.replyIcon} ${a.readIcon}`,role:"gridcell"},d.createElement("span",{className:r.indicator},d.createElement(oe.Z,{kind:k.Kinds.REPLY,size:k.Sizes.XXXS,colorState:s?k.ColorStates.INHERITED:k.ColorStates.SECOND_LEVEL_GRAY}),d.createElement("span",{className:r.accessible,"aria-label":n(ta.msgIsReplied)})))};sa.contextTypes={intl:m.intlShape,getCss:c().func};const aa=d.memo(sa);var na=s(64681),ra=s.n(na);const oa=(0,m.defineMessages)({msgIsForwarded:{id:"msg_is_forwarded",defaultMessage:"Forwarded"}}),ia=(e,t)=>{const{isDarkThemeMode:s,layoutClassNames:a}=e,{formatMessage:n}=t.intl,r=t.getCss(ra(),{isDarkThemeMode:s});return d.createElement(ie.Z,{"data-test-isforwarded":!0,"data-test-id":"icon-btn-forward",className:`${r.forwardIcon} ${a.readIcon}`,role:"gridcell"},d.createElement("span",{className:r.indicator},d.createElement(oe.Z,{kind:k.Kinds.FORWARD,size:k.Sizes.XXXS,colorState:s?k.ColorStates.INHERITED:k.ColorStates.SECOND_LEVEL_GRAY}),d.createElement("span",{className:r.accessible,"aria-label":n(oa.msgIsForwarded)})))};ia.contextTypes={intl:m.intlShape,getCss:c().func};const la=d.memo(ia);var ca=s(8069),da=s.n(ca),Ea=s(13957),_a=s(61395),ua=s.n(_a);const ma=(0,m.defineMessages)({markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},msgIsStarred:{id:"msg_is_starred",defaultMessage:"Starred"},msgIsNotStarred:{id:"msg_is_not_starred",defaultMessage:"Not starred"}}),Sa=(()=>{let e=1;return()=>(e+=1,e%=3,e)})();class pa extends d.Component{constructor(e){super(e),this.state={shouldBurst:!1,isStarred:e.isStarred},e.isDarkThemeMode?(0,I.XM)(Ea.Ur.darkGifURL):(0,I.XM)(Ea.Ur.lightGifURL),this.burstOnClick=this.burstOnClick.bind(this)}shouldComponentUpdate(e,t){return e.isHovered!==this.props.isHovered?!e.isStarred||this.state.shouldBurst!==t.shouldBurst||this.state.isStarred!==t.isStarred:e.size!==this.props.size||e.readOnly!==this.props.readOnly||e.isStarred!==this.props.isStarred||e.isDarkThemeMode!==this.props.isDarkThemeMode||e.kind!==this.props.kind||e.burstAnimationEnabled!==this.props.burstAnimationEnabled||t.shouldBurst!==this.state.shouldBurst||t.isStarred!==this.state.isStarred}render(){const{layoutClassNames:e,isStarred:t,isHovered:s,isDarkThemeMode:a,size:n,kind:r,readOnly:o,burstAnimationEnabled:i}=this.props,{getCss:l,intl:c}=this.context,E=l(da(),{isDarkThemeMode:a,size:n}),{formatMessage:_}=c,u=_(t?ma.markAsUnstarred:ma.markAsStarred);let m,S;return i&&this.state.shouldBurst?m=(e=>{const t=e.isDarkThemeMode?Ea.Ur.darkGifURL:Ea.Ur.lightGifURL,s=Sa();let a=20,n=20;switch(e.size){case"S":case"M":a=24,n=24}return d.createElement("img",{src:t,style:{transform:`translateZ(${s}px)`,height:`${a}px`,width:`${n}px`}})})({isDarkThemeMode:a,size:n}):t?(m=d.createElement(oe.Z,{"data-test-starred":t,kind:r,size:n,colorState:a?k.ColorStates.STARRED_DARK:k.ColorStates.STARRED}),S=d.createElement("span",{className:E.accessible,"aria-label":_(ma.msgIsStarred)})):s?(m=d.createElement(oe.Z,{kind:r,size:n,colorState:a?k.ColorStates.SMARTVIEW_DARK:k.ColorStates.COOL_FAINT}),S=d.createElement("span",{className:E.accessible,"aria-label":_(t?ma.msgIsStarred:ma.msgIsNotStarred)})):(m=d.createElement(oe.Z,{"data-test-starred":t,kind:r,size:n,colorState:a?k.ColorStates.INVERTED_MORE_DIM:k.ColorStates.FAINT}),S=d.createElement("span",{className:E.accessible,"aria-label":_(ma.msgIsNotStarred)})),o?d.createElement("span",{"data-test-id":"icon-btn-star",title:u,className:E.starIcon,role:"gridcell"},m,S):d.createElement("span",{role:"gridcell"},d.createElement(ie.Z,{"data-test-id":"icon-btn-star",title:u,onClick:this.burstOnClick,onDoubleClick:this.burstOnClick,className:e.starButtonStyle?ua()(E.starIcon,e.starButtonStyle):E.starIcon},d.createElement("span",{className:E.iconContainer},m,S)))}UNSAFE_componentWillReceiveProps(e){const{burstAnimationEnabled:t}=this.props;t&&this.state.isStarred!==e.isStarred&&this.setState({isStarred:!this.state.isStarred})}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}burstOnClick(e){const{burstAnimationEnabled:t}=this.props;this.props.onClick(e),t&&(this.state.isStarred?this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout)):(this.setState({shouldBurst:!0}),this.timeout=setTimeout((()=>{this.setState({shouldBurst:!1})}),Ea.Ur.timeout)))}}pa.defaultProps={size:k.Sizes.XS,isHovered:!1,kind:k.Kinds.STAR,burstAnimationEnabled:!1},pa.contextTypes={intl:m.intlShape,getCss:c().func};const Ca=pa;var Aa=s(83168),Ta=s.n(Aa);const ha=(0,m.defineMessages)({searchByContact:{id:"search_by_contact",defaultMessage:"Search for messages from this sender"},searchBySubject:{id:"search_by_subject",defaultMessage:"Search for messages with this subject"}}),ga=(e,t)=>{const s=e.isDarkThemeMode,a=e.searchType===A.aib.SUBJECT,n=t.getCss(Ta(),{isDarkThemeMode:s}),{formatMessage:r}=t.intl,o=(a?n.subjectSearchIcon:"")+(e.containerClassName?" "+e.containerClassName:"");return e.showSearch&&e.isHovered?d.createElement("span",{className:o},d.createElement(ie.Z,{"data-test-id":"icon-btn-search",title:r(a?ha.searchBySubject:ha.searchByContact),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?n.contactSearchIconCompact:n.searchIcon},d.createElement("span",null,d.createElement(oe.Z,{kind:k.Kinds.SEARCH_MINI,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED})))):null};ga.defaultProps={isHovered:!1,isCompact:!1},ga.contextTypes={intl:m.intlShape,getCss:c().func};const Ia=d.memo(ga);var Ra=s(63350),Oa=s.n(Ra);const Da=(0,m.defineMessages)({deleteMsg:{id:"delete_msg",defaultMessage:"Delete this message"}}),Na=(e,t)=>{const s=e.isDarkThemeMode,a=t.getCss(Oa(),{isDarkThemeMode:s}),{formatMessage:n}=t.intl;return e.isHovered?d.createElement(ie.Z,{"data-test-id":"icon-btn-trash",title:n(Da.deleteMsg),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?a.trashIconCompact:a.trashIcon},d.createElement("span",{className:a.trashCenter},d.createElement(oe.Z,{kind:k.Kinds.DELETE,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED,"aria-label":n(Da.deleteMsg)}))):d.createElement(ie.Z,{className:a.trashIconAccessible,onClick:e.onClick},d.createElement("span",{className:a.accessible,"aria-label":n(Da.deleteMsg)}))};Na.defaultProps={isHovered:!1,isCompact:!1},Na.contextTypes={intl:m.intlShape,getCss:c().func};const fa=d.memo(Na);var Ma=s(31745),La=s.n(Ma);const Pa=(0,m.defineMessages)({no_subject:{id:"no_subject",defaultMessage:"No Subject"}}),ya=(e,t)=>{const{formatMessage:s}=t.intl,a=t.getCss(La()),{subject:n,highlightSearchTerm:r,layoutClassNames:o}=e;let i=null;const l=`${a.highlightedTerm} ${o.highlightedTerm}`;return i=n?(0,Oe.GQ)(n,r,l):d.createElement("span",{className:o.noSubject},"(",s(Pa.no_subject),")"),d.createElement("span",{"data-test-id":"message-subject",className:`${o.subject} ${a.subject}`,role:"gridcell",title:(0,Oe.IX)(n)},i)};ya.defaultProps={highlightSearchTerm:!1},ya.contextTypes={intl:m.intlShape,getCss:c().func};const ba=d.memo(ya);var Fa=s(32778),Ua=s.n(Fa);const va=(e,t)=>{const{snippet:s,highlightSearchTerm:a,layoutClassNames:n}=e,r=t.getCss(Ua()),o=`${r.highlightedTerm} ${n.highlightedTerm}`,i=(0,Oe.GQ)(s,a,o),l=r.snippetContainer+(n.snippetContainer?` ${n.snippetContainer}`:"");return d.createElement("div",{className:l,"data-test-id":"snippet"},d.createElement("div",{className:`${r.snippet} ${n.snippet}`,role:"gridcell"},i))};va.contextTypes={getCss:c().func};const wa=d.memo(va);var Ga=s(46533),ka=s.n(Ga);const Ha=(e,t)=>{const s=t.getCss(ka()),{count:a,layoutClassNames:n,roundUpCounts:r}=e,o=r&&a>999?"999+":a;return d.createElement("span",{"data-test-id":"message-count",className:a>1?`${s.messageCount} ${n.messageCount}`:s.accessible,role:"gridcell"},d.createElement("span",null,d.createElement("span",{className:s.accessible,"data-test-id":"accessible-message-count"},d.createElement(m.FormattedMessage,{id:"msg_count",values:{messageCount:o},defaultMessage:"{messageCount, plural,\n                                                one {# message}\n                                                other {# messages}\n                                            }"})),a>1?d.createElement("span",{"aria-hidden":"true","data-test-id":"visible-message-count"},o):null))};Ha.defaultProps={roundUpCounts:!1},Ha.contextTypes={getCss:c().func};const Ba=d.memo(Ha);var xa=s(12076),Va=s.n(xa);const Wa=(e,t)=>{const s=t.getCss(Va()),{hasDraft:a,layoutClassNames:n}=e;return d.createElement("span",{"data-test-id":"draft-indicator",className:a?`${s.draftIndicator} ${n.draftIndicator}`:s.accessible},a?d.createElement(m.FormattedMessage,{id:"msg_has_draft",defaultMessage:"DRAFT"}):null)},Za=(e,t)=>e.hasDraft===t.hasDraft&&e.layoutClassNames.draftIndicator===t.layoutClassNames.draftIndicator;Wa.contextTypes={getCss:c().func};const Ka=d.memo(Wa,Za);var za=s(98907),qa=s.n(za),Ya=s(54418),ja=s(93505),Qa=s(70039),Xa=s(73744),Ja=s.n(Xa),$a=s(99691);const en=()=>{};class tn extends d.Component{constructor(e){super(e),this.navigateTo=this.navigateTo.bind(this)}navigateTo(e){const{listId:t,groupId:s}=this.props,a={mKey:J.JE.ATTACHMENT_LIGHTBOX_OPEN,sec:J.nJ.MSG_LIST_MSG,interactionType:J.Rb.click};this.context.navigateTo({route:(0,Le.Sk)(t,s,e,{fullscreen:"1"}),i13nModel:a})}render(){const{attachments:e,isSpam:t,documentPreviewEnabled:s,attachmentTraySize:a}=this.props,n=_()(Ja()),r=e.map(((e,a)=>{let r=!t;return(0,$a.oZ)(e)&&(r=r&&s),d.createElement("span",{key:e.id,className:n.attachmentItem,"data-test-id":"attachment-item-"+a},d.createElement(ja.ZP,{attachment:e,readOnly:!0,allowDownload:!1,onRemove:en,onClick:this.navigateTo.bind(this,e.id),isPreviewEnabled:r,previewWithoutDownload:!0,smallPreview:!0}))}));return d.createElement("div",{"data-test-id":"attachment-popover"},e.length>a?d.createElement("div",{style:{width:60+100*a},className:n.attachmentsCarouselContainer},d.createElement(Qa.Z,{itemWidth:100},r)):d.createElement("div",{className:n.attachmentsPopoverContainer},r))}}tn.contextTypes={getCss:c().func,navigateTo:c().func.isRequired};const sn=(0,S.connect)((e=>{const{isFeatureEnabled:t}=(0,ye.selectors)(e);return{documentPreviewEnabled:t(A.ANe.DOCUMENT_PREVIEW)}}))(tn);var an=s(50621);const nn=(e,t,s)=>d.createElement("span",{"data-test-id":"attachment-icon",className:e.attachmentIcon},d.createElement(oe.Z,{kind:(0,$a.SJ)(t),size:k.Sizes.XS,colorState:s?k.ColorStates.FAINT:k.ColorStates.DISABLED}),d.createElement("span",{className:e.accessible},d.createElement(m.FormattedMessage,{id:"msg_has_attachments",defaultMessage:"Message has attachments"}))),rn=({attachments:e,attachmentTraySize:t,isInteractive:a,isDarkThemeMode:n,listId:r,groupId:o,rsvpEnabled:i,isSpam:l},{getCss:c,config:E})=>{const _=c(qa());if(!e.length)return d.createElement("span",{className:_.accessible,"data-test-id":"accessible-no-attachment"},d.createElement(m.FormattedMessage,{id:"msg_no_attachment",defaultMessage:"No attachment"}));if(!a)return nn(_,e,n);const u=(0,$a.oA)(e,{previewableInlineAttachmentSize:(0,Ya.N)(E,"previewableInlineAttachmentSize"),showImages:(0,Ya.N)(E,A.Zrf.SHOW_IMAGES),isSpam:l}),S=i?(e=>e.length>0&&(0,$a.SA)(e[0].type,e[0].subtype)===A.sSc.SimplifiedTypes.CAL?e[0]:null)(u):null;return d.createElement(an.ZP,{arrowSize:Kt.Jk.M,permittedArrowDirections:[Kt.Ji.UP,Kt.Ji.DOWN],triggerOn:an.XU.HOVER_DELAYED,triggerDelayTime:200,triggerOff:an.Es.HOVER_OUT,align:Kt.xM.END,offset:16,persistent:!0,isArrowVisible:!1,zAltitude:R.LSY.POPOVER.MEDIUM},nn(_,e,n),S?d.createElement("div",null,d.createElement(ve.cr,{import:"../../../rsvp_view/index",eventAttachment:S,messageId:S.id.split(":")[0],compact:!0,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,39738))},_moduleResolver:function(){return 39738}})):d.createElement(sn,{attachments:u,attachmentTraySize:t,listId:r,isSpam:l,groupId:o}))};rn.defaultProps={isInteractive:!0,isHovered:!1,attachmentTraySize:3},rn.contextTypes={getCss:c().func,config:c().object};const on=d.memo(rn),ln=(0,C.gP)(["ACCOUNT","FOLDER","NONE"]);var cn=s(44526),dn=s.n(cn),En=s(51135),_n=s(98217),un=s(62631);const mn=({messageDestinationLabel:e,accountDescription:t,account:s,folderName:a,folderType:n,layoutClassNames:r},o)=>{const i=_()(dn()),{formatMessage:l,locale:c}=o.intl,E={};let u=null;switch(e){case ln.ACCOUNT:{let e=E[c];e||(e=E[c]={[A.zoT.YAHOO]:l(_n.Z.yahoo_account_description),[A.zoT.YAHOO_SB]:l(_n.Z.yahoo_account_description),[A.zoT.OUTLOOK]:l(_n.Z.outlook_account_description),[A.zoT.AOL]:l(_n.Z.aol_account_description),[A.zoT.GOOGLE]:l(_n.Z.gmail_account_description),[A.zoT.GOOGLE_APP]:l(_n.Z.gmail_account_description)});const n=t||e[(0,un.VH)(s)];u=d.createElement("div",{className:`${i.messageDestinationLabel} ${r.messageDestinationLabel}`,"data-test-id":"account"},d.createElement("span",{title:n+"/"+a},n));break}case ln.FOLDER:u=d.createElement("div",{className:`${i.messageDestinationLabel} ${r.messageDestinationLabel}`,title:a,"data-test-id":"folder"},d.createElement(En.Z,{folderDisplayType:n,name:a}))}return u};mn.contextTypes={intl:m.intlShape.isRequired};const Sn=mn,pn=(0,S.connect)(((e,t)=>{const{layoutClassNames:s,folderId:a}=t,{getFoldersSelectors:n,getAccountSelectors:r}=(0,ye.selectors)(e),{getPrimaryFolderTypeByFolderId:o,getFolderName:i,getAccountIdByFolderId:l}=n(),{hasMultipleRootAccounts:c,getAccountDescriptionByAccountId:d,getAccountById:E}=r(),_=c()?ln.ACCOUNT:ln.FOLDER,u=o(a),m=i(a),S=l(a);return{accountDescription:d(S),account:E(S),messageDestinationLabel:_,folderName:m,folderType:u,layoutClassNames:s}}))(Sn);var Cn=s(55146),An=s.n(Cn);const Tn=({layoutClassNames:e={ybadgeIcon:""}},{partner:t,getCss:s,getThemeMode:a})=>{const n=t===A.Bs7.AOL.toLowerCase(),r=s(An(),{isAolUser:n}),o=a()===$.zg.DARK?k.ColorStates.WHITE:k.ColorStates.NORMAL,i=k.ColorStates.YBANG;return d.createElement("span",{"data-test-id":"icon-btn-ybadge",className:`${r.ybadgeIcon} ${e.ybadgeIcon}`},d.createElement(oe.Z,{kind:n?k.Kinds.AOL_OFFICIAL:k.Kinds.YBANG,size:n?k.Sizes.XXS:k.Sizes.XS,colorState:n?o:i}))};Tn.contextTypes={getCss:c().func,getThemeMode:c().func,partner:c().string};const hn=d.memo(Tn);var gn=s(64732),In=s.n(gn);const{array:Rn,bool:On,func:Dn,string:Nn,number:fn,oneOf:Mn}=c(),Ln=(Rn.isRequired,On.isRequired,On.isRequired,On.isRequired,Mn((0,C.VO)(A.Ds1)).isRequired,Dn.isRequired,Nn.isRequired,Nn.isRequired,Nn.isRequired,Rn.isRequired,On.isRequired,Dn.isRequired,On.isRequired,Nn.isRequired,Nn.isRequired,On.isRequired,On.isRequired,fn.isRequired,({messageIds:e,isRead:t,isStarred:s,renderItemSelection:a,renderReadIndicators:n,renderContactSearchIcon:r,renderSubjectSearchIcon:o,renderSenders:i,renderStarIcon:l,renderSubject:c,renderSnippet:E,renderMessageDestinationLabel:_,renderMessageCount:u,renderDraftLabel:m,renderAttachmentIcon:S,renderDate:p,renderTrashIcon:C,renderConfirmDialog:A,renderExtractedInfo:T,isHovered:h,showSubjectSearch:g,itemHeight:I,getAttachments:R,activateDarkThemeMode:O},{getCss:D})=>{const N=D(In(),{activateDarkThemeMode:O,hasJustOneMessage:1===e.length,isRead:t,isStarred:s,showSubjectSearchAndHovered:h()&&g}),f=R();return d.createElement("div",{className:N.container+" message-list-item",style:{height:I-1}},d.createElement("div",{className:N.gridB1},d.createElement("div",{className:N.check,role:"gridcell"},a()),n(N),i(N),r(N)),l(N),d.createElement("div",{className:N.gridB2},d.createElement("div",{className:N.message},d.createElement("div",{className:N.subjectContainer},c(N),u(N),m(N)),o(N),E(N)),T(N),_(N),S(N,f),d.createElement("div",{className:N.iconB2,role:"gridcell"},p(N),C())),A())});Ln.contextTypes={getCss:c().func,getThemeMode:c().func};const Pn=Ln;var yn=s(86423),bn=s(93603),Fn=s.n(bn),Un=s(81680),vn=s.n(Un);const wn=({isHovered:e,useTouchTargets:t,messageIds:s,isRead:a,showSnippets:n,renderItemSelection:r,renderContactSearchIcon:o,renderSenders:i,renderStarIcon:l,renderSubject:c,renderSnippet:E,renderMessageCount:_,renderAttachmentIcon:u,renderDate:m,renderReadIndicators:S,renderTrashIcon:p,listItemHeight:C,renderDraftLabel:A,renderConfirmDialog:T,getAttachments:h,msgListDensity:g,renderExtractedInfo:I},{getCss:R})=>{const O=e(),D=h(),N=R(vn(),{hasJustOneMessage:1===s.length,isRead:a,hovered:O,extraStarPadding:a&&!O,useTouchTargets:t,hasAttachment:D&&D.length,msgListDensity:g,readDensity:`${a}-${g}`});return d.createElement("div",{className:N.container+" message-list-item",style:{height:C-1}},d.createElement("div",{className:N.check,role:"gridcell"},r(N)),d.createElement("div",{className:N.gridB1},S(N),l(N)),d.createElement("div",{className:N.message},d.createElement("div",{className:N.senderRow,"data-test-id":"senderRow",role:"gridcell"},d.createElement("div",{className:N.groupSection},i(N),O?o(N):null,_(N),A(N)),m(N)),d.createElement("div",{className:N.bottomRight},d.createElement("div",{className:N.infoGroup},c(N),n?I(N)||E(N):null),O?null:u(N,D))),O?d.createElement("div",{className:N.trashIconContainer},p()):null,T())};wn.contextTypes={getCss:c().func,getThemeMode:c().func};const Gn=wn,kn={[Ea.fx.READ]:{i13nModel:{mKey:J.JE.MARK_MSG_READ,mKeyGroup:J.rO.markRead,sec:J.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.READ_CHANGE_SELECTED_ITEMS},[Ea.fx.UNREAD]:{i13nModel:{mKey:J.JE.MARK_MSG_UNREAD,mKeyGroup:J.rO.markUnread,sec:J.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.READ_CHANGE_SELECTED_ITEMS},[Ea.fx.STAR]:{i13nModel:{mKey:J.JE.MARK_MSG_STARRED,mKeyGroup:J.rO.markStar,sec:J.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.STAR_CHANGE_SELECTED_ITEMS},[Ea.fx.UNSTAR]:{i13nModel:{mKey:J.JE.MARK_MSG_UNSTARRED,mKeyGroup:J.rO.markUnstar,sec:J.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.STAR_CHANGE_SELECTED_ITEMS},[Ea.fx.DELETE]:{i13nModel:{mKey:J.JE.MSG_LIST_DEL,mKeyGroup:J.rO.deleteMsg,sec:J.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.DELETE_SELECTED_ITEMS},[Ea.fx.ARCHIVE]:{i13nModel:{mKey:J.JE.MSG_LIST_ARCHIVE,mKeyGroup:J.rO.archiveMsg,sec:J.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.ARCHIVE_SELECTED_ITEMS},[Ea.fx.RESTORE]:{i13nModel:{mKey:J.JE.MSG_LIST_MV_INBOX,mKeyGroup:J.rO.moveMsg,sec:J.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.RESTORE_SELECTED_ITEMS},[Ea.fx.OPEN_MSG]:{i13nModel:{mKey:J.JE.OPEN_MSG,mKeyGroup:J.rO.openMsg,sec:J.nJ.MSG_LIST_MSG}},[Ea.fx.OPEN_DOC]:{i13nModel:{mKey:J.JE.DOC_OPEN,sec:J.nJ.DOC_LIST}},[Ea.fx.OPEN_PHOTO]:{i13nModel:{mKey:J.JE.PHOTO_OPEN,sec:J.nJ.PHOTO_LIST}},[Ea.fx.CHK_MAIL]:{i13nModel:{mKey:J.JE.CHECK_MAIL,sec:J.nJ.MSG_LIST}},[Ea.fx.ROTATE_PREVIEWPANE]:{i13nModel:{mKey:J.JE.SETTINGS_PREVIEW_PANE,sec:J.nJ.SETTINGS_INBOX_TAB}},[Ea.fx.SELECTION_CHANGE]:{i13nModel:{mKey:J.JE.SELECT_MSG,sec:J.nJ.MSG_LIST_MSG}}},Hn=(e,t)=>{if(!kn[t])return{};const s={...kn[t]};return e&&(s.i13nModel={...s.i13nModel,interactionType:(0,ee.getInteractionFromEvent)(e)}),s};var Bn=s(44865),xn=s(91869),Vn=s(24307),Wn=s.n(Vn);function Zn(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Kn=(0,m.defineMessages)({message_reply_now:{id:"nudgeToReply",defaultMessage:"REPLY NOW"}});class zn extends d.Component{constructor(e){super(e),Zn(this,"componentDidMount",(()=>{const{messageIds:e}=this.props;Be.ZP.sendI13nModel({i13nModel:{mKey:J.JE.NUDGE_TO_REPLY_SHOWN,sec:J.nJ.MSG_LIST,interactionType:J.Rb.callout,actionData:{mid:e[e.length-1]}}})})),Zn(this,"handleOnClick",(e=>{const{messageIds:t,handleClick:s}=this.props;Be.ZP.sendI13nModel({i13nModel:{mKey:J.JE.NUDGE_TO_REPLY_CLICKED,sec:J.nJ.MSG_LIST,interactionType:J.Rb.click,actionData:{mid:t[t.length-1]}}}),s(e)}))}render(){const{getCss:e,getThemeMode:t}=this.context,{formatMessage:s}=this.context.intl,{isHovered:a}=this.props,n=t()===$.zg.DARK,r=!n&&a,o=n&&a,i=n&&!a,l=e(Wn(),{isLightHovered:r,isDarkHovered:o,isDarkNotHovered:i}),c=s(Kn.message_reply_now);return d.createElement(d.Fragment,null,d.createElement("button",{"data-test-id":"nudge-to-reply-button",className:l.nudgeToReply,"aria-label":c,title:c,onClick:this.handleOnClick},d.createElement(oe.Z,{kind:k.Kinds.REPLY,size:k.Sizes.XXS,colorState:k.ColorStates.INHERITED})," ",d.createElement("div",{className:l.nudgeToReplyText},c)))}}Zn(zn,"contextTypes",{intl:m.intlShape.isRequired,executeAction:c().func.isRequired,getCss:c().func,getThemeMode:c().func});var qn=s(39959),Yn=s.n(qn);function jn(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Qn extends d.Component{constructor(...e){super(...e),jn(this,"componentDidMount",(()=>{const{domain:e,quotientRetailerName:t,showQuotientUpsellPill:s,unusualDiscount:a,messageIds:n}=this.props;a&&Be.ZP.sendI13nModel({i13nModel:{mKey:J.JE.UNUSUAL_DISCOUNT,sec:J.nJ.MSG_LIST,actionData:{mid:n,sndr:e,reason:{featurefamily:A.lMo.IC,featurename:A.ANe.UNUSUAL_DISCOUNT_EXISTS}}}}),s&&Be.ZP.sendI13nModel({i13nModel:{mKey:J.JE.QTNTVIEW_MESSAGELIST+"_invoke",sec:J.nJ.QUOTIENT,actionData:{mid:n,reason:{featurefamily:A.lMo.IC,featurename:A.ANe.GROCERIES,upselltype:"msglist",retailername:t,origin:"msglist"}}}})})),jn(this,"openQuotientModal",(e=>{e.preventDefault(),e.stopPropagation();const t={mKey:J.JE.QTNTVIEW_MESSAGELIST,sec:J.nJ.QUOTIENT,actionData:{reason:{featurefamily:A.lMo.IC,featurename:A.ANe.GROCERIES,upselltype:"msglist",retailername:this.props.quotientRetailerName,actiontype:"click",origin:"msglist"}}};this.props.openLinkModal({retailerId:this.props.quotientRetailerId,parentName:"msglist",i13nModel:t})})),jn(this,"renderUnusualDiscountPill",(e=>d.createElement("div",{"data-test-id":"unusual-discount-pill"},d.createElement("div",{className:e.unusualDiscountPill},d.createElement(oe.Z,{kind:k.Kinds.DEALS,size:k.Sizes.XXS,colorState:k.ColorStates.SUCCESS})," ",d.createElement("div",{className:e.unusualDiscountPillText},d.createElement(m.FormattedMessage,{id:"coupon_card.unusualDiscount",defaultMessage:"UNUSUAL DISCOUNT"})))))),jn(this,"renderQuotientUpsellPill",(e=>d.createElement("div",{"data-test-id":"quotient-upsell-pill"},d.createElement("button",{className:e.quotientPill,onClick:this.openQuotientModal},d.createElement(oe.Z,{kind:k.Kinds.BASKET,size:k.Sizes.XXS,colorState:k.ColorStates.INHERITED})," ",d.createElement("div",{className:e.quotientPillText},d.createElement(m.FormattedMessage,{id:"coupon_card.quotient_upsell",defaultMessage:"Save on groceries"}))))))}render(){const{getCss:e,getThemeMode:t}=this.context,{unusualDiscount:s,showQuotientUpsellPill:a,isHovered:n}=this.props,r=t()===$.zg.DARK,o=!!s,i=!r&&n,l=r&&n,c=r&&!n,E=e(Yn(),{isLightHovered:i,isDarkHovered:l,isDarkNotHovered:c});return d.createElement("div",null,o?this.renderUnusualDiscountPill(E):null,a?this.renderQuotientUpsellPill(E):null)}}function Xn(){return(Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Jn(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}jn(Qn,"contextTypes",{getCss:c().func,getThemeMode:c().func}),jn(Qn,"defaultProps",{domain:"",isHovered:!1,messageIds:[],openLinkModal:()=>{},quotientRetailerId:"",quotientRetailerName:"",senders:[],showQuotientUpsellPill:!1,unusualDiscount:""});const $n=()=>{},er="email",tr=(0,m.defineMessages)({ariaEmailSummary:{id:"aria_email_summary",defaultMessage:"{verifiedDomain, select, true {Verified message from {yahooBrandNameString}} other {}}\n            {isRead, select, true {} other {Unread }}\n            From: {senderNames}.\n            {formattedDate} {formattedTime}.\n            {isDraft, select, true {Draft.} other {}}\n            {attachmentsLength, plural, =0 {} one {# attachment} other {# attachments}}\n            {isStarred, select, true {Starred.} other {}}\n            Subject: {subject}.\n            Summary: {showSnippets, select, true {{snippet}.} other {}}"},deselectionAriaLabel:{id:"deselect_message",defaultMessage:"Deselect message"},selectionAriaLabel:{id:"select_message",defaultMessage:"Select message"}}),sr=e=>{e.stopPropagation(),e.preventDefault()};class ar extends d.Component{constructor(e){super(e),Jn(this,"onMouseOver",(()=>{this.state.hover||this.props.isScrolling()||this.props.isDragging()||this.setState({hover:!0})})),Jn(this,"onMouseLeave",(()=>{this.state.hover&&this.setState({hover:!1})})),Jn(this,"isHovered",(()=>this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging())),Jn(this,"isDarkThemeMode",(()=>!this.props.isStorefrontRoute&&this.context.getThemeMode()===$.zg.DARK)),Jn(this,"handleClick",(e=>{sr(e);const{messageRoute:t,unusualDiscount:s,productCategoryList:a,listId:n,groupId:r,streamId:o,fullGPTCategoryList:i,showNudgeToReply:l,showSnippets:c,isStorefrontRoute:d,currentStorefrontBrand:E,showSmartReply:_}=this.props,u=(0,ee.getInteractionFromEvent)(e),{senders:m=[]}=this.participantsInfo;if(s&&Be.ZP.sendI13nModel({i13nModel:{mKey:J.JE.UNUSUAL_DISCOUNT_MAIL_CLICKED,sec:J.nJ.MSG_LIST,actionData:{mid:this.props.messageIds,sndr:(0,ee.isValidEmail)(m[0].email)?(0,ee.destructEmailAddressParts)(m[0].email).domainPart:"NODOMAIN.COM",reason:{featurefamily:A.lMo.IC,featurename:A.ANe.UNUSUAL_DISCOUNT_EXISTS}}}}),d&&Be.ZP.sendI13nModel({i13nModel:{mKey:J.JE.CARD_INTERACT,sec:J.nJ.STOREFRONT_VIEW,actionData:{cardId:this.props.messageIds[0],currentbrand:E.currentBrandId,currentbrandbadge:E.currentBrandBadge,currentbrandposition:E.currentBrandPosition,featurefamily:A.lMo.IC,interacteditem:er,interactiontype:J.Rb.interaction_click,xpname:A.zzX.SHORTCUTS_STORE_EMAILS_SECTION}}}),a.length){const e=J.JE.CATEGORY_FOLLOWING_MSG_OPEN,t=J.Rb.click,s=J.nJ.MSG_BODY,a={reason:{featurefamily:A.lMo.IC,featurename:A.ANe.CATEGORY_FOLLOW}};setImmediate((()=>{Be.ZP.sendI13nModel({i13nModel:{mKey:e,interactionType:t,sec:s,actionData:a}})}))}if(Array.isArray(i)&&i.length){const e=J.JE.GPT_CATEGORY_LIST_ON_MSG_OPEN,t=J.Rb.click,s=J.nJ.MSG_BODY,a={listItems:i.filter((e=>e.name)).map((e=>e.name))};Be.ZP.sendI13nModel({i13nModel:{mKey:e,interactionType:t,sec:s,actionData:a}})}if(e.shiftKey){const t={listId:this.props.listId,id:this.props.groupId};return this.props.onRangeSelected({streamId:o,streamItem:t}),void this.props.onClick(e)}const S={listId:n,streamId:o,messageRoute:t,groupId:r,senders:m,i13nModel:{interactionType:u,actionData:{}}};if(l){this.isRightPreviewPaneUser()&&!c||(S.i13nModel.actionData.nudgeToReply=!0)}_&&(S.i13nModel.actionData.showSmartReply=!0),this.props.onOpenMessage(S),this.props.onClick(e)})),Jn(this,"handleDoubleClick",(e=>{sr(e),this.openItem((0,ee.getInteractionFromEvent)(e)),this.props.onDoubleClick(e)})),Jn(this,"openItem",(e=>{const{navigateTo:t,messageRoute:s}=this.props;t({route:s,streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:J.JE.OPEN_MSG,sec:J.nJ.MSG_LIST_MSG,mKeyGroup:J.rO.openMsg}})})),Jn(this,"openContactSearch",(e=>{const{senders:t}=this.participantsInfo;if(1!==t.length)return;const s={emailAddresses:t[0].email,name:t[0].name||t[0].email};this.props.navigateToSearch({route:(0,Le.jq)(s),streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:J.JE.CONTACT_SEARCH,sec:J.nJ.MSG_LIST_MSG,mKeyGroup:J.rO.search}})})),Jn(this,"openSubjectSearch",(e=>{const t={keyword:`subject:"${(0,Ws.bR)(this.props.subject)}"`};this.props.navigateToSearch({route:(0,Le.jq)(t),streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:J.JE.SUBJECT_SEARCH,sec:J.nJ.MSG_LIST_MSG,mKeyGroup:J.rO.search}})})),Jn(this,"handleContactSearchClick",(e=>{sr(e),this.openContactSearch((0,ee.getInteractionFromEvent)(e)),this.props.onContactSearch()})),Jn(this,"handleSubjectSearchClick",(e=>{sr(e),this.openSubjectSearch((0,ee.getInteractionFromEvent)(e)),this.props.onSubjectSearch()})),Jn(this,"handleSelectionChange",(e=>{sr(e);const{streamId:t,onSelectionChange:s,onRangeSelected:a}=this.props,n={listId:this.props.listId,id:this.props.groupId};e.shiftKey?a({streamId:t,streamItem:n}):s({streamId:t,streamItem:n,...Hn(e,Ea.fx.SELECTION_CHANGE)})})),Jn(this,"handleDeleteClick",(e=>{sr(e);const{streamId:t,onDelete:s,permanentDelete:a}=this.props;if(null===this.state.confirmState&&a)return void this.setState({confirmState:{title:Bn.Z.list_delete_title,message:Bn.Z.list_perm_delete_message,onConfirm:this.handleDeleteClick,onAbort:this.hideConfirm},hover:!1});s({streamId:t,streamItem:{listId:this.props.listId,id:this.props.groupId},...Hn(e,Ea.fx.DELETE)}),this.hideConfirm()})),Jn(this,"handleReadChange",(e=>{sr(e);const{onReadChange:t,streamId:s,isRead:a}=this.props;t({streamId:s,streamItem:{listId:this.props.listId,id:this.props.groupId},...Hn(e,a?Ea.fx.UNREAD:Ea.fx.READ)})})),Jn(this,"handleStarChange",(e=>{sr(e);const{streamId:t,onStarChange:s,isStarred:a}=this.props;s({streamId:t,streamItem:{listId:this.props.listId,id:this.props.groupId},...Hn(e,a?Ea.fx.UNSTAR:Ea.fx.STAR)})})),Jn(this,"handleContextMenu",(e=>{if(!this.navLink)return;const t=this.navLink.getBoundingClientRect(),{groupId:s,listId:a,streamId:n}=this.props;sr(e),this.props.onContextMenu({interactionType:(0,ee.getInteractionFromEvent)(e),messageGroupId:s,listId:a,streamId:n}),this.setState({contextMenuPosition:{x:e.clientX-t.left,y:e.clientY-t.top},showContextMenu:!0})})),Jn(this,"handleContextMenuHide",(()=>{this.setState({showContextMenu:!1,contextMenuPosition:null})})),Jn(this,"hideConfirm",(()=>{null!==this.state.confirmState&&this.setState({confirmState:null})})),Jn(this,"renderItemSelection",((e={})=>{const{formatMessage:t}=this.context.intl,{selected:s}=this.props;return d.createElement(Zs.Z,{"data-test-id":"icon-btn-checkbox","aria-label":t(s?tr.deselectionAriaLabel:tr.selectionAriaLabel),isChecked:!!s,onClick:this.handleSelectionChange,onDoubleClick:this.handleSelectionChange,isInverted:this.isDarkThemeMode(),className:e.checkbox})})),Jn(this,"renderYBadge",(e=>d.createElement(hn,{layoutClassNames:e}))),Jn(this,"renderTrustedIcon",(e=>d.createElement("span",{className:`${e.trustedIcon}`,"data-test-id":"trusted-icon"},d.createElement(oe.Z,{kind:k.Kinds.TRUSTED,size:k.Sizes.XXS,colorState:k.ColorStates.SUCCESS})))),Jn(this,"renderReadIcon",(e=>{const{isRead:t}=this.props;return d.createElement(Js,{isHovered:this.state.hover,isRead:t,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleReadChange,layoutClassNames:e})})),Jn(this,"renderReplyIcon",(e=>d.createElement(aa,{isDarkThemeMode:this.isDarkThemeMode(),layoutClassNames:e}))),Jn(this,"renderForwardIcon",(e=>d.createElement(la,{isDarkThemeMode:this.isDarkThemeMode(),layoutClassNames:e}))),Jn(this,"renderReadIndicators",(e=>{const{isOfficialDomain:t,isCertifiedDomain:s,isRead:a,isReplied:n,isForwarded:r}=this.props,{partner:o}=this.context;return t&&o!==A.Ql2.ATT?this.renderYBadge(e):s?this.renderTrustedIcon(e):a?n&&!this.state.hover?this.renderReplyIcon(e):r&&!this.state.hover?this.renderForwardIcon(e):this.renderReadIcon(e):this.renderReadIcon(e)})),Jn(this,"renderSenders",(e=>{const{isRead:t,onClick:s}=this.props,{senders:a,myAddresses:n}=this.participantsInfo;return d.createElement(zs.Z,{isRead:t,senders:a,myAddresses:n,onClick:s,layoutClassNames:e})})),Jn(this,"renderContactSearchIcon",(e=>{if(this.props.isScrolling())return null;const{showContactSearch:t}=this.props;return this.isHovered()?d.createElement(Ia,{isHovered:this.state.hover,showSearch:t(this.participantsInfo.senders),isCompact:!1,searchType:A.aib.CONTACT,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleContactSearchClick,containerClassName:e.contactSearchIcon}):null})),Jn(this,"renderSubjectSearchIcon",(e=>{if(this.props.isScrolling())return null;const{showSubjectSearch:t}=this.props;return this.isHovered()?d.createElement(Ia,{isHovered:this.state.hover,showSearch:t,isCompact:!1,searchType:A.aib.SUBJECT,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleSubjectSearchClick,layoutClassNames:e}):null})),Jn(this,"getStarIconSize",(()=>{if(this.isRightPreviewPaneUser())return k.Sizes.XS;const{msgListDensity:e}=this.props;switch(e){case A.Ds1.SLIM:return k.Sizes.XS;case A.Ds1.NORMAL:case A.Ds1.RELAXED:return k.Sizes.S;default:return k.Sizes.XS}})),Jn(this,"renderStarIcon",(e=>{const{isStarred:t}=this.props;return d.createElement(Ca,{isHovered:this.state.hover,isStarred:t,size:this.getStarIconSize(),isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleStarChange,layoutClassNames:e,burstAnimationEnabled:!0})})),Jn(this,"renderMessageCount",(e=>{const t=this.props.messageIds.length;return d.createElement(Ba,{layoutClassNames:e,count:t})})),Jn(this,"renderDraftLabel",(e=>{const{hasDraft:t}=this.props;return d.createElement(Ka,{layoutClassNames:e,hasDraft:t})})),Jn(this,"renderSubject",(e=>{const{subject:t,highlightSearchTerm:s}=this.props;return d.createElement(ba,{subject:t,highlightSearchTerm:s,layoutClassNames:e})})),Jn(this,"renderSnippet",(e=>{const{snippet:t,highlightSearchTerm:s,showSnippets:a}=this.props;return a?d.createElement(wa,{snippet:t,highlightSearchTerm:s,layoutClassNames:e}):null})),Jn(this,"renderNudgeToReply",(()=>d.createElement(zn,{handleClick:this.handleClick,messageIds:this.props.messageIds,isHovered:this.state.hover}))),Jn(this,"renderCategoryFollowing",(()=>{const{groupId:e,productCategoryList:t}=this.props;return t.length?d.createElement(ve.cr,{import:"../../../category_following",contextOfUse:"messageList",messageGroupId:e,categoriesList:t,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,64311))},_moduleResolver:function(){return 64311}}):null})),Jn(this,"renderQuotientUpsellPill",(()=>{const{showQuotientUpsellPill:e,quotientRetailerId:t,openLinkModal:s,quotientRetailerName:a,messageIds:n}=this.props;return d.createElement(Qn,{quotientRetailerName:a,showQuotientUpsellPill:e,messageIds:n,senders:this.participantsInfo.senders,quotientRetailerId:t,openLinkModal:s,isHovered:this.state.hover})})),Jn(this,"renderUnusualDiscount",(()=>{const{messageIds:e,unusualDiscount:t}=this.props;return d.createElement(Qn,{unusualDiscount:t,messageIds:e,senders:this.participantsInfo.senders})})),Jn(this,"renderContextMenu",(e=>{const{contextMenuPosition:t}=this.state,{listId:a,streamId:n,contextMenuShown:r,moreMenuActions:o,scrollerRef:i,onDelete:l,onSpam:c,onArchive:E,onReplyForward:_}=this.props,u=t=>d.createElement("div",{className:e.contextMenuContainer},d.createElement(ve.cr,{import:"../action_menu_items/index",listId:a,streamId:n,onEscape:this.handleContextMenuHide,onRead:o.onRead,onStar:o.onStar,onUnstar:o.onUnstar,onUnread:o.onUnread,onPrint:o.onPrint,moveToInbox:o.moveToInbox,viewRawMessage:o.viewRawMessage,contextualMenu:!0,onDelete:l,onSpam:c,onArchive:E,onReplyForward:_,onModuleLoadSuccess:t,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,82175))},_moduleResolver:function(){return 82175}},d.createElement(ve.nA,{loading:!0},d.createElement(X.Z,null))));return d.createElement(an.ZP,{align:Kt.xM.START,zAltitude:R.LSY.POPOVER.HIGH,triggerOn:an.XU.MOUNT,triggerOff:an.Es.CLICK,onShown:r,onHide:this.handleContextMenuHide,isArrowVisible:!1,scrollContainer:i,permittedArrowDirections:[Kt.Ji.UP,Kt.Ji.DOWN],contentComfortThreshold:1,collapseArrowWrapper:!0},d.createElement("span",{className:e.contextMenuAnchor,style:{top:t.y+"px",left:t.x+"px"}}),u)})),Jn(this,"renderExtractedInfo",(()=>{const{hasDraft:e,unusualDiscount:t,productCategoryList:s,showQuotientUpsellPill:a,showNudgeToReply:n}=this.props,r=!!s.length;if(e)return null;let o=null;return n?o=this.renderNudgeToReply():r?o=this.renderCategoryFollowing():t?o=this.renderUnusualDiscount():a&&(o=this.renderQuotientUpsellPill()),o})),Jn(this,"renderMessageDestinationLabel",(e=>this.props.showDestinationLabel()?d.createElement(pn,{layoutClassNames:e,folderId:this.props.folderId}):null)),Jn(this,"renderAttachmentIcon",((e,t)=>{const{groupId:s,isSpam:a,listId:n,isScrolling:r,rsvpEnabled:o}=this.props;return d.createElement("div",{className:e.attachmentIcon,"data-test-id":"attachment-icon-wrapper",role:"gridcell"},d.createElement(on,{attachments:t,isDarkThemeMode:this.isDarkThemeMode(),listId:n,groupId:s,isSpam:a,attachmentTraySize:4,isInteractive:!r(),layoutClassNames:e,rsvpEnabled:o}))})),Jn(this,"renderDate",(e=>d.createElement("time",{className:e.dateWrapper+" date",style:this.isHovered()?{display:"none"}:{},role:"gridcell"},d.createElement(Ks.ZP,{"data-test-id":"date-time-label",date:new Date(this.props.timestamp)})))),Jn(this,"renderTrashIcon",(()=>this.props.isScrolling()?null:d.createElement(fa,{isHovered:this.state.hover,isCompact:this.isRightPreviewPaneUser(),isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleDeleteClick}))),Jn(this,"renderConfirmDialog",(()=>{if(null===this.state.confirmState)return null;const{confirmState:e}=this.state,{formatMessage:t}=this.context.intl,s={conversations:this.props.isConversationMode,count:this.props.messageIds.length};return d.createElement(xn.Z,{title:t(e.title),message:t(e.message,s),onConfirm:e.onConfirm,onAbort:e.onAbort})})),Jn(this,"isRightPreviewPaneUser",(()=>{const{previewpane:e}=this.props;return e===A.EsZ.RIGHT})),Jn(this,"getNavLink",(e=>{this.navLink=e})),this.participantsInfo=e.getParticipantsInfo(),this.state={hover:!1,confirmState:null,quotientUpsellPill:!1,showContextMenu:!1,contextMenuPosition:null}}UNSAFE_componentWillReceiveProps(e){this.participantsInfo=e.getParticipantsInfo()}componentDidUpdate(e){this.props.active&&!e.active&&(0,u.findDOMNode)(this.navLink).focus()}render(){const{yahooBrandNameString:e}=this.context,{formatMessage:t,formatDate:s,formatTime:a}=this.context.intl,{hasDraft:n,isCertifiedDomain:r,isOfficialDomain:o,isRead:i,isStarred:l,selected:c,messageIds:E,onMouseDown:_,onMouseUp:u,onDragStart:m,onDragEnd:S,groupId:p,messageRoute:C,active:A,showHighlightColor:T,showSnippets:h,snippet:g,subject:I,timestamp:O,getAttachments:D}=this.props,{contextMenuPosition:N,showContextMenu:f}=this.state,{senders:M}=this.participantsInfo,L={renderItemSelection:this.renderItemSelection,renderReadIndicators:this.renderReadIndicators,renderContactSearchIcon:this.renderContactSearchIcon,renderSubjectSearchIcon:this.renderSubjectSearchIcon,renderSenders:this.renderSenders,renderStarIcon:this.renderStarIcon,renderSubject:this.renderSubject,renderSnippet:this.renderSnippet,renderMessageDestinationLabel:this.renderMessageDestinationLabel,renderMessageCount:this.renderMessageCount,renderDraftLabel:this.renderDraftLabel,renderAttachmentIcon:this.renderAttachmentIcon,renderDate:this.renderDate,renderTrashIcon:this.renderTrashIcon,renderConfirmDialog:this.renderConfirmDialog,renderExtractedInfo:this.renderExtractedInfo},P=this.context.getCss(Fn(),{activateDarkThemeMode:this.isDarkThemeMode()}),y=P.link+(T?" "+P.highlight:"")+(A?" "+P.active:""),b=c&&N&&f,F=new Date(O),U=s(F,{timeZoneName:"short",day:"numeric",month:"short",year:"numeric"}),v=a(F),w=[];M.forEach((e=>{w.push(e.name)}));const G=t(tr.ariaEmailSummary,{attachmentsLength:D().length||0,count:E.length,formattedDate:U,formattedTime:v,verifiedDomain:o||r,isDraft:n,isStarred:l,isRead:i,selected:c,senderNames:w.join(", "),showSnippets:h,subject:I,snippet:g,yahooBrandNameString:e});return d.createElement("a",{role:"article",className:y,"data-test-id":"message-list-item","data-test-active":c,"data-test-starred":l,"data-test-read":i,tabIndex:A?R.iUz.MESSAGE_LIST_MAIN:-1,"aria-label":G,href:this.context.getUrlFromRoute(C),ref:this.getNavLink,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:_,onMouseUp:u,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onDragStart:m.bind(null,p),onDragEnd:S,onContextMenu:this.handleContextMenu,rel:"noopener"},b?this.renderContextMenu(P):null,this.isRightPreviewPaneUser()?d.createElement(Gn,Xn({},L,this.props,{isHovered:this.isHovered})):d.createElement(Pn,Xn({},L,this.props,{isHovered:this.isHovered,activateDarkThemeMode:this.isDarkThemeMode()})))}}Jn(ar,"contextTypes",{intl:c().object,getCss:c().func,getThemeMode:c().func,getUrlFromRoute:c().func.isRequired,timezone:Z.TimezoneType,partner:c().string,yahooBrandNameString:c().string}),Jn(ar,"defaultProps",{isScrolling:$n,isDragging:$n,onDragStart:$n,onDrag:$n,onDragEnd:$n,openItem:$n,onMouseUp:$n,onMouseDown:$n,onSelectionChange:$n,onReadChange:$n,onStarChange:$n,onClick:$n,onKeyDown:$n,onDoubleClick:$n,onContactSearch:$n,onSubjectSearch:$n,onDelete:$n,selected:!1,active:!1,highlightSearchTerm:!0,previewpane:0,hasDraft:!1,isOfficialDomain:!1,isCertifiedDomain:!1,permanentDelete:!1,contextMenuEnabled:!1,fullGPTCategoryList:[]});const nr=(0,yn.Z)(ar);var rr=s(50214),or=s.n(rr);const ir=({isDarkMode:e,itemHeight:t})=>{const s=_()(or(),{isDarkMode:e});return d.createElement("div",{className:s.container+" message-list-placeholder",style:{height:t-1}},d.createElement("div",{className:s.gridB1,role:"gridcell"},d.createElement("div",{className:s.check})),d.createElement("div",{className:s.gridB2},d.createElement("div",{className:s.senderRow},d.createElement("div",{className:s.sender}),d.createElement("div",{className:s.date})),d.createElement("div",{className:s.subject}),d.createElement("div",{className:s.snippet})))};ir.defaultProps={itemHeight:72};const lr=ir;var cr=s(11388),dr=s.n(cr);const Er=({isDarkMode:e,itemHeight:t})=>{const s=_()(dr(),{isDarkMode:e});return d.createElement("div",{className:s.container+" message-list-placeholder",style:{height:t-1}},d.createElement("div",{className:s.gridB1},d.createElement("div",{className:s.sender})),d.createElement("div",{className:s.gridB2},d.createElement("div",{className:s.subject})),d.createElement("div",{className:s.date}))};Er.defaultProps={itemHeight:32};const _r=Er;var ur=s(6330),mr=s(10769),Sr=s.n(mr);function pr(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Cr extends d.Component{constructor(...e){super(...e),pr(this,"state",{loadingState:A.Gui.IDLE})}UNSAFE_componentWillReceiveProps(e){e.forceSync&&this.setState({loadingState:A.Gui.START}),this.state.loadingState!==A.Gui.START||e.isListRefreshing()||this.setState({loadingState:A.Gui.FINISH})}render(){const e=this.context.getCss(Sr());return d.createElement("div",{className:(()=>{switch(this.state.loadingState){case A.Gui.START:return e.loadingBar;case A.Gui.FINISH:return e.loadingBarEnd}return""})(),"data-test-id":"loading-bar"})}}pr(Cr,"contextTypes",{getCss:c().func});const Ar=(0,S.connect)((e=>{const t=(0,ye.selectors)(e),{getAction:s,isListRefreshing:a,getCurrentListId:n}=t,{forceSync:r=!1}=s(),o=n();return{forceSync:r,isListRefreshing:()=>a(o)}}))(Cr);var Tr=s(75018),hr=s.n(Tr);function gr(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Ir extends d.Component{constructor(e){super(e),gr(this,"state",{isInView:!1}),gr(this,"_showLoading",(e=>{this.setState({isInView:e[0].intersectionRatio>0})})),this.loader=d.createRef()}shouldComponentUpdate(e,t){return t.isInView!==this.state.isInView}componentDidMount(){void 0!==window.IntersectionObserver&&(this.loaderObserver=new IntersectionObserver(this._showLoading),this.loaderObserver.observe(this.loader.current))}componentWillUnmount(){this.loaderObserver&&(this.loaderObserver.unobserve(this.loader.current),this.loaderObserver.disconnect())}render(){const{getCss:e,getThemeMode:t}=this.context,s=e(hr(),{themeMode:t()});return d.createElement("div",{className:s.container,ref:this.loader},this.state.isInView&&d.createElement(X.Z,null))}}gr(Ir,"contextTypes",{getCss:c().func,getThemeMode:c().func});var Rr=s(25629),Or=s.n(Rr),Dr=s(56971),Nr=s(77078);const fr=(0,m.defineMessages)({select_messages:{id:"selection_controls.menu",defaultMessage:"Select messages"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"},deselect_all:{id:"selection_controls.deselect_all_messages",defaultMessage:"Deselect all messages"}});class Mr extends d.Component{constructor(e){super(e),this.handleCheckboxClicked=this.handleCheckboxClicked.bind(this)}handleCheckboxClicked(e){e.preventDefault();const{onSelectNone:t,onSelectAll:s,selectedItemsCount:a,streamId:n}=this.props;a>0?t(n):s(n)}render(){const{selectedItemsCount:e,previewpane:t,checkboxType:s,streamId:a,tabIndex:n,isStorefrontRoute:r,isConversationMode:o}=this.props,i=!r&&this.context.getThemeMode()===$.zg.DARK,l=this.context.getCss(Or(),{activateDarkThemeMode:i}),{formatMessage:c,formatNumber:E}=this.context.intl,_=e>A.DTB?A.DTB:e;return d.createElement("div",{className:l.container},d.createElement("ul",{className:l.list},d.createElement(Ts.Z,{kind:Nr.F.MESSAGE_SELECTION_CHECKBOX},d.createElement("span",{className:l.checkboxWrapper},d.createElement(Dr.Z,{type:s,highContrast:!0,isInverted:i,isOnDarkBackground:i,"data-iskeynav":!0,paddingLess:!0,onClick:e=>this.handleCheckboxClicked(e),tabIndex:n}))),d.createElement(Ts.Z,{kind:Nr.F.MESSAGE_SELECTION_CHEVRON},d.createElement(gs.Z,null,d.createElement(Is.Z,null,d.createElement("span",{className:l.chevronWrapper},d.createElement(B.default,{kind:k.Kinds.CHEVRON_UP,size:k.Sizes.XS,rotate:k.Rotate.D180,title:c(fr.select_messages),"aria-label":c(fr.select_messages),colorState:k.ColorStates.INHERITED,isOnDarkBackground:i,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0}))),d.createElement(Zt.ZP,{permittedArrowDirections:[Kt.Ji.UP,Kt.Ji.DOWN],triggerOn:Kt.K2.CLICK,offset:4*R.mg$,align:Kt.xM.START,zAltitude:R.LSY.POPOVER.HIGH},d.createElement("div",{className:l.popoverListWrapper},d.createElement(As.Z,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},d.createElement(Ts.Z,{name:"select-all"},d.createElement(ie.Z,{kind:hs.F.MENUITEM,onClick:()=>this.props.onSelectAll(a),"data-test-id":"select-all-btn"},d.createElement(m.FormattedMessage,{id:"select_all",defaultMessage:"All"}))),d.createElement(Ts.Z,{name:"select-none"},d.createElement(ie.Z,{kind:hs.F.MENUITEM,onClick:()=>this.props.onSelectNone(a),"data-test-id":"select-none-btn"},d.createElement(m.FormattedMessage,{id:"select_none",defaultMessage:"None"}))),d.createElement(Ts.Z,{name:"select-read"},d.createElement(ie.Z,{kind:hs.F.MENUITEM,onClick:()=>this.props.onSelectAllRead(a),"data-test-id":"select-all-read-btn"},d.createElement(m.FormattedMessage,{id:"select_read",defaultMessage:"Read"}))),d.createElement(Ts.Z,{name:"select-unread"},d.createElement(ie.Z,{kind:hs.F.MENUITEM,onClick:()=>this.props.onSelectAllUnread(a),"data-test-id":"select-all-unread-btn"},d.createElement(m.FormattedMessage,{id:"select_unread",defaultMessage:"Unread"}))),d.createElement(Ts.Z,{name:"select-starred"},d.createElement(ie.Z,{kind:hs.F.MENUITEM,onClick:()=>this.props.onSelectAllStarred(a),"data-test-id":"select-all-starred-btn"},d.createElement(m.FormattedMessage,{id:"select_starred",defaultMessage:"Starred"}))),d.createElement(Ts.Z,{name:"select-unstarred"},d.createElement(ie.Z,{kind:hs.F.MENUITEM,onClick:()=>this.props.onSelectAllUnstarred(a),"data-test-id":"select-all-unstarred-btn"},d.createElement(m.FormattedMessage,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),d.createElement(Ts.Z,null,d.createElement("div",{"aria-live":"polite",id:"announcedSelectionCount"},t===A.EsZ.NO&&_>0?d.createElement(d.Fragment,null,d.createElement("span",{"aria-hidden":!0},E(_)),d.createElement("span",{className:l.accessible},d.createElement(m.FormattedMessage,{id:"selection_controls.selectionCountAnnouncement",defaultMessage:"{isConversationMode, select, true {{count, plural, one {conversation} other {# conversations} }} false {{count, plural, one {message} other {# messages} }} } selected.",values:{isConversationMode:o,count:_}}))):null))))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(Mr,"defaultProps",{tabIndex:-1}),Mr.contextTypes={intl:m.intlShape.isRequired,getCss:c().func,getThemeMode:c().func};const Lr=Mr;function Pr(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const yr=(0,m.defineMessages)({archive_msgs:{id:"archive_msgs",defaultMessage:"Archive the selected {conversations, select, true {conversations} false {messages}}"}});class br extends d.Component{constructor(...e){super(...e),Pr(this,"_renderLabel",(()=>d.createElement(m.FormattedMessage,{id:"archive_button.archive_label",defaultMessage:"Archive"})))}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:s,showLabel:a,isCompact:n,conversations:r}=this.props,o=e(yr.archive_msgs,{conversations:r}),i=this.context.getThemeMode()===$.zg.DARK;return d.createElement(B.default,{"data-iskeynav":!0,"data-test-id":"toolbar-archive","aria-label":o,title:o,kind:k.Kinds.ARCHIVE,disabled:t,onClick:s,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED,isOnDarkBackground:i,isCompact:n},a&&this._renderLabel())}}Pr(br,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c().func}),Pr(br,"defaultProps",{showLabel:!0,conversations:!1});const Fr=br;function Ur(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const vr=(0,m.defineMessages)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected {conversations, select, true {conversations} false {messages}} to Inbox"}});class wr extends d.Component{constructor(...e){super(...e),Ur(this,"_renderLabel",(()=>d.createElement(m.FormattedMessage,{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"})))}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:s,showLabel:a,isCompact:n,conversations:r}=this.props,o=e(vr.restore_msgs,{conversations:r}),i=this.context.getThemeMode()===$.zg.DARK;return d.createElement(B.default,{"data-iskeynav":!0,"data-test-id":"toolbar-archive-restore","aria-label":o,title:o,kind:k.Kinds.RESTORE_TO_INBOX,disabled:t,onClick:s,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED,isOnDarkBackground:i,isCompact:n},a&&this._renderLabel())}}Ur(wr,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c().func}),Ur(wr,"defaultProps",{showLabel:!0,conversations:!1});const Gr=wr;var kr=s(4609);function Hr(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Br=(0,m.defineMessages)({perm_delete_msgs:{id:"perm_delete_msgs",defaultMessage:"Permanently delete the selected {conversations, select, true {conversations} false {messages}}"},delete_msgs:{id:"delete_msgs",defaultMessage:"Delete the selected {conversations, select, true {conversations} false {messages}}"}});class xr extends d.Component{constructor(...e){super(...e),Hr(this,"_renderLabel",(()=>d.createElement(m.FormattedMessage,{id:"delete_button.delete_label",defaultMessage:"Delete"})))}render(){const{formatMessage:e}=this.context.intl,{permanent:t,disabled:s,onClick:a,showLabel:n,isCompact:r,conversations:o}=this.props,i=e(t?Br.perm_delete_msgs:Br.delete_msgs,{conversations:o}),l=t?"perm-delete":"delete",c=this.context.getThemeMode()===$.zg.DARK;return d.createElement(B.default,{"data-iskeynav":!0,"data-test-id":`toolbar-${l}`,"aria-label":i,title:i,kind:k.Kinds.DELETE,disabled:s,onClick:a,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED,isOnDarkBackground:c,isCompact:r},n&&this._renderLabel())}}Hr(xr,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c().func}),Hr(xr,"defaultProps",{showLabel:!0,conversations:!1});const Vr=xr;function Wr(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Zr=(0,m.defineMessages)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as spam"}});class Kr extends d.Component{constructor(...e){super(...e),Wr(this,"_renderLabel",(()=>d.createElement(m.FormattedMessage,{id:"spam_icon_label",defaultMessage:"Spam"})))}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:s,showLabel:a,isCompact:n}=this.props,r=e(Zr.mark_msgs_as_spam),o=this.context.getThemeMode()===$.zg.DARK;return d.createElement(B.default,{"data-iskeynav":!0,"data-test-id":"toolbar-spam","aria-label":r,title:r,kind:k.Kinds.SPAM,disabled:t,onClick:s,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED,isOnDarkBackground:o,isCompact:n},a&&this._renderLabel())}}Wr(Kr,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c().func}),Wr(Kr,"defaultProps",{showLabel:!0});const zr=Kr;function qr(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Yr=(0,m.defineMessages)({mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as not spam"}});class jr extends d.Component{constructor(...e){super(...e),qr(this,"_renderLabel",(()=>d.createElement(m.FormattedMessage,{id:"not_spam_icon_label",defaultMessage:"Not Spam"})))}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:s,showLabel:a,isCompact:n}=this.props,r=e(Yr.mark_msgs_as_not_spam),o=this.context.getThemeMode()===$.zg.DARK;return d.createElement(B.default,{"data-iskeynav":!0,"data-test-id":"toolbar-not-spam","aria-label":r,title:r,kind:k.Kinds.SPAM,disabled:t,onClick:s,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED,isOnDarkBackground:o,isCompact:n},a&&this._renderLabel())}}qr(jr,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c().func}),qr(jr,"defaultProps",{showLabel:!0});const Qr=jr;var Xr=s(36920),Jr=s.n(Xr);function $r(){return($r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const eo=(0,m.defineMessages)({more_button_title:{id:"more_button_title",defaultMessage:"More options"}});class to extends d.Component{constructor(e){super(e)}_renderLabel(){return d.createElement(m.FormattedMessage,{id:"more_button",defaultMessage:"More"})}render(){const{formatMessage:e}=this.context.intl,{disabled:t,showLabel:a,isCompact:n}=this.props,r=e(eo.more_button_title),o=this.context.getThemeMode()===$.zg.DARK,i=this.context.getCss(Jr());return d.createElement(gs.Z,{className:i.popoverContainer},d.createElement(Is.Z,null,d.createElement(B.default,{"data-iskeynav":!0,"data-test-id":"toolbar-more","aria-label":r,title:r,kind:k.Kinds.MORE,disabled:t,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED,isOnDarkBackground:o,isCompact:n},a&&this._renderLabel())),d.createElement(Zt.ZP,{triggerOn:Kt.K2.CLICK,permittedArrowDirections:[Kt.Ji.UP,Kt.Ji.DOWN],zAltitude:R.LSY.POPOVER.HIGH},d.createElement(ve.cr,$r({import:"../action_menu_items/index"},this.props,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,82175))},_moduleResolver:function(){return 82175}}),d.createElement(ve.nA,{loading:!0},d.createElement(X.Z,null)))))}}to.contextTypes={intl:m.intlShape.isRequired,getThemeMode:c().func,getCss:c().func},to.defaultProps={showLabel:!1};const so=to;var ao=s(42698),no=s.n(ao);const ro=(e,t)=>{const{renderSelectionControls:s,renderListFilter:a,renderArchive:n,renderRestoreToInbox:r,renderMove:o,renderDelete:i,renderSpam:l,renderHam:c,renderMore:E,renderSortMenu:_,renderConfirmDialog:u,enableTriageActions:m,activateDarkThemeMode:S}=e,p=t.getCss(no(),{activateDarkThemeMode:S});return d.createElement(Jt.Z,{axis:Jt.U.HORIZONTAL,circularNavigation:!1,groupTabIndex:R.iUz.MESSAGE_LIST_TOOLBAR,role:"toolbar",className:p.container,"data-test-id":"message-toolbar"},s(p),a(p),d.createElement("div",{className:p.mainActionControls},d.createElement("div",{className:m?p.actionListActive:p.actionListDefault},n(p),r(p),o(p),i(p),l(p),c(p),E(p))),_(p),u())};ro.contextTypes={getCss:c().func};const oo=ro,io=(e,t)=>{const{renderSelectionControls:s,renderArchive:a,renderRestoreToInbox:n,renderMove:r,renderDelete:o,renderSpam:i,renderHam:l,renderMore:c,renderSortMenu:E,renderSingleGroupActions:_,renderUsabiltyOptions:u,renderConfirmDialog:m,previewpane:S,enableGroupActions:p,enableTriageActions:C,horizontalOffset:A,renderListFilter:T,previewpaneInPixels:h,activateDarkThemeMode:g}=e,I=t.getCss(no(),{previewpane:S,groupActionsActive:p,previewpaneInPixels:h,activateDarkThemeMode:g}),O={flexBasis:A>100&&h?`${A}px`:`${A}%`};return d.createElement(Jt.Z,{axis:Jt.U.HORIZONTAL,circularNavigation:!1,groupTabIndex:R.iUz.MESSAGE_LIST_TOOLBAR,role:"toolbar",className:I.container,"data-test-id":"message-toolbar"},d.createElement("div",{className:I.leftHalfContainer,style:O},d.createElement("div",{className:I.leftGrid},s(I),T(I)),E(I)),d.createElement("div",{className:I.rightHalfContainer},_(I),d.createElement("div",{className:I.mainActionControls},d.createElement("div",{className:C?I.actionListActive:I.actionListDefault},a(I),n(I),r(I),o(I),i(I),l(I),c(I))),u(I),m()))};io.contextTypes={getCss:c().func};const lo=io,co=(e,t)=>{const{renderSelectionControls:s,renderListFilter:a,renderArchive:n,renderRestoreToInbox:r,renderMove:o,renderDelete:i,renderSpam:l,renderHam:c,renderMore:E,renderSortMenu:_,renderSingleGroupActions:u,renderUsabiltyOptions:m,renderConfirmDialog:S,previewpane:p,enableGroupActions:C,enableTriageActions:A,activateDarkThemeMode:T}=e,h=t.getCss(no(),{previewpane:p,groupActionsActive:C,activateDarkThemeMode:T});return d.createElement(Jt.Z,{axis:Jt.U.HORIZONTAL,circularNavigation:!1,groupTabIndex:R.iUz.MESSAGE_LIST_TOOLBAR,role:"toolbar",className:h.container,"data-test-id":"message-toolbar"},s(h),a(h),u(h),d.createElement("div",{className:h.mainActionControls},d.createElement("div",{className:A?h.actionListActive:h.actionListDefault},n(h),r(h),o(h),i(h),l(h),c(h),E(h))),m(h),_(h),S())};co.contextTypes={getCss:c().func};const Eo=co;var _o=s(55831);const uo=["d","shift+d","r","a","f","p","escape"],mo=(0,S.connect)(((e,t)=>{const{listId:s,streamId:a,actions:n,route:r}=t,{getCursorItem:o,getSelectedStreamItems:i,doesStreamExist:l,isAllCardsExpanded:c,canShowToolbarItem:d,canEnableToolbarItem:E,shouldEnableGroupActions:_,shouldEnableTriageActions:u,getListsSelectors:m,isPermDeleteFolderType:S,getAvailableSortOrders:p,isFeatureEnabled:C,getNumberOfSelectedItemsInList:T,getFeaturesSelectors:h,isStorefrontRoute:g,getMessageIdsFromMessageGroupId:I,getMessagesSelectors:R,isSpamMessage:O,isTrashMessage:D}=(0,ye.selectors)(e),{getItemIdsSelectors:N}=m(),f=l(a)?i(a):[],M=l(a)?o(a):void 0,L=T(s),P=L>0?f:[];M&&0===L&&P.push(M);const y=L>0&&N(s).getItemIds().length===f.length,b=(0,te.Fh)(s),F=!!M&&c(M.listId,M.id);let U=A.zae.NONE;const v=h(),w=v.getSetting(A.Zrf.BULK_ACTION_DIALOG_THRESHOLD),G=L>=w,k=C(A.ANe.SELECT_ALL)&&G;L&&y?U=A.zae.ALL:L&&(U=A.zae.PARTIAL);const H=C(A.ANe.PREVIEW_PANE_IN_PIXELS),B=v.getSetting(A.Zrf.THEME_MODE)===$.zg.DARK,x=P.map((({id:e})=>e)),V=1===x.length?I(x[0]):[],W=1===V.length&&V[0]||"",Z=Boolean(C(A.ANe.UNSUBSCRIBE_FROM_MESSAGE)&&W&&(0,_o.m3)(R().getDecos(W),A.Jd6.USB)&&!O(W)&&!D(W)&&C(A.ANe.UNSUBSCRIBE_FOR_SPAM));return{listenKeys:uo,canShowToolbarItem:d(a),canEnableToolbarItem:E(a),allItemsSelected:y,selectAllBulkEnabled:k,selectedItemsCount:L,cursorItem:M,allCardsExpanded:F,permanentDelete:!!b&&S(b),enableGroupActions:_(a),enableTriageActions:u(a),currentSortOrder:(0,te.WW)(t.listId),availableSortOrders:p(),checkboxType:U,routeName:r.name,enableSingleGroupActions:1===P.length,previewpaneInPixels:H,...n.TOOLBAR,bulkActionDialogThreshold:w,isStorefrontRoute:g(),mid:W,showUnsubscribeFlowForSpam:Z,isDarkTheme:B}}));var So=s(549),po=s(66462);function Co(){return(Co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Ao=e=>{e.stopPropagation(),e.preventDefault()};class To extends d.Component{constructor(e){super(e),this.componentRenderers={renderSelectionControls:this.renderSelectionControls.bind(this),renderArchive:this.renderArchive.bind(this),renderRestoreToInbox:this.renderRestoreToInbox.bind(this),renderMove:this.renderMove.bind(this),renderDelete:this.renderDelete.bind(this),renderSpam:this.renderSpam.bind(this),renderHam:this.renderHam.bind(this),renderMore:this.renderMore.bind(this),renderSortMenu:this.renderSortMenu.bind(this),renderSingleGroupActions:this.renderSingleGroupActions.bind(this),renderUsabiltyOptions:this.renderUsabiltyOptions.bind(this),renderListFilter:this.renderListFilter.bind(this),renderConfirmDialog:this.renderConfirmDialog.bind(this)},this.state={moveMenuActive:!1,moveMenuFilterFocused:!1,confirmState:null},this.handleSort=this.handleSort.bind(this),this.handleShortcuts=this.handleShortcuts.bind(this),this.handleMoveMenuShow=this.handleMoveMenuShow.bind(this),this.handleMoveMenuHide=this.handleMoveMenuHide.bind(this),this.handleMoveMenuToggle=this.handleMoveMenuToggle.bind(this),this.handleReplyForward=this.handleReplyForward.bind(this),this.handleArchive=this.handleArchive.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleSpam=this.handleSpam.bind(this),this.handleHam=this.handleHam.bind(this),this.handleRestoreToInbox=this.handleRestoreToInbox.bind(this),this.handleMove=this.handleMove.bind(this),this.handleClosePreviewMessage=this.handleClosePreviewMessage.bind(this),this.handleExpandContractClick=this.handleExpandContractClick.bind(this),this.hideConfirm=this.hideConfirm.bind(this),this.handlePrint=this.handlePrint.bind(this)}componentDidMount(){this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts)}shouldComponentUpdate(e,t){const s=this.props.previewpane!==A.EsZ.NO&&this.props.allCardsExpanded!==e.allCardsExpanded,a=["canShowToolbarItem","canEnableToolbarItem","allCardsExpanded"];return this.props.routeName===e.routeName&&e.routeName!==A.n8z.SEARCH&&a.push("cursorItem"),!Ls()(i()(this.props,a),i()(e,a))||!Ls()(this.state,t)||s}componentWillUnmount(){this.context.unbindShortcut(this.props.listenKeys)}handleShortcuts(e){Ao(e);const t=e.which||e.keyCode||-1,s=String.fromCharCode(t).toLowerCase(),{canShowToolbarItem:a,canEnableToolbarItem:n}=this.props,r=a(A.Egu.RAF),o=n(A.Egu.RAF);if(t!==H.P.ESCAPE)switch(s){case H.y.KEYD:n(A.Egu.MOVE)&&this.handleMoveMenuShow(e.shiftKey);break;case H.y.KEYR:o&&r&&this.handleReplyForward(e,A.AGu.Modes.REPLY);break;case H.y.KEYF:o&&r&&this.handleReplyForward(e,A.AGu.Modes.FORWARD);break;case H.y.KEYA:o&&r&&this.handleReplyForward(e,A.AGu.Modes.REPLY_ALL);break;case H.y.KEYP:this.props.enableSingleGroupActions&&this.handlePrint(e)}else{if(this.props.routeName===A.n8z.FOLDER)return;this.props.onClosePage({listId:this.props.listId,i13nModel:{mKey:J.JE.TOOLBAR_CLOSE_MSG,sec:J.nJ.MSG_READ_TOOLBAR,interactionType:(0,ee.getInteractionFromEvent)(e)}})}}handleMoveMenuShow(e){if(!this.props.enableTriageActions)return;const t={moveMenuActive:!0};e&&(t.moveMenuFilterFocused=!0),this.setState(t)}handleMoveMenuToggle(e){e.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.props.enableTriageActions})}handleMoveMenuHide(){this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})}handleSort(e,t){const{listId:s,onSortOrderChange:a}=this.props;a({listId:s,sortOrder:t,i13nModel:{interactionType:(0,ee.getInteractionFromEvent)(e)}})}handleReplyForward(e,t){Ao(e);const{onReplyForward:s,streamId:a,listId:n}=this.props;let r,o;switch(t){case A.AGu.Modes.REPLY:r=J.JE.TOOLBAR_REPLY,o=J.rO.replyMsg;break;case A.AGu.Modes.REPLY_ALL:r=J.JE.TOOLBAR_REPLYALL,o=J.rO.replyAllMsg;break;case A.AGu.Modes.FORWARD:r=J.JE.TOOLBAR_FORWARD,o=J.rO.forwardMsg}s({streamId:a,listId:n,composeMode:t,i13nModel:{mKey:r,sec:J.nJ.MSG_READ_TOOLBAR,mKeyGroup:o,interactionType:(0,ee.getInteractionFromEvent)(e)}})}handleClosePreviewMessage(e){Ao(e);const{listId:t,streamId:s,onClosePreviewMessage:a}=this.props;a({streamId:s,listId:t,i13nModel:{mKey:J.JE.TOOLBAR_CLOSE_MSG,sec:J.nJ.MSG_READ_TOOLBAR,interactionType:(0,ee.getInteractionFromEvent)(e)}})}handleExpandContractClick(e){Ao(e);const{onChangeAllMessageCardExpansion:t,listId:s,streamId:a,canShowToolbarItem:n}=this.props;t({listId:s,streamId:a,expansionState:n(A.Egu.COLLAPSEALL)?A.Lvq.COLLAPSED:A.Lvq.EXPANDED})}handleArchive(e){Ao(e);const{streamId:t,onArchive:s,selectedItemsCount:a,bulkActionDialogThreshold:n}=this.props;if(!this.state.confirmState&&a>=n)return void this.setState({confirmState:{title:Bn.Z.list_archive_title,message:Bn.Z.list_archive_message,onConfirm:this.handleArchive,onAbort:this.hideConfirm}});s({streamId:t,triageActionType:A.Ewo.ARCHIVE_SELECTED_ITEMS,i13nModel:{mKey:J.JE.TOOLBAR_ARCHIVE,sec:J.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:J.rO.archiveMsg,interactionType:(0,ee.getInteractionFromEvent)(e)}}),this.hideConfirm()}handleRestoreToInbox(e){Ao(e);const{streamId:t,moveToInbox:s}=this.props;s({streamId:t,triageActionType:A.Ewo.RESTORE_SELECTED_ITEMS,i13nModel:{mKey:J.JE.TOOLBAR_RESTORE,sec:J.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:J.rO.moveMsg,interactionType:(0,ee.getInteractionFromEvent)(e)}})}handleDelete(e){Ao(e);const{streamId:t,onDelete:s,permanentDelete:a,selectedItemsCount:n,bulkActionDialogThreshold:r}=this.props;if(!this.state.confirmState&&(a||n>=r))return void this.setState({confirmState:{title:Bn.Z.list_delete_title,message:a?Bn.Z.list_perm_delete_message:Bn.Z.list_delete_message,onConfirm:this.handleDelete,onAbort:this.hideConfirm}});s({streamId:t,triageActionType:A.Ewo.DELETE_SELECTED_ITEMS,i13nModel:{mKey:J.JE.TOOLBAR_DELETE,sec:J.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:J.rO.deleteMsg,interactionType:(0,ee.getInteractionFromEvent)(e)}}),this.hideConfirm()}hideConfirm(){this.state.confirmState&&this.setState({confirmState:null})}handleSpam(e){const{streamId:t,onSpam:s,selectedItemsCount:a,bulkActionDialogThreshold:n,mid:r,showUnsubscribeFlowForSpam:o}=this.props;if(!this.state.confirmState&&a>=n)return void this.setState({confirmState:{title:Bn.Z.list_spam_title,message:Bn.Z.list_spam_message,onConfirm:this.handleSpam,onAbort:this.hideConfirm}});const i=(a={})=>s({streamId:t,triageActionType:A.Ewo.SPAM_SELECTED_ITEMS,i13nModel:{mKey:J.JE.TOOLBAR_SPAM,sec:J.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:J.rO.markSpam,interactionType:(0,ee.getInteractionFromEvent)(e),...a}});o?(0,So.C)(d.createElement(po.ZP,{messageId:r,onSpam:i}),this.context):i(),this.hideConfirm()}handleHam(e){const{streamId:t,moveToInbox:s}=this.props;s({streamId:t,triageActionType:A.Ewo.NOT_SPAM_SELECTED_ITEMS,i13nModel:{mKey:J.JE.TOOLBAR_NOT_SPAM,sec:J.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:J.rO.markUnspam,interactionType:(0,ee.getInteractionFromEvent)(e)}})}handleMove(e,t){const{streamId:s,onMove:a,selectedItemsCount:n,bulkActionDialogThreshold:r}=this.props;if(!this.state.confirmState&&n>=r)return void this.setState({confirmState:{title:Bn.Z.list_move_title,message:Bn.Z.list_move_message,onConfirm:()=>this.handleMove(e,t),onAbort:this.hideConfirm}});a({streamId:s,...{triageActionType:A.Ewo.MOVE_SELECTED_ITEMS,destinationFolderId:e,i13nModel:{mKey:J.JE.TOOLBAR_MOVE,sec:J.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:J.rO.moveMsg,interactionType:(0,ee.getInteractionFromEvent)(t)}}}),this.hideConfirm()}handleOnRead(e){const{moreMenuActions:t,allItemsSelected:s,selectAllBulkEnabled:a}=this.props,{onRead:n}=t;!this.state.confirmState&&s&&a?this.setState({confirmState:{title:Bn.Z.list_mark_read_bulk_title,message:Bn.Z.list_mark_read_bulk_messages,onConfirm:()=>this.handleOnRead(e),onAbort:this.hideConfirm}}):(n(e),this.hideConfirm())}handleOnUnread(e){const{moreMenuActions:t,allItemsSelected:s,selectAllBulkEnabled:a}=this.props,{onUnread:n}=t;!this.state.confirmState&&s&&a?this.setState({confirmState:{title:Bn.Z.list_mark_unread_bulk_title,message:Bn.Z.list_mark_unread_bulk_messages,onConfirm:()=>this.handleOnUnread(e),onAbort:this.hideConfirm}}):(n(e),this.hideConfirm())}handleOnStar(e){const{moreMenuActions:t,allItemsSelected:s,selectAllBulkEnabled:a}=this.props,{onStar:n}=t;!this.state.confirmState&&s&&a?this.setState({confirmState:{title:Bn.Z.list_mark_starred_bulk_title,message:Bn.Z.list_mark_starred_bulk_messages,onConfirm:()=>this.handleOnStar(e),onAbort:this.hideConfirm}}):(n(e),this.hideConfirm())}handleOnUnstar(e){const{moreMenuActions:t,allItemsSelected:s,selectAllBulkEnabled:a}=this.props,{onUnstar:n}=t;!this.state.confirmState&&s&&a?this.setState({confirmState:{title:Bn.Z.list_mark_unstarred_bulk_title,message:Bn.Z.list_mark_unstarred_bulk_messages,onConfirm:()=>this.handleOnUnstar(e),onAbort:this.hideConfirm}}):(n(e),this.hideConfirm())}handlePrint(e){e.preventDefault();const{moreMenuActions:t,streamId:s,listId:a}=this.props,n={mKey:J.JE.TOOLBAR_PRINT,sec:J.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:J.rO.printMsg,interactionType:(0,ee.getInteractionFromEvent)(e)};t.onPrint({i13nModel:n,streamId:s,listId:a})}renderSelectionControls(e){const{selectionActions:t,selectedItemsCount:s,previewpane:a,checkboxType:n,streamId:r,isConversationMode:o,isStorefrontRoute:i}=this.props;return d.createElement("div",{className:e.cboxWrapper},d.createElement("div",{className:e.selectionControlsWrapper},d.createElement(Lr,Co({},t,{selectedItemsCount:s,previewpane:a,checkboxType:n,streamId:r,tabIndex:R.iUz.MESSAGE_LIST_TOOLBAR,isStorefrontRoute:i,isConversationMode:o}))))}renderArchive(e){const{canShowToolbarItem:t,canEnableToolbarItem:s,showLabels:a}=this.props,n=t(A.Egu.ARCHIVE),r=s(A.Egu.ARCHIVE);return n?d.createElement("div",{className:r?e.toolbarItem:e.toolbarItemDisabled},d.createElement(Fr,{disabled:!r,showLabel:a,onClick:this.handleArchive})):null}renderRestoreToInbox(e){const{canShowToolbarItem:t,canEnableToolbarItem:s,showLabels:a,isConversationMode:n}=this.props,r=t(A.Egu.RESTORE),o=s(A.Egu.RESTORE);return r?d.createElement("div",{className:o?e.toolbarItem:e.toolbarItemDisabled},d.createElement(Gr,{disabled:!o,showLabel:a,onClick:this.handleRestoreToInbox,isConversationMode:n})):null}renderMove(e){const{canShowToolbarItem:t,canEnableToolbarItem:s,showLabels:a,listId:n}=this.props,r=t(A.Egu.MOVE),o=s(A.Egu.MOVE);return r?d.createElement("div",{className:o?e.toolbarItem:e.toolbarItemDisabled},d.createElement(kr.ZP,{disabled:!o,showLabel:a,listId:n,onClick:this.handleMove,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,hasShortcuts:!this.state.moveMenuFilterFocused,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle})):null}renderDelete(e){const{canShowToolbarItem:t,canEnableToolbarItem:s,showLabels:a,permanentDelete:n}=this.props,r=t(A.Egu.DELETE),o=s(A.Egu.DELETE);return r?d.createElement("div",{className:o?e.toolbarItem:e.toolbarItemDisabled},d.createElement(Vr,{disabled:!o,showLabel:a,permanent:n,onClick:this.handleDelete})):null}renderSpam(e){const{canShowToolbarItem:t,canEnableToolbarItem:s,showLabels:a}=this.props,n=t(A.Egu.SPAM),r=s(A.Egu.SPAM);return n?d.createElement("div",{className:r?e.toolbarItem:e.toolbarItemDisabled},d.createElement(zr,{disabled:!r,showLabel:a,onClick:this.handleSpam})):null}renderHam(e){const{canShowToolbarItem:t,showLabels:s,canEnableToolbarItem:a}=this.props,n=t(A.Egu.HAM),r=a(A.Egu.HAM);return n?d.createElement("div",{className:r?e.toolbarItem:e.toolbarItemDisabled},d.createElement(Qr,{disabled:!r,showLabel:s,onClick:this.handleHam})):null}renderMore(e){const{listId:t,canShowToolbarItem:s,canEnableToolbarItem:a,moreMenuActions:n,streamId:r,enableSingleGroupActions:o,selectedItemsCount:i,previewpane:l}=this.props,c=s(A.Egu.MORE),E=a(A.Egu.MORE),_={...n,onRead:e=>this.handleOnRead(e),onUnread:e=>this.handleOnUnread(e),onStar:e=>this.handleOnStar(e),onUnstar:e=>this.handleOnUnstar(e)};return c?d.createElement("div",{className:E?e.toolbarItem:e.toolbarItemDisabled},d.createElement(so,Co({disabled:!E,showLabel:!1},_,{listId:t,streamId:r,enableSingleGroupActions:o,selectedItemsCount:i,previewpane:l}))):null}renderSortMenu(e){return this.props.isStorefrontRoute?null:d.createElement("div",{className:e.viewMenu},d.createElement("div",{className:e.sortMenuContainer},d.createElement(vs,{currentSortOrder:this.props.currentSortOrder,availableSortOrders:this.props.availableSortOrders,onClick:this.handleSort})))}renderSingleGroupActions(e){const{canShowToolbarItem:t,canEnableToolbarItem:s}=this.props,a=t(A.Egu.RAF),n=s(A.Egu.RAF),{formatMessage:r}=this.context.intl,o=this.context.getThemeMode()===$.zg.DARK,i=[{kind:k.Kinds.REPLY,composeMode:A.AGu.Modes.REPLY,stringKey:"message_reply"},{kind:k.Kinds.REPLY_ALL,composeMode:A.AGu.Modes.REPLY_ALL,stringKey:"message_reply_all"},{kind:k.Kinds.FORWARD,composeMode:A.AGu.Modes.FORWARD,stringKey:"message_forward"}],l=n?e.singleGroupItem:e.singleGroupItem+" "+e.disabledItem,c=i.map((({kind:e,stringKey:t,composeMode:s})=>{const a=r(Bn.Z[t]);return d.createElement(Ts.Z,{name:e,key:e,className:l,onClick:e=>this.handleReplyForward(e,s)},d.createElement(B.default,{"data-iskeynav":!0,"data-test-id":`toolbar-${e}`,"aria-label":a,title:a,kind:e,size:k.Sizes.XS,disabled:!n,colorState:k.ColorStates.INHERITED,isOnDarkBackground:o}))}));return a?d.createElement("div",{className:e.singleGroupActions,"data-test-id":"single-group-action"},d.createElement("ul",{key:"group-actions",className:e.singleGroupActionList},c)):null}renderExpandMessages(e){const{canShowToolbarItem:t}=this.props,{formatMessage:s}=this.context.intl,a=this.context.getThemeMode()===$.zg.DARK,n=t(A.Egu.EXPANDALL),r=t(A.Egu.COLLAPSEALL);return n||r?d.createElement("div",{className:e.expandCollapse,"data-test-id":"expand-messages",onClick:this.handleExpandContractClick},d.createElement(B.default,{title:s(Bn.Z[r?"collapse_list":"expand_list"]),"aria-label":s(Bn.Z[r?"list_is_expanded":"list_is_collapsed"]),kind:r?k.Kinds.COLLAPSE_LIST:k.Kinds.EXPAND_LIST,size:k.Sizes.XS,paddingLess:!1,colorState:k.ColorStates.INHERITED,"data-iskeynav":!0,isOnDarkBackground:a})):d.createElement("div",{className:e.hiddenItem})}renderClosePreview(e){const{formatMessage:t}=this.context.intl,s=this.context.getThemeMode()===$.zg.DARK,{enableGroupActions:a}=this.props;return a?d.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper,onClick:this.handleClosePreviewMessage},d.createElement(B.default,{"data-iskeynav":!0,"data-test-id":"toolbar-close",kind:k.Kinds.CLOSE,size:k.Sizes.XS,disabled:!1,title:t(Bn.Z.close),"aria-label":t(Bn.Z.close),colorState:k.ColorStates.INHERITED,isOnDarkBackground:s})):null}renderUsabiltyOptions(e){return d.createElement("div",{className:e.usabiltyOptions,"data-test-id":"usabilty-options"},this.renderExpandMessages(e),this.renderClosePreview(e))}renderListFilter(e){const{onListFilterChange:t,showListFilter:s}=this.props,a=this.context.getThemeMode()===$.zg.DARK;if(!s)return null;const{formatMessage:n}=this.context.intl,r=(0,te.C4)(this.props.listId).toLowerCase(),o=d.createElement(Ts.Z,{key:r,name:"list-filter-"+r},d.createElement(ie.Z,{"data-test-id":"list-filter-from",kind:hs.F.MENUITEM,onClick:e=>t(e,A.ukn.FROM)},n(Bn.Z.list_filter_from)),d.createElement(ie.Z,{"data-test-id":"list-filter-to",kind:hs.F.MENUITEM,onClick:e=>t(e,A.ukn.TO)},n(Bn.Z.list_filter_to)),d.createElement(ie.Z,{"data-test-id":"list-filter-all",kind:hs.F.MENUITEM,onClick:e=>t(e,A.ukn.ALL)},n(Bn.Z.list_filter_all)));return d.createElement("div",{className:e.listFilterViewMenu,"data-test-id":"toolbar-list-filter"},d.createElement(gs.Z,null,d.createElement(Is.Z,null,d.createElement(ie.Z,{"data-test-id":"toolbar-list-filter-button",kind:hs.F.CHROMELESS,tabIndex:-1,"data-iskeynav":!0,isOnDarkBackground:a},d.createElement("span",{className:e.listFilterMenu},n(Bn.Z["list_filter_"+r]),d.createElement(oe.Z,{kind:k.Kinds.CHEVRON_UP,size:k.Sizes.XS,rotate:k.Rotate.D180,colorState:k.ColorStates.INHERITED})))),d.createElement(Zt.ZP,{triggerOn:Kt.K2.CLICK,hideOnContentClick:!0,offset:5*R.mg$,align:Kt.xM.CENTER,zAltitude:R.LSY.POPOVER.HIGH,"data-test-id":"toolbar-list-filter-popover"},d.createElement("div",{className:e.popoverListWrapper},d.createElement(As.Z,{focusOnMount:!0,"data-test-id":"toolbar-list-filter-menu"},o)))))}renderConfirmDialog(){if(null===this.state.confirmState)return null;const{confirmState:e}=this.state,{formatMessage:t}=this.context.intl;let s=0;this.props.selectedItemsCount>0?s=this.props.selectedItemsCount:this.props.cursorItem&&(s=1);const a={conversations:this.props.isConversationMode,count:s};return d.createElement(xn.Z,{title:t(e.title),message:t(e.message,a),onConfirm:e.onConfirm,onAbort:e.onAbort})}render(){const{previewpane:e,isStorefrontRoute:t}=this.props,s=!t&&this.context.getThemeMode()===$.zg.DARK;switch(e){case A.EsZ.RIGHT:return d.createElement(lo,Co({},this.componentRenderers,this.props,{activateDarkThemeMode:s}));case A.EsZ.BOTTOM:return d.createElement(Eo,Co({},this.componentRenderers,this.props,{activateDarkThemeMode:s}));default:return d.createElement(oo,Co({},this.componentRenderers,this.props,{activateDarkThemeMode:s}))}}}To.defaultProps={isConversationMode:!1},To.contextTypes={intl:m.intlShape.isRequired,navigateTo:c().func.isRequired,getThemeMode:c().func,bindShortcut:c().func,unbindShortcut:c().func,getCss:c().func,getTheme:c().func,executeAction:c().func,getStore:c().func,store:c().object};const ho=mo(To);var go=s(4450),Io=s.n(go);const Ro=(0,m.defineMessages)({photos:{id:"photos_header_label",defaultMessage:"Photos from email"}}),Oo=(e,t)=>{const{getCss:s,intl:a,getThemeMode:n}=t,{formatMessage:r}=a,o=s(Io(),{themeMode:n()}),{currentSortOrder:i,availableSortOrders:l,onSortOrderChange:c,listId:E}=e;return d.createElement("div",{className:o.photosViewHeader,"data-test-id":"photos-header"},d.createElement("header",{className:o.photosViewTitle},r(Ro.photos)),d.createElement("div",{className:o.sortMenuContainer},d.createElement(vs,{currentSortOrder:i,availableSortOrders:l,onClick:(e,t)=>{c({listId:E,sortOrder:t,i13nModel:{interactionType:(0,ee.getInteractionFromEvent)(e)}})},tabIndex:R.iUz.MESSAGE_LIST_TOOLBAR})))};Oo.contextTypes={getCss:c().func,intl:m.intlShape,getThemeMode:c().func};const Do=(0,S.connect)(((e,t)=>{const{getAvailableSortOrders:s}=(0,ye.selectors)(e);return{currentSortOrder:(0,te.WW)(t.listId),availableSortOrders:s()}}),(e=>({onSortOrderChange:t=>e(ks(t))})),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&Ls()(e.availableSortOrders,t.availableSortOrders)})(Oo);var No=s(9723),fo=s(33604),Mo=s.n(fo),Lo=s(42397),Po=s(92110),yo=s(25244),bo=s(27084),Fo=s.n(bo);const Uo=({selectionCount:e,isConversationMode:t},{intl:s,getCss:a})=>{const n=a(Fo());return d.createElement("div",{className:n.container,"data-test-id":"selection-count","data-test-count":e},d.createElement("div",{className:n.wrapper},d.createElement("div",{className:n.svgWrapper},d.createElement(Po.Z,{kind:yo.F.SELECTED_MESSAGES,width:yo.J,height:yo.J,altText:" "})),e>0&&d.createElement("div",{className:n.countWrapper},d.createElement("span",{className:n.count,"data-test-id":"selection-count-node"},d.createElement("span",{"aria-hidden":!0},s.formatNumber(e)),d.createElement("span",{className:n.accessible,id:"announcedSelectionCount",tabIndex:"-1","aria-live":"polite"},d.createElement(m.FormattedMessage,{id:"mail_count.selectionCountAnnouncement",defaultMessage:"{isConversationMode, select, true {{selectionCount, plural, one {conversation} other {# conversations} }} false {{selectionCount, plural, one {message} other {# messages} }} } selected.",values:{isConversationMode:t,selectionCount:e}}))))))};Uo.contextTypes={intl:m.intlShape,getCss:c().func};const vo=(0,S.connect)(((e,{listId:t})=>{const{getNumberOfSelectedItemsInList:s,isFeatureEnabled:a}=(0,ye.selectors)(e),n=a(A.ANe.CONVERSATIONS);let r=s(t);return r>A.DTB&&(r=A.DTB),{selectionCount:r,isConversationMode:n}}))(Uo);var wo=s(50566);function Go(){return(Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class ko extends d.Component{shouldComponentUpdate(e){return!e.skipRendering}render(){const{numberOfMessageSelection:e,openedGroupId:t,csid:s}=this.props,a=this.context.getCss(Mo());return 0===e&&(t||s)?d.createElement("div",{className:a.messageView},d.createElement(Lo.ZP,Go({},this.props,{hasToolbar:!1,openedMessageId:t,csid:s,widthChanged:0}))):d.createElement("div",{className:a.blank},d.createElement(vo,{listId:this.props.listId}))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(ko,"contextTypes",{getCss:c().func});const Ho=(0,S.connect)(((e,{streamId:t})=>{const{doesStreamExist:s,getSelectedStreamItems:a,isSingleDraftGroup:n,doesMessageGroupIdExist:r,getCsidForSingleDraftGroup:o,getCursorItem:i,getAction:l}=(0,ye.selectors)(e),c=s(t)?i(t):{},d=c?c.id:void 0,E=s(t)?a(t).length:0,_=!!r(d)&&n(d),u=l().type;return{skipRendering:u===wo.STREAM_CURSOR_MOVED||u===wo.ITEM_LIST_PAGE_SCROLLED,numberOfMessageSelection:E,openedGroupId:d,csid:_?o(d):void 0}}),null)(ko);var Bo=s(43715),xo=s.n(Bo);const Vo=(0,m.defineMessages)({heading:{id:"receipt_header.heading",defaultMessage:"Receipts from email"}});class Wo extends d.Component{render(){const{formatMessage:e}=this.context.intl,t=this.context.getThemeMode(),s=_()(xo(),{themeMode:t}),a=e(Vo.heading);return d.createElement("div",null,d.createElement("div",{className:s.heading,"data-test-id":"receipt-heading","aria-label":a,title:a},a))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(Wo,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c().func});const Zo=Wo;var Ko=s(44278),zo=s(18452),qo=s.n(zo),Yo=s(17591),jo=s(71421);const Qo="view_more",Xo="view_less",Jo="view_all_btn",$o="view_less_btn",ei=(0,m.defineMessages)({deal_separator_recommended:{id:"deal_separator_recommended",defaultMessage:"Deals for you"},viewLess:{id:"card_group.view_less",defaultMessage:"View less"},viewMore:{id:"card_group.view_more_cards",defaultMessage:"View more"}});class ti extends d.Component{render(){const{toggleExpansion:e,isExpanded:t,isExpandable:s}=this.props,{formatMessage:a}=this.context.intl,n=this.context.getCss(qo()),r=(0,$.$o)({context:this.context,includeMedium:!1});return d.createElement("div",{className:n.container,"data-test-id":"top-deals-header"},d.createElement("div",{className:n.iconContainer},d.createElement("span",{className:n.header},a(ei.deal_separator_recommended)),d.createElement("span",{className:n.partnerAttributionIcon},d.createElement(Ko.ZP,{isOnDarkBackground:r,size:k.Sizes.XS}))),d.createElement("div",{className:n.buttonContainer},s?d.createElement(ie.Z,{marginLess:!0,kind:hs.F.THEMED_LIKE_COMPOSE_BUTTON,onClick:()=>e(t),overridingClass:n.expandButton},a(t?ei.viewLess:ei.viewMore)):null))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(ti,"contextTypes",{intl:m.intlShape.isRequired,getCss:c().func,getThemeMode:c().func});const si=(0,S.connect)((e=>{const{getCouponsSelectors:t,getMainContentWidth:s,getDealsViewSelectors:a}=(0,ye.selectors)(e),{getRecommendedDeals:n}=t(),{getDealsViewListExpansion:r}=a(),o=n(),i=s();let l=2;i>1e3?l=3:i<650&&(l=1);const c=(0,jo.Bb)(o,i/l,i);return{isExpanded:r(),isExpandable:c.length>3}}),(e=>{const t={featurefamily:A.lMo.IC,slot:J.KJ.COUPON_SMART_VIEW,xpname:A.pdX.RECOMMENDED_DEALS},s={mKey:J.JE.CARD_INTERACT,sec:J.nJ.COUPONS_LIST,actionData:t};return{toggleExpansion:a=>{t.interactiontype=a?Xo:Qo,t.interacteditem=a?$o:Jo,e((0,Yo.a6)({i13nModel:s}))}}}))(ti);var ai=s(75668),ni=s.n(ai);function ri(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const oi=(0,m.defineMessages)({heading:{id:"travel_header.heading",defaultMessage:"Travel"},upcoming:{id:"travel_header.upcoming",defaultMessage:"Upcoming"},upcoming_selected:{id:"travel_header.upcoming_selected",defaultMessage:"Upcoming, selected"},past:{id:"travel_header.past",defaultMessage:"Past"},past_selected:{id:"travel_header.past_selected",defaultMessage:"Past, selected"},emails:{id:"travel.emails",defaultMessage:"Emails"},emails_selected:{id:"travel.emails_selected",defaultMessage:"Emails, selected"}});class ii extends d.Component{constructor(...e){super(...e),ri(this,"handleTabChange",((e,{mKeyType:t,smartViewType:s})=>{const a=J.JE["FILTER_"+t],n=(0,Le.jK)(s,{accountIds:(0,te.Er)(this.props.listId)});this.context.navigateTo({route:n,i13nModel:{mKey:a,sec:J.nJ.TRAVEL_LIST,interactionType:(0,ee.getInteractionFromEvent)(e)}})}))}render(){const e=(0,te.C4)(this.props.listId),t=(0,te.WN)(this.props.listId),{formatMessage:s}=this.context.intl,a=this.context.getCss(ni());return d.createElement("div",{className:a.container,"data-test-id":"travel-header"},d.createElement("div",{className:a.heading,"data-test-id":"travel-heading"},s(oi.heading)),d.createElement("div",{className:a.tabs},d.createElement(yt.Z,null,d.createElement(bt.Z,{isSelected:e===A.ukn.TRAVEL_VIEW_UPCOMING,onClick:e=>this.handleTabChange(e,{mKeyType:A.ukn.TRAVEL_VIEW_UPCOMING,smartViewType:A.K8C.TRAVEL}),"data-test-id":"btn-upcoming-tab",title:s(oi.upcoming)}),d.createElement(bt.Z,{isSelected:e===A.ukn.TRAVEL_VIEW_PAST,onClick:e=>this.handleTabChange(e,{mKeyType:A.ukn.TRAVEL_VIEW_PAST,smartViewType:A.K8C.TRAVEL_PAST}),"data-test-id":"btn-past-tab",title:s(oi.past)}),d.createElement(bt.Z,{isSelected:t===A.F6k.MESSAGES,onClick:e=>this.handleTabChange(e,{mKeyType:A.F6k.MESSAGES,smartViewType:A.K8C.TRAVEL_EMAILS}),"data-test-id":"btn-emails-tab",title:s(oi.emails)}))))}}ri(ii,"contextTypes",{getCss:c().func,intl:m.intlShape.isRequired,navigateTo:c().func});const li=ii;var ci=s(74960),di=s.n(ci),Ei=s(7426),_i=s(82520);const ui=(0,m.defineMessages)({all_emails:{id:"all.emails",defaultMessage:"All Emails"},focused_inbox:{id:"focused_inbox",defaultMessage:"Important Emails"}}),mi=(0,S.connect)((e=>({showFocusedInboxCue:(0,ye.selectors)(e).isFeatureEnabled(A.ANe.FOCUSED_INBOX_CUE),selectedAccountId:(0,ye.selectors)(e).getSelectedAccountId(),selectedAccountFolderId:(0,ye.selectors)(e).getDefaultFolderIdForSelectedAccount()})),(e=>({navigateToRoute:t=>e((0,ut.Ch)(t)),navigateToInbox:t=>e((0,ut.YD)(t))})))((e=>{const t=(0,d.useRef)(null),{selectedAccountFolderId:a,selectedAccountId:n,navigateToInbox:r,navigateToRoute:o,listId:i,showFocusedInboxCue:l}=e,c=(0,te.aY)(i),{formatMessage:E}=(0,Ei.Y)(),_=(0,Yt.Z)(di()),u=(0,d.useCallback)((()=>{r({inboxFolderId:a})}),[r,a]),m=(0,d.useCallback)((()=>{const e=(0,Le.Yw)((0,te.rA)({referrer:A.qd8.FOCUSED_INBOX,accountIds:n}));o({route:e})}),[o,n]);return d.createElement(Jt.Z,{"data-test-id":"inbox-header",circularNavigation:!1,axis:Jt.U.HORIZONTAL,groupTabIndex:R.iUz.SEGMENTED_CONTROL_FILTERS},d.createElement("div",{className:_.tabs},d.createElement(yt.Z,{"data-test-id":"segmented-control-focused-inbox"},d.createElement(bt.Z,{ref:t,isSelected:c===A.qd8.FOCUSED_INBOX,onClick:m,"data-test-id":"btn-focused-inbox-tab",title:E(ui.focused_inbox),"data-iskeynav":!0}),d.createElement(bt.Z,{isSelected:c!==A.qd8.FOCUSED_INBOX,onClick:u,"data-test-id":"btn-all-emails-tab",title:E(ui.all_emails),"data-iskeynav":!0}))),l&&d.createElement(_i.yk,{popoverAnchor:t,triggerOn:Kt.K2.MOUNT,permittedArrowDirections:[Kt.Ji.UP],zAltitude:R.LSY.POPOVER.HIGH,align:Kt.xM.START},d.createElement(ve.cr,{cueName:A.ANe.FOCUSED_INBOX_CUE,import:"./focused_inbox_cue",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,69937))},_moduleResolver:function(){return 69937}})))})),Si=(e,t)=>{const{count:s,isConversationMode:a,onClose:n,onConfirm:r,perm:o}=e,i=o?Bn.Z.list_perm_delete_message:Bn.Z.list_bulk_delete_message,{formatMessage:l}=t.intl,c={conversations:a,count:s};return d.createElement(xn.Z,{title:l(Bn.Z.list_delete_title),message:l(i,c),onConfirm:e=>{e.stopPropagation(),e.preventDefault(),r(),n()},onAbort:e=>{e.stopPropagation(),e.preventDefault(),n()}})};Si.contextTypes={intl:m.intlShape};const pi=(0,S.connect)(((e,{streamId:t,selectedItemsCount:s})=>{const{doesStreamExist:a,getSelectedStreamItems:n,getCursorItem:r}=(0,ye.selectors)(e),o=a(t)?n(t):[],i=a(t)?r(t):void 0;let l=0;return s>0?l=s:o.length>0?l=o.length:i&&(l=1),{count:l}}),void 0)(Si);var Ci=s(14890),Ai=s(24047),Ti=s(41958);const hi=e=>({type:wo.STREAM_CURSOR_MOVED,...e,movement:A.Fio.DOWN});var gi=s(14196),Ii=s(85458),Ri=s(79159),Oi=s(93568);const Di=e=>({type:wo.ALL_STREAM_ITEMS_SELECTED,...e}),Ni=e=>(t,s)=>{let{streamItem:a}=e;const{streamId:n}=e,{doesStreamExist:r,getCursorItem:o}=(0,ye.selectors)(s());if((a||r(n))&&(a||(a=o(n)),a))return t({...e,type:wo.STREAM_ITEM_TOGGLED,streamItem:a})},fi=e=>({type:wo.STREAM_ITEMS_SELECTION_CHANGED,...e}),Mi=e=>({type:wo.STREAM_SELECT_CURSOR_MOVED,...e});var Li=s(97735),Pi=s(67607),yi=s(78263),bi=s(30982);var Fi=s(45582);const Ui=["ctrl+e","meta+e","ctrl+a","meta+a","shift+k","shift+l","shift+v","shift+up","shift+down","shift+e","shift+.","shift+,","ctrl+.","ctrl+,","k","l","e","up","down","enter","space","#","del","backspace","pageup","pagedown",",",".","tab"],vi=(0,Ci.compose)((0,S.connect)(((e,{listId:t})=>{const{getListsSelectors:s,getRoute:a,doesStreamExist:n,getMainStreamListIds:r,getMainStreamItems:o,getSetting:i,isFeatureEnabled:l,getCursorItem:c,getEnvironmentSelectors:d,getListItemIds:E,getListItemsWithAds:_,getReconciledUnysncedDataByHash:u,couldShowEmptyFolderVideo:m,getWindowDimensions:S,isPermDeleteFolderType:p,getBreakingNewsSelectors:C,getFeaturesSelectors:T,getNumberOfSelectedItemsInList:h,getStreamSelectionType:g,isStorefrontRoute:I,shouldEnableTriageActions:R,canShowToolbarItem:O,canEnableToolbarItem:D,getFoldersSelectors:N}=(0,ye.selectors)(e),f=T(),M=h(t),L=a(),P=r(L),y=(0,yi.BA)(P),b=(0,te.WN)(t),F=-1!==[A.F6k.TRAVEL_CARDS,A.F6k.COUPON_CARDS,A.F6k.REFUND_CARDS,A.F6k.OFFER_CARDS,A.F6k.IMAGES,A.F6k.DOCUMENTS,A.F6k.SENDERS].indexOf(b),U=o(L),v=_(L,U),{hasMoreItems:w,getListStatus:G,doesListExist:k}=s(),H=P.reduce(((e,t)=>k(t)?e===A.DAQ.LOADING||e===A.DAQ.ERROR?e:G(t):A.DAQ.LOADING),A.DAQ.DOES_NOT_EXIST),B=l(A.ANe.CONVERSATIONS),x=n(y)?c(y):void 0,V=L.name===A.n8z.SEARCH,W=P.some((e=>k(e)&&w(e))),Z=(0,te.GG)(t),K=S().innerHeight,z=i(A.Zrf.LIST_ITEM_HEIGHT,{contentType:b}),q=(0,te.Fh)(t),Y=l(A.ANe.BREAKING_NEWS_ENABLED),j=C().getNewsArticle(),Q=i(A.Zrf.BREAKING_NEWS_REFRESH_INTERVAL),X=l(A.ANe.SELECT_ALL),J=g(y),$=f.getSetting(A.Zrf.BULK_ACTION_DIALOG_THRESHOLD),ee=k(t)?E(t):[];let se=!1;se=X?J===A.ie0.ALL:M>=ee.length;const{getPrimaryFolderTypeByFolderId:ae}=N(),ne=X&&se&&M>$,re=q?ae(q):void 0,oe=re===A.Sck.INBOX||re===A.Sck.UNREAD||re===A.Sck.STARRED,ie=I();return{status:H,route:L,listId:t,streamId:y,cursorItem:x,doSelectAll:ne,selectedItemsCount:M,timeZone:d().getTimeZoneName(),items:ie?U:v,hasMoreItems:W&&U.length>0,listenKeys:Ui,previewpane:ie?A.EsZ.NO:i(A.Zrf.PREVIEW_PANE),itemListPageThreshold:i(A.Zrf.ITEM_LIST_PAGE_THRESHOLD),previewpaneInPixels:l(A.ANe.PREVIEW_PANE_IN_PIXELS),previewpaneCookie:l(A.ANe.PREVIEW_PANE_COOKIE),previewpanePositionsFromServer:i("previewpanePositionsFromServer"),highlightSearchTerm:!(!V||Z)&&(0,te.Ie)(t).keyword,hideToolbar:F,isSelectAllFeatureEnabled:X,showSearchHeader:V&&!Z,showListFilter:V&&!Z&&!!(0,te.DF)(t),isConversationMode:B,isRTL:"rtl"===d().getPageDirection(),dealsView:l(A.ANe.DEALS),msgListDensity:i(A.Zrf.MSG_LIST_DENSITY),preservedState:u((0,te.JB)(t)),messageBuffer:i(A.Zrf.V3_LIST_MESSAGE_BUFFER),numOfPlaceHolder:i(A.Zrf.V3_LIST_NUM_OF_PLACEHOLDER),oppositeBufferSize:i(A.Zrf.V3_OPPOSITE_BUFFER),showEmptyFolderVideo:m(),bulkActionDialogThreshold:$,windowClientHeight:K,mainItemHeight:z,permanentDelete:!!q&&p(q),isBreakingNewsEnabled:Y,newsArticle:j,newsRefreshInterval:Q,isCouponEmails:l(A.ANe.DEALS_VIEW_FOR_INTLS),enableTriageActions:R(y),canShowToolbarItem:O(y),canEnableToolbarItem:D(y),showBrandShortcuts:l(A.ANe.STOREFRONT_SHORTCUTS)&&i(A.Zrf.PREVIEW_PANE)===A.EsZ.NO&&!ie&&oe,folderType:re,isFocusedInboxEnabled:l(A.ANe.FOCUSED_INBOX)}}),void 0,void 0,{areStatePropsEqual:(e,t)=>e.selectedItemsCount===t.selectedItemsCount&&e.streamId===t.streamId&&Ls()(e.items,t.items)&&e.status===t.status&&e.previewpane===t.previewpane&&e.windowClientHeight===t.windowClientHeight&&e.isBreakingNewsEnabled===t.isBreakingNewsEnabled&&Ls()(e.newsArticle,t.newsArticle)&&e.enableTriageActions===t.enableTriageActions}),(0,S.connect)(void 0,((e,{canShowToolbarItem:t,canEnableToolbarItem:s,isSelectAllFeatureEnabled:a})=>{const n={onSelectAll:t=>e(Di({streamId:t,isSelectAllFeatureEnabled:a})),onSelectNone:t=>{return e((s={streamId:t},{type:wo.STREAM_ITEMS_SELECTION_CLEARED,...s}));var s},onSelectAllRead:t=>e(fi({streamId:t,selectionType:A.ie0.READ})),onSelectAllUnread:t=>e(fi({streamId:t,selectionType:A.ie0.UNREAD})),onSelectAllStarred:t=>e(fi({streamId:t,selectionType:A.ie0.STARRED})),onSelectAllUnstarred:t=>e(fi({streamId:t,selectionType:A.ie0.UNSTARRED}))},r={onRead:t=>e((0,Pi.zJ)(t)),onUnread:t=>e((0,Pi.WF)(t)),onStar:t=>e((0,Li.Hw)(t)),onUnstar:t=>e((0,Li.ww)(t)),onPrint:t=>e((0,gi.MR)(t)),moveToInbox:t=>e((0,Ii.x0)(t)),viewRawMessage:t=>e((0,ut.Mw)(t))};return{actions:{[A.F6k.MESSAGES]:{openLinkModal:t=>e((0,Ai.oW)(t)),onSelectionChange:t=>e(Ni(t)),onRangeSelected:t=>e((e=>({type:wo.STREAM_ITEMS_RANGE_SELECTED,...e}))(t)),onDelete:t=>e((0,Ri.CV)(t)),onStarChange:t=>e((0,Li.ZP)(t)),onReadChange:t=>e((0,Pi.ZP)(t)),onOpenMessage:t=>e((0,gi.x4)(t)),navigateToSearch:t=>e((0,ut.k1)(t))},[A.F6k.TRAVEL_CARDS]:{},[A.F6k.COUPON_CARDS]:{},TOOLBAR:{onSortOrderChange:t=>e(ks(t)),onMove:t=>e((0,Ii.B6)(t)),onArchive:t=>e((0,Ii.nw)(t)),moveToInbox:t=>e((0,Ii.x0)(t)),onDelete:t=>e((0,Ri.CV)(t)),onSpam:t=>e((0,Ii.Ke)(t)),onReplyForward:t=>e((0,gi.h2)(t)),onClosePreviewMessage:t=>e((0,ut.Qg)(t)),onChangeAllMessageCardExpansion:t=>e((0,gi.Ty)(t)),onClosePage:t=>e((0,ut.I3)(t)),moreMenuActions:r,selectionActions:n}},checkMail:()=>e((0,ut.PV)({forceSync:!0,...Hn(null,Ea.fx.CHK_MAIL)})),onNavigateToRoute:t=>e((0,ut.Ch)(t)),onPageScrolled:t=>e((0,Oi.l)({listId:t})),loadMoreItems:t=>e((0,Ti.ZP)(t)),onKeyDown:(a,n,r)=>{const o=a.which||a.keyCode||-1,i=String.fromCharCode(o).toLowerCase(),l=(0,te.WN)(r),c=e=>t(e)&&s(e);switch(i){case H.y.KEYA:(a.metaKey||a.ctrlKey)&&e(Di({streamId:n}));break;case H.y.KEYE:a.shiftKey&&c(A.Egu.RESTORE)?e((0,Ii.x0)({streamId:n,...Hn(a,Ea.fx.RESTORE)})):c(A.Egu.ARCHIVE)&&e((0,Ii.nw)({streamId:n,...Hn(a,Ea.fx.ARCHIVE)}));break;case H.y.KEYK:a.shiftKey&&c(A.Egu.READ)?e((0,Pi.zJ)({streamId:n,...Hn(a,Ea.fx.READ)})):c(A.Egu.UNREAD)&&e((0,Pi.WF)({streamId:n,...Hn(a,Ea.fx.UNREAD)}));break;case H.y.KEYL:a.shiftKey&&c(A.Egu.UNSTARRED)?e((0,Li.ww)({streamId:n,...Hn(a,Ea.fx.UNSTAR)})):c(A.Egu.STARRED)&&e((0,Li.Hw)({streamId:n,...Hn(a,Ea.fx.STAR)}));break;case H.y.KEYV:a.shiftKey&&l===A.F6k.MESSAGES&&e((0,bi.Yp)({...Hn(a,Ea.fx.ROTATE_PREVIEWPANE)}));break;default:switch(o){case H.P.UP:case H.P.COMMA:case H.P.FF_COMMA:a.shiftKey?e(Mi({streamId:n,movement:A.Fio.UP})):e((d={streamId:n},{type:wo.STREAM_CURSOR_MOVED,...d,movement:A.Fio.UP}));break;case H.P.DOWN:case H.P.PERIOD:a.shiftKey?e(Mi({streamId:n,movement:A.Fio.DOWN})):e(hi({streamId:n}));break;case H.P.SPACE:e(Ni({streamId:n}));break;case H.P.DELETE:case H.P.BACKSPACE:case H.P.HASHTAG:a.key===H.y.PERIOD?e(hi({streamId:n})):c(A.Egu.DELETE)&&e((0,Ri.CV)({streamId:n,...Hn(a,Ea.fx.DELETE)}));break;case H.P.ENTER:{let t=Ea.fx.OPEN_MSG;switch(l){case A.F6k.MESSAGES:t=Ea.fx.OPEN_MSG;break;case A.F6k.IMAGES:t=Ea.fx.OPEN_PHOTO;break;case A.F6k.DOCUMENTS:t=Ea.fx.OPEN_DOC}e((0,ut.Sh)({streamId:n,...Hn(a,t)}))}}}var d},onDragStart:t=>e((0,Ii.nh)(t)),syncUnsyncedData:()=>e((0,ut.PV)()),moveToFirstItem:t=>e(hi({streamId:t})),onContextMenu:t=>e((e=>{const{messageGroupId:t,listId:s,streamId:a,i13nModel:n,isV2Action:r=!1,messageGroupIds:o=[]}=e,i={id:t,listId:s};return{type:wo.STREAM_CONTEXT_MENU,messageGroupId:t,i13nModel:n,listId:s,streamId:a,streamItem:i,isV2Action:r,messageGroupIds:o}})(t)),onContextMenuShown:t=>e((({i13nModel:e})=>({type:wo.STREAM_CONTEXT_MENU_SHOWN,i13nModel:e}))(t)),onBreakingNewsDismissed:t=>e((0,Fi.Gv)(t)),onBreakingNewsRefresh:t=>e((0,Fi.iD)(t)),onBreakingNewsClicked:t=>e((0,Fi.C5)(t)),onBreakingNewsRendered:t=>e((0,Fi.$K)(t))}})));var wi=s(91054),Gi=s.n(wi),ki=s(7561),Hi=s.n(ki);function Bi(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class xi extends d.Component{constructor(e,{getCss:t}){super(e),Bi(this,"renderSenders",(e=>{const{unreadCount:t,senders:s,myAddresses:a}=this.props;return this.props.senders.length?d.createElement(zs.Z,{isRead:!t,senders:s,myAddresses:a,onClick:()=>{},layoutClassNames:e}):null})),Bi(this,"renderDate",(e=>d.createElement("time",{className:e.dateWrapper+" date",style:this.isHovered()?{display:"none"}:{},role:"gridcell"},d.createElement(Ks.ZP,{"data-test-id":"date-time-label",date:new Date(this.props.timestamp)})))),Bi(this,"renderMessageCount",(e=>{const{totalCount:t}=this.props;return d.createElement(Ba,{layoutClassNames:e,count:t,roundUpCounts:!0})})),Bi(this,"renderSubject",(e=>{const t=this.props.subject||"";return d.createElement(ba,{subject:t,layoutClassNames:e})})),Bi(this,"renderAvatar",(()=>this.props.senders.length?d.createElement("div",{style:{padding:"8px"}},this.props.type===A.ICb.SENDER?d.createElement(le.ZP,{contact:{email:this.props.senders[0].email},size:le.u8.C}):d.createElement("div",{className:this.classNames.conversationIcon},d.createElement(oe.Z,{kind:k.Kinds.PEOPLE,size:k.Sizes.XS,colorState:k.ColorStates.INVERTED}))):null)),Bi(this,"onReadIconClick",(e=>{e.stopPropagation(),e.preventDefault()})),Bi(this,"renderReadIcon",(e=>{const t=this.context.getThemeMode()===A.zgU.DARK;return d.createElement(Js,{isHovered:this.isHovered(),isRead:!this.props.unreadCount,isDarkThemeMode:t,onClick:this.onReadIconClick,layoutClassNames:e})})),Bi(this,"onTrashIconClick",(e=>{e.stopPropagation(),e.preventDefault()})),Bi(this,"renderTrashIcon",(()=>{const e=this.context.getThemeMode()===A.zgU.DARK;return d.createElement(fa,{isHovered:this.isHovered(),isCompact:!1,isDarkThemeMode:e,onClick:this.onTrashIconClick})})),Bi(this,"onMouseOver",(()=>{this.state.hover||this.props.isScrolling()||this.setState({hover:!0})})),Bi(this,"onMouseLeave",(()=>{this.state.hover&&this.setState({hover:!1})})),Bi(this,"isHovered",(()=>this.state.hover&&!this.props.isScrolling())),Bi(this,"getRouteToNavigate",(()=>{const{listId:e,id:t,type:s,senders:a}=this.props;return s===A.ICb.CONV?(0,Le.m9)(e,t):(0,Le.jK)(A.K8C.SENDER_ROLLUP,{emailAddresses:a[0].email,name:a[0].name||a[0].email,folders:(0,te.Fh)(e)})})),Bi(this,"handleClick",(e=>{e.preventDefault();const{listId:t,id:s,type:a,navigateTo:n,onSenderSearch:r}=this.props,o=this.getRouteToNavigate();a===A.ICb.CONV?n({route:o,streamItem:{listId:t,id:s}}):r({route:o})})),this.classNames=t(Hi(),{isRead:!e.unreadCount}),this.state={hover:!1}}render(){const{classNames:e}=this,t=this.getRouteToNavigate();return d.createElement("a",{role:"row",className:e.link,"data-test-id":"message-list-item",href:this.context.getUrlFromRoute(t),onClick:this.handleClick,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,rel:"noopener"},d.createElement("div",{className:e.container+" message-list-item"},d.createElement("div",{className:e.gridB1},this.renderAvatar(),this.renderSenders(e)),this.renderReadIcon(e),d.createElement("div",{className:e.gridB2},d.createElement("div",{className:e.message},d.createElement("div",{className:e.subjectContainer},this.renderSubject(e),this.renderMessageCount(e))),d.createElement("div",{className:e.iconB2,role:"gridcell"},this.renderDate(e),this.renderTrashIcon()))))}}xi.contextTypes={getCss:c().func,getThemeMode:c().func,getUrlFromRoute:c().func.isRequired};const Vi=(0,S.connect)(void 0,(e=>({onSenderSearch:t=>e((0,ut.k1)(t))})))(xi);var Wi=s(61209),Zi=s.n(Wi),Ki=s(8061);const zi=(0,m.defineMessages)({sender_rollup_header:{id:"sender_rollup_header.label",defaultMessage:"Emails by sender"}}),qi=(e,t)=>{const{getCss:s,intl:a,getThemeMode:n}=t,{formatMessage:r}=a,o=s(Zi(),{themeMode:n()}),{currentSortOrder:i,availableSortOrders:l,onSortOrderChange:c,onSenderViewBack:E,listId:_}=e,u=(0,te.h_)(_),S=(0,te.WN)(_),p=S===A.F6k.SENDERS,C=S===A.F6k.MESSAGES;return d.createElement("div",{className:o.senderRollupHeader},C&&d.createElement(d.Fragment,null,d.createElement("div",{className:o.senderBackContainer},d.createElement(Ki.Z,{onClick:e=>{e.preventDefault(),E({listId:_})}})),u&&d.createElement("div",{className:o.senderRollupTitle,"data-test-id":"sender-rollup-sender"},d.createElement(m.FormattedHTMLMessage,{id:"emails_from",defaultMessage:"Emails from {name}",values:{name:u}}))),p&&d.createElement(d.Fragment,null,d.createElement("header",{className:o.senderRollupTitle},r(zi.sender_rollup_header)),d.createElement("div",{className:o.senderSortMenuContainer},d.createElement(vs,{currentSortOrder:i,availableSortOrders:l,onClick:(e,t)=>{c({listId:_,sortOrder:t,i13nModel:{interactionType:(0,ee.getInteractionFromEvent)(e)}})},tabIndex:R.iUz.MESSAGE_LIST_TOOLBAR}))))};qi.contextTypes={getCss:c().func,intl:m.intlShape,getThemeMode:c().func};const Yi=(0,S.connect)(((e,t)=>{const{getAvailableSortOrders:s}=(0,ye.selectors)(e);return{currentSortOrder:(0,te.WW)(t.listId),availableSortOrders:s()}}),(e=>({onSortOrderChange:t=>e(ks(t)),onSenderViewBack:t=>{e((0,ut.eY)(t))}})),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&Ls()(e.availableSortOrders,t.availableSortOrders)})(qi);var ji=s(9865),Qi=s(68443),Xi=s.n(Qi),Ji=s(60037),$i=s(20305);function el(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const tl=(0,m.defineMessages)({messages_aria_label:{id:"search.messages_aria_label",defaultMessage:"Messages, selected"},images_aria_label:{id:"search.images_aria_label",defaultMessage:"Images, selected"},documents_aria_label:{id:"search.documents_aria_label",defaultMessage:"Documents, selected"},content_filter_messages:{id:"search.content_filter_messages",defaultMessage:"Messages"},content_filter_images:{id:"photos_label",defaultMessage:"Photos"},content_filter_files:{id:"search.content_filter_files",defaultMessage:"Files"},attachments_filter_ALL:{id:"attachments_filter_ALL",defaultMessage:"All messages"},attachments_filter_SENT:{id:"attachments_filter_SENT",defaultMessage:"Sent"},attachments_filter_RECEIVED:{id:"attachments_filter_RECEIVED",defaultMessage:"Received"},attachments_filter_STARRED:{id:"attachments_filter_STARRED",defaultMessage:"Starred"},attachments_filter_ALL_FILES:{id:"attachments_filter_ALL_FILES",defaultMessage:"All file types"},attachments_filter_PDF:{id:"attachments_filter_PDF",defaultMessage:"PDF"},attachments_filter_WORD_DOCUMENT:{id:"attachments_filter_WORD_DOCUMENT",defaultMessage:"Word document"},attachments_filter_SPREADSHEET:{id:"attachments_filter_SPREADSHEET",defaultMessage:"Spreadsheet"},attachments_filter_PRESENTATION:{id:"attachments_filter_PRESENTATION",defaultMessage:"Presentation"},attachments_filter_AUDIO:{id:"attachments_filter_AUDIO",defaultMessage:"Audio"},attachments_filter_VIDEO:{id:"attachments_filter_VIDEO",defaultMessage:"Video"}}),sl="ALL",al="ALL_FILES",nl="WORD_DOCUMENT",rl="SPREADSHEET",ol="PRESENTATION",il="AUDIO",ll="VIDEO",cl={[sl]:"",["SENT"]:"has:attachment in:sent",["RECEIVED"]:"has:attachment in:inbox",["STARRED"]:"has:attachment is:flagged"},dl={[al]:"",["PDF"]:Ji.LO.PDF,[nl]:Ji.LO.WORD_DOCUMENT,[rl]:Ji.LO.SPREADSHEET,[ol]:Ji.LO.PRESENTATION,[il]:Ji.LO.AUDIO,[ll]:Ji.LO.VIDEO};class El extends d.Component{constructor(e,{getCss:t}){super(e),el(this,"getCategoryFilterOverrides",(()=>{const{activeCategoryFilter:e}=this.state;return e?cl[e]:""})),el(this,"handleFilterChange",(()=>{const{activeListContentType:e,activeCategoryFilter:t,activeMimeType:s}=this.state,a={mKey:J.JE["ATTACHMENT_VIEW_"+e],sec:J.nJ.ATTACHMENT_VIEW,mKeyGroup:J.rO.listing,actionData:{activeCategoryFilter:t,activeMimeType:s},interactionType:J.Rb.view},n={listContentType:e,keyword:this.getCategoryFilterOverrides(),mimeType:dl[s]},r={name:A.n8z.SEARCH,params:{query:(0,te.tr)((0,te.tE)(this.props.listId,{...n}))}};this.props.onFilterChange({route:r,i13nModel:a})})),el(this,"handleContentTypeChange",((e,t)=>{e.persist(),this.setState({activeListContentType:t,activeMimeType:al},(()=>{this.handleFilterChange(e)}))})),el(this,"handleCategoryFilterChange",((e,t)=>{t.persist(),this.setState({activeCategoryFilter:e},(()=>{this.handleFilterChange(t)}))})),el(this,"handleMimeTypeChange",((e,t)=>{t.persist(),this.setState({activeMimeType:e},(()=>{this.handleFilterChange(t)}))})),el(this,"renderContentTypeFilter",(()=>{const e=(0,te.WN)(this.props.listId),{formatMessage:t}=this.context.intl,s=e===A.F6k.MESSAGES,a=e===A.F6k.IMAGES,n=e===A.F6k.DOCUMENTS;return d.createElement(yt.Z,null,d.createElement(bt.Z,{isSelected:n,onClick:e=>this.handleContentTypeChange(e,A.F6k.DOCUMENTS),"data-test-id":"btn-files-tab",title:t(tl.content_filter_files)}),d.createElement(bt.Z,{isSelected:a,onClick:e=>this.handleContentTypeChange(e,A.F6k.IMAGES),"data-test-id":"btn-photos-tab",title:t(tl.content_filter_images)}),d.createElement(bt.Z,{isSelected:s,onClick:e=>this.handleContentTypeChange(e,A.F6k.MESSAGES),"data-test-id":"btn-messages-tab",title:t(tl.content_filter_messages)}))})),el(this,"renderFilterMenu",((e,t,s)=>{const{classNames:a}=this,{formatMessage:n}=this.context.intl,r=Object.keys(e).map((e=>d.createElement(Ts.Z,{name:"attachments-filter-"+e,key:e},d.createElement(ie.Z,{kind:hs.F.MENUITEM,onClick:t=>s(e,t)},t===e?d.createElement("span",{className:a.checkIcon},d.createElement(oe.Z,{kind:k.Kinds.CHECKMARK,size:k.Sizes.XS,colorState:k.ColorStates.NORMAL})):null,d.createElement("span",{className:a.filterOption},n(tl["attachments_filter_"+e]))))));return d.createElement("div",{className:a.filterMenuContainer},d.createElement(gs.Z,null,d.createElement(Is.Z,null,d.createElement("div",{className:a.filterMenu},d.createElement("span",{className:a.selectedFilter},n(tl["attachments_filter_"+t])),d.createElement(B.default,{title:n(tl["attachments_filter_"+t]),"data-iskeynav":!0,paddingLess:!0,kind:k.Kinds.CHEVRON_UP,colorState:k.ColorStates.INHERITED,size:k.Sizes.XS,rotate:k.Rotate.D180}))),d.createElement(Zt.ZP,{triggerOn:Kt.K2.CLICK,isArrowVisible:!0},d.createElement("div",null,d.createElement(As.Z,{focusOnMount:!0},r)))))}));const{listId:s}=e,a=this.getActiveMimeType(s),n=(0,te.WN)(s),r=this.getActiveCategoryFilter(s);this.state={activeListContentType:n,activeMimeType:a,activeCategoryFilter:r},this.classNames=t(Xi())}getActiveCategoryFilter(e){const t=(0,te.Q7)(e);return Object.keys(cl).find((e=>t===cl[e]))||sl}getActiveMimeType(e){const t=(0,te.I1)(e);return t&&Object.values(dl).indexOf(t)>-1?t:al}render(){const{activeListContentType:e,activeCategoryFilter:t,activeMimeType:s}=this.state,{formatMessage:a}=this.context.intl,{classNames:n}=this;return d.createElement("div",null,d.createElement("div",{className:n.heading},a($i.Z.smart_view_ATTACHMENTS),d.createElement("div",{className:n.filtersContainer},this.renderFilterMenu(cl,t,this.handleCategoryFilterChange),e===A.F6k.DOCUMENTS&&this.renderFilterMenu(dl,s,this.handleMimeTypeChange))),d.createElement("div",{className:n.listContentTypeControls},this.renderContentTypeFilter()))}}El.contextTypes={getCss:c().func,getThemeMode:c().func,intl:m.intlShape.isRequired};const _l=(0,S.connect)(null,(e=>({onFilterChange:t=>e((0,ut.k1)(t))})))(El);var ul=s(31291),ml=s.n(ul),Sl=s(20561),pl=s(2464);const Cl=(0,S.connect)(((e,{listId:t})=>{const{getSetting:s}=(0,ye.selectors)(e),a=(0,te.Yy)(t);let n="";if(e[pl.key]){const{getBrandInfo:t}=(0,pl.selectors)(e[pl.key]),{name:s=""}=t(a)||{};n=s}return{themeMode:s(A.Zrf.THEME_MODE),brandName:n}}))((({themeMode:e,listId:t,brandName:s=""})=>{const a=_()(ml(),{themeMode:e}),n=(0,te.Er)(t);return d.createElement("div",{className:a.container,"data-test-id":"subscription-detail-header"},d.createElement(Sl.Z,{className:a.linkBack,route:(0,Le.lB)(Array.isArray(n)?n[0]:n),i13nModel:{mKey:J.JE.TOOLBAR_BACK_TO_LIST,sec:J.nJ.SUBSCRIPTIONS_VIEW}},d.createElement(oe.Z,{kind:k.Kinds.ARROW_UP,size:k.Sizes.XS,rotate:k.Rotate.D270,colorState:e===A.zgU.DARK?k.ColorStates.INVERTED_LESS_DIM:k.ColorStates.NORMAL}),d.createElement("span",{className:a.linkBackLabel},d.createElement(m.FormattedMessage,{id:"back_to_list_btn_title",defaultMessage:"Back"}))),s&&d.createElement("div",{className:a.title,"data-test-id":"emails-from-heading"},d.createElement(m.FormattedHTMLMessage,{id:"emails_from",defaultMessage:"Emails from {name}",values:{name:s}})))}));var Al=s(99612),Tl=s(40818),hl=s(69635),gl=s(59427),Il=s(85400),Rl=s.n(Il);function Ol(){return(Ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Dl(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Nl="more",fl=10,Ml="clear_hide",Ll="clear",Pl="feedback",yl="settings",bl="show",Fl="collapsed",Ul="expanded",vl=(0,m.defineMessages)({header:{id:"brandShortcuts.header",defaultMessage:"Browse by stores"},compactHeader:{id:"brandShortcuts.compactHeader",defaultMessage:"Browse by stores ({number})"},viewBrandPage:{id:"brandShortcuts.viewBrandPage",defaultMessage:"View {name} page"},viewMoreBrands:{id:"brandShortcuts.viewMoreBrands",defaultMessage:"View more stores"},close:{id:"brandShortcuts.close",defaultMessage:"Close"},clearUpdates:{id:"brandShortcuts.clearUpdates",defaultMessage:"Clear updates"},clearHide:{id:"brandShortcuts.clearHide",defaultMessage:"Clear and hide"},feedback:{id:"brandShortcuts.feedback",defaultMessage:"Share feedback"},settings:{id:"brandShortcuts.settings",defaultMessage:"Settings"},show:{id:"brandShortcuts.show",defaultMessage:"Show"}});class wl extends d.Component{constructor(e){super(e),Dl(this,"state",{hoveredItem:"",showBrandsMenu:!1,showCompactShortcuts:this.props.dealStoriesSetting===A.eG4.COLLAPSED}),Dl(this,"i13nModel",(({brandId:e,interactionType:t,mKey:s,state:a,xpname:n})=>{const{storefrontBrands:r}=this.props,o=r.map((e=>e.newDealsCount)),i=o.filter((e=>0!==e)).length,l=r.map((e=>e.brandId)),c=l.length,d=r.findIndex((t=>t.brandId===e)),E=r[d]||{};let _={featurefamily:A.lMo.IC,interactiontype:t,xpname:n};_=t===J.Rb.interaction_click?{..._,clickedbrand:E.brandId,clickedbrandbadge:E.newDealsCount,clickedbrandposition:d}:{..._,badges:o,badgescount:i,senders:l,senderscount:c,state:a},Be.ZP.sendI13nModel({i13nModel:{mKey:s,sec:J.nJ.STOREFRONT_VIEW,actionData:_}})})),Dl(this,"handleBrandChangeClick",(e=>{const{navigateToRoute:t}=this.props;t({route:(0,Le.jK)(A.K8C.STOREFRONT,{accountIds:this.props.selectedAccountId,brandId:e})}),this.i13nModel({brandId:e,interactionType:J.Rb.interaction_click,mKey:J.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}),this.setState({showBrandsMenu:!1})})),Dl(this,"handleOnHover",(e=>{this.setState(e)})),Dl(this,"handleSelectBrandsButtonClick",(()=>{const{showBrandsMenu:e}=this.state;this.setState({showBrandsMenu:!e,hoveredItem:""})})),Dl(this,"handleSelectBrandsPaneClick",(({overlayClicked:e})=>{e||this.setState({showBrandsMenu:!1})})),Dl(this,"handleClearButtonClick",(e=>{e.preventDefault(),this.props.resetNewDealCount(),this.i13nModel({interactionType:Ll,mKey:J.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}),this.setState({showBrandsMenu:!1})})),Dl(this,"handleHideButtonClick",(e=>{e.preventDefault();const{showCompactShortcuts:t}=this.state,{resetNewDealCount:s,updateDealsStoriesSettings:a}=this.props;t?this.i13nModel({interactionType:bl,mKey:J.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}):(this.i13nModel({interactionType:Ml,mKey:J.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}),s()),a(t?A.eG4.EXPANDED:A.eG4.COLLAPSED,{mKey:t?J.JE.DEALS_STORIES_ENABLED:J.JE.DEALS_STORIES_HIDDEN,sec:J.nJ.DEALS_STORIES,interactiontype:J.Rb.click}),this.setState({showCompactShortcuts:!t,showBrandsMenu:!1})})),Dl(this,"handleFeedbackClick",(e=>{e.preventDefault(),(0,be.x)("https://yahoo.uservoice.com/forums/928453"),this.i13nModel({interactionType:Pl,mKey:J.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}),this.setState({showBrandsMenu:!1})})),Dl(this,"goToSettings",(e=>{e.preventDefault(),this.props.navigateToRoute({route:(0,Le.Tx)({settingsGroupId:A.u5h.PERSONALIZE_INBOX})}),this.i13nModel({interactionType:yl,mKey:J.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}),this.setState({showBrandsMenu:!1})})),Dl(this,"renderBrandsMenu",(e=>{var t,s,a,n;const{storefrontBrands:r}=this.props,o={borderRadius:`${R.mg$}px ${R.mg$}px 0 0`,width:(null===(t=this.brandShortcutRef)||void 0===t||null===(s=t.current)||void 0===s?void 0:s.getBoundingClientRect().width)||"unset",height:"100%",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 0 1px 0 rgba(0, 0, 0, 0.1)",background:"rgba(38, 40, 42, 0.5)",overflowX:"hidden"},i={width:null===(a=this.brandShortcutRef)||void 0===a||null===(n=a.current)||void 0===n?void 0:n.getBoundingClientRect().width},l=r.map((t=>{const{brandId:s,name:a,logo:n,newDealsCount:r}=t;let o;return o=r<fl?e.newDealsCount:e.newDealsCountTwo,d.createElement("a",{"data-test-id":"select-brand-card-"+a,key:s,onClick:()=>this.handleBrandChangeClick(s),className:e.brandContainer},d.createElement("div",{className:e.menuImageContainer},d.createElement("img",{className:e.menuImage,src:n}),!!r&&d.createElement("span",{className:o},r<fl?r:d.createElement(d.Fragment,null,9,"+"))),d.createElement("div",{className:e.menuHeader},a))}));return d.createElement(gl.Z,{"data-test-id":"select-brands-overlay",key:"store-list-pane",alignTo:this.brandShortcutRef.current,alignmentPoints:[hl.K.TopLeft,hl.K.TopLeft],useShim:!0,onClick:this.handleSelectBrandsPaneClick,customInlineStyles:o},d.createElement("div",{style:i},d.createElement("div",{className:e.popoverheaderContainer},d.createElement("div",{className:e.popoverheader},d.createElement(m.FormattedMessage,vl.header)),this.renderSettings(e)),d.createElement("div",{className:e.menuContainer},l),d.createElement("div",{"data-test-id":"select-brand-close",className:e.close,onClick:this.handleSelectBrandsPaneClick},d.createElement(m.FormattedMessage,vl.close),d.createElement(oe.Z,{kind:k.Kinds.CHEVRON_UP,colorState:k.ColorStates.SELECTED,size:k.Sizes.S}))))})),Dl(this,"renderPreviewBrands",(e=>{const{storefrontBrands:t,isPreviewPane:s,width:a}=this.props,n=Math.floor(a*(s?1:.65)/68)-1||4,r=t.slice(0,n),o=t.length-n,i=r.map((t=>{const{brandId:s,name:a,logo:n,newDealsCount:r}=t;let o;return o=r<fl?e.newDealsCount:e.newDealsCountTwo,d.createElement("a",{"data-test-id":"preview-brand-"+a,className:e.logoImageContainer,key:s,onClick:()=>this.handleBrandChangeClick(s),onMouseEnter:()=>this.handleOnHover({hoveredItem:s}),onMouseLeave:()=>this.handleOnHover({hoveredItem:""})},d.createElement("div",{className:e.imgContainer},d.createElement("img",{className:e.logoImage,src:n,alt:a}),!!r&&d.createElement("span",{className:o},r<fl?r:d.createElement(d.Fragment,null,9,"+"))),d.createElement("div",{className:e.previewBrandName},a),this.state.hoveredItem===s&&d.createElement("span",{className:e.logoTooltip},d.createElement(m.FormattedMessage,Ol({},vl.viewBrandPage,{values:{name:a}}))))}));return d.createElement("div",{className:e.previewBrands},!!i.length&&i,o>0&&d.createElement("div",{onClick:this.handleSelectBrandsButtonClick,"data-test-id":"view-more-brands",className:e.more,onMouseEnter:()=>this.handleOnHover({hoveredItem:Nl}),onMouseLeave:()=>this.handleOnHover({hoveredItem:""})},d.createElement(oe.Z,{kind:k.Kinds.ADD,colorState:k.ColorStates.INHERITED,size:k.Sizes.XXS}),o,this.state.hoveredItem===Nl&&d.createElement("span",{className:e.logoTooltip},d.createElement(m.FormattedMessage,vl.viewMoreBrands))))})),Dl(this,"renderSettings",(e=>d.createElement(gs.Z,null,d.createElement(Is.Z,null,d.createElement("span",{className:e.settings},d.createElement(B.default,{title:"brand-shortcuts-setting",colorState:k.ColorStates.INHERITED,kind:k.Kinds.MORE,size:k.Sizes.XXS}))),d.createElement(Zt.ZP,{align:Kt.xM.END,offset:15,permittedArrowDirections:[Kt.Ji.UP],triggerOn:Kt.K2.CLICK,zAltitude:R.LSY.MODAL},d.createElement(As.Z,{focusOnMount:!0,"data-test-id":"sort-order-list"},d.createElement("div",{className:e.settingsMenu},d.createElement(Ts.Z,null,d.createElement(ie.Z,{"data-test-id":"clear-updates-button",kind:hs.F.MENUITEM,onClick:this.handleClearButtonClick},d.createElement(m.FormattedMessage,vl.clearUpdates))),d.createElement(Ts.Z,null,d.createElement(ie.Z,{"data-test-id":"toggle-hide-button",kind:hs.F.MENUITEM,onClick:this.handleHideButtonClick},d.createElement(m.FormattedMessage,vl.clearHide))),d.createElement(Ts.Z,null,d.createElement(ie.Z,{"data-test-id":"feedback-button",kind:hs.F.MENUITEM,onClick:this.handleFeedbackClick},d.createElement(m.FormattedMessage,vl.feedback))),d.createElement(Ts.Z,null,d.createElement(ie.Z,{"data-test-id":"settings-button",kind:hs.F.MENUITEM,onClick:this.goToSettings},d.createElement(m.FormattedMessage,vl.settings))))))))),this.brandShortcutRef=d.createRef()}componentDidMount(){const{dealStoriesSetting:e,shouldAutoHide:t,shouldAutoUnhide:s,storefrontBrands:a,updateDealsStoriesSettings:n}=this.props;if(a.length){let t=Fl;s&&e===A.eG4.EXPANDED&&(t=Ul),this.i13nModel({mKey:J.JE.CARD_VIEW,state:t,xpname:A.zzX.SHORTCUTS_INBOX})}t&&e===A.eG4.EXPANDED&&(this.setState({showCompactShortcuts:!0}),n(A.eG4.COLLAPSED,{mKey:J.JE.DEALS_STORIES_ENABLED,sec:J.nJ.DEALS_STORIES}))}componentDidUpdate(e,t){const{shouldAutoHide:s,shouldAutoUnhide:a,updateDealsStoriesSettings:n}=this.props;a!==e.shouldAutoUnhide&&t.showCompactShortcuts&&(this.setState({showCompactShortcuts:!1}),n(A.eG4.EXPANDED,{mKey:J.JE.DEALS_STORIES_ENABLED,sec:J.nJ.DEALS_STORIES})),s===e.shouldAutoHide||t.showCompactShortcuts||(this.setState({showCompactShortcuts:!0}),n(A.eG4.COLLAPSED,{mKey:J.JE.DEALS_STORIES_ENABLED,sec:J.nJ.DEALS_STORIES}))}render(){const{dealStoriesSetting:e,isDarkThemeMode:t,isPreviewPane:s,storefrontBrands:a}=this.props,{showBrandsMenu:n,showCompactShortcuts:r}=this.state,o=_()(Rl(),{isPreviewPane:s,showCompactShortcuts:r,isDarkThemeMode:t,showBrandsMenu:n});return e===A.eG4.DISABLED?null:d.createElement(d.Fragment,null,d.createElement("div",{className:o.container,ref:this.brandShortcutRef},d.createElement("div",{className:o.header},r?d.createElement(m.FormattedMessage,Ol({},vl.compactHeader,{values:{number:a.length}})):d.createElement(m.FormattedMessage,vl.header),s&&!r&&this.renderSettings(o)),r?d.createElement(ie.Z,{kind:hs.F.TEXT,onClick:this.handleHideButtonClick,overridingClass:o.show},d.createElement(m.FormattedMessage,vl.show)):d.createElement("div",{"data-test-id":"preview-brands-container",className:o.previewBrandsContainer},this.renderPreviewBrands(o),!s&&this.renderSettings(o))),n&&this.renderBrandsMenu(o))}}const Gl=(0,S.connect)((e=>{const{getSetting:t,getSelectedAccountId:s,getStorefrontBrandsSelectors:a}=(0,ye.selectors)(e),{getAllStorefrontBrands:n}=a(),r=t(A.Zrf.PREVIEW_PANE)===A.EsZ.RIGHT,o=t(A.Zrf.DEALS_STORIES_SETTINGS),i=n(),l=i.slice(0,7).some((e=>e.newDealsCount)),c=i.slice(0,7).every((e=>0===e.newDealsCount));return{dealStoriesSetting:o,isDarkThemeMode:t(A.Zrf.THEME_MODE)===$.zg.DARK,isPreviewPane:r,selectedAccountId:s(),shouldAutoHide:c,shouldAutoUnhide:l,storefrontBrands:i}}),(e=>({navigateToRoute:t=>e((0,ut.Ch)(t)),resetNewDealCount:t=>e((0,Tl.WC)(t)),updateDealsStoriesSettings:(t,s)=>e((0,bi.ZP)({name:A.Zrf.DEALS_STORIES_SETTINGS,value:t,runV3:!0,i13nModel:s}))})))(wl),kl=(0,Al.OU)(Gl);var Hl=s(29995),Bl=s(77031);function xl(){return(xl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Vl(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Wl=()=>{},Zl=e=>{e.stopPropagation(),e.preventDefault()},Kl=e=>t=>(0,te.WN)(t)===e,zl=Kl(A.F6k.TRAVEL_CARDS),ql=Kl(A.F6k.REFUND_CARDS),Yl=(0,m.defineMessages)({list_scroll_to_top:{id:"list.scroll_to_top_button_title",defaultMessage:"Scroll to top"}}),jl=[H.P.UP,H.P.DOWN,H.P.TAB,H.P.COMMA,H.P.FF_COMMA,H.P.PERIOD],Ql=[H.P.SPACE,H.P.ENTER];class Xl extends d.Component{constructor(e){super(e),Vl(this,"_readPreviewPaneSetting",(e=>{if(!this.props.previewpaneInPixels)return null;const t=e===A.EsZ.RIGHT;if((0,I.jU)()){const e=new M({window});return t?e.getClientParam(A.a1v.H_SLIDER_POS_V2):e.getClientParam(A.a1v.V_SLIDER_POS_V2)}return t?this.props.previewpanePositionsFromServer[A.a1v.H_SLIDER_POS_V2]:this.props.previewpanePositionsFromServer[A.a1v.V_SLIDER_POS_V2]})),Vl(this,"handleDragStart",((e,t)=>{const{listId:s,onDragStart:a,streamId:n,doSelectAll:r}=this.props;a({streamId:n,streamItem:{id:e,listId:s},listId:s,messageGroupIds:[e]}),(0,I.nl)()?(this.dragIcon||(this.dragIcon=document.createElement("div"),(0,I.je)(this.dragIcon),document.body.appendChild(this.dragIcon)),this.renderDragIcon(n),t.dataTransfer.setDragImage(this.dragIcon,-10,-10)):(t.target.style.maxWidth="1px",t.target.style.height="1px",this.restoreTargetStyle(t.target)),t.dataTransfer.setData("text/list",JSON.stringify({listId:s,doSelectAll:r})),t.dataTransfer.effectAllowed="move"})),Vl(this,"handleDragEnd",(()=>{this.removeDragIcon()})),Vl(this,"renderDragIcon",(e=>{const{formatNumber:t}=this.context.intl;u.render(d.createElement(S.Provider,{store:this.context.store},d.createElement(gt,{formatNumber:t,streamId:e})),this.dragIcon)})),Vl(this,"removeDragIcon",(()=>{this.dragIcon&&(u.unmountComponentAtNode(this.dragIcon),document.body.removeChild(this.dragIcon),this.dragIcon=null)})),Vl(this,"restoreTargetStyle",(e=>{setTimeout((()=>{e.style.maxWidth="",e.style.height=""}),0)})),Vl(this,"_createBreakingNewsRefreshTimer",(()=>{this.breakingNewsRefreshTimer=setTimeout((()=>{this.props.onBreakingNewsRefresh(),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=null),this._createBreakingNewsRefreshTimer()}),this.props.newsRefreshInterval)})),this.handleShortcuts=this.handleShortcuts.bind(this),this.handleLoadMoreItems=this.handleLoadMoreItems.bind(this),this.getItemHeight=this.getItemHeight.bind(this),this.formatItem=this.formatItem.bind(this),this.formatPlaceHolder=this.formatPlaceHolder.bind(this),this.navigateTo=this.navigateTo.bind(this),this.handleListFilterChange=this.handleListFilterChange.bind(this),this.renderVirtualList=this.renderVirtualList.bind(this),this.renderPreviewPane=this.renderPreviewPane.bind(this),this.renderResizer=this.renderResizer.bind(this),this.handleSlide=this.handleSlide.bind(this),this.onScrollTop=this.onScrollTop.bind(this),this.forceScrollToTop=this.forceScrollToTop.bind(this),this.onScroll=this.onScroll.bind(this),this.onPageDown=this.onPageDown.bind(this),this.onPageUp=this.onPageUp.bind(this),this.onScrollTopChange=this.onScrollTopChange.bind(this),this.getUIState=this.getUIState.bind(this),this.setStickyTimechunkRef=this.setStickyTimechunkRef.bind(this),this.onVirtualListRenderCompleted=this.onVirtualListRenderCompleted.bind(this),this.reversedTimeChunkIndices=[],this.renderMessageScrollToTopElement=this.renderMessageScrollToTopElement.bind(this),this.pencilAdNodes={},this.scrollTop=0,this.state={hSliderPos:this._readPreviewPaneSetting(A.EsZ.RIGHT)||R.Q3u,vSliderPos:this._readPreviewPaneSetting(A.EsZ.BOTTOM)||R.TQs,size:0,stickyTimechunkMounted:!1},this.stickyTimeChunkIndex=void 0,this.useLocalScrollTop=!1,this.recalculateVirtualListClientHeight=!1,this.itemStartIndex=0,this.itemEndIndex=0,this.cursorOutBound=!1,this.breakingNewsScrollAway=!1,this.breakingNewsRendered=!1,this.listWrapperRef=d.createRef()}getSavedScrollTop(){return this.useLocalScrollTop?(this.useLocalScrollTop=!1,this.scrollTop):(this.props.preservedState&&this.props.preservedState.uiState?this.scrollTop=this.props.preservedState.uiState.scrollTop:this.scrollTop=0,this.scrollTop)}buildTimeChunkIndices(){const e=[];this.props.items.forEach(((t,s)=>{(0,te.WN)(t.listId)===A.F6k.TIMECHUNK&&e.push(s)})),e.reverse(),this.reversedTimeChunkIndices=e}componentDidMount(){this.buildTimeChunkIndices(),this.lastPageScrollTop=0,this.debouncedScrollTopChange=r()(this.onScrollTopChange,200),this.props.items.length&&(this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts),this.updateStickyHeader(0))}componentWillUnmount(){this.context.unbindShortcut(this.props.listenKeys),clearTimeout(this.stickyHeaderUpdateTimer),clearTimeout(this._previewMessageSyncTimer),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=null)}componentDidUpdate(e,t){if(this.buildTimeChunkIndices(),0!==this.props.items.length&&0!==this.reversedTimeChunkIndices.length||this.updateStickyHeader(-1),!e.items.length&&this.props.items.length?this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts):e.items.length&&!this.props.items.length&&this.context.unbindShortcut(this.props.listenKeys),e.windowClientHeight!==this.props.windowClientHeight||e.previewpane!==this.props.previewpane||e.msgListDensity!==this.props.msgListDensity||this.props.previewpane===A.EsZ.BOTTOM&&this.state.vSliderPos!==t.vSliderPos){if(e.msgListDensity!==this.props.msgListDensity){const t=Math.floor(this.scrollTop/e.mainItemHeight)*this.props.mainItemHeight;this.scrollTop=t}this.recalculateVirtualListClientHeight=!0,this.useLocalScrollTop=!0,this.forceUpdate()}else this.recalculateVirtualListClientHeight=!1}UNSAFE_componentWillReceiveProps(e){e.streamId!==this.props.streamId&&(this.cursorOutBound=!1,this.itemStartIndex=0,this.itemEndIndex=0,this.hasShadow=!1,this.stickyTimeChunkIndex=void 0,this.breakingNewsScrollAway=!1,this.breakingNewsRendered=!1,this.scrollTop=0),e.newsArticle.title&&e.newsArticle.title!==this.props.newsArticle.title&&(this.breakingNewsScrollAway=!1,this.breakingNewsRendered=!1)}handleShortcuts(e){const t=e.which||e.keyCode||-1,{previewpane:s,syncUnsyncedData:a,streamId:n,listId:r,permanentDelete:o,selectedItemsCount:i,bulkActionDialogThreshold:l,enableTriageActions:c}=this.props;if((!(jl.indexOf(t)>=0)||this.container.contains(e.target)||e.target.contains(this.container))&&(!(Ql.indexOf(t)>=0&&this.listWrapperRef.current)||this.listWrapperRef.current.contains(e.target)||e.target.contains(this.listWrapperRef.current)))if(t!==H.P.TAB){if(Zl(e),t===H.P.UP||t===H.P.DOWN){const e=this.context.store.getState().streams[n];if(s!==A.EsZ.NO&&(clearTimeout(this._previewMessageSyncTimer),this._previewMessageSyncTimer=setTimeout((()=>{a()}),A.BC)),e&&e.cursor){const{items:s}=this.props,a=e.cursor.index;(t===H.P.UP&&0!==a&&a<=this.itemStartIndex||t===H.P.DOWN&&a!==s.length-1&&a>=this.itemEndIndex)&&(this.cursorOutBound=!0)}}if(t===H.P.PAGE_UP&&this.onPageUp(),t===H.P.PAGE_DOWN&&this.onPageDown(),t!==H.P.DELETE&&t!==H.P.BACKSPACE&&t!==H.P.HASHTAG||!(o&&c||i>=l))this.props.onKeyDown(e,n,r);else{const{isConversationMode:t}=this.props;(0,So.C)(d.createElement(pi,{streamId:n,listId:r,isConversationMode:t,onConfirm:()=>this.props.onKeyDown(e,n,r),perm:o,selectedItemsCount:i,onClose:()=>{}}),this.context)}}else{const t=(0,te.WN)(r),s=this.context.store.getState().streams[n];s&&s.cursor||t!==A.F6k.MESSAGES&&t!==A.F6k.DOCUMENTS&&t!==A.F6k.IMAGES||e.srcElement.tabIndex!==R.iUz.MESSAGE_LIST_TOOLBAR||(this.props.moveToFirstItem(n),Zl(e))}}handleLoadMoreItems(){const{listId:e,streamId:t,loadMoreItems:s,hasMoreItems:a}=this.props;return!!a&&(s({listId:e,streamId:t}),!0)}navigateTo(){const{streamId:e,cursorItem:t,onNavigateToRoute:s}=this.props;s({streamId:e,streamItem:t,...Object.assign.apply({},arguments)})}formatTimeChunk({index:e,scrollable:t,shadow:s,isUpdateSticky:a}){if(t&&0===e)return null;const n={},{items:r,timeZone:o}=this.props;return r[e]&&(0,te.WN)(r[e].listId)===A.F6k.TIMECHUNK?(n.leftPadded=!t,n.shadow=s,zl(this.props.listId)&&(n.fixedInTravelCard=!t,n.leftPadded=!1),ql(this.props.listId)&&a&&(n.leftPadded=!1,n.stickyTimechunk=!0),d.createElement(ur.Nd,{style:n,timeZone:o,context:this.context,type:r[e].type,value:r[e].value})):null}formatTravelItem(e){return d.createElement(ms,{schemaId:e.id,cardConversationId:e.cardConversationId,listId:e.listId,groupId:e.groupId})}formatItem(e,{isScrolling:t,itemIndex:s},a){const n=(0,te.WN)(e.listId);switch(n){case A.F6k.MESSAGES:return d.createElement(nr,xl({streamId:this.props.streamId,groupId:e.id,isScrolling:t,navigateTo:this.navigateTo},e,this.props.actions[n],this.props.actions.TOOLBAR,{itemHeight:e.listItemHeight,previewpane:this.props.previewpane,msgListDensity:this.props.msgListDensity,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onFocus:Wl,isConversationMode:this.props.isConversationMode,scrollerRef:a,onContextMenu:this.props.onContextMenu,onContextMenuShown:this.props.onContextMenuShown}));case A.F6k.BRAND_SHORTCUTS:return d.createElement(kl,null);case A.F6k.CONTACTS:return d.createElement(Hl.ZP,{email:e.email,isSearchContactCard:!0});case A.F6k.TRAVEL_CARDS:return this.formatTravelItem(e);case A.F6k.TIMECHUNK:return this.formatTimeChunk({index:s,scrollable:!0});case A.F6k.LOAD_MORE:return d.createElement(Ir,null);case A.F6k.COUPON_SEPARATOR:return d.createElement(ur.dL,{type:A.F6k.COUPON_SEPARATOR,value:e.id,context:this.context,dealsView:this.props.dealsView});case A.F6k.RECOMMENDED_DEALS_HEADER:return d.createElement(si,null);case A.F6k.COUPON_CARDS:return(0,te.aY)(e.listId)===A.qd8.RECOMMENDED_DEALS?d.createElement(dt,{items:e.itemRow}):d.createElement(Qe,xl({},e,{onCouponClick:this.navigateTo,isScrolling:t,hideBottomBorder:e.isLastItemInGroup}));case A.F6k.SENDERS:return d.createElement(Vi,xl({},e,{navigateTo:this.navigateTo,isScrolling:t}));case A.F6k.REFUND_CARDS:return d.createElement(Mt,{onReceiptClick:this.navigateTo,schemaId:e.schemaId,listId:e.listId,cardMid:e.cardMid,messageId:e.messageId,conversationId:e.conversationId,orderDate:e.orderDate,itemName:e.itemName,price:e.price,numItems:e.numItems,currency:e.currency,hideBottomBorder:e.isLastItemInGroup});case A.F6k.PENCIL_AD:{const{listId:t}=this.props,{sectionId:s}=e;return d.createElement(He,{anchorRef:t=>this.pencilAdNodes[e.sectionId]=t,viewabiltyContainerScrollTop:this.scrollTop,anchor:this.pencilAdNodes[s],viewabiltyContainerNode:this.container,sectionId:s,listId:t})}case A.F6k.AD_FEEDBACK:{const{sectionId:t}=e;return d.createElement(ae.ZP,{sectionId:t})}case A.F6k.IMAGES:{const{items:t,listId:s}=e;return d.createElement(No.Z,{listId:s,items:t,streamId:this.props.streamId})}case A.F6k.DOCUMENTS:return d.createElement(Ss.Z,{listId:e.listId,item:e,streamId:this.props.streamId});default:return e}}getItemHeight(e,t){switch((0,te.WN)(e.listId)){case A.F6k.COUPON_SEPARATOR:case A.F6k.RECOMMENDED_DEALS_HEADER:return 1!==e.id||this.props.dealsView?R.fa0:2*R.fa0;case A.F6k.TIMECHUNK:return 0===t?0:R.fa0;case A.F6k.RECEIPT_SEPARATOR:return R.fa0;case A.F6k.LOAD_MORE:return R.A3h;case A.F6k.MESSAGES:case A.F6k.PENCIL_AD:case A.F6k.AD_FEEDBACK:case A.F6k.IMAGES:case A.F6k.DOCUMENTS:case A.F6k.BRAND_SHORTCUTS:return e.listItemHeight;case A.F6k.COUPON_CARDS:return(0,te.aY)(e.listId)===A.qd8.RECOMMENDED_DEALS?R.SDK:R.ZzG;case A.F6k.SENDERS:return R.HB2;case A.F6k.REFUND_CARDS:return R.ZYh;case A.F6k.TRAVEL_CARDS:return R.naA;case A.F6k.GROCERY_CATEGORIES:return R.nVO;case A.F6k.STORE_SUMMARY:return R.qQ5;case A.F6k.CONTACTS:return e.listItemHeight}}setStickyTimechunkRef(e){this.stickyTimechunkNode=e}renderBreakingNews(e){const{newsArticle:t,onBreakingNewsDismissed:s,onBreakingNewsClicked:a,previewpane:n,onBreakingNewsRendered:r}=e,o=n===A.EsZ.RIGHT;return d.createElement(ji.Z,{newsArticle:t,isCompactLayout:o,breakingNewsDismissed:s,breakingNewsClicked:a,breakingNewsRendered:r})}createContextProvider(e,t,s){class a extends d.Component{getChildContext(){return e}render(){return d.createElement(m.IntlProvider,window.AppIntl,t(s))}}return a.childContextTypes={},Object.keys(e).forEach((e=>{a.childContextTypes[e]=c().any})),a}updateStickyHeader(e,t=!1){if(!(0,I.jU)()||!this.stickyTimechunkNode)return;if(e<0)return this.state.stickyTimechunkMounted&&this.setState({stickyTimechunkMounted:!1}),void u.unmountComponentAtNode(this.stickyTimechunkNode);const s=e?this.reversedTimeChunkIndices.find((t=>t<e)):0,n=t||e>1,{isBreakingNewsEnabled:r,newsArticle:o}=this.props;if(r&&o.title&&(!this.breakingNewsScrollAway&&this.breakingNewsRendered&&(this.breakingNewsScrollAway=this.stickyTimeChunkIndex!==s),!this.breakingNewsScrollAway&&!o.isRead)){if(!this.breakingNewsRendered){this.breakingNewsRendered=!0,this.state.stickyTimechunkMounted||this.setState({stickyTimechunkMounted:!0});const e=this.createContextProvider(this.context,this.renderBreakingNews,this.props);u.render(d.createElement(e,null),this.stickyTimechunkNode),this.breakingNewsRefreshTimer||this._createBreakingNewsRefreshTimer()}return this.stickyTimechunkNode.style.boxShadow=n?"rgba(0, 0, 0, 0.2) 0px 2px 4px":"none",this.hasShadow=n,void(this.stickyTimeChunkIndex=s)}if(this.stickyTimeChunkIndex===s&&0!==e&&this.hasShadow===n&&!this.breakingNewsRendered)return;this.breakingNewsRendered&&(!r&&this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=null),this.stickyTimechunkNode.style.boxShadow="none",this.breakingNewsRendered=!1),this.stickyTimeChunkIndex=s,this.hasShadow=n;const i=this.formatTimeChunk({index:s,scrollable:!1,shadow:n,isUpdateSticky:!0});i&&(this.state.stickyTimechunkMounted||this.setState({stickyTimechunkMounted:!0}),u.render(d.createElement(m.IntlProvider,window.AppIntl,d.createElement(a.FluxibleComponent,{context:this.context,store:this.context.store},i)),this.stickyTimechunkNode))}onScrollTop(){this.updateStickyHeader(0)}onScroll({scrollTop:e,itemStartIndex:t}){this.useLocalScrollTop||(this.stickyHeaderUpdateTimer&&clearTimeout(this.stickyHeaderUpdateTimer),this.stickyHeaderUpdateTimer=setTimeout((()=>this.updateStickyHeader(t,e>0)),0),this.scrollTop=e,this.debouncedScrollTopChange({newScrollTop:e}))}onScrollTopChange({newScrollTop:e}){const{itemListPageThreshold:t,onPageScrolled:s,handleScrollToBottom:a,listId:n}=this.props;Math.abs(e-this.lastPageScrollTop)>t&&(s(n),this.lastPageScrollTop=e),null==a||a({newScrollTop:e})}onVirtualListRenderCompleted({itemStartIndex:e,itemEndIndex:t,itemOffsets:s}){if(this.cursorOutBound){const e=this.context.store.getState().streams[this.props.streamId].cursor.streamItem,t=e?this.props.items.findIndex((t=>t.id===e.id)):-1;t>-1&&this.scrollTop!==s[t]?(this.scrollTop=s[t],this.useLocalScrollTop=!0,this.forceUpdate()):this.cursorOutBound=!1}else this.stickyHeaderUpdateTimer&&clearTimeout(this.stickyHeaderUpdateTimer),this.stickyHeaderUpdateTimer=setTimeout((()=>this.updateStickyHeader(e)),0),this.itemStartIndex=e,this.itemEndIndex=t}forceScrollToTop(){this.scrollTop=0,this.useLocalScrollTop=!0,this.forceUpdate()}onPageUp(){this.scrollTop=Math.max(this.scrollTop-this.container.clientHeight,0),this.useLocalScrollTop=!0,this.forceUpdate()}onPageDown(){this.scrollTop+=this.container.clientHeight,this.useLocalScrollTop=!0,this.forceUpdate()}getUIState(){const{listId:e,streamId:t}=this.props;return{type:A.sKi.COMPONENT_UI_STATE,hash:(0,te.JB)(e),id:t,uiState:{scrollTop:this.scrollTop}}}renderStaticHeader(){const{listId:e,items:t,showSearchHeader:s}=this.props,a=(0,te.WN)(e),n=0===t.length;if((0,se.lX)(e))return d.createElement(_l,{listId:e,onContentTypeChange:()=>{}});if(s)return d.createElement(rs,{listId:e});if((0,se.D3)(e))return d.createElement(li,{listId:e});if((0,te.aY)(e)===A.qd8.SUBSCRIPTIONS)return d.createElement(Cl,{listId:e});if(a===A.F6k.SENDERS||(0,te.aY)(e)===A.v6P[A.K8C.SENDER_ROLLUP])return d.createElement(Yi,{listId:e});switch(a){case A.F6k.TRAVEL_CARDS:return d.createElement(li,{listId:e});case A.F6k.COUPON_CARDS:return d.createElement(fs,null);case A.F6k.REFUND_CARDS:return d.createElement(Zo,{isEmpty:n});case A.F6k.IMAGES:return d.createElement(Do,{listId:e});case A.F6k.DOCUMENTS:return d.createElement(xs,{listId:e});case A.F6k.SENDERS:return d.createElement(Yi,{listId:e});default:return null}}renderStickyHeader(e){const t=this.formatTimeChunk({index:0,scrollable:!1});return t?(0,I.jU)()?d.createElement("div",null,d.createElement("div",{className:e.timeChunkPlaceHolder},t),d.createElement("div",{"data-test-id":"mail-reader-sticky-header",ref:this.setStickyTimechunkRef,className:e.timechunk})):d.createElement("div",null,d.createElement("div",{className:e.timeChunkPlaceHolder},t),d.createElement("div",{"data-test-id":"mail-reader-sticky-header",className:e.timechunk})):null}renderCheckmailLoadingBar(){return d.createElement(Ar,null)}getScrollToTopElementRenderFunc(e){return this.renderMessageScrollToTopElement(e)}renderMessageScrollToTopElement(e){const{formatMessage:t}=this.context.intl;return()=>d.createElement("div",{className:e.messageScrollToTopContainerStyle},d.createElement(B.default,{kind:k.Kinds.TAP_TO_TOP,size:k.Sizes.XS,colorState:k.ColorStates.INVERTED,paddingLess:!0,title:t(Yl.list_scroll_to_top)}))}getScrollToTopElementConfig(e,t){return{scrollThresholdPercentage:A.UGh,render:this.getScrollToTopElementRenderFunc(t)}}formatPlaceHolder(){const e=(0,te.WN)(this.props.listId);return e===A.F6k.MESSAGES?this.props.previewpane===A.EsZ.RIGHT?d.createElement(lr,{isDarkMode:this.context.getThemeMode()===$.zg.DARK,itemHeight:this.props.mainItemHeight}):d.createElement(_r,{isDarkMode:this.context.getThemeMode()===$.zg.DARK,itemHeight:this.props.mainItemHeight}):e===A.F6k.DOCUMENTS?d.createElement(_r,{isDarkMode:this.context.getThemeMode()===$.zg.DARK,itemHeight:this.props.mainItemHeight}):null}renderListResult(e){const{streamId:t,items:s,listId:a,haveScrollToTop:n,messageBuffer:r,numOfPlaceHolder:o,oppositeBufferSize:i}=this.props,l=(0,te.WN)(a),c={height:"auto"},E={padding:`0 ${4*R.mg$}px`};return s.length?n?d.createElement(p.Z,{getUnsyncedData:this.getUIState},d.createElement(Q,{key:t,items:s,bufferSize:r,getItemHeight:this.getItemHeight,formatItem:this.formatItem,loadMoreItems:this.handleLoadMoreItems,styles:c,onScrollTop:this.onScrollTop,config:this.getScrollToTopElementConfig(l,e),WrappedList:W.Z,onScroll:this.onScroll,scrollTop:this.getSavedScrollTop(),forceScrollToTop:this.forceScrollToTop,formatPlaceHolder:this.formatPlaceHolder,numOfPlaceHolder:o,recalculateClientHeight:this.recalculateVirtualListClientHeight,oppositeBufferSize:i,onRenderCompleted:this.onVirtualListRenderCompleted,enableReactElementCache:!0,itemStyle:E})):d.createElement(p.Z,{getUnsyncedData:this.getUIState},d.createElement(W.Z,{key:t,items:s,bufferSize:100,getItemHeight:this.getItemHeight,formatItem:this.formatItem,loadMoreItems:this.handleLoadMoreItems,styles:c,onScrollTop:this.onScrollTop,onScroll:this.onScroll,scrollTop:this.getSavedScrollTop(),recalculateClientHeight:this.recalculateVirtualListClientHeight,onRenderCompleted:this.onVirtualListRenderCompleted,itemStyle:E})):d.createElement(Vs.ZP,{listId:this.props.listId})}renderVirtualList(e){const{status:t,items:s}=this.props;return t===A.DAQ.ERROR?d.createElement(St,null):d.createElement("div",{className:e.container,"data-test-id":"virtual-list-container"},t===A.DAQ.LOADING&&0===s.length?d.createElement("div",{className:e.loadingContainer},d.createElement(X.Z,null)):this.renderListResult(e))}renderPreviewPane(e){const{streamId:t,listId:s}=this.props;return d.createElement("div",{className:e.rightPane,key:"rightpane"},d.createElement(Ho,{listId:s,streamId:t}))}handleSlide(e,t,s){this.useLocalScrollTop=!0,this.setState({[e]:t,size:s})}handleListFilterChange(e,t){const s=(0,te.WN)(this.props.listId),a={[A.F6k.MESSAGES]:"msg",[A.F6k.DOCUMENTS]:"docs",[A.F6k.IMAGES]:"photo"},n=J.JE["FILTER_"+t],r=n?{mKey:n,sec:J.nJ.MSG_LIST_BULK_ACTION,interactionType:(0,ee.getInteractionFromEvent)(e),actionData:{cntxt:a[s]||a[A.F6k.MESSAGES]}}:null;this.navigateTo({route:{name:A.n8z.SEARCH,params:{query:(0,te.tr)((0,te.tE)(this.props.listId,{listFilter:t}))}},i13nModel:r})}renderResizer(){const{previewpane:e,previewpaneInPixels:t,previewpaneCookie:s,isRTL:a}=this.props;return d.createElement(G,{key:"previewpane-resizer",isEmpty:!1,previewpane:e,previewpaneInPixels:t,previewpaneCookie:s,resize:this.handleSlide,isRTL:a})}getPreviewPaneStyle(e,t){const{hSliderPos:s,vSliderPos:a,size:n}=this.state,r=e;let o;return e===A.EsZ.RIGHT?0!==n&&t?(o=s<R.XpS?R.XpS:n-s<R.bA8?n-R.bA8:s,{style:{flexBasis:`${o}px`},horizontalOffset:o,showLabels:n-s>700,splitType:r}):{style:{flexBasis:`${s}%`},horizontalOffset:s,showLabels:s<=R.Q3u,splitType:r}:0===n?{style:{flexBasis:`${a}%`},splitType:r}:t?(o=a<R.Yw5?R.Yw5:n-a<R.dEt?n-R.dEt:a,{style:{flexBasis:`${o}px`},splitType:r}):{style:{flexBasis:a/100*n+"px"},splitType:r}}getPreviewPaneStyleFromCookie(e){const{hSliderPos:t,vSliderPos:s,size:a}=this.state,n=e===A.EsZ.RIGHT,r=e;let o;return o=n?t<R.XpS?R.XpS:t:s<R.Yw5?R.Yw5:s,{style:{flexBasis:`${o}px`},splitType:r,...n?{horizontalOffset:t,showLabels:!(a>0)||a-t>700}:{}}}showInboxHeader(){if(this.props.isFocusedInboxEnabled){const{listId:e,folderType:t}=this.props,s=(0,te.aY)(e);if(t===A.Sck.INBOX||s===A.qd8.FOCUSED_INBOX)return d.createElement(mi,{listId:e})}}render(){const{previewpane:e,showListFilter:t,previewpaneInPixels:s,previewpaneCookie:a,showBrandShortcuts:n}=this.props,{stickyTimechunkMounted:r}=this.state,{style:o,splitType:l,horizontalOffset:c=0,showLabels:E=!0}=a&&s?this.getPreviewPaneStyleFromCookie(e):this.getPreviewPaneStyle(e,s),u=e!==A.EsZ.NO,m=this.context.getTheme(),S=_()(Gi(),{theme:m,previewpane:e,previewpaneInPixels:s,stickyTimechunkMounted:r}),p=i()(this.props,["items","preservedState","cursorItem"]);return d.createElement("div",{className:S.mailReader,"data-test-id":"mail-reader","data-test-preview":l,ref:e=>{this.container=e}},this.renderStaticHeader(),d.createElement("div",{className:S.toolbar,"data-test-id":"mail-reader-toolbar"},this.props.hideToolbar?null:d.createElement(ho,xl({},p,{onListFilterChange:this.handleListFilterChange,horizontalOffset:c,showLabels:E,showListFilter:t})),this.showInboxHeader()),d.createElement("div",{className:S.listWrapper,ref:this.listWrapperRef},d.createElement("div",{className:S.listContainer,"data-test-id":"mail-reader-list-container"},u?[d.createElement("div",{key:"list-pane",className:S.listPane,style:o,ref:"listPane","data-test-id":"left-pane"},this.renderCheckmailLoadingBar(),this.renderStickyHeader(S),this.renderVirtualList(S)),this.renderResizer(S),this.renderPreviewPane(S)]:d.createElement("div",{key:"list-pane",className:S.fullPane,"data-test-id":"full-pane"},this.renderCheckmailLoadingBar(),this.renderStickyHeader(S),this.renderVirtualList(S)))),n&&d.createElement(Bl.Z,null))}}Xl.defaultProps={doSelectAll:!1,listenKeys:[],hasMoreItems:!1,loadMoreItems:Wl,haveScrollToTop:!1,itemListPageThreshold:825,isBreakingNewsEnabled:!1,newsArticle:{},onNavigateToRoute:Wl,newsRefreshInterval:18e4},Xl.contextTypes={executeAction:c().func,getStore:c().func,getCss:c().func,getThemeMode:c().func,getTheme:c().func,store:c().object,intl:c().object,bindShortcut:c().func,unbindShortcut:c().func,hideToolbar:c().bool};const Jl=vi(Xl)},91054:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F cZ1RN91d_n o_h p_R em_N D_F",mailReader:"D_F ab_FT em_N ek_BB W_6D6F",listWrapper:"D_F ab_FT em_N ek_BB iz_A H_6D6F",listContainer:"D_F H_6D6F ab_FT em_N p_R",toolbar:"en_0",listPane:"en_0 ej_dAt p_R o_h D_F ek_BB",fullPane:"D_F ek_BB W_6D6F",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F",swipeableContainer:"F_N D_F ek_BB W_6D6F U_0",swipeableContent:"D_F ek_BB F_N",pullToRefreshContainer:"D_F ek_BB p_R F_N",loadingContainer:"T_dRK W_6D6F p_R",virtualListScroller:"p_a",virtualListUL:"I_52qC",messageScrollToTopContainerStyle:"D_F ab_C gl_C p_a B_6Fd5 R_dm5 H_6UbO W_6UbO E_6Fd5 I_ZS20T5 e_dRA r_P Z_O",timechunk:"Z_pG p_a T_0 W_6D6F",timeChunkPlaceHolder:"O_N"},hasSelectedItems:{swipeableContainer:"U_7ceA"},stickyTimechunkMounted:{timeChunkPlaceHolder:"O_0"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0",listContainer:"ek_EZ"},"previewpane-2":{listContainer:"ek_BB",listPane:"d_3nV5V o_h",deadResizer:"M_1EtAWD ej_fq7 I_ZpQYvz",resizer:"M_1EtAWD ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ajP3z",virtualListUL:"I_Z29dUYT"},previewpaneInPixels:{listPane:"s_3s1zo d_3nV5V en_N",rightPane:"s_3AgFn d_3nV5V"},"theme-ATT":{messageScrollToTopContainerStyle:"I_Z15BeVd I4_Z2dxrGx"},"theme-FRONTIER":{messageScrollToTopContainerStyle:"I_2dK1Xc I4_Z1A0QhA"},"theme-ROGERS":{messageScrollToTopContainerStyle:"I_Z1m994D I4_Z21W7Hh"},"theme-BT":{messageScrollToTopContainerStyle:"I_Z3iqci I4_Z20SNAa"},"theme-SKY":{messageScrollToTopContainerStyle:"I_1za5gA I4_Z2dycH0"},"theme-AOL":{messageScrollToTopContainerStyle:"I_Z10nx3W I4_Zpr4hs"},"theme-DEFAULT":{messageScrollToTopContainerStyle:"I_Z1owzv1 I4_Z2aVTcY"},"theme-SUNRISE":{messageScrollToTopContainerStyle:"I_ZNpR7F I4_ZmlXUP"},"theme-AQUA_GREEN":{messageScrollToTopContainerStyle:"I_1dThJA I4_Z1UHURv"},"theme-AQUA_BLUE":{messageScrollToTopContainerStyle:"I_26UHLI I4_Z280Xf5"},"theme-DEEP_PURPLE":{messageScrollToTopContainerStyle:"I_ZRpDPm I4_Zwa5YI"},"theme-BLUE_NIGHT":{messageScrollToTopContainerStyle:"I_ZMqghf I4_Z21zYBA"},"theme-DARK_GREY":{messageScrollToTopContainerStyle:"I_Z1m994D I4_Z21W7Hh"},"theme-NIGHT_LANDSCAPE":{messageScrollToTopContainerStyle:"I_Z1W4Pak I4_Z1UEcsX"},"theme-ROADTRIP":{messageScrollToTopContainerStyle:"I_ZNsLcW I4_ZrkPvI"},"theme-SUNSET_AUSSIE":{messageScrollToTopContainerStyle:"I_ZNpR7F I4_ZmlXUP"},"theme-LIGHTHOUSE":{messageScrollToTopContainerStyle:"I_Zd2nN5 I4_Z1VDTK1"}},_key:"WyRvo"}},91696:e=>{"use strict";e.exports={className:{default:{yahooPlusBadge:"H_6FIA W_6MGW Y_689y Q_eo6"}},_key:"1jJPex"}},88641:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F D_F"}},_key:"Z6fPnV"}},36518:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB gl_C W_3vpWV H_6D6F C_Z281SGl I_52qC"},"themeMode-MEDIUM":{container:"I_sgPuT C_ZpQYvz m_ZYfFSw"},"themeMode-DARK":{container:"I_sgPuT C_ZpQYvz m_ZYfFSw"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"1y8oxJ"}},52997:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>tt});var a=s(45697),n=s.n(a),r=s(67294),o=s(97762),i=s.n(o),l=s(99095),c=s(92743),d=(s(31280),s(70582)),E=s(87771),_=s(26),u=s(9333),m=s(76531),S=s(12055),p=s(85458),C=s(17016),A=s(53957),T=s(51892),h=s(91869);function g(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const I=(0,s(95406).gP)(["FORM","PASSWORD"]),R="Remember: {brand} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.",O=`\n    You are about to enter a password in a form that will not be sent to {brand}!.\n    ${R}\n`,D=`\n    You are about to send information to someone other than {brand}.\n    If you do not want anyone outside of {brand} to have this information, click "Cancel" now.\n    ${R}\n`,N=(0,l.defineMessages)({warning:{id:"message_pane.warning_title",defaultMessage:"Warning"}});class f extends r.Component{constructor(...e){super(...e),g(this,"hidePasswordWarning",(e=>{this.props.onDialogClose(),e.warningShown=!0})),g(this,"submitForm",(e=>{this.props.onDialogClose(),e&&"FORM"===e.nodeName&&e.submit&&HTMLFormElement.prototype.submit.call(e)}))}shouldComponentUpdate({warningType:e,targetElement:t}){const{warningType:s,targetElement:a}=this.props;return e!==s||t!==a}render(){const{formatMessage:e}=this.context.intl,t=e(N.warning),{warningType:s,targetElement:a,onDialogClose:n}=this.props,o=r.createElement(l.FormattedMessage,{id:"message_pane.password_warning",defaultMessage:O,values:{brand:"Yahoo"}}),i=r.createElement(l.FormattedMessage,{id:"message_pane.form_warning",defaultMessage:D,values:{brand:"Yahoo"}});switch(s){case I.FORM:return r.createElement(h.Z,{title:t,message:i,onAbort:n,onConfirm:this.submitForm.bind(this,a)});case I.PASSWORD:return r.createElement(T.Z,{title:t,message:o,onAccept:this.hidePasswordWarning.bind(this,a)});default:return null}}}g(f,"contextTypes",{intl:l.intlShape.isRequired});const M=f;function L(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const P=/^\s*mailto:/i;class y extends r.Component{constructor(...e){super(...e),L(this,"state",{warningType:null}),L(this,"_isYahooUrl",(e=>{const t=document.createElement("a");t.setAttribute("href",e);const s=t.hostname;return/\.yahoo\.com$/i.test(s)})),L(this,"_handleFormWarning",(e=>{const t=e.target;if(!this._isYahooUrl(t.action))return e.preventDefault(),e.stopPropagation(),this.setState({warningType:I.FORM,targetElement:t}),!1})),L(this,"_handlePasswordWarning",(e=>{const{target:t}=e,{tagName:s,type:a,warningShown:n}=t;if("INPUT"===s&&"password"===a&&!n)return this.setState({warningType:I.PASSWORD,targetElement:t}),!1})),L(this,"handleKeyDown",(e=>{e.stopPropagation()})),L(this,"handleBodyClick",(e=>{const{decos:t}=this.props;let{target:s}=e;do{if("A"===s.nodeName){if(s.hasAttribute("ymailto")||s.href&&P.test(s.href)){e.preventDefault(),e.stopPropagation();const t=s.getAttribute("ymailto")||s.href;return void this.props.onMailtoClick(t)}if(s.hasAttribute("href"))return s.setAttribute("rel","noreferrer"),void this.props.onHrefLinkClick(s,t)}}while(s.parentElement!==this.wrapper&&(s=s.parentElement))})),L(this,"handleDialogClose",(()=>{this.setState({warningType:null,targetElement:null})}))}componentDidMount(){const e=this.messageBody;e&&(e.addEventListener("submit",this._handleFormWarning,!0),e.addEventListener("focus",this._handlePasswordWarning,!0),(0,A.qC)(e,this.props.attachments))}componentWillUnmount(){const e=this.messageBody;e&&(e.removeEventListener("submit",this._handleFormWarning,!0),e.removeEventListener("focus",this._handlePasswordWarning,!0))}render(){const{warningType:e,targetElement:t}=this.state,s=this.props.dangerouslySetInnerHTML.__html;return r.createElement("div",{className:this.props.className,onKeyDown:this.handleKeyDown,ref:e=>this.wrapper=e},e?r.createElement(M,{warningType:e,targetElement:t,onDialogClose:this.handleDialogClose}):null,r.createElement("div",{ref:e=>this.messageBody=e,onClickCapture:this.handleBodyClick,dangerouslySetInnerHTML:{__html:s}}))}}L(y,"contextTypes",{config:n().object}),L(y,"defaultProps",{className:"",onHrefLinkClick:C.NOOP,onMailtoClick:C.NOOP,attachments:[]});const b=y;var F=s(17673),U=s(48650),v=s.n(U),w=s(83034),G=s(85927),k=s(37422),H=s(13337),B=s(11282),x=s.n(B);const V=x().create("amp-viewer"),W=e=>{var t;return"complete"===(null===(t=e.contentDocument)||void 0===t?void 0:t.readyState)?Promise.resolve():new Promise((t=>{e.addEventListener("load",(function s(){e.removeEventListener("load",s),t()}))}))},Z=e=>{const{"Content-Type":t,...s}=e.headers||{};if(!(null!=t&&t.startsWith("multipart/form-data")&&e.body&&Array.isArray(e.body)&&e.body.length))return e;const a=new URLSearchParams;return e.body.forEach((e=>{Array.isArray(e)&&e.length>1&&a.append(e[0],e[1])})),{...e,body:a,headers:{...s,"Content-Type":"application/x-www-form-urlencoded"}}};var K,z;!function(e){e.Developer="0",e.User="1"}(K||(K={})),function(e){e.Unexpected="0",e.Expected="1"}(z||(z={}));const q=async e=>({body:await e.text()}),Y=e=>{const t=(new DOMParser).parseFromString(e,"text/html");return t.documentElement.setAttribute("allow-xhr-interception",""),t.documentElement.setAttribute("data-amp-autocomplete-opt-in",""),t.documentElement.setAttribute("report-errors-to-viewer",""),t.documentElement.outerHTML},j=async({ampHtml:e,ampProxy:t,iframeRef:s,messagingToken:a,useProxy:n})=>{const r=null==s?void 0:s.current,o=null==r?void 0:r.contentWindow;if(!a||!r||!o)return;const{get:i,post:l}=t,c=V.feature("amp_initialization"),d=()=>Promise.resolve(),E=async(e,t)=>{V.info("amp_viewer_error",t)},_=async(e,{height:t}={})=>{var a;t&&(null===(a=s.current)||void 0===a||a.setAttribute("height",t+"px"))},u=async(e,t)=>{var s,a,n;const r=null==t||null===(s=t.originalRequest)||void 0===s?void 0:s.init,o=null==t||null===(a=t.originalRequest)||void 0===a?void 0:a.input;if(r&&o){if(o.startsWith("https://s.yimg.com/"))return(async(e,t)=>q(await fetch(e,t)))(o,r);switch(null===(n=r.method)||void 0===n?void 0:n.toUpperCase()){case"GET":return q(await i(o,r));case"POST":return q(await l(o,Z(r)))}}};try{await Promise.race([W(r),(m=15e3,new Promise(((e,t)=>setTimeout((()=>t(new Error("Iframe never loaded"))),m))))]),o.postMessage({amp:Y(e)},"*");const t=await H.sT.waitForHandshakeFromDocument(window,o,"null",a);return t.setDefaultHandler(d),n&&t.registerHandler("xhr",u),t.registerHandler("error",E),t.registerHandler("documentHeight",_),t.sendRequest("visibilitychange",{},!0),t}catch(S){c.logFailure(S)}var m};var Q=s(94070),X=s(51917);const J=()=>{const{guidHash:e}=(0,Q.B)();return(0,r.useMemo)((()=>new X.Z(e,k.N7x,k.Q_q)),[e])};var $=s(42655),ee=s(17901),te=s(6097),se=s(39593),ae=s.n(se),ne=s(61908);class re extends ee.Z{constructor({guid:e,userNamespace:t,...s}){super({...s,loggerName:"identity_api_client"}),this.cache=new(ae()),this.endpoint=(0,ne.U8)(t).IDENTITY_API_HOST,this.guid=e}readTpaCrumb(){const e=new te.Z(k.f2m.GET,`https://${this.endpoint}/api/v3/users/me/crumb?type=tpacrumb`);e.setHeader("Accept","application/json"),e.withCredentials=!0;const t=e.send().then((e=>e.body));return this.logRequest(t,{apiName:"readTpaCrumb",guid:this.guid}),t}cacheFirst(e,t,{maxAge:s=0}={}){let a=this.cache.get(e);return a||(a=t(),this.cache.set(e,a,s)),a}revalidate(e){this.cache.del(e)}read(e,t){switch(e){case"tpaCrumb":return this.cacheFirst(e,(()=>this.readTpaCrumb()),{maxAge:null==t?void 0:t.maxAge})}}}const oe=re,ie=()=>{const{config:e,guid:t,userNamespace:s}=(0,Q.B)(),a=(0,r.useMemo)((()=>new oe({guid:t,userNamespace:s})),[t,s]),n=(0,r.useCallback)((e=>a.revalidate(e)),[a]);return{readTpaCrumb:(0,r.useCallback)((()=>a.read("tpaCrumb",{maxAge:e.tpaCrumbMaxAge})),[a,e.tpaCrumbMaxAge]),revalidate:n}},le=x().create("norrin/use_amp_proxy"),ce="amp_proxy_request",de=(e,t)=>{const s=J(),{appId:a,userNamespace:n}=(0,Q.B)(),{readTpaCrumb:o,revalidate:i}=ie(),l=(0,r.useCallback)(((r,l)=>{const c=async(d,E,_=0)=>{const{crumb:u}=await o(),m={appid:a,ymreqid:s.generate(),tpaCrumb:u};de.wssid&&(m.wssid=de.wssid),d=((e,t)=>{try{const s=new URL(e);return s.searchParams.set("__amp_source_origin",t),s.toString()}catch(s){return e}})(d,t);const S=`${r}?${F.stringify(m)}`,p="readTpaCrumb",C=le.feature(ce,{apiName:p,method:l});let A;try{A=await fetch(S,{...E,credentials:"include",headers:{...null==E?void 0:E.headers,"AMP-Email-Sender":t,"X-AMP-MessageID":e,"X-AMP-Origin":n===k.Tzw.AOL?"https://mail.aol.com":"https://mail.yahoo.com","X-AMP-Partner-Connection-Info":btoa(d)},method:l,mode:"cors"})}catch(g){throw le.error("fetch_error",g),g}const T=A.headers.get("x-amp-proxy-error"),h=A.headers.get("x-amp-proxy-wssid");if(!A.ok){if(((e,t,s,a)=>{le.feature(ce,{apiName:t,errorCode:s,method:e,statusCode:a}).logFailure()})(l,p,T,A.status),400===A.status){if("10.20.12"===T&&h&&_<2)return de.wssid=h,c(d,E,_+1);if("10.20.17"===T&&_<2)return i("tpaCrumb"),c(d,E,_+1)}throw new $.Z("HttpTransport.NotOkStatusCode","Request returned with not-ok status code",{errorCode:T,statusCode:A.status})}return C.logSuccessAndLatency(),A};return c}),[a,t,e,o,i,n,s]),c=(0,r.useCallback)(l("/ampclientproxy/v1/ampGet","GET"),[l]),d=(0,r.useCallback)(l("/ampclientproxy/v1/ampPost","POST"),[l]);return(0,r.useMemo)((()=>({get:c,post:d})),[c,d])},Ee=de,_e=["autoplay 'none'","camera 'none'","encrypted-media 'none'","fullscreen 'none'","geolocation 'none'","gyroscope 'none'","magnetometer 'none'","microphone 'none'","midi 'none'","payment 'none'","speaker 'none'","sync-xhr 'none'","vr 'none'"],ue=["allow-scripts","allow-forms","allow-popups","allow-popups-to-escape-sandbox"],me=(0,c.connect)(((e,{messageId:t})=>{var s;const{doesMessageIdExist:a,getMessageFromAddress:n,getSetting:r,isFeatureEnabled:o}=(0,G.selectors)(e);return{fromAddress:(null===(s=(a(t)?n(t):[])[0])||void 0===s?void 0:s.email)||"",viewerUrl:r(k.Zrf.APP_ROOT_PATH)+"/amp_viewer",isAmpProxyEnabled:o(k.ANe.AMP_PROXY)}}))((({ampHtml:e,fromAddress:t,isAmpProxyEnabled:s,messageId:a,viewerUrl:n})=>{const o=(0,r.useRef)(null),[i,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(),E=(0,w.Z)(v()),_=Ee(a,t);if((0,r.useEffect)((()=>{const e=new Uint8Array(32);window.crypto.getRandomValues(e);const t=String.fromCharCode.apply(null,Array.from(e));d(btoa(t)),l(window.location.origin)}),[]),(0,r.useEffect)((()=>{const t=j({ampHtml:e,iframeRef:o,ampProxy:_,messagingToken:c,useProxy:s});return()=>{(async e=>{const t=await e;t&&(t.unregisterHandler("documentHeight"),t.unregisterHandler("xhr"),t.unregisterHandler("error"))})(t)}}),[e,o,s,_,c]),!c)return null;const u={messagingToken:c,origin:i},m=["errorReporter"];s&&m.push("xhrInterceptor"),u.cap=m.join(",");const S=`${n}#${F.stringify(u,"&")}`;return r.createElement("div",null,r.createElement("iframe",{className:E.iframe,ref:o,src:S,"data-test-id":"amp-iframe-page",allow:_e.join("; "),sandbox:ue.join(" "),scrolling:"no"}))}));var Se=s(76223),pe=s.n(Se),Ce=s(50512),Ae=s.n(Ce),Te=s(67498),he=s(28182),ge=s(43007);const Ie=pe()(Ae()),Re=(0,l.defineMessages)({blockedImageMessageTitle:{id:"blocked_image_banner.message",defaultMessage:"This message contains blocked images."},blockedLinkAndImageMessageTitle:{id:"blocked_link_and_image_banner.message",defaultMessage:"For your security we disabled all images and links in this email. If you believe it is safe to use, mark this message as not spam."},blockedLinksMessageTitle:{id:"blocked_link_banner.message",defaultMessage:"For your security we disabled links in this email. If you believe it is safe to use, mark this message as not spam."}}),Oe=({isSpamFolder:e,hasAnchorLinks:t,hasBlockedImages:s,onShowImages:a,onChangeImageSetting:n},{intl:o})=>{const i=o.formatMessage(((e,t,s=!1)=>{const a=Re.blockedImageMessageTitle;return s?e&&t?Re.blockedLinkAndImageMessageTitle:e?Re.blockedLinksMessageTitle:a:a})(t,s,e));return r.createElement("div",{className:Ie.container,"data-test-id":"blocked-image-banner"},r.createElement(ge.Z,{size:m.Sizes.XS,kind:m.Kinds.EXCLAMATION_ALT,colorState:m.ColorStates.WARNING_GRAD_RED}),r.createElement("div",{title:i,className:Ie.message},r.createElement("span",null,i),r.createElement("span",{className:Ie.buttonsContent},s?r.createElement(Te.Z,{kind:he.F.CHROMELESS,onClick:a},r.createElement("span",{"data-test-id":"show-image-button",className:Ie.button},r.createElement(l.FormattedMessage,{id:"blocked_image_banner.show_images",defaultMessage:"Show images"}))):null,e?null:r.createElement("div",null,r.createElement(l.FormattedMessage,{id:"blocked_image_banner.or_text",defaultMessage:"or"}),r.createElement(Te.Z,{kind:he.F.CHROMELESS,onClick:n},r.createElement("span",{"data-test-id":"always-show-image-button",className:Ie.button},r.createElement(l.FormattedMessage,{id:"blocked_image_banner.change_setting",defaultMessage:"Always show images"})))))))};Oe.defaultProps={hasBlockedImages:!0},Oe.contextTypes={intl:l.intlShape.isRequired};const De=Oe;var Ne=s(3405);const fe=pe()(Ae()),Me=e=>{e({route:(0,Ne.Tx)({settingsGroupId:k.u5h.VIEWING_EMAIL})})},Le=(e,{navigateTo:t})=>r.createElement("div",{className:fe.container,"data-test-id":"pac-notification-banner"},r.createElement(ge.Z,{size:m.Sizes.XS,kind:m.Kinds.TRUSTED,colorState:m.ColorStates.SUCCESS}),r.createElement("p",{className:fe.message},r.createElement(l.FormattedMessage,{id:"externalImage.message",defaultMessage:"External images are now more secure, and shown by default."}))," ",r.createElement(Te.Z,{"data-test-id":"change-settings-button",kind:he.F.CHROMELESS,onClick:Me.bind(null,t)},r.createElement("span",{className:fe.primaryButton},r.createElement(l.FormattedMessage,{id:"externalImage.change_accept",defaultMessage:"Change in Settings"}))));Le.contextTypes={navigateTo:n().func.isRequired};const Pe=Le;class ye extends r.Component{render(){const{showPACNotification:e,hasInlineImage:t,isSpamFolder:s,onShowImages:a,hasBlockedImages:n,hasAnchorLinks:o,onChangeImageSetting:i}=this.props;return n||s&&o?r.createElement(De,{onShowImages:a,isSpamFolder:s,hasBlockedImages:n,hasAnchorLinks:o,onChangeImageSetting:i}):e&&t&&!s?r.createElement(Pe,{onChangeImageSetting:i}):null}}const be=(0,c.connect)(((e,{messageId:t,isSpamFolder:s})=>{const{isFeatureEnabled:a,getMessageBodiesSelectors:n}=(0,G.selectors)(e),{hasInlineImage:r,hasAnchorLinks:o}=n(),i=a(k.Zrf.SHOW_IMAGES),l=a(k.ANe.INLINE_IMAGES_PROXIED);return{showPACNotification:!i&&l,hasInlineImage:r(t),hasAnchorLinks:s&&o(t)}}))(ye);var Fe=s(24402),Ue=s.n(Fe),ve=s(15632);function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Ge=(0,l.defineMessages)({helpLink:{id:"mobile.security_alert_reply_to.help_link",defaultMessage:"Link to information on Additional Security Features in Yahoo Mail"}}),ke=(e,{intl:t,partner:s})=>{const{formatMessage:a,locale:n}=t,o=(0,ve.Lz)("SLN29297")(n,s);return o?r.createElement("a",we({href:o,target:"_blank","aria-label":a(Ge.helpLink)},e),r.createElement(ge.Z,{size:m.Sizes.XS,kind:m.Kinds.CAL_MAYBE,colorState:m.ColorStates.FIRST_LEVEL_GRAY})):null};ke.contextTypes={intl:l.intlShape.isRequired,partner:n().string.isRequired};const He=ke;var Be=s(7426);const xe=(0,l.defineMessages)({phishingTitle:{id:"phishing_banner.title",defaultMessage:"Be careful with this message"},spamTitle:{id:"spam_indicator.title_in_spam",defaultMessage:"Why is this message in Spam?"},spamInInboxTitle:{id:"spam_indicator.title_in_inbox",defaultMessage:"Why is this message in your Inbox?"},phishingSubtitle:{id:"phishing_banner.subtitle",defaultMessage:"This message could be used to steal your personal information. Avoid clicking links, downloading attachments or replying with personal details."},phishingReport:{id:"phishing_banner.report",defaultMessage:"Report this message"},isSafe:{id:"phishing_banner.safe",defaultMessage:"It's safe"},notSpam:{id:"spam_indicator.notSpam",defaultMessage:"It's not spam"},removeSdrAndSpam:{id:"spam_indicator.removeSdrAndSpam",defaultMessage:"Remove sender and mark as spam"},spamSubtitleSenderInUserAddressBook:{id:"spam_indicator.subtitle_SenderInUserAddressBook",defaultMessage:"We think this message is spam. We still put it into your Inbox as the sender is in your contact list. You can mark this message as safe or remove the sender."},spamSubtitlePotentialSpam:{id:"spam_indicator.subtitle_PotentialSpam",defaultMessage:"We believe this message is spam as it is similar to messages marked as spam by other users."},spamSubtitleSpamMarkedByUser:{id:"spam_indicator.subtitle_SpamMarkedByUser",defaultMessage:"We believe this message is spam as you marked previous messages from the same sender as spam. If you want to receive future messages from this sender, please mark it as 'Not Spam'."},spamSubtitlePotentialPhishing:{id:"spam_indicator.subtitle_PotentialPhishing",defaultMessage:"We believe this message is dangerous. Similar messages have been used to steal other users' personal information. Avoid clicking links, downloading attachments or replying with personal details."}}),Ve=({onMount:e,onMarkAsSpam:t,onMarkAsNotSpam:s,isSpamFolder:a,spamReason:n="",showSpamIndicator:o})=>{(0,r.useEffect)(e,[e]);let i=xe.phishingTitle,l=xe.phishingSubtitle,c=!1,d=xe.phishingReport;const E=(0,w.Z)(Ue()),{formatMessage:_}=(0,Be.Y)();if(o)switch(a&&(c=!0,i=xe.spamTitle),n){case k.DBG.SenderInUserAddressBook:i=xe.spamInInboxTitle,l=xe.spamSubtitleSenderInUserAddressBook,d=xe.removeSdrAndSpam;break;case k.DBG.PotentialSpam:l=xe.spamSubtitlePotentialSpam,d=xe.notSpam;break;case k.DBG.SpamMarkedByUser:l=xe.spamSubtitleSpamMarkedByUser,d=xe.notSpam;break;case k.DBG.PotentialPhishing:l=xe.spamSubtitlePotentialPhishing,d=xe.isSafe}return r.createElement("div",{className:E.container,"data-test-id":"phishing-banner-spam-indicator"},r.createElement(ge.Z,{size:m.Sizes.XS,kind:m.Kinds.EXCLAMATION_ALT,colorState:m.ColorStates.WARNING}),r.createElement("div",{className:E.content},r.createElement("div",{className:E.title},_(i)),r.createElement("div",{className:E.message},_(l)),r.createElement("div",{className:E.buttons},c?r.createElement(Te.Z,{kind:he.F.SECONDARY,overridingClass:E.notSpamButton,onClick:s,"data-test-id":"spamIndicator-notSpam-button"},_(d)):r.createElement(r.Fragment,null,!a&&r.createElement(Te.Z,{kind:he.F.DANGER,overridingClass:E.reportButton,onClick:t,"data-test-id":"phishing-report-button"},_(d)),r.createElement(Te.Z,{kind:he.F.SECONDARY_BORDERLESS,overridingClass:E.safeButton,onClick:s,"data-test-id":"phishing-safe-button"},_(xe.isSafe))))),r.createElement(He,null))};var We=s(20292),Ze=s(53185),Ke=s.n(Ze),ze=s(92559),qe=s(73924),Ye=s(91742),je=s(31057),Qe=s(79483);function Xe(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Je=(0,l.defineMessages)({hideQuote:{id:"hide_quote",defaultMessage:"Hide original message"},download:{id:"inline_image_download",defaultMessage:"Download"},showQuote:{id:"show_quote",defaultMessage:"Show original message"}}),$e=i().renderToStaticMarkup(r.createElement("div",null,r.createElement(_.Z,null)));class et extends r.Component{constructor(...e){super(...e),Xe(this,"state",{quoteExpanded:this.props.quoteExpanded||!1,mounted:!1}),Xe(this,"handleInlineImageDownload",(e=>{const{attachments:t,downloadAttachment:s}=this.props,a=null==t?void 0:t.find((({id:t})=>t===e));a&&s({attachment:a,i13nModel:{sec:ze.nJ.MSG_BODY,mKey:ze.JE.INLINE_IMAGE_DOWNLOAD,mKeyGroup:ze.rO.dwnldAttmnt,interactionType:ze.Rb.CLICK}})})),Xe(this,"handleInlineImagePreview",(e=>{var t;const{listId:s,attachments:a,groupId:n,isMessageInPreviewPane:r}=this.props,o=r?{messagePreview:"1"}:{},i=(null==a||null===(t=a.find((({id:t})=>t===e)))||void 0===t?void 0:t.id)||e;this.context.navigateTo({route:(0,Ne.Sk)(s,n,i,o),i13nModel:{sec:ze.nJ.MSG_BODY,mKey:ze.JE.INLINE_IMAGE_PREVIEW,interactionType:ze.Rb.CLICK}})})),Xe(this,"_convertInlineImageAttchments",((e=[])=>{const t=e.filter((({image:e})=>e.classList.contains("preview")));if(0===t.length)return;const s=t.map((({image:e,attachmentId:t,partId:s})=>({id:t,filename:e.src,downloadUrl:e.src,type:k.sSc.Types.IMAGE,disposition:k.sSc.Dispositions.INLINE,partId:s}))),{messageId:a,createInlineImageAttchments:n}=this.props;n({msgId:a,attachments:s})})),Xe(this,"_onPreviewHandler",(e=>{const t=e.target,{externalInlineImagePreviewEnabled:s}=this.props;if("IMG"===t.nodeName&&t.classList.contains("preview")){let e;if(s){const s=this.inlineImages.filter((({image:{complete:e,naturalWidth:t}})=>e&&t));this._convertInlineImageAttchments(s),this.inlineImages.filter((({image:e})=>!e.complete)).forEach((e=>e.image.addEventListener("load",(()=>this._convertInlineImageAttchments([e]))))),e=t.dataset.attachmentId}else e=(0,A.zM)(t&&t.src);e&&this.handleInlineImagePreview(e)}})),Xe(this,"_processInlineImages",(()=>{const{fixImgSrcURL:e,groupId:t,messageId:s,multipleCardsInGroup:a,logVisibilityStat:n,externalInlineImagePreviewEnabled:r}=this.props;this.inlineImages=(0,A.uj)({component:this,element:this.messageBody,shouldFixSrcURL:e,onDownload:this.handleInlineImageDownload,downloadTitle:this.context.intl.formatMessage(Je.download),logVisibilityStat:e=>n({groupId:t,messageId:s,...e,multipleCardsInGroup:a}),msgId:s,externalInlineImagePreviewEnabled:r})})),Xe(this,"toggleQuote",(e=>{e.preventDefault(),e.stopPropagation();const{quoteExpanded:t}=this.state,{onShowQuotedText:s,isSecure:a,hasFullBody:n}=this.props;return t||n||s({full:!0,secure:a}),this.setState({quoteExpanded:!t}),!1})),Xe(this,"renderBodyContent",((e,t="")=>{const{onHrefLinkClick:s,onMailtoClick:a,decos:n}=this.props;return r.createElement(b,{className:t,dangerouslySetInnerHTML:{__html:e},onHrefLinkClick:s,onMailtoClick:a,attachments:this.props.attachments,decos:n})})),Xe(this,"_areImagesBlocked",(({htmlAnnotations:e=[]})=>e.some((({type:e})=>"blocked"===e)))),Xe(this,"onLinkEnhancerUtilsLoad",(({enhanceCardsInTree:e})=>{this.enhanceCardsInTree=e,this.enhanceCards()})),Xe(this,"enhanceCards",(()=>{const{onShareCard:e,onShareCardLinkClick:t,videoPlayerEnabled:s}=this.props,{formatMessage:a}=this.context.intl;return!!this.enhanceCardsInTree&&(this.enhanceCardsInTree({tree:this.messageBody,component:this,onShareCard:e,onShareCardLinkClick:t,formatMessage:a,videoPlayerEnabled:s}),!0)})),Xe(this,"handleSpam",(e=>{const{messageId:t,moveToSpam:s,spamReason:a,deleteContact:n,contactId:r,removeSpamSchema:o,showSpamIndicator:i}=this.props,l=i?{mKey:ze.JE.SPAM_INDICATOR_SPAM,sec:ze.nJ.SPAM_INDICATOR,actionData:{spamReason:a}}:{mKey:ze.JE.PHISHING_BANNER_SPAM,sec:ze.nJ.PHISHING_BANNER};s({messageIds:[t],triageActionType:k.Ewo.SPAM_SELECTED_ITEMS,i13nModel:{...l,mKeyGroup:ze.rO.markSpam,interactionType:(0,C.getInteractionFromEvent)(e)}}),i&&a===k.DBG.SenderInUserAddressBook&&(n({streamItem:{id:r,streamId:(0,je.uh)(k.ukn.USER_CREATED_CONTACTS,"")}}),o({messageId:t,spamReasonToRemove:a}))})),Xe(this,"handleNotSpam",(e=>{const{messageId:t,removePhishingDeco:s,isSpamFolder:a,moveToInbox:n,removeSpamSchema:r,showPhishingBanner:o,showSpamIndicator:i,spamReason:l}=this.props;o&&s({messageId:t,i13nModel:{mKey:ze.JE.PHISHING_BANNER_NOT_SPAM,sec:ze.nJ.PHISHING_BANNER,mKeyGroup:ze.rO.markUnspam,interactionType:(0,C.getInteractionFromEvent)(e)}}),i&&(r({messageId:t,spamReasonToRemove:l}),Qe.ZP.sendI13nModel({i13nModel:{mKey:ze.JE.SPAM_INDICATOR_NOT_SPAM,sec:ze.nJ.SPAM_INDICATOR,interactionType:(0,C.getInteractionFromEvent)(e),actionData:{spamReason:l}}}),l===k.DBG.SenderInUserAddressBook&&n({messageIds:[t],isAffected:!0,isHamMove:!0})),a&&n({messageIds:[t],triageActionType:k.Ewo.NOT_SPAM_SELECTED_ITEMS})})),Xe(this,"handlePhishingBannerMount",(()=>{const{phishingBannerMounted:e,showPhishingBanner:t,spamReason:s}=this.props;e({i13nModel:t?{mKey:ze.JE.PHISHING_BANNER_SHOWN,sec:ze.nJ.PHISHING_BANNER}:{mKey:ze.JE.SPAM_INDICATOR_SHOWN,sec:ze.nJ.SPAM_INDICATOR,actionData:{spamReason:s}}})}))}componentDidMount(){this.setState({mounted:!0}),this.props.isSpamFolder&&this.messageBody&&(0,We.pP)(this.messageBody),this.messageBody&&(this._processInlineImages(),this.messageBody.addEventListener("click",this._onPreviewHandler))}componentWillUnmount(){this.messageBody&&this.messageBody.removeEventListener("click",this._onPreviewHandler)}componentDidUpdate(e,t){const s=this.props.body.html!==e.body.html;(s||this.state.quoteExpanded!==t.quoteExpanded)&&this.enhanceCards(),s&&this.props.isSpamFolder&&this.messageBody&&(0,We.pP)(this.messageBody),(s||!t.quoteExpanded&&this.state.quoteExpanded)&&this._processInlineImages()}render(){const{quoteExpanded:e}=this.state,{onShowImages:t,onChangeImageSetting:a,renderAttachments:n,removeCollapseButton:o,body:i,hasFullBody:l,isSpamFolder:c,showPhishingBanner:_,showSpamIndicator:S,printView:p,messageId:C,ampEnabled:A,spamReason:T}=this.props,h=pe()(Ke(),{printView:p}),g=!!this.props.linkEnhancerEnabled,I=(0,d.EL)(i.html,i.htmlAnnotations,e);let{messageBelow:R}=I;const{messageAbove:O,expandable:D}=I,N=this.context.intl.formatMessage(e?Je.hideQuote:Je.showQuote),f=h.leftRightPadding;!l&&e&&(R=$e);const M=this._areImagesBlocked(i),L=A&&(null==i?void 0:i.amp);return r.createElement("div",{"data-test-id":"message-view-body",className:h.messageViewBody},r.createElement("div",{className:h.blockedImageBanner},r.createElement(be,{messageId:C,isSpamFolder:c,hasBlockedImages:M,onChangeImageSetting:a,onShowImages:t.bind(null,{secure:!1,full:l})})),(_||S)&&r.createElement("div",{className:h.phishingBanner},r.createElement(Ve,{onMount:this.handlePhishingBannerMount,onMarkAsSpam:this.handleSpam,onMarkAsNotSpam:this.handleNotSpam,isSpamFolder:c,showSpamIndicator:S,spamReason:T})),r.createElement("div",{ref:e=>this.messageBody=e,className:"msg-body "+h.bodyContainer,"data-test-id":"message-view-body-content"},L?r.createElement(me,{ampHtml:i.amp,messageId:C}):this.renderBodyContent(O,f),!o&&D&&r.createElement("div",{className:f},r.createElement(u.default,{"data-norrin-quoted-button":!0,className:h.button,kind:m.Kinds.CHEVRON_UP,size:m.Sizes.XS,rotate:e?m.Rotate.D180:m.Rotate.D90,colorState:m.ColorStates.DISABLED,title:N,onClick:this.toggleQuote},N)),""!==R&&!L&&r.createElement("div",{className:f},this.renderBodyContent(R))),n?r.createElement("div",{className:f},n()):null,g?r.createElement(E.cr,{import:"../../../platform/link_enhancer/utils_loader",onLoad:this.onLinkEnhancerUtilsLoad,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,63678))},_moduleResolver:function(){return 63678}}):null)}}Xe(et,"contextTypes",{intl:l.intlShape.isRequired,navigateTo:n().func}),Xe(et,"defaultProps",{onShowImages:C.NOOP,onShowQuotedText:C.NOOP,onChangeImageSetting:C.NOOP,downloadAttachment:C.NOOP,logVisibilityStat:C.NOOP,deleteContact:C.NOOP});const tt=(0,c.connect)(((e,t)=>{var s;const{doesComposeSessionExist:a,doesMessageBodyExist:n,findUnsyncedDataByCsid:r,getContactListSelectors:o,getFeaturesSelectors:i,getFoldersSelectors:l,getMessageBodiesSelectors:c,getMessageIdsFromMessageGroupId:d,getMessagesSelectors:E,getRoute:_,getSetting:u,isSendRequested:m}=(0,G.selectors)(e);let S;const p=_(),{csid:C,folderId:A,messageId:T,groupId:h}=t,{isSpamFolder:g}=l(),{isEnabled:I}=i(),{doesMessageIdExist:R,hasPhishingDeco:O,getFromAddresses:D,getDecos:N,getSpamReason:f}=E(),M=c(),L=I(k.ANe.CONVERSATIONS),P=I(k.ANe.FIX_IMG_SRC),y=!L||M.hasFullBody(T),b=M.isSecureMessage(T),F=I("linkEnhancer"),U=d(h).length>1,v=p.query.messagePreview||u(k.Zrf.PREVIEW_PANE)!==k.EsZ.NO,w=u(k.Zrf.AMP_EMAIL),H=I(k.ANe.EXTERNAL_INLINE_IMAGE_PREVIEW),B=I(k.ANe.VIDEO_PLAYER_IN_ENHANCED_CARD),x=I(k.ANe.SPAM_INDICATOR),{getContactByEmail:V,getContactIdByEmail:W,isUserAddedContact:Z}=o(),K=R(T)&&D(T),z=(null==K||null===(s=K[0])||void 0===s?void 0:s.email)||"",q=V(z),Y=N(T),j=W(z),Q=g(A),X=x&&f(T,Q)||"",J=O(T)&&!U,$=x&&!J&&!U&&!!k.DBG[X]&&(X===k.DBG.SenderInUserAddressBook&&!Q&&Z(j)||X!==k.DBG.SenderInUserAddressBook&&Q);if(C&&a(C)&&m(C)){const{html:e,htmlAnnotations:t}=r(C)||{};S={html:e,htmlAnnotations:t}}else S=n(T)?M.get(T):{};return{body:S,isSecure:b,ampEnabled:w,hasFullBody:y,fixImgSrcURL:P,linkEnhancerEnabled:F,multipleCardsInGroup:U,isMessageInPreviewPane:v,isSpamFolder:Q,showPhishingBanner:J,showSpamIndicator:$,externalInlineImagePreviewEnabled:H,videoPlayerEnabled:B,decos:Y,sender:z,isBusiness:null==q?void 0:q.isBusiness,spamReason:X,contactId:j}}),(e=>({phishingBannerMounted:t=>e((0,S.OA)(t)),removePhishingDeco:t=>e((0,S.lK)(t)),moveToSpam:t=>e((0,p.Ke)(t)),downloadAttachment:t=>e((0,qe.Ve)(t)),moveToInbox:t=>e((0,p.x0)(t)),createInlineImageAttchments:t=>e((0,qe.ok)(t)),deleteContact:t=>e((0,Ye.GK)(t)),removeSpamSchema:t=>e((0,S.Tw)(t))})))(et)},61330:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>J});var a=s(45697),n=s.n(a),r=s(67294),o=s(92743),i=s(99095),l=(s(31280),s(28211)),c=s(9333),d=s(34866),E=s(19341),_=s(33364);function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const m=s(67294),S=s(66406),p=s(76223),C=(0,i.defineMessages)({and_x_more_recipients:{id:"address.field.and_x_more_recipients",defaultMessage:"and {numNonVisibleAddresses} more..."},hide_recipients:{id:"address.field.hide_recipients",defaultMessage:"Hide"}});class A extends m.Component{constructor(...e){super(...e),u(this,"state",{opened:!1}),u(this,"handleToggle",(e=>{e.preventDefault(),e.stopPropagation(),this.setState({opened:!this.state.opened})}))}render(){const e=p(S),{addresses:t,popoverZIndex:s}=this.props,{formatMessage:a}=this.context.intl,n=this.state.opened?t.length:5;var r=[m.createElement("span",{key:"label-"+this.props.label,className:e.label},this.props.label)];if(t.slice(0,n).forEach((({name:t,email:a},n,o)=>{r.push(m.createElement(_.default,{key:a,isCompose:!1,email:a,name:t,popoverZIndex:s},m.createElement("span",{className:e.email,key:n,title:a,"data-test-id":"message-to"},t||a))),n<o.length-1&&r.push(m.createElement("span",{key:n+"-sep",className:e.separator},","))})),t.length>n){const s=t.length-5;r.push(m.createElement("button",{key:"and-more","data-test-id":"and-more",onClick:this.handleToggle,className:e.button},a(C.and_x_more_recipients,{numNonVisibleAddresses:s})))}else this.state.opened&&r.push(m.createElement("button",{key:"and-more-hide","data-test-id":"and-more-hide",onClick:this.handleToggle,className:e.button},a(C.hide_recipients)));return m.createElement("div",{className:e.container},r)}}u(A,"contextTypes",{intl:i.intlShape});const T=A;var h=s(81660),g=s(76223),I=s.n(g),R=s(58014),O=s.n(R),D=s(85927),N=s(37422),f=s(10728),M=s(68949),L=s(8106),P=s(45481),y=s(92559),b=s(95406),F=s(17016),U=s(76531),v=s(78263),w=s(87771),G=s(20292),k=s(79483),H=s(46229),B=s(18091),x=s(43007),V=s(30198),W=s.n(V),Z=s(94070),K=s(83034);n().bool,n().bool;const z=({isCertifiedDomain:e,isOfficialDomain:t})=>{const{yahooBrandNameString:s}=(0,Z.B)(),a=(0,K.Z)(W());if(!e&&!t)return null;const n=e?N.CUo:N.n_g;return r.createElement("div",{className:a.banner},r.createElement("div",{className:a.badgeBar},r.createElement("span",{className:a.badge},e?r.createElement(x.Z,{kind:U.Kinds.TRUSTED,size:U.Sizes.XXS,colorState:U.ColorStates.SUCCESS}):r.createElement(x.Z,{kind:U.Kinds.AOL_OFFICIAL,size:U.Sizes.XXS,colorState:U.ColorStates.DARK})),r.createElement(i.FormattedMessage,{id:"mail_banner.label",defaultMessage:"{yahooBrandNameString} {isCertifiedDomain, select, true {Certified} other {Official}} Mail",values:{isCertifiedDomain:e,yahooBrandNameString:s}})),r.createElement("span",{className:a.bannerDescription},r.createElement(i.FormattedMessage,{id:"mail_banner.description",defaultMessage:"This is {isCertifiedDomain, select,  true {a certified email} other {an official email from {yahooBrandNameString}}}. {learnMoreLink}",values:{learnMoreLink:r.createElement("a",{className:a.link,href:n,onKeyDown:e=>e.key===N.R8U.ENTER&&e.stopPropagation(),target:"_blank"},r.createElement(i.FormattedMessage,{id:"mail_banner.learn_more",defaultMessage:"Learn more"})),isCertifiedDomain:e,yahooBrandNameString:s}})))};function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Y(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const j=()=>{},Q=(0,i.defineMessages)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},message_to:{id:"message_to",defaultMessage:"To:"},message_cc:{id:"message_cc",defaultMessage:"Cc:"},message_bcc:{id:"message_bcc",defaultMessage:"Bcc:"},message_header_count_label:{id:"message_header_count_label",defaultMessage:"Message {idx} of {totalMessages}"},message_header_label:{id:"message_header_label",defaultMessage:"Message"},message_has_attachment:{id:"message_has_attachment",defaultMessage:"Message has {attachmentCount, plural, =1 {an attachment} other {attachments}}"},header_print_message:{id:"header_print_message",defaultMessage:"Print"},sponsoredByViglinkMessageRead:{id:"viglink.sponsored_by_viglink_message_read",defaultMessage:"Sponsored link by Viglink"}});class X extends r.Component{constructor(e){super(e),Y(this,"handleStarClick",(e=>{e.stopPropagation();const t={interactionType:(0,F.getInteractionFromEvent)(e)};this.props.onToggleStar({i13nModel:t})})),Y(this,"handlePrintClick",(e=>{e.stopPropagation(),this.props.onPrint(e)})),Y(this,"handleAttachmentClick",(e=>{this.props.expanded&&(e.stopPropagation(),this.props.onAttachmentClick(e))})),Y(this,"handleReadClick",(e=>{e.stopPropagation();const t={interactionType:(0,F.getInteractionFromEvent)(e)};this.props.onToggleRead({i13nModel:t})})),Y(this,"handleKeyDown",(e=>{switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),this.props.onToggleExpand();break;default:return}})),Y(this,"renderPrintButton",(()=>{const{formatMessage:e}=this.context.intl,t=I()(O());return this.props.expanded&&this.props.onPrint?r.createElement("div",{className:t.print},r.createElement(c.default,{kind:U.Kinds.PRINTER,size:U.Sizes.XS,title:e(Q.header_print_message),ariaLabel:e(Q.header_print_message),colorState:U.ColorStates.INHERITED,onClick:this.handlePrintClick,paddingLess:!0})):null})),Y(this,"renderAttachmentIcon",(()=>{const{formatMessage:e}=this.context.intl,{expanded:t,message:{attachments:s=[]}}=this.props,a=I()(O(),{expanded:t}),n=s.filter((({disposition:e})=>e!==N.sSc.Dispositions.INLINE)).length;return n>0?r.createElement("div",{className:a.attachment},r.createElement(c.default,{kind:U.Kinds.ATTACHMENT,size:U.Sizes.XS,title:e(Q.message_has_attachment,{attachmentCount:n}),ariaLabel:e(Q.message_has_attachment,{attachmentCount:n}),onClick:this.handleAttachmentClick,paddingLess:!0,colorState:U.ColorStates.DISABLED})):null})),Y(this,"handleToggleExpand",(e=>{this.addressInfoContainer.contains(e.target)?(e.preventDefault(),e.stopPropagation(),this.props.expanded||this.props.onToggleExpand()):this.props.onToggleExpand()})),Y(this,"burstOnClick",((e,t)=>{this.handleStarClick(e),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout((()=>{this.setState({shouldBurst:!1})}),this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))})),Y(this,"_affiliateI13nModel",((e,t,s)=>{const{contactLink:a,message:n,inboxCommerceFeatureClicked:r}=this.props,{from:o=[]}=n.headers,i=o[0]&&o[0].email,l={xpname:N.pdX.MESSAGE_HEADER,msgId:n.id||"",sndr:i,brandurl:a,affiliatePartner:t,featurefamily:N.lMo.IC};e===y.JE.CARD_INTERACT&&(l.interactiontype=y.Rb.click,l.interacteditem=s,r({clicked:!0})),k.ZP.sendI13nModel({i13nModel:{mKey:e,sec:y.nJ.MSG_BODY,actionData:l}})})),Y(this,"handleFromFieldDoubleClick",(e=>{e.preventDefault(),window.clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null})),Y(this,"handleFromFieldClick",((e,t,s)=>{const{isAffiliatePartnerEnabled:a,contactLink:n}=this.props;(0,G.th)(this.fromFieldRef)||(e.preventDefault(),null===this.doubleClickTimeout&&(this.doubleClickTimeout=window.setTimeout((()=>{this.doubleClickTimeout=null,a&&this._affiliateI13nModel(y.JE.CARD_INTERACT,t,"name"),window.open(a?s:n,"_blank","noreferrer")}),250)))})),this.fromFieldRef=r.createRef(),this.burstURL=(0,M.A)(e.starAnimation.lightGifURL),(0,L.XM)(this.burstURL),this.state={shouldBurst:!1,flagged:e.message.flags.flagged},this.doubleClickTimeout=null}componentDidMount(){this.props.isAffiliatePartnerEnabled&&this._affiliateI13nModel(y.JE.CARD_VIEW)}componentDidUpdate(e){!e.contact&&this.props.isAffiliatePartnerEnabled&&this._affiliateI13nModel(y.JE.CARD_VIEW)}UNSAFE_componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.message.flags.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.message.flags.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout((()=>{this.setState({shouldBurst:!1})}),e.starAnimation.timeout))}render(){const{formatMessage:e}=this.context.intl,{appId:t,contact:a,contactLink:n,conversations:o,expandable:i,expanded:u,idx:m,isAffiliatePartnerEnabled:S,isOnModal:p,isPhishingMessage:C,isCertifiedDomain:A,isOfficialDomain:g,multipleCardsInGroup:R,message:D,onToggleRead:M,onToggleStar:L,readRef:b,starRef:F,totalMessages:v,locale:G,partner:k}=this.props,{from:B,to:x,cc:V,bcc:W,date:Z}=D.headers,{flagged:K,read:Y}=D.flags,X=(0,h.Wo)(D.snippet,true),J=I()(O(),{expanded:u,expandable:i,flagged:K,highlightPosition:X,isEnhancedMessageIcon:!u}),$=o?Q.message_header_count_label:Q.message_header_label,ee=new Date(1e3*Z),te=p?f.LSY.MODAL:f.LSY.POPOVER.MEDIUM,se=U.ColorStates.INHERITED,ae=n&&a&&a.isBusiness,ne=k===N.Ql2.AOL&&(A||g),{affiliatePartnerName:re,affiliatePartnerUrl:oe}=S?(0,P.sx)({affiliateLink:n,locale:G,partner:k,appId:t}):{affiliatePartnerName:"",affiliatePartnerUrl:""},ie=S?{href:oe||n,target:"_blank",rel:"noreferrer",onClick:()=>this._affiliateI13nModel(y.JE.CARD_INTERACT,re,"logo")}:null,le=u?E.u8.MEDIUM_PLUS:E.u8.M,ce=C&&!R;return r.createElement("div",null,ne&&r.createElement(z,{isOfficialDomain:g,isCertifiedDomain:A}),r.createElement("header",{className:J.header,onClick:i?this.handleToggleExpand:null,onKeyDown:i?this.handleKeyDown:null,"aria-label":e($,{idx:m+1,totalMessages:v})},r.createElement("span",{className:J.avatar},ce?r.createElement(H.Z,{src:"/img/suspicious.svg",width:le.imageSize,height:le.imageSize,"data-test-id":"suspicious-avatar"}):r.createElement("a",q({},ie,{"data-test-id":"sender-logo"}),r.createElement(E.ZP,{contact:{email:B[0]&&B[0].email},size:le}))),M?r.createElement("div",{className:J.readUnread,ref:b},r.createElement(c.default,{"data-test-id":"icon-btn-read",title:e(Q[Y?"mark_as_unread":"mark_as_read"]),"aria-label":e(Q[Y?"message_is_read":"message_is_not_read"]),"aria-pressed":!Y,kind:U.Kinds.CIRCLE,colorState:Y?U.ColorStates.FAINT:U.ColorStates.SELECTED,size:U.Sizes.XS,onClick:this.handleReadClick,paddingLess:!0})):null,r.createElement("div",{className:J.flexVertical,ref:e=>this.addressInfoContainer=e,"data-test-id":"address-info"},r.createElement("div",{className:J.fromRow,onClick:ae?e=>this.handleFromFieldClick(e,re,oe):j,onDoubleClick:ae?this.handleFromFieldDoubleClick:j,ref:this.fromFieldRef},r.createElement("span",{"data-test-id":"message-from",className:J.fromField},B[0]?r.createElement(_.default,{isCompose:!1,email:B[0].email,name:B[0].name,popoverZIndex:te},B[0]&&B[0].name?r.createElement("span",null,B[0].name,u&&r.createElement("span",{className:J.fromEmail}," <",B[0].email,">")):B[0].email):null),r.createElement(w.cr,{defer:!0,import:"./unsubscribe_button",message:D,cardExpanded:u,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,47514))},_moduleResolver:function(){return 47514}})),!u&&r.createElement("div",{className:J.snippetContainer,"data-test-id":"snippet"},r.createElement("div",{className:J.snippet},(0,h.GQ)(D.snippet,true,J.highlightedTerm))),!u&&r.createElement(d.Z,null),u&&x.length>0&&r.createElement(T,{label:e(Q.message_to),addresses:x,popoverZIndex:te}),u&&V.length>0&&r.createElement(T,{label:e(Q.message_cc),addresses:V,popoverZIndex:te}),u&&W.length>0&&r.createElement(T,{label:e(Q.message_bcc),addresses:W,popoverZIndex:te})),u&&r.createElement(d.Z,null),this.renderPrintButton(),this.renderAttachmentIcon(),r.createElement("div",{className:J.date,"data-test-id":"message-date"},r.createElement(l.ZP,{date:ee,long:!0,weekday:"short"})),L?r.createElement("div",{className:J.star,ref:F},this.state.shouldBurst?r.createElement("img",{title:e(Q[K?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-pressed":K,src:this.burstURL,style:{height:"24px",width:"24px"}}):r.createElement(c.default,{title:e(Q[K?"mark_as_unstarred":"mark_as_starred"]),"aria-label":e(Q[K?"message_is_starred":"message_is_not_starred"]),"aria-pressed":K,kind:U.Kinds.STAR,size:U.Sizes.S,colorState:K?U.ColorStates.STARRED:se,onClick:e=>{this.burstOnClick(e,K)},paddingLess:!0})):null))}}Y(X,"contextTypes",{config:n().object.isRequired,intl:i.intlShape.isRequired});const J=(0,o.connect)(((e,t)=>{const s=(0,D.selectors)(e),{getRoute:a,getEnvironmentSelectors:n,__patchV2MessageId__:r,getMainStreamListIds:o,getMessagesSelectors:i,getMessageIdsFromMessageGroupId:l,getContactListSelectors:c,isFeatureEnabled:d,getSetting:E}=s,{getContactByEmail:_}=c(),{getLoggerParams:u,getPartner:m,getAppId:S}=n(),{listId:p,message:C,groupId:A}=t,T=C.id,h=(0,b.u9)(t,"message.headers.from.0.email",""),{hasPhishingDeco:g,isCertifiedDomain:I,isOfficialDomain:R}=i(),O=E(N.Zrf.STAR_ANIMATION),f=_(h)||void 0,M=f&&f.website,L=l(A).length>1;return T?{contact:f,contactLink:M,isPhishingMessage:g(T),isCertifiedDomain:I(T),isOfficialDomain:R(T),multipleCardsInGroup:L,isAffiliatePartnerEnabled:f&&f.isBusiness&&f.website&&d(N.ANe.AFFILIATE_PARTNER),message:r(T,p),appId:S(),locale:u().locale,partner:m(),starAnimation:O,streamId:(0,v.BA)(o(a()))}:{message:C,starAnimation:O}}),(e=>({inboxCommerceFeatureClicked:t=>e((0,B.c5)(t))})))(X)},66406:e=>{"use strict";e.exports={className:{default:{container:"d_6FIA i_6FIA D_F eo_HB",email:"C4_Z2aVTcY",separator:"E_fq7",label:"u_b E_eo6 C_Z1TsNbA",button:"Q_eo6 P_3gIMd e_dRA I4_Z2aVTcY C4_52qC r_P y_Z2hYGcu A_6EqO b_0 I_T"}},_key:"ZfAtdy"}},50512:e=>{"use strict";e.exports={className:{default:{container:"D_Z1YJkyX ab_C A_6EqO k_w H_A e_dRA b_Z14vXdP Q_6MGW U_6Eb4 P_ZGAhPT a_3Mlf4",message:"P_0 D_I M_ZmsKgw",button:"C_Z2aVTcY M_3gJOe",buttonsContent:"J_x D_Z1YJkyX ab_CI",primaryButton:"r_P C_Z2aVTcY"}},_key:"Z2hSUXN"}},53185:e=>{"use strict";e.exports={className:{default:{leftRightPadding:"jb_0 X_6MGW N_6Fd5",phishingBanner:"M_b1s39",blockedImageBanner:"X_6MGW",bodyContainer:"P_wpofO mq_AS",sponsoredMessageContainer:"I_52qC",flexVertical:"D_F ek_BB",emptyBody:"A_6FsP P_CT2KF D_F ek_EZ gl_C ab_C",emptyBodyRetry:"r_P C_Z2aVTcY",emptyBodyMessage:"em_0 Q_fq7 E_fq7",button:"A_6DUj C_Z1VRqsb Q_36Jhx",textContainer:"J_EN",messageViewBody:"I_52qC D_FY W_6D6F"},printView:{bodyContainer:"P_0 iy_q",leftRightPadding:"jb_0 X_6MGW N_6MGW"}},_key:"zheSs"}},58014:e=>{"use strict";e.exports={className:{default:{header:"r_P D_F W_6D6F p_R P_3Y3Gk ir_0",fromField:"u_b en_0 C4_Z2aVTcY",fromEmail:"u_N C_Z1VRqsb",snippet:"J_x o_h C_Z1VRqsb",snippetContainer:"J_x o_h G_e Q_fq7",fromRow:"D_F en_0",avatar:"en_0 i_0 Q_fq7",draftLink:"C_Z2aVTcY u_b",popupDraft:"C_Z281SGl Q_fq7",popupDraftFrom:"en_0 D_F ab_C",popupDraftAvatar:"en_0 i_0 Q_6Eb4",date:"D_F en_0 M_3gJOe A_6Eb4 C_Z1VRqsb",composeFormatContainer:"X_fq7",readUnread:"D_F ac_FT ab_CI en_0",star:"D_F ab_CI Y_689y en_0",attachment:"D_F en_0 s_6LEV H_6LEV M_Ue8I8",print:"en_0 s_6Fd5 H_6Fd5 M_3gJOe cdPFi_Z281SGl O_cMr O4_cMu",flexVertical:"o_h D_F em_N E_fq7",highlightedTerm:"I_2ieea9 D_X P_3zDxc"},"expandable-false":{header:"r_BN"},"expanded-false":{flexVertical:"ab_C",readUnread:"ab_C",date:"ab_C",attachment:"ab_C",star:"ab_C Y_e8l cdPFi_ZpQYvz H_6MGW W_6MGW lv_1IWXzk h_Z13pql2 h4_2d9T5e"},expanded:{header:"P_Zjgzuf",flexVertical:"ek_BB em_0",star:"Y_68F4 cdPFi_ZpQYvz H_6MGW W_6MGW lv_1IWXzk h_Z13pql2 h4_2d9T5e"},isEnhancedMessageIcon:{avatar:"Q_6Eb4 E_eo6"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"}},_key:"2eJD7s"}},30198:e=>{"use strict";e.exports={className:{default:{banner:"W_6D6F H_73HH q_ZnMIOa Q_69H5 P_1LTIhK D_F ab_C",badgeBar:"q_ZpQYvz P_fq7 D_F i_6Eb4 ab_C",badge:"E_eo6",bannerDescription:"Q_eTB",link:"C_Z2aVTcY"}},_key:"1wFXoo"}},29045:e=>{"use strict";e.exports={className:{default:{messageCardContainer:"p_R b_efTvb I_52qC em_N it_689y X_fq7 N_6LEV iu_FJ is_Z2bg7IA iv_0 iv3_dRA cZdTOHS_28Otf4",toolbarHoverArea:"H_7jIs D_F ab_C Q_69H5 E_36RhU"},active:{messageCardContainer:"b_2w4lU5 p_R j_ZlOSbd"}},_key:"22oQvh"}},77301:e=>{"use strict";e.exports={className:{default:{popoverContainer:"D_F cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",separator:"m_Z14vXdP M_3HLUz",popoverContent:"P_3Y3Gk"}},_key:"Z1dF06J"}},24402:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_CI A_6EqO k_w e_dRA P_6Eb4 I_Z9gXev",content:"em_N ek_BB Q_fq7 E_fq7",title:"u_e69",message:"Y_eo6",buttons:"D_F H_6TFj Y_6Eb4",reportButton:"I_T D_F ab_C M_1Bs8Qs",safeButton:"I_T D_F ab_C",notSpamButton:"I_T D_F ab_C l_Z281SGl C_Z281SGl"}},_key:"1KuW1q"}},25060:e=>{"use strict";e.exports={className:{default:{wrapper:"D_F W_6D6F r_BN gl_C",container:"D_F ab_C en_0 b_Z14vXdP e_3mS2U I_52qC P_Z1otBpf",bottomLine:"M_0 P_0 cn_0",label:"X_eo6",toolbarItem:"r_P D_F M_1Eu5U7 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",moreMenuItem:"r_P D_F M_oRiNT",rtlRawScaleX:"rtlR_h_2gl0WC"}},_key:"Z2jp2F9"}},18722:e=>{"use strict";e.exports={className:{default:{container:"W_3Hv38 k_w I_52qC D_F el_QDCVj",header:"M_0 P_Z2bdlcy A_6FsP i_6NIX D_F el_Z1mLfFl ab_1g38K5",heading:"je_6Fd5 em_N H_6NIX D_F ab_C",info:"X_eo6",popoverAnchor:"D_F",tooltip:"W_3qXgC P_6Eb4 cZW7ROP_n",spacing:"P_6Eb4 cZW7ROP_n",popoverContainer:"D_F",close:"M_1r2gWB",title:"X_eTB",content:"P_0",messageContent:"D_F k_w ek_BB H_3rLkT W_3Hv38 P_14vJA9 J_x iz_A iy_h I_ZnsmyK",spinner:"D_F ab_C gl_C em_N",subject:"A_6EWk i_6FIA G_e J_x o_h P_1EmYfa",msgHeader:"P_1DLYDz",snippet:"o_h J_x G_e A_6EqO i_6LEV P_EToGE",attachments:"X_6Eb4",viewMessage:"ab_CH r_P C_Z2aVTcY u_e69",icon:"p_a M_6Fd5",message:"P_ZG0ms9 w_AS ix_AS",controls:"D_F ab_C P_2gGPxM",buttonContainer:"em_N"}},_key:"ZbUnku"}},42397:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>Js});var a=s(45697),n=s.n(a),r=s(67294),o=s(92743),i=s(37422),l=s(62760),c=s(73935),d=s(99095),E=(s(31280),s(10728)),_=s(68003),u=s(9333),m=s(76223),S=s.n(m),p=s(68449),C=s.n(p),A=s(81660),T=s(76531),h=s(42907),g=s(85927),I=s(98217),R=s(86423),O=s(78263),D=s(68949),N=s(8106),f=s(67498),M=s(28182),L=s(78737);function P(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const y=(0,d.defineMessages)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},go_to_people_view:{id:"message_group_header.title.go_to_people_view",defaultMessage:"Navigate to people view"}}),b=S()(C());class F extends r.Component{constructor(e){super(e),P(this,"handleStarClick",(e=>{const{flagged:t}=this.props;e.stopPropagation(),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout((()=>{this.setState({shouldBurst:!1})}),this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout)),this.props.onToggleGroupStar(e)})),P(this,"handleReadClick",(e=>{e.stopPropagation(),this.props.onToggleGroupRead(e)})),P(this,"_navigateToPeopleView",(()=>{this.props.navigateToPeopleView({updatedSettingAttributes:[{name:i.Zrf.SYSTEM_TABS,value:[i.B_Z[i.K8C.PEOPLE]+":1"]}],accountId:this.props.accountId})})),this.burstURL=(0,D.A)(e.starAnimation.lightGifURL),(0,N.XM)(this.burstURL),this.state={shouldBurst:!1,flagged:e.flagged}}UNSAFE_componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout((()=>{this.setState({shouldBurst:!1})}),e.starAnimation.timeout))}render(){const{subject:e,messageCount:t,isRead:s,flagged:a,compactGroupHeader:n,folderName:o,folderType:i,getAccountLabel:l,fromPeopleView:c}=this.props,{formatMessage:m}=this.context.intl,p=S()(C(),{compactGroupHeader:n}),g=(0,h.h5)(m,i)||o,I=l(this.context),R=(I?I+"/":"")+g;return r.createElement(_.Z,{axis:_.U.HORIZONTAL,groupTabIndex:E.iUz.MESSAGE_GROUP_HEADER},r.createElement("header",{"data-test-id":"message-group-header",className:b.groupHeader},r.createElement("div",{className:b.readUnread},r.createElement(u.default,{"data-test-id":"icon-btn-read",title:m(y[s?"mark_as_unread":"mark_as_read"]),"aria-label":m(y[s?"message_is_read":"message_is_not_read"]),"aria-pressed":!s,kind:T.Kinds.CIRCLE,size:T.Sizes.XS,colorState:s?T.ColorStates.FAINT:T.ColorStates.SELECTED,paddingLess:!0,onClick:this.handleReadClick,"data-iskeynav":!0})),r.createElement("div",{className:b.subjectRow},r.createElement("span",{"data-test-id":"message-group-subject",className:b.subject,title:e||""},e?r.createElement("span",{"data-test-id":"message-group-subject-text"},(0,A.IX)(e)):r.createElement("span",null,r.createElement("span",null,"("),r.createElement("span",{className:b.noSubject},r.createElement(d.FormattedMessage,{id:"message.no_subject",defaultMessage:"No Subject"})),r.createElement("span",null,")")),t>1?r.createElement("span",{"data-test-id":"message-group-count",className:b.messageCount},t):null)),r.createElement("div",{className:b.endSideButtonGroup},r.createElement("div",{className:p.messageGroupDestinationRow},c?r.createElement(f.Z,{onClick:this._navigateToPeopleView,title:m(y.go_to_people_view),kind:M.F.PILL,"data-test-id":"btn-people"},r.createElement(d.FormattedMessage,{id:"message_group_header.button.people",defaultMessage:"People"})):r.createElement("span",{className:b.messageGroupDestinationContainer,title:R,"data-test-id":"message-group-destination"},I?r.createElement("span",{className:b.messageGroupDestinationAccount},I):null,I?r.createElement("span",null,"/"):null,o?r.createElement("span",{className:b.messageGroupDestinationFolder},g):null)),r.createElement("div",{className:p.star,title:m(y[a?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-label":m(y[a?"message_is_starred":"message_is_not_starred"]),"aria-pressed":a},this.state.shouldBurst?r.createElement("img",{src:this.burstURL,style:{height:"24px",width:"24px"}}):r.createElement(u.default,{kind:T.Kinds.STAR,size:T.Sizes.S,colorState:a?T.ColorStates.STARRED:T.ColorStates.INHERITED,paddingLess:!0,onClick:this.handleStarClick,"data-iskeynav":!0})))))}}P(F,"contextTypes",{intl:d.intlShape.isRequired,executeAction:n().func}),P(F,"defaultProps",{compactGroupHeader:!1,getAccountLabel:()=>{},fromPeopleView:!1});const U=(e,t)=>s=>{const{formatMessage:a}=s.intl,n={[i.zoT.YAHOO]:a(I.Z.yahoo_account_description),[i.zoT.YAHOO_SB]:a(I.Z.yahoo_account_description),[i.zoT.OUTLOOK]:a(I.Z.outlook_account_description),[i.zoT.AOL]:a(I.Z.aol_account_description),[i.zoT.GOOGLE]:a(I.Z.gmail_account_description),[i.zoT.GOOGLE_APP]:a(I.Z.gmail_account_description)};return e=e||n[t]},v=(0,o.connect)(((e,t)=>{const s=(0,g.selectors)(e),{getFoldersSelectors:a,getAccountSelectors:n,getRelevantMessageIdFromMessageGroupId:r,getMessageIdsFromMessageGroupId:o,getFeaturesSelectors:l,isPeopleMessage:c,getMessageFolderId:d}=s,{getFolderTypes:E,getAccountIdByFolderId:_,getFolderName:u}=a(),{getAccountDescriptionByAccountId:m,getProviderFromAccount:S}=n(),{listId:p,messageGroup:C}=t,A=(0,O.BA)([p]),T=C.id,h=r(T,p),I=o(T),D=I.length,N=d(h),f=u(N),M=E(N)[0],L=_(N),P=S(L),y=m(L),{subject:b,isRead:F,isStarred:v}=(0,R.K)(e,{streamId:A,groupId:T,listId:p,relevantMessageId:h,firstMessageId:I.length?I[0]:null}),w=l().getSetting(i.Zrf.STAR_ANIMATION);return{subject:b,isRead:F,flagged:v,messageCount:D,folderName:f,folderType:M,getAccountLabel:U(y,P),starAnimation:w,accountId:L,fromPeopleView:c(T,p)}}),(e=>({navigateToPeopleView:t=>{e((0,L.Fm)(t))}})))(F);var w=s(60937),G=s(8470),k=s(40918),H=s(87771),B=s(81163),x=s.n(B);function V(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const W=S()(x()),Z=()=>{};class K extends r.Component{constructor(...e){super(...e),V(this,"handleClick",(e=>{e.preventDefault(),e.stopPropagation(),this.props.onReplyAll(e)})),V(this,"handleButtonGroupClick",(e=>{const t=e.target.getAttribute("data-kind");e.preventDefault(),e.stopPropagation(),"text"!==t&&("reply"===t?this.props.onReply(e):"forward"===t?this.props.onForward(e):this.props.onReplyAll(e))}))}render(){const{stationeryRestrictedThemes:e,rtl:t,gif:a,stationery:n,showSmartReplyForLastCard:o,messageGroupId:i,message:l}=this.props;return r.createElement("div",{className:W.container,"data-test-id":"quick-reply",onClick:this.handleClick},r.createElement("div",{"data-test-id":"quick-reply-button-group",className:W.buttonGroup,onClick:this.handleButtonGroupClick},r.createElement(G.Z,{kind:k.F.TOOLBAR,tabIndex:0},r.createElement(d.FormattedHTMLMessage,{id:"reply_replyall_forward",defaultMessage:'<li class="{listItemClass}"><button tabIndex="-1" data-kind="reply" class="{buttonClass}">Reply</button></li><li class="{listItemClass}" data-kind="text">, </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="replyAll" class="{buttonClass}">Reply All</button></li><li class="{listItemClass}" data-kind="text"> or </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="forward" class="{buttonClass}">Forward</button></li>',values:{buttonClass:W.button,listItemClass:W.listItem}}))),o&&r.createElement(H.cr,{defer:!0,import:"../../message_card/atoms/reply_suggestions",messageGroupId:i,message:l,conversations:!0,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,94169))},_moduleResolver:function(){return 94169}}),r.createElement("span",{className:W.toolbar},r.createElement(w.ZP,{formatState:{},onExecuteAction:Z,focusOnEditor:Z,disabled:!0,stationeryEnabled:n,gifFinderEnabled:a,stationeryRestrictedThemes:e,rtl:t})))}}V(K,"contextTypes",{config:n().object,intl:d.intlShape.isRequired,executeAction:n().func.isRequired});const z=K;var q=s(33954),Y=s(98901),j=s(30982),Q=s(40564),X=s(14196),J=s(549),$=s(42747),ee=s.n($),te=s(54418),se=s(34656);let ae;function ne(e,{id:t,renderToTheSide:s,appendNode:a,referenceNode:n={},clearTooltipOn:o={}},l){ae&&c.unmountComponentAtNode(ae),ae=document.createElement("div"),a.appendChild(ae);const E=(0,se.z)(function(e,t){class s extends r.Component{constructor(e){super(e),this.state={reStyle:{}}}componentWillUnmount(){const{clearTooltipOn:{scroll:e,click:t,keydown:s}}=this.props;e&&e.removeEventListener("scroll",this.clear),t&&t.removeEventListener("click",this.clear),s&&s.removeEventListener("keydown",this.clear),this.clear()}clear(){clearTimeout(this.timeout),t&&(c.unmountComponentAtNode(t),t=null)}componentDidMount(){this.timeout=setTimeout((()=>{this.clear()}),3e3),this.reStyle();const{clearTooltipOn:{scroll:e,click:t,keydown:s}}=this.props;e&&e.addEventListener("scroll",this.clear),t&&t.addEventListener("click",this.clear),s&&s.addEventListener("keydown",this.clear)}reStyle(){if(this.tooltipChildRef&&this.tooltipChildRef.getBoundingClientRect){const{height:e}=this.tooltipChildRef.getBoundingClientRect(),{style:t={}}=this.props;"number"==typeof t.top&&e>26&&this.setState({reStyle:{top:t.top-10*(Math.ceil(e/26)-1)}})}}render(){const{reStyle:t}=this.state,{style:s,renderToTheSide:a}=this.props,n=S()(ee(),{left:a===i.DU2.LEFT,right:a===i.DU2.RIGHT}),o=Object.assign({},s,t),l=r.cloneElement(e,{childRef:(e=>this.tooltipChildRef=e).bind(this)});return r.createElement("div",{className:n.tooltip,title:"",style:o},l)}}return s.contextTypes={intl:d.intlShape.isRequired},s}(e,ae));let _={};const{parent:u,child:m,positionCalculator:p,expanded:C}=n;p&&(_=p(u,m,(0,te._)(l.config,"rtl"),C)),c.render(r.createElement(d.IntlProvider,window.AppIntl,r.createElement(E,{key:t,renderToTheSide:s,style:_,context:l,clearTooltipOn:o})),ae)}class re extends r.Component{render(){return r.createElement("div",{ref:this.props.childRef},r.createElement(d.FormattedMessage,{id:"mark_as_read_shortcut_changed",defaultMessage:'Shortcut to "Mark as Read" has changed to SHIFT+K'}))}}var oe,ie,le;oe=re,ie="contextTypes",le={intl:d.intlShape.isRequired},ie in oe?Object.defineProperty(oe,ie,{value:le,enumerable:!0,configurable:!0,writable:!0}):oe[ie]=le;const ce=re;class de extends r.Component{render(){return r.createElement("div",{ref:this.props.childRef},r.createElement(d.FormattedMessage,{id:"mark_as_unstar_shortcut_changed",defaultMessage:"Shortcut to unstar has changed to SHIFT+L"}))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(de,"contextTypes",{intl:d.intlShape.isRequired});const Ee=de;var _e=s(92559),ue=s(17016),me=s(3405),Se=s(80981),pe=s(13957),Ce=s(52997),Ae=s(53185),Te=s.n(Ae),he=s(43007);const ge=S()(Te());function Ie({onRetry:e,disableRetry:t,isOnline:s}){return s?r.createElement("div",{"data-test-id":"message-view-error",className:ge.emptyBody},r.createElement("span",{style:{flexGrow:1}}),r.createElement(he.Z,{kind:T.Kinds.EXCLAMATION_ALT,size:T.Sizes.S,colorState:T.ColorStates.WARNING_GRAD_RED}),r.createElement("span",{className:ge.emptyBodyMessage},r.createElement(d.FormattedMessage,{id:"message.error_message",defaultMessage:"We couldn't load this message. {retry}",values:{retry:t?r.createElement(d.FormattedMessage,{id:"message.retry_later_message",defaultMessage:"Please try again later."}):r.createElement("a",{className:ge.emptyBodyRetry,onClick:e,"data-test-id":"body-error-retry"},r.createElement(d.FormattedMessage,{id:"message.retry_message",defaultMessage:"Retry"}))}})),r.createElement("span",{style:{flexGrow:1}})):r.createElement("div",{"data-test-id":"message-view-error",className:ge.emptyBody},r.createElement("span",{style:{flexGrow:1}}),r.createElement(he.Z,{kind:T.Kinds.EXCLAMATION_ALT,size:T.Sizes.S,colorState:T.ColorStates.WARNING_GRAD_RED}),r.createElement("span",{className:ge.emptyBodyMessage},r.createElement(d.FormattedMessage,{id:"message.offline_error_message",defaultMessage:"You are offline"})),r.createElement("span",{style:{flexGrow:1}}))}var Re=s(26);const Oe=S()(Te());class De extends r.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"state",{takesLong:!1})}componentDidMount(){this.timeout=setTimeout(function(){this.setState({takesLong:!0})}.bind(this),1e3)}componentWillUnmount(){clearTimeout(this.timeout)}render(){return r.createElement("div",{className:Oe.loadingContainer},this.state.takesLong&&r.createElement(Re.Z,null))}}const Ne=De;var fe=s(61330),Me=s(94482),Le=s(77078),Pe=s(34866),ye=s(11160),be=s(31509),Fe=s(18030),Ue=s(77301),ve=s.n(Ue),we=s(65304);function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const ke=S()(ve()),He=(0,d.defineMessages)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class Be extends r.Component{render(){const{formatMessage:e}=this.context.intl;return r.createElement(ye.Z,{className:ke.popoverContainer},r.createElement(be.Z,null,r.createElement(u.default,{kind:T.Kinds.MORE,size:T.Sizes.XS,title:e(He.more_menu_label),"aria-label":e(He.more_menu_label),colorState:T.ColorStates.INHERITED,paddingLess:!0,"data-test-id":"more-card-trigger"})),r.createElement(Fe.ZP,{triggerOn:we.K2.CLICK,onMouseEnter:this.props.onMoreMenuEnter,onMouseLeave:this.props.onMoreMenuLeave,permittedArrowDirections:[we.Ji.DOWN],align:we.xM.START,offset:16,"data-test-id":"more-card-menu"},r.createElement(H.cr,Ge({import:"./more_menu_items"},this.props,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,13610))},_moduleResolver:function(){return 13610}}),r.createElement(H.nA,{loading:!0},r.createElement(Re.Z,null)))))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(Be,"contextTypes",{executeAction:n().func,intl:d.intlShape.isRequired});const xe=Be;var Ve=s(25060),We=s.n(Ve);function Ze(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ke=S()(We()),ze=(0,d.defineMessages)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class qe extends r.Component{render(){const{intl:e}=this.context,{formatMessage:t}=e,{onReply:s,onReplyAll:a,onForward:n,onArchive:o,onDelete:i,onBlockSenders:l,onPrint:c,onRawMessage:d,forwardEnabled:E,replyEnabled:_,replyAllEnabled:m,message:S,onRead:p,onUnread:C,onStar:A,onUnstar:h}=this.props;return r.createElement("div",{className:Ke.wrapper,"data-test-id":"card-toolbar"},r.createElement(Pe.Z,null),r.createElement("div",{className:Ke.container},r.createElement(G.Z,{kind:k.F.TOOLBAR,tabIndex:0},r.createElement(Me.Z,{kind:Le.F.TOOLBAR_ITEM},r.createElement("span",{className:Ke.toolbarItem+" "+Ke.rtlRawScaleX},r.createElement(u.default,{"data-test-id":"card-toolbar-button-reply",kind:T.Kinds.REPLY,size:T.Sizes.XS,title:t(ze.message_reply),"aria-label":t(ze.message_reply),colorState:T.ColorStates.INHERITED,onClick:s,disabled:!_,paddingLess:!0}))),r.createElement(Me.Z,{kind:Le.F.TOOLBAR_ITEM},r.createElement("span",{className:Ke.toolbarItem+" "+Ke.rtlRawScaleX},r.createElement(u.default,{"data-test-id":"card-toolbar-button-reply-all",kind:T.Kinds.REPLY_ALL,size:T.Sizes.XS,title:t(ze.message_reply_all),"aria-label":t(ze.message_reply_all),colorState:T.ColorStates.INHERITED,onClick:a,disabled:!m,paddingLess:!0}))),r.createElement(Me.Z,{kind:Le.F.TOOLBAR_ITEM},r.createElement("span",{className:Ke.toolbarItem+" "+Ke.rtlRawScaleX},r.createElement(u.default,{"data-test-id":"card-toolbar-button-forward",kind:T.Kinds.FORWARD,size:T.Sizes.XS,title:t(ze.message_forward),"aria-label":t(ze.message_forward),colorState:T.ColorStates.INHERITED,onClick:n,disabled:!E,paddingLess:!0}))),r.createElement(Me.Z,{kind:Le.F.TOOLBAR_ITEM},r.createElement("span",{className:Ke.moreMenuItem},r.createElement(xe,{"data-iskeynav":!0,onArchive:o,onDelete:i,onRawMessage:d,onPrint:c,onBlockSenders:l,message:S,onMoreMenuEnter:this.props.onMoreMenuEnter,onMoreMenuLeave:this.props.onMoreMenuLeave,onRead:p,onUnread:C,onStar:A,onUnstar:h})))),r.createElement(Pe.Z,null),r.createElement("hr",{className:Ke.bottomLine})),r.createElement(Pe.Z,null))}}Ze(qe,"contextTypes",{intl:d.intlShape.isRequired}),Ze(qe,"defaultProps",{replyEnabled:!0,replyAllEnabled:!0,forwardEnabled:!0});const Ye=qe;var je=s(29045),Qe=s.n(je),Xe=s(85458),Je=s(79159),$e=s(44865),et=s(91869);function tt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const st=e=>{e.preventDefault()},at=_e.nJ.MSG_BODY;class nt extends r.Component{constructor(e){super(e),tt(this,"handleBlur",(()=>{this.canTakeFocus=!0})),tt(this,"focus",(()=>{!this.canTakeFocus&&this.refs.content&&this.props.active&&this.refs.content.focus()})),tt(this,"handleSelectAll",(()=>{const e=document.getSelection(),t=document.createRange();t.selectNodeContents(this.refs.content),e.removeAllRanges(),e.addRange(t)})),tt(this,"handleRead",(e=>{const{message:t,onToggleRead:s}=this.props,a={interactionType:(0,ue.getInteractionFromEvent)(e)};st(e),void 0!==e.keyCode&&t.flags.read||s({i13nModel:a})})),tt(this,"handleUnread",(e=>{const{message:t,onToggleRead:s}=this.props,a={interactionType:(0,ue.getInteractionFromEvent)(e)};st(e),void 0===e.keyCode||t.flags.read?s({i13nModel:a}):this.showCoachTooltip({selectedCard:[t],interaction:pe.vt.INTERACTION_GROUP_UNREAD})})),tt(this,"handleReply",(e=>{const{messageGroupId:t,message:s,listId:a,onReplyForward:n}=this.props,r={mKey:_e.JE.MSG_REPLY,sec:at,mKeyGroup:_e.rO.replyMsg,interactionType:(0,ue.getInteractionFromEvent)(e)};st(e),n({i13nModel:r,streamId:(0,O.BA)([a]),composeMode:i.AGu.Modes.REPLY,listId:a,messageGroupId:t,messageId:s.id})})),tt(this,"handleBlockSenders",(e=>{(0,J.C)(r.createElement(Se.ZP,{emailIds:e,listId:this.props.listId}),this.context)})),tt(this,"handleReplyAll",(e=>{const{messageGroupId:t,message:s,listId:a,onReplyForward:n}=this.props,r={mKey:_e.JE.MSG_REPLY_ALL,sec:at,mKeyGroup:_e.rO.replyAllMsg,interactionType:(0,ue.getInteractionFromEvent)(e)};st(e),n({i13nModel:r,streamId:(0,O.BA)([a]),composeMode:i.AGu.Modes.REPLY_ALL,listId:a,messageGroupId:t,messageId:s.id})})),tt(this,"handleForward",(e=>{const{messageGroupId:t,message:s,listId:a,onReplyForward:n}=this.props,r={mKey:_e.JE.MSG_FORWARD,sec:at,mKeyGroup:_e.rO.forwardMsg,interactionType:(0,ue.getInteractionFromEvent)(e)};st(e),n({i13nModel:r,streamId:(0,O.BA)([a]),composeMode:i.AGu.Modes.FORWARD,listId:a,messageGroupId:t,messageId:s.id})})),tt(this,"handleArchive",(e=>{const{messageGroupId:t,message:s,listId:a,navigateOnMessageAction:n,onArchive:r}=this.props,o={mKey:_e.JE.MSG_ARCHIVE,sec:at,mKeyGroup:_e.rO.archiveMsg,interactionType:(0,ue.getInteractionFromEvent)(e)};st(e),n(),r({messageIds:[s.id],messageGroupIds:[t],listId:a,streamId:(0,O.BA)([a]),streamItem:{id:t,listId:a,messageIds:[s.id]},conversations:!1,triageActionType:i.Ewo.ARCHIVE_SELECTED_ITEMS,i13nModel:o})})),tt(this,"handleShareCard",((e,t)=>{this.context.navigateTo({route:(0,me.Rl)((0,ue.generateUID)()),initialSubject:e,initialBody:t})})),tt(this,"handleShareCardLinkClick",((e,t)=>{const{message:s}=this.props,a=e.currentTarget.innerText;this.props.onLinkEnhancerlinkShare({i13nModel:{mKey:_e.JE.LINK_ENHANCER_SHARE_LINK,sec:_e.nJ.MSG_BODY,actionData:{mHref:t,msgId:s.id,sharedBy:a}}})})),tt(this,"isPermanentDelete",(e=>e.indexOf(i.Sck.BULK)>-1||e.indexOf(i.Sck.TRASH)>-1||e.indexOf(i.Sck.DRAFT)>-1)),tt(this,"hideConfirm",(()=>{null!==this.state.confirmState&&this.setState({confirmState:null})})),tt(this,"handleDelete",(e=>{const{messageGroupId:t,message:s,listId:a,navigateOnMessageAction:n,onDelete:r}=this.props,o=this.isPermanentDelete(s.folder.types),l={mKey:_e.JE.MSG_DELETE,sec:at,mKeyGroup:_e.rO.deleteMsg,interactionType:(0,ue.getInteractionFromEvent)(e)};st(e),null===this.state.confirmState&&o?this.setState({confirmState:{title:$e.Z.list_delete_title,message:$e.Z.list_perm_delete_message,onConfirm:this.handleDelete,onAbort:this.hideConfirm},hover:!1}):(n(),r({messageIds:[s.id],messageGroupIds:[t],listId:a,streamId:(0,O.BA)([a]),streamItem:{id:t,listId:a,messageIds:[s.id]},permanent:this.isPermanentDelete(s.folder.types),isAsync:!1,conversations:!1,triageActionType:i.Ewo.DELETE_SELECTED_ITEMS,i13nModel:l}),this.hideConfirm())})),tt(this,"renderConfirmDialog",(()=>{if(null===this.state.confirmState)return null;const{confirmState:e}=this.state,{formatMessage:t}=this.context.intl;return r.createElement(et.Z,{title:t(e.title),message:t(e.message,{conversations:!1,count:1}),onConfirm:e.onConfirm,onAbort:e.onAbort})})),tt(this,"handlePrint",(e=>{const t={mKey:_e.JE.MSG_HDR_PRINT,sec:at,mKeyGroup:_e.rO.printMsg,interactionType:(0,ue.getInteractionFromEvent)(e)};st(e);const{messageGroupId:s,message:a,onPrint:n}=this.props;n({messageGroupId:s,message:a,i13nModel:t})})),tt(this,"handleRawMessage",(e=>{const{message:t}=this.props;st(e),this.context.executeAction(Y.sR,{messageId:t.id})})),tt(this,"handleToggleExpand",(()=>{this.props.onToggleExpand()})),tt(this,"showCoachTooltip",(({selectedCard:e=[],interaction:t=""})=>{if(!e.length)return;const{expanded:s}=this.props,a=e[0].id;let n,o,l,c;switch(t){case pe.vt.INTERACTION_GROUP_UNREAD:o=this.readIconContainer,n=r.createElement(ce,null),c=i.DU2.RIGHT,l=(e,t,s=!1,a=!0)=>{if(!e||!t)return{};const{left:n,top:r,right:o}=e.getBoundingClientRect(),{right:i,top:l,left:c}=t.getBoundingClientRect();return{left:s?"auto":i-n-2,top:l-r+(a?-4:1),right:s?o-c-2:"auto"}};break;case pe.vt.INTERACTION_GROUP_FLAGGED:o=this.starIconContainer,n=r.createElement(Ee,null),c=i.DU2.LEFT,l=(e,t,s=!1,a=!1)=>{if(!e||!t)return{};const{left:n,top:r,right:o}=e.getBoundingClientRect(),{right:i,top:l,left:c}=t.getBoundingClientRect();return{right:s?"auto":o-i+4,top:l-r+(a?-4:1),left:s?c-n+4:"auto"}}}o&&ne(n,{id:a,renderToTheSide:c,appendNode:o,referenceNode:{parent:this.refs.content,child:o,positionCalculator:l,expanded:s},clearTooltipOn:{click:this.refs.content,keydown:this.refs.content}},this.context)})),tt(this,"handleStar",(e=>{const{message:t,onToggleStar:s}=this.props,a={interactionType:(0,ue.getInteractionFromEvent)(e)};st(e),void 0!==e.keyCode&&t.flags.flagged?this.showCoachTooltip({selectedCard:[t],interaction:pe.vt.INTERACTION_GROUP_FLAGGED}):s({i13nModel:a})})),tt(this,"handleUnstar",(e=>{const{message:t,onToggleStar:s}=this.props,a={interactionType:(0,ue.getInteractionFromEvent)(e)};st(e),(void 0===e.keyCode||t.flags.flagged)&&s({i13nModel:a})})),tt(this,"handleClick",(()=>{this.props.onClick()})),tt(this,"handleKeyDown",(e=>{if((e.metaKey||e.ctrlKey)&&"A"===String.fromCharCode(e.which))return st(e),e.stopPropagation(),this.handleSelectAll();if(e.ctrlKey||e.metaKey||e.altKey)return;if("Enter"===e.key&&(st(e),e.stopPropagation(),this.props.expandable))return this.handleToggleExpand();const t=String.fromCharCode(e.which);switch(t){case"K":if(!e.shiftKey)return e.stopPropagation(),this.handleUnread(e);e.stopPropagation(),this.handleRead(e);break;case"L":if(!e.shiftKey)return e.stopPropagation(),this.handleStar(e);e.stopPropagation(),this.handleUnstar(e)}if(!e.shiftKey&&this.props.bodyState===i.DAQ.LOADED)switch(t){case"R":e.stopPropagation(),this.handleReply(e);break;case"A":e.stopPropagation(),this.handleReplyAll(e);break;case"F":e.stopPropagation(),this.handleForward(e);break;case"P":e.stopPropagation(),this.handlePrint(e)}})),tt(this,"handleHrefLinkClick",((e,t)=>{const{message:s}=this.props;this.props.handleHrefLinkClick({decos:t,linkTarget:e,message:s})})),tt(this,"handleToolbarOnMouseEnter",(()=>{this.setState({showToolbar:!0})})),tt(this,"handleToolbarOnMouseLeave",(()=>{this.setState({showToolbar:!1})})),tt(this,"handleMoreMenuEnter",(()=>{this.props.active||this.setState({showToolbar:!0})})),tt(this,"handleMoreMenuLeave",(()=>{this.props.active||this.setState({showToolbar:!1})})),tt(this,"handleChangeImageSetting",(()=>{this.props.changeSettings({name:i.Zrf.SHOW_IMAGES,value:i.Pkg.ALWAYS,i13nModel:{name:_e.JE.SHOW_IMG_ALWAYS,sec:_e.nJ.MSG_BODY}})})),tt(this,"handleReloadMessage",((e,{full:t,secure:s}={})=>{const{previewMessage:a,listId:n}=this.props;a({listId:n,full:t,secure:s,messageIds:[e]})})),this.canTakeFocus=e.canTakeFocus,this.state={showToolbar:!1,confirmState:null}}componentDidMount(){this.focus()}componentDidUpdate(){this.focus()}render(){const{listId:e,messageGroupId:t,message:a,bodyState:n,retryCount:o,renderAttachmentTray:l,expandable:c,expanded:d,active:E,idx:_,totalMessages:u,conversations:m,showSmartReply:p,onToggleRead:C,onToggleStar:A,isOnline:T,logVisibilityStat:h}=this.props,g=E||this.state.showToolbar,I=S()(Qe(),{active:E}),R=o>i.KW1,O=!m;let D=null;if(d)switch(n){case i.DAQ.DOES_NOT_EXIST:D=T?r.createElement(Ne,null):r.createElement(Ie,{onRetry:this.handleReloadMessage.bind(this,a.id),disableRetry:R,isOnline:T});break;case i.DAQ.ERROR:D=r.createElement(Ie,{onRetry:this.handleReloadMessage.bind(this,a.id),disableRetry:R,isOnline:T});break;case i.DAQ.LOADED:D=r.createElement("div",{"data-test-id":"message-body-container",onMouseEnter:this.handleToolbarOnMouseEnter,onMouseLeave:this.handleToolbarOnMouseLeave},r.createElement(Ce.ZP,{groupId:t,headers:a.headers,messageId:a.id,listId:e,folderId:a.folder.id,renderAttachments:l,onMailtoClick:this.props.onMailtoClick,onHrefLinkClick:this.handleHrefLinkClick,onChangeImageSetting:this.handleChangeImageSetting,onShareCard:this.handleShareCard,onShareCardLinkClick:this.handleShareCardLinkClick,onShowQuotedText:this.handleReloadMessage.bind(this,a.id),onShowImages:this.handleReloadMessage.bind(this,a.id),removeCollapseButton:O,quoteExpanded:O,attachments:a.attachments,folder:a.folder,csid:a.csid,logVisibilityStat:h}),r.createElement("div",{className:I.toolbarHoverArea,"data-test-id":"toolbar-hover-area"},g?r.createElement(Ye,{onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward,onArchive:this.handleArchive,onDelete:this.handleDelete,onRawMessage:this.handleRawMessage,onBlockSenders:this.handleBlockSenders,message:a,onPrint:e=>this.handlePrint(e,"toolbar"),onMoreMenuEnter:this.handleMoreMenuEnter,onMoreMenuLeave:this.handleMoreMenuLeave,onRead:this.handleRead,onUnread:this.handleUnread,onStar:this.handleStar,onUnstar:this.handleUnstar}):null),p&&!m?r.createElement(H.cr,{defer:!0,import:"./atoms/reply_suggestions",messageGroupId:t,message:a,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,94169))},_moduleResolver:function(){return 94169}}):null);break;default:D=r.createElement(Ne,null)}return r.createElement("div",{ref:"content","data-test-id":"message-view","data-test-expanded":d,className:I.messageCardContainer+" message-view","data-iskeynav":!0,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick:this.handleClick,tabIndex:-1},r.createElement(fe.ZP,{listId:e,groupId:t,conversations:m,message:a,expanded:d,idx:_,totalMessages:u,onToggleStar:A,onToggleRead:C,onToggleExpand:this.handleToggleExpand,expandable:c,onPrint:this.handlePrint,onAttachmentClick:this.props.scrollToAttachmentTray,starRef:e=>this.starIconContainer=e,readRef:e=>this.readIconContainer=e}),D,this.renderConfirmDialog())}}tt(nt,"defaultProps",{active:!1,canTakeFocus:!1}),tt(nt,"contextTypes",{config:n().object,executeAction:n().func.isRequired,navigateTo:n().func,intl:d.intlShape.isRequired,getStore:n().func,getTheme:n().func,store:n().object});const rt=(0,o.connect)(((e,t)=>{const{isOnline:s,enableSmartReply:a}=(0,g.selectors)(e),{messageGroupId:n,message:r}=t,o=a(n,null==r?void 0:r.id);return{isOnline:s(),showSmartReply:o}}),(e=>({previewMessage:t=>e((0,X.fP)(t)),handleHrefLinkClick:t=>e((0,X.zI)(t)),onLinkEnhancerlinkShare:t=>e(Q.y7(t)),changeSettings:t=>e((0,j.Dy)(t)),onPrint:t=>e((0,X.Cz)(t)),onReplyForward:t=>e((0,X.EM)(t)),onArchive:t=>e((0,Xe.nw)(t)),onDelete:t=>e((0,Je.CV)(t))})))(nt),ot=()=>{},it=(0,o.connect)(((e,{csid:t})=>{const{getDraftCardMessage:s}=(0,g.selectors)(e);return s(t)}))((e=>{const{idx:t,csid:s,listId:a,active:n,message:o,conversations:i,totalMessages:l,messageGroupId:c,renderAttachmentTray:d}=e,E=S()(Qe(),{active:n}),_=!i;return r.createElement("div",{"data-iskeynav":!0,tabIndex:-1,"data-test-id":"message-view","data-test-expanded":!0,className:E.messageCardContainer+" message-view"},r.createElement(fe.ZP,{idx:t,expanded:!0,expandable:!0,onPrint:ot,listId:a,message:o,onToggleStar:ot,onToggleRead:ot,onToggleExpand:ot,viglinkClicked:ot,onAttachmentClick:ot,groupId:c,conversations:i,totalMessages:l}),r.createElement("div",{"data-test-id":"message-body-container"},r.createElement(Ce.ZP,{csid:s,messageId:o.id,folderId:o.folder.id,headers:o.headers,attachments:o.attachments,quoteExpanded:_,renderAttachments:d.bind(null,o),removeCollapseButton:_}),r.createElement("div",{className:E.toolbarHoverArea,"data-test-id":"toolbar-hover-area"})))}));var lt=s(58014),ct=s.n(lt),dt=s(19341),Et=s(32440);const _t=S()(ct()),ut=(0,o.connect)((e=>{const{getMailboxesSelectors:t,getSelectedAccountId:s}=(0,g.selectors)(e),{getAccountEmailByAccountId:a}=t().getAccountsSelectors();return{sender:a(s())}}),(e=>({onShowDraft:t=>e((0,Et.bU)(t))})))((({csid:e,sender:t,onShowDraft:s})=>r.createElement("div",{"data-iskeynav":!0,tabIndex:-1,className:_t.composeFormatContainer+" message-view"},r.createElement("header",{className:_t.header},r.createElement("span",{className:_t.popupDraftAvatar},r.createElement(dt.ZP,{contact:{email:t},size:dt.u8.M})),r.createElement("div",{className:_t.readUnread}),r.createElement("div",{className:_t.flexVertical},r.createElement("div",{className:_t.popupDraftFrom},r.createElement("span",{className:_t.popupDraft},r.createElement(d.FormattedMessage,{id:"full_compose.show_draft_description",defaultMessage:"You are currently editing your reply in a separate window. {showLink}",values:{showLink:r.createElement("a",{href:"#",className:_t.draftLink,onClick:t=>{t.preventDefault(),s({csids:[e]})}},r.createElement(d.FormattedMessage,{id:"full_compose.show_draft",defaultMessage:"Show draft here."}))}}))))))));var mt=s(26453),St=s(61856),pt=s(7320),Ct=s(23493),At=s.n(Ct);function Tt(){return(Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function ht(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class gt extends r.Component{constructor(...e){super(...e),ht(this,"state",{engaged:!1}),ht(this,"update",(()=>{this._isSetup&&this._handleScroll()})),ht(this,"_shouldEnableSmartScroll",(()=>document.documentElement.scrollWidth<=window.innerWidth)),ht(this,"_handleWindowResize",(()=>{this._shouldEnableSmartScroll()?(this._isSetup||this._setup(),this.update()):this._teardown()})),ht(this,"_handleContentChanged",(({caret:e})=>{this._isSetup&&e&&this._scrollTargetIntoView(e.y)})),ht(this,"_scrollTargetIntoView",(e=>{if(!(this._isMounted()&&this._containerNode&&this._targetNode&&this._headerNode))return;const t=this._containerNode.getBoundingClientRect(),s=this._targetNode.getBoundingClientRect(),a=e+16+this._headerNode.getBoundingClientRect().height,n=s.top-t.top+a,r=n>=(this.state.engaged?t.height-pt.TOOLBAR_HEIGHT:t.height),o=n<0,i=!this.state.engaged&&s.bottom+20>t.bottom;o||r?this.scrollTimer=setTimeout((()=>{this._containerNode.scrollTop=this._targetNode.offsetTop+a-Math.round(t.height/2)}),2):i&&(this._containerNode.scrollTop+=s.bottom-t.bottom+20)})),ht(this,"_alignTargetInContainer",(()=>{if(!this._isMounted()||!this._containerNode||!this._targetNode)return;const e=this._targetNode.getBoundingClientRect(),t=this._containerNode.getBoundingClientRect();e.height<t.height?this._containerNode.scrollTop=this._targetNode.offsetTop-(t.height-e.height-20):this._containerNode.scrollTop=this._targetNode.offsetTop-12})),ht(this,"_handleScroll",(()=>{if(!(this._isMounted()&&this._containerNode&&this._targetNode&&this._headerNode))return;const e=this._containerNode.getBoundingClientRect(),t=this._targetNode.getBoundingClientRect(),s=this._headerNode.getBoundingClientRect(),a=Math.max(s.height+24,160);t.bottom>e.top&&t.top+a<e.bottom&&t.bottom>e.bottom?this._engage(t.width-pt.HORIZONTAL_PADDING):this._disengage()})),ht(this,"_setup",(()=>{this._compose&&(this._containerNode=(0,c.findDOMNode)(this.props.scrollContainer),this._targetNode=(0,c.findDOMNode)(this)),this._containerNode&&this._targetNode&&this._headerNode&&(this._isSetup=!0,this.update(),this._containerNode.addEventListener("scroll",this._handleScroll))})),ht(this,"_teardown",(()=>{clearTimeout(this.scrollTimer),this._containerNode&&this._containerNode.removeEventListener("scroll",this._handleScroll),this._disengage(),this._isSetup=!1})),ht(this,"_engage",(()=>{this.state.engaged||this.setState({engaged:!0})})),ht(this,"_disengage",(()=>{this.state.engaged&&this.setState({engaged:!1})}))}_isMounted(){return this._containerNode&&this._targetNode&&this._headerNode}componentDidMount(){this._handleContentChanged=At()(this._handleContentChanged,10),this._shouldEnableSmartScroll()&&this._setup(),this._isSetup&&this._alignTargetInContainer()}componentDidUpdate(){!this._isSetup&&this._shouldEnableSmartScroll()&&this._setup()}componentWillUnmount(){this._teardown()}render(){return r.createElement(St.ZP,Tt({},this.props,{refToComposeContainer:e=>{this._compose=e},refToComposeHeader:e=>{this._headerNode=(0,c.findDOMNode)(e)},onContentChanged:this._handleContentChanged,toolbarFixed:this.state.engaged,onResize:this._handleWindowResize}))}}ht(gt,"contextTypes",{config:n().object.isRequired});const It=gt;var Rt=s(19068),Ot=s(94184),Dt=s.n(Ot),Nt=s(68370),ft=s.n(Nt),Mt=s(63352),Lt=s(99691);var Pt=s(41958),yt=s(72942),bt=s(44908),Ft=s.n(bt),Ut=s(31057);const vt=[i.Asd.DATE_DESC,i.Asd.DATE_ASC],wt=[i.Asd.DATE_DESC,i.Asd.DATE_ASC,i.Asd.ATTACHMENT,i.Asd.RELEVANCE],Gt=[i.Asd.DATE_DESC,i.Asd.DATE_ASC,i.Asd.UNREAD,i.Asd.STARRED,i.Asd.SENDER,i.Asd.SUBJECT,i.Asd.ATTACHMENT],kt=[i.Asd.DATE_DESC,i.Asd.DATE_ASC,i.Asd.UNREAD,i.Asd.STARRED,i.Asd.RECIPIENT,i.Asd.SUBJECT,i.Asd.ATTACHMENT];var Ht=s(8061),Bt=s(77163),xt=s(4609),Vt=s(9026);function Wt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Zt=(0,d.defineMessages)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected {conversations, select, true {conversations} false {messages}} to Inbox"},archive_msgs:{id:"archive_msgs",defaultMessage:"Archive the selected {conversations, select, true {conversations} false {messages}}"}});class Kt extends r.Component{constructor(...e){super(...e),Wt(this,"_renderLabel",(()=>{const{restore:e}=this.props;return e?r.createElement(d.FormattedMessage,{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"}):r.createElement(d.FormattedMessage,{id:"archive_button.archive_label",defaultMessage:"Archive"})}))}render(){const{formatMessage:e}=this.context.intl,{restore:t,disabled:s,onClick:a,showLabel:n,isCompact:o,size:i,conversations:l}=this.props,c=e(t?Zt.restore_msgs:Zt.archive_msgs,{conversations:l}),d=this.context.getThemeMode()===Vt.zg.DARK;return r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+(t?"archive-restore":"archive"),"aria-label":c,title:c,kind:t?T.Kinds.RESTORE_TO_INBOX:T.Kinds.ARCHIVE,disabled:s,onClick:a,size:i,colorState:T.ColorStates.INHERITED,isOnDarkBackground:d,isCompact:o},n&&this._renderLabel())}}Wt(Kt,"contextTypes",{intl:d.intlShape.isRequired,getThemeMode:n().func}),Wt(Kt,"defaultProps",{size:T.Sizes.XS,showLabel:!0,onClick:function(){},conversations:!1});const zt=Kt;var qt=s(54542),Yt=s(56971),jt=s(25288),Qt=s.n(jt);function Xt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Jt=(0,d.defineMessages)({select_messages:{id:"selection_controls.menu",defaultMessage:"Select messages"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"},deselect_all:{id:"selection_controls.deselect_all_messages",defaultMessage:"Deselect all messages"}});class $t extends r.Component{constructor(...e){super(...e),Xt(this,"handleCheckboxClicked",(e=>{const{onSelectNone:t,onSelectAll:s,selectionCount:a}=this.props;e.preventDefault(),e.stopPropagation(),a>0?t(e,!0):s(e,!0)}))}render(){const e=this.context.getCss(Qt()),t=this.context.getThemeMode()===Vt.zg.DARK,{formatMessage:s,formatNumber:a}=this.context.intl,{allItemsSelected:n,previewpane:o,selectionCount:l=0}=this.props;let c=Yt.z.NONE;return l>0&&n?c=Yt.z.ALL:l>0&&(c=Yt.z.PARTIAL),r.createElement("div",{className:e.container},r.createElement("ul",{className:e.list},r.createElement(Me.Z,{kind:Le.F.MESSAGE_SELECTION_CHECKBOX},r.createElement("span",{className:e.checkboxWrapper},r.createElement(Yt.Z,{type:c,highContrast:!0,isInverted:t,onClick:this.handleCheckboxClicked,"aria-label":s(l>0?Jt.deselect_all:Jt.select_all),isOnDarkBackground:t,"data-iskeynav":!0,paddingLess:!0}))),r.createElement(Me.Z,{kind:Le.F.MESSAGE_SELECTION_CHEVRON},r.createElement(ye.Z,null,r.createElement(be.Z,null,r.createElement("span",{className:e.chevronWrapper},r.createElement(u.default,{kind:T.Kinds.CHEVRON_UP,size:T.Sizes.XS,rotate:T.Rotate.D180,title:s(Jt.select_messages),"aria-label":s(Jt.select_messages),colorState:T.ColorStates.INHERITED,isOnDarkBackground:t,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0}))),r.createElement(Fe.ZP,{permittedArrowDirections:[we.Ji.UP,we.Ji.DOWN],triggerOn:we.K2.CLICK,offset:4*E.mg$,align:we.xM.START,zAltitude:E.LSY.POPOVER.HIGH,onShow:this.props.onMenuShow},r.createElement("div",{className:e.popoverListWrapper},r.createElement(G.Z,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},r.createElement(Me.Z,{name:"select-all"},r.createElement(f.Z,{onClick:this.props.onSelectAll,kind:M.F.MENUITEM},r.createElement(d.FormattedMessage,{id:"select_all",defaultMessage:"All"}))),r.createElement(Me.Z,{name:"select-none"},r.createElement(f.Z,{onClick:this.props.onSelectNone,kind:M.F.MENUITEM},r.createElement(d.FormattedMessage,{id:"select_none",defaultMessage:"None"}))),r.createElement(Me.Z,{name:"select-read"},r.createElement(f.Z,{onClick:this.props.onSelectRead,kind:M.F.MENUITEM},r.createElement(d.FormattedMessage,{id:"select_read",defaultMessage:"Read"}))),r.createElement(Me.Z,{name:"select-unread"},r.createElement(f.Z,{onClick:this.props.onSelectUnread,kind:M.F.MENUITEM},r.createElement(d.FormattedMessage,{id:"select_unread",defaultMessage:"Unread"}))),r.createElement(Me.Z,{name:"select-starred"},r.createElement(f.Z,{onClick:this.props.onSelectStarred,kind:M.F.MENUITEM},r.createElement(d.FormattedMessage,{id:"select_starred",defaultMessage:"Starred"}))),r.createElement(Me.Z,{name:"select-unstarred"},r.createElement(f.Z,{onClick:this.props.onSelectUnstarred,kind:M.F.MENUITEM},r.createElement(d.FormattedMessage,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),r.createElement(Me.Z,null,r.createElement("div",null,o===i.EsZ.NO&&l>0?a(l):""))))}}Xt($t,"contextTypes",{intl:d.intlShape.isRequired,getCss:n().func,getThemeMode:n().func}),Xt($t,"defaultProps",{onMenuShow:()=>{}});const es=$t;function ts(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ss=(0,d.defineMessages)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as spam"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as not spam"}});class as extends r.Component{constructor(...e){super(...e),ts(this,"_renderLabel",(()=>{const{markAsSpam:e}=this.props;return e?r.createElement(d.FormattedMessage,{id:"spam_icon_label",defaultMessage:"Spam"}):r.createElement(d.FormattedMessage,{id:"not_spam_icon_label",defaultMessage:"Not Spam"})}))}render(){const{formatMessage:e}=this.context.intl,{disabled:t,markAsSpam:s,onClick:a,showLabel:n,isCompact:o,size:i}=this.props,l=e(s?ss.mark_msgs_as_spam:ss.mark_msgs_as_not_spam),c=s?"spam":"not-spam",d=this.context.getThemeMode()===Vt.zg.DARK;return r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":`toolbar-${c}`,"aria-label":l,title:l,kind:T.Kinds.SPAM,disabled:t,onClick:a,size:i,colorState:T.ColorStates.INHERITED,isOnDarkBackground:d,isCompact:o},n&&this._renderLabel())}}ts(as,"defaultProps",{size:T.Sizes.XS,showLabel:!0,onClick:function(){}}),ts(as,"contextTypes",{intl:d.intlShape.isRequired,getThemeMode:n().func});const ns=as;var rs=s(8881),os=s(50566),is=s(95406),ls=s(48717),cs=s.n(ls);function ds(){return(ds=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Es(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _s=S()(cs()),us=(0,d.defineMessages)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class ms extends r.Component{render(){const{formatMessage:e}=this.context.intl,{disabled:t}=this.props,a=this.context.getThemeMode()===Vt.zg.DARK;return r.createElement(ye.Z,{className:_s.popoverContainer},r.createElement(be.Z,null,r.createElement(u.default,{"data-iskeynav":!0,"aria-label":e(us.more_menu_label),title:e(us.more_menu_label),"data-test-id":"toolbar-more",disabled:t,kind:T.Kinds.MORE,size:T.Sizes.XS,colorState:T.ColorStates.INHERITED,isOnDarkBackground:a})),r.createElement(Fe.ZP,{triggerOn:we.K2.CLICK,permittedArrowDirections:[we.Ji.UP],zAltitude:E.LSY.POPOVER.HIGH,onShow:this.props.onMenuShow},r.createElement("div",{style:{display:"block",minWidth:"200px"}},r.createElement(H.cr,ds({import:"./more_menu_items"},this.props,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,38648))},_moduleResolver:function(){return 38648}}),r.createElement(H.nA,{loading:!0},r.createElement(Re.Z,null))))))}}Es(ms,"contextTypes",{executeAction:n().func,intl:d.intlShape.isRequired,config:n().object,getThemeMode:n().func}),Es(ms,"defaultProps",{onMenuShow:()=>{}});const Ss=ms;var ps=s(46669),Cs=s(67612),As=s(91472),Ts=s.n(As),hs=s(59914),gs=s(55831),Is=s(66462);function Rs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Os=_e.nJ.MSG_LIST_BULK_ACTION,Ds=_e.nJ.MSG_READ_TOOLBAR,Ns="d",fs="e",Ms=[...rs.tq,Ns,fs,"del","backspace","#","shift+e","shift+d","left","right","esc"];class Ls extends r.Component{constructor(...e){super(...e),Rs(this,"state",{showDeleteConfirm:!1,showMoveConfirm:null,moveMenuActive:!1,moveMenuFilterFocused:!1,sortMenuActive:!1}),Rs(this,"getClassNames",(()=>{const{showLabels:e,showActionLabels:t,isHamEnabled:s,isSpamEnabled:a,isArchiveEnabled:n,isRestoreEnabled:r,isMoveEnabled:o,isDeleteEnabled:i,isPermDeleteEnabled:l,isPreviousEnabled:c,isNextEnabled:d,enableGroupActions:E,enableTriageActions:_,hasPrevNext:u,previewpaneInPixels:m}=this.props,S=this.isListVerticalPreviewMode(),p=this.isFullMessageViewMode();return this.context.getCss(Ts(),{hamSpamDisabled:!s&&!a&&_,archiveRestoreDisabled:!n&&!r&&_,moveDisabled:!o&&_,deletePermDisabled:!i&&!l&&_,groupActionsActive:E,triageActionsActive:_,showTriageActionsLabels:e&&t,verticalSortView:this.isVerticalSortView(),verticalSelectionControlView:this.isverticalSelectionControlView(),selectionControlDisabled:this.disableSelectionControl(),previousDisabled:!c,nextDisabled:!d,fullMessageView:p,listWithVerticalPreview:S,listWithNonVerticalPreview:!S&&!p,closeWrapperMargin:!u&&p,previewpaneInPixels:S&&m})})),Rs(this,"getItemSpaceBasedOnPreviewPaneOffset",(()=>{const{previewPaneOffset:e,previewpaneInPixels:t}=this.props;let s={};return this.isListVerticalPreviewMode()&&(s={flexBasis:e>100&&t?e/2+"px":e/2+"%"}),s})),Rs(this,"onPreviousItem",(e=>{const{listId:t,activeGroupId:s,isConversationMode:a}=this.props,{getPreviousListItemId:n,__patchV2MessageGroupItemId__:r}=(0,g.selectors)(this.context.store.getState()),o=n(t,s);if(!o)return;const i=(0,me.xj)({item:r(o,t),listId:t,isConversationMode:a}),l={mKey:_e.JE.OPEN_MSG,mKeyGroup:_e.rO.openMsg,sec:_e.nJ.MSG_HEADER,interactionType:(0,ue.getInteractionFromEvent)(e)};this.context.navigateTo({route:i,streamItem:{listId:t,id:o},i13nModel:l})})),Rs(this,"onNextItem",(e=>{const{listId:t,activeGroupId:s,isConversationMode:a}=this.props,{getNextListItemId:n,__patchV2MessageGroupItemId__:r}=(0,g.selectors)(this.context.store.getState()),o=n(t,s);if(!o)return;const i=(0,me.xj)({item:r(o,t),listId:t,isConversationMode:a}),l={mKey:_e.JE.OPEN_MSG,mKeyGroup:_e.rO.openMsg,sec:_e.nJ.MSG_HEADER,interactionType:(0,ue.getInteractionFromEvent)(e)};this.context.navigateTo({route:i,streamItem:{listId:t,id:o},i13nModel:l})})),Rs(this,"handleShortcuts",(e=>{const{isArchiveEnabled:t,isRestoreEnabled:s,hasPrevNext:a}=this.props;let n=!1;switch(String.fromCharCode(e.which).toLowerCase()){case Ns:n=!0,this.handleMoveMenuShow(e.shiftKey);break;case fs:if(t&&e.shiftKey&&!s){n=!1;break}(t||e.shiftKey&&s)&&(n=!0,this.handleArchive(e));break;case"r":this.enableSingleGroupActions()&&(n=!0,this.handleSingleGroupAction("reply",_e.Rb.shortcut));break;case"a":this.enableSingleGroupActions()&&(n=!0,this.handleSingleGroupAction("replyAll",_e.Rb.shortcut));break;case"f":this.enableSingleGroupActions()&&(n=!0,this.handleSingleGroupAction("forward",_e.Rb.shortcut));break;default:this.context.os===i.Msg.MAC&&e.keyCode===Bt.P.BACKSPACE||e.keyCode===Bt.P.DELETE||e.keyCode===Bt.P.HASHTAG?(n=!0,this.handleDelete(e)):this.props.hasAttachmentPreview||(e.keyCode===Bt.P.ESCAPE?(n=!0,this.handleClose(e)):e.keyCode===Bt.P.LEFT&&a&&this.props.isPreviousEnabled?(n=!0,this.onPreviousItem(e)):e.keyCode===Bt.P.RIGHT&&a&&this.props.isNextEnabled&&(n=!0,this.onNextItem(e)))}n&&(e=>{e.stopPropagation(),e.preventDefault()})(e)})),Rs(this,"isListVerticalPreviewMode",(()=>this.props.kind===q.ZP.LIST_WITH_PREVIEW_RIGHT)),Rs(this,"isFullMessageViewMode",(()=>this.props.kind===q.ZP.MESSAGE_VIEW)),Rs(this,"isVerticalSortView",(()=>this.props.kind===q.ZP.LIST_WITH_PREVIEW_RIGHT)),Rs(this,"isverticalSelectionControlView",(()=>this.props.kind===q.ZP.LIST_WITH_PREVIEW_RIGHT)),Rs(this,"enableSingleGroupActions",(()=>{const{kind:e}=this.props;return q.Vj.HAS_SINGLE_GROUP_ACTIONS[e]&&this.props.isRafEnabled})),Rs(this,"disableSelectionControl",(()=>{const e=(0,Ut.WN)(this.props.listId);return e===i.F6k.IMAGES||e===i.F6k.DOCUMENTS})),Rs(this,"getActionCreators",(()=>this.props.shouldDoSelectAll?ps.R[this.props.kind]:ps.Z[this.props.kind])),Rs(this,"getActionableGroupIds",(()=>{const{activeGroupId:e,streamId:t}=this.props;if(e)return[e];const{doesStreamExist:s,getSelectedStreamItems:a}=(0,g.selectors)(this.context.store.getState());return(s(t)?a(t):[]).map((({id:e})=>e))})),Rs(this,"isPermDelete",(()=>!this.props.isDeleteEnabled&&this.props.isPermDeleteEnabled)),Rs(this,"isSpam",(()=>!!this.props.isSpamEnabled||!this.props.isHamEnabled)),Rs(this,"isRestore",(()=>!this.props.isArchiveEnabled&&this.props.isRestoreEnabled)),Rs(this,"onToolbarMenuShow",(e=>{const t={MoveMenu:{mKey:_e.JE.TOOLBAR_MOVE_MENU,sec:Os},MoreMenu:{mKey:_e.JE.TOOLBAR_MORE_MENU,sec:Os},SelectionMenu:{mKey:_e.JE.TOOLBAR_BULK_CONTEXT_MENU,sec:Os},SortMenu:{mKey:_e.JE.TOOLBAR_SORT_MENU,sec:_e.nJ.MSG_LIST_SORT}};if("SortMenu"===e&&this.setState({sortMenuActive:!0}),!t[e])return;const{mKey:s,sec:a}=t[e];this.context.executeAction(this.getActionCreators().toolbarMenuShown,{i13nModel:{mKey:s,sec:a}})})),Rs(this,"onSortMenuClose",(()=>{this.setState({sortMenuActive:!1})})),Rs(this,"handleSelection",((e,t,s)=>{const a={[`${i.ie0.ALL}-checkbox`]:_e.JE.TOOLBAR_SELECTALL_MSG,[`${i.ie0.NONE}-checkbox`]:_e.JE.TOOLBAR_SELECT_NONE,[i.ie0.ALL]:_e.JE.TOOLBAR_BULK_CONTEXT_ALL,[i.ie0.NONE]:_e.JE.TOOLBAR_BULK_CONTEXT_NONE,[i.ie0.READ]:_e.JE.TOOLBAR_BULK_CONTEXT_READ,[i.ie0.UNREAD]:_e.JE.TOOLBAR_BULK_CONTEXT_UNREAD,[i.ie0.STARRED]:_e.JE.TOOLBAR_BULK_CONTEXT_STARRED,[i.ie0.UNSTARRED]:_e.JE.TOOLBAR_BULK_CONTEXT_UNSTARRED},n=s?`${e}-checkbox`:`${e}`,r=this.getActionCreators(),{listId:o,route:l,streamId:c}=this.props,{getMainStreamItems:d}=(0,g.selectors)(this.context.store.getState()),E=d(l);this.context.executeAction(r[e],{listId:o,i13nModel:{mKey:a[n],sec:Os,interactionType:(0,ue.getInteractionFromEvent)(t)},streamId:c,streamItems:E,selectionType:e})})),Rs(this,"handleSingleGroupAction",((e,t=_e.Rb.click)=>{const{listId:s,activeGroupId:a}=this.props;if(a){const n={mKey:_e.JE[`TOOLBAR_${e.toUpperCase()}`],sec:Ds,mKeyGroup:_e.rO[`${e}Msg`],interactionType:t};this.context.executeAction(this.getActionCreators()[e],{listId:s,messageGroupId:a,i13nModel:n})}})),Rs(this,"handleArchive",(e=>{e.preventDefault(),this.props.navigateOnMessageAction();const t=this.getActionCreators(),s=this.getActionableGroupIds(),a={mKey:this.isRestore()?_e.JE.TOOLBAR_RESTORE:_e.JE.TOOLBAR_ARCHIVE,sec:Os,mKeyGroup:this.isRestore()?_e.rO.moveMsg:_e.rO.archiveMsg,interactionType:(0,ue.getInteractionFromEvent)(e)},{conversations:n}=this.props;let r;if(r=this.isRestore()?{confirmTitle:Cs.Z.confirm_restore_title,confirmMessages:Cs.Z.confirm_restore_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm}:{confirmTitle:Cs.Z.confirm_archive_title,confirmMessages:Cs.Z.confirm_archive_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm},!this.props.shouldDoSelectAll||this.state.confirmTitle){if(s.length){const{listId:e,allItemsCount:r,streamId:o}=this.props,i=1===s.length?{id:s[0],listId:e}:void 0;this.context.executeAction(this.isRestore()?t.restore:t.archive,{listId:e,streamId:o,streamItem:i,messageGroupIds:s,...r&&{allItemsCount:r},conversations:n,i13nModel:a})}this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1}),this.hideConfirm()}else this.setState(r)})),Rs(this,"handleMove",((e,t)=>{t.preventDefault(),this.props.navigateOnMessageAction();const{listId:s,allItemsCount:a,conversations:n,streamId:r,isBulkAction:o}=this.props;if(o&&!this.state.showMoveConfirm)return void this.setState({showMoveConfirm:e});const i=this.getActionableGroupIds(),l=1===i.length?{id:i[0],listId:s}:void 0;this.context.executeAction(this.getActionCreators().move,{destinationFolderId:e,listId:s,messageGroupIds:i,...a&&{allItemsCount:a},conversations:n,streamId:r,streamItem:l,i13nModel:{mKey:_e.JE.TOOLBAR_MOVE,sec:Os,mKeyGroup:_e.rO.moveMsg,interactionType:(0,ue.getInteractionFromEvent)(t)}}),this.hideMoveConfirm()})),Rs(this,"hideMoveConfirm",(()=>{this.setState({showMoveConfirm:null})})),Rs(this,"handleSpam",(e=>{e.preventDefault();const t=this.getActionCreators(),{listId:s,allItemsCount:a,conversations:n,streamId:o,mid:i,showUnsubscribeFlowForSpam:l}=this.props;let c;if(c=this.isSpam()?{confirmTitle:Cs.Z.confirm_spam_title,confirmMessages:Cs.Z.confirm_spam_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm}:{confirmTitle:Cs.Z.confirm_ham_title,confirmMessages:Cs.Z.confirm_ham_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm},this.props.shouldDoSelectAll&&!this.state.confirmTitle)return void this.setState(c);const d=this.getActionableGroupIds(),E=1===d.length?{id:d[0],listId:s}:void 0,_=(r={})=>{this.context.executeAction(this.isSpam()?t.markAsSpam:t.markAsNotSpam,{listId:s,streamId:o,streamItem:E,messageGroupIds:d,...a&&{allItemsCount:a},conversations:n,i13nModel:{mKey:this.isSpam()?_e.JE.TOOLBAR_SPAM:_e.JE.TOOLBAR_NOT_SPAM,sec:Os,mKeyGroup:this.isSpam()?_e.rO.markSpam:_e.rO.markUnspam,interactionType:(0,ue.getInteractionFromEvent)(e),...r}})};this.props.navigateOnMessageAction(),l?(0,J.C)(r.createElement(Is.ZP,{messageId:i,onSpam:_}),this.context):_(),this.hideConfirm()})),Rs(this,"hideConfirm",(()=>{this.setState({confirmTitle:!1})})),Rs(this,"handleDelete",(e=>{e.preventDefault();const{listId:t,navigateOnMessageAction:s,allItemsCount:a,conversations:n,streamId:r,isBulkAction:o}=this.props,i=this.getActionableGroupIds();if((this.isPermDelete()||o)&&!this.state.showDeleteConfirm)return void this.setState({showDeleteConfirm:!0});const l={mKey:_e.JE.TOOLBAR_DELETE,sec:Os,mKeyGroup:_e.rO.deleteMsg,interactionType:(0,ue.getInteractionFromEvent)(e)};s();const{formatMessage:c}=this.context.intl,d=1===i.length?{id:i[0],listId:t}:void 0;this.context.executeAction(this.getActionCreators().delete,{listId:t,streamId:r,streamItem:d,messageGroupIds:i,permanent:this.isPermDelete(),...a&&{allItemsCount:a},conversations:n,i13nModel:l,formatMessage:c}),this.hideDeleteConfirm()})),Rs(this,"hideDeleteConfirm",(()=>{this.state.showDeleteConfirm&&(this.setState({showDeleteConfirm:!1}),this.props.onHideDeleteConfirm())})),Rs(this,"handleSort",((e,t)=>{const s={[i.Asd.DATE_DESC]:_e.JE.TOOLBAR_SORT_NEW,[i.Asd.DATE_ASC]:_e.JE.TOOLBAR_SORT_OLD,[i.Asd.UNREAD]:_e.JE.TOOLBAR_SORT_UNREAD,[i.Asd.STARRED]:_e.JE.TOOLBAR_SORT_STARRED,[i.Asd.SENDER]:_e.JE.TOOLBAR_SORT_SENDER,[i.Asd.SUBJECT]:_e.JE.TOOLBAR_SORT_SUBJECT,[i.Asd.ATTACHMENT]:_e.JE.TOOLBAR_SORT_ATTACHMENT,[i.Asd.RELEVANCE]:_e.JE.TOOLBAR_SORT_RELEVANCE},{listId:a,route:n}=this.props;this.context.navigateTo({route:n.name===i.n8z.SEARCH||(0,Ut.SH)(n)?(0,me.dM)(a,{sortOrder:t}):(0,me.ok)(a,{sortOrder:t}),i13nModel:{mKey:s[t],sec:_e.nJ.MSG_LIST_SORT,interactionType:(0,ue.getInteractionFromEvent)(e)}})})),Rs(this,"handleFilterChange",((e,t)=>{const s=(0,Ut.WN)(this.props.listId),a={[i.F6k.MESSAGES]:"msg",[i.F6k.DOCUMENTS]:"docs",[i.F6k.IMAGES]:"photo"},n=_e.JE["FILTER_"+t],r=n?{mKey:n,sec:_e.nJ.MSG_LIST_BULK_ACTION,interactionType:(0,ue.getInteractionFromEvent)(e),actionData:{cntxt:a[s]||a[i.F6k.MESSAGES]}}:null;this.context.navigateTo({route:{name:i.n8z.SEARCH,params:{query:(0,Ut.tr)((0,Ut.tE)(this.props.listId,{listFilter:t}))}},i13nModel:r})})),Rs(this,"handleClose",(e=>{const{listId:t,streamId:s,kind:a,route:n}=this.props,r={mKey:_e.JE.TOOLBAR_CLOSE_MSG,sec:Ds,interactionType:(0,ue.getInteractionFromEvent)(e)};if(e.key===i.R8U.ESCAPE){if(n.name===i.n8z.FOLDER)return;this.props.onClose({listId:t,i13nModel:r})}else a===q.ZP.LIST_WITH_PREVIEW_RIGHT||a===q.ZP.LIST_WITH_PREVIEW_BOTTOM?this.props.closePreviewMessage({streamId:s,listId:t,i13nModel:r}):this.props.onClose({listId:t,i13nModel:r})})),Rs(this,"handleNext",(e=>{const{listId:t,activeGroupId:s,allItemsSelected:a}=this.props;this.props.loadMoreItems({listId:t,currentGroupId:s,allItemsSelected:a}),this.onNextItem(e)})),Rs(this,"handleMoveMenuToggle",(e=>{e.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.props.enableTriageActions})})),Rs(this,"handleMoveMenuShow",(e=>{const t=this.props.enableTriageActions,s={moveMenuActive:t};e&&(s.moveMenuFilterFocused=t),this.setState(s),this.onToolbarMenuShow("MoveMenu")})),Rs(this,"handleMoveMenuHide",(()=>{this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})})),Rs(this,"handleExpandContractClick",(e=>{e.stopPropagation(),this.props.onChangeAllMessageCardExpansion({listId:this.props.listId,streamId:this.props.streamId,messageGroupId:this.props.activeGroupId,expansionState:this.props.isCollapseAllEnabled?i.Lvq.COLLAPSED:i.Lvq.EXPANDED})})),Rs(this,"handleBackToList",(e=>{const{isStorefrontEnabled:t,listId:s,navigateBack:a}=this.props;t||(0,Ut.aY)(s)===i.qd8.FOCUSED_INBOX?a():this.context.navigateTo({route:(0,me.KI)(s),i13nModel:{mKey:_e.JE.TOOLBAR_BACK_TO_LIST,sec:_e.nJ.MSG_READ_TOOLBAR,interactionType:(0,ue.getInteractionFromEvent)(e)}})})),Rs(this,"renderExpandMessages",(e=>{const{isCollapseAllEnabled:t,isExpandAllEnabled:s}=this.props,{formatMessage:a}=this.context.intl,n=this.context.getThemeMode()===Vt.zg.DARK;return t||s?r.createElement("div",{className:e.expandCollapse},r.createElement(u.default,{title:a(Cs.Z[t?"collapse_list":"expand_list"]),"aria-label":a(Cs.Z[t?"list_is_expanded":"list_is_collapsed"]),kind:t?T.Kinds.COLLAPSE_LIST:T.Kinds.EXPAND_LIST,size:T.Sizes.XS,paddingLess:!1,colorState:T.ColorStates.INHERITED,onClick:this.handleExpandContractClick,"data-iskeynav":!0,isOnDarkBackground:n})):null})),Rs(this,"renderSelectionControls",(e=>{const t=(0,Ut.WN)(this.props.listId),{listId:s,allItemsSelected:a,previewpane:n,selectionCount:o}=this.props;if((0,Ut.GG)(s))switch(t){case i.F6k.IMAGES:case i.F6k.DOCUMENTS:return null}return r.createElement("div",{className:e.selectionControlsWrapper},r.createElement(es,{onMenuShow:this.onToolbarMenuShow.bind(null,"SelectionMenu"),onSelectAll:(e,t)=>this.handleSelection(i.ie0.ALL,e,t),onSelectNone:(e,t)=>this.handleSelection(i.ie0.NONE,e,t),onSelectRead:e=>this.handleSelection(i.ie0.READ,e),onSelectUnread:e=>this.handleSelection(i.ie0.UNREAD,e),onSelectStarred:e=>this.handleSelection(i.ie0.STARRED,e),onSelectUnstarred:e=>this.handleSelection(i.ie0.UNSTARRED,e),selectionCount:o,allItemsSelected:a,previewpane:n}))})),Rs(this,"renderArchive",(e=>{const{showLabels:t,showActionLabels:s,isArchiveEnabled:a,isRestoreEnabled:n,conversations:o}=this.props,i=n||a;return r.createElement(Me.Z,null,r.createElement("div",{className:e.archiveRestore},r.createElement(zt,{conversations:o,disabled:!this.props.enableTriageActions||!i,onClick:this.handleArchive,restore:this.isRestore(),showLabel:t&&s})))})),Rs(this,"renderMoveMenu",(e=>{const{formatMessage:t}=this.context.intl,{isMoveEnabled:s,showLabels:a,showActionLabels:n,disabledMoveTitle:o,conversations:i,listId:l}=this.props,c=!this.props.enableTriageActions||!s,d=c&&o?t(o):t(Cs.Z.move_msgs,{conversations:i});return r.createElement(Me.Z,{name:"move-menu-item",title:d},r.createElement("div",{className:e.move},r.createElement(xt.ZP,{"data-iskeynav":!0,title:d,showLabel:a&&n,tabIndex:-1,disabled:c,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,onClick:this.handleMove,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle,hasShortcuts:!this.state.moveMenuFilterFocused,primaryShortcutKey:Ns,archiveShortcutKey:fs,listId:l})))})),Rs(this,"renderDelete",(e=>{const{isDeleteEnabled:t,isPermDeleteEnabled:s,showLabels:a,showActionLabels:n,enableTriageActions:o,conversations:i}=this.props,l=s||t;return r.createElement(Me.Z,{name:this.isPermDelete()?"perm-delete":"delete"},r.createElement("div",{className:e.deletePerm},r.createElement(qt.Z,{disabled:!o||!l,onClick:this.handleDelete,permanent:this.isPermDelete(),showLabel:a&&n,conversations:i})))})),Rs(this,"renderSpam",(e=>{const{isSpamEnabled:t,isHamEnabled:s,showLabels:a,showActionLabels:n,enableTriageActions:o}=this.props,i=t||s;return r.createElement(Me.Z,{name:this.isSpam()?"not-spam":"spam"},r.createElement("div",{className:e.hamSpam},r.createElement(ns,{disabled:!o||!i,markAsSpam:this.isSpam(),onClick:this.handleSpam,showLabel:a&&n})))})),Rs(this,"renderMoreMenu",(e=>{const{listId:t,streamId:s,enableTriageActions:a,activeGroupId:n}=this.props;return r.createElement(Me.Z,{name:"more-menu-item"},r.createElement("div",{className:e.more},r.createElement(Ss,{"data-iskeynav":!0,disabled:!a,activeGroupId:n,onMenuShow:this.onToolbarMenuShow.bind(null,"MoreMenu"),listId:t,streamId:s})))})),Rs(this,"renderSortMenu",(()=>{const e=this.context.getThemeMode()===Vt.zg.DARK,{formatMessage:t}=this.context.intl,{currentSortOrder:s,showLabels:a,route:n,listId:o,conversations:l,folderType:c}=this.props,d=function(e,t,s,a){const n=a?(0,Ut.WN)(a):i.F6k.MESSAGES;switch(e.name){case i.n8z.SEARCH:return n===i.F6k.IMAGES||n===i.F6k.DOCUMENTS?vt:wt;default:return t===i.Sck.DRAFT?[i.Asd.DATE_DESC,i.Asd.DATE_ASC,i.Asd.STARRED,i.Asd.SUBJECT]:(0,Ut.SH)(e)?[i.Asd.DATE_DESC,i.Asd.DATE_ASC,i.Asd.ATTACHMENT]:s?[i.Asd.DATE_DESC,i.Asd.DATE_ASC,i.Asd.UNREAD,i.Asd.STARRED]:t===i.Sck.SENT?kt:Gt}}(n,c,l,o),_=a?t(Cs.Z.sort_menu):null,u=this.getClassNames(),m=this.getItemSpaceBasedOnPreviewPaneOffset(),S=d.map((e=>r.createElement(Me.Z,{key:e,name:"sort-by-"+e},r.createElement(f.Z,{"data-test-id":"sort-by-"+e,kind:M.F.MENUITEM,onClick:t=>this.handleSort(t,e),style:{position:"relative"}},e===s?r.createElement("span",{className:u.sortByMenuItemIcon},r.createElement(he.Z,{kind:T.Kinds.CHECKMARK,size:T.Sizes.XXS,colorState:T.ColorStates.NORMAL})):null,r.createElement("span",{className:u.sortByMenuItemLabel},t(Cs.Z["sort_by_"+e]))))));return r.createElement("div",{style:m,className:u.viewMenu},r.createElement("div",{className:u.sortMenuContainer},r.createElement(ye.Z,null,r.createElement(be.Z,null,r.createElement(f.Z,{"data-test-id":"toolbar-sort-menu-button",kind:M.F.CHROMELESS,tabIndex:-1,"data-iskeynav":!0,isOnDarkBackground:e,ref:e=>{this.sortMenuRef=e}},r.createElement("span",{className:u.sortByMenu},_,r.createElement(he.Z,{kind:T.Kinds.CHEVRON_UP,size:T.Sizes.XS,rotate:T.Rotate.D180,colorState:T.ColorStates.INHERITED})))),r.createElement(Fe.ZP,{triggerOn:we.K2.CLICK,permittedArrowDirections:[we.Ji.UP],offset:4*E.mg$,align:we.xM.END,zAltitude:E.LSY.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover",onShow:this.onToolbarMenuShow.bind(null,"SortMenu"),onHide:this.onSortMenuClose},r.createElement("div",{className:u.popoverListWrapper},r.createElement(G.Z,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},S))))))})),Rs(this,"renderListFilter",(()=>{const{formatMessage:e}=this.context.intl,t=(0,Ut.C4)(this.props.listId).toLowerCase(),s=this.getClassNames(),a=r.createElement(Me.Z,{key:t,name:"list-filter-"+t},r.createElement(f.Z,{"data-test-id":"list-filter-from",kind:M.F.MENUITEM,onClick:e=>this.handleFilterChange(e,i.ukn.FROM)},e(Cs.Z.list_filter_from)),r.createElement(f.Z,{"data-test-id":"list-filter-to",kind:M.F.MENUITEM,onClick:e=>this.handleFilterChange(e,i.ukn.TO)},e(Cs.Z.list_filter_to)),r.createElement(f.Z,{"data-test-id":"list-filter-all",kind:M.F.MENUITEM,onClick:e=>this.handleFilterChange(e,i.ukn.ALL)},e(Cs.Z.list_filter_all)));return r.createElement("div",{className:s.listFilterViewMenu},r.createElement(ye.Z,null,r.createElement(be.Z,null,r.createElement(f.Z,{"data-test-id":"toolbar-list-filter-button",kind:M.F.CHROMELESS,tabIndex:-1,"data-iskeynav":!0},r.createElement("span",{className:s.listFilterMenu},e(Cs.Z["list_filter_"+t]),r.createElement(he.Z,{kind:T.Kinds.CHEVRON_UP,size:T.Sizes.XS,rotate:T.Rotate.D180,colorState:T.ColorStates.INHERITED})))),r.createElement(Fe.ZP,{triggerOn:we.K2.CLICK,offset:5*E.mg$,align:we.xM.CENTER,zAltitude:E.LSY.POPOVER.HIGH,"data-test-id":"toolbar-list-filter-popover"},r.createElement("div",{className:s.popoverListWrapper},r.createElement(G.Z,{focusOnMount:!0,"data-test-id":"toolbar-list-filter-menu"},a)))))})),Rs(this,"renderListHeading",(()=>{const e=(0,Ut.WN)(this.props.listId),{formatMessage:t}=this.context.intl,s=this.getClassNames();switch(e){case i.F6k.IMAGES:return r.createElement("span",{className:s.listHeading},t(Cs.Z.photos_from_email));case i.F6k.DOCUMENTS:return r.createElement("span",{className:s.listHeading},t(Cs.Z.documents))}})),Rs(this,"renderTriageActions",(()=>{const e=this.getClassNames();return r.createElement("ul",{className:e.triageActionList},this.renderArchive(e),this.renderMoveMenu(e),this.renderDelete(e),this.renderSpam(e),this.renderMoreMenu(e))})),Rs(this,"renderDeleteConfirm",(()=>{if(this.state.showDeleteConfirm){const{allItemsSelected:e,allItemsCount:t,selectAll:s,conversations:a}=this.props,{formatMessage:n}=this.context.intl,o=this.getActionableGroupIds(),i={conversations:a,count:s&&e&&t>0?t:o.length};return r.createElement(et.Z,{title:n(Cs.Z.confirm_delete_title),message:this.props.isPermDeleteEnabled?n(Cs.Z.confirm_permanently_delete_messages,i):n(Cs.Z.confirm_delete_messages,i),onConfirm:this.handleDelete,onAbort:this.hideDeleteConfirm})}return null})),Rs(this,"renderMoveConfirm",(e=>{if(this.state.showMoveConfirm){const{allItemsSelected:t,allItemsCount:s,conversations:a,selectAll:n}=this.props,{formatMessage:o}=this.context.intl,i=this.getActionableGroupIds(),l={conversations:a,count:n&&t&&s>0?s:i.length};return r.createElement(et.Z,{title:o(Cs.Z.confirm_move_title),message:o(Cs.Z.confirm_move_messages,l),onConfirm:t=>this.handleMove(e,t),onAbort:this.hideMoveConfirm})}return null})),Rs(this,"renderConfirm",((e,t,s,a)=>{const{allItemsSelected:n,allItemsCount:o,conversations:i,selectAll:l}=this.props,{formatMessage:c}=this.context.intl,d=this.getActionableGroupIds(),E={conversations:i,count:l&&n&&o>0?o:d.length};return r.createElement(et.Z,{title:c(e),message:c(t,E),onConfirm:s,onAbort:a})})),Rs(this,"renderSingleGroupActions",(()=>{const{formatMessage:e}=this.context.intl,t=this.getClassNames(),s=[{kind:T.Kinds.REPLY,action:"reply",stringKey:"message_reply"},{kind:T.Kinds.REPLY_ALL,action:"replyAll",stringKey:"message_reply_all"},{kind:T.Kinds.FORWARD,action:"forward",stringKey:"message_forward"}],a=this.context.getThemeMode()===Vt.zg.DARK,n=s.map((({kind:s,action:n,stringKey:o})=>{const i=e(Cs.Z[o]);return r.createElement(Me.Z,{name:s,key:s,className:t.singleGroupItem+" "+t.rtlRawScaleX},r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":`toolbar-${s}`,"aria-label":i,title:i,kind:s,size:T.Sizes.XS,disabled:!this.props.enableGroupActions,onClick:e=>this.handleSingleGroupAction(n,(0,ue.getInteractionFromEvent)(e)),colorState:T.ColorStates.INHERITED,isOnDarkBackground:a}))}));return r.createElement("div",{className:t.singleGroupActions},r.createElement("ul",{key:"group-actions",className:t.singleGroupActionList},n))})),Rs(this,"renderPreviousNext",(e=>{const{formatMessage:t}=this.context.intl,s={conversations:this.props.conversations},a=!this.props.isPreviousEnabled,n=!this.props.isNextEnabled;return r.createElement("div",{className:e.nextPrevContainer},r.createElement("span",{className:a?e.nextPrevDisabled:e.nextPrev},r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":"toolbar-previous",kind:T.Kinds.INPUT_ARROW_DOWN,rotate:T.Rotate.D180,paddingLess:!0,disabled:a,size:T.Sizes.S,onClick:this.onPreviousItem,title:t(Cs.Z.previous,s),"aria-label":t(Cs.Z.previous,s),colorState:T.ColorStates.INHERITED})),r.createElement("span",{className:n?e.nextPrevDisabled:e.nextPrev},r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":"toolbar-next",kind:T.Kinds.INPUT_ARROW_DOWN,paddingLess:!0,disabled:n,size:T.Sizes.S,onClick:this.handleNext,title:t(Cs.Z.next,s),"aria-label":t(Cs.Z.next,s),colorState:T.ColorStates.INHERITED})))})),Rs(this,"renderCheckboxAndFilters",(()=>{const{kind:e,showListFilter:t}=this.props,s=this.getClassNames(),a=this.getItemSpaceBasedOnPreviewPaneOffset();if(q.Vj.HAS_GROUP_SELECTION[e]||t)return r.createElement("div",{style:a,className:s.cboxWrapper},q.Vj.HAS_GROUP_SELECTION[e]&&this.renderSelectionControls(s),t&&this.renderListFilter())})),Rs(this,"renderUsabiltyOptions",(()=>{const e=this.getClassNames(),{formatMessage:t}=this.context.intl,{kind:s,hasAttachmentPreview:a,hasPrevNext:n}=this.props,o=this.context.getThemeMode()===Vt.zg.DARK;if(q.Vj.HAS_EXPAND_COLLAPSE[s]||q.Vj.HAS_PREVIOUS_NEXT[s]||q.Vj.HAS_CLOSE[s]&&!a)return r.createElement("div",{className:e.usabiltyOptions},q.Vj.HAS_EXPAND_COLLAPSE[s]&&this.renderExpandMessages(e),n&&this.renderPreviousNext(e),q.Vj.HAS_CLOSE[s]&&!a?r.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper},r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":"toolbar-close",disabled:!this.props.enableGroupActions,kind:T.Kinds.CLOSE,size:T.Sizes.XS,onClick:this.handleClose,title:t(Cs.Z.close),"aria-label":t(Cs.Z.close),colorState:T.ColorStates.INHERITED,isOnDarkBackground:o})):null)})),Rs(this,"renderSearchRelevanceCue",(()=>this.sortMenuRef?r.createElement(Fe.ZP,{"data-test-id":"search-relevance-cue",popoverAnchor:this.sortMenuRef,isRTL:this.props.isRTL,align:we.xM.END,triggerOn:we.K2.MOUNT,permittedArrowDirections:[we.Ji.UP],zAltitude:E.LSY.POPOVER.HIGH,bg:we.Ic.GRADIENT,borderRadius:we.cM.MEDIUM,ref:e=>{this.searchRelevanceCuePopoverContent=e}},r.createElement(H.cr,{import:"../search_relevance_cue/index",close:this.state.sortMenuActive,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,90721))},_moduleResolver:function(){return 90721}})):null))}shouldComponentUpdate(e){return!e.skipRendering}componentDidMount(){this.context.bindShortcut(Ms,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(Ms)}render(){const e=this.getClassNames(),{kind:t,showSearchRelevanceCue:s}=this.props,{confirmTitle:a,confirmMessages:n,handleConfirm:o,hideConfirm:i}=this.state;return r.createElement(_.Z,{axis:_.U.HORIZONTAL,circularNavigation:!1,className:e.container,"data-test-id":"message-toolbar",groupTabIndex:E.iUz.MESSAGE_LIST_TOOLBAR,role:"toolbar"},this.renderCheckboxAndFilters(),this.props.showBackToList?r.createElement(Ht.Z,{onClick:this.handleBackToList}):null,this.enableSingleGroupActions()&&this.renderSingleGroupActions(),r.createElement("div",{className:e.mainActionControls},this.props.showTriageActions?this.renderTriageActions():null,this.props.showListHeading?this.renderListHeading():null),this.renderUsabiltyOptions(),q.Vj.HAS_SORT[t]&&this.renderSortMenu(),s&&this.renderSearchRelevanceCue(),r.createElement("hr",{className:e.bottomLine}),this.renderDeleteConfirm(),this.renderMoveConfirm(this.state.showMoveConfirm),a?this.renderConfirm(a,n,o,i):null)}}Rs(Ls,"contextTypes",{navigateTo:n().func.isRequired,executeAction:n().func.isRequired,intl:d.intlShape.isRequired,config:n().object.isRequired,getCss:n().func,getThemeMode:n().func,bindShortcut:n().func,unbindShortcut:n().func,store:n().object.isRequired,os:n().oneOf((0,is.VO)(i.Msg)),getTheme:n().func,getStore:n().func}),Rs(Ls,"defaultProps",{currentSortOrder:i.Asd.DATE_DESC,showLabels:!0,showActionLabels:!0,hasAttachmentPreview:!1,navigateOnMessageAction:()=>{},selectAll:!1,previewpaneInPixels:!1});const Ps=(0,o.connect)(((e,t)=>{const{activeGroupId:s="",kind:a,listId:n,showLabels:r,showActionLabels:o,hasAttachmentPreview:c,navigateOnMessageAction:d}=t,{getAction:E,getFeaturesSelectors:_,getRoute:u,__patchV2MessageGroupItemId__:m,doesFolderIdExist:S,getPrimaryFolderTypeByFolderId:p,getFolderIdsByName:C,getAllItemsCountForListId:A,doesListExist:T,doesStreamExist:h,getListItemIds:I,doesMessageGroupIdExist:R,getListItemIdIndex:D,isAllCardsExpanded:N,getMainStreamListIds:f,isFeatureEnabled:M,getSelectedAccountId:L,getAccountIdsOfSelectedItems:P,getNumberOfSelectedItemsInList:y,getSelectedStreamItems:b,getStreamSelectionType:F,getMessageIdsFromMessageGroupId:U,getMessagesSelectors:v,isSpamMessage:w,isTrashMessage:G}=(0,g.selectors)(e),k=u(),H=(0,Ut.Fh)(n),B=A(n),x=(0,Ut.WN)(n),V=(0,Ut.GG)(n),W=k.name===i.n8z.SEARCH,Z=_(),K=M(i.ANe.CONVERSATIONS),z=M(i.ANe.SEARCH_RELEVANCE_CUE)&&W&&!(0,Ut.yE)(n);let Y,j;if(s&&R(s)&&(j=m(s,n)),H)S(H)&&(Y=p(H));else if(j){const{folder:e}=(0,l.sd)(j);Y=p(e.id)}if(W){const{folderIds:e,folderNames:t}=(0,Ut.Mz)(n);let s=e,a=[];t.length&&(s=Ft()(t.reduce(((e,t)=>e.concat(C(t))),s))),s.length&&(a=s.map((e=>p(e)))),1===a.length&&a[0]===i.Sck.ARCHIVE&&(Y=a[0])}const Q=(0,O.BA)(f(u())),X=(h(Q)?b(Q):[]).map((({id:e})=>e)),J=y(n),$=T(n)?I(n):[],ee=D(n,s),te=L(),se=a===q.ZP.MESSAGE_VIEW,ae=F(Q),ne=M(i.ANe.SELECT_ALL);let re=!1;re=ne?ae===i.ie0.ALL:X.length>0&&X.length>=$.length;const oe=W&&!!(0,Ut.DF)(n),ie=!(W&&V&&(x===i.F6k.IMAGES||x===i.F6k.DOCUMENTS)),le=(0,hs.f)({kind:a,activeGroup:j,allCardsExpanded:j?N(n,j.id):null,primaryFolderType:Y,listContentType:x}),ce=P(Q,n),de=le.move&&ce.length>1?Cs.Z.disable_move_msgs_across_accunts:Cs.Z.disable_move_msgs_default;if(le.move=le.move&&ce.length<=1,1===ce.length&&(le.move=le.move&&ce[0]===te),a===q.ZP.MESSAGE_VIEW){const e=$.length;le.previous=!!e&&ee>0,le.next=!!e&&ee<e-1}const Ee=Z.getSetting(i.Zrf.PREVIEW_PANE),_e=Z.getSetting(i.Zrf.BULK_ACTION_DIALOG_THRESHOLD),ue=s&&R(s)&&U(s)||[],me=1===ue.length&&ue[0]||"",Se=Boolean(M(i.ANe.UNSUBSCRIBE_FROM_MESSAGE)&&me&&(0,gs.m3)(v().getDecos(me),i.Jd6.USB)&&!w(me)&&!G(me)&&M(i.ANe.UNSUBSCRIBE_FOR_SPAM));return{enableGroupActions:Ee?!!s&&0===J:!!s,enableTriageActions:""!==s||J>0,isBulkAction:!s&&J>=_e,isSpamEnabled:!!le.spam,isHamEnabled:!!le.ham,isArchiveEnabled:!!le.archive,isRestoreEnabled:!!le.restore,isMoveEnabled:!!le.move,isDeleteEnabled:!!le.delete,isPermDeleteEnabled:!!le.permDelete,hasPrevNext:!!le.prevNext,isPreviousEnabled:!!le.previous,isNextEnabled:!!le.next,isRafEnabled:!!le.raf,isCollapseAllEnabled:!!le.collapseAll,isExpandAllEnabled:!!le.expandAll,isStorefrontEnabled:M(i.ANe.STOREFRONT),shouldDoSelectAll:ne&&re&&!s&&(B>=_e||B>=J),selectionCount:ne&&re?B:J,skipRendering:E().type===os.STREAM_CURSOR_MOVED,activeGroupId:s,folderType:Y,currentSortOrder:(0,Ut.WW)(n),disabledMoveTitle:de,kind:a,listId:n,route:k,showLabels:r,showActionLabels:o,hasAttachmentPreview:c,showBackToList:se,showListFilter:oe,showTriageActions:ie,showListHeading:!ie,allItemsSelected:re,navigateOnMessageAction:d,allItemsCount:B,previewpane:Ee,bulkActionDialogThreshold:_e,selectAll:ne,conversations:K,streamId:Q,isConversationMode:M(i.ANe.CONVERSATIONS),showSearchRelevanceCue:z,previewpaneInPixels:M(i.ANe.PREVIEW_PANE_IN_PIXELS),mid:me,showUnsubscribeFlowForSpam:Se}}),(e=>({onChangeAllMessageCardExpansion:t=>e((0,X.Ty)(t)),onClose:t=>e((0,L.I3)(t)),closePreviewMessage:t=>e((0,L.Qg)(t)),loadMoreItems:t=>e((0,Pt.ZP)(t)),onHideDeleteConfirm:t=>e((0,Xe.IU)(t)),navigateBack:t=>e((0,L.n)(t))})),void 0,{areOwnPropsEqual:is.PJ})(Ls);var ys=s(5156),bs=s(67607),Fs=s(97735),Us=s(73924),vs=s(18446),ws=s.n(vs),Gs=s(99839),ks=s(77031);function Hs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Bs=_e.nJ.MSG_BODY,xs=["shift+p"],Vs=(0,d.defineMessages)({conversation_view_label:{id:"message_group_view.conversation_view",defaultMessage:"Conversation View"},message_view_label:{id:"message_group_view.message_view",defaultMessage:"Message View"}}),Ws=e=>`${e.csid}-${e.folderType}`,Zs=e=>`MessageGroupView-${e}`;class Ks extends r.Component{constructor(e){super(e),Hs(this,"getSavedScrollTop",(()=>this.initialScrollTop?this.initialScrollTop:this.props.preservedState&&this.props.preservedState.uiState?this.initialScrollTop=this.props.preservedState.uiState.scrollTop:0)),Hs(this,"navigateOnMessageAction",(()=>{const{listId:e,messageGroup:t}=this.props;this.props.loadMoreItems({listId:e,currentGroupId:t.id})})),Hs(this,"getUIState",(()=>{const e=this._scrollContainer&&(0,c.findDOMNode)(this._scrollContainer),{uiState:t={}}=this.props.preservedState;return e?{type:i.sKi.COMPONENT_UI_STATE,hash:Zs(this.props.groupIdStateHash),id:this.props.messageGroup.id,uiState:{...t,scrollTop:e.scrollTop}}:{}})),Hs(this,"handleShortcuts",(e=>{const t=String.fromCharCode(e.which).toLowerCase(),s=this._getFirstAttachment();"p"===t&&e.shiftKey&&s&&(e.stopPropagation(),e.preventDefault(),(0,Lt.M)(s)?this.previewAttachment(s.id,(0,ue.getInteractionFromEvent)(e)):this.props.onPreviewAttachmentAlert({downloadUrl:s.downloadUrl}))})),Hs(this,"previewAttachment",((e,t)=>{const{messageGroup:s,previewPaneSetting:a,route:n}=this.props,r=n.query.messagePreview||a!==i.EsZ.NO&&-1===[i.n8z.MESSAGE_FROM_FOLDER_LIST,i.n8z.MESSAGE_FROM_SEARCH_LIST].indexOf(n.name)?{messagePreview:"1"}:{},o={mKey:_e.JE.OPEN_DOC_PREVIEW,sec:_e.nJ.ATTM_PREVIEW,interactionType:t};this.context.navigateTo({route:(0,me.Sk)(this.props.listId,s.id,e,r),i13nModel:o})})),Hs(this,"renderAttachments",(e=>{const{attachments:t,folder:s}=e,a=void 0!==s&&s.types.filter((e=>e===i.Sck.BULK)).length>0;return t&&t.length?r.createElement(mt.ZP,{ref:t=>this._attachmentTrays[e.id]=t,attachments:t,readOnly:!0,allowDownload:!a,mayContainVirus:a,message:e,onAttachmentPreview:this.previewAttachment,shouldShowSpamAttachmentWarning:this.props.shouldShowSpamAttachmentWarning}):null})),Hs(this,"scrollToAttachmentTray",(e=>{const t=this._attachmentTrays[e];t&&(0,c.findDOMNode)(t)&&(0,c.findDOMNode)(t).scrollIntoView()})),Hs(this,"hasDeco",((e,t)=>t.some((t=>t&&t.id===e)))),Hs(this,"handleMailtoClick",((e,t)=>{if(!t)return;const s=(0,ue.generateUID)();this.props.onOpenComposeView({route:(0,me.Rl)(s),mailtoAttr:t,message:e})})),Hs(this,"handleMessageRead",((e,{i13nModel:t={}})=>{const{messageGroup:s,streamId:a,listId:n,onToggleRead:r}=this.props,o=!e.flags.read;r(o,{messageIds:[e.id],streamId:a,streamItem:{messageIds:[e.id],id:s.id,listId:n},i13nModel:Object.assign({mKey:o?_e.JE.MSG_HDR_MARK_READ:_e.JE.MSG_HDR_MARK_UNREAD,sec:Bs,mKeyGroup:o?_e.rO.markRead:_e.rO.markUnread},t)})})),Hs(this,"handleMessageStar",((e,{i13nModel:t={}})=>{const{messageGroup:s,streamId:a,listId:n,onToggleStar:r}=this.props,o=!e.flags.flagged;r(o,{messageIds:[e.id],streamId:a,streamItem:{messageIds:[e.id],id:s.id,listId:n},i13nModel:Object.assign({mKey:o?_e.JE.MSG_HDR_MARK_STAR:_e.JE.MSG_HDR_MARK_UNSTAR,sec:Bs,mKeyGroup:o?_e.rO.markStar:_e.rO.markUnstar},t)})})),Hs(this,"_logVisibilityStat",(e=>{const{conversations:t,hasCalendarCard:s,hasCoupon:a}=this.props;Gs.Z.error("message_visibility_stat",{...e,hasCoupon:a,conversations:t,hasCalendarCard:s})})),Hs(this,"renderCard",((e,t,s)=>{const{cards:a,bodyStates:n,retryCounts:o,listId:l,messageGroup:c,windowDimensions:d,hasAttachmentPreview:E,canTakeFocus:_,conversations:u,hasCalendarCard:m,canEditSubject:S,isSendRequested:p}=this.props;let C;const{message:A}=t,T=Ws(t),{messageId:h,expansionState:g}=t,I=n[h],R=o[h],O=this.state.activeItem===T,D=a.findIndex((e=>e.id===t.id)),N=[i.Lvq.EXPANDED,i.Lvq.TEMPORARY_EXPANSION].indexOf(g)>-1;if(t.folderType===i.Sck.DRAFT&&t.hasComposeFormat)C=r.createElement(ut,{csid:t.csid});else if(t.folderType===i.Sck.DRAFT&&p(t.csid))C=r.createElement(it,{cardId:T,csid:t.csid,totalMessages:t.total,conversations:u,windowDimensions:d,hasAttachmentPreview:E,renderAttachmentTray:this.renderAttachments});else if(t.folderType===i.Sck.DRAFT){const e=this.context.getCss(ft(),{conseqCompose:s&&s.folderType===i.Sck.DRAFT,active:O,isDraftError:I===i.DAQ.ERROR});C=r.createElement("div",{ref:e=>{e&&(this._refs[T]=e,this.adjustBottomMarginForDropdownOverflow(T))},className:e.composeCard,onFocus:this.handleCardActivation.bind(this,t)},r.createElement(It,{ref:e=>this._refs[`compose-${T}`]=e,csid:t.csid,showCloseButton:!1,isQuickReply:!0,scrollContainer:this._scrollContainer,windowDimensions:d,hasAttachmentPreview:E,canEditSubject:S,widthChanged:this.props.widthChanged}))}else C=r.createElement(rt,{ref:T,listId:l,messageGroupId:c.id,message:A,idx:D,totalMessages:t.total,bodyState:I,retryCount:R,expanded:N,logVisibilityStat:this._logVisibilityStat,expandable:a.length>1||m,onToggleExpand:this.handleMessageCardExpansion.bind(this,t),onToggleRead:this.handleMessageRead.bind(this,A),onToggleStar:this.handleMessageStar.bind(this,A),onClick:this.handleCardActivation.bind(this,t),onMailtoClick:this.handleMailtoClick.bind(this,A),renderAttachmentTray:this.renderAttachments.bind(this,A),scrollToAttachmentTray:this.scrollToAttachmentTray.bind(this,A.id),active:O,canTakeFocus:_,navigateOnMessageAction:this.navigateOnMessageAction,conversations:u});return r.createElement("li",{key:T,className:e.messageCard},C)})),Hs(this,"handleStackExpand",((e,t)=>{t.preventDefault();const{cards:s}=e,a=i.Lvq.COLLAPSED;this.props.onChangeMessageCardExpansion({itemsToUpdate:s.map((e=>({...e,expansionState:a})))})})),Hs(this,"handleMessageCardExpansion",(e=>{const t=e.expansionState===i.Lvq.EXPANDED||e.expansionState===i.Lvq.TEMPORARY_EXPANSION?i.Lvq.COLLAPSED:i.Lvq.EXPANDED;this.props.onChangeMessageCardExpansion({itemsToUpdate:[{...e,expansionState:t}],...t===i.Lvq.EXPANDED?{i13nModel:{mKey:_e.JE.OPEN_MSG,sec:_e.nJ.MSG_BODY,mKeyGroup:_e.rO.openMsg}}:{}}),this.setState({activeItem:Ws(e)})})),Hs(this,"handleCardActivation",(e=>{const t=Ws(e);this.adjustBottomMarginForDropdownOverflow(t),this.setState({activeItem:t}),(e.messageId||e.csid)&&this.props.onFocusMessageCard({listId:this.props.listId,card:e})})),Hs(this,"adjustBottomMarginForDropdownOverflow",(e=>{if(this._isLastCard(e)&&this._lastCardIsCompose()&&this._refs[e]){const t=this._refs[e],s=t.getBoundingClientRect();if(s.bottom>=document.body.clientHeight)t.style.marginBottom="";else{const e=document.body.clientHeight-s.bottom-1;t.style.marginBottom=e+"px"}}if(!this._isLastCard(e)&&this._isCardCompose(e)&&this._refs[e]){this._refs[e].style.marginBottom=""}})),Hs(this,"_isLastCard",(e=>{const{cards:t}=this.props;return!!t.length&&Ws(t[t.length-1])===e})),Hs(this,"handleKeyDown",((e,t)=>{switch(t.key){case"Enter":return t.preventDefault(),t.stopPropagation(),void this.handleStackExpand(e,t);default:return}})),Hs(this,"renderStack",((e,t)=>r.createElement("li",{className:e.stack,key:t.cards[0].messageId,onClick:this.handleStackExpand.bind(this,t),onKeyDown:this.handleKeyDown.bind(this,t),"data-test-id":"super-collapse-card","data-iskeynav":!0},r.createElement("div",{className:e.stackLine}),r.createElement("span",{className:e.stackLabel},r.createElement(d.FormattedMessage,{id:"super_collapsed_label",defaultMessage:"+{messageNum, number} from {senderList}",values:{messageNum:t.cards.length,senderList:r.createElement(Rt.Z,{visibleNum:10,senders:(0,l.aS)(t.cards.map((e=>((0,Mt.Z)(!e.isDraft,"Stacking drafts is not supported"),e.message)))),myAddresses:this.props.myAddresses,layoutClassNames:e})}})),r.createElement("div",{className:e.stackLine})))),Hs(this,"renderCardStacks",(e=>{const t=this.props.cards.reduce(((e,t)=>{const s=t.expansionState;let a=e[e.length-1];return a&&s===a.cardExpansion||(a={cardExpansion:s,cards:[]},e.push(a)),a.cards.push(t),e}),[]).map((t=>t.cardExpansion!==i.Lvq.STACKED||t.cards.length<2||this.props.cards.length<10?t.cards.map(((t,s,a)=>this.renderCard(e,t,a[s+1]))):this.renderStack(e,t)));return Array.prototype.concat.apply([],t)})),Hs(this,"markNewlyLoadedBodiesAsRead",(({messageGroup:e,bodyStates:t,isAppVisible:s,cards:a},{bodyStates:n,isAppVisible:r})=>{const{messagesMarkedAsUnread:o}=this.state,{markAsReadInterval:l,streamId:c,listId:d,streamItems:E,onToggleRead:_}=this.props;if(s&&l!==i.SEm.NEVER){const s=a.filter((e=>{const{message:s,expansionState:a}=e;return!!e.message&&!(s.flags.read||t[s.id]!==i.DAQ.LOADED||a!==i.Lvq.EXPANDED&&a!==i.Lvq.TEMPORARY_EXPANSION||n[s.id]===t[s.id]&&r||-1!==o.indexOf(s.id))}));if(s.length){const t=s.map((e=>e.messageId));this.markReadTimer=setTimeout((()=>{_(!0,{itemId:e.id,messageIds:t,streamId:c,streamItem:{id:e.id,listId:d,messageIds:t},streamItems:E,persistStreamItemExpansionStates:a,isAutomatic:!0})}),r?1e3*l:1e3)}}})),Hs(this,"getUserInitiatedUnreadStatus",((e,t)=>{const{messagesMarkedAsUnread:s}=this.state,a=[...s];return t.forEach((t=>{if(!t.flags.read){const s=e.find((e=>e.id===t.id&&e.flags.read!==t.flags.read));s&&a.push(s.id)}})),a})),Hs(this,"handleReplyForward",((e,t)=>{const{streamId:s,listId:a,messageGroup:n}=this.props,r=n?{id:n.id,listId:a}:void 0;this.props.onReplyForward({i13nModel:t,streamId:s,composeMode:e,listId:a,streamItem:r})})),Hs(this,"handleReply",(e=>{const t={mKey:_e.JE.QUICK_REPLY,sec:_e.nJ.QUICK_COMPOSE,mKeyGroup:_e.rO.replyMsg,interaction_type:(0,ue.getInteractionFromEvent)(e)};this.handleReplyForward(i.AGu.Modes.REPLY,t)})),Hs(this,"handleReplyAll",(e=>{const t={mKey:_e.JE.QUICK_REPLYALL,sec:_e.nJ.QUICK_COMPOSE,mKeyGroup:_e.rO.replyAllMsg,interaction_type:(0,ue.getInteractionFromEvent)(e)};this.handleReplyForward(i.AGu.Modes.REPLY_ALL,t)})),Hs(this,"handleForward",(e=>{const t={mKey:_e.JE.QUICK_FORWARD,sec:_e.nJ.QUICK_COMPOSE,mKeyGroup:_e.rO.forwardMsg,interaction_type:(0,ue.getInteractionFromEvent)(e)};this.handleReplyForward(i.AGu.Modes.FORWARD,t)})),Hs(this,"handleToggleGroupRead",(e=>{e.preventDefault();const{messageGroup:t,streamId:s,listId:a,onToggleRead:n}=this.props,r=t?{id:t.id,listId:a}:void 0,o=t.messages[0].flags.read;n(!o,{streamId:s,streamItem:r,i13nModel:{mKey:o?_e.JE.MSG_GRP_HDR_MARK_UNREAD:_e.JE.MSG_GRP_HDR_MARK_READ,sec:_e.nJ.MSG_BODY,mKeyGroup:o?_e.rO.markUnread:_e.rO.markRead}})})),Hs(this,"handleToggleGroupStar",(e=>{e.preventDefault();const{messageGroup:t,streamId:s,listId:a,onToggleStar:n}=this.props,r=t?{id:t.id,listId:a}:void 0,o=t.messages[0].flags.flagged;n(!o,{streamId:s,streamItem:r,i13nModel:{mKey:o?_e.JE.MSG_GRP_HDR_MARK_UNSTAR:_e.JE.MSG_GRP_HDR_MARK_STAR,sec:_e.nJ.MSG_BODY,mKeyGroup:o?_e.rO.markUnstar:_e.rO.markStar}})})),Hs(this,"_shouldShowLabels",(()=>!this.props.hasAttachmentPreview)),Hs(this,"_getFirstAttachment",(()=>{const e=(this.props.messageGroup.messages||[]).find((e=>e.attachments&&e.attachments.length));return e&&e.attachments[0]})),Hs(this,"_lastCardIsCompose",(()=>{const{cards:e,isSendRequested:t}=this.props,{folderType:s,csid:a}=e[e.length-1];return Boolean(s===i.Sck.DRAFT&&!t(a))})),Hs(this,"_isCardCompose",(e=>{const{cards:t,isSendRequested:s}=this.props,a=t.find((t=>Ws(t)===e));if(!a)return!1;const{folderType:n,csid:r}=a;return Boolean(n===i.Sck.DRAFT&&!s(r))})),Hs(this,"renderCardGroup",(()=>{var e;const{messageGroup:t,couponCards:a,isBatchRelatedCards:n,showCommerceCardGroup:o,relatedCardsStatus:l}=this.props,{messages:c}=t;return!("decos"in c[0])||n&&l!==i.bYh.LOADED?null:o?r.createElement(H.cr,{import:"../card_group/molecules/commerce_card_group",groupId:t.id,parentMessageId:c[0].id,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,86479))},_moduleResolver:function(){return 86479}}):r.createElement(H.cr,{defer:!0,import:"../card_group",lastMessageId:c[c.length-1].id,parentMessageId:c[0].id,messageSubject:null===(e=c[0].headers)||void 0===e?void 0:e.subject,couponCards:a,currentGroupId:t.id,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,52851))},_moduleResolver:function(){return 52851}})})),Hs(this,"_setScrollContainerRef",(e=>{this._scrollContainer=e}));const{cards:t,hasCalendarCard:a}=e;this._refs={},this.state={activeItem:!a&&t.length>0&&Ws(t[t.length-1]),messagesMarkedAsUnread:[]}}UNSAFE_componentWillReceiveProps(e){const{messageGroup:t,bodyStates:s}=this.props,{messageGroup:a,bodyStates:n}=e;this.props.markAsReadOnUnmount?this.setState({messagesMarkedAsUnread:this.getUserInitiatedUnreadStatus(this.props.messageGroup.messages||[],e.messageGroup.messages)}):!ws()(t,a)&&ws()(s,n)?this.setState({messagesMarkedAsUnread:this.getUserInitiatedUnreadStatus(this.props.messageGroup.messages||[],e.messageGroup.messages)},(()=>this.markNewlyLoadedBodiesAsRead(e,this.props))):this.markNewlyLoadedBodiesAsRead(e,this.props)}UNSAFE_componentWillMount(){this._attachmentTrays={}}scrollToCard(e,t,s={findNode:c.findDOMNode}){const a=s.findNode(this._refs[t]),n=s.findNode(this._scrollContainer),{cards:r,hasItemsAtTheTopOfTheCard:o}=this.props,i=this.getSavedScrollTop();n&&(i>0?n.scrollTop=this.getSavedScrollTop():o?n.scrollTop=0:(a&&(n.scrollTop=a.offsetTop-q.Sf),0!==r.indexOf(e)&&1!==r.length||(n.scrollTop=0)))}componentDidMount(){this.props.markAsReadOnUnmount||this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{},isAppVisible:this.props.isAppVisible}),this.context.bindShortcut(xs,this.handleShortcuts);let e=this.state.activeItem;const{cards:t}=this.props,s=t.find((({message:e})=>e&&!e.flags.read));s&&(e=Ws(s),this.setState({activeItem:e})),this.scrollToCard(s,e)}componentWillUnmount(){const{markAsReadInterval:e,showPACNotification:t,updatePacNotificationCue:s}=this.props;this.context.unbindShortcut(xs),this.props.markAsReadOnUnmount?this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{}}):this.markReadTimer&&e!==i.SEm.IMMEDIATELY&&clearTimeout(this.markReadTimer),t&&s({name:i.ANe.WEB_PAC_NOTIFICATION_CUE})}render(){const e=this.context.getCss(ft()),{messageGroup:t,folderType:a,hasToolbar:n,listId:o,streamId:c,hasAttachmentPreview:d,conversations:u,gif:m,stationery:S,hasCalendarCard:p,calendarAttachment:C,cards:A,showSmartReplyForLastCard:T,showBrandShortcuts:h}=this.props,{messages:g}=t,I=a===i.Sck.BULK,R=(0,l.sd)(t),O=this._lastCardIsCompose();return A.length<=0?null:r.createElement(yt.Z,{getUnsyncedData:this.getUIState},r.createElement("div",{className:e.container,"data-test-id":"message-group-view"},n&&r.createElement(Ps,{listId:o,streamId:c,kind:q.ZP.MESSAGE_VIEW,activeGroupId:t.id,showLabels:this._shouldShowLabels(),hasAttachmentPreview:d,navigateOnMessageAction:this.navigateOnMessageAction}),r.createElement("div",{role:"main","data-test-id":"message-group-view-scroller","aria-label":this.context.intl.formatMessage(u?Vs.conversation_view_label:Vs.message_view_label),ref:this._setScrollContainerRef,className:e.scrollView},this.renderCardGroup(),r.createElement(v,{onToggleGroupRead:this.handleToggleGroupRead,onToggleGroupStar:this.handleToggleGroupStar,isRead:R.flags.read,flagged:R.flags.flagged,listId:o,messageGroup:t}),p&&r.createElement("div",{className:e.rsvpContainer},r.createElement(H.cr,{import:"../rsvp_view/index",eventAttachment:C.event,messageId:C.message.id,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,39738))},_moduleResolver:function(){return 39738}})),r.createElement(_.Z,{groupTabIndex:E.iUz.MESSAGE_LIST_MAIN,circularNavigation:!1,excludeKeyCodes:["ArrowUp","ArrowDown"]},r.createElement("ul",{className:Dt()(e.cardsContainer,{danger:I}),"data-test-id":"cards"},this.renderCardStacks(e)),!O&&u?r.createElement(z,{stationery:S,gif:m,onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward,showSmartReplyForLastCard:T,message:g[g.length-1],messageGroupId:t.id}):null)),h&&r.createElement(ks.Z,null)))}}Hs(Ks,"contextTypes",{navigateTo:n().func.isRequired,intl:d.intlShape.isRequired,config:n().object.isRequired,getCss:n().func,bindShortcut:n().func,unbindShortcut:n().func}),Hs(Ks,"defaultProps",{preservedState:{}});const zs=(0,o.connect)(((e,t)=>{var s,a;let n=[];const{rsvpEnabled:r,messageGroup:o,listId:l,conversations:c,hasCoupon:d}=t,E=r&&((e={})=>{const t={};return(e.messages||[]).some((e=>{const s=(0,Lt.Cw)(e.attachments)[0];if(s)return t.message=e,t.event=s,!0})),Object.keys(t).length?t:null})(o),_=!!E,{getRoute:u,getMessagesSelectors:m,getMessageFromAddress:S,getMessageToAddress:p,getMessageCcAddress:C,getMessageBccAddress:A,getMessageDate:T,getMessageSnippet:h,getCouponsSelectors:I,getReconciledUnysncedDataByHash:R,getMessageFlags:D,getAttachmentsByMessageId:N,getFoldersSelectors:f,getSubjectAndSnippetSelectors:M,isSingleDraftGroup:L,isSendRequested:P,getMainStreamListIds:y,getMessageGroupStreamItemsWithExpansionStates:b,getMessageFolderId:F,isFeatureEnabled:U,getMessageBodiesSelectors:v,getGroupIdStateHash:w,getMainStreamItems:G,enableSmartReply:k,getComposeFormat:H,doesComposeSessionExist:B,getSetting:x,getFalconRelatedCardSelectors:V}=(0,g.selectors)(e),W=u(),Z=(0,O.BA)(y(W)),{getDownloadAllUrl:K,getCardConversationId:z}=m(),{getFolderTypes:q}=f(),{hasInlineImage:Y}=v(),{getSubject:j}=M(),{getCouponCardsForCardConversationId:Q}=I(),{doCommerceRelatedCardsExistForGroupId:X,getRelatedCardsStatus:J}=V(),$=w(o.id),ee=R(Zs($)),te=!c||L(o.id),se={id:o.id,listId:l},ae=G(W);if(d){n=Q(z(o.messages[0].id))}const ne=b(se).map((e=>{const{messageId:t}=e;if(e.folderType===i.Sck.DRAFT)return{...e,hasComposeFormat:[i.UeM.COMPACT,i.UeM.MINIMIZED].indexOf(H(e.csid))>-1};const s=F(t);return{...e,message:{id:t,flags:D(t),folder:{id:s,types:q(s)},headers:{subject:j(t,l),from:S(t),to:p(t),cc:C(t),bcc:A(t),date:T(t)},snippet:h(t,l),attachments:N(t),downloadAllUrl:K(t)}}})).filter((e=>e.folderType!==i.Sck.DRAFT||e.folderType===i.Sck.DRAFT&&B(e.csid))),re=ne.filter((({folderType:e,expansionState:t})=>{return e!==i.Sck.DRAFT&&(s=t,[i.Lvq.EXPANDED,i.Lvq.TEMPORARY_EXPANSION].indexOf(s)>-1);var s})).map((({messageId:e})=>e)).some(Y),oe=U(i.Zrf.SHOW_IMAGES),ie=U(i.ANe.INLINE_IMAGES_PROXIED),le=!oe&&(re&&ie),ce=_||d,{messages:de}=o;return{cards:ne,isSendRequested:P,hasCalendarCard:_,calendarAttachment:E,streamId:Z,preservedState:ee,canEditSubject:te,couponCards:n,showPACNotification:le,route:W,hasItemsAtTheTopOfTheCard:ce,groupIdStateHash:$,streamItems:ae,showSmartReplyForLastCard:k(o.id,null===(s=de[de.length-1])||void 0===s?void 0:s.id),showBrandShortcuts:U(i.ANe.STOREFRONT_SHORTCUTS)&&x(i.Zrf.PREVIEW_PANE)===i.EsZ.NO&&(0,gs.m3)(null==de||null===(a=de[0])||void 0===a?void 0:a.decos,[i.Jd6.CPN,i.Jd6.ORD,i.Jd6.SH]),isBatchRelatedCards:U(i.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED),relatedCardsStatus:J(o.id),showCommerceCardGroup:U(i.ANe.COMMERCE_CARD_GROUP)&&X(o.id)}}),(e=>({onChangeMessageCardExpansion:t=>e((0,X.X6)(t)),onClose:({route:t,i13nModel:s={}})=>{e((0,L.I3)({route:t,i13nModel:s}))},loadMoreItems:t=>e((0,Pt.ZP)(t)),updatePacNotificationCue:t=>e((0,ys.f7)(t)),onToggleRead:(t,s)=>e(t?(0,bs.zJ)(s):(0,bs.WF)(s)),onToggleStar:(t,s)=>e(t?(0,Fs.Hw)(s):(0,Fs.ww)(s)),onPreviewAttachmentAlert:t=>e((0,Us.b2)(t)),onFocusMessageCard:t=>e((0,X.Ju)(t)),onReplyForward:t=>e((0,X.h2)(t)),onOpenComposeView:t=>e((0,L.Hg)(t))})))(Ks),qs=S()(ft());function Ys({onRetry:e}){return r.createElement("div",{className:qs.empty,"data-test-id":"group-error"},r.createElement("p",null,r.createElement(d.FormattedMessage,{id:"group_error.failed_to_load",defaultMessage:"We couldn't load this message."})),r.createElement("a",{className:qs.emptyRetry,onClick:e,"data-test-id":"group-error-retry"},r.createElement(d.FormattedMessage,{id:"group_error.retry",defaultMessage:"Retry"})))}function js(){return(js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Qs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Xs extends r.Component{constructor(...e){super(...e),Qs(this,"handleErrorRetry",(()=>{})),Qs(this,"renderError",(()=>r.createElement(Ys,{onRetry:()=>this.handleErrorRetry()}))),Qs(this,"renderLoading",(()=>r.createElement(Re.Z,null)))}shouldComponentUpdate(e){return!e.skipRendering}render(){const{isAttachmentRouteInFullScreenMode:e=!1,groupState:t,messageGroup:s}=this.props;if(e)return null;switch(t){case i.DAQ.DOES_NOT_EXIST:case i.DAQ.LOADING:return this.renderLoading();case i.DAQ.ERROR:return this.renderError();case i.DAQ.LOADED:default:{const e=(0,l.g_)(s);return r.createElement(zs,js({},this.props,{key:e?s.messages[0].csid:s.id}))}}}}Qs(Xs,"defaultProps",{widthChanged:0});const Js=(0,o.connect)(((e,t)=>{const{getAction:s,getFeaturesSelectors:a,doesMessageGroupIdExist:n,getRoute:r,getRouteParams:o,isMessageGroupRequested:l,getDraftMessageId:c,getGroupIdContainingMessageId:d,doesComposeSessionExist:E,isSent:_,getWindowDimensions:u,isAppVisible:m,shouldShowSpamAttachmentWarning:S,__patchV2MessageGroupItemId__:p,__patchV2MyAddresses__:C,getMessageBodyState:A,getMessageBodyRetryCount:T,getAccountIdFromMessageGroupId:h}=(0,g.selectors)(e),{listId:I,hasToolbar:R=!0}=t,O={},D={},N=r(),f=o(),M=u(),L=a(),P=L.isEnabled(i.ANe.RSVP),y=!!L.getSetting(i.Zrf.PREVIEW_PANE)&&(N.name===i.n8z.FOLDER||N.name===i.n8z.LIST||N.name===i.n8z.SEARCH),b=f.attachmentId&&"1"===N.query.fullscreen,F=f.attachmentId&&"1"!==N.query.fullscreen,U=(0,Ut.RI)(I)&&(0,Ut.ap)(I,{read:!1})&&-1!==[i.n8z.MESSAGE_FROM_SEARCH_LIST,i.n8z.SEARCH].indexOf(N.name)||(0,Ut.WW)(I)===i.Asd.UNREAD&&-1!==[i.n8z.SEARCH,i.n8z.FOLDER].indexOf(N.name),v=L.getSetting(i.Zrf.MARK_AS_READ_INTERVAL);let w=t.openedMessageId||f.groupId;if(t.csid){if(!E(t.csid)||_(t.csid))return{groupId:w,groupState:i.DAQ.DOES_NOT_EXIST};if(t.csid&&!t.openedMessageId){const e=c(t.csid);e&&(w=d(e))}}else if(!n(w)||l(w))return{groupId:w,groupState:l(w)?i.DAQ.DOES_NOT_EXIST:i.DAQ.ERROR,hasAttachmentPreview:F,isAttachmentRouteInFullScreenMode:b,hasToolbar:R,canTakeFocus:y};const G=p(w,I),k=C(),H=h(w,I);G.messages.forEach((e=>{O[e.messageId]=A(e.messageId),D[e.messageId]=T(e.messageId)}));const B=L.isEnabled(i.ANe.CONVERSATIONS),x=L.isEnabled(i.ANe.GIF),V=L.isEnabled(i.ANe.STATIONERY),W=L.isEnabled(i.ANe.DEALS)&&G.messages[0].decos.some((e=>e&&"CPN"===e.id)),Z=s().type;return{skipRendering:Z===os.STREAM_CURSOR_MOVED||Z===os.ITEM_LIST_PAGE_SCROLLED,stationery:V,gif:x,conversations:B,bodyStates:O,retryCounts:D,groupState:i.DAQ.LOADED,hasToolbar:R,hasCoupon:W,accountIds:[H],myAddresses:k,messageGroup:G,isAppVisible:m(),hasAttachmentPreview:F,isAttachmentRouteInFullScreenMode:b,windowDimensions:M,markAsReadOnUnmount:U,markAsReadInterval:v,canTakeFocus:y,rsvpEnabled:P,shouldShowSpamAttachmentWarning:S}}))(Xs)},68449:e=>{"use strict";e.exports={className:{default:{groupHeader:"D_F m_Z12nDQf P_Z1A2bQX I_52qC ab_CI",subjectRow:"D_F ab_C em_N o_h A_6FsP P_3Y3Gk",subject:"en_N i_3mCHE",noSubject:"M_3gI0W",messageCount:"em_0 ac_C D_X i_6FIA P_3gJiI e_fFR Q_fq7 E_eTB A_6DUj I_ZpQYvz",readUnread:"D_F ab_C en_0 E_eo6 Y_fq7",messageGroupDestinationRow:"D_F ab_C em_N en_0 o_h Y_dm5 E_fq7 U_dm5 Q_72FG",messageGroupDestinationContainer:"D_F t_r A_6EqO C_Z1TsNbA cZ1RzsTJ_Z2hYGcu",messageGroupDestinationAccount:"G_e J_x o_h a_7yHc",messageGroupDestinationFolder:"G_e J_x o_h a_7iGr",endSideButtonGroup:"D_F ab_C Y_eTB en_0",star:"cdPFi_ZpQYvz H_6MGW W_6MGW Y_689y lv_2gnJCA h_Z13pql2 h4_2d9T5e"},compactGroupHeader:{messageGroupDestinationRow:"Y_dm5 E_fq7 U_dm5 Q_6Fd5"}},_key:"1C64kN"}},68370:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB p_a Z_0 L_0 R_0 T_0 B_0 cZ1RN91d_GG I_ZnwrMC",rsvpContainer:"P_6Fd5 I_52qC m_Z12nDQf",cardsContainer:"hd_n M_0 X_0",composeCard:"D_F ek_BB gl_C d_3vFsb b_Z14vXdP e_dRA I_52qC",messageCard:"m_Z12nDQf D_F ek_BB ir_0",stack:"I_52qC t_C r_P D_F ab_C P_1EuKY1 H_6TFj it_689y p_R",stackLine:"H_dBP em_N z_Z14vXdP",stackLabel:"em_0 M_1Eu7Y9 C_Z1WBuqm",scrollView:"iz_A I_52qC em_0 Z_0",empty:"I_52qC W_6D6F t_C A_6FsP P_Z17Hvh7",emptyRetry:"S_U r_P",sponsoredMessageButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 C_52qC D_X i_6VdP it_dRA t_C I4_Z29WjXl",videoAdThumbnail:"W_6D6F",sponsoredVideoBodyContainer:"P_1e3YGS S_n C_Z281SGl",sponsoredMessageSource:"M_1IaimO A_6EWk u_b",sponsoredMessageDescription:"M_1IaimO A_6EqO",senders:"D_I"},conseqCompose:{composeCard:"cn_ZvFCRQ"},active:{composeCard:"b_2w4lU5 j_ZlOSbd"},isDraftError:{composeCard:"d_3mS2U P_aFwN2"},"themeMode-DARK":{container:"I_T"}},_key:"2iUdYV"}},81163:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB r_P P_ZVpSLT I_52qC m_Z14vXdP",buttonGroup:"D_F en_0 u_b C_Z1TsNbA U_6VdP",toolbar:"Y_6VdP",listItem:"D_I r_BN",button:"r_P u_b C_Z2aVTcY b_0 P_0 M_0 H_6Nds A_6EqO y_Z2hYGcu I_T it_dBP C4_Z29WjXl",comma:"u_b C_Z1TsNbA"}},_key:"ZjVWHl"}},46669:(e,t,s)=>{"use strict";s.d(t,{R:()=>m,Z:()=>S});var a=s(33954),n=s(37422),r=s(58608),o=s(50566),i=s(85927);const l={archiveMessageGroups:r.W9,restoreMessageGroups:r.$D,deleteMessageGroups:r.y4,moveMessageGroups:r.Zs,markMessageGroupsAsSpam:r.ih,markMessageGroupsAsNotSpam:r.DO,markMessageGroupsAsRead:r.J4,markMessageGroupsAsUnread:r.oX,markMessageGroupsAsFlagged:r.wd,markMessageGroupsAsUnflagged:r.Mf,toggleSelection:function(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:r}){e.dispatch(o.STREAM_ITEM_TOGGLED,{i13nModel:r,isV2Action:!0,listId:t,streamId:a,streamItem:n,messageGroupIds:s})},contextMenu:function(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:r}){e.dispatch(o.STREAM_CONTEXT_MENU,{i13nModel:r,isV2Action:!0,listId:t,streamId:a,streamItem:n,messageGroupIds:s})},contextMenuShown:function(e,{i13nModel:t}){e.dispatch(o.STREAM_CONTEXT_MENU_SHOWN,{i13nModel:t})},toggleMultipleSelection:function(e,{listId:t,multipleStreamItems:s,streamId:a,streamItem:n,i13nModel:r}){e.dispatch(o.STREAM_ITEMS_MULTIPLE_TOGGLE,{i13nModel:r,isV2Action:!0,listId:t,streamId:a,streamItem:n,multipleStreamItems:s})},selectAll:function(e,{listId:t,streamId:s,i13nModel:a}){e.dispatch(o.ALL_STREAM_ITEMS_SELECTED,{i13nModel:a,isV2Action:!0,listId:t,selectionType:n.ie0.NONE,streamId:s})},selectRange:function(e,{listId:t,targetGroupId:s,streamId:a,streamItem:n,i13nModel:r}){e.dispatch(o.STREAM_ITEMS_RANGE_SELECTED,{i13nModel:r,isV2Action:!0,listId:t,targetGroupId:s,streamId:a,streamItem:n})},selectNone:function(e,{listId:t,streamId:s,i13nModel:a}){e.dispatch(o.STREAM_ITEMS_SELECTION_CLEARED,{i13nModel:a,isV2Action:!0,listId:t,streamId:s})},selectRead:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(o.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},selectUnread:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(o.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},selectStarred:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(o.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},selectUnstarred:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(o.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},moveCursor:function(e,{listId:t,movement:s,unit:a,i13nModel:r,streamId:l}){const{getFeaturesSelectors:c}=(0,i.selectors)(e.store.getState()),d=c().getSetting(n.Zrf.PREVIEW_PANE);e.dispatch(o.STREAM_CURSOR_MOVED,{isV2Action:!0,listId:t,streamId:l,movement:s,unit:a,i13nModel:r,previewPane:d})},selectMove:function(e,{listId:t,movement:s,streamId:a,i13nModel:n}){e.dispatch(o.STREAM_SELECT_CURSOR_MOVED,{i13nModel:n,isV2Action:!0,listId:t,movement:s,streamId:a})},itemDragStart:function(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n}){e.dispatch(o.ITEMS_DRAG_STARTED,{streamId:a,streamItem:n,listId:t,messageGroupIds:s})}};var c=s(73821);const d={toolbarMenuShown:(e,{i13nModel:t})=>{e.dispatch(o.MESSAGE_LIST_TOOLBAR_MENU_SHOWN,{i13nModel:t})}},E={archive:l.archiveMessageGroups,restore:l.restoreMessageGroups,delete:l.deleteMessageGroups,markAsSpam:l.markMessageGroupsAsSpam,markAsNotSpam:l.markMessageGroupsAsNotSpam,move:l.moveMessageGroups,[n.ie0.ALL]:l.selectAll,[n.ie0.NONE]:l.selectNone,[n.ie0.READ]:l.selectRead,[n.ie0.UNREAD]:l.selectUnread,[n.ie0.STARRED]:l.selectStarred,[n.ie0.UNSTARRED]:l.selectUnstarred},_={reply:r.oD,replyAll:r.iG,forward:r.fs},u={[a.ZP.LIST]:Object.assign({},d,E),[a.ZP.LIST_WITH_PREVIEW_RIGHT]:Object.assign({},d,_,E),[a.ZP.LIST_WITH_PREVIEW_BOTTOM]:Object.assign({},d,_,E),[a.ZP.MESSAGE_VIEW]:Object.assign({},d,_,{archive:r.AK,restore:r.bn,delete:r.uX,markAsSpam:r.rL,markAsNotSpam:r.sK,move:r.u4})},m={[a.ZP.LIST]:{...u[a.ZP.LIST],delete:c.qP,move:c.pB,archive:c.nw,restore:c.nu,markAsSpam:c.XL,markAsNotSpam:c.Dj},[a.ZP.LIST_WITH_PREVIEW_RIGHT]:{...u[a.ZP.LIST_WITH_PREVIEW_RIGHT],delete:c.qP,move:c.pB,archive:c.nw,restore:c.nu,markAsSpam:c.XL,markAsNotSpam:c.Dj},[a.ZP.LIST_WITH_PREVIEW_BOTTOM]:{...u[a.ZP.LIST_WITH_PREVIEW_BOTTOM],delete:c.qP,move:c.pB,archive:c.nw,restore:c.nu,markAsSpam:c.XL,markAsNotSpam:c.Dj},[a.ZP.MESSAGE_VIEW]:u[a.ZP.MESSAGE_VIEW]},S=u},33954:(e,t,s)=>{"use strict";s.d(t,{Sf:()=>o,Vj:()=>i,ZP:()=>l});var a=s(95406),n=s(10728);const r=(0,a.gP)(["MESSAGE_VIEW","LIST","LIST_WITH_PREVIEW_RIGHT","LIST_WITH_PREVIEW_BOTTOM"]),o=13*n.mg$,i={HAS_GROUP_SELECTION:{[r.LIST]:!0,[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_SORT:{[r.LIST]:!0,[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_CLOSE:{[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.MESSAGE_VIEW]:!0},HAS_SINGLE_GROUP_ACTIONS:{[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0,[r.MESSAGE_VIEW]:!0},HAS_EXPAND_COLLAPSE:{[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0,[r.MESSAGE_VIEW]:!0},HAS_PREVIOUS_NEXT:{[r.MESSAGE_VIEW]:!0}},l=r},67612:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({move_msgs:{id:"move_msgs",defaultMessage:"Move the selected {conversations, select, true {conversations} false {messages}} to another folder"},mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as spam"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as not spam"},confirm_delete_title:{id:"message_list.confirm_delete_title",defaultMessage:"Delete message"},confirm_delete_messages:{id:"message_list.confirm_delete_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} to Trash?"},confirm_permanently_delete_messages:{id:"message_list.confirm_permanently_delete_messages",defaultMessage:"Are you sure you want to permanently delete {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}"},confirm_move_title:{id:"message_list.confirm_move_title",defaultMessage:"Move messages"},confirm_move_messages:{id:"message_list.confirm_move_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},confirm_spam_title:{id:"message_list.confirm_spam_title",defaultMessage:"Spam messages"},confirm_spam_messages:{id:"message_list.confirm_spam_messages",defaultMessage:"Are you sure you want to mark {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} as spam?"},confirm_ham_title:{id:"message_list.confirm_ham_title",defaultMessage:"Mark as not spam"},confirm_ham_messages:{id:"message_list.confirm_ham_messages",defaultMessage:"Are you sure you want to mark {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} as not spam?"},confirm_archive_title:{id:"message_list.confirm_archive_title",defaultMessage:"Archive message"},confirm_archive_messages:{id:"message_list.confirm_archive_messages",defaultMessage:"Are you sure you want to archive {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},confirm_restore_title:{id:"message_list.confirm_restore_title",defaultMessage:"Archive message"},confirm_restore_messages:{id:"message_list.confirm_restore_messages",defaultMessage:"Are you sure you want to restore {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},sort_menu:{id:"sort_menu",defaultMessage:"Sort"},sort_by_date_desc:{id:"sort_by_date_desc",defaultMessage:"Date: Newest on top"},sort_by_date_asc:{id:"sort_by_date_asc",defaultMessage:"Date: Oldest on top"},sort_by_unread:{id:"sort_by_unread",defaultMessage:"Unread"},sort_by_flagged:{id:"sort_by_flagged",defaultMessage:"Starred"},sort_by_sender:{id:"sort_by_sender",defaultMessage:"Sender"},sort_by_recipient:{id:"sort_by_recipient",defaultMessage:"Recipient"},sort_by_subject:{id:"sort_by_subject",defaultMessage:"Subject"},sort_by_asc:{id:"sort_by_asc",defaultMessage:"Date: Oldest on top"},sort_by_desc:{id:"sort_by_desc",defaultMessage:"Date: Newest on top"},sort_by_relevance:{id:"sort_by_relevance",defaultMessage:"Relevance"},sort_by_attachment:{id:"sort_by_attachment",defaultMessage:"Attachments"},list_filter_from:{id:"list_filter_from",defaultMessage:"From"},list_filter_to:{id:"list_filter_to",defaultMessage:"To"},list_filter_all:{id:"list_filter_all",defaultMessage:"All"},delete_msg_group:{id:"delete_msg_group",defaultMessage:"Delete all these messages"},move_msg_group:{id:"move_msg_group",defaultMessage:"Move these messages to another folder"},close:{id:"close",defaultMessage:"Close"},message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},previous:{id:"button.previous",defaultMessage:"Previous {conversations, select, true {conversation} false {message}} [ ← Left ]"},next:{id:"button.next",defaultMessage:"Next {conversations, select, true {conversation} false {message}} [ → Right ]"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"},photos_from_email:{id:"photos_from_email_label",defaultMessage:"Photos from email"},photos:{id:"photos_label",defaultMessage:"Photos"},documents:{id:"document_label",defaultMessage:"Documents from email"},disable_move_msgs_across_accunts:{id:"disable_move_msgs_across_accounts",defaultMessage:"Messages can't be moved across mailboxes."},disable_move_msgs_default:{id:"disable_move_msgs_default",defaultMessage:"Messages can't be moved."}})},91472:e=>{"use strict";e.exports={className:{default:{container:"ab_C k_w D_F H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",cboxWrapper:"D_F",usabiltyOptions:"D_F t_r",selectionControlsWrapper:"D_F Q_6EGz",viewMenu:"E_eo6 en_0",listFilterViewMenu:"E_eo6 en_0 D_F",mainActionControls:"D_F em_N gl_C",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",triageActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",closeWrapper:"O_6uB4 cdPFi4_Z2aVTcY",hamSpam:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",archiveRestore:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",deletePerm:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",move:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",more:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarForward:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarSave:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",expandCollapse:"M_0 cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",bottomLine:"M_0 P_0 cn_0 D_n",sortByMenu:"D_F ab_C y_Z2hYGcu X_eo6 A_6EqO cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrev:"cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",nextPrevDisabled:"cdPFi_sgPuo r_BN cZW7ROP_n",sortByMenuItemIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",sortByMenuItemLabel:"X_6Eb4",popoverListWrapper:"P_3Y3Gk",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",listFilterMenu:"D_F ab_C y_Z2hYGcu X_6FIA A_6EqO lo_AT cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrevContainer:"D_F P_3gIMd",listHeading:"A_6FsP",rtlRawScaleX:"rtlR_h_2gl0WC",tabs:"P_ZuD6o1 M_1EueWv m_Z14vXdP"},"themeMode-DARK":{container:"I_T m_ZYfFSw C_52qC cdPFi_52qC",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC",hamSpam:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",archiveRestore:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",deletePerm:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",move:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",more:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarForward:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarSave:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarClose:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sortByMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",listFilterMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",nextPrev:"cdPFi_ZpQYvz cdPFi4_52qC",nextPrevDisabled:"cdPFi_ZpQYvz O_cMr r_BN cZW7ROP_n",closeWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"},fullMessageView:{container:"gl_FM"},closeWrapperMargin:{closeWrapper:"Q_fq7"},listWithVerticalPreview:{cboxWrapper:"ip_N ej_d70",viewMenu:"ip_O t_r ej_d70 E_0",singleGroupActions:"ip_P Q_fq7",mainActionControls:"em_N ip_Q",usabiltyOptions:"ip_R",sortMenuContainer:"N_6MGW"},listWithNonVerticalPreview:{container:"gl_FM",viewMenu:"Q_fq7 H_6D6F"},verticalSelectionControlView:{listFilterViewMenu:"p_CS T_6Fd5",listFilterMenu:"X_fq7"},hamSpamDisabled:{hamSpam:"r_n O_6uB4 cZW7ROP_n"},archiveRestoreDisabled:{archiveRestore:"r_n O_6uB4 cZW7ROP_n"},moveDisabled:{move:"r_n O_6uB4 cZW7ROP_n"},deletePermDisabled:{deletePerm:"r_n O_6uB4 cZW7ROP_n"},sponsoredVideoMessage:{sponsoredToolBarForward:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarSave:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY"},sponsoredMailPlusMessage:{sponsoredToolBarForward:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarSave:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY"},groupActionsActive:{singleGroupActionList:"O_N r_BN cZW7ROP_A"},triageActionsActive:{triageActionList:"O_N r_BN cZW7ROP_A",closeWrapper:"O_N"},selectionControlDisabled:{selectionControlsWrapper:"hd_n D_F ab_C M_Z1feokn P_0 O_6uB4 r_n cZW7ROP_n"},showTriageActionsLabels:{hamSpam:"M_1MYwXA",archiveRestore:"M_1MYwXA",deletePerm:"M_1MYwXA",move:"M_1MYwXA",more:"M_1MYwXA"},previewpaneInPixels:{cboxWrapper:"a_ZTjccc",viewMenu:"a_ZTjccc"}},_key:"2v7KjH"}},59914:(e,t,s)=>{"use strict";s.d(t,{f:()=>o});var a=s(33954),n=s(62760),r=s(37422);function o({kind:e,activeGroup:t,allCardsExpanded:s,primaryFolderType:o,listContentType:i}){const l=e!==a.ZP.LIST&&t&&t.messages.length>1,c=Boolean(l&&!1===s),d=Boolean(l&&!0===s),E=a.Vj.HAS_PREVIOUS_NEXT[e]&&i===r.F6k.MESSAGES;if(e===a.ZP.MESSAGE_VIEW){if(!t)return{};const e=(0,n.eW)(t),s=!e&&(0,n.g_)(t),a=!s&&(0,n.LA)(t),i=o===r.Sck.ARCHIVE,l=s||a||e;return{spam:!e&&!s,ham:e&&!s,move:!s,archive:!(s||e||a||i),restore:e||a||i,delete:!l,permDelete:l,raf:!e&&!s,expandAll:c,collapseAll:d,prevNext:E}}const _=Boolean(o),u=o===r.Sck.DRAFT,m=o===r.Sck.TRASH,S=o===r.Sck.ARCHIVE,p=o===r.Sck.BULK,C=o===r.Sck.SENT,A=u||m||p;return{spam:!_||!u&&!p&&!C,ham:p&&!C,move:!_||!u,archive:!_||!u&&!S&&!p&&!m,restore:S||p||m,delete:!_||!A,permDelete:A,raf:e!==a.ZP.LIST&&(!_||!p&&!u),expandAll:c,collapseAll:d}}},48717:e=>{"use strict";e.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_1I4yPF I3_1I4yPF",label:"D_F",hint:"D_F ab_C Q_eo6 O_cMq O4_N cdPFi4_Z281SGl",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_52qC"}},_key:"NddBD"}},20561:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=s(67294),n=s(92743),r=s(18446),o=s.n(r),i=s(85927),l=s(78737),c=s(17016),d=s(3405),E=s(57557),_=s.n(E);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const m=(0,n.connect)(((e,{route:t})=>({href:(0,i.selectors)(e).normalizeRoute(t).url})),((e,{i13nModel:t,replaceState:s=!1,route:a,hashParams:n={},stopPropagation:r,onClick:o})=>({onClick:i=>{const d=Date.now();r&&i.stopPropagation(),o&&o(i),i.preventDefault(),t&&(t={...t,interactionType:(0,c.getInteractionFromEvent)(i)}),e((0,l.st)({replaceInStack:s,route:a,i13nModel:t,hashParams:n,perfHeader:{requestStart:d}}))}})),void 0,{areOwnPropsEqual:({route:e,...t},{route:s,...a})=>(0,d.Vu)(e,s)&&o()(t,a)})((({href:e="#",onClick:t,children:s,...n})=>a.createElement("a",u({},_()(n,["i13nModel","replaceState","route","hashParams","stopPropagation","dispatch"]),{onClick:t,href:e}),s)))},7e4:e=>{"use strict";e.exports={className:{default:{container:"p_R Z_0 em_N W_6D6F D_F ek_BB",shadow:"O_0 Z_N p_a T_73HH W_6D6F H_eo6 aw_Z1X3J96",folderList:"Y_fq7 P_Z1jXKuU D_B iz_A iy_h it_68UO"},scrollingUnder:{shadow:"O_N"},isRTL:{adRec:"E_36Jhx"},"themeMode-MEDIUM":{container:"C_52qC"},"themeMode-DARK":{container:"C_52qC"}},_key:"Z1DmSjx"}},2233:(e,t,s)=>{"use strict";s.d(t,{I:()=>u,Z:()=>C});var a=s(67294),n=s(45697),r=s.n(n),o=s(99095),i=s(62426),l=s.n(i),c=s(67498),d=s(28182),E=s(79483),_=s(92559);const u={DONE:"done",RELAUNCH:"relaunch",SUBSCRIBE:"subscribe"},m=(0,o.defineMessages)({next:{id:"onboarding_button.next",defaultMessage:"Next"},back:{id:"onboarding_button.back",defaultMessage:"Back"},skip:{id:"onboarding_button.skip",defaultMessage:"Skip"},relaunch:{id:"onboarding_button.relaunchWindow",defaultMessage:"Relaunch window"},done:{id:"onboarding_button.done",defaultMessage:"Done"},subscribe:{id:"onboarding_button.subscribe",defaultMessage:"Subscribe"}}),S=()=>{},p=(e,t)=>{const{intl:{formatMessage:s},getCss:n}=t,{handleNextButtonClick:r=S,handleSkipButtonClick:i=S,handleBackButtonClick:p=S,nextButtonText:C="",isSyncing:A=!1,isFirstStep:T=!1,disableNextButton:h=!1,removeSkipButton:g=!1}=e,I=n(l(),{isSyncing:A});let R;switch(C){case u.DONE:R=m.done;break;case u.RELAUNCH:R=m.relaunch;break;case u.SUBSCRIBE:R=m.subscribe;break;default:R=m.next}const O=e=>({i13nModel:{mKey:`${_.JE.NEW_USER_TASKS_CUE}_${e}_clicked`,sec:_.nJ.NEW_USER_TASKS_CUE,interactionType:_.Rb.click}});return a.createElement("footer",{className:I.footerContainer},T?null:a.createElement(a.Fragment,null,g?null:a.createElement(c.Z,{overridingClass:I.skipBtn,onClick:()=>{i(),E.ZP.sendI13nModel(O("skip"))},title:s(m.skip),"data-test-id":"onboarding_footerButton_skip",kind:d.F.SECONDARY_BORDERLESS,"aria-label":s(m.skip),tabIndex:0},a.createElement(o.FormattedMessage,m.skip)),a.createElement(c.Z,{overridingClass:I.backButton,onClick:()=>{p(),E.ZP.sendI13nModel(O("back"))},title:s(m.back),"data-test-id":"onboarding_footerButton_back",kind:d.F.SECONDARY,"aria-label":s(m.back),tabIndex:0},a.createElement(o.FormattedMessage,m.back))),a.createElement(c.Z,{overridingClass:I.nextButton,onClick:e=>{r(e),E.ZP.sendI13nModel(O(C||"next"))},title:s(R),"data-test-id":"onboarding_footerButton_next",kind:d.F.PRIMARY,"aria-label":s(R),tabIndex:0,disabled:h},a.createElement(o.FormattedMessage,R)))};p.contextTypes={intl:o.intlShape.isRequired,getCss:r().func};const C=p},62426:e=>{"use strict";e.exports={className:{default:{footerContainer:"D_F",nextButton:"H_6VdP s_7Ig6 A_6EWk gl_C ab_C i_6MGW D_F M_1DLYDz cn_dRA",backButton:"H_6VdP s_7Ig6 A_6EWk gl_C ab_C i_6MGW D_F M_1DLYDz cn_dRA l_ZpQYvz",skipBtn:"H_6VdP s_7Ig6 A_6EWk gl_C ab_C i_6MGW D_F M_1DLYDz cn_dRA C_Zw4K57 I3_2iedUU C3_Z29WjXl"},isSyncing:{nextButton:"cZW7ROP_n"}},_key:"Z2qwSky"}},90108:(e,t,s)=>{"use strict";s.d(t,{U4:()=>h,$6:()=>g,rW:()=>I,s7:()=>R,$i:()=>O,vw:()=>D,GX:()=>N,FP:()=>f,jG:()=>M,SP:()=>L,Gs:()=>P,hp:()=>y,u3:()=>b});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=s(68882),l=s.n(i),c=s(67498),d=s(28182),E=s(92743),_=s(85927),u=s(15632),m=s(64059),S=s(92559),p=s(3405),C=s(37422),A=s(20561);s(95406);const T=o()(l());function h(){return a.createElement(n.FormattedMessage,{id:"compose.duplicateAttachmentAlert",defaultMessage:"That file has already been attached."})}function g(){return a.createElement(n.FormattedMessage,{id:"compose.send_email_address_missing_notification",defaultMessage:"Please add at least one email address before sending."})}function I({onClose:e}){return a.createElement(n.FormattedMessage,{id:"compose.invalid_reply_to_address_notification_desktop",defaultMessage:"The Reply-to address set on your account is unverified. {linkToSetting}",values:{linkToSetting:a.createElement(A.Z,{route:(0,p.Tx)({settingsGroupId:C.u5h.ACCOUNTS}),className:T.link,onClick:e},a.createElement(n.FormattedMessage,{id:"compose.invalid_reply_to_address_notification_desktop.linkToSetting",defaultMessage:"Change in settings."}))}})}function R(e,{intl:{locale:t}}){const s=(0,u.Lz)("SLN3353")(t);return a.createElement("div",null,a.createElement("div",{className:T.notificationTitle},a.createElement(n.FormattedMessage,{id:"compose.send_recipients_exceeded_notification_title",defaultMessage:"Send Error: Too many recipients for this email"})),a.createElement("div",{className:T.notificationSubText},a.createElement(n.FormattedMessage,{id:"compose.send_recipients_exceeded_notification_subtext",defaultMessage:"Please reduce the number of recipients and try to send again."}),a.createElement("br",null),a.createElement(c.Z,{kind:d.F.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>(0,m.x)(s)},a.createElement("span",{className:T.button},a.createElement(n.FormattedMessage,{id:"compose.learn_more_url",defaultMessage:"Learn more"})))))}function O({invalidAddresses:e=[]}){const t=[];return e.forEach(((e,s,r)=>{const o="_"+s;t.push(a.createElement("span",{key:o},e)),s<r.length-1&&t.push(a.createElement(n.FormattedMessage,{key:o+"-delim",id:"email_separator",defaultMessage:"\n                        {isLast, select,\n                            false {,\\u0020}\n                            true {, and\\u0020}}\n                    ",values:{isLast:s===r.length-2}}))})),a.createElement(n.FormattedMessage,{id:"compose.send_email_address_correction_notification",defaultMessage:"Please correct these email addresses before sending: {emailList}",values:{emailList:a.createElement("span",null,t)}})}R.contextTypes={intl:n.intlShape.isRequired};const D=(0,E.connect)(((e,{csid:t})=>{const{isAttachmentUploadPendingForComposeSession:s}=(0,_.selectors)(e);return{isUploading:s(t)}}))((function({isUploading:e}){return e?a.createElement(n.FormattedMessage,{id:"compose.uploading_attachment_email_status",defaultMessage:"Adding attachments..."}):a.createElement(n.FormattedMessage,{id:"compose.sending_email_status",defaultMessage:"Sending..."})}));function N(){return a.createElement(n.FormattedMessage,{id:"notification.draft_save_failed",defaultMessage:"Message cannot be saved as draft."})}function f(){return a.createElement(n.FormattedMessage,{id:"notification.saved_to_inbox",defaultMessage:"Message saved to inbox."})}function M(){return a.createElement(n.FormattedMessage,{id:"notification.save_to_inbox_failed",defaultMessage:"Message cannot be saved to inbox."})}function L({messageIds:e}){const t=e&&e.length||1;return a.createElement(n.FormattedMessage,{id:"notification.delete_draft_success",defaultMessage:"{count, plural, one {Draft} other {Drafts}} permanently deleted.",values:{count:t}})}function P({messageIds:e}){const t=e&&e.length||1;return a.createElement(n.FormattedMessage,{id:"notification.delete_draft_failure",defaultMessage:"Unable to delete the {count, plural, one {draft} other {drafts}}.",values:{count:t}})}function y(){return a.createElement(n.FormattedMessage,{id:"compose.draft_unavailable_notification",defaultMessage:"The message you are trying to open is no longer available."})}const b=(0,E.connect)((e=>{const{getSetting:t}=(0,_.selectors)(e);return{composeFormatSetting:t(C.Zrf.COMPOSE_FORMAT)}}))((function(e){const t=o()(l()),{composeFormatSetting:s,onClose:r}=e,i=(0,p.Tx)({settingsGroupId:C.u5h.WRITING_EMAIL}),c={mKey:S.JE.SETTINGS_NAV_COMPOSE_FORMAT_CUE,sec:S.nJ.COMPOSE_MSG,interactionType:S.Rb.click};return a.createElement(n.FormattedMessage,{id:"toast.compose_format_cue_setting",defaultMessage:"{composeFormatSetting} compose set as default. To change this, go to {settingsLink}",values:{composeFormatSetting:s===C.tTi.COMPACT?a.createElement(n.FormattedMessage,{id:"compose_format_cue.notification.compact",defaultMessage:"Compact"}):a.createElement(n.FormattedMessage,{id:"compose_format_cue.notification.fullSize",defaultMessage:"Full-size"}),settingsLink:a.createElement(A.Z,{route:i,i13nModel:c,className:t.link,onClick:r,"data-test-id":"go-to-settings"},a.createElement(n.FormattedMessage,{id:"toast.settings_button",defaultMessage:"Settings"}))}})}))},95464:(e,t,s)=>{"use strict";s.d(t,{Z:()=>C});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=s(83544),l=s.n(i),c=s(43007),d=s(9333),E=(s(95406),s(76531)),_=s(37422),u=s(26);function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const S=(0,n.defineMessages)({close:{id:"notification.close",defaultMessage:"Close notification"}});class p extends a.Component{render(){const{type:e,icon:t,sticky:s}=this.props,n=o()(l(),{type:e}),r=this.context.intl.formatMessage(S.close),i=!t&&e===_.j_x.PENDING;let m=t;if(!m&&e!==_.j_x.ADVISORY)switch(e){case _.j_x.FORWARDING_WARNING:case _.j_x.WARNING:m=E.Kinds.EXCLAMATION_ALT;break;case _.j_x.PENDING:m=E.Kinds.REFRESH;break;default:m=E.Kinds.CHECKMARK}return a.createElement("div",{className:n.container},a.createElement("div",{className:n.innerContainer},m?a.createElement("div",{className:n.icon,role:"presentation"},i?a.createElement(u.Z,{size:E.Sizes.S,inverted:!0}):a.createElement(c.Z,{kind:m,size:E.Sizes.S,colorState:E.ColorStates.INVERTED})):null,a.createElement("div",{className:n.content},this.props.children),s?null:a.createElement("div",{className:n.close},a.createElement(d.default,{kind:E.Kinds.CLOSE_MINI,size:E.Sizes.XS,colorState:E.ColorStates.NORMAL,title:r,tabIndex:0,role:"presentation",onClick:this.props.onClose}))))}}m(p,"contextTypes",{intl:n.intlShape.isRequired}),m(p,"defaultProps",{sticky:!1,requireInteraction:!1,type:_.j_x.NORMAL});const C=p},68882:e=>{"use strict";e.exports={className:{default:{notificationTitle:"t_CS A_6EWk C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO",button:"C_Z2aVTcY A_6EqO",link:"C_Z2aVTcY u_e69 r_P"}},_key:"Z1hAJsw"}},33055:e=>{"use strict";e.exports={className:{default:{container:"D_F W_6D6F gl_FM",button:"q_n b_n C_Z2aVTcY A_6EWk u_e69 P_0"},isMobileRoute:{button:"C_52qC"}},_key:"Z2efklE"}},48003:e=>{"use strict";e.exports={className:{default:{link:"C_Z2aVTcY Q_dRA u_e69 r_P"}},_key:"2bC9Bf"}},88225:e=>{"use strict";e.exports={className:{default:{link:"C_Z2aVTcY r_P"}},_key:"62EcE"}},43854:e=>{"use strict";e.exports={className:{default:{settings:"C_Z2aVTcY r_P"}},_key:"62EcE"}},83544:e=>{"use strict";e.exports={className:{default:{icon:"C_52qC en_0 P_3gJOe ac_FT ab_C D_F gl_C ba_6Eor",container:"k_w p_R a_3PmnJ D_F b_tw30f e_eo6",innerContainer:"D_F ab_CH ac_CH gl_C q_52qC j_1zwO34 o_h cZW7ROP_A e_dRA",content:"em_N D_F P_Z2baRGn A_6EWk i_6Mbr C_Z281SGl o_h r_BN",close:"P_C04i4 ac_CI",link:"C_Z2aVTcY",actionLink:"C_Z2aVTcY A_6EWk r_P"},"type-NORMAL":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-PENDING":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-ADVISORY":{icon:"I_1QHJF0 aw_Z1vTr7U",container:"b4_2lPLnT"},"type-WARNING":{icon:"I_Z9gXar aw_TD3i8",container:"b4_Zij4iv"},"type-FORWARDING_WARNING":{icon:"I_Z9gXar aw_zBb3O",content:"i_6FIA A_6EqO W_3rex8 P_2cnLF4",container:"b_0 a_3v1qi"},"type-GDPR_WARNING":{icon:"I_1jMMk7 aw_Z19di99",content:"P_EFwtL"}},_key:"ZawpLQ"}},82723:e=>{"use strict";e.exports={className:{default:{link:"C_Z2aVTcY Q_dRA u_e69 r_P",leftAlign:"t_l",errorWrapper:"t_l",errorHeader:"u_e69 U_eo6",errorBody:"A_6EqO i_6Fd5",restoreWrapper:"P_ZuGzVr",lineText:"N_6Fd5",option:"r_P",lightLink:"C_Z2aVTcY r_P"}},_key:"Z1DxJc6"}},18716:e=>{"use strict";e.exports={className:{default:{link:"C_Z2aVTcY r_P",notificationTitle:"t_CS A_6EWk C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO"}},_key:"1xydhh"}},8389:e=>{"use strict";e.exports={className:{default:{button:"C_Z2aVTcY A_6EWk"}},_key:"1iekj1"}},14369:e=>{"use strict";e.exports={className:{default:{alert:"p_f T_73HH L_0 R_0 Z_7GpC t_C jn_1HWwRx D_F gl_C cZW7ROP_n",modal:"p_f T_0 R_0 B_0 L_0 Z_3mRud q_Zjpytw",undo:"C_Z2aVTcY A_6EWk r_P"},multiTask:{alert:"T_7sfl"},bottomAlert:{alert:"B_6Eb4 T_A"},alertFromModalDialog:{alert:"Z_3mRJX"},ybarFuji2:{alert:"T_7qWz"},ybarFuji2MultiTask:{alert:"T_3mSOb"}},_key:"12X5Vm"}},52386:e=>{"use strict";e.exports={className:{default:{container:"ab_C r_P D_F F_Zmdhz3 M_Z75P2H K_7yHc o_h P_6Eb4 cZ1RN91d_n",svgStyle:"ab_C D_F H_7yHc gl_C M_Z2fXwdq W_7yHc q_52qC e_fq7",cardDetails:"o_h N_6Eb4 F_Z2uTegI",cardDescription:"C_Z1WBuqm i_N J_x o_h G_e",cardTitle:"i_N U_eo6 K_6UbO o_h u_N",expires:"C_Z1VRqsb A_6DUj",highlightedTerm:"I_2ieea9 D_X P_dbK",overlayContainer:"W_0",overlay:"W_7yHc H_7yHc h_ZDVp1o q_ZS2gpl e_fq7",icon:"K_7yHc a_7yHc M_A e_fq7",saveContainer:"D_F ab_C jb_eo6",save:"A_6FsP u_e69",coupon:"C_Z1WBuqm A_6DUj",walmartCart:"ac_FO r_P Y_6Eb4 cdPFi_Z2aVTcY cdPFi4_Z29WjXl"},redExpires:{expires:"C_ZkiIcp"},isGroceryWithProduct:{container:"p_R",cardTitle:"H_6UbO",numberContainer:"ab_C b_2wsnAI e_dRA D_F H_6MGW p_a R_6Eb4 T_7iGr W_7Ig6",change:"D_F gl_C W_74ed",addedIcon:"ac_FO Y_6Eb4"},expandedCardState:{container:"K_n",cardDescription:"J_N"}},_key:"1aB7NW"}},22297:e=>{"use strict";e.exports={className:{default:{container:"r_P W_3n93F E_6Eb4",imageContainer:"W_3n93F H_3n93F p_R e_eo6 b_Z12rHwq t_C",image:"a_3n93F H_3n93F",cart:"D_F gl_C ab_C W_6NIX H_6NIX I_52qC e_e5X p_a T_fq7 R_fq7 cdPFi_Z2aVTcY cdPFi4_Z29WjXl",priceContainer:"D_F M_Z1gGUOP",price:"C_Z281SGl A_6EqO u_elT",unitPrice:"C_Z1YRXYn A_6DUj u_elT J_x o_h G_e",description:"W_3n93F H_6NIX i_6CBt C_Z281SGl A_6DUj o_h J_EP ca8c02_O cZwJqdT_Z2lir11 D_ZS1uoi"}},_key:"2dHbEI"}},17414:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(45697),n=s.n(a),r=s(67294),o=s(760),i=s.n(o);class l extends r.Component{getActiveStar(e){return r.createElement("div",null,r.createElement("span",{className:e.activeFullStar},"★"),r.createElement("span",{className:e.activeEmptyStar},"☆"))}getHalfActiveStar(e){return r.createElement("div",null,r.createElement("span",{className:e.halfActiveEmptyStar},"☆"),r.createElement("span",{className:e.halfActiveFullStar},"★"),r.createElement("span",{className:e.halfBorderStar},"☆"))}getInActiveStar(e){return r.createElement("div",null,r.createElement("span",{className:e.inActiveEmptyStar},"☆"))}getStarElement(e){const{value:t}=this.props,s={};e<=t-1?s.activeStar=!0:t%1<.5||Math.floor(t)!==e?s.inActiveStar=!0:s.halfStarFormatting=!0;const a=this.context.getCss(i(),s);return r.createElement("span",{className:a.starElement,key:e},s.activeStar&&this.getActiveStar(a),s.halfStarFormatting&&this.getHalfActiveStar(a),s.inActiveStar&&this.getInActiveStar(a))}render(){const e=[];for(let t=0;t<5;t++){const s=this.getStarElement(t);e.push(s)}return r.createElement("div",null,e)}}l.defaultProps={value:0},l.contextTypes={getCss:n().func};const c=l},760:e=>{"use strict";e.exports={className:{default:{starElement:"p_R N_dBP o_h D_B f_l A_6Eb4",activeFullStar:"p_R D_B f_l C_Z1ryQjN",activeEmptyStar:"p_a D_B Z_N T_0 L_0 C_Z1vPqV0",inActiveEmptyStar:"C_ZpQYvz",halfActiveFullStar:"p_a D_B Z_N W_e5X T_0 L_0 o_h C_Z1ryQjN",halfActiveEmptyStar:"p_R D_B f_l C_ZpQYvz",halfBorderStar:"p_a D_B Z_O W_e5X o_h T_0 L_0 C_Z1vPqV0"}},_key:"Z1HXcUd"}},60275:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_qN p_R h_Z1H3PfF I4_1I4yPF",subContainer:"D_F r_P ab_C H_qN bn_dBP bm_FJ bj_ZnIF8Y A_6EqO i_6FIA o_h W_6D6F",avatar:"en_0 Q_6DEy E_6FIA i_0",vendorGrid:"D_F o_h ab_C H_6D6F em_3qVd0 ej_0 p_R",infoGrid:"D_F o_h ab_C H_6D6F em_3Msdm ej_0",vendorName:"Q_fq7 o_h G_e J_EN",itemName:"J_x Q_6Eb4 o_h G_e",price:"J_x C_Z1TsNbA Q_6Eb4 G_e",dateWrapper:"D_F gl_CH em_N en_N A_6DUj Q_6Eb4 E_fq7 J_EN",date:"C_Z1TsNbA"},"themeMode-DARK":{container:"C_ZpQYvz I4_1YEmYj I3_1YEmYj",subContainer:"bj_ajOPR",date:"C_2sqbQg"},hideBottomBorder:{subContainer:"bj_T"},noItemName:{price:"Q_0"}},_key:"2caFnh"}},25125:e=>{"use strict";e.exports={className:{default:{container:"N_6Fd5",dialog:"D_F I_52qC W_3zSaK H_3o5DP e_eTB",svgContainer:"P_Man3R",header:"A_6FsP ab_C gl_FM D_B i_6CCo gp_1Fqk81 P_26Rgqx",body:"W_3vqtr P_Z19Su7t A_6EqO i_6CC0 C_Z251ww9",primaryButton:"M_E8xte"}},_key:"Z1Lmt49"}},7747:e=>{"use strict";e.exports={className:{default:{advancedSearchButton:"C_Z2aVTcY cdPFi_Z2aVTcY D_F ab_C r_P C4_Z29WjXl cdPFi4_Z29WjXl",container:"D_F en_0 H_74JI p_R",searchButton:"en_0 I_2sqbOJ u_b k_w ck_dRA bl_dRA J_x W_7GHz H_74JI ab_C gl_C M_0 D_F cZ1RN91d_n A_6EqO y_Z2hYGcu b_0 it_dRA C_52qC r_P I4_2sqbPK",searchInputContainer:"D_F W_6D6F s_3z5BY cj_dRA bk_dRA k_w b_0 I_52qC p_R",searchInput:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_Z2hYGcu I_T p_R Z_N",searchHint:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_Z2hYGcu I_T C_ZtwOFC p_a q_T L_0 Z_0",suggestionDropdown:"y_Z2hYGcu W_Z2mrcQq Z_fcS I_52qC k_w ha_n L_0 T_750t M_0 P_Z2rzFgL b_Z14vXdP e_dRA j_Zm8rYD p_a o_A",suggestionWebOption:"P_fQq0A k_w W_6D6F D_F ab_C H_73HH r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionWebIcon:"X_eTB N_eTB E_fq7",suggestionWebLabel:"J_x G_e o_h",suggestionWebQuery:"C_Z281SGl",suggestionDetails:"C_ZxFlP3 Q_fq7",pills:"ab_C W_1BJksS",pillsContainer:"eo_x el_EZ",typeaheadInputContainer:"p_R",typeaheadAriaStatus:"L_Z1yJMeR p_a",couponIndicator:"D_F C_Z2aVTcY q_2iedUU e_dRA H_6NIX ab_C P_SkAgv A_6EWk J_x Q_6Eb4",headerLabel:"D_F P_sUAQ8 k_w H_6VdP y_Z2hYGcu u_e69 C_Z1VRqsb A_6EqO Y_fq7 z_Z28pSMW"},groceriesSingleStore:{categoriesTitle:"C_Z1WBuqm u_b U_eo6",categoryRow:"D_F ek_EZ U_fq7",category:"ab_C b_2oUWqe r_P D_F ek_BB A_6DUj H_3n2AO gl_CI E_eo6 W_7Ig6 I4_1I4yPF",categoryLogo:"H_72FG Y_6Fd5 W_72FG",categoryName:"Y_eo6",categoryCount:"H_6FIA Y_fam",searchResultsTitle:"C_Z1WBuqm u_e69 U_eo6",recentSearch:"D_F ab_C H_74JI r_P I4_2iedUU",searchIcon:"E_6Fd5",suggestionDropdown:"P_LyXYU"},ybarFujiTheme:{searchButton:"ck_eo6 bl_eo6",searchInputContainer:"cj_eo6 bk_eo6",suggestionDropdown:"e_eo6"},showPeopleSuggestion:{suggestionWebOptionBorder:"M_Z2rzCvT z_Z14vXdP"},hasPill:{searchInput:"P_fq7",searchHint:"P_fq7",pillsContainer:"Q_6Eb4",searchInputContainer:"X_6DEy"},hasContactPill:{searchInput:"P_ZzrjY8"},firstEntry:{headerLabel:"Y_0 z_n"},spacedPill:{couponIndicator:"Q_fq7"}},_key:"1nXJcA"}},7561:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C p_R A_6EqO i_6FIA o_h X_eo6 H_73HH",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj C_Z281SGl",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_3ixhM o_h a_6D6F D_F ab_C",subject:"en_N",highlightedTerm:"P_3zDxc",messageCount:"en_0 P_3gJiI Q_fq7 I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",iconB2:"p_R D_F ek_EZ ab_C H_6D6F",link:"D_B bn_dBP bm_FJ bj_ZpQYvz I4_1I4yPF",highlight:"I_1I4z5p",active:"p_R",conversationIcon:"I_Z1TsNbA D_F ab_C gl_C e_e5X H_6NIX W_6NIX",readIcon:"M_SkAgv"},"isRead-false":{subject:"u_b",participants:"u_b",participantSolo:"u_b"},hasJustOneMessage:{messageCount:"W_0 O_0"},"themeMode-DARK":{container:"C_ZnIF8Y",highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y",link:"C_ZpQYvz bj_ajP6C is_26ISAR cZdTOHS_ZXgLQ3 I4_1YEmYj",highlight:"I_ZFyHXD"}},_key:"1pJp0p"}},68806:(e,t,s)=>{"use strict";s.d(t,{Vz:()=>a,vf:()=>n,U3:()=>r,xW:()=>o,DX:()=>i,tx:()=>l,S0:()=>c,AT:()=>d,ov:()=>E,Zj:()=>_,cD:()=>u,$W:()=>m,Vi:()=>S});const a="&id=",n="&partner=",r="&actp=productlink",o="https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL_WEB&locale=",i="https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL&locale=",l="/articles/",c="https://help.aol.com/products/aol-mail",d={"de-DE":"de_DE","de-AT":"de_AT","en-AU":"en_AU","en-CA":"en_CA","en-GB":"en_GB","en-IN":"en_IN","en-JO":"en_JO","en-MY":"en_MY","en-NZ":"en_NZ","en-PH":"en_PH","en-SG":"en_SG","en-US":"en_US","en-ZA":"en_ZA","es-AR":"es_ES","es-CL":"es_ES","es-CO":"es_ES","es-ES":"es_ES","es-MX":"es_ES","es-PE":"es_ES","es-US":"es_US","es-VE":"es_ES","fr-FR":"fr_FR","fr-BE":"fr_BE","fr-CA":"fr_CA","id-ID":"id_ID","it-IT":"it_IT","pt-BR":"pt_BR","vi-VN":"vi_VN","zh-Hant-TW":"zh_TW","zh-Hant-HK":"zh_HK"},E={"en-US":"https://help.aol.com","en-GB":"https://help.aol.com","de-DE":"https://hilfe.aol.de","fr-FR":"https://assistance.aol.fr"},_={"en-US":c,"en-GB":c,"de-DE":"https://hilfe.aol.de/products/aol-mail","fr-FR":"https://assistance.aol.fr/products/aol-mail-et-calendrier"},u={SLN22036:"SLN28884",SLN4992:"SLN28885",SLN26611:"SLN28838",SLN28055:"SLN28824",SLN28056:"SLN28813",SLN5283:"SLN28886",SLN28068:"SLN28808",SLN28071:"SLN28825",SLN6265:"SLN28887",SLN26757:"SLN28888",SLN25582:"SLN28889",SLN8271:"SLN28890",SLN29133:"SLN29134"},m={SLN22036:{"en-US":"change-your-reply-to-address-in-new-aol-mail"},SLN4992:{"en-US":"add-or-update-aol-account-recovery-information"},SLN15953:{"en-US":"send-messages-from-or-delete-an-extra-email-address"},SLN2059:{"en-US":"account-management-managing-your-aol-username"},SLN26611:{"en-US":"turn-desktop-notifications-on-or-off-for-new-aol-mail"},SLN28055:{"en-US":"manage-conversations-in-new-aol-mail"},SLN28056:{"en-US":"aol-mail-spam-and-privacy"},SLN5283:{"en-US":"can-i-access-aol-mail-from-another-computer"},SLN28071:{"en-US":"use-filters-to-sort-and-organize-messages-in-new-aol-mail"},SLN6265:{"en-US":"email-incorrectly-delivered-to-the-trash-folder"},SLN26757:{"en-US":"reauthorize-linkedin-connection-in-new-aol-mail"},SLN25582:{"en-US":"manage-contact-cards-and-social-networks-in-new-aol-mail"}},S={VIEWMAIL:"/img/viewing_email.png",NOTIFICATIONS:"/img/notification.gif",VACATION_RESPONSE:"/img/vacation_response.png",FILTER:"/img/filters.png",SOCIAL:"/img/social_accounts.png",ACCOUNTS:"/img/accounts.png",CATEGORIZATION:"/img/categorization.png"}},15632:(e,t,s)=>{"use strict";s.d(t,{Lz:()=>i,U5:()=>l,z6:()=>d,U2:()=>E,WI:()=>_,WV:()=>u,cf:()=>m,uV:()=>S,QI:()=>p});var a=s(99095),n=s(37422),r=s(68806);const o=(0,a.defineMessages)({helpGroupAndDelete:{id:"view_mail_help_group_and_delete",defaultMessage:"Group and delete emails by conversations"},helpUnsubscribe:{id:"view_mail_help_unsubscribe",defaultMessage:"Unsubscribe from email lists"},helpAccessFromOtherComputer:{id:"view_mail_help_access_from_other_computer",defaultMessage:"Can I access {mailBrandNameString} from another computer?"},helpAdditionalSecurityFeatures:{id:"additional_security_features",defaultMessage:"Additional security features in Yahoo Mail"},helpToggleNotification:{id:"notification_help_toggle_notification",defaultMessage:"Turn Desktop notifications on or off for {mailBrandNameString}"},helpCreateVacationResponse:{id:"vacation_response_create_vacation_response",defaultMessage:"Create a vacation response"},helpSortOrganizeEmail:{id:"filters_help_sort_organize_email",defaultMessage:"Use filters to sort and organize incoming email"},helpWronglyFiltered:{id:"filters_help_wrongly_filtered",defaultMessage:"An email was wrongly filtered as spam"},helpTrashFolder:{id:"filters_trash_folder",defaultMessage:"Email incorrectly delivered to the Trash folder"},helpReauthorize:{id:"social_accounts_help_reauthorize",defaultMessage:"Reauthorize LinkedIn connection in {mailBrandNameString}"},helpContactCard:{id:"social_accounts_help_contact_cards",defaultMessage:"Contact cards in {mailBrandNameString}"},helpChangeReplyAddress:{id:"accounts_change_reploy_address",defaultMessage:"Change your reply-to address in {mailBrandNameString}"},helpChangeAcName:{id:"accounts_change_account_name",defaultMessage:"Change your account name and nickname on {yahooBrandNameString}"},helpCreateUseDelExtra:{id:"accounts_create_use_del_extra_email",defaultMessage:"Create, use, and delete an extra email address"},helpCreateDiffID:{id:"accounts_create_diff_id",defaultMessage:"Create a different {yahooBrandNameString} ID or email address"}}),i=e=>function(t,s=""){if(!(-1!==(e=>{switch(e){case n.Ql2.ATT:case n.Ql2.SKY:case n.Ql2.FRONTIER:case n.Ql2.ROGERS:return["SLN4992","SLN15953","SLN2059"];case n.Ql2.AOL:return["SLN26757","SLN22036","SLN15953"];default:return[]}})(s).indexOf(e))){if(s===n.Ql2.AOL){const s=r.ov[t],a=r.$W[e]&&r.$W[e][t];return s&&a?s+r.tx+a:r.S0}return r.xW+(r.AT[t]||"en_ZZ")+r.Vz+(s===n.Ql2.ATT&&r.cD[e]?r.cD[e]:e)+(!s||s===n.Ql2.YCORP&&s===n.Ql2.VERIZON?"":r.vf+s+r.U3)}},l=e=>function(t,s=""){return s===n.Ql2.AOL?r.Zj[t]||r.S0:r.DX+(r.AT[t]||"en_ZZ")+r.Vz+e+r.U3},c={viewMail:[{text:o.helpGroupAndDelete,link:i("SLN28055")},{text:o.helpUnsubscribe,link:i("SLN28056")},{text:o.helpAccessFromOtherComputer,link:i("SLN5283")}],notifications:[{text:o.helpToggleNotification,link:i("SLN26611")}],vacationResponse:[{text:o.helpCreateVacationResponse,link:i("SLN28068")}],filter:[{text:o.helpSortOrganizeEmail,link:i("SLN28071")},{text:o.helpWronglyFiltered,link:i("SLN28056")},{text:o.helpTrashFolder,link:i("SLN6265")}],social:[{text:o.helpReauthorize,link:i("SLN26757")},{text:o.helpContactCard,link:i("SLN25582")}],accounts:[{text:o.helpChangeReplyAddress,link:i("SLN22036")},{text:o.helpChangeAcName,link:i("SLN4992")},{text:o.helpCreateUseDelExtra,link:i("SLN15953")},{text:o.helpCreateDiffID,link:i("SLN2059")}],unblock:{link:i("SLN28635")},autoForwardNotification:{link:i("SLN35503")}},d=c.viewMail,E=c.notifications,_=c.filter,u=c.social,m=c.accounts,S=c.unblock,p=c.autoForwardNotification},60637:(e,t,s)=>{"use strict";s.d(t,{Z:()=>O});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(95255),i=s.n(o),l=s(50621),c=s(65304),d=s(10728),E=s(92743),_=s(90583),u=s(95406),m=s(61395),S=s.n(m),p=s(76531),C=s(9333),A=s(99095),T=s(92559),h=s(336);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const I=(0,A.defineMessages)({close:{id:"close",defaultMessage:"Close"}}),R=(e,t)=>{const s=r()(i()),{disablingOptions:n,popoverAnchor:o,overrideClassNames:E={},hoveringOnDisabledFeatureButton:_}=e,{payload:m,heading:A,description:R,popoverAlignment:O,impressionUrl:D}=n||{},N=!n,{formatMessage:f}=t.intl,M=(0,a.useRef)(null);if(o)return a.createElement(l.ZP,{triggerOn:l.XU.HOVER,triggerOff:l.Es.HOVER_OUT,align:O||c.xM.END,onShown:()=>{(0,u.xb)(m)||_(m),(0,h.Z)(D,!1)},zAltitude:d.LSY.CURSOR,permittedArrowDirections:[c.Ji.UP,c.Ji.DOWN],disabled:N,persistent:!0,ref:M},a.createElement("div",g({"data-test-id":"popover-anchor"},E.anchor?{className:E.anchor}:null),o),a.createElement("div",{className:S()(s.disabledPopup,E.disabledPopup)},a.createElement("h2",{className:S()(s.disabledHeading,E.disabledHeading)},A),a.createElement("span",{className:S()(s.disabledText,E.disabledText)},R),a.createElement("div",{className:s.closeIcon},a.createElement(C.default,{"data-test-id":"close-btn",onClick:()=>{var t;null===(t=M.current)||void 0===t||t.handlePopoverHide();const{disablingOptions:s,clickOnDisabledFeatureCloseButton:a}=e,{secValue:n}=s||{};a({i13nModel:{mKey:T.JE.SETTINGS_DISABLED_FEATURE_CLOSE_BUTTON_CLICK,sec:n||T.nJ.SETTINGS_MAIN,interactionType:T.Rb.click}})},kind:p.Kinds.CLOSE,size:p.Sizes.XS,colorState:p.ColorStates.FIRST_LEVEL_GRAY,title:f(I.close)}))))};R.contextTypes={intl:A.intlShape.isRequired};const O=(0,E.connect)(null,(e=>({hoveringOnDisabledFeatureButton:t=>e((0,_.h2)(t)),clickOnDisabledFeatureCloseButton:t=>e((0,_.Hg)(t))})))(R)},23492:(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(72990),i=s.n(o),l=s(99095),c=s(71055),d=s(1249),E=s(67498),_=s(28182),u=s(37422),m=(s(95406),s(78662)),S=s(60637);const p=(0,l.defineMessages)({timezoneUpdateTip:{id:"timezone_update_tip",defaultMessage:"Your timezone is not consistent with your computer's timezone"},timezoneValidationTip:{id:"timezone_validation_tip",defaultMessage:"Your timezone is now consistent with your computer's timezone"},toggleButtonStateOn:{id:"settings.section_title.toggleOn",defaultMessage:"On"},toggleButtonStateOff:{id:"settings.section_title.toggleOff",defaultMessage:"Off"},tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"}});class C extends a.Component{constructor(...e){var t,s,n;super(...e),n=()=>{const{toggleEnabled:e,onToggle:t,toggleAriaLabel:s=this.props.header,disablingOptions:n,isFocused:r}=this.props,o=!n,i=a.createElement(c.Z,{onClick:t,isEnabled:e,ariaLabel:s,title:s,isClickable:o,isFocused:r});return o?i:a.createElement(S.Z,{disablingOptions:n,popoverAnchor:i})},(s="renderToggleButton")in(t=this)?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n}render(){const{header:e,hint:t,canToggle:s,toggleType:n,subHeader:o,toggleEnabled:l,onToggle:c,showToggleState:u,useCalloutButton:S,iconElement:C,hintElement:A,smallHeader:T}=this.props,{formatMessage:h}=this.context.intl,g=r()(i(),{subHeader:o,toggleType:n,smallHeader:T});return a.createElement("header",{className:g.titleWrapper},s&&n===m.Qu.CHECKBOX?a.createElement("div",{className:g.titleCheckboxContainer},a.createElement(d.Z,{isChecked:l,onClick:c,paddingLess:!0})):null,a.createElement("div",{className:g.fullWidth},a.createElement("div",{className:g.rowItemsContainer},a.createElement("h4",{className:g.title},a.createElement("span",{className:g.header},e),C||null),s&&n===m.Qu.SWITCH?a.createElement("div",{className:g.toggleButtonContainer,"data-test-id":"toggle-header-button"},this.renderToggleButton(),u&&a.createElement("span",{className:g.toggleButtonState,"data-test-id":"toggle-button-state"},h(l?p.toggleButtonStateOn:p.toggleButtonStateOff))):null,S&&a.createElement(E.Z,{onClick:c,marginLess:!0,kind:_.F.THEMED_LIKE_COMPOSE_BUTTON},h(p.tryNow))),a.createElement("div",{className:g.rowItemsContainer},A&&!t?a.createElement("div",{"data-test-id":"hint-element",className:g.hint},A):null,t&&!A?a.createElement("span",{"data-test-id":"hint-string",className:g.hintString,dangerouslySetInnerHTML:{__html:t}}):null)))}}C.contextTypes={intl:l.intlShape.isRequired},C.defaultProps={canToggle:!1,toggleType:m.Qu.SWITCH,subHeader:!1,onToggle:()=>{},toggleEnabled:!0,settingError:u.qAl.NONE,showToggleState:!1,useCalloutButton:!1,isFocused:!1,disablingOptions:void 0};const A=C},78662:(e,t,s)=>{"use strict";s.d(t,{KS:()=>i,qg:()=>l,_2:()=>c,ot:()=>d,F5:()=>E,oc:()=>_,Qu:()=>u,e7:()=>m,sZ:()=>S});var a=s(10728),n=s(95406),r=s(45697),o=s.n(r);a.mg$;const i=15,l=25,c=185,d=52,E=15,_=32,u=(0,n.gP)(["SWITCH","CHECKBOX"]),m="optedOut",S="optedIn";o().shape({id:o().oneOfType([o().number,o().string]).isRequired,name:o().string.isRequired,enable:o().bool})},95255:e=>{"use strict";e.exports={className:{default:{disabledText:"A_6EqO",disabledHeading:"A_6EqO Y_0 U_eo6",disabledPopup:"D_F ek_BB je_6Fd5 N_6Fd5 jb_6Fd5 X_6Fd5 W_3vqYW H_3n13i k_w",closeIcon:"p_a T_eo6 R_eo6"}},_key:"uiRjh"}},72990:e=>{"use strict";e.exports={className:{default:{titleWrapper:"W_6D6F D_Z1YJkyX ab_C",fullWidth:"W_6D6F",rowItemsContainer:"D_F aa_C ab_C i_6EWk",hint:"A_6EqO C_Z1YRXYn i_6FIA",hintString:"A_6EqO C_Z1YRXYn i_6FIA D_X",title:"M_Ic7YD D_F A_6FsP u_N F_N i_6LEV",titleCheckboxContainer:"E_fq7 H_6LEV",toggleButtonState:"A_6EqO C_Z1YRXYn i_6FIA Q_eo6",toggleButtonContainer:"D_Z1YJkyX ab_C"},subHeader:{title:"u_b A_6EWk"},"toggleType-CHECKBOX":{title:"i_6LEV A_6EqO"},"toggleType-SWITCH":{titleWrapper:"gl_FM"},smallHeader:{title:"A_6EqO"}},_key:"Z1QxPye"}},16204:e=>{"use strict";e.exports={className:{default:{settingsButton:"P_0 q_T b_0 r_P D_F ab_C C_ZamTeg cdPFi_ZamTeg C3_ZamTeg",inlineWrapper:"i_0",label:"D_n X_eo6 N_6DEy u_b A_6EqO",settingsButtonContainer:"D_F ab_C cdPFi_ZamTeg C_ZamTeg r_P",chevronIcon:"Q_A",menuContainer:"W_3vaYc",menuContainerLazy:"W_3vaYc d_3z5BY D_F ab_C gl_C",menuList:"M_0 P_0 hd_n",menuItemHeader:"M_0 D_F ab_C u_dPo k_w A_6EqO H_72FG P_1EudUu C_Zjpysv m_Z12nDQf",menuItem:"M_0 r_BN u_b A_6EqO P_ZCWMI4 i_6FIA C_Zjpysv z_Z12nDQf",menuItemQuickAccess:"r_BN o_A q_ZnkeaL",menuItemFooter:"M_0 u_e69 A_6DUj i_6EqO P_1Eu7sD z_Z12nDQf D_F H_7ceA gl_FM ab_C",moreSettingsLink:"C_Z1VRqsb cdPFi_Z1VRqsb C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6FIA H_6UbO",feedbackLink:"C_Z1VRqsb cdPFi_Z1VRqsb C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6LEV a_3n37k",optOutLink:"P_fQwsr H_6TFj D_F gl_C ab_C",badgeContainer:"h_Zc8u05",menuLabel:"D_F Q_6Eb4"},"themeMode-MEDIUM":{settingsButton:"cdPFi_52qC C_2bfYWg is_26ISAR cZdTOHS_ZXgLQ3"},"themeMode-DARK":{settingsButton:"cdPFi_52qC C_2bfYWg is_26ISAR cZdTOHS_ZXgLQ3"},verticalLayout:{settingsButtonContainer:"jb_6FIA"},"verticalPreviewPane-false":{label:"cZ1YE9AC_B"},"verticalPreviewPane-true":{label:"cWeabk_B"},hasContactCard:{label:"D_B"}},_key:"Z1YSNmz"}},51799:(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});var a=s(67294),n=s(92743),r=s(76223),o=s.n(r),i=s(7426),l=s(88771),c=s.n(l),d=s(68949),E=s(67498),_=s(28182);const u=(0,s(99095).defineMessages)({learnMore:{id:"spam_or_unsub_dialog.learnMore",defaultMessage:"Learn more"},turnFeaturesOn:{id:"smartviews_inline_prompt.turn_features_on",defaultMessage:"Turn features on"},title_ATTACHMENTS:{id:"smartviews_inline_prompt.title_attachments",defaultMessage:"Enable smart features to find all your attachments organized in one place"},title_DEALS:{id:"smartviews_inline_prompt.title_deals",defaultMessage:"Enable smart features to see the deals from your inbox in one place"},title_TRAVEL:{id:"smartviews_inline_prompt.title_travel",defaultMessage:"Enable smart features to see your upcoming flight itineraries in one place"},title_SUBSCRIPTIONS:{id:"smartviews_inline_prompt.title_subscriptions",defaultMessage:"Enable smart features to see all your mailing lists and easily unsubscribe in one tap"},title_GROCERIES:{id:"smartviews_inline_prompt.title_groceries",defaultMessage:"Re-enable smart features to view local offers to redeem in-store"},message:{id:"smartviews_inline_prompt.message",defaultMessage:"Your information won’t be shared with 3rd parties"},header_DEALS:{id:"Coupons_header.heading",defaultMessage:"Deals from email"},header_PHOTOS:{id:"photos_header_label",defaultMessage:"Photos from email"},header_DOCUMENTS:{id:"document_label",defaultMessage:"Documents from email"},header_ATTACHMENTS:{id:"smartviews_inline_prompt.header.attachments",defaultMessage:"Attachments from email"},header_SUBSCRIPTIONS:{id:"smart_view_subscriptions",defaultMessage:"Subscriptions"},header_GROCERIES:{id:"smart_view_groceries",defaultMessage:"Groceries"},header_TRAVEL:{id:"smart_view_travel",defaultMessage:"Travel"}});var m=s(8757),S=s(85927),p=s(31057),C=s(37422),A=s(64059),T=s(79483),h=s(92559),g=s(17016);const I=(0,n.connect)((e=>{const{getSetting:t,getRoute:s,isMobileRoute:a,getPrescribedNumberOfColumns:n}=(0,S.selectors)(e),r=s();return{privacyDashBoardUrl:t(C.Zrf.INLINE_PROMPT_DASHBOARD_URL),helpArticleUrl:t(C.Zrf.INLINE_PROMPT_HELP_URL),smartViewType:(0,p.YC)(r)||C.K8C.ATTACHMENTS,isMobile:a(),isTwoColumnLayout:2===n(),themeMode:t(C.Zrf.THEME_MODE)}}))((e=>{const{showHeader:t=!0,privacyDashBoardUrl:s,helpArticleUrl:n,smartViewType:r,isMobile:l,isTwoColumnLayout:S,themeMode:p}=e,{formatMessage:I}=(0,i.Y)(),R=l&&!S,O=o()(c(),{isSingleColumnLayoutMobile:R,themeMode:p}),[D,N]=(0,a.useState)(!1),f=(0,a.useCallback)((e=>{(0,A.x)(s),N(!0),T.ZP.sendI13nModel({i13nModel:{sec:h.nJ.INLINE_PROMPT_SMARTVIEWS,mKey:h.JE.INLINE_PROMPT_SMARTVIEWS_TURN_ON,interactionType:(0,g.getInteractionFromEvent)(e),actionData:{smartViewType:r}}})}),[s,r]),M=(0,a.useCallback)((e=>{(0,A.x)(n),T.ZP.sendI13nModel({i13nModel:{sec:h.nJ.INLINE_PROMPT_SMARTVIEWS,mKey:h.JE.INLINE_PROMPT_SMARTVIEWS_LEARN_MORE,interactionType:(0,g.getInteractionFromEvent)(e),actionData:{smartViewType:r}}})}),[n,r]),L=(0,a.useCallback)((e=>{N(!1),T.ZP.sendI13nModel({i13nModel:{sec:h.nJ.INLINE_PROMPT_REDIRECT_DIALOG,mKey:h.JE.INLINE_PROMPT_DONE_BUTTON_CLICK,interactionType:(0,g.getInteractionFromEvent)(e),actionData:{smartViewType:r}}}),location.reload()}),[r]);let P,y,b,F;switch(r){case C.K8C.ATTACHMENTS:case C.K8C.PHOTOS:case C.K8C.DOCUMENTS:P=I(u[`header_${r}`]),y=I(u.title_ATTACHMENTS),b="/img/smartviews_inline_prompt_attachments_1x.png",F="/img/smartviews_inline_prompt_attachments_2x.png";break;case C.K8C.COUPONS:case C.K8C.COUPON_EMAILS:case C.K8C.STOREFRONT:P=I(u.header_DEALS),y=I(u.title_DEALS),b="/img/smartviews_inline_prompt_deals_1x.png",F="/img/smartviews_inline_prompt_deals_2x.png";break;case C.K8C.SUBSCRIPTION_DETAIL:case C.K8C.SUBSCRIPTIONS:P=I(u.header_SUBSCRIPTIONS),y=I(u.title_SUBSCRIPTIONS),b="/img/smartviews_inline_prompt_subscriptions_1x.png",F="/img/smartviews_inline_prompt_subscriptions_2x.png";break;case C.K8C.GROCERIES:P=I(u.header_GROCERIES),y=I(u.title_GROCERIES),b="/img/smartviews_inline_prompt_groceries_1x.png",F="/img/smartviews_inline_prompt_groceries_2x.png";break;case C.K8C.TRAVEL:case C.K8C.TRAVEL_EMAILS:case C.K8C.TRAVEL_PAST:P=I(u.header_TRAVEL),y=I(u.title_TRAVEL),b="/img/smartviews_inline_prompt_travel_1x.png",F="/img/smartviews_inline_prompt_travel_2x.png"}return t||(y=I(u.title_ATTACHMENTS),b="/img/smartviews_inline_prompt_attachments_1x.png",F="/img/smartviews_inline_prompt_attachments_2x.png"),(0,a.useEffect)((()=>{T.ZP.sendI13nModel({i13nModel:{sec:h.nJ.INLINE_PROMPT_SMARTVIEWS,mKey:h.JE.INLINE_PROMPT_SMARTVIEWS_MOUNT,interactionType:h.Rb.callout,actionData:{smartViewType:r}}})}),[r]),a.createElement("div",{className:O.container},t&&!l&&a.createElement("div",{className:O.header},P),a.createElement("div",{className:O.innerContainer},a.createElement("img",{className:O.logo,src:(0,d.A)(b),srcSet:(0,d.A)(F),alt:`${r}_Logo`}),a.createElement("div",{className:O.title},y),a.createElement("div",{className:O.message},I(u.message)),a.createElement(E.Z,{kind:_.F.PRIMARY,overridingClass:O.primaryBtn,title:I(u.turnFeaturesOn),"aria-label":I(u.turnFeaturesOn),onClick:f,marginLess:!0,tabIndex:0},I(u.turnFeaturesOn)),a.createElement(E.Z,{kind:_.F.SECONDARY_BORDERLESS,overridingClass:O.learnMoreBtn,title:I(u.learnMore),"aria-label":I(u.learnMore),onClick:M,tabIndex:0},I(u.learnMore))),D&&a.createElement(m.Z,{handleDoneButton:L,privacyDashBoardUrl:s,isSingleColumnLayoutMobile:R}))}))},88771:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F D_F ek_BB ab_C C_Z281SGl",header:"W_6D6F m_Z14vXdP k_w t_C D_F gl_C ab_C A_6FsP H_7bcz",innerContainer:"a_3vqYW D_F ek_BB gl_C ab_C M_A",logo:"H_7iGr W_7iGr",title:"A_6FsP u_e69 i_6MGW t_C M_1jbiy2",message:"t_C M_BuC36 A_6EqO",primaryBtn:"H_73HH s_3o4BO u_elT A_6EWk e_eo6 i_N o_h M_Zm1Iab",learnMoreBtn:"H_73HH s_3o4BO u_elT A_6EWk e_eo6 i_N o_h C_Z29WjXl"},isSingleColumnLayoutMobile:{container:"Y_3o5DP",innerContainer:"M_82XEY"},"themeMode-DARK":{container:"C_52qC"}},_key:"Z1zGVcJ"}},66462:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>h});var a=s(67294),n=s(92743),r=s(76223),o=s.n(r),i=s(99095),l=s(49973),c=s(91869),d=s(85927),E=s(15632),_=s(49754),u=s.n(_),m=s(7426),S=s(79483),p=s(92559);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const A=(0,i.defineMessages)({title:{id:"spam_or_unsub_dialog.title",defaultMessage:"Want to stop getting emails from {name}?"},message:{id:"spam_or_unsub_dialog.message",defaultMessage:"We can help you unsubscribe from their newsletter so you won't get emails from {email} anymore. {learnMoreLink}"},unsubLabel:{id:"spam_or_unsub_dialog.unsubLabel",defaultMessage:"Unsubscribe"},spamLabel:{id:"spam_or_unsub_dialog.spamLabel",defaultMessage:"Report as spam"},learnMore:{id:"spam_or_unsub_dialog.learnMore",defaultMessage:"Learn more"}}),T={sec:p.nJ.SPAM_UNSUB_DIALOG,interactionType:p.Rb.click},h=(0,n.connect)(((e,{messageId:t})=>{var s,a;const{getMessagesSelectors:n,getEnvironmentSelectors:r}=(0,d.selectors)(e),{getFromAddresses:o}=n(),{getPartner:i}=r(),l=o(t);return{name:(null==l||null===(s=l[0])||void 0===s?void 0:s.name)||"",email:(null==l||null===(a=l[0])||void 0===a?void 0:a.email)||"",partner:i()}}),(e=>({onUnsub:t=>e((0,l.IB)(t))})))((e=>{const{onUnsub:t,onSpam:s,messageId:n,name:r,email:l,partner:d,onClose:_}=e,h=o()(u()),{formatMessage:g,locale:I}=(0,m.Y)(),R=(0,a.useCallback)((()=>{t({messageId:n,email:l,i13nModel:{...T,mKey:p.JE.SPAM_UNSUB_DIALOG_UNSUB,mKeyGroup:p.rO.unsub}}),_()}),[t,_,n,l]),O=(0,a.useCallback)((()=>{s({mKey:p.JE.SPAM_UNSUB_DIALOG_SPAM,sec:p.nJ.SPAM_UNSUB_DIALOG}),_()}),[s,_]),D=(0,a.useCallback)((()=>{_(),S.ZP.sendI13nModel({i13nModel:{...T,mKey:p.JE.SPAM_UNSUB_DIALOG_CLOSE}})}),[_]),N=(0,a.useCallback)((()=>{_(),S.ZP.sendI13nModel({i13nModel:{...T,mKey:p.JE.SPAM_UNSUB_DIALOG_BACKGROUND}})}),[_]),f=(0,E.Lz)("SLN28056")(I,d);return(0,a.useEffect)((()=>{S.ZP.sendI13nModel({i13nModel:{mKey:p.JE.SPAM_UNSUB_DIALOG_SHOWN,sec:p.nJ.SPAM_UNSUB_DIALOG,interactionType:p.Rb.callout}})}),[]),a.createElement(c.Z,{hideIcon:!0,title:g(A.title,{name:r||l}),onConfirm:R,onAbort:O,onOuterClick:N,onClose:D,acceptLabel:g(A.unsubLabel),cancelLabel:g(A.spamLabel)},a.createElement(i.FormattedMessage,C({},A.message,{values:{email:l||r,learnMoreLink:a.createElement("a",{className:h.link,href:f,target:"_blank",rel:"noopener noreferrer"},g(A.learnMore))}})))}))},49754:e=>{"use strict";e.exports={className:{default:{link:"C_Z2aVTcY r_P"}},_key:"62EcE"}},78414:e=>{"use strict";e.exports={className:{default:{header:"t_C A_6FsP C_Z281SGl Y_6MGW U_6LEV I_52qC",container:"k_w W_6D6F H_6D6F P_ZjYwVm I_52qC",contentContainer:"p_R W_3DWRW a_6D6F M_1EAG48",offerImg:"W_6D6F H_6D6F",syncImage:"W_3v9Wb H_3nH9d",syncMessage:"Y_6MGW C_Z1VRqsb",syncWaitMessage:"Y_eo6"},"themeMode-DARK":{container:"I_T"}},_key:"Z1gi7Ve"}},62639:(e,t,s)=>{"use strict";s.d(t,{I:()=>O,Z:()=>N});s(45697);var a=s(67294),n=s(99095),r=s(43007),o=s(67498),i=s(87771),l=s(10728),c=s(8106),d=(s(95406),s(79483)),E=s(92559),_=s(76531),u=s(28182),m=s(18030),S=s(11160),p=s(31509),C=s(65304),A=s(45485),T=s(37422),h=(s(7320),s(23279)),g=s.n(h);function I(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const R=(0,n.defineMessages)({theme_picker:{id:"compose.theme_picker",defaultMessage:"Add stationery"}});function O(e,t){e||(e=t);const{stationeryThemes:s,themeVersions:a,stationeryMobThmPath:n}=A.Z.config,r=s[e];return r&&(r.themeName=e,r.themeVersion=a[e],r.mobstorPath=n,r.isDefaultTheme=e===t),r}class D extends a.Component{constructor(e){super(e),I(this,"state",{menuOpen:!1,hasShownStationeryPicker:!1}),I(this,"_showStationeryPickerIfNeeded",(()=>{if(!this.state.hasShownStationeryPicker){const{showStationeryPicker:e,getToolbarBoundingRect:t}=this.props;e&&setTimeout((()=>{this.toolbarBoundingRect=t(),this.setState({menuOpen:!0,hasShownStationeryPicker:!0}),d.ZP.sendI13nModel({i13nModel:{mKey:E.JE.COMPOSE_AUTO_OPEN_STATIONERY_POPUP,sec:E.nJ.RTE_TOOLBAR}})}),300)}})),I(this,"_handlePopoverHide",(()=>{this.state.menuOpen&&this.setState({menuOpen:!1})})),I(this,"_toggleMenu",(e=>{e&&(e.stopPropagation(),e.preventDefault());const{menuOpen:t}=this.state;t?(this._stationeryPopoverContainer.hide(C.K2.MOUNT),this.props.focusBackEditor()):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._stationeryPopoverContainer.show(C.K2.MOUNT)),this.setState({menuOpen:!t}),d.ZP.sendI13nModel({i13nModel:{mKey:t?E.JE.COMPOSE_CLOSE_STATIONERY_POPUP:E.JE.COMPOSE_OPEN_STATIONERY_POPUP,sec:E.nJ.RTE_TOOLBAR,interactionType:E.Rb.click}})})),I(this,"renderStationeryCue",(()=>this.props.showStationeryCue&&this.refs.button?a.createElement(m.ZP,{popoverAnchor:this.refs.button,align:C.xM.CENTER,triggerOn:C.K2.MOUNT,zAltitude:l.LSY.POPOVER.HIGH},a.createElement(i.cr,{import:"../compose/atoms/stationery_cue",cueName:T.ANe.STATIONERY_CUE,close:this.state.menuOpen,onTryNow:this._toggleMenu,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,34290))},_moduleResolver:function(){return 34290}})):null)),I(this,"renderStationeryPopup",(()=>a.createElement(m.ZP,{ref:e=>this._stationeryPopoverContent=e,permittedArrowDirections:[C.Ji.DOWN],triggerOn:C.K2.MOUNT,customPositioning:!0,"data-test-id":"stationery-pop-up",onHide:this._handlePopoverHide},a.createElement(i.cr,{import:"./stationery",getThemeConfig:O,onThemeChange:this.props.onThemeChange,defaultTheme:this.props.stationeryDefaultTheme,selectedTheme:this.props.stationeryTheme,selectedCategory:this.props.stationeryCategory,categoriesToShow:this.props.stationeryCategoriesToShow,toggleMenu:this._toggleMenu,onHide:this._toggleMenu,width:this.toolbarBoundingRect.width,left:this.toolbarBoundingRect.left,right:this.toolbarBoundingRect.right,bottom:((0,c.jU)()&&document.documentElement.clientHeight||0)-this.toolbarBoundingRect.top,isCompactSize:this.props.isCompactSize,stationeryRestrictedThemes:this.props.stationeryRestrictedThemes,showDefaultTheme:this.props.showStationeryDefaultTheme,showThemeCategories:this.props.showStationeryThemeCategories,rtl:this.props.rtl,toolbarKind:this.props.toolbarKind,showStationerySetDefault:this.props.showStationerySetDefault,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,52616))},_moduleResolver:function(){return 52616}})))),this.scrollDebounce=g()(this.handleScroll.bind(this),100)}componentDidMount(){window.addEventListener("scroll",this.scrollDebounce,!0),this._showStationeryPickerIfNeeded()}componentDidUpdate(){this._showStationeryPickerIfNeeded()}componentWillUnmount(){window.removeEventListener("scroll",this.scrollDebounce,!0)}handleScroll(){this.state.menuOpen&&(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.forceUpdate())}render(){const{formatMessage:e}=this.context.intl,{menuOpen:t}=this.state;return a.createElement("div",null,a.createElement("div",{onClick:this._toggleMenu},a.createElement(S.Z,{ref:e=>this._stationeryPopoverContainer=e},a.createElement(p.Z,{"data-test-id":"stationery-picker-anchor"},a.createElement(o.Z,{ref:"button","data-test-id":"stationery-button",title:e(R.theme_picker),"aria-label":e(R.theme_picker),kind:t?u.F.ICON_HIGHLIGHTED:u.F.ICON},a.createElement(r.Z,{kind:_.Kinds.STATIONERY,size:_.Sizes.XS,colorState:_.ColorStates.NORMAL}))),t?this.renderStationeryPopup():null)),this.renderStationeryCue())}}I(D,"contextTypes",{intl:n.intlShape.isRequired});const N=D},77031:(e,t,s)=>{"use strict";s.d(t,{Z:()=>V});s(45697);var a=s(67294),n=s(99095),r=s(92743),o=s(30982),i=s(40818),l=s(67498),c=s(28182),d=s(76531),E=s(65304),_=s(43007),u=s(9333),m=s(46229),S=s(87771),p=s(94482),C=s(8470),A=s(31509),T=s(11160),h=s(18030),g=s(79094),I=s(83034),R=s(28509),O=s(37422),D=s(79483),N=s(92559),f=s(9026),M=s(31057),L=s(10728),P=s(3405),y=s(85927),b=s(20561),F=s(63549),U=s.n(F),v=s(18802);const w=10,G="unfavorite_icon",k="favorite_icon",H="manage_shortcut_stores_favorites",B="show",x="hide",V=(0,r.connect)(((e,t)=>{const{listId:s}=t,{getSetting:a,getSelectedAccountId:n,getStorefrontBrandsSelectors:r,isFeatureEnabled:o}=(0,y.selectors)(e),{getAllStorefrontBrands:i}=r(),l=a(O.Zrf.DEALS_STORIES_SETTINGS),c=i(),d=s&&(0,M.Yy)(s);return{dealStoriesSetting:l,selectedAccountId:n(),selectedBrandId:d,storefrontBrands:c,themeMode:a(O.Zrf.THEME_MODE),showBrandMenuCueFeature:o(O.ANe.BRAND_MENU_ONBOARDING_CUE)}}),(e=>({requestStorefrontBrandFollow:t=>e((0,i.qs)(t)),requestStorefrontBrandUnfollow:t=>e((0,i.O$)(t)),resetNewDealCount:t=>e((0,i.WC)(t)),updateDealsStoriesSettings:(t,s)=>e((0,o.ZP)({name:O.Zrf.DEALS_STORIES_SETTINGS,value:t,runV3:!0,i13nModel:s}))})))((e=>{const{dealStoriesSetting:t,requestStorefrontBrandFollow:r,requestStorefrontBrandUnfollow:o,resetNewDealCount:i,selectedAccountId:M,selectedBrandId:y,storefrontBrands:F,themeMode:V,updateDealsStoriesSettings:W,showBrandMenuCueFeature:Z}=e,K=t===O.eG4.COLLAPSED,z=(0,I.Z)(U(),{isCollapsed:K,themeMode:V}),[q,Y]=(0,R.Z)(!1),[j,Q]=(0,a.useState)(0),[X,J]=(0,a.useState)(!1),[$,ee]=(0,a.useState)(!1),[te,se]=(0,a.useState)(0),ae=(0,a.useRef)(),ne=(0,a.useRef)(!1),re=()=>{var e;const t=null===(e=ae.current)||void 0===e?void 0:e.getBoundingClientRect().width;Q(Math.floor(t/42)-3)},oe=F.slice(0,j),ie=F.length-j,le=F.filter((e=>(null==e?void 0:e.newDealsCount)>0)).length,[ce,de]=(0,a.useState)(!1),Ee=e=>{let t="";e===O.eG4.EXPANDED?t=N.JE.DEALS_STORIES_ENABLED:e===O.eG4.COLLAPSED?t=N.JE.DEALS_STORIES_HIDDEN:e===O.eG4.DISABLED&&(t=N.JE.DEALS_STORIES_DISABLED),W(e,{mKey:t,sec:N.nJ.DEALS_STORIES,interactiontype:N.Rb.click})};let _e;const ue=(0,a.useRef)(),me=({newDealsCount:e,brandId:t},s,a,n)=>({mKey:N.JE.CARD_INTERACT,sec:N.nJ.MSG_LIST,actionData:{featurefamily:O.lMo.IC,xpname:O.pdX.SHORTCUTS_INBOX,interactiontype:a,interacteditem:n,clickedbrandposition:s+1,clickedbrandbadge:e,clickedbrand:t}}),Se=(0,a.useCallback)(((e,t,s)=>({mKey:e,sec:N.nJ.MSG_LIST,actionData:{featurefamily:O.lMo.IC,xpname:O.pdX.SHORTCUTS_INBOX,interactiontype:t,state:s,senderscount:F.length,senders:F.map((({brandId:e})=>e)),badgescount:F.filter((({newDealsCount:e})=>e>0)).length,badges:F.reduce(((e,{newDealsCount:t})=>t>0?[...e,t]:e),[])}})),[F]),pe=e=>{const t=Se(N.JE.CARD_INTERACT,e?B:x,e?"expanded":"collapsed");D.ZP.sendI13nModel({i13nModel:t}),Y()};if((0,a.useEffect)((()=>(ne.current||(window.addEventListener("resize",re),ne.current=!0),re(),()=>{ne.current=!1,window.removeEventListener("resize",re)})),[null==F?void 0:F.length,t]),(0,a.useEffect)((()=>{if(!ce&&(null==F?void 0:F.length)>0){const e=Se(N.JE.CARD_VIEW,void 0,"collapsed");D.ZP.sendI13nModel({i13nModel:e}),de(!0)}}),[F,ce,Se]),!F.length||t===O.eG4.DISABLED)return null;const Ce=a.createElement(T.Z,null,a.createElement(A.Z,null,a.createElement("span",{title:"Settings"},a.createElement(u.default,{colorState:d.ColorStates.INHERITED,kind:d.Kinds.MORE,size:d.Sizes.XXS,className:z.settings}))),a.createElement(h.ZP,{align:E.xM.END,offset:15,permittedArrowDirections:[E.Ji.DOWN],triggerOn:E.K2.CLICK,zAltitude:L.LSY.MODAL},a.createElement(C.Z,{focusOnMount:!0,"data-test-id":"sort-order-list"},a.createElement("div",null,a.createElement(p.Z,{className:z.disableFeature},a.createElement(l.Z,{"data-test-id":"disable-feature-button",kind:c.F.MENUITEM,onClick:()=>{q&&Y(!1),J(!0),ee(!0)}},a.createElement(n.FormattedMessage,{defaultMessage:"Disable feature",id:"BrandMenu.disableFeature"}))),a.createElement(p.Z,null,a.createElement(l.Z,{"data-test-id":"share-feedback-button",kind:c.F.MENUITEM,onClick:()=>{q&&Y(!1),J(!0),ee(!1)}},a.createElement(n.FormattedMessage,{defaultMessage:"Share feedback",id:"BrandMenu.shareFeedback"}))),a.createElement(p.Z,null,a.createElement(l.Z,{"data-test-id":"hide-shortcuts-button",kind:c.F.MENUITEM,onClick:()=>{q&&Y(!1),Ee(O.eG4.COLLAPSED)}},a.createElement(n.FormattedMessage,{defaultMessage:"Hide feature",id:"BrandMenu.clearHide"}))),a.createElement(p.Z,null,a.createElement(l.Z,{"data-test-id":"clear-updates-button",kind:c.F.MENUITEM,onClick:()=>i()},a.createElement(n.FormattedMessage,{defaultMessage:"Clear updates",id:"BrandMenu.clearUpdates"})))))));if(q){const e=1===te?F.filter((e=>e.followed)):F,t=1===te&&0===e.length,s=a.createElement("div",{className:z.emptyFavoriteContainer},a.createElement("div",{className:z.emptyFavoriteItemContainer},a.createElement("div",{className:z.menuImageContainer},a.createElement("div",{className:z.emptyFavoriteLogo},a.createElement(m.Z,{className:z.emptyFavoriteLogoImage,src:"/img/default_shortcuts_brand_logo.png"}))),a.createElement("div",{className:z.menuHeader},a.createElement(n.FormattedMessage,{defaultMessage:"Brand",id:"BrandMenu.defaultBrandName"})),a.createElement("div",{className:z.starContainer},a.createElement(_.Z,{colorState:d.ColorStates.STARRED,kind:d.Kinds.STAR,size:d.Sizes.S}))),a.createElement("h3",{className:z.emptyFavoriteTitle},a.createElement(n.FormattedMessage,{defaultMessage:"Customize your shortcuts",id:"BrandMenu.emptyFavoriteTitle"})),a.createElement("p",{className:z.emptyFavoriteText},a.createElement(n.FormattedMessage,{defaultMessage:"Favorite brands will show up first in your Inbox Shortcuts. Click on the star icon to ‘favorite’ a brand.",id:"BrandMenu.favoriteInstruction"})),a.createElement(l.Z,{"data-test-id":"empty-all-brand-button",kind:c.F.PRIMARY,onClick:()=>se(0),overridingClass:z.emptyFavoriteButton},a.createElement(n.FormattedMessage,{defaultMessage:"Add brands",id:"BrandMenu.emptyFavoriteAdd"}))),i=e.map(((e,t)=>{const{brandId:s,followed:n,logo:i,name:l,newDealsCount:c}=e;let E;return E=c<w?z.menuItemNewDealsCount:z.menuItemNewDealsCountTwo,a.createElement("div",{key:s,onClick:Y},a.createElement(b.Z,{"data-test-id":"preview-brand-"+l,className:z.menuItemContainer,route:(0,P.jK)(O.K8C.STOREFRONT,{accountIds:M,brandId:s}),i13nModel:me(e,t,N.Rb.interaction_click),title:l},a.createElement("div",{className:z.menuImageContainer},a.createElement("img",{className:z.menuLogoImage,src:i,alt:l}),!!c&&a.createElement("span",{className:E},c<w?c:a.createElement(a.Fragment,null,9,"+"))),a.createElement("div",{className:z.menuHeader},l),a.createElement("div",{className:z.starContainer},a.createElement(u.default,{"data-test-id":"star-brand",className:z.starButton,colorState:n?d.ColorStates.STARRED:d.ColorStates.FAINT,kind:d.Kinds.STAR,size:d.Sizes.S,onClick:e=>((e,t,s,a,n)=>{e.preventDefault(),e.stopPropagation();const i=me({newDealsCount:s,brandId:t},n,H,a?G:k);D.ZP.sendI13nModel({i13nModel:i}),a?o({accountId:M[0],brandId:t}):r({accountId:M[0],brandId:t})})(e,s,c,n,t)}))))}));return a.createElement("div",{className:z.expandedContainer},a.createElement("div",{className:z.expandedTitleContainer},a.createElement("div",{className:z.expandedTitle,onClick:Y},a.createElement(n.FormattedMessage,{defaultMessage:"Brands from your inbox",id:"BrandMenu.header"})),a.createElement("div",{className:z.expandedSettings},Ce,"   ",a.createElement(u.default,{colorState:d.ColorStates.INHERITED,kind:d.Kinds.CHEVRON_UP,onClick:()=>pe(!1),rotate:d.Rotate.D180,size:d.Sizes.XXS,title:"View less",className:z.viewLess,"data-test-id":"view-less-brands"}))),a.createElement(g.t,{overrideClassNames:z,isDark:V===f.zg.DARK},a.createElement(g.O,{"data-test-id":"all-brands-tab",overrideClassNames:z,isSelected:0===te,onClick:()=>se(0)},a.createElement(n.FormattedMessage,{defaultMessage:"All brands",id:"BrandMenu.tabAllBrands"})),a.createElement(g.O,{"data-test-id":"favorites-tab",overrideClassNames:z,isSelected:1===te,onClick:()=>se(1)},a.createElement(n.FormattedMessage,{defaultMessage:"Favorites",id:"BrandMenu.tabFavorites"}))),a.createElement("div",{className:z.expandedMenu},t?s:i))}const Ae=!!oe.length&&oe.map(((e,t)=>{const{brandId:s,name:n,logo:r,newDealsCount:o}=e;let i,l=z.logoImageContainer;return i=o<w?z.newDealsCount:z.newDealsCountTwo,y===s&&(l=z.selectedLogoImageContainer),a.createElement(b.Z,{"data-test-id":"preview-brand-"+n,className:l,route:(0,P.jK)(O.K8C.STOREFRONT,{accountIds:M,brandId:s}),key:s,title:n,i13nModel:me(e,t,N.Rb.interaction_click)},a.createElement("div",{className:z.brandContainer},a.createElement("img",{className:z.logoImage,src:r,alt:n}),!!o&&a.createElement("span",{className:i},o<w?o:"9+")))})),Te=le?a.createElement("div",{className:z.showContainer},le," ",a.createElement(n.FormattedMessage,{defaultMessage:"{count, plural, =1 {UPDATE} other {UPDATES}}",id:"BrandMenu.updates",values:{count:le}})):a.createElement("div",{className:z.show},a.createElement(n.FormattedMessage,{defaultMessage:"Show",id:"BrandMenu.showShortcut"})),he=a.createElement("div",{className:z.brandsContainer,ref:ae},a.createElement("div",{className:z.previewBrands},Ae,ie>0&&a.createElement("div",{className:z.more,onClick:Y},a.createElement(_.Z,{kind:d.Kinds.ADD,colorState:d.ColorStates.INHERITED,size:d.Sizes.XXS}),ie)),a.createElement("div",{className:z.menuContainer},Ce,"   ",a.createElement(u.default,{"data-test-id":"view-more-brands",colorState:d.ColorStates.INHERITED,kind:d.Kinds.CHEVRON_UP,size:d.Sizes.XXS,title:"View all",className:z.viewMore,onClick:()=>pe(!0)}))),ge=()=>{var e;null===(e=_e)||void 0===e||e.updatePosition()};return a.createElement("div",{"data-test-id":"brand-menu-container",className:z.container,onClick:K?()=>Ee(O.eG4.EXPANDED):()=>{}},a.createElement("div",{className:z.title,onClick:K?()=>{}:Y},a.createElement("span",{ref:ue},a.createElement(n.FormattedMessage,{defaultMessage:"Brands from your inbox",id:"BrandMenu.header"}))),Z&&ue?a.createElement(h.ZP,{popoverAnchor:ue,align:E.xM.CENTER,triggerOn:E.K2.MOUNT,permittedArrowDirections:[E.Ji.DOWN],offset:16,ref:e=>{_e=e},zAltitude:L.LSY.POPOVER.HIGH,borderRadius:E.cM.HIGH},a.createElement(S.cr,{import:"./brand_menu_cue",cueName:O.ANe.BRAND_MENU_ONBOARDING_CUE,onShow:ge,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,57419))},_moduleResolver:function(){return 57419}})):null,K?Te:he,X&&a.createElement(v.ZP,{onClose:()=>J(!1),updateDealsStoriesSettings:W,disable:$}))}))},18802:(e,t,s)=>{"use strict";s.d(t,{c$:()=>b,G7:()=>U,ZP:()=>k});s(45697);var a=s(67294),n=s(99095),r=s(67498),o=s(28182),i=s(76531),l=s(9333),c=s(89963),d=s(7426),E=s(83034),_=s(37422),u=s(79483),m=s(92559),S=s(17016),p=s(46826),C=s.n(p),A=s(46229),T=s(57038),h=s.n(T);const g=(0,n.defineMessages)({title:{id:"share_feedback_disable.title",defaultMessage:"Would you like to disable this feature?"},subTitle:{id:"share_feedback_disable.subTitle",defaultMessage:"You can re-enable anytime from Settings."},disable:{id:"share_feedback_disable.disable",defaultMessage:"Disable"},not_now:{id:"share_feedback_disable.not_now",defaultMessage:"Not now"}}),I=({onSubmit:e,onCancel:t})=>{const s=(0,E.Z)(h()),{formatMessage:n}=(0,d.Y)();return a.createElement("div",{className:s.disableContainer},a.createElement(A.Z,{src:"/img/share_feedback_bad.png",className:s.badIcon}),a.createElement("h2",{className:s.title},n(g.title)),a.createElement("p",{className:s.subTitle},n(g.subTitle)),a.createElement("div",{className:s.actionBar},a.createElement(r.Z,{"data-test-id":"disable_button",kind:o.F.PRIMARY,onClick:e,overridingClass:s.disableButton},n(g.disable)),a.createElement(r.Z,{"data-test-id":"not_now_button",kind:o.F.SECONDARY_BORDERLESS,onClick:t,overridingClass:s.notNowButton},n(g.not_now))))};var R=s(14334),O=s(68949);const D=(0,n.defineMessages)({title:{id:"share_feedback_success.title",defaultMessage:"Thanks for your feedback!"},subTitle:{id:"share_feedback_success.subTitle",defaultMessage:"Your response helps us build a better experience for you."}}),N=()=>{const e=(0,E.Z)(h()),{formatMessage:t}=(0,d.Y)();return a.createElement("div",{className:e.disableContainer},a.createElement("img",{src:(0,O.A)("/img/share_feedback_done.png"),className:e.successIcon}),a.createElement("h2",{className:e.title},t(D.title)),a.createElement("p",{className:e.subTitle},t(D.subTitle)))};var f=s(12742),M=s.n(f);const L=(0,n.defineMessages)({editorTitle:{id:"share_feedback_view.editorTitle",defaultMessage:"Please share additional feedback to help us improve this feature"}}),P=({view:e,onChange:t,onTextChange:s})=>{const n=(0,E.Z)(M()),{formatMessage:r}=(0,d.Y)();return a.createElement("div",{className:n.feedbackView},a.createElement("h3",{className:n.viewTitle},e.title),a.createElement("p",{className:n.viewSubTitle},e.subTitle),a.createElement("ul",{className:n.suggestions},e.suggestions.map((s=>a.createElement("li",{key:`${e.type}_${s.id}`},a.createElement("label",{className:n.suggestion},a.createElement("input",{type:"checkbox",role:"checkbox","aria-label":s.label,"data-test-id":`feedback_suggestion_${s.id}`,name:"feedback_suggestion",value:s.value,checked:s.checked,onChange:()=>t(s.value)}),a.createElement("span",{className:n.labelText},s.label)))))),a.createElement("textarea",{id:"additional_comments",className:n.additonalComments,name:"additional_comments",onChange:s,"aria-label":r(L.editorTitle),placeholder:r(L.editorTitle),dir:"auto"}))},y=(0,n.defineMessages)({close:{id:"share_feedback_modal.close",defaultMessage:"Close"},title:{id:"share_feedback_modal.title",defaultMessage:"Is this feature useful for you?"},editorTitle:{id:"share_feedback_modal.editorTitle",defaultMessage:"Please share additional feedback to help us improve this feature"},submit:{id:"share_feedback_modal.submit",defaultMessage:"Submit"},cancel:{id:"share_feedback_modal.cancel",defaultMessage:"Cancel"},yes_title:{id:"share_feedback_modal.yes_title",defaultMessage:"Great, thank you!"},yes_subtitle:{id:"share_feedback_modal.yes_subtitle",defaultMessage:"Please tell us what do you like about this feature"},yes_suggestion_0:{id:"share_feedback_modal.yes_suggestion_0",defaultMessage:"Convenient access"},yes_suggestion_1:{id:"share_feedback_modal.yes_suggestion_1",defaultMessage:"Well organized"},yes_suggestion_2:{id:"share_feedback_modal.yes_suggestion_2",defaultMessage:"Help find emails"},yes_suggestion_3:{id:"share_feedback_modal.yes_suggestion_3",defaultMessage:"Help find deals"},something_else:{id:"share_feedback_modal.something_else",defaultMessage:"Something else..."},sometimes_title:{id:"share_feedback_modal.sometimes_title",defaultMessage:"We’d like to get better!"},sometimes_subtitle:{id:"share_feedback_modal.sometimes_subtitle",defaultMessage:"Please tell us what is currently missing"},sometimes_suggestion_0:{id:"share_feedback_modal.sometimes_suggestion_0",defaultMessage:"The brands shown are not relevant to me"},sometimes_suggestion_1:{id:"share_feedback_modal.sometimes_suggestion_1",defaultMessage:"Don’t know when or why to use it"},sometimes_suggestion_2:{id:"share_feedback_modal.sometimes_suggestion_2",defaultMessage:"Doesn’t have enough content"},sometimes_suggestion_3:{id:"share_feedback_modal.sometimes_suggestion_3",defaultMessage:"Inaccurate data shown"}}),b={YES:"yes",SOMETIMES:"sometimes",NO:"no"},F=[{type:b.YES,title:a.createElement(n.FormattedMessage,y.yes_title),subTitle:a.createElement(n.FormattedMessage,y.yes_subtitle),suggestions:[{id:0,label:a.createElement(n.FormattedMessage,y.yes_suggestion_0),checked:!1,value:"convenient"},{id:1,label:a.createElement(n.FormattedMessage,y.yes_suggestion_1),checked:!1,value:"organized"},{id:2,label:a.createElement(n.FormattedMessage,y.yes_suggestion_2),checked:!1,value:"emails"},{id:3,label:a.createElement(n.FormattedMessage,y.yes_suggestion_3),checked:!1,value:"deals"},{id:4,label:a.createElement(n.FormattedMessage,y.something_else),checked:!1,value:"other"}]},{type:b.SOMETIMES,title:a.createElement(n.FormattedMessage,y.sometimes_title),subTitle:a.createElement(n.FormattedMessage,y.sometimes_subtitle),suggestions:[{id:0,label:a.createElement(n.FormattedMessage,y.sometimes_suggestion_0),checked:!1,value:"brands_irrelevant"},{id:1,label:a.createElement(n.FormattedMessage,y.sometimes_suggestion_1),checked:!1,value:"unknown_use"},{id:2,label:a.createElement(n.FormattedMessage,y.sometimes_suggestion_2),checked:!1,value:"lacks_content"},{id:3,label:a.createElement(n.FormattedMessage,y.sometimes_suggestion_3),checked:!1,value:"inaccurate_data"},{id:4,label:a.createElement(n.FormattedMessage,y.something_else),checked:!1,value:"other"}]}],U={yes:"positive_page",sometimes:"sometimes_page",no:"negative_page"},v={isUseful:b.YES,view:F[0],showDisable:!1,success:!1,comments:""};function w(e,{type:t,payload:s}){switch(t){case"UPDATE":return{...e,...s};default:return{...e}}}const G=({onClose:e,updateDealsStoriesSettings:t,disable:s,defaultSelected:n})=>{const p=(0,E.Z)(C()),{formatMessage:A}=(0,d.Y)(),[T,h]=(0,a.useReducer)(w,{...v,showDisable:s,isUseful:s?b.NO:n,view:F.find((e=>e.type===n))||F[0]}),{isUseful:g,view:O,showDisable:D,success:f,comments:M}=T;(0,a.useEffect)((()=>{u.ZP.sendI13nModel({i13nModel:{mKey:m.JE.CARD_VIEW,sec:m.nJ.MSG_BODY,actionData:{featurefamily:_.lMo.IC,xpname:_.pdX.SHORTCUTS_FEEDBACK,state:"popup"}}})}),[]),(0,a.useEffect)((()=>{g===b.NO&&u.ZP.sendI13nModel({i13nModel:{mKey:m.JE.CARD_INTERACT,sec:m.nJ.MSG_BODY,actionData:{featurefamily:_.lMo.IC,xpname:_.pdX.SHORTCUTS_FEEDBACK,state:U[g],dismissed:"no",is_helpful:g}}})}),[g]);const L=({notNow:e=!1,disableIntent:t=!1})=>{u.ZP.sendI13nModel({i13nModel:{mKey:m.JE.CARD_INTERACT,sec:m.nJ.MSG_BODY,actionData:{featurefamily:_.lMo.IC,xpname:_.pdX.SHORTCUTS_FEEDBACK,is_helpful:!e||e&&g===b.NO?g:void 0,dismissed:e?"yes":"no",state:U[g],feedback:!e&&g!==b.NO&&O.suggestions.filter((e=>e.checked)).length>0?O.suggestions.filter((e=>e.checked)).map((e=>e.value)):void 0,other:e||g===b.NO||""===M.trim()?void 0:M.trim(),disable_intent:t?"yes":void 0}}})},G=(0,a.useCallback)((e=>{h({type:"UPDATE",payload:{view:{...O,suggestions:O.suggestions.map((t=>t.value===e?{...t,checked:!t.checked}:{...t}))}}})}),[O]),k=(0,a.useCallback)((e=>{h({type:"UPDATE",payload:{comments:(0,S.sanitizeData)(e.target.value)}})}),[]),H=()=>{e(),f||L({notNow:!0,disableIntent:!1})};return a.createElement(c.Z,{onClose:H,onOuterClick:H},a.createElement("div",{className:p.container},a.createElement("div",{className:p.close},a.createElement(l.default,{onClick:H,colorState:i.ColorStates.FIRST_LEVEL_GRAY,kind:i.Kinds.CLOSE,size:i.Sizes.XS,title:A(y.close),"aria-label":A(y.close),"data-test-id":"share-feedback-button-close"})),!D&&!f&&a.createElement(a.Fragment,null,a.createElement("h2",{className:p.title},A(y.title)),a.createElement(R.Z,{isChecked:g,onChange:e=>{h({type:"UPDATE",payload:{showDisable:e===b.NO,view:F.find((t=>t.type===e))||F[0],isUseful:e,comments:""}})}}),a.createElement(P,{view:O,onChange:G,onTextChange:k}),a.createElement("div",{className:p.actionBar},a.createElement(r.Z,{"data-test-id":"submit_button",kind:o.F.PRIMARY,onClick:()=>{h({type:"UPDATE",payload:{success:!0}}),L({notNow:!1,disableIntent:!1})},overridingClass:p.submitButton},A(y.submit)),a.createElement(r.Z,{"data-test-id":"cancel_button",kind:o.F.SECONDARY_BORDERLESS,onClick:H,overridingClass:p.cancelButton},A(y.cancel)))),D&&a.createElement(I,{onSubmit:()=>{L({notNow:!1,disableIntent:!0}),t(_.eG4.DISABLED,{mKey:m.JE.DEALS_STORIES_DISABLED,sec:m.nJ.DEALS_STORIES,interactiontype:m.Rb.click}),e()},onCancel:()=>{L({notNow:!0,disableIntent:!1}),e()}}),f&&a.createElement(N,null)))};G.defaultProps={disable:!1,defaultSelected:b.YES};const k=G},14334:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});s(45697);var a=s(67294),n=s(99095),r=s(46229),o=s(7426),i=s(83034),l=s(97871),c=s.n(l),d=s(18802);const E=(0,n.defineMessages)({yes:{id:"share_feedback_options.yes",defaultMessage:"Yes"},sometimes:{id:"share_feedback_options.sometimes",defaultMessage:"Sometimes"},no:{id:"share_feedback_options.no",defaultMessage:"No"}}),_=({isChecked:e,onChange:t,hideInput:s})=>{const n=(0,i.Z)(c(),{isChecked:e}),{formatMessage:l}=(0,o.Y)();return a.createElement("ul",{className:n.feedbackList},Object.values(d.c$).map((o=>a.createElement("li",{key:`${o}-checked-${e}`},a.createElement("label",{className:n.option},a.createElement(r.Z,{src:`/img/share_feedback_${o}.svg`,className:n.optionIcon}),a.createElement("span",{className:n.optionText},l(E[o])),a.createElement("input",{className:n.radio,type:"radio",name:"showFeedbackOption","data-test-id":`share_feedback_option_${o}`,checked:o===e,onChange:()=>t(o),value:o,style:s?{display:"none"}:{}}))))))};_.defaultProps={hideInput:!1,isChecked:null};const u=_},63549:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C H_7bI5 d_7bI5 z_2wc7QY n_2wc7QY q_52qC",title:"D_F o_h ej_0 em_qk C_Z281SGl A_6EqO M_pWbKE J_x a_3vhr3 r_P C4_Z2aVTcY",showContainer:"H_6MGW u_elT A_6DUj D_F ab_C C_52qC e_3mS2U I_2qemPL P_3gJOe M_3gJOe",show:"M_3gJOe C_Z2aVTcY",brandsContainer:"D_F ab_C gl_FM em_sL ej_0 H_6D6F o_h",previewBrands:"D_F ab_C o_h",more:"D_F ab_C cdPFi_Z2aVTcY C_Z2aVTcY r_P",logoImageContainer:"D_F gl_C ab_C p_R P_3gJOe H_7bI5 k_w I4_Z1sGJ76",brandContainer:"p_R D_F",selectedLogoImageContainer:"D_F gl_C ab_C p_R P_3gJOe H_7bI5 z_Z1lEwrq I_Z1sGJ76 k_w",logoImage:"e_e5X b_2wc7QY W_6MGW H_6MGW",newDealsCount:"D_F gl_C ab_C p_a T_68F4 R_68F4 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_52qC A_6DUj",newDealsCountTwo:"D_F gl_C ab_C p_a T_68F4 R_68F4 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_52qC A_6DUj P_3gIgH",logoTooltipContainer:"e_dRA H_6LEV C_Z281SGl",logoTooltip:"P_fq7 A_6DUj",menuContainer:"D_F ab_C cdPFi_Z1YJGyo gl_C M_1Eu7sD",settings:"cdPFi4_Z2aVTcY",viewMore:"cdPFi4_Z2aVTcY",viewLess:"cdPFi4_Z2aVTcY",disableFeature:"m_2wc7QY",expandedContainer:"H_3vqYW d_3vqYW z_2wc7QY n_2wc7QY",expandedTitleContainer:"D_F gl_FM M_ZgNy5T",expandedTitle:"u_b A_6EWk r_P C4_Z2aVTcY",expandedSettings:"D_F cdPFi_Z1YJGyo",tabListContainer:"m_2wc7QY M_20wKUB P_13zG0u",button:"W_7cK6 J_x A_6Eb4",expandedMenu:"D_F eo_HB H_1C4Vr5 iz_A Q_6LEV",menuItemContainer:"D_F ab_C ek_BB je_6Mbr H_3mT4V W_7ALe I_52qC b_2wc7QY k_w e_eo6 M_eo6 I4_Znsmye p_R",menuImageContainer:"p_R",menuItemNewDealsCount:"D_F gl_C ab_C p_a T_0 R_0 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_52qC A_6DUj",menuItemNewDealsCountTwo:"D_F gl_C ab_C p_a T_0 R_0 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_52qC A_6DUj P_3gIgH",menuLogoImage:"e_e5X b_2wc7QY W_6UbO H_6UbO",menuHeader:"W_7sKQ je_eo6 A_6DUj i_6EGz t_C C_Z281SGl o_h ca8c02_O cZwJqdT_Z2lir11 D_ZS1uoi",starContainer:"p_a T_0 R_0",starButton:"P_82XEY lv4_1IWXzk h4_2d9T5e",emptyFavoriteContainer:"W_6D6F D_F ab_C gl_C ek_BB",emptyFavoriteItemContainer:"D_F ab_C ek_BB je_6Mbr H_3mT4V W_7ALe I_52qC b_2wc7QY k_w e_eo6 M_eo6 p_R",emptyFavoriteLogo:"W_6UbO H_6UbO q_Z1YJKic D_F ab_C gl_C e_e5X",emptyFavoriteLogoImage:"H_6Eb4 N_dBP",emptyFavoriteTitle:"M_ni5xh A_6EWk u_elT",emptyFavoriteText:"M_82XEY a_3vytO A_6Eb4 t_C",emptyFavoriteButton:"M_Z2wNFHA e_6LEV"},isCollapsed:{container:"gl_C r_P",title:"em_0 ej_A"},"themeMode-DARK":{container:"b_s4ASB q_kt4zd",title:"C_2sqbRh C4_52qC",logoImage:"b_1Gnt2p",menuContainer:"cdPFi_2sqbRh",settings:"cdPFi4_52qC",viewMore:"cdPFi4_52qC",viewLess:"cdPFi4_52qC",show:"C_2sqbRh C4_52qC",expandedContainer:"C_52qC z_s4ASB n_s4ASB",expandedTitle:"C4_52qC",expandedSettings:"cdPFi_2sqbRh",menuItemContainer:"I_1YEmYj b_n I4_ZFyHXD",menuHeader:"C_52qC",logoImageContainer:"I4_1kC8gG",selectedLogoImageContainer:"z_Z1YKD9t I_1kC8gG",more:"C_52qC cdPFi_52qC",tabListContainer:"m_s4ASB",emptyFavoriteItemContainer:"I_1YEmYj b_n"}},_key:"1XqwnI"}},85400:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C gl_FM H_7rdk e_eo6 b_2wc7QY M_1HT1B4",header:"D_F ab_C ej_0 em_qk a_3vhr3 Q_6Fd5 A_6EqO u_b C_Z281SGl J_x",previewBrandsContainer:"D_F ab_C gl_FM ej_0 em_sL",previewBrands:"D_F ab_C X_eo6",logoLoadingContainer:"D_F gl_C ab_C W_73cc H_72FG M_3gJiI",logoLoading:"e_e5X I_ZnMIOa W_6UbO H_6UbO",logoImageContainer:"D_F ek_BB gl_C ab_C r_P p_R W_7ceA H_7jYd M_1DLYDz e4_eo6 I4_Znsmye",logoImage:"e_e5X b_Z12rHwq W_6UbO H_6UbO",logoTooltip:"D_F gl_C ab_C t_C p_a T_6Dmq L_0 W_DN I_52qC H_6Nds P_3gJOe e_dRA j_ZK0nMh A_6DUj u_e69 C_Z281SGl Z_d48",more:"D_F gl_C ab_C t_C p_R W_6VdP H_6VdP C_Z2aVTcY cdPFi_Z2aVTcY r_P A_6EqO e4_eo6 I4_Znsmye",settings:"cdPFi_Z1VRqsb M_1Eu7sD",settingsMenu:"P_21vRvG",brandContainer:"W_7sfl H_7l1e D_F ek_BB gl_C ab_C P_fq7 M_Z1qHlXY e_eo6 I4_Znsmye r4_P",popoverheaderContainer:"D_F ab_C gl_FM I_52qC P_Z1HiK4H e_C04i4",popoverheader:"A_6EqO u_b C_Z281SGl",menuContainer:"D_F ek_EZ eo_HB K_3rv4o iz_A P_1Euer0 I_52qC",menuImageContainer:"H_73HH W_73HH e_e5X p_R b_Z12rHwq",menuImage:"W_73HH H_73HH e_e5X",menuHeader:"W_7iGr je_eo6 A_6DUj u_e69 t_C C_Z281SGl J_x o_h G_e",close:"D_F gl_C ab_C A_6DUj u_e69 t_C C_Z2aVTcY P_Z1aXf1W r_P e_Z27pUV5 I_52qC z_2wc7QY",show:"M_1Eu6qC A_6EqO C_Z1YRXYn",imgContainer:"D_F p_R",previewBrandName:"W_74JI H_6Fd5 A_6DUj u_e69 t_C C_Z281SGl J_x o_h G_e",newDealsCount:"D_F gl_C ab_C p_a T_0 R_0 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_52qC A_6DUj u_b y_2q13n9",newDealsCountTwo:"D_F gl_C ab_C p_a T_0 R_0 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_52qC A_6DUj u_b y_2q13n9 P_3gIgH",newDealsCountThree:"D_F gl_C ab_C p_a T_0 R_0 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_52qC A_6DUj u_b y_2q13n9 P_3gIMd"},isPreviewPane:{container:"H_3mT4V D_B",header:"D_F ab_C gl_FM a_82XEY M_1muu98",previewBrands:"Q_fq7 X_82XEY",logoImageContainer:"M_3gIMd",settings:"E_6Eb4",menuContainer:"H_3vytO P_1Eu6qC",brandContainer:"M_ZuD6o1",popoverheaderContainer:"P_Z15jIle"},showCompactShortcuts:{container:"D_F H_72FG"},isDarkThemeMode:{container:"b_s4ASB",header:"C_52qC",compactHeader:"C_52qC",logoImage:"b_1Gnt2p",logoLoading:"I_2sqbOe",more:"C_52qC cdPFi_52qC u_b I4_sgPuo",logoImageContainer:"I4_sgPuo",settings:"cdPFi_2sqbRh",show:"C_2sqbRh C4_52qC",previewBrandName:"C_52qC"},showBrandsMenu:{settings:"cdPFi_Z1VRqsb"}},_key:"25m1CT"}},57038:e=>{"use strict";e.exports={className:{default:{title:"Y_6MGW U_fq7 A_6FIA u_elT",subTitle:"M_0 A_6EGz",actionBar:"W_3vaYc D_F Y_6Fd5 gl_FM",disableButton:"M_0 W_3nyCk",notNowButton:"W_3nyCk",disableContainer:"D_e0XN cZ1iamqt_C M_1NXh2I"}},_key:"Z2w1g6M"}},46826:e=>{"use strict";e.exports={className:{default:{container:"D_F W_3zvbD I_52qC ek_BB ab_C p_R",close:"R_0 ac_C p_a",title:"Y_6MGW U_6NIX A_6FIA u_elT",actionBar:"W_3vaYc D_F Y_6Fd5 U_6MGW gl_FM",submitButton:"M_0 W_3nyCk",cancelButton:"W_3nyCk"}},_key:"2jdYVM"}},97871:e=>{"use strict";e.exports={className:{default:{feedbackList:"M_0 P_0 hd_n D_F",option:"i_6MGW D_F ek_BB ab_C M_1EueWv",optionIcon:"W_6UbO H_6UbO",radio:"M_Z26RiTK"}},_key:"Z1UhK7M"}},12742:e=>{"use strict";e.exports={className:{default:{feedbackView:"D_F ek_BB ab_C Y_6NIX W_3vaYc",viewTitle:"Y_0 U_eo6 A_6Fd5 u_elT",viewSubTitle:"M_0 A_6EGz",suggestions:"ha_n D_F P_0 ac_CI ek_BB Y_6NIX",suggestion:"D_F U_6Fd5",labelText:"Q_fq7",additonalComments:"ac_CI W_6D6F H_7yHc M_0 l_ZpQYvz I_Z1sGJ76 P_6Eb4 k_w y_Z2hYGcu"}},_key:"O2ssW"}},5223:e=>{"use strict";e.exports={className:{default:{tab:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",darkMode_photoThemefalse:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",darkMode_photoThemetrue:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",textSvg:"em_N H_6FIA",text:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x",close:"en_0 O4_N P_2gqvDS",checkmailIcon:"en_0 O4_N P_2gqvDS",decorator:"D_F en_0 Q_eo6 E_eo6",badgeCount:"C_Z281SGl D_F u_e69 I_52qC A_6DUj gl_C P_3gJiI e_3mS2U"},"kind-MENU":{tab:"W_3qYiD P_1Eu7sD C_Z281SGl I_52qC I4_Z1owzy4 N4_6Eb4",text:"C_Z281SGl G_e"},"kind-BAR":{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC"},activeMenu:{text:"u_b"},decoratedMenu:{tab:"X_6Fd5"},decoratedBar:{tab:"P_1MYwXA",darkMode_photoThemefalse:"P_1MYwXA",darkMode_photoThemetrue:"P_1MYwXA"},decoratedSettings:{decorator:"P_eo6"},activeHover:{tab:"r_BN",darkMode_photoThemefalse:"r_BN",darkMode_photoThemetrue:"r_BN",close:"O_N Q_0"},inactiveHover:{close:"O_N Q_0"},animate:{tab:"ah_2wpkLb",darkMode_photoThemefalse:"ah_2wpkLb",darkMode_photoThemetrue:"ah_2wpkLb"},extraIconPadding:{decorator:"X_eo6"},darkModePhotoTheme_NIGHT_LANDSCAPE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_cOYC3 I4_cOYCy",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_ROADTRIP_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_1iaDpX I4_1iaDqt",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_SUNSET_AUSSIE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_2woiXE I4_2woiYa",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_LIGHTHOUSE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_t5YJT I4_t5YKp",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_NIGHT_LANDSCAPE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_1qHGaS I4_1qHGaS cdPFi4_52qC"},darkModePhotoTheme_ROADTRIP_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_Zrb5Gc I4_Zrb5Gc cdPFi4_52qC"},darkModePhotoTheme_SUNSET_AUSSIE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_2bmuGB I4_2bmuGB cdPFi4_52qC"},darkModePhotoTheme_LIGHTHOUSE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_Zsxwsy I4_Zsxwsy cdPFi4_52qC"}},_key:"ZQ1Stz"}},34903:e=>{"use strict";e.exports={className:{default:{container:"D_F hd_n P_0 M_0 o_h J_x H_6UbO",item:"H_6D6F E_dRA",svgDefs:"W_0 H_0"}},_key:"2qYHHJ"}},85454:e=>{"use strict";e.exports={className:{default:{menuContainer:"D_F em_N H_6Nds s_6NIX r_P cj_dRA ck_dRA p_R je_eDQ",menuContentContainer:"P_1HKSdG",menuButtonContainer:"em_N",menuButton:"em_N r_P y_Z2hYGcu A_6EqO b_0 I_T",menuSpan:"p_a L_0 W_6D6F T_0 H_6D6F D_F ab_C gl_C C_52qC A_6EqO o_h",text:"Q_fq7 o_h",chevron:"D_F en_0",rule:"b_Z2A6Uz m_0 M_fQoXz",tabList:"ha_n M_0 P_3Y3Gk",tabItem:"H_6NIX M_Ic8v9",closeAllButton:"y_Z2hYGcu A_6EqO b_0 I_T t_l C_Z1YRXYn P_1Eu7sD H_6VdP W_6D6F r_P I4_Z1owzy4",closeAllText:"D_F ab_C"}},_key:"ZYptne"}},90521:(e,t,s)=>{"use strict";s.d(t,{JJ:()=>m});var a=s(45697),n=s.n(a),r=s(67294),o=s(76223),i=s.n(o),l=s(92743),c=(s(9026),s(95406),s(85927)),d=s(29911);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function _(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const u=e=>{const{getFeaturesSelectors:t}=(0,c.selectors)(e),s=t();return{themingValue:{theme:s.getSetting("theme"),themeMode:s.getSetting("themeMode")}}},m=e=>(0,l.connect)(u,void 0,void 0,{areStatePropsEqual:(e,t)=>e.themingValue.theme===t.themingValue.theme&&e.themingValue.themeMode===t.themingValue.themeMode})(function(e){var t,s;return s=t=class extends r.Component{getChildContext(){return{getCss:(e,t)=>{const{theme:s,themeMode:a}=this.props.themingValue;return i()(e,Object.assign({},t,{themeMode:a,theme:s,themeCombo:`${a}_${s}`}))},getTheme:()=>this.props.themingValue.theme,getThemeMode:()=>this.props.themingValue.themeMode}}render(){const{themingValue:t}=this.props,{theme:s,themeMode:a}=t;return r.createElement(d.Z.Provider,{value:t},r.createElement(e,E({key:`${s}-${a}`},this.props)))}},_(t,"displayName","WrappedThemeProvider"),_(t,"childContextTypes",{getCss:n().func,getTheme:n().func,getThemeMode:n().func}),s}(e))},67929:e=>{"use strict";e.exports={className:{default:{container:"D_F gl_C ab_C",primaryButton:"A_6EWk C_Z2aVTcY r_P"}},_key:"pbtff"}},52896:(e,t,s)=>{"use strict";s.d(t,{tl:()=>n,cS:()=>r,aI:()=>o});var a=s(95406);const n={ENABLED:"enabled",SELECTED:"selected",ADDING:"adding",END_DATE:"endDate",START_DATE:"startDate",MSG_BODY:"messageBody",DOMAIN_ONE:"domainOne",DOMAIN_TWO:"domainTwo",DOMAIN_MSG_BODY:"domainMessageBody",DOMAIN_ENABLED:"domainResponseEnabled"},r=(0,a.gP)(["PREVIEW","EDITOR"]),o=(0,a.gP)(["SAVE","SWITCH_ON","SWITCH_OFF","DELETE"])},20289:(e,t,s)=>{"use strict";s.d(t,{GQ:()=>o,yw:()=>i,zq:()=>l,FZ:()=>c,wn:()=>d});var a=s(95406),n=s(45697),r=s.n(n);let o,i,l;!function(e){e.POWER="power",e.SAVER="saver"}(o||(o={})),function(e){e.V1="YPMP_V1",e.V2="YPMP_V2"}(i||(i={})),function(e){e.V1="YPT_V1"}(l||(l={}));const c=r().oneOf([...(0,a.VO)(o),...(0,a.VO)(i),...(0,a.VO)(l)]),d={[o.POWER]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23741416.271635907;dc_trk_aid=464059855;dc_trk_cid=129709479;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23741416.271635907;dc_trk_aid=464059855;dc_trk_cid=129709479;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}?"},[o.SAVER]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23741416.283029158;dc_trk_aid=473799087;dc_trk_cid=129709479;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23741416.283029158;dc_trk_aid=473799087;dc_trk_cid=129709479;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}?"},[i.V1]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.281390073;dc_trk_aid=473640483;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.281390073;dc_trk_aid=473640483;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}?"},[i.V2]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.281390070;dc_trk_aid=473640483;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.281390070;dc_trk_aid=473640483;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}?"},[l.V1]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.287378169;dc_trk_aid=464752150;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.287378169;dc_trk_aid=464752150;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}?"}}},68949:(e,t,s)=>{"use strict";s.d(t,{A:()=>E});const a=JSON.parse('{"q":"https://s.yimg.com/nq/nr/"}');var n=s(41143),r=s.n(n),o=s(88913);const i=JSON.parse('{"/img/account_providers_icons_1x.png":"/img/account_providers_icons_1x_P55HbPmKaxXqJHrG4Xnfltczyl3n9P_NKsTlePYd0FA_v1.png","/img/account_providers_icons_2x.png":"/img/account_providers_icons_2x_lK194L8OJPZoz9BnTlusq9T6l5hPDxJBjRw9wJuoyyo_v1.png","/img/account_sources_1x.png":"/img/account_sources_1x_-HDux7J7L_BPmj5OEG8SBOA6sRe0Gi8_X_ZvFVYgkq8_v1.png","/img/account_sources.png":"/img/account_sources_yLP-ZtO9UJGe8JShBCwpJp_TSS7sKdQm2_rmryK8dGU_v1.png","/img/accounts.png":"/img/accounts_L-_z68mCqroMbjcHYKiaK27J4YKvK_uI2Kpdrrfe_PQ_v1.png","/img/ad_format_selection_ad_free_icn_selected.png":"/img/ad_format_selection_ad_free_icn_selected_cAkCt3qWooe-7yZoUKI8PCirfKtnxf0ePYCM5f8Zh_o_v1.png","/img/ad_format_selection_ad_free_icn.png":"/img/ad_format_selection_ad_free_icn_xJgifkfgc2TaNY8DwvySW_5gKmAWQjpuwxroLPOmb0U_v1.png","/img/ad_format_selection_ad_free_phone.png":"/img/ad_format_selection_ad_free_phone_vnPmS_FOiLeOYpOS292F6kTQt2Wr0uwcIDs4qwhzUqA_v1.png","/img/ad_format_selection_pencil_ad_icn_selected.png":"/img/ad_format_selection_pencil_ad_icn_selected_FOaFMNvONpzqoU83iK1sLUX3h48d0_Jb_UvfakXN6MY_v1.png","/img/ad_format_selection_pencil_ad_icn.png":"/img/ad_format_selection_pencil_ad_icn_5m1aZM3JxGPyLzPdWsZi0lnukIMPXnJqOHKcvzPmzZg_v1.png","/img/ad_format_selection_pencil_ad_phone.png":"/img/ad_format_selection_pencil_ad_phone_OrPggjR5IWDrust6y-iGO0F2n_Ni0osdSeIvjBoCKyA_v1.png","/img/ad_format_selection_sm_icn_selected.png":"/img/ad_format_selection_sm_icn_selected_Y2mBRETlSBrnqGtfKoZWJ1bJZLp9t6g_LhZjWmwWFio_v1.png","/img/ad_format_selection_sm_icn.png":"/img/ad_format_selection_sm_icn_OJULoVdzzUYWCjl2vtRhXiSLHAHB_P8dlWQ7zj1Ieyc_v1.png","/img/ad_format_selection_sm_phone.png":"/img/ad_format_selection_sm_phone_sJ5aDcf5O0SOHrlaQQC5sGKd6WH1EMd5nJ_xMib06-M_v1.png","/img/adblock_delay_dismiss_cue_1.png":"/img/adblock_delay_dismiss_cue_1_KTnZ0gAX7qnsGEyLBlAdRLXD9vAagdWbXls4LKlExV4_v1.png","/img/adblock_delay_dismiss_cue_2.png":"/img/adblock_delay_dismiss_cue_2_yrmnHStVSEZP-Ytzt76hxpfGorSUu-xwE8XwHt6jgVs_v1.png","/img/adblock_delay_dismiss_cue_3.png":"/img/adblock_delay_dismiss_cue_3_e7aMYR94SIPSf66GDRUwYbwWJ-IP6Auz8KYcRwjweYc_v1.png","/img/adblock_delay_dismiss_cue_4.png":"/img/adblock_delay_dismiss_cue_4_cS8RheCgsgnUvQ-BY74Hkvjep4eeFBP8x9D_FdoO2Tg_v1.png","/img/adblock_to_nodin_thinking_face.png":"/img/adblock_to_nodin_thinking_face_YWojEXZctTDQJFxJ0dWa4RYiTNhszrAHV3QYr85ZA0A_v1.png","/img/adblock_upsell_bg.png":"/img/adblock_upsell_bg_12X6_o5QsEIV8YtJ9LaOTj6QCO5VQsFwE9SpsSwGt0s_v1.png","/img/adblock_upsell_emoji_v6_1.png":"/img/adblock_upsell_emoji_v6_1_WLyG3xq9nUEeYUAO3nHE1HbpGYkYOrls_l6d3ABQhQg_v1.png","/img/adblock_upsell_emoji_v6_2.png":"/img/adblock_upsell_emoji_v6_2_oIbeGmDMW6y0cAY383TFMJGTekTIKX_6-FoNLFXWnOo_v1.png","/img/adblock_upsell_emoji_v6_step2.png":"/img/adblock_upsell_emoji_v6_step2_CkWQC1YyUboA1Vc6znEatePSU1AK-44zh3OId-v6ZMA_v1.png","/img/adblock_upsell_emoji.png":"/img/adblock_upsell_emoji__RN9CckfFUsO25Eoe41pWyaI4XEMQYxoXNoAT-3DClw_v1.png","/img/adblocker_examples.png":"/img/adblocker_examples_Gm43DPM3v7nk5o1DOGIybbpPMchwyHxLYrFkxMha-xI_v1.png","/img/add_attachment.png":"/img/add_attachment_u75UAvZOpB8-pHAzxl4Hwy_UgVgyBLyd7tVEbdyYXPY_v1.png","/img/add_coupon_icon.png":"/img/add_coupon_icon_oJMT2lEm0FLSGTKG-wOr7J7pk46sXXwXvJGIYof50Ck_v1.png","/img/add_item.png":"/img/add_item_Wc8dEOSK1J7GmMAxjdFl8TzTnhuol1AOa2Gg5w_EBFE_v1.png","/img/android_app_icon_1x.png":"/img/android_app_icon_1x_kvYuJz0HSrXDD0reCa7g48oAR2XdIXEjyKXIebkRZoE_v1.png","/img/android_app_icon_2x.png":"/img/android_app_icon_2x_SkjN9zSMrr6mk53tl379Hysghhj7huF9M5iyjTXMsRg_v1.png","/img/android_app_icon_s_1x.png":"/img/android_app_icon_s_1x_RVBMdv-S7MVEKPjMCU6EVmaSLKb7AtD9nY8eAJuj6OI_v1.png","/img/android_app_icon_s_2x.png":"/img/android_app_icon_s_2x_7edk0637eozP70MsbZFrC7C9l_upRhSWga2MFu6uG-c_v1.png","/img/android_app_icon_s_3x.png":"/img/android_app_icon_s_3x_XI5C3SLvyagyh4_rfXMzV2FqkPImMpmr0XMYHwyQ3jw_v1.png","/img/animation_adblocker.gif":"/img/animation_adblocker_NIgF4WhSu0T_-fDRRiF79muqQYtROpDz46TMcOyi-xY_v1.gif","/img/aol_favicon_alert.ico":"/img/aol_favicon_alert_84F8bRfdMQAbmhWB9oD_Y5fvi1NagzmGXW11PCrGUbA_v1.ico","/img/aol_favicon.ico":"/img/aol_favicon_ZdzkOTMzl3h8YThtLdtQ5cwpKoy6CakMJ3WWOLjlfoE_v1.ico","/img/aol_home_screen_120.png":"/img/aol_home_screen_120_dFXUY07pCDtM8o8xrChSMevSnyL8ZlykJNoeMAOJCqU_v1.png","/img/aol_home_screen_152.png":"/img/aol_home_screen_152_2YHnQoHMCEJO8UJwQWhoa5uheQggDHbSi8WO5okY-2w_v1.png","/img/aol_home_screen_167.png":"/img/aol_home_screen_167_9hrSMAvt--LJh1ZVcNvk-o_DJAovQ-g18svJTwbPnwM_v1.png","/img/aol_home_screen_180.png":"/img/aol_home_screen_180_zpaugB9yJ_BsEPhmP8u5g3TNPmOK3FmxGumIrX_xfv8_v1.png","/img/aol_home_screen_192.png":"/img/aol_home_screen_192_IS67VKNPSTN615mRi4LqIgOIBEMGd3NlofnMJ3vtGT4_v1.png","/img/aol_home_screen_512.png":"/img/aol_home_screen_512_cc5cZovhJTpS-k5FQOFg3zJTQJkU65w9LjXXTB5IS9Q_v1.png","/img/aol_logo_gen_light_2x.png":"/img/aol_logo_gen_light_2x_h8jS_Xa4LAS-avdJbzuhl13BDSLV-LNTrRqqrYWzGNg_v1.png","/img/aol_logo_gen_light.png":"/img/aol_logo_gen_light_X9Yomrk10QS5SpdTd3awn6ZYATVvHG-qtR8hr8vKZws_v1.png","/img/aol_mail_1x.png":"/img/aol_mail_1x_eftp2XphtcTn0LAE3vltnDiujONA38jQsfGgEpQuAa0_v1.png","/img/aol_mail_favicon_2x.png":"/img/aol_mail_favicon_2x_Ro_28NZ_ZgXkUkxfjSvarAK58FHZQ_CLrBn6iPGbpA0_v1.png","/img/aol_mail_favicon_alert_2x.png":"/img/aol_mail_favicon_alert_2x_7MBzPhAcsuLiJu23GEksdxnS5nIKBTSrqAYkx0pVn8c_v1.png","/img/aol_mail_white_1x.png":"/img/aol_mail_white_1x_adI1dz15bHAwDQmhMIEpwxbuQwYGv4njD2RvPZmnb_Y_v1.png","/img/aol_mail_white_2x.png":"/img/aol_mail_white_2x_1W8KXY6m1YIwfEjaQjib5eRdIc0tHZDClKClsmd4HH8_v1.png","/img/aol_upsell_landscape.png":"/img/aol_upsell_landscape_QpBB9Q3imMGGkmQ06qfLkawUzZXEi7UvDJmr0kpYbt0_v1.png","/img/aol_upsell_portrait.png":"/img/aol_upsell_portrait_r3T1hGnS7La7BdSEkMmKMhOdzfApDjjsAyyGs-snEOo_v1.png","/img/aol_welcome_illustration_1x.png":"/img/aol_welcome_illustration_1x_TxSef_62C1U39oc6BIiF6GghCQvPlZmrlub7v0JG1_I_v1.png","/img/aol_welcome_illustration_2x.png":"/img/aol_welcome_illustration_2x_7cpmWnw_I2zF6a6rSiqn-tBgHrXnin_AodRg1h3NbCg_v1.png","/img/app_store_badge.png":"/img/app_store_badge_UUkgVHQG_vQM2lkoMq1XrtTpKuQGXbE48ZcbvHJ2rNI_v1.png","/img/att_favicon_alert.png":"/img/att_favicon_alert_K5xl-L-VkiWOMvzF_xigDnCZUnrNsH26xc7bUwDVLwM_v1.png","/img/att_favicon.png":"/img/att_favicon_gi1vgAOE8lI8G5D1GuSLqQGOQCt2Y007kTogOfsf_IQ_v1.png","/img/basic_mail_icon_sprite_1x.png":"/img/basic_mail_icon_sprite_1x_pEUylq5lXVybjptwSYx_bnjGM7FvA_6pIbhO0unQvtA_v1.png","/img/basic_mail_icon_sprite_2x.png":"/img/basic_mail_icon_sprite_2x_ksOoPQAdWKyHEJeM8_8TSIm6h1sJe86zGRcaAPAzKQk_v1.png","/img/basic_mail_icons.gif":"/img/basic_mail_icons_pFxl4r6Mm2p0KujnMDsGCcMQZIAzGcNN7za3ERSmke4_v1.gif","/img/basic_mail_welcome.png":"/img/basic_mail_welcome_Q_540SWloywy4qAmkCWWUscHAx90KQx9U56pKv1PkzQ_v1.png","/img/basic_mobile_spritesheet_2x.png":"/img/basic_mobile_spritesheet_2x_ySPR1yChLCHrofDdH9BYsfpoMfT66Vmvw16I3_zj624_v1.png","/img/basic_mobile_spritesheet.png":"/img/basic_mobile_spritesheet_C1fl5iH6PzE0gDD51RRnDrPx5l3bgJup64px-OaEZHw_v1.png","/img/blue_line.png":"/img/blue_line_FH-IiGtpw5UXUz94M3RYb_HIpRAmW6pPb7A7c3xbVw0_v1.png","/img/bluetruck_illustration.png":"/img/bluetruck_illustration_j1sDrGqRrbob36TxRcQOCMeO2uj5iqX8BXr0DLG6Pik_v1.png","/img/brand_menu_cue.svg":"/img/brand_menu_cue_S4Tl0ugXJ4bsADUTTYyw4kc8B3ZeeB7f1G_2fFjA_6w_v1.svg","/img/browser_icons.png":"/img/browser_icons_MxiPsV3tT2LQIJebXfJ0G3T5dzweSnKI8Ig-ysWMFCY_v1.png","/img/cart.png":"/img/cart_JecvSf02NEYZb7CrY248pU4oSS9m5MfTFo3C6HN4gSI_v1.png","/img/categorization.png":"/img/categorization_Q2FSNpKG_zPhir0qYPT-b5Vbpdxn3CoNBUoyPAgN1VM_v1.png","/img/check_blue.png":"/img/check_blue_ZeS7cGOKhyFw6NLboKHed6VhUgeG_5v1I0xs0O0ak3w_v1.png","/img/chrome_icn_1x.png":"/img/chrome_icn_1x_j5FlA393X9jvFJ-2fPPaUZ4ngJQBRd4xVS5niVF9QNs_v1.png","/img/chrome_icn_2x.png":"/img/chrome_icn_2x_O9_N6TC5H74Ptto8BBNfqR-Abp5w79ZNodmp5UomZB4_v1.png","/img/cloud_storage_empty_results_2x.png":"/img/cloud_storage_empty_results_2x_SItvCyvOD9HIIiUQ-y3qn60IbMMQZJjPij_ZwLZkWzs_v1.png","/img/cloud_storage_empty_results.png":"/img/cloud_storage_empty_results_zF-pwcktCqoCz4u9vDWMMviMV5Dgfwq99rwkgLUEglA_v1.png","/img/compose_thumbnail.png":"/img/compose_thumbnail_-9IZZa2ABYGc74lvACeTGVgC8VdsKMBM677XjEf9IZM_v1.png","/img/coupon_clipper_onboarding.png":"/img/coupon_clipper_onboarding_CTMmi4bpY_zOpprvSmW2nyd4eoHSL-xIlOJBzVJpXfQ_v1.png","/img/coupon_emptystate_dark.png":"/img/coupon_emptystate_dark_MV-I0e5ez3O4z20-I4MyakXKRDf1NN3VDAswDzcI--Q_v1.png","/img/coupon_emptystate_light.png":"/img/coupon_emptystate_light_qRz70BG0K5hC4SkEctOn4Ca46bZSexD41QtL4nOtS2Q_v1.png","/img/coupons_view_cue.png":"/img/coupons_view_cue_K_c6zOopIo3mveO9vd9XIKmfTMNHOxC_DUhOYUmjQmU_v1.png","/img/deal_image_placeholder.png":"/img/deal_image_placeholder_SWiXZcx1WvrWnGuvXuk7reZqlqHBreEfkM7GXRhQJe4_v1.png","/img/default_shortcuts_brand_logo.png":"/img/default_shortcuts_brand_logo_ff5A4tG0FjTKT9vhzqBMpKlk5_BF_OnUsnuHwVxbDTU_v1.png","/img/desktop_notification_icon_1x.png":"/img/desktop_notification_icon_1x_Rv5kxcMX3RU_DNsJYpm5m6dyrCYjS9ne2Z_rh7cPayk_v1.png","/img/dialogue_cue_2x.png":"/img/dialogue_cue_2x_YSUyhDQHt9x9cuiApC4-ggaEzfFctQGG9S2uYfSVFlA_v1.png","/img/dialogue_cue.png":"/img/dialogue_cue_RyHGRz4uVmV5wf4znQid_fVuf37TuSd0d6QdiDu2RWc_v1.png","/img/download_yahoo_app_2x.png":"/img/download_yahoo_app_2x_u39QLBh6TQC9x1HHOi1QcjN9FU0KhDst0zcqzxDMleY_v1.png","/img/download_yahoo_app.png":"/img/download_yahoo_app_oqmO2KkkgrUuEAtfNW3SAvHdNQF6LsFSXSZE9kafvlc_v1.png","/img/dropbox.png":"/img/dropbox_aIpQqzKKGLrC4CKw4luAu-f_hELsUqyse0E89s_M9-Q_v1.png","/img/edge_upsell_1x.png":"/img/edge_upsell_1x_6Tkb_bB9cIKh2xFItll6fLZKWBPYqWjFELJluR0w2xA_v1.png","/img/edge_upsell_2x.png":"/img/edge_upsell_2x_5JmemsSUg845AvJfVhS4hyLLbWWeeCBcQdOoUoG4udE_v1.png","/img/edge_upsell_themes_1x.png":"/img/edge_upsell_themes_1x_1DCzsnSOv_3uVT6er0YmlxlPMki2F_npEmQ5sgetwKs_v1.png","/img/edge_upsell_themes_2x.png":"/img/edge_upsell_themes_2x_3-Em7Dp_gQ6qjDPbQH1qW-GMtTaaYzem3QK-5iU8RbY_v1.png","/img/email_organize.jpg":"/img/email_organize_5scdI12Xm11dQJepp-oEg5OfK8OPaqZ21D8XCvimHho_v1.jpg","/img/emoji_cue_bg.png":"/img/emoji_cue_bg_EoRUx_k2jhydCT4smgcz4l_6J2nQGJX-UX-bWI-2Mlo_v1.png","/img/empty_sent_2x.png":"/img/empty_sent_2x_vPnx4_FfjNrbKCAq14H4kw0VxlKJZLPUUUNpx2KZEIQ_v1.png","/img/empty_sent_3x.png":"/img/empty_sent_3x_ARBkm2UVaY_IjZJv455ZF_N6Q1LptdddBZOX4jLyJWU_v1.png","/img/empty_sent.png":"/img/empty_sent_k6QpkysNPMLruhILw9QGDYVqTHNATX34qMum7cxBzCI_v1.png","/img/empty_shopping_cart.png":"/img/empty_shopping_cart_jMfOHvh8CSz-xDCgUUkearBjhPnm-ZraS2j17KF6ihk_v1.png","/img/empty_shopping_list.png":"/img/empty_shopping_list_h6AA-87EmfhrrosVoyRid8Xh1sLVFW9oAyMBG3dPKBY_v1.png","/img/error_state_1x.png":"/img/error_state_1x_tisd6sOrTP-82CrgzvPzgBjRMB8qgTcH1VVibjHum38_v1.png","/img/error_tos.png":"/img/error_tos_ZZEPtDeR0Yu4bhgIuRmdGSkrCn3YVKFacFGbU64k9CE_v1.png","/img/favicon_alert.ico":"/img/favicon_alert_0wlMxfwHpReP5CbxNQJ83MuDlzpmdOmDKfB3x5Cfm-I_v1.ico","/img/favicon.ico":"/img/favicon_kJCAOFliMOfdwulmDAg-b-Rr1cVzRHU8pkXZ517KhvQ_v1.ico","/img/fbbot_cue.png":"/img/fbbot_cue_iRMNoG7G-QuLMvKoESzciXtjNT7ICtyN-GbGZCWgYaA_v1.png","/img/festive_graphic.png":"/img/festive_graphic_wSa49cXEBVS7GUX9z7na4ckVXrblcJ285VKsT0-QD1g_v1.png","/img/filters.png":"/img/filters_TnezpNlnbcdX-3CU95u_kFnmzIv4QRA1ZvNIgUoTCiI_v1.png","/img/finish_onboarding_illustration_2x.png":"/img/finish_onboarding_illustration_2x_nr8Gs7A9PuxEolQRlLSZG_3V0L6vHBI9nVQlXbfaLNU_v1.png","/img/finish_onboarding_illustration_3x.png":"/img/finish_onboarding_illustration_3x_jiscobw3pM1CMoSd2sxa1WTDF95zgb7GmDv6xOZGBYs_v1.png","/img/firefox_logo_1x.png":"/img/firefox_logo_1x_pyA91ETorZddRdAE4w2ysHbXA4gvQ9Kq1hqu5gBLaZo_v1.png","/img/firefox_logo_2x.png":"/img/firefox_logo_2x_NC3wpx5T6ysE0hYwWF9XHgpZr4ujfJ2quB6L5o9hh0U_v1.png","/img/flights_past.png":"/img/flights_past_CyNOwQcYOblw9QRvLSGaPDdPVk1iWUcTxWuHt3oziTg_v1.png","/img/flights_upcoming.png":"/img/flights_upcoming_R8edXrCDfEVaEjXtFtmDvo_S-hM43wj0DaVk8W6oQm0_v1.png","/img/folder_success.png":"/img/folder_success_89SwqSONj6MkPwOIMJ_8QSMFWbhYtreOQEEV8hsClnQ_v1.png","/img/frontier_logo_1x.png":"/img/frontier_logo_1x_Z3YJimz_C2a_-hRCaEXj9I6Q9-jVBpufxXhpmCBA2fk_v1.png","/img/frontier_logo_2x.png":"/img/frontier_logo_2x_-ugGTer5hujVznnPeCM8rMPHyXyGFCssO0ltK14dm9c_v1.png","/img/fuji_icons.min.svg":"/img/fuji_icons.min_A9N0jPblQLzIWuN0lH-sRFfJOQLlBS3rydWPV9Y-kmQ_v1.svg","/img/gemini_pencil_play.gif":"/img/gemini_pencil_play_pdwmjGHmvlpMSzkHguvmlUhaYaTlUUF8FGUECUSHpww_v1.gif","/img/gemini_pencil_play.png":"/img/gemini_pencil_play_LEUjFFdlfoXu1AtRyMXjFNHYH-ma_MEiSbW7VHddqhU_v1.png","/img/generic_browser_1x.png":"/img/generic_browser_1x_nKwdTNS0YRIa8SR6t9Ed0gkqQ4IQ_WeL5734HOvUnhs_v1.png","/img/generic_browser_2x.png":"/img/generic_browser_2x_5zKlmnrVVc0c_D9HlDjTtYlU1Qp7iM_kciuqbvOW-Ig_v1.png","/img/google_drive.png":"/img/google_drive_yLGuM24tLOKhKFFUDZNZsx_IJMtmH_leguJGlg51kI4_v1.png","/img/google_play_badge.png":"/img/google_play_badge_eEeCt-CKpzY8NIFDJKN4v01DJj45lsoutq0WDgrPotI_v1.png","/img/grey_line.png":"/img/grey_line_Q92ZLQPI9He5PCSC-23ANQ5IkEFfkBsYFQqV41ST0UU_v1.png","/img/grocery_background.png":"/img/grocery_background_4aEUnIn5zWcvyr5UKvXZvZJ8otBQEvSBpn0_59mrQkA_v1.png","/img/grocery_empty_state.png":"/img/grocery_empty_state_n4oc9efbuMAV3f2S-0FKOymiFAnqzf5gJpxBivHpD8I_v1.png","/img/grocery.png":"/img/grocery_3QydzQuef8Bp9wkr5WgiuNqwkAuNdYs3hUH2bnbofKo_v1.png","/img/holiday_card_upsell.png":"/img/holiday_card_upsell_FyXBeDc4N2ywlpLGk_JdaI5S85CVbVYuNBrLyqKwnOY_v1.png","/img/home_screen_3g_android_192.png":"/img/home_screen_3g_android_192_pNyMul6a-tp_Bsa3oJdJKhj3Yh6Gd76rDBri0R5ZkZA_v1.png","/img/home_screen_3g_android_512.png":"/img/home_screen_3g_android_512_WBbcBgDUt5CXfEtLs8ZnkscNtEn9sX-nwLb7uZW7fe4_v1.png","/img/home_screen_3g_ios_120.png":"/img/home_screen_3g_ios_120_Su1jpE5yatlevc-68HdApUu_XIY-86IWgJKMQH3m4Wc_v1.png","/img/home_screen_3g_ios_152.png":"/img/home_screen_3g_ios_152_nXICG_VglelSx-HPI6RiCVTygJQ3X1QQyVyor-z5bgU_v1.png","/img/home_screen_3g_ios_167.png":"/img/home_screen_3g_ios_167_rr2F3YvdpjTYjqLGKlv-WfOgOLKsSFgZE_GxS_bSwOs_v1.png","/img/home_screen_3g_ios_180.png":"/img/home_screen_3g_ios_180_MF0E6doar5WJzwy5qgOtSloojsjYXtcEkIOV4lizxsU_v1.png","/img/home_screen_android_192.png":"/img/home_screen_android_192_WmNi3GhPuMwl7j12FdtwEvUi9Pn5G4ChGiD207nj6pQ_v1.png","/img/home_screen_android_512.png":"/img/home_screen_android_512_RwlQw1rkkrOT7SOz_bkHGO-j8otMUWlzNjjhPBUt4m4_v1.png","/img/hotel_search_header.png":"/img/hotel_search_header_YnmEs4MLIgrrsQyCI96cccAux9afLIMLQVTqLClYMlo_v1.png","/img/icon_alert.png":"/img/icon_alert_4edGpSGkF2tW_0NsZphRm0fQQrzluXh2XN1ecBqck5s_v1.png","/img/icon_chrome_extension.png":"/img/icon_chrome_extension_QpU9YJWExetQm45ZnTdvRCgWCD3YZP6CXG_WqbBJSi8_v1.png","/img/icon_chrome1x.png":"/img/icon_chrome1x_Fv_vpVJ_NsCdPw1yb9osg5i9QXdKu_RxNGvhizXEXyo_v1.png","/img/icon_chrome2x.png":"/img/icon_chrome2x_hjPgkXIlrSqgIj1ovLelKZVOnOxE1GIIZHAQQAFRnxc_v1.png","/img/icon_computer_2x.png":"/img/icon_computer_2x_7fsIu292DkoXUco58kN2k0vrIow8_RuJlQ06eVeWQvQ_v1.png","/img/icon_computer.png":"/img/icon_computer_kdnL65qDLOEAbU0YqRHiRc0o2DF5p4KH6hZ9gRpsFgY_v1.png","/img/icon_mail.png":"/img/icon_mail_agvO93tQBLI_iC6kFTtJBDpKWoCqLmGWny_-iBAvKCY_v1.png","/img/illustration_star.png":"/img/illustration_star_z0i7H8mJu_ok7AmGFFHtngWC7O9zlu5vk-IJopoijrs_v1.png","/img/illustration_subscription_empty2.png":"/img/illustration_subscription_empty2_yOw7ojA3TTPGD7Ab75NM4osDxt2NH8OhHgTaqdz8NSg_v1.png","/img/landshark_close_v2.png":"/img/landshark_close_v2_AVpjHAHXUZf9Iftyq4LOlEiUeGDcqcAj9ekY4wA0vCA_v1.png","/img/landshark_close.png":"/img/landshark_close_U6n9PguTQSJC6JUn4Xeb37kS3i9F5JPY4cqxNyVf13k_v1.png","/img/landshark_coupon_landscape.png":"/img/landshark_coupon_landscape_IUY4vpgMj3M94eNCUvz-Geu2P0jfy4muZ3vu0bEn3L4_v1.png","/img/landshark_coupon.png":"/img/landshark_coupon_xCiPQNjioqXXhEP--XUqNQmaRnXKcaM3I4ppeimheL0_v1.png","/img/landshark_gifs_landscape.png":"/img/landshark_gifs_landscape_UsqidMIM61Rz57DOoSelqh3cKqW1uHEyeD15pbVdoFE_v1.png","/img/landshark_gifs.png":"/img/landshark_gifs_0o-mZAAl65k460lTg0OPTIIIKk00Y3C_rxHCgUEx_q4_v1.png","/img/landshark_hdpi.png":"/img/landshark_hdpi_7fk92LfKb-uR9EGSkGYi8gigvdVqbesapesjgh-9P0I_v1.png","/img/landshark_illustration.png":"/img/landshark_illustration_HvskHpV7VxgzXFqLDwimNBXgoK6JwbGwIM8ljxFlpqY_v1.png","/img/landshark_logo.png":"/img/landshark_logo_ZPJ6baci-MAJ7giw7JGDOC0XVTQIQso1QYgaguvEbw0_v1.png","/img/landshark_mdpi.png":"/img/landshark_mdpi_cO7tb3ckE9-6CAfuomII843yTlcoV-zoIXM5kV5lqlM_v1.png","/img/landshark_notification_landscape.png":"/img/landshark_notification_landscape_TZSCkIr43lJgLFoIvW1Ai7J4ngLEp1CZIUpNtZZ68YY_v1.png","/img/landshark_notification.png":"/img/landshark_notification_4gJ2uhvK7pc7PWRRMfyVC3geFK2iiGXHLcUpHY6RL8I_v1.png","/img/landshark_star_rating.png":"/img/landshark_star_rating_eCQB0KVowZc7vIwHooY2izBCqwVIUU4lkJDmFNEbL4c_v1.png","/img/landshark_tablet.png":"/img/landshark_tablet_iAeyOp29j12mrXba0MvC5i1h_g8l1kqGvBM3EBmekTc_v1.png","/img/landshark_yahoo_app.png":"/img/landshark_yahoo_app_D6V0n59sXZhztrL6xusFx0M2Wz9CHRwrZN2V01ku97g_v1.png","/img/lastpass_passwordsecurity_1x.png":"/img/lastpass_passwordsecurity_1x_7f29Scixf08nUdIo2m_vHgqRN_CagUe-01S-HZin-2Q_v1.png","/img/lastpass_passwordsecurity_2x.png":"/img/lastpass_passwordsecurity_2x_d4sQQYfBjFjAREmL2DCfwKfE7RmEGgDnIjkKcsZGlbA_v1.png","/img/lastpass_tom_gradient_1x.png":"/img/lastpass_tom_gradient_1x_NjH9p79DvDUAfjrLGFEcGaiMxeD9nidVABgJdxXnZQg_v1.png","/img/lastpass_tom_gradient_2x.png":"/img/lastpass_tom_gradient_2x_SCAAsKUBBnN_xyDRJqXWNIYer1zHFf9U0nqGsJi9QwI_v1.png","/img/lighthouse_bg_pattern.jpg":"/img/lighthouse_bg_pattern_ztkAS-ksPw41w2XtQfkua5BS3KnN7Sr_Zf58mtKfdH0_v1.jpg","/img/lighthouse.jpg":"/img/lighthouse_QHz_yfrI7m-_9RFVJwDsYfkszSU7xP8KU9A6jdIewUI_v1.jpg","/img/logo_bookingcom.png":"/img/logo_bookingcom_3fXMQKd-syYOHXseyAGh5Cxp--1oIxNH1IbswhITWto_v1.png","/img/logo_lastpass_1x.png":"/img/logo_lastpass_1x_kSfxZ1eQnQgJ4oliptgFp63tCgHgbi1bAVnFFkRfeas_v1.png","/img/logo_lastpass_2x.png":"/img/logo_lastpass_2x_Qu-L-rNdd3tGdSB5QDKsd4By0GZg5Jdv21WSKBJmgwY_v1.png","/img/logo_rakuten_2x.png":"/img/logo_rakuten_2x_54ERFkg8bo32fpabdsQcFk3pmG93seinN1gZ1V3fHLg_v1.png","/img/logo_yahoo_192x192.png":"/img/logo_yahoo_192x192_hEvRfzj-2d0PSvp8Z90y8JbQpKz6itwT1i7wiKCqMfI_v1.png","/img/logo_yahoo_shopping_2x.png":"/img/logo_yahoo_shopping_2x_TbHLD457Eyx5dKFAb8eT63dpbtZ-WINh_xIMWhRKg8A_v1.png","/img/logo_yahoo.png":"/img/logo_yahoo_IIczsErxd2kV7JRfTcBc5G--odfz-V0QHj4u-Rbomqo_v1.png","/img/mail_att_logo_2x.png":"/img/mail_att_logo_2x_4phRzWyGvY0YiZhEUAgQ6gvaYL4PhfzTWonUDWvMLWE_v1.png","/img/mail_att_logo_3x.png":"/img/mail_att_logo_3x_TAtR8Px0Jynztua2PpgnygV2Tl3CSvCrwdy8gS_pHAg_v1.png","/img/mail_att_logo.png":"/img/mail_att_logo_qMQuvmRmZI34fSPc0u2rDdROddX4pyl79occ0PMgFzY_v1.png","/img/mail_envelope_1x.png":"/img/mail_envelope_1x_J77MANXwuG5WKKMpl_yFpGbvLekd1nmnkHlHsUKOgis_v1.png","/img/mail_envelope_3x.png":"/img/mail_envelope_3x_MGttoNigSGT9uRmual8Zy8u-dBthYPMIqoABPrgHIlU_v1.png","/img/mail_logo_1_2x.png":"/img/mail_logo_1_2x_cI-LVH1V6LHXXOi_TWx_Oh90XmZEWz36itW2696MBcE_v1.png","/img/mail_logo_1.png":"/img/mail_logo_1_6rp14Eq0ghZ6Xp74QbDJPoTCZWbkSYFZXuKs4MZzWBY_v1.png","/img/mail_onboarding.jpg":"/img/mail_onboarding_H2y-4VyKIfg7TFAcXHaTDGwR7e-ELglSxBXEsumxATg_v1.jpg","/img/mail_plus_logo_color_1x.png":"/img/mail_plus_logo_color_1x_qtaOWFBuDfgadpLkZKF-iQjyhNqGPyffjP1a7fukKMk_v1.png","/img/mail_plus_logo_color_2x.png":"/img/mail_plus_logo_color_2x_78EgvYIPn3fTks2u-KAdnRJRdDjFgSwwZUxA8RRjHBc_v1.png","/img/mail_plus_mobile_sponsored_ad.png":"/img/mail_plus_mobile_sponsored_ad_pOkQvrBC-pkGdZFJZS5QOvjaauFFoBmyJQGy3-YndVQ_v1.png","/img/mail_pro_badge.png":"/img/mail_pro_badge_NrUi0sGCJWE0wgTFnqzO23uJ4HGDDYsjNmXj2aC6Mng_v1.png","/img/mail_pro_english_white_1x.png":"/img/mail_pro_english_white_1x_WUNxvidc9LzdwXv3_vWyW5L6-jkExsAZu6qw6efCkUo_v1.png","/img/mail_pro_english_white_2x.png":"/img/mail_pro_english_white_2x_80gnz2BoTdAq8UGtEr4U_vWoMBNdx8FpXt2JmCyaDxY_v1.png","/img/mailpro_purple_barney_1x.png":"/img/mailpro_purple_barney_1x_fi5U__pY9txQj571aY29PS0LnfdJax2U2fTVOvZK_KQ_v1.png","/img/mailpro_purple_barney_2x.png":"/img/mailpro_purple_barney_2x_5MzuraSz9oqEyE307jYmGUQQkVAqk_RAJ5XsCA0a91g_v1.png","/img/mailpro_purple_barney_3x.png":"/img/mailpro_purple_barney_3x_hC5q_er3p1Gx8eQrynv7UAeT_mD-7qHJmoboLXeBZzM_v1.png","/img/mailpro_upsell_desktop_mobile_1x.png":"/img/mailpro_upsell_desktop_mobile_1x_aE2xc7v1GKr_-ZV9FqW1vYzfcPxPV84hdd7cAF7S13w_v1.png","/img/mailpro_upsell_desktop_mobile_2x.png":"/img/mailpro_upsell_desktop_mobile_2x_V8nUTK4RdR5YVu6lqdO7XavVimEf4Yb8fcOffQz0jw8_v1.png","/img/mobile_coupons.png":"/img/mobile_coupons_V3E3RjKNgtR0iiauYDQ9XyVdS9pVx9UUnSTfWXpTu4I_v1.png","/img/mobile_imapin_syncing2x.png":"/img/mobile_imapin_syncing2x_bR5jwHJmxnzVRM6crTPSMLwidYJrYklIvL0WgfwgyDk_v1.png","/img/mobile_imapin_syncing3x.png":"/img/mobile_imapin_syncing3x_EvUxeAl22qh8gCGt_eF7Vv4sqYdCF2n5sYqC1yiDjKI_v1.png","/img/mobile_onboarding_bg_stars.png":"/img/mobile_onboarding_bg_stars_2xtX--sp4HiXM07aDv5vJzq4Z4NLoHkomqwYTvGIL6E_v1.png","/img/mobile_onboarding_compose_1x.png":"/img/mobile_onboarding_compose_1x_EjXTOuob_fCSZKSuxVKCwLcIvPvNUO2Ipehv0zGXJms_v1.png","/img/mobile_onboarding_compose.png":"/img/mobile_onboarding_compose_4cLl3zmICSTH4jXPKGuaorbkspizbmyyKnuww-O-k_M_v1.png","/img/mobile_onboarding_done_1x.png":"/img/mobile_onboarding_done_1x_-uT47Q-NyTBIDun_8Vxd_mJuUMFYfwyUtb4FSKXGFxs_v1.png","/img/mobile_onboarding_done.png":"/img/mobile_onboarding_done_51DgbPijW21w4kp2DGEyybzpRj18zqQZlcLiNQgbpGc_v1.png","/img/mobile_onboarding_folder_list_1x.png":"/img/mobile_onboarding_folder_list_1x_5mISHId2VFJtAW0J3Z11pELS27ntHFPwhpTZQhc0p8M_v1.png","/img/mobile_onboarding_folder_list.png":"/img/mobile_onboarding_folder_list_KDzTo2WrNpKAoJ1IfIWIc0cKTxSBOfLG_Zt6-77MvT4_v1.png","/img/mobile_onboarding_mail_orb_2x.png":"/img/mobile_onboarding_mail_orb_2x_cZXn_8B7iUCCtthwU6aUO1LGJP6SQAXHtAJr5xYcbkw_v1.png","/img/mobile_onboarding_notifications_1x.png":"/img/mobile_onboarding_notifications_1x_tcOMKUUj9a869erJFK73rC2aKDi56ZBNBSeGCfNuLRg_v1.png","/img/mobile_onboarding_notifications.png":"/img/mobile_onboarding_notifications_dyJva6mgEkiSo3mV_ORq6MWcAy40D1S3jGkQAX1ukzg_v1.png","/img/mobile_onboarding_swiping_1x.png":"/img/mobile_onboarding_swiping_1x_CGBS2Eu0kGslSZGZ3CdoGPvDHJD7GnHgU7sQsIQxOAc_v1.png","/img/mobile_onboarding_swiping.png":"/img/mobile_onboarding_swiping_wfTs4-ZA0haWoVsxhZalDBKadur2AH8M0IQg-gxMVHw_v1.png","/img/mobile_onboarding_welcome.png":"/img/mobile_onboarding_welcome_hrXVlNEoojUB8p5CUZVCKBL0yHgbDr3SpxSQsD1Gz48_v1.png","/img/mobile_welcome_illustration_1x.png":"/img/mobile_welcome_illustration_1x_hKLG47N4DC6tc_caZcFDTalaaYx-dczDy1Es55sYVpk_v1.png","/img/mobile_welcome_illustration_2x.png":"/img/mobile_welcome_illustration_2x_ZH21RSmQVf2hCoJh5UtDaT9Lft5kR2BB7x4oISThNzY_v1.png","/img/moms_day_upsell.jpg":"/img/moms_day_upsell_lZzde7TsuXmCSzsh7QkZd7cvcRB04nL3KkEBn5XfAwE_v1.jpg","/img/money_envelope_and_cc_illustration_2x.png":"/img/money_envelope_and_cc_illustration_2x_jYhpvA0XTaCYaCv_buwfoo5jxU65DiEdtGZioQch5TU_v1.png","/img/new_mail_logo_2x.png":"/img/new_mail_logo_2x_gRbGANwYKnc_6i_TcodYanlu_fDW6LN69QPgVPanaW4_v1.png","/img/new_mail_logo_3x.png":"/img/new_mail_logo_3x_DldeomHszDuOvOg4xqUSpOVglp36f79CLfaFGUwASBE_v1.png","/img/new_mail_logo.png":"/img/new_mail_logo_4tsCfiVuKTClQiNqaPVlWmZu-PLOwfqao407_tlZcYQ_v1.png","/img/new_user_onboarding_qr_test1.png":"/img/new_user_onboarding_qr_test1_Qk8FqOcZP3bLbQWofmJpmYKQCI8zauAHbaKJuxe1pDc_v1.png","/img/new_user_onboarding_qr_test2.png":"/img/new_user_onboarding_qr_test2_yQUO88aWpHWRwAOLQ2cbbXfdM94StYYgugFlrYdAXhE_v1.png","/img/newsletter_finance_background.png":"/img/newsletter_finance_background_Jclx0CV7x3x0-rtFsqbHXCTBM_QAI6RHHC-SekSlaS8_v1.png","/img/newsletter_news_background.png":"/img/newsletter_news_background_dcRN7FDu0WXWjjDhoOY5gno73w3STzaS8N7v1eskbjU_v1.png","/img/newsletter_sports_background.png":"/img/newsletter_sports_background_IA0jF2ag8eFQk54SXeozWIIHwl06iMHaUheQULxwEIE_v1.png","/img/newsletter_yodel_background.png":"/img/newsletter_yodel_background_6iq2-VNqzSCGmAXVF4Hr-RfoABuzJ5vbZqE-jW6jrF0_v1.png","/img/next_gen_home_upsell.gif":"/img/next_gen_home_upsell_W_Lc1jrWwc8Z3NVo3d4IDrIXYbrvY3sifxXbWLVN9VA_v1.gif","/img/night_landscape.jpg":"/img/night_landscape_RmgCx0busQQvPT6gcOioVLmHQzE8cIGe6KMbjMrapd4_v1.jpg","/img/norrin_qr_code_pkg_tom.png":"/img/norrin_qr_code_pkg_tom_5PCdCh0CIiYrUnB3Z5uqJbMtJm3n7yd0si2ruDz8660_v1.png","/img/notdeal_error.png":"/img/notdeal_error_Ecrjcx2XfEKYAE2LDl5EPkrbz8W4J-8km1z-epYUhVE_v1.png","/img/notfound_deals_2x.png":"/img/notfound_deals_2x_ppYAVilJZSsLPUR-GTV3wrSNJKO37AaE_1KnwHkL8_k_v1.png","/img/notfound_deals.png":"/img/notfound_deals_kH6EMqgVYYwGawD4RV7tk3zjH0UCIX2d4dHjAd1oPQw_v1.png","/img/notfound_error_2x.png":"/img/notfound_error_2x_v61U35MCGMScXnLv5Hoxyjffd9Q2yUIWhkzeu7W3YPc_v1.png","/img/notfound_walmart_groceries_2x.png":"/img/notfound_walmart_groceries_2x__wRHlbIRQDLqn5IgblZYqGYUHoQD0KXUiFnx87oRVSo_v1.png","/img/notfound_walmart_groceries.png":"/img/notfound_walmart_groceries_QJ8stcvYAP4aOET0JhlIcOEIX6eEaymv-1pRrYRsyIc_v1.png","/img/notification.gif":"/img/notification_8ummoUHNrtoF3aD2Wd0oqTS_Dus72CjCcHI85gHXwuE_v1.gif","/img/offers_empty_state.png":"/img/offers_empty_state_4s26_XJ2bjrOtWp2eNhzwZFTpMrB1zwc_HpQWrArSrM_v1.png","/img/offline_state_2x.png":"/img/offline_state_2x_9FQD-hujtkTiGBWwslG_vZQCzzh3DmWupVjxo0gBm2c_v1.png","/img/onboarding_xavatar_2x.png":"/img/onboarding_xavatar_2x_kqJ9gXMkMSOCwjJbUib4VZtw60wZBtLzwnc3nqEXxhA_v1.png","/img/opt_out_bg.png":"/img/opt_out_bg_12X6_o5QsEIV8YtJ9LaOTj6QCO5VQsFwE9SpsSwGt0s_v1.png","/img/opt_out_chick.png":"/img/opt_out_chick_19-2UiC0zCNqBcG-7893BksAaFr6Hgiy2qQRl7SeCCQ_v1.png","/img/opt_out_sad.png":"/img/opt_out_sad_UEOTKHFgcGj2TaO2pJAg--2tkvcDi9v5f3UY2vVwej0_v1.png","/img/orbs_2x.png":"/img/orbs_2x__3wN6n_Ec-A5eMSImfVUOs8TG0HfcSDhe9s9X6wlIOw_v1.png","/img/package_truck.png":"/img/package_truck_QAGQU4xoo9O_dPGOPyKMnkh_t0q5rY20xje5nIMRSao_v1.png","/img/people_smartview_cue_2x.gif":"/img/people_smartview_cue_2x_7ueDfVh5mSNCjryTC2JWQKYuKwL4BDLXB2LYQvLYZrE_v1.gif","/img/people_smartview_cue.gif":"/img/people_smartview_cue_DQ836vzxrBbNjdRYDtOVLLzA_hwOTWbP4pUII33CJ5s_v1.gif","/img/personalize_inbox.jpg":"/img/personalize_inbox_rGvBu2IRvucOay8ynNI_n3eVPjwLEKim12ZKUL9mqDc_v1.jpg","/img/portrait_ad_overlay.svg":"/img/portrait_ad_overlay_WyvrFPFnl6-5igwsGDe3GErbTnUV7StFRLBQja6wGno_v1.svg","/img/product_image_placeholder.png":"/img/product_image_placeholder_cd6stbKsRdGXdD4zBIc5zpfcYlFkKG0FrebSEKwEGIE_v1.png","/img/provider_logo_aol_1x.png":"/img/provider_logo_aol_1x_isnfCzbBei7Q8ZfGok73g8EGYAACNwXWxCKyzPKwmro_v1.png","/img/provider_logo_aol_2x.png":"/img/provider_logo_aol_2x_jLrEA1KOthSynaiNROriNjEhzAfMh9QM0VSEgYuwuQQ_v1.png","/img/provider_logo_google_1x.png":"/img/provider_logo_google_1x_QrOWcOm1xF1pOw8qEVQUbaTrhWQ5QmTpX_K27YDqrnc_v1.png","/img/provider_logo_google_2x.png":"/img/provider_logo_google_2x_24Qi8SOKGAGMsEJH8dxQCku9A5XAZbjCXTRaTeMXRes_v1.png","/img/provider_logo_office365_1x.png":"/img/provider_logo_office365_1x_drXavjLwbM_qzgO8v673SIvylxIIlLCgRDilkkxMAus_v1.png","/img/provider_logo_office365_2x.png":"/img/provider_logo_office365_2x_drXavjLwbM_qzgO8v673SIvylxIIlLCgRDilkkxMAus_v1.png","/img/provider_logo_outlook_1x.png":"/img/provider_logo_outlook_1x_BNoFJq4YN1Rih95Z0thR-52k1uaYpNg6UhdSDX6tnXE_v1.png","/img/provider_logo_outlook_2x.png":"/img/provider_logo_outlook_2x_j9JtMeAR9bU8mt4kqczOEPiXV55idrXNrjMgzvMpXcI_v1.png","/img/provider_logo_yahoo_1x.png":"/img/provider_logo_yahoo_1x_qrP4ZSComi4e6FMraLJ1eJuP7p4Tge1TB1RTZ6gNa7s_v1.png","/img/provider_logo_yahoo_2x.png":"/img/provider_logo_yahoo_2x_YxzbMnpmfUCb4wCcGGxe4eB-CKgzXWJ4h5j1dFlTKF8_v1.png","/img/provider_logos_1x.png":"/img/provider_logos_1x_elR-feAjc-W6942T_Pmosem10B8LNA9eIE9GB5x_gV4_v1.png","/img/provider_logos_2x.png":"/img/provider_logos_2x_RadLnzG1qmbEXjI1an6c3EkLlbw-avpn5vrQ6YMCBRI_v1.png","/img/push_notifications_onboarding_2x.png":"/img/push_notifications_onboarding_2x_qGO_tIv_BEpVGI84mLIIJJOFNZsolx3h2ZROO3r9GIg_v1.png","/img/rakuten_banner_title.png":"/img/rakuten_banner_title_LnIs0lc3twA7eliwD_0piCvmFCJmu-QBmnJpxn_GXE8_v1.png","/img/rakuten_loading.gif":"/img/rakuten_loading_a58weD2cS4rxARCCIfpvg56UlWGPchtBTO6qdxS2Wtg_v1.gif","/img/rakuten_promotion.png":"/img/rakuten_promotion_q_DTjph5u_Gn330ntvnpFouTJHfQzc80B44wX5ScZ_A_v1.png","/img/receipt_empty_state.png":"/img/receipt_empty_state_VOuBObU-H-bPdZ1B6q2IyeM_5VqDSSMCwuKhFp7U21c_v1.png","/img/recent_attachments_empty_results_2x.png":"/img/recent_attachments_empty_results_2x_u-F6LgFzhuUUHZTq4pAYsFFW-xK2qM1s4o0ynf7vhD4_v1.png","/img/recent_attachments_empty_results.png":"/img/recent_attachments_empty_results_ohzWn8lAXoMPYlC1178lH27Caqtocw230xIqT--9bHY_v1.png","/img/related_searches_tag_dark.png":"/img/related_searches_tag_dark_4k5pvpwX4tzrXD_c7F7GbPLfkveTOh0OoWUPKEeYDOM_v1.png","/img/related_searches_tag.png":"/img/related_searches_tag_X4KaMbx3_FKolI2E2UAQVjUSCNzi9iiLAj8P36TuG2Y_v1.png","/img/restaurant_search_header.png":"/img/restaurant_search_header_-G6sJIWRAQDLTqJMrQKIAgRz5LW3Q03a1DCK0dbOSXY_v1.png","/img/roadtrip_bg_pattern.jpg":"/img/roadtrip_bg_pattern_oGGywp5b5y69unSyY0aHiS70OwFx70nkuBJyk8i5WBA_v1.jpg","/img/roadtrip.jpg":"/img/roadtrip_t8uYYZf1BbS-Q0UdAORbJhQWRoMPBuv7U6cmOYS9dlg_v1.jpg","/img/sad_folder.png":"/img/sad_folder_Zku5m66_MGdrxNBICNQvrEs755Me-qCMKz-G_vIlQdg_v1.png","/img/search_onboarding.jpg":"/img/search_onboarding_AwqKtrgxPGO_uEzjQq7mR9XzUd6kxPtKgHRSdIeGCDg_v1.jpg","/img/search.png":"/img/search_byOX5XpDRDkKfXoDw4ZI50WAUU3WgUIT7Co-22C1Tkc_v1.png","/img/selected.png":"/img/selected_JXzcUlmXnDHG9e5Gs1MpbWwGKUhqG6IpMx02NvcVDpU_v1.png","/img/share_feedback_bad.png":"/img/share_feedback_bad_KzSI_STneaJnR4E1rCewVvxDxx_UO4dA8IRXucVd-Hc_v1.png","/img/share_feedback_done.png":"/img/share_feedback_done_FOzZBgLqadsXTFP9I2bBbhF2awFzkER6ZilADZF8VQc_v1.png","/img/share_feedback_no.svg":"/img/share_feedback_no_EA-nfbvmyiXLNBGvalYc3jiBB2GtABkujXP-IWGmFCk_v1.svg","/img/share_feedback_sometimes.svg":"/img/share_feedback_sometimes__OsnSiTM_2I-xQ-QTbLAgj6Q4GXMabHQPuLh1X8MrPM_v1.svg","/img/share_feedback_yes.svg":"/img/share_feedback_yes_YQRrD_royK8QGVK8Lm_lT6uRk0VI6oP-Lgxm0e_XYk8_v1.svg","/img/shopping_tag.png":"/img/shopping_tag_K1MBIFpcsH2mCP_1iJltulelN-l03hmF6SXr7JBPWzU_v1.png","/img/smartviews_inline_prompt_attachments_1x.png":"/img/smartviews_inline_prompt_attachments_1x_SLvVoPlMEjrVdg1QrnTMJIxX-iBM7Y7DWy5xAj-2twY_v1.png","/img/smartviews_inline_prompt_attachments_2x.png":"/img/smartviews_inline_prompt_attachments_2x_a-OOxrdHHpol89ItZTEc3wq0ZN8lvULtuX7rTdnNzkY_v1.png","/img/smartviews_inline_prompt_deals_1x.png":"/img/smartviews_inline_prompt_deals_1x_ogJLjcJzvjoL4JXmOonQdmn_hSA0ksBw42Y64vJywHk_v1.png","/img/smartviews_inline_prompt_deals_2x.png":"/img/smartviews_inline_prompt_deals_2x_gb_1njDgGajg6IneLrfAAhoAaQieYC90JB_TCj7uTGY_v1.png","/img/smartviews_inline_prompt_groceries_1x.png":"/img/smartviews_inline_prompt_groceries_1x_-05shMjBQmVCdPzaEuPuwnpG_BI7Z11sU0uE_E6WeVg_v1.png","/img/smartviews_inline_prompt_groceries_2x.png":"/img/smartviews_inline_prompt_groceries_2x_gJMlE9LwCMQwTFjitLZyrLJF-TNCpah_z1FRrJH2xqA_v1.png","/img/smartviews_inline_prompt_subscriptions_1x.png":"/img/smartviews_inline_prompt_subscriptions_1x_V-TIZ1tmMKZcuLXiHwar1ybk18CCICswwDEspNjovk4_v1.png","/img/smartviews_inline_prompt_subscriptions_2x.png":"/img/smartviews_inline_prompt_subscriptions_2x_NWpRQIYUIRmLFxX9khP-CJToaBA9-m6dzjXxg_AlU1Q_v1.png","/img/smartviews_inline_prompt_travel_1x.png":"/img/smartviews_inline_prompt_travel_1x_cJnP7nhiMTVu3GMp7JyhIYhJeKhrg68FlmsuuAs32Co_v1.png","/img/smartviews_inline_prompt_travel_2x.png":"/img/smartviews_inline_prompt_travel_2x_Zh3pWgzVqj_0j1xt59RVDGgzaEfHIxYq30Qg8e61LyY_v1.png","/img/social_accounts.png":"/img/social_accounts_4ceIEdLkdpf0uKQYGgh9tOCDoN0UuctxMvqtDt9jxys_v1.png","/img/srlogo.png":"/img/srlogo_OtoqfxjYYZ6hNyokQYurtmqTUsja7XCWM8IawRz1ApY_v1.png","/img/star_animation_orange.gif":"/img/star_animation_orange_8hI7V300B4Htus2QILMc6XVXOV4A9z6fup8ta9Sl0rY_v1.gif","/img/star_animation_yellow.gif":"/img/star_animation_yellow_rgHahmjaCKGRegzY5gT4Ko0u1a_BR5PnuNgXASzlBOc_v1.gif","/img/star_burst_colorful.gif":"/img/star_burst_colorful_GPr8QBURI1PT5mU8kBJDTaMsNgQhzAgeCJtptho0BQs_v1.gif","/img/star_burst_dark_colorful.gif":"/img/star_burst_dark_colorful_Eswd1FE96lGdZ5IkC5BKXbx8l2dm58ftq5mfa6LeQl4_v1.gif","/img/star_jiggle_dark.gif":"/img/star_jiggle_dark_DcdkWx-8o5GkuOn9Mq9yxbMuYPDcLpQG6TfNRgBBs9U_v1.gif","/img/star_jiggle.gif":"/img/star_jiggle_9zvXhRJhe1pEeb8B_kkWJkpNNSy-Zxe8_6c7xD0UI2M_v1.gif","/img/subscriptions_huffpost.png":"/img/subscriptions_huffpost_EwF8PutEDD_l1Wo8I46lAZ_1HtGVMKfrOmzBvJPlxuk_v1.png","/img/sunset_aussie_bg_pattern.jpg":"/img/sunset_aussie_bg_pattern_nM7teMRcgAi5YTBSjoJPxydsc0pPpRvQjP5BCBE_0QI_v1.jpg","/img/sunset_aussie.jpg":"/img/sunset_aussie_upQ3zXhejSxbjqEKUMxHLWNlmxr4B8VstQXF69eXvEw_v1.jpg","/img/suspicious.svg":"/img/suspicious_jP_gZutCU863evSJk1IIbcLqg5l99nXjQ4ILmqhE4qU_v1.svg","/img/switch_off.png":"/img/switch_off_UJ9qB9qg5uMBep_pEYxUDIgMWsG5jW1E7pyKpBS9VHg_v1.png","/img/switch_on.png":"/img/switch_on_1zX4tnxAbLJDmU6B3bN94iX8fVMxdBNnxMGcKsMfneM_v1.png","/img/sync_deals_1x.png":"/img/sync_deals_1x_1S3VMcAy4JTuzmQcKituJNaQUiKPV-wu8LeKt4BUy5s_v1.png","/img/sync_deals_2x.png":"/img/sync_deals_2x_Jz7EoTl6R2ZOQ4M4Pxn5WpE-PFMDfrAQGd5-AgBJA3A_v1.png","/img/sync_documents_1x.png":"/img/sync_documents_1x_zF-pwcktCqoCz4u9vDWMMviMV5Dgfwq99rwkgLUEglA_v1.png","/img/sync_documents_2x.png":"/img/sync_documents_2x_SItvCyvOD9HIIiUQ-y3qn60IbMMQZJjPij_ZwLZkWzs_v1.png","/img/sync_message_1x.png":"/img/sync_message_1x_vNoXU4pgaAdLhhgRDl-aMW6-TF53Jt1W82bRoybi6fY_v1.png","/img/sync_message_2x.png":"/img/sync_message_2x_crfRhTzKyxDKp95l_Xz02IqX2DnQVh6eTQ_JI5LwpFI_v1.png","/img/sync_photos_1x.png":"/img/sync_photos_1x_lzNnPGF8cciZ4zXxrK4G0ab721EtmTmIYFavFQQ5JFA_v1.png","/img/sync_photos_2x.png":"/img/sync_photos_2x__s-kGTShqOkea06sARr-4MzRXKEQqnKiVYFh9dBORWM_v1.png","/img/sync_subscription_1x.png":"/img/sync_subscription_1x_VgGO7zV9vQeFS3mYzEAP7EaP8vYFQmSDFHY8NekXIis_v1.png","/img/sync_subscription_2x.png":"/img/sync_subscription_2x_r04j7UCnc7YIsFMOnapp4LcHWJ5D-W7eqlqjLxK3ARY_v1.png","/img/tenor.png":"/img/tenor_oxJhYeiAd8fUcrdVfozpyGSSYmgt7DKIkdiYMrOUFmI_v1.png","/img/themes_cue_v2_bar.jpg":"/img/themes_cue_v2_bar_QpyOioVctDS-i609elkNIIu0ynwzJpCL1cQMjmVQjWw_v1.jpg","/img/themes_cue_v2_bottom.jpg":"/img/themes_cue_v2_bottom_dMFj87c7oz0vCLRDdzPn0csCgqE9chU0lXdpyqjnSpQ_v1.jpg","/img/ticket_search_header.png":"/img/ticket_search_header_SMskHeIcqka4jrL6ap03QLiP4YHZN3j-6isRmUgPeKk_v1.png","/img/tiny_truck.png":"/img/tiny_truck_mex2w8UUcFCyG_knYv8LTuxkGQZP1z6_7lpAhj6Ncfs_v1.png","/img/tmr_atos_suspended_panel_dark.svg":"/img/tmr_atos_suspended_panel_dark_nJJjwLOQIp1MGbfSsZYoh56KVK45rwrv3FOgExOw5kM_v1.svg","/img/tmr_atos_suspended_panel_light.svg":"/img/tmr_atos_suspended_panel_light_SzR69AEbmjE2ZmaPwwGYGySka96eaaKINORT5jmRLds_v1.svg","/img/tmr_daily_checkin_icon.svg":"/img/tmr_daily_checkin_icon_h9LwR2qtsqsNOJiivXcZyR93vAZLGEPXYD45q_p_xjI_v1.svg","/img/tmr_graphic_all_mail_imapin_3x.png":"/img/tmr_graphic_all_mail_imapin_3x_k3rmmigjRDK2MFxkuVOzH6A3VuASOBhqp--2Ag5bW3A_v1.png","/img/tmr_hk_atos_signup_cue.svg":"/img/tmr_hk_atos_signup_cue_siJPlOFLXRmIwzw4ph2Q1z8puKe2rDYb3Ckp6INMtzg_v1.svg","/img/tmr_hk_atos_signup_panel_dark.svg":"/img/tmr_hk_atos_signup_panel_dark_248KsNeV5dXCaaIdk19cp3rWDHtuYllKkEUt6QR6Rvo_v1.svg","/img/tmr_hk_atos_signup_panel_light.svg":"/img/tmr_hk_atos_signup_panel_light_UpkjdO18tqQ1FCsvfnm8XuEvG5WGYNRZcfYbmWjQImw_v1.svg","/img/tmr_hk_atos_upgrade_cue.svg":"/img/tmr_hk_atos_upgrade_cue_asZdiB_6Nz45e0kcS4d-ZjFzQRyakOjyo98wn5mlZ7M_v1.svg","/img/tmr_hk_atos_upgrade_panel.svg":"/img/tmr_hk_atos_upgrade_panel_Y0S-IHeTAl3pLsMYs8qsQmrfDE-Fjmn0S81CfGzWDWw_v1.svg","/img/tmr_hk_onboarding_cue.svg":"/img/tmr_hk_onboarding_cue_a-gri8d4VMqiJpXOAlHHOhiXHV34bpAQIB6kqNJE2Mw_v1.svg","/img/tmr_hk_points_icon.svg":"/img/tmr_hk_points_icon_LzW4b9so8HYViendz73THM2Nc4H8jDorMCl5HSuEtw4_v1.svg","/img/tmr_hk_rewards_superapp_qrcode_dark_1x.png":"/img/tmr_hk_rewards_superapp_qrcode_dark_1x_CizE47t7JWGFO9eVMjDWJDSAFOYrLXV50hjwbOlglUk_v1.png","/img/tmr_hk_rewards_superapp_qrcode_dark_2x.png":"/img/tmr_hk_rewards_superapp_qrcode_dark_2x_uAPxfL_I_t9tkOwoSOQPCgZY_FupTYt0WB16JQmAox8_v1.png","/img/tmr_hk_rewards_superapp_qrcode_dark_3x.png":"/img/tmr_hk_rewards_superapp_qrcode_dark_3x_2nwkBfoWSnFNFfhZG1jAUdGK4ozeyyyOHkHhwPHKMMk_v1.png","/img/tmr_hk_rewards_superapp_qrcode_light_1x.png":"/img/tmr_hk_rewards_superapp_qrcode_light_1x_NZ9pAl1aHG_4abAtlBNIUbw75XNcH3x55CpeJeOKOBk_v1.png","/img/tmr_hk_rewards_superapp_qrcode_light_2x.png":"/img/tmr_hk_rewards_superapp_qrcode_light_2x_aSHgd2DTVmNvGaFFs9RGSbgxY3UPqJvPnFB-foz-FkU_v1.png","/img/tmr_hk_rewards_superapp_qrcode_light_3x.png":"/img/tmr_hk_rewards_superapp_qrcode_light_3x_zA6RgjaJaS7jmXEEP_d4a5EbVCZCq-nsjsCTgp8FYzQ_v1.png","/img/tmr_hk_task_completed_qrcode.png":"/img/tmr_hk_task_completed_qrcode_U5Cz_BcvdEgvU3efJn6lXi4r2-S3ViK6pY59McPvpjg_v1.png","/img/tmr_hk_task_completed.svg":"/img/tmr_hk_task_completed_S0nx9UDaUVGXZM-cjdPcFaP0kNWyZlMxD26ZZTy4iTI_v1.svg","/img/tmr_hk_task_notify.svg":"/img/tmr_hk_task_notify_xCPzczaksUYM2VsXQkELuZzgFmGMIGc4pGXkRO0uUh8_v1.svg","/img/tmr_hk_tasks_superapp_qrcode_dark_1x.png":"/img/tmr_hk_tasks_superapp_qrcode_dark_1x_blE0n29oxqMV4Shh2E8ojYHalIQSLuaBvhHMr-czoBA_v1.png","/img/tmr_hk_tasks_superapp_qrcode_dark_2x.png":"/img/tmr_hk_tasks_superapp_qrcode_dark_2x_4v6sqO-I-DTssUe4KnRoSl-gC2H8WtfykgZkEAclAUM_v1.png","/img/tmr_hk_tasks_superapp_qrcode_dark_3x.png":"/img/tmr_hk_tasks_superapp_qrcode_dark_3x_WHuYKIUtn2umhI6tomj5OHdlOGQChE822vX4UdKpMIY_v1.png","/img/tmr_hk_tasks_superapp_qrcode_light_1x.png":"/img/tmr_hk_tasks_superapp_qrcode_light_1x_Vr2fWy64hwyj0HAZYqJruzoMvav9zd7xw-2I6TfMls8_v1.png","/img/tmr_hk_tasks_superapp_qrcode_light_2x.png":"/img/tmr_hk_tasks_superapp_qrcode_light_2x_28Uic_ljlnk_iqwI71pSVmXdZ006QFajiFG3bhM-VFs_v1.png","/img/tmr_hk_tasks_superapp_qrcode_light_3x.png":"/img/tmr_hk_tasks_superapp_qrcode_light_3x_PnIm-wi8M1r3PwagWEWSv4hGtAUVRB3jNnpW9KvsFQ0_v1.png","/img/tmr_icon_appstore_blue.svg":"/img/tmr_icon_appstore_blue_L6O4vGQE7Z7lNpp1sgGoDt4d89RjZBs6JoBlPQRofaw_v1.svg","/img/tmr_icon_appstore_white.svg":"/img/tmr_icon_appstore_white_i9s35KdS1DWJDCBfM6ntvCDiCU-yoQcj3-vIT6YFIfE_v1.svg","/img/tmr_icon_playstore_blue.svg":"/img/tmr_icon_playstore_blue_lK5gw1Jw24KeOMHL3CwzgK2dhSNP68Md610un363hRo_v1.svg","/img/tmr_icon_playstore_white.svg":"/img/tmr_icon_playstore_white_PZjZuD1P-qpMo256MdGgtCIYA29mvy8c4y2_-OIA6JY_v1.svg","/img/tmr_mobile_hk_atos_upgrade_onboarding.svg":"/img/tmr_mobile_hk_atos_upgrade_onboarding_AfRJx8ZHtauZiF2kyhmHxO28QKS01_bhk8j-br58FlY_v1.svg","/img/tmr_mobile_hk_onboarding.svg":"/img/tmr_mobile_hk_onboarding_UENkzaA4tru5GrfWLXbYAe23e-HiKcXBKLlA5sKflS0_v1.svg","/img/tmr_mobile_hk_task_completed.svg":"/img/tmr_mobile_hk_task_completed_76Nsdpz8LfekTF0_COjHHAp_h6fIDdNr53_0zOChq2s_v1.svg","/img/tmr_mobile_tw_atos_upgrade_onboarding.svg":"/img/tmr_mobile_tw_atos_upgrade_onboarding_izDnfV8Z2-aG8SNOM4AWNJzpxosP7hOQ-06CUICAOQ4_v1.svg","/img/tmr_mobile_tw_onboarding.svg":"/img/tmr_mobile_tw_onboarding_N4Wj9mQBopfzwD8_G1lJdmSbZcGkGRZGwJGidGhEHdM_v1.svg","/img/tmr_mobile_tw_task_completed.svg":"/img/tmr_mobile_tw_task_completed_kEgXfOtoOPeXYfDtG4OXjKdE-tGTuUt5w1gzbPQJy5M_v1.svg","/img/tmr_question_mark_dark.svg":"/img/tmr_question_mark_dark_MXHGFy-voIxTfhs3Daa_N_XE-Jq0cnUpvsnKmpQDrMA_v1.svg","/img/tmr_question_mark_light.svg":"/img/tmr_question_mark_light_YpARD4_Cejz2q4-CyGK9lDePzwmrYIQ_TeGU9y24KhI_v1.svg","/img/tmr_rewards_icon.svg":"/img/tmr_rewards_icon_ffHU2TYF1rgeQuUbE_dduJKHYElq7xc9wAesBF6suto_v1.svg","/img/tmr_star.svg":"/img/tmr_star_ez42In8-7U11X6JEKdxe-SBPfZrPta9qNIyrX7dJKCE_v1.svg","/img/tmr_tasks_icon.svg":"/img/tmr_tasks_icon_KP4-B6cRgkamviTI0VdrAAD1mpGl05_n0aOsGnDexrY_v1.svg","/img/tmr_tw_atos_signup_cue.svg":"/img/tmr_tw_atos_signup_cue_rqZxXeUgEMD815CyqVhOJsEGwkj0Hp2kixnW0TCJe-4_v1.svg","/img/tmr_tw_atos_signup_panel_dark.svg":"/img/tmr_tw_atos_signup_panel_dark_fVYqp3Q4QQ95J8s1C7q8JPY-QdiUfd12NcPd067M0Qk_v1.svg","/img/tmr_tw_atos_signup_panel_light.svg":"/img/tmr_tw_atos_signup_panel_light_DU_T9dF5sm2H30KMJVbAUuHPjC-16bITb-p5wD4OR7s_v1.svg","/img/tmr_tw_atos_upgrade_cue.svg":"/img/tmr_tw_atos_upgrade_cue_9qeKrR0SZ5xMQxWTudUfzLKXedyWkmq0uQVktLeKRGU_v1.svg","/img/tmr_tw_atos_upgrade_panel.svg":"/img/tmr_tw_atos_upgrade_panel_6PViAopePRYKLJOJW9ZU0eUx2mffpp-jzwes8fw3q58_v1.svg","/img/tmr_tw_onboarding_cue.svg":"/img/tmr_tw_onboarding_cue_SoCqrV4St2xbzIbevP31xO4IkGlsn0EK_Nr1vvgoR28_v1.svg","/img/tmr_tw_points_icon.svg":"/img/tmr_tw_points_icon_ZMjMh3W6ynW-7une6GV_rBTt43H8q7jEi2gBDsXjwf0_v1.svg","/img/tmr_tw_rewards_superapp_qrcode_dark_1x.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_1x_FOjNvGEeFa8fkQh8xnKxe1zHcKYzrEeFYZbmgZwEQBI_v1.png","/img/tmr_tw_rewards_superapp_qrcode_dark_2x.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_2x_DPcRgyicJ1JfvwvGy0SZlmX5finql5EUCDD7QuXmkis_v1.png","/img/tmr_tw_rewards_superapp_qrcode_dark_3x.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_3x_Tcw0zcuTzWnNJkiQy7ZfV0J-TaaIO2GYQgksws7FraA_v1.png","/img/tmr_tw_rewards_superapp_qrcode_dark.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_Tcw0zcuTzWnNJkiQy7ZfV0J-TaaIO2GYQgksws7FraA_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light_1x.png":"/img/tmr_tw_rewards_superapp_qrcode_light_1x_uvxJ_59RzvJW3Fq5MzLbbDZskFZL2wawlWcNR8G2riE_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light_2x.png":"/img/tmr_tw_rewards_superapp_qrcode_light_2x_iMYODEOdvM3VOTD99FUABrrlGBOxIlHFCVtzwpEJvKQ_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light_3x.png":"/img/tmr_tw_rewards_superapp_qrcode_light_3x_RS8CVe9q8iBegl_EROPExXWWXBpZdD34qmciZ_ESvjU_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light.png":"/img/tmr_tw_rewards_superapp_qrcode_light_RS8CVe9q8iBegl_EROPExXWWXBpZdD34qmciZ_ESvjU_v1.png","/img/tmr_tw_task_completed_bonus.svg":"/img/tmr_tw_task_completed_bonus_5tsAotoQKG3NVU2pvmkrqM8Kl0qKFTSBBOnbzDT8HEU_v1.svg","/img/tmr_tw_task_completed_qrcode.png":"/img/tmr_tw_task_completed_qrcode_ldTU8tDmf9BEIqWJpJPM0JHMPu3vcEySrVHP5bgru9U_v1.png","/img/tmr_tw_task_completed_regular.svg":"/img/tmr_tw_task_completed_regular_ARPe0vrpJinaCApZir1tSlEONnIViojre9R2WDFvBR4_v1.svg","/img/tmr_tw_task_notify.svg":"/img/tmr_tw_task_notify_xnb6bx1i4hfV_xlqJ-vsnGwY67Ng23SHuaMzeFDJI58_v1.svg","/img/tmr_tw_tasks_superapp_qrcode_dark_1x.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_1x_y3-UBbU7FP6HwePOHFeBAZub_TJwMIqf2V22A8w8MOo_v1.png","/img/tmr_tw_tasks_superapp_qrcode_dark_2x.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_2x_A_4ytK_g9mQMxMAj8vLI-xXe6GVozXNhElgefJ5tF4s_v1.png","/img/tmr_tw_tasks_superapp_qrcode_dark_3x.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_3x_5iw0eP4OVe5MQ07sOJh6RfyjhgR-7PTbwWP0TIe2xno_v1.png","/img/tmr_tw_tasks_superapp_qrcode_dark.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_5iw0eP4OVe5MQ07sOJh6RfyjhgR-7PTbwWP0TIe2xno_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light_1x.png":"/img/tmr_tw_tasks_superapp_qrcode_light_1x_jgqX3L8MYG17ViJnm9whRhwaCrtqNjRIJPCO514lPXM_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light_2x.png":"/img/tmr_tw_tasks_superapp_qrcode_light_2x_XTx5kneRH-NMKScHOMeyBUGnw3hcxgGseXUog5Vbf3g_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light_3x.png":"/img/tmr_tw_tasks_superapp_qrcode_light_3x_vUWo46mC2NzfLcZxL5QdZY1Byd5ATXdoc88cnoHizrI_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light.png":"/img/tmr_tw_tasks_superapp_qrcode_light_vUWo46mC2NzfLcZxL5QdZY1Byd5ATXdoc88cnoHizrI_v1.png","/img/tmr_yahoo_super_app_icon.png":"/img/tmr_yahoo_super_app_icon_lLBobwUtCXB2DqmuybEkwbUQKsvrmhsIGldB14mpSRQ_v1.png","/img/trap_page_browser_logos.png":"/img/trap_page_browser_logos_8oVRGOkr33PQbjZoagzKQlb0zuM3bvJAa7Izuy7RR8c_v1.png","/img/trash_can.png":"/img/trash_can_r39WriTMDttrzhgPRT7Jjx3s-0lD1uJm6fNPh9GM6fE_v1.png","/img/unsupported_browser_bigtriangle.png":"/img/unsupported_browser_bigtriangle_zCgzlTz55Md3eMR0-AhF0yEQmeo04krPeYRujUIvEw8_v1.png","/img/unsupported_browser_circle.png":"/img/unsupported_browser_circle_5bR2MXTGLcmQGtnWNXPlwm9mGQPY2_HCk2ObAWwZ5P4_v1.png","/img/unsupported_browser_maillogo.png":"/img/unsupported_browser_maillogo_nhmOjU56xe63NubTCYjjqxtQ-LqWlWi_-V-EBJKP0SE_v1.png","/img/unsupported_browser_phone.png":"/img/unsupported_browser_phone_JKsSoWBXEnOm3GD5vi0lOPJZgj795tDmJwIzlAIUZlM_v1.png","/img/unsupported_browser_smalltriangle.png":"/img/unsupported_browser_smalltriangle_C-h0_bHHm4uvy5W_iMqz7_yeAZflAoS-CDkRnNF3iYo_v1.png","/img/vacation_response.png":"/img/vacation_response_1o4F_pI6MIH4wkUtP23rQSY6XEhYhNYDc_EVUEKogsE_v1.png","/img/viewing_email.png":"/img/viewing_email_hH_ZyZQZ6LWt-by-e18kjIHxXlz8g_MDZ2u5CvIIx-8_v1.png","/img/walmart_add_to_cart.png":"/img/walmart_add_to_cart_OR8FVeUCbh_yos1V7a1X_6FMUmY_jZacxPXnozZPEDU_v1.png","/img/walmart_logo_dark_theme_mode.png":"/img/walmart_logo_dark_theme_mode_ta-ain64-iE6E1K4O8HagILHYs9QN3gltN-hl5xKfF0_v1.png","/img/walmart_logo_small.png":"/img/walmart_logo_small_sng0mPVojjiiGMiL_lUFp6JOyXg8b91Es0MtzFtLTz4_v1.png","/img/walmart_logo.png":"/img/walmart_logo_sO00E1adOSPZYrTVbvtSqrWNZOoPAwb_3of2S5Cq74w_v1.png","/img/walmart.png":"/img/walmart__OSt5ExTcTC-h3rFbNP4Myei1gsEinsqDbtizjiXi88_v1.png","/img/welcome_illustration_1x.png":"/img/welcome_illustration_1x_FcA2xClrYIz8vjn8tLnDdmF4ur42-zV4kI_Uhs_nreY_v1.png","/img/welcome_illustration_2x_obsolete.png":"/img/welcome_illustration_2x_obsolete_PC6NYn2FUzcTm3yDw6VhjbBajzJyvqxier16E8NJPLY_v1.png","/img/welcome_illustration_2x.png":"/img/welcome_illustration_2x_L2OjaE4rEjxHsYXdHlr-xDcgx730hGqg4ZQI3-7FLZc_v1.png","/img/welcome_illustration_3x.png":"/img/welcome_illustration_3x_wThP-OXN-w47u0OwOd2NXIoxTJMD-c8ZN4pdLYHTtZM_v1.png","/img/widermail_2x.gif":"/img/widermail_2x_4sTtiSyQx-Ce9HOIXkZa-h3hXlZPtr3iel6G9ORP5qc_v1.gif","/img/widermail.gif":"/img/widermail_U2O_xZQuyzq4osCR2yHr7IWcZ_jswG5XD7RPTWejPjY_v1.gif","/img/y_plus_badge_color_pencil_ad_1x.png":"/img/y_plus_badge_color_pencil_ad_1x_OZriJuLP2KHyTcPH7hXNgrDZFMvv8TlgDG-bQ49wm5U_v1.png","/img/y_plus_badge_color_pencil_ad_2x.png":"/img/y_plus_badge_color_pencil_ad_2x_MIyhTxGSnsLnlCiklfqvz10zCLOW1AiEgrbyUti-3Q4_v1.png","/img/y_plus_badge_color.svg":"/img/y_plus_badge_color_tovt5Mw3AOFTqAVCGsB-IH2PEoqBJbDhM8Ppq0zYuYE_v1.svg","/img/y_plus_badge_white.svg":"/img/y_plus_badge_white_n4MCcrv2mTmW7VfFXrmatkJXKC1ivP-tOmTLB840G2A_v1.svg","/img/yahoo_badge.png":"/img/yahoo_badge_vmsNZv0f7un9pb0tejVSq7aYoavBG1nDn7yXJTKYGLg_v1.png","/img/yahoo_finance_logo.svg":"/img/yahoo_finance_logo_-QDNG0c8moBlfL-H04Q2IwjbtNsPJiC7OMJ-6dinE14_v1.svg","/img/yahoo_lastpass_logo_2x.png":"/img/yahoo_lastpass_logo_2x_7VdmrF7i8U7pRWJaBRjiMLSzVyaIauCQ_xJGK1rpSCY_v1.png","/img/yahoo_lastpass_v_white_1x.png":"/img/yahoo_lastpass_v_white_1x_ARo6Tj-RN9KPU234_DPO6QXkGi8kG6lYudUf1rvgbD8_v1.png","/img/yahoo_lastpass_v_white_2x.png":"/img/yahoo_lastpass_v_white_2x_yqV5pGyitz6TDgsF366zJCM-8pVaIvBDM0R-e1sznZ8_v1.png","/img/yahoo_logo_transparent_2x.png":"/img/yahoo_logo_transparent_2x_smBV5Q_pQHii7C6IVmOsPOt4UUeOPi9ysCn6_Hdso1c_v1.png","/img/yahoo_logo_transparent.png":"/img/yahoo_logo_transparent_OJ5RWztu9Z0FBN1nqfY0avjfex4on1RN6CH7nNtdGL4_v1.png","/img/yahoo_logo.png":"/img/yahoo_logo_IbAUajnYkKPCJO1tf-0yybTrp3mRz3qudq8gvNU6-WM_v1.png","/img/yahoo_mail_certified_sender_2x.png":"/img/yahoo_mail_certified_sender_2x_JpRT9fz6tJXf0TuFDlOoe7yJD9psfCEMntpsIHhJoVM_v1.png","/img/yahoo_mail_global_english_1x.png":"/img/yahoo_mail_global_english_1x_UWlIRGtkOjCoUWwCNMz6vHGRbW-XB0I1p0FzxEQ75m8_v1.png","/img/yahoo_mail_global_english_2x.png":"/img/yahoo_mail_global_english_2x_QCDeip_7unM4ifsFj_xSee88y_ik2ETJZv9KzvEhy2s_v1.png","/img/yahoo_mail_global_english_white_1x.png":"/img/yahoo_mail_global_english_white_1x_2irxdCmPPid8dWMdybHvLaG3G8C-2YHi2uDczTLQjRQ_v1.png","/img/yahoo_mail_global_english_white_2x.png":"/img/yahoo_mail_global_english_white_2x_A6ncybctetL1Rrnktv0yukBBnRW-U1ioDXOW1MZ8xwg_v1.png","/img/yahoo_mail_plus_global_english_white_1x.png":"/img/yahoo_mail_plus_global_english_white_1x_x9QFg_w0mPRsoMxlm9JJ8e3JMcmRefvL3-i2qf8aDDE_v1.png","/img/yahoo_mail_plus_global_english_white_2x.png":"/img/yahoo_mail_plus_global_english_white_2x_rN4EJcoICeLa1wHyJNxBI7Kv6AB94k8Ty4AcHlQmsmE_v1.png","/img/yahoo_mail_plus_partner_att_white_1x.png":"/img/yahoo_mail_plus_partner_att_white_1x_RqhLavJOIEiOAiMqx-I8yIbYlvpcdkeB8i8JJ6gvn9E_v1.png","/img/yahoo_mail_plus_partner_att_white_2x.png":"/img/yahoo_mail_plus_partner_att_white_2x_h72MXtRTPVtLQXH4qk-K0iOIKqKIWPPPxpHIODa25nM_v1.png","/img/yahoo_mail_plus_stacked_color_1x.png":"/img/yahoo_mail_plus_stacked_color_1x_VqCZbOIg1IPJDPWFz7fxjjIlkUmlF4pHD00LMBb9lmY_v1.png","/img/yahoo_mail_plus_stacked_color_2x.png":"/img/yahoo_mail_plus_stacked_color_2x_p07-Fn6jkG-YPuQtxxgSuAN2J_jN11spGHwaFl-2mtw_v1.png","/img/yahoo_mail_plus_stacked_color_3x.png":"/img/yahoo_mail_plus_stacked_color_3x_2SoV8o_oF0nsil_3Yo-VFpRsBSqFoxDXxRsu54wvBm4_v1.png","/img/yahoo_mail_plus_stacked_white_1x.png":"/img/yahoo_mail_plus_stacked_white_1x_Rwo5df1m_pZMs9xT7PN8KWAtryQ8NlGDed09QSv9CnM_v1.png","/img/yahoo_mail_plus_stacked_white_2x.png":"/img/yahoo_mail_plus_stacked_white_2x_pjU7u3zpCz0Afezo-PMdtOUwT2ka6_ztqKzGpDIyEBU_v1.png","/img/yahoo_mail_pro_global_english_2x.png":"/img/yahoo_mail_pro_global_english_2x_8zdkp1f-0Z8OxMb6uCZUveOsQ1TaHX3DuHtToEfKh4I_v1.png","/img/yahoo_mail_pro_global_english_white_1x.png":"/img/yahoo_mail_pro_global_english_white_1x_Fgp3RyoEfBZ7io0-CTHZbtEiZrxKjxn7hDIOvMtcbe8_v1.png","/img/yahoo_mail_pro_global_english_white_2x.png":"/img/yahoo_mail_pro_global_english_white_2x_6fvmqN1KCFtED314VUMr6OENDqycSvk6ce7ajQRlAEg_v1.png","/img/yahoo_mail_qr_code.png":"/img/yahoo_mail_qr_code_i-g6sChdtDQ8PqUiKDfvqR91ujlmTZRJw-2BJaR5jKE_v1.png","/img/yahoo_mailplus_scout_computer_and_mobile_1x.png":"/img/yahoo_mailplus_scout_computer_and_mobile_1x__09Bxw2KgZC1NLNTFvPQ5Z4-aucke5fIwhmYFuBgFjc_v1.png","/img/yahoo_mailplus_scout_computer_and_mobile_2x.png":"/img/yahoo_mailplus_scout_computer_and_mobile_2x_VlfhbKUTUuz64T_xqiVSCQIuQ9oNTvBiuP6zLFNWdmU_v1.png","/img/yahoo_new_logo_transparent_2x.png":"/img/yahoo_new_logo_transparent_2x_U0B35y0Lxr1NHcmpoTl73LyzRSGs75QJqA7lb_xHUQw_v1.png","/img/yahoo_new_logo_transparent.png":"/img/yahoo_new_logo_transparent_ohJYSScEirZzbmf7XzwB6NBbnyU25Agfqm4KzQPuoTw_v1.png","/img/yahoo_norton_image.png":"/img/yahoo_norton_image_Y9FWWUpCvojO44P-YMFQ1P5WnkHvP5hHnen_zL2Kh8s_v1.png","/img/yahoo_shopping_center_cat_1.png":"/img/yahoo_shopping_center_cat_1_exSFfEX314xDE98YN2VasujLqTNns-y7vRbIAtRkR9k_v1.png","/img/yahoo_shopping_center_cat_2.png":"/img/yahoo_shopping_center_cat_2_N_qwja5btZrmvdzgfpZ2I484SO3H6lldenTONK6wYEI_v1.png","/img/yahoo_shopping_center_title.png":"/img/yahoo_shopping_center_title_WmoZjsJngJ9z5TQRJooa9KXkvhD1vzVpebMht8ZDXC8_v1.png","/img/yahoo_shopping_center.png":"/img/yahoo_shopping_center_7n4ce9JAw1FYskS097YSOPVI53Q8T-u8VAtktdQfk3E_v1.png","/img/yahoo_shopping.png":"/img/yahoo_shopping_JHyZoMH8VDHH_uXxi3D1KUrdSBgCvTwUe84kIMbcvsY_v1.png","/img/ym6_groceries.png":"/img/ym6_groceries_UG2tcpGh5-4c1ug6P-UnBQGMEPeQeJ_GDzplkp__ULs_v1.png","/img/ymailplus_white_1x.png":"/img/ymailplus_white_1x_i8IktrjM_swg83ihDfWanqxXStOBUZWDiTtMHq3Q11w_v1.png","/img/ymailplus_white_2x.png":"/img/ymailplus_white_2x_lII5BXSC-KBAl-6qtlzv3Nfy_QRA_hZJVTO5bfHMHhw_v1.png","/img/ymobile_logo_1x.png":"/img/ymobile_logo_1x_wdI1JwVXxnLog_1Teq2RWaKNWSI3XbNBRXKehfzLM0I_v1.png","/img/ymobile_logo_2x.png":"/img/ymobile_logo_2x_LVfkgDiDtL45yK1WrfgU0gEzRnEUV3IICESAsYIL_Ko_v1.png","/img/ymobile_tom_logo_1x.png":"/img/ymobile_tom_logo_1x_D6-GumT0Oh8b8gR20pKnkY-dwlgPLMRxkDrxk2CTNeA_v1.png","/img/ymobile_tom_logo_2x.png":"/img/ymobile_tom_logo_2x_fD1XuuwQIsm8b70P4393GxenRCfjNel5YpM1OEw0hOA_v1.png","/img/zoids_robot.jpg":"/img/zoids_robot_V1bwHo753fwD7G60MYPqfQgNO-dKx7lUkrPml40x91g_v1.jpg","/html/status.html":"/html/status_NsIMApfRFdB9nTk9uhk8xFAt08_hm8m9QjmR2g0Vl9Y_v1.html","/json/aol_mobile_manifest.json":"/json/aol_mobile_manifest_iwMinduz2yiVZIS_C3BD-4gTmJfTJUf5EB_A-aVQ2ew_v1.json","/json/mobile_manifest.json":"/json/mobile_manifest_fOJs6eK4LhLfhLRqWrfRnU0X3elk_BdafhhJmNQyZXw_v1.json","/json/web_manifest.json":"/json/web_manifest_zdmVWTe8Hdp05CX3yPbgNMfiiGr4DFZJOp0JdEBS8DM_v1.json"}'),l=a.q,c=/^\s*\//,d=/\/\s*$/;const E=(_=i,r()("object"==typeof _,"makeGetAssetUrlFn: assets is not an object."),e=>{const t=(0,o.Eo)(),s=(0,o.nM)(),a=(0,o.$9)();return r()(0!==e.indexOf(l),`getURL was called twice for ${e}. This is not supported. Check your code for accidential double calls.`),r()(e in _||t||s||a,`getURL was called outside of pre-staging deployments or devbox for ${e} which does not exist in the asset map. Check your build process.`),e=_[e]||e,l.replace(d,"")+"/"+e.replace(c,"")});var _},17901:(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});var a=s(97665),n=s(42655),r=s(63352),o=s(8106),i=s(43373),l=s(34443);function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class d{constructor(e){(0,r.Z)(!!e.loggerName,"loggerName is missing");const{loggerName:t,loggerParams:s={},crumb:a,wssid:n,isOnline:o=(()=>!0),endpoints:i={}}=e;this.loggerName=t,this.loggerParams=s,this.endpoints=i,a&&(this.crumbValue=a),n&&(this.wssid=n),this.isOnline=o,this.getMailboxParams=()=>({})}get crumb(){return this.crumbValue||""}set crumb(e){e&&(this.crumbValue=e)}get wssid(){return(0,o.jU)()?d.wssid||"":this.wssidValue||""}set wssid(e){e&&((0,o.jU)()?d.wssid=e:this.wssidValue=e)}setRequestBlocked(e=!1){(0,o.jU)()&&(d.requestBlocked=e)}isRequestBlocked(e=!0){return!!(0,o.jU)()&&(e&&d.requestBlocked)}getRequestBlockedPromise(){return Promise.reject(new n.Z("BaseClient.RequestBlocked","",{errorCode:"REQUEST_BLOCKED",statusCode:0}))}logRequest(e,t,s="",a=0){this._logRequest(e,t,s,a).catch((()=>{}))}_logRequest(e,t,s,r=0){const o={isOnline:this.isOnline(),...this.loggerParams,...t},c=s||this.loggerName,d=a.Z.feature(c,o);return e.then((e=>{if(!e)throw new n.Z("BaseClient.EmptyResponse");if(d.logSuccessAndLatency(),(t=e)&&t.error instanceof Error&&(e.error.message===l.gv||e.error.message===l.Rv||e.error.message===l.eM))throw e.error;var t})).catch((e=>{e=this.handleCommonError(e);const t=o.apiName;this.isRetryableError&&this.isRetryableError(e,r,t)||(e.data&&!1===e.data.isOnline&&(o.isOnline=!1),i.apiErrorLogger(a.Z,c,o,e))}))}handleYdodError(e){const{statusCode:t}=e;if(429===t)return this.setRequestBlocked(!0),e}handleCommonError(e){let t=null;return e=n.Z.errorify(e),this.handleAuthError&&(t=this.handleAuthError(e)),t||(t=this.handleYdodError(e)),this.handleWssidReissueError&&!t&&(t=this.handleWssidReissueError(e)),t||e}setMailboxParams(e){this.getMailboxParams=e}shouldRetry(e,t){return!(!t||408!==t.status)||(!e||"ECONNRESET"!==e.code)&&void 0}}c(d,"wssid",""),c(d,"crumb",""),c(d,"requestBlocked",!1);const E=d},97665:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(11282);const n=s.n(a)().create("norrin/base_client")},60037:(e,t,s)=>{"use strict";s.d(t,{WW:()=>n,Gf:()=>r,hR:()=>o,im:()=>i,sh:()=>l,vo:()=>c,ZI:()=>d,_v:()=>E,Ib:()=>_,LO:()=>u,$y:()=>m});var a=s(95406);const n="Boundary_721950_932302703_1435368466480",r=6e4,o=9e4,i=1e3,l=20,c="BROWSER_TO_BOOTCAMP_STRATEGY",d="BROWSER_TO_NODE_STRATEGY",E="NODE_TO_BOOTCAMP_STRATEGY",_=((0,a.gP)(["searchTenorGifs","searchGifs","getGifCategories","localStores"]),{mx:["es-MX"],ar:["es-AR"],cl:["es-CL"],co:["es-CO"],pe:["es-PE"],ve:["es-VE"],br:["pt-BR"],es:["es-ES"],it:["it-IT"],nl:["nl-NL"],dk:["da-DK"],fi:["fi-FI"],no:["nb-NO"],se:["sv-SE"],tw:["zh-TW"],hk:["zh-HK"],sg:["en-SG"],id:["en-ID"],my:["en-MY"],ph:["en-PH"],th:["th-TH"],vn:["vi-VN"],us:["en-US","es-US"],ca:["en-CA","fr-CA"],in:["en-IN"],uk:["en-GB"],ie:["en-IE"],fr:["fr-FR"],de:["de-DE"],at:["de-AT"],ch:["fr-CH","de-CH","it-CH"],au:["en-AU"],nz:["en-NZ"]}),u={AUDIO:"AUDIO",PDF:"PDF",PRESENTATION:"PRESENTATION",SPREADSHEET:"SPREADSHEET",WORD_DOCUMENT:"WORD_DOCUMENT",VIDEO:"VIDEO"},m={[u.AUDIO]:"audio",[u.PDF]:"application/pdf",[u.PRESENTATION]:["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12","application/vnd.google-apps.presentation"].join(","),[u.SPREADSHEET]:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12","application/vnd.google-apps.spreadsheet"].join(","),[u.WORD_DOCUMENT]:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.google-apps.document"].join(","),[u.VIDEO]:"video"}},73749:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(11282);const n=s.n(a)().create("norrin/bootcamp_client")},61908:(e,t,s)=>{"use strict";s.d(t,{U8:()=>i,XT:()=>l});var a=s(37422),n=s(68591);const r={[a.Tzw.YAHOO]:{ALPHA_HOST:"https://alpha-mg.mail.yahoo.com",BETA_HOST:"https://beta-mg.mail.yahoo.com",CANARY_HOST:"https://canary-mg.mail.yahoo.com",GLOBAL_HOST:"https://mail.yahoo.com",GLOBAL_NORRIN_HOST:"https://mail.yahoo.com/d",GLOBAL_NOBLE_HOST:"https://mail.yahoo.com/m/",GLOBAL_NODIN_HOST:"https://mail.yahoo.com/b/",GLOBAL_NOBLE_BASIC_HOST:"https://mail.yahoo.com/mb/",GLOBAL_DEVBOX_HOST:"https://norrin.mail.yahoo.com:3000",CREDSTORE_HOST:"https://api.credstore.yahoo.com",JWS_HOST:"apis.mail.yahoo.com",INTERNAL_JWS_HOST:(0,n.Sf)()?"internal.apis.mail.yahoo.com:4443":"internal.apis.mail.yahoo.com",IDENTITY_API_HOST:"api.login.yahoo.com",PSEARCH_HOST:(0,n.Sf)()?"https://prodfalcon-mtls.psearch.yahoo.com:4443":"https://data.mail.yahoo.com",BOOTCAMP_HOST:"https://data.mail.yahoo.com",XOBNI_MTLS:"https://xobni-marcopolo-production.mail-xobni-pachinko-k8s.omega.yahoo.com:4443",GUCE_CONSENT_HOST:"guce.yahoo.com",INTERNAL_BOOTCAMP_HOST:"https://prodfalcon.psearch.yahoo.com/",MEMBER_PROFILE_HOST:"api.memberprofile.yahoo.com/memberprofile/v1/yahoo/@me",CALENDAR_HOST:"https://calendar.yahoo.com/"},[a.Tzw.AOL]:{ALPHA_HOST:"https://alpha-mg.mail.aol.com",BETA_HOST:"https://beta-mg.mail.aol.com",CANARY_HOST:"https://canary-mg.mail.aol.com",GLOBAL_HOST:"https://mail.aol.com",GLOBAL_NORRIN_HOST:"https://mail.aol.com/d",GLOBAL_NOBLE_HOST:"https://mail.aol.com/m/",GLOBAL_NODIN_HOST:"https://mail.aol.com/b/",GLOBAL_NOBLE_BASIC_HOST:"https://mail.aol.com/mb/",CREDSTORE_HOST:"https://api.credstore.yahoo.com",JWS_HOST:"apis.mail.aol.com",INTERNAL_JWS_HOST:(0,n.Sf)()?"internal.apis.mail.aol.com:4443":"internal.apis.mail.aol.com",IDENTITY_API_HOST:"api.login.aol.com",PSEARCH_HOST:(0,n.Sf)()?"https://prodfalcon-mtls.psearch.aol.com:4443":"https://data.mail.aol.com",BOOTCAMP_HOST:"https://data.mail.aol.com",GUCE_CONSENT_HOST:"guce.aol.com",XOBNI_MTLS:"https://data.mail.aol.com",INTERNAL_BOOTCAMP_HOST:"https://prodfalcon.psearch.aol.com/",MEMBER_PROFILE_HOST:"api.memberprofile.yahoo.com/memberprofile/v1/aol/@me",CALENDAR_HOST:"https://dev.calendar.aol.com/"}},o={[a.Tzw.YAHOO]:{NORRIN_APP_ID:"YMailNorrin",NORRIN_LAUNCH_APP_ID:"YMailNorrinLaunch",NOBLE_APP_ID:"YMailNoble",BASIC_MAIL_APP_ID:"YMailNodin",BASIC_MOBILE_APP_ID:"YMailMini"},[a.Tzw.AOL]:{NORRIN_APP_ID:"AolMailNorrin",NORRIN_LAUNCH_APP_ID:"AolMailNorrinLaunch",NOBLE_APP_ID:"AolMailNoble",BASIC_MAIL_APP_ID:"AolMailNodin",BASIC_MOBILE_APP_ID:"AolMailMini"}},i=e=>r[e]||r[a.Tzw.YAHOO],l=e=>o[e]||o[a.Tzw.YAHOO]},71887:(e,t,s)=>{"use strict";s.d(t,{k:()=>a});const a=100},98109:(e,t,s)=>{"use strict";s.d(t,{aB:()=>a,kl:()=>n,py:()=>r,Vr:()=>o,dW:()=>i,LX:()=>l,$I:()=>c,a_:()=>d,vY:()=>E,Pu:()=>_,H6:()=>u,PM:()=>m,iw:()=>S,Sp:()=>p,Em:()=>C,Fq:()=>A,YA:()=>T,vG:()=>h,lC:()=>g,X5:()=>I,Mj:()=>R,wV:()=>O,df:()=>D,CW:()=>N,XH:()=>f});const a={HtmlPrimary:"HTML_PRIMARY",VideoPreview:"VIDEO_PREVIEW",VideoPrimary:"VIDEO_PRIMARY",NativeAdType:"NativeAdType",VideoAdType:"VideoAdType",PencilAdType:"PencilAdType",SearchAdType:"SearchAdType",PortraitAdType:"PortraitAdType",VideoPortraitAdType:"VideoPortraitAdType",PortraitCarouselAdType:"PortraitCarouselAdType",FlashSaleAdType:"FlashSaleAdType",ShoppingCartAdType:"ShoppingCartAdType",ImagePortrait:"IMAGE_PORTRAIT",ImagePortraitWithBG:"IMAGE_PORTRAIT_BG",CarouselImage:"MULTI_IMAGE",VideoPortrait:"VIDEO_PORTRAIT"},n="https://n.gemini.yahoo.com:4443",r="/var/run/athenz/service.key.pem",o="/var/run/athenz/service.cert.pem",i="/ssi",l=3e3,c=5443516,d=5582415,E=5600859,_=5600859,u=5690923,m=5559660,S="secOrigImagePortrait",p="secHqImage",C="secLargeImage",A=5545469,T=5554834,h=5545468,g=5545467,I=5602797,R=5682471,O="ADEXTENSIONTYPE_CALL",D=[5600747,5682471],N={bucket:"bk",apiVersion:"ve",size:"sz",sectionId:"se",creativeCode:"cc",contentType:"ct",adCount:"tk",propertyName:"ui",siteLanguage:"sl",countryCode:"co",requestId:"ri",publisherInfo:"pb",contentInHttps:"hs",forceFilter:"ff",format:"format",nonRevenue:"nr",adCategories:"ac",referer:"pu",domain:"dm",categories:"ic"},f={5564699:18,5564699:5,[R]:6}},6097:(e,t,s)=>{"use strict";s.d(t,{W:()=>M,Z:()=>P});var a=s(12476),n=s.n(a),r=s(80569),o=s.n(r),i=s(96943),l=s(95406),c=s(17016),d=s(8106);const E="superagent_retry",_=(0,l.gP)(["RETRIED","SUCCESS","FAIL"]);var u=s(42655),m=s(34443);const S=/<!-- status code : (\d{3}) -->\n<!-- ([\s\S]*?) -->\n<!-- host machine: ([\s\S]*?) -->/,p={400:"BAD_REQUEST",404:"NOT_FOUND",408:"ETIMEDOUT",413:"PAYLOAD_TOO_LARGE",500:"INTERNAL_SERVER_ERROR",502:"BAD_GATEWAY",503:"SERVICE_UNAVAILABLE",504:"GATEWAY_TIMEOUT",522:"CONNECTION_TIMEOUT"};function C(e){if(e&&200!==e.status){const{text:t="",status:s,body:a,header:n}=e;let r="NOT_OK_STATUS";s>=400&&(S.test(t)?r="YCPI":function(e){return!!p[e]}(s)&&(r=p[s]));const o={responseText:t,body:a,errorCode:r,statusCode:s,headers:n};return new u.Z("HttpTransport.NotOkStatusCode","",o)}}function A(e,t,s){let a;return a||(a=function(e){if(e&&e.crossDomain){const{message:t,status:s}=e,a=!(0,d.jU)()||navigator.onLine;return new u.Z("HttpTransport.OutboundError",t,{errorCode:"OUTBOUND",statusCode:s,isOnline:a})}}(e)),a||(a=function(e){if(e&&"ENOTFOUND"===e.code)return new u.Z("HttpTransport.ServerNotFound",e.message,{errorCode:e.code,errno:e.errno})}(e)),a||(a=function(e){if(e&&"ECONNREFUSED"===e.code)return new u.Z("HttpTransport.ConnectionRefused",e.message,{errorCode:e.code,errno:e.errno})}(e)),a||(a=function(e){if(e&&"ECONNRESET"===e.code)return new u.Z("HttpTransport.ConnectionReset",e.message,{errorCode:e.code,errno:e.errno})}(e)),a||(a=function(e){if(e&&"ECONNABORTED"===e.code)return new u.Z("HttpTransport.ConnectionTimedOut",e.message,{errorCode:e.code,errno:e.errno})}(e)),a||(a=function(e){if(e&&(e.parse||"SyntaxError"===e.name))return new u.Z("HttpTransport.ParseError",e.message,{statusCode:e.statusCode,errorCode:"SyntaxError"===e.name?"SyntaxError":"ParseError",responseText:e.rawResponse})}(e)),a||(a=function(e){const t=e&&e.status;if(e&&403===t){let a;const n=e.type||"";try{a="text/html"===n&&e.text?JSON.parse(e.text)||{}:e.body||{}}catch(s){a={}}if((a.name||"")===m.di)return new u.Z(m.di,"",{data:a.data||"",errorCode:"CRUMB",statusCode:t})}}(t)),a||(a=C(t)),a||(a=function(e,t){const s=t&&t.get("Accept")||"",a=e&&e.type||"";if(s&&a&&a.toLowerCase().indexOf(s.toLowerCase())<0)return new u.Z("HttpTransport.ContentTypeError",`request:${s}-response:${a}`,{errorCode:"CONTENT_TYPE_MISSMATCH",statusCode:e?e.status:0,html:e?e.text:"",headers:e?e.header:{}})}(t,s)),a||(a=function(e,t){if(e||!t)return new u.Z("GenericError",e&&`${e.name}: ${e.message}`||"")}(e,t)),a}var T=s(37422);const h=[T.f2m.GET,T.f2m.HEAD],g=3e4;function I(e){if(!function(e){return!!T.f2m[e]}(e=e.toUpperCase()))throw new TypeError(`Expected ${e} to be one of HttpMethods`);return e}class R extends class{send(e){return new Promise(((t,s)=>{const a=this._getRequest(e);a.end(((e,n)=>{const r=A(e,n,a);if(r)return s(r);t(this._mapResponse(n))}))}))}_includeFormDataPlugin(e){return!(0,d.jU)()&&e!==T.f2m.GET&&e!==T.f2m.HEAD}_getRequest({method:e,url:t,body:s,withCredentials:a,headers:n,fields:r,attachments:l,parser:u,timeout:m=g,httpRetry:S=0,shouldRetry:p=(()=>!1),apiName:C="",tls:A={},uploadProgressCallback:T}){const h=I(e),R=o()[this._getSuperagentMethodName(h)](t);return this._includeFormDataPlugin(h)&&R.use((()=>{})),this._setBody(R,h,s),a&&R.withCredentials(),this._setHeaders(R,n),this._setFields(R,r),this._setAttachments(R,l),this._setParser(R,u),this._setRetry(R,S,p),this._setUploadProgressCallback(R,T),this._setTLS(R,A),m&&R.timeout(m),C&&R.use(function(e){return function(t){return t._originalEnd=t._end,t._originalShouldRetry=t._shouldRetry,t._end=()=>{const e=t._retries;return e>0&&(t.url=(0,d.Y0)(t.url,{retries:e})),t._originalEnd()},t._shouldRetry=(s,a)=>{const n=t._originalShouldRetry(s,a),r=t._retries,o=a&&a.status||"N/A",l=(0,c.getQueryParamByName)(t.url,"ymreqid")||"";let d=s&&s.code||(200!==o?"NOT_OK_STATUS":"N/A");if(s&&s.crossDomain&&(d="OUTBOUND"),1===r&&n&&(i.Z.error(E,{apiName:e,ymreqid:l,errorCode:d,statusCode:o,state:_.RETRIED}),t.retryErrorCode=d,t.retryStatusCode=o),2===r){const{retryErrorCode:a="",retryStatusCode:n=""}=t;s||200!==o?i.Z.error(E,{apiName:e,ymreqid:l,errorCode:d,statusCode:o,retryErrorCode:a,retryStatusCode:n,state:_.FAIL}):i.Z.error(E,{apiName:e,ymreqid:l,retryErrorCode:a,retryStatusCode:n,state:_.SUCCESS})}return n},t}}(C)),R}_getSuperagentMethodName(e){switch(e){case T.f2m.GET:return"get";case T.f2m.DELETE:return"del";case T.f2m.HEAD:return"head";case T.f2m.PATCH:return"patch";case T.f2m.POST:return"post";case T.f2m.PUT:return"put"}}_mapResponse(e){return{body:e.body,text:e.text,status:e.status,headers:e.header}}_setBody(e,t,s){~h.indexOf(t)?e.query(s||{}):e.send(s)}_setHeaders(e,t){t&&Object.keys(t).forEach((s=>{e.unset(s),e.set(s,t[s])}))}_setFields(e,t){t&&Object.keys(t).forEach((s=>{e.field(s,t[s])}))}_setAttachments(e,t){t&&Object.keys(t).forEach((s=>{var a;const n=`=?UTF-8?b?${a=t[s].name,btoa(unescape(encodeURIComponent(a)))}?=`;e.attach(s,t[s],n)}))}_setParser(e,t){t&&e.parse(((e,s)=>{e.text="",e.on("data",(t=>{e.text+=t})),e.on("end",(()=>{t(e.text,s)}))}))}_setRetry(e,t,s){e.retry(t,s)}_setUploadProgressCallback(e,t){t&&e.on("progress",t)}_setTLS(e,t){t.key&&e.key(t.key),t.cert&&e.cert(t.cert),t.ca&&e.ca(t.ca)}}{createStream(e){const t=this._getRequest(e),s=n()();let a=!1;if("undefined"!=typeof window&&window.AppBootstrapData){const{browserName:e,browserVersion:t}=window.AppBootstrapData;a="Edge"===e&&15===parseInt(t,10)}return t.on("progress",(e=>{a||(e.currentTarget||(a=!0),s.emit("data",e.currentTarget?e.currentTarget.responseText:""))})),t.end(((e,n)=>{const r=A(e,n,t);r?setImmediate((()=>{s.emit("error",r)})):setImmediate((()=>{a&&s.emit("data",n.text),s.emit("end")}))})),s}}var O=s(63352),D=s(17337),N=s.n(D);function f(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const M=T.f2m,L=new(N());const P=class{constructor(e,t,s={}){f(this,"adapter",new R),f(this,"withCredentials",!1);const{uploadProgressCallback:a,timeout:n=g,httpRetry:r=0,shouldRetry:o=(()=>!1),apiName:i="",tls:l={}}=s;this._method=e.toUpperCase(),(0,O.Z)(this._method in T.f2m,`Invalid HTTP method. Valid options are: ${Object.keys(T.f2m)}`),this._timeout=n,this._url=t,this._headers={},this._fields={},this._attachments={},this._httpRetry=r,this._shouldRetry=o,this._apiName=i,this._uploadProgressCallback=a,this._tls=l}setHeader(e,t){return this._headers[e]=t,this}setCookieHeader(e){(0,O.Z)("string"==typeof e&&e.length>0,"Cookie should not be empty"),this.setHeader("Cookie",e)}setField(e,t){return this._fields[e]=t,this}setAttachment(e,t){return this._attachments[e]=t,this}setParser(e){return this._parser=e,this}setRetry(e){return this._httpRetry=e,this}send(e){e&&(this._body=e);const t={withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout,httpRetry:this._httpRetry,shouldRetry:this._shouldRetry,apiName:this._apiName,uploadProgressCallback:this._uploadProgressCallback,tls:this._tls},s=this.adapter.send(t);return s.then((()=>{L.emit("success")}),(e=>{e.url=this._url,L.emit("error",e)})),s}createStream(e){e&&(this._body=e);const t={withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,tls:this._tls,timeout:this._timeout},s=this.adapter.createStream(t);return s.on("error",(e=>L.emit("error",e))),s}static on(e,t){L.on(e,t)}static off(e,t){L.off(e,t)}static emit(e,t){L.emit(e,t)}}},99839:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(11282);const n=s.n(a)().create("norrin/info")},63352:(e,t,s)=>{"use strict";function a(e,t,s={}){if(!e){const e=new Error(t);e.name="Invariant";throw!s||0===Object.keys(s).length||(e.data=s),e}return e}s.d(t,{Z:()=>a})},38829:(e,t,s)=>{"use strict";s.d(t,{LQ:()=>n,aU:()=>r,_o:()=>o});const a=(0,s(99095).defineMessages)({general:{id:"shortcut_group.general",defaultMessage:"General"},selection:{id:"shortcut_group.selection",defaultMessage:"Checking/Unchecking"},action:{id:"shortcut_group.actions",defaultMessage:"Actions"},attachmentPreview:{id:"shortcut_group.attachmentPreview",defaultMessage:"Attachment Preview"}}),n={priority:0,id:"general",description:a.general},r=(a.selection,{priority:2,id:"action",description:a.action}),o={priority:3,id:"attachmentPreview",description:a.attachmentPreview}},8881:(e,t,s)=>{"use strict";s.d(t,{ng:()=>r,$S:()=>o,vL:()=>i,tq:()=>l});var a=s(67294),n=s(99095);const r=",",o="+",i={reply:{key:"R",description:a.createElement("strong",null,a.createElement(n.FormattedMessage,{id:"shortcut.reply",defaultMessage:"Reply"}))},replyAll:{key:"A",description:a.createElement("strong",null,a.createElement(n.FormattedMessage,{id:"shortcut.reply_all",defaultMessage:"Reply All"}))},forward:{key:"F",description:a.createElement("strong",null,a.createElement(n.FormattedMessage,{id:"shortcut.forward",defaultMessage:"Forward"}))},print:{key:"P",description:a.createElement("strong",null,a.createElement(n.FormattedMessage,{id:"shortcut.print",defaultMessage:"Print"}))}},l=["r","a","f","p"]},46046:(e,t,s)=>{"use strict";s.d(t,{m:()=>d,t:()=>E});var a=s(67294),n=s(99095),r=s(8881),o=s(63352);const i={};let l=0;function c(e,t,s){const o={};if(Object.keys(s).forEach((e=>{o[e]=++l})),!0===e)return o;const c=t.id;let d=i[c];return d||(i[t.id]=d={group:t,keys:[]}),Object.keys(s).forEach((e=>{const{key:t,description:i}=s[e],l=function(e,t){for(let s=0;s<e.length;s++){const r=e[s],o=r.description;if(o===t)return r;if(!(a.isValidElement(o)&&o.type!==n.FormattedMessage||a.isValidElement(t)&&t.type!==n.FormattedMessage)&&(a.isValidElement(o)?o.props.id:o.id)===(a.isValidElement(t)?t.props.id:t.id))return r}}(d.keys,i);if(l)l.key.indexOf(t)<0&&(l.key+=r.ng+t);else{const s={id:o[e],key:t,description:i};-1===d.keys.indexOf(s)&&d.keys.push(s)}})),o}function d({invisible:e,group:t,keys:s}){!function(e,t,s){(0,o.Z)(e||"object"==typeof t&&"string"==typeof t.description.id,`The 'group' has to be an object returned by React Intl's defineMessages. Currently we got ${t}`),Object.keys(s).forEach((t=>{const n=s[t];(0,o.Z)(e||a.isValidElement(n.description)||"object"==typeof n.description&&"string"==typeof n.description.id,`The 'message' has to be an object returned by React Intl's defineMessages\n            or has to be an instance of a React element (FormattedMessage). Currently, the key is ${t}`)}))}(e,t,s);return function(e,t){const s={};return Object.keys(e).forEach((a=>{const{key:n}=e[a],r=t[a];s[a]=e=>({id:r,key:n,callback:e})})),s}(s,c(e,t,s))}function E(){return i}},39713:(e,t,s)=>{"use strict";s.d(t,{LX:()=>n,Uk:()=>r,Cn:()=>o});var a=s(37422);const n=3e4,r=`${a.JKT}/location_autosuggest_api/getLocationAutoSuggestion`,o=858204},96943:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(11282);const n=s.n(a)().create("norrin/app")},60039:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(37422),n=s(4119),r=s(95406),o=s(63352),i=s(9026);const l=(0,r.gP)((0,r.VO)(a.CbW)),c={getBlockPayload:(e,t)=>{(0,o.Z)(l.hasOwnProperty(t.attributeId),`Unknown mailbox attribute: ${t.attributeId}`);return{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/attributes/@.id==${t.attributeId}`,method:"GET"}},transformResponse:(e,t)=>{const{id:s,value:o}=e.response.result,l={};if(Object.keys(a.jUj).some((e=>a.CbW[e]===s))?l[s]={value:o[s],testAndSet:o.testAndSet}:l[s]=o,s===a.CbW.LEGAL_JURISDICTION&&(l[s]={value:{country:l[s].value||"",tags:l[s].tags||[]}}),s===a.CbW.CONSENT_EVENTS){const e=[];Object.keys(l[s]).forEach((t=>{"optedIn"===(0,r.u9)(l[s],`${t}.status`,"")&&e.push(t)})),l[s]={value:e}}if(s===a.CbW.CP_SUBSCRIPTIONS){var c;const e=(null===(c=l[s])||void 0===c?void 0:c.subscriptions)||void 0;l[s]={value:e}}return s===a.CbW.COMPOSE_FONT_SIZE&&"16"===l[s].value&&(l[s].value=n.k5[16]),s===a.CbW.COMPOSE_FONT_FAMILY&&"Helvetica Neue"===l[s].value&&(l[s].value=a.H4h.FAMILY),s===a.CbW.THEME&&"purple"===l[s].value&&(l[s].value=(null==t?void 0:t.userNamespace)===a.Tzw.AOL?i.b3.AOL:i.b3.DEFAULT),s===a.CbW.THEME_MODE&&"light"===l[s].value&&(l[s].value=i.zg.LIGHT),l}}},590:(e,t,s)=>{"use strict";s.d(t,{Z:()=>W});var a=s(17901),n=s(51917),r=s(95406),o=s(8106),i=s(63352),l=s(54418),c=s(6097),d=s(42655),E=s(34443);function _(e,t){let s=null;return s||(s=function(e,t){if(0===t.indexOf("launch.")){const{message:s,statusCode:a,errorCode:n,extraStatusCode:r="",extraErrorCode:o=""}=e;let i=15;return 429===a&&(i=19),new d.Z(E.BM,s,{apiName:t,code:i,errorCode:n,statusCode:a,extraErrorCode:o,extraStatusCode:r,...e.data})}return null}(e,t)),s||e}var u=s(79137),m=s(37422),S=s(17673),p=s(97665),C=s(17016),A=s(55831),T=s(62631),h=s(88913);const g=["EC-4001","EC-4002","EC-4004","EC-4020"],I=[{errorCode:"EC-4007",methodName:"messages.UnifiedUpdate"}];class R{constructor({endpoints:e}){(0,i.Z)(e,"endpoints is missing in BatchRequest"),(0,i.Z)(e.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.endpoints=e}request(e,t,s,a,n){if(!n[e])throw new Error(`Invalid method '${e}'.\n                List of available methods: ${JSON.stringify(Object.keys(n))}`);const r=n[e];if(s&&!s.timeout&&this._isGSBMethod(e)&&(s.timeout=6e4),!r.getBatchPayload)throw new TypeError("Method "+e+" does not implement the required function `getBatchPayload`");const o=r.getBatchPayload(t,s);if(null==o||0===Object.keys(o).length||0===o.requests.length)return Promise.reject(new d.Z("MailApiClient.EmptyRequestPayload",Object.assign({methodName:e,ymreqid:s.ymreqid,errorCode:"EMPTY_REQUEST"},t)));const i=Object.assign({},o,{responseType:"json"});s.hash=(0,C.getHash)(i,s.wssid,s.retryCount,this._getHeaders(s,r,t));const l=this._getEndpoint(e,s),{apiDebounceManager:c}=s;return c.get(e).execute({execute:()=>this._request(e,l,i,s,a,r,t),hash:s.hash,log:({duration:t,counter:a,active:n})=>{p.Z.error("mail_api_client_debounced",{apiName:e,hash:s.hash||"",ymreqid:s.ymreqid||"",appId:s.appId||"",useHostname:s.useHostname||!1,duration:t,counter:a,active:n})}})}_getHeaders(e,t,s){return Object.assign({},this._getCustomHeaders(t,s),e.headers)}_request(e,t,s,a,n,o,i){const l=this._getHeaders(a,o,i),{appId:c="",ymreqid:d="",debugRequestPayload:m=!1}=a;return this._sendRequest(e,t,s,a,n,l).then((l=>{let _,m;const S=(0,r.u9)(l,"body.result.responses",[]);if(!S.length){const e=(0,r.u9)(l,"text","Not Available"),t=(0,r.u9)(l,"headers","Not Available"),s=Object.assign(e?{}:{headers:t},{responseText:e});_=new u.Z(E.PM,{},!0,s)}else m=this._generateSuccessAndFailureResponses(S),_=this._getError(o,m,i,e);if(_){const{retryCount:r=0}=a,{statusCode:l,errorCode:u,extraStatusCode:m,extraErrorCode:S,isRetryable:C=!1}=_;if(a.isComposite&&C&&r<1)return a.retryCount=r+1,this._request(e,t,s,a,n,o,i);if(_.message!==E.Zh)throw _;p.Z.error("mail_api_unhandled_error",{apiName:e,appId:c,ymreqid:d,statusCode:l,errorCode:u,extraStatusCode:m,extraErrorCode:S})}return o.transformResponses(m,{...a,...i},s)})).catch((t=>{const{errorCode:a="",name:n=""}=t;if(m&&(g.indexOf(a)>-1||I.find((t=>t.errorCode===a&&t.methodName===e))||"TypeError"===n)){let t;try{t=JSON.stringify(s)}catch(r){t=r.message}p.Z.error("debug_request_payload",{apiName:e,appId:c,ymreqid:d,errorCode:a,requestPayload:t})}throw t=_(t,e)||t}))}_generateSuccessAndFailureResponses(e){const t={successMap:{},failureMap:{}};return e.forEach((e=>{e.httpCode<400?t.successMap[e.id]=e:t.failureMap[e.id]=e})),t}_getError(e,t,s,a){const{successMap:n,failureMap:o}=t,i=Object.keys(o).length,{externalAndPhoneRegTrapPage:l}=s;if(-1!==a.indexOf("launch.")&&n.GetMailboxes){const e=(0,r.u9)(n.GetMailboxes,"response.result.mailboxes",[]);if(e.length>1){const t={GetMailboxes:{id:"GetMailboxes",response:e}};return new u.Z(E.mm,t,!1)}}if(l&&n.GetAccounts){const e=(0,r.u9)(n.GetAccounts,"response.result.accounts",[]),t=e.find((e=>e.isPrimary&&(e.type===m.tO8.EXTERNAL||e.type===m.tO8.PHONE)));if(t&&l){if(!e.find((e=>{const{status:t}=e;return(0,T.Cs)(e)&&(t===m.dpb.ENABLED||t===m.dpb.PENDING)})))return new d.Z(E.gM,{accountType:t.type},!1)}}if(e.getBatchError){const n=e.getBatchError(t,s);return"mailbox.syncNow"===a?n:!n&&i?new u.Z(E.Zh,o):n}return i?new u.Z(E.dO,o):null}_getCustomHeaders(e,t){let s=null;return e.getHeaders&&(s=e.getHeaders(t)),s}_setCustomHeaders(e,t){t&&Object.keys(t).forEach((s=>{e.setHeader(s,t[s])}))}_isGSBMethod(e){return/^messages\.[a-z]+(Bodies|BodiesFull)$/i.test(e)}_sendRequest(e,t,s,a,n,r){const{timeout:o,httpRetry:i,shouldRetry:l,uploadProgressCallback:c}=a,d=a.tls?a.tls:{},E=new R.Transport("post",t,{timeout:o,httpRetry:i,shouldRetry:l,apiName:e,uploadProgressCallback:c,tls:d});return a.cookie&&E.setCookieHeader(a.cookie),a.jwtTokenHeader&&E.setHeader("Athenz-Authorization",a.jwtTokenHeader),E.setHeader("Accept","application/json"),this._setCustomHeaders(E,r),E.setField("batchJson",JSON.stringify(s)),n&&n.forEach((e=>{E.setAttachment(encodeURIComponent(e.name),e)})),E.send()}_getEndpoint(e,t){const{appId:s="",wssid:a="",ymreqid:n="",useHostname:r=!1,hash:o="",retryCount:l=0}=t,c=(0,h.Eo)()||(0,h.nM)()?this.endpoints.JWS_HOST:this.endpoints.INTERNAL_JWS_HOST,d=(0,A.ow)(c),E=r?`${d}://${c}`:"";(0,i.Z)(a,"wssid is required for making request to JEDI"),(0,i.Z)(n,"ymreqid is required for making request to JEDI");const _=Object.assign({name:e,hash:o,appId:s,ymreqid:n,wssid:a},l>0?{retryCount:l}:{});return E+"/ws/v3/batch?"+S.stringify(_)}}var O,D,N;O=R,D="Transport",N=c.Z,D in O?Object.defineProperty(O,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):O[D]=N;const f=R,M=m.JKT+"/mail_api/",L=(e,t,s,a,n,r)=>{const o=new c.Z("post",M+e+"?crumb="+a+"&ymreqid="+s+"&wssid="+n,{httpRetry:r});return o.setHeader("Accept","application/json"),o.send({params:t,ymreqid:s}).then((e=>e.body))};var P=s(42907);var y=s(44908),b=s.n(y),F=s(18446),U=s.n(F);const v={[m.CbW.DELIVERY_BLOCKED_SENDERS]:"senders",[m.CbW.SCOUT_ONBOARDING]:"value",[m.CbW.NODIN_ONBOARD]:"value"};var w=s(60039);const G=(e,t,s={},a,n,o)=>`${(0,A.ow)(e)}://${e}/ws/v3/mailboxes/@.id==${t}/attributes/@.select==q?q=${(0,r.VO)(s).map((e=>encodeURIComponent(`attrid:${e}`))).join("+")}&appid=${a}&wssid=${n}&ymreqid=${o}`,k=e=>{const{attributes:t=[]}=e;return t.reduce(((e,t)=>{const s=function(e){return{response:{result:e}}}(t),a=w.Z.transformResponse(s);return Object.assign(e,a)}),{})};class H extends f{request(e,{mailboxId:t,filter:s,count:a,offset:n,sortOrder:r=m.Asd.CARD_DATE_DESC,accountId:o},i,l,c){return super.request("refundCards.getList",{mailboxId:t,filter:s,count:a,offset:n,sortOrder:r,accountId:o},i,l,c).then((e=>{const s=[],a=[];return e.cardGroupList.forEach((e=>{e.messages.forEach((e=>{-1===a.indexOf(e.cardConversationId)&&a.push(e.cardConversationId)}))})),a.length>0?(i.ymreqid=i.ymreqidGenerator.generate(),s.push(super.request("messages.getExtractions",{mailboxId:t,cardConversationIds:a},i,l,c))):s.push(Promise.resolve({result:{extractedMessagesList:[]}})),Promise.all(s).then((([t])=>{const s=t.result.extractedMessagesList.filter((e=>e&&e.decos&&e.decos.some((e=>e&&e.id&&e.id===m.Jd6.EML)))),a=s.map((e=>e.cardConversationId)),n=e.cardGroupList.filter((e=>e.messages.every((e=>-1!==a.indexOf(e.cardConversationId))))),r=s.reduce(((e,t)=>({...e,[t.id]:{...t}})),{});return{messageGroupsResponses:{cardGroupList:n,hasMoreItems:e.hasMoreItems,offset:e.offset},parentMessagesMap:r}}))}))}}var B=s(97324),x=s(61908);class V extends a.Z{constructor({appName:e=m.BQZ.MAIL_APP,appId:t=m.JfS,userNamespace:s=m.Tzw.YAHOO,guidHash:a,wssid:r,crumb:c,cookie:d,loggerParams:E,httpRetry:_,requestQueue:u,isOnline:S,throttleAPIList:p,batchMethods:C,headers:T={},jwsYHeaders:h={},endpoints:g={},executeRequestsSequentially:I=(0,o.jU)(),config:R={},buckets:O},D){if(super({loggerName:m.BrN.MailAPIClient,loggerParams:(0,o.jU)()?{}:E,crumb:c,wssid:r,isOnline:S,endpoints:g}),"string"==typeof D&&!V.STRATEGIES[D])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(V.STRATEGIES)));(0,i.Z)(g.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.batchMethods=C,this.appName=e,this.appId=t,this.userNamespace=s,this.cookie=d,this.headers=Object.assign({},T,h),this.httpRetry=_,this.strategy=D||this._getDefaultStrategy(),this._validateStrategy(this.strategy),this.buckets=O,I&&((0,i.Z)(u,"if you are executing requests sequentially, you must pass a request queue."),this.executeRequestsSequentially=!0,this.requestQueue=u),a&&(this.ymreqidGenerator=new n.Z(a,m.N7x,m.Q_q)),this.apiDebounceManager=new A.E8(p||{}),this.debugRequestPayload=(0,l._)(R,"debugRequestPayload")}static getBatchRequest(e,t){return new(V.BATCH_REQUESTS[e]||V.BATCH_REQUESTS.Batch)({endpoints:t})}_getDefaultStrategy(){return(0,o.jU)()?V.STRATEGIES.BROWSER_TO_JEDI:V.STRATEGIES.NODE_TO_JEDI}_validateStrategy(e){if((0,o.jU)()&&e===V.STRATEGIES.NODE_TO_JEDI)throw new Error(V.STRATEGIES.NODE_TO_JEDI+" strategy can not be used in the browser");if(!(0,o.jU)()&&[V.STRATEGIES.BROWSER_TO_NODE_TO_JEDI,V.STRATEGIES.BROWSER_TO_JEDI].indexOf(e)>-1)throw new Error(V.STRATEGIES.BROWSER_TO_NODE_TO_JEDI+" or "+V.STRATEGIES.BROWSER_TO_JEDI+" strategies can not be used on the server")}_getRequest(e,t,s,a){if(s.useHostname=s.strategy===V.STRATEGIES.NODE_TO_JEDI,s.strategy===V.STRATEGIES.BROWSER_TO_NODE_TO_JEDI)return(0,i.Z)(!a,"We cannot proxy a request with files."),L.bind(null,e,t,s.ymreqid,this.crumb,this.wssid,s.httpRetry);const n=V.getBatchRequest(e,this.endpoints);return n.request.bind(n,e,t,s,a,this.batchMethods)}request(e="",t={},s={},a){if(!s.ymreqid&&!this.ymreqidGenerator)throw new Error("`ymreqid` is missing. You should either specify `ymreqid` in `requestConfig` object when making a request or initialize MailAPIClient with `guidHash`, so that it can generate a new one");const n=this.strategy===V.STRATEGIES.NODE_TO_JEDI&&s.ymreqid?s.ymreqid:this.ymreqidGenerator.generate(),{retryCount:r=0,retryErrorCode:i="",retryStatusCode:l="",retryYmreqid:c="",uploadProgressCallback:d}=s,E={useHostname:null,ymreqid:n,cookie:this.cookie,retryCount:r};s.crumb&&(this.crumb=s.crumb),s.wssid&&(this.wssid=s.wssid);const _=(0,x.XT)(this.userNamespace);this.appId!==_.NORRIN_APP_ID||(0,o.jU)()||s.appId||(s.appId=_.NORRIN_LAUNCH_APP_ID),E.appName=s.appName||this.appName,E.appId=s.appId||this.appId,E.userNamespace=this.userNamespace,E.ymreqid=n,E.wssid=s.wssid||this.wssid,E.strategy=s.strategy||this.strategy,E.noRetry=s.noRetry,E.timeout=s.timeout,E.headers=s.headers||this.headers,E.uploadProgressCallback=d,E.httpRetry=this.httpRetry,E.shouldRetry=this.shouldRetry,E.loggerParams=this.loggerParams,E.apiDebounceManager=this.apiDebounceManager,E.debugRequestPayload=this.debugRequestPayload,E.tls=void E.appId,E.jwtTokenHeader=void E.appId,E.ymreqidGenerator=this.ymreqidGenerator,this._validateStrategy(E.strategy);const u=this.getMailboxParams(),m=Array.isArray(t)?t.map((e=>({...e,...u}))):{...t,...this.getMailboxParams()},S=this._getRequest(e,m,E,a),p={apiName:e,ymreqid:n,retryCount:r};let C;return t.prefetchMode&&(p.prefetchMode=t.prefetchMode),"document.fetch"===e&&(p.documentId=t.documentId||"",p.mimeType=t.mimeType||"",p.size=t.size||"",p.ext=t.extension||"",p.page=`${t.startPage}-${t.endPage}`,p.pageRetryCount=t.retryCount,p.isFirstReq=0===t.retryCount&&1===t.startPage),t.batchRelatedCards&&(p.batchRelatedCards=!0),1===r&&Object.assign(p,{retryErrorCode:i,retryStatusCode:l,retryYmreqid:c}),C=this.isRequestBlocked("checkMail"!==e)?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(S,e):S(),this.logRequest(C,p,null,r),C.then((e=>(this.setRequestBlocked(!1),e)),(o=>{if(o=this.handleCommonError(o),this.isRetryableError(o,r,e)){const{errorCode:l="",statusCode:c=""}=o,d=Object.assign({},s,{retryCount:r+1,retryYmreqid:n||"",retryErrorCode:l,retryStatusCode:c});return-1!==l.indexOf("DOC-814")?(i=2e3,new Promise((e=>setTimeout(e,i)))).then((()=>this.request(e,t,d,a))):this.request(e,t,d,a)}var i;throw o}))}handleAuthError(e){const{statusCode:t}=e;if(401===t){const s=(0,r.u9)(e,"data.body.error.code","");return new d.Z(E.tO,{statusCode:t,errorCode:s,body:e.getDataByName("body",""),refresh:!0})}return null}handleWssidReissueError(e){const{statusCode:t}=e;let{errorCode:s}=e;if(400===t&&(s=s||(0,r.u9)(e,"data.body.error.code",""),"EC-4003"===s)){const a=(0,r.u9)(e,"data.body.error.details.wssid","");if(a)return this.wssid=a,new d.Z(E.bD,{statusCode:t,errorCode:s,wssid:a})}return null}isRetryableError(e,t,s){if((this.appName===m.BQZ.BASIC_MAIL_APP||this.appName===m.BQZ.BASIC_MOBILE_APP)&&-1===Object.keys(B.ih).indexOf(s))return!1;if(t<1){const{isRetryable:t=!1,name:s="",errorCode:a="",statusCode:n=0}=e;if(s===E.bD)return!0;if("HttpTransport.NotOkStatusCode"===s&&(n>=500&&501!==n||408===n))return!0;if(["ECONNABORTED","OUTBOUND"].indexOf(a)>-1)return!0;if(t)return!0}return!1}shouldRetry(e,t){if(t&&t.status&&(t.status>=500||408===t.status))return!1;if(e){if(e.timeout&&"ECONNABORTED"===e.code)return!1;if(e.crossDomain)return!1}return super.shouldRetry(e,t)}}V.STRATEGIES=(0,r.gP)(["NODE_TO_JEDI","BROWSER_TO_NODE_TO_JEDI","BROWSER_TO_JEDI"]),V.BATCH_REQUESTS={Batch:f,checkMail:class extends f{request(e,{accountId:t,mailboxId:s,folderId:a,sortOrder:n,filter:r,count:o,offset:i,conversationsMode:l,highestModSeq:c,resetUnseenCount:d,alertStoreHighestModSeq:E,excludeFolderTypes:_,shouldSelectAll:u},S={},p,C){return S.isComposite=!0,super.request("mailbox.sync",{mailboxId:s},S,p,C).then((e=>{const A=(0,P.YY)(e.folders),T=A[a],h=!(T&&void 0!==c&&T.highestModSeq===c),g=[],I=Object.keys(A).find((e=>-1!==A[e].types.indexOf(m.Sck.ALERTSTORE))),R=(A[I]||"").highestModSeq,O=!(!E||!R||E===R);return h||O?(h?(S.ymreqid=S.ymreqidGenerator.generate(),g.push(super.request("messageGroups.getList",{mailboxId:s,folderId:a,sortOrder:n,filter:r,count:o,offset:i,conversationsMode:l,excludeFolderTypes:_,shouldSelectAll:u},S,p,C))):g.push(Promise.resolve()),O?g.push(super.request("account.getAlerts",{mailboxId:s},S,p,C)):g.push(Promise.resolve([])),d&&g.push(super.request("unseenCount.reset",{mailboxId:s,accountId:t},S,p,C)),Promise.all(g).then((([t,s])=>({...e,...t,accountAlerts:s})))):e}))}},saveArrayAttributes:class extends f{request(e,{mailboxId:t,attribute:s,items:a,overWrite:n=!1,dedupFn:o=null},i={},l,c){i.isComposite=!0;const d=e=>super.request("settings.saveWebMailboxAttributes",{mailboxId:t,attributes:[{id:s,value:e}]},i,l,c);return Array.isArray(a)?(0,r.VO)(m.CbW).indexOf(s)<0?Promise.reject("attribute must be defined first."):n?d(a).then((()=>a)):(()=>super.request("mailbox.getAttributes",{mailboxId:t,attributes:{[s]:s}},i,l,c).then((({responses:e})=>{const t=v[s]||s,a=e[s][t];return Array.isArray(a)?a:Promise.reject("current list is not an array")})))().then((e=>{let t;return t="function"==typeof o?o(e.concat(a)):b()(e.concat(a)),U()(e.sort(),t.sort())?Promise.resolve(t):(i.ymreqid=i.ymreqidGenerator.generate(),d(t).then((()=>t)))})):Promise.reject("provided list must be an array")}},getReceipts:H,getMoreReceipts:H,listMailboxAttributes:class{constructor({endpoints:e}){(0,i.Z)(e.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.endpoints=e}request(e,t,s){const{attributes:a,mailboxId:n}=t,{appId:o,wssid:i,timeout:l,cookie:d,ymreqid:E}=s,_=(0,h.Eo)()||(0,h.nM)()?this.endpoints.JWS_HOST:this.endpoints.INTERNAL_JWS_HOST,u=G(_,n,a,o,i,E),m=new c.Z("get",u,{timeout:l,tls:undefined});return m.setCookieHeader(d),m.setHeader("Accept","application/json"),m.send().then((e=>{const t=(0,r.u9)(e,"body.result",{});return{mailboxAttributes:k(t)}}))}}};const W=V},55831:(e,t,s)=>{"use strict";s.d(t,{cF:()=>o,L_:()=>i,R1:()=>d,om:()=>E,z_:()=>u,od:()=>m,jZ:()=>S,v2:()=>p,m3:()=>C,E8:()=>h,Lq:()=>g,ow:()=>I});var a=s(37422),n=s(8106),r=s(68591);const o=encodeURIComponent(":"),i=encodeURIComponent(" "),l=encodeURIComponent("("),c=encodeURIComponent(")"),d=encodeURIComponent("["),E=encodeURIComponent("]"),_=/(?:^|[\s(])folderid:(\d+)/i,u=["SYNC","INVISIBLE"];function m(e){let t="";switch(e){case a.ukn.PEOPLE:t+=`${i}is${o}personal`;break;case a.ukn.SHOPPING:t+=`${i}is${o}shopping`;break;case a.ukn.TRAVEL:t+=`${i}is${o}travel`;break;case a.ukn.TRAVEL_VIEW_UPCOMING:case a.ukn.TRAVEL_VIEW_PAST:t+=`${i}decoId${o}FLR`;break;case a.ukn.SAVED_COUPON_CARDS:t+=`${i}decoId${o}${l}CPN${i}TAG${c}`;break;case a.ukn.ALL_COUPON_CARDS:t+=`${i}decoId${o}${l}CPN${c}`;break;case a.ukn.ALL_REFUND_CARDS:t+=`${i}decoId${o}${l}ORD${c}`;break;case a.ukn.FINANCE:t+=`${i}is${o}financial`;break;case a.ukn.SOCIAL:t+=`${i}is${o}social`;break;case a.ukn.OLDMAIL:t+=`${i}is${o}read`;break;case a.ukn.NEWMAIL:t+=`${i}is${o}unread`}return t}function S(e){const t=e&&e.base||"";return(_.exec(t)||[])[1]||"1"}function p(e){const t=Number(function(e,t,s){if(!e[t])return"";const a=e[t].split(" ").map((e=>e.split(":"))).filter((([e])=>e===s));return 0===a.length?"":a[0][1]||""}(e,"options","count"));return isNaN(t)?0:t}function C(e,t,s){return Array.isArray(t)?Array.prototype[s?"every":"some"].call(t,(t=>C(e,t))):e&&e.some((e=>e&&e.id&&e.id===t))}class A{constructor(e,t,s){this.promise=e,this.counter=t||1,this.time=Date.now()+(s||0),e.then((e=>(this.time=Date.now(),e)))}increaseCount(){this.counter+=1}age(){return Date.now()-this.time}isActive(e){return this.age()<e}getExponentialDelayTime(){return Math.min(100+Math.pow(2,this.counter),2147483647)}getExponentialDelayedPromise(){return new Promise(((e,t)=>{this.promise.then((t=>{setTimeout((()=>{e(t)}),this.getExponentialDelayTime())}),(e=>{setTimeout((()=>{e.errorCode="DEBOUNCED",t(e)}),this.getExponentialDelayTime())}))})).then((e=>(this.time=Date.now(),e)),(e=>{throw this.time=Date.now(),e}))}}class T{constructor({TTL:e=0,logTTL:t=a.Cwb,activate:s=!1}){this.TTL=e,this.logTTL=Math.max(t,e),this.active=s,this.recentCallMap={}}cleanUpExpiredEntries(){const e=Date.now(),t={};Object.keys(this.recentCallMap).filter((t=>e-this.recentCallMap[t].time<this.logTTL)).forEach((e=>t[e]=this.recentCallMap[e])),this.recentCallMap=t}execute(e){const t=Date.now(),{hash:s,log:a=(()=>{})}=e;this.cleanUpExpiredEntries();const n=this.recentCallMap[s],r=this.active&&n&&n.isActive(this.TTL);return n&&(n.increaseCount(),a({duration:n.age(),counter:n.counter,active:r})),r?(n.time=t,n.getExponentialDelayedPromise()):(this.recentCallMap[s]=new A(e.execute(),n&&n.counter,this.TTL),this.recentCallMap[s].promise)}}class h{constructor(e){this.map={},this.defaultTTL=200,this.active=!(!e||!Object.keys(e).length),this.TTLList=e,this.active&&(this.defaultTTL=e.default||200)}get(e){if(!(0,n.jU)())return{execute:e=>e.execute()};const t=this.TTLList.hasOwnProperty(e)?this.TTLList[e]:this.defaultTTL;return this.map[t]||(this.map[t]=new T({TTL:t,activate:this.active})),this.map[t]}}function g(e){return e&&e.find((e=>e.isSelected))||{}}function I(e){return e.indexOf("internal")>-1&&!(0,r.Sf)()?"http":"https"}},97324:(e,t,s)=>{"use strict";s.d(t,{jR:()=>n,ih:()=>r});var a=s(95406);s(37422).jQ2,(0,a.gP)(["ADD_BASENAME","ADD_DEA","EDIT_DEA","ADD_SENDAS","EDIT_SENDAS","ADD_IMAPIN","EDIT_ACCOUNT","EDIT_DEFAULT_SENDING"]);const n=["to_list","cc_list","bcc_list","editMode","editAccount","sortOrder","action","offset","mrdparam","toB","showImages","expandSenders","unblockNow","fid","confirmAction","categoryId","mailboxId","domain","originFolderId","taskId","bulkAction","clickSrc","sentMid","alertCode","filterIndex","originalSearchQueryKeyword","originalSearchQueryAccountIds","updateCount"],r=((0,a.gP)(["Error","Warning","Information"]),(0,a.gP)(["replied","forwarded"]),(0,a.gP)(["MESSAGE_LIST_ACCESS_FAILED","MESSAGE_VIEW_ACCESS_FAILED","SEARCH_LIST_ACCESS_FAILED","COMPOSE_ACCESS_FAILED","FOLDERS_LIST_ACCESS_FAILED","SETTINGS_ACCESS_FAILED","CONTACTS_ACCESS_FAILED"]),(0,a.gP)(["UNREAD","READ","READ_DARK","STAR","UNSTAR","UNSTAR_DARK","ATTACHMENT_DARK","SPAM_DARK","SPAM_BLUE","TRASH_DARK","TRASH_BLUE","TRASH_MINI_MEDIUM","TRASH_MINI_RED","EDIT","EDIT_BLUE","CLOSE_MINI","CLOSE","CLOSE_MINI_BLUE","CLOSE_BLUE","CHEVRON_RIGHT","CHEVRON_DOUBLE_RIGHT","CHEVRON_RIGHT_BLUE","CHEVRON_DOUBLE_RIGHT_BLUE","CHEVRON_RIGHT_DARK","CHEVRON_DOUBLE_RIGHT_DARK","CHEVRON_LEFT","CHEVRON_DOUBLE_LEFT","CHEVRON_LEFT_BLUE","CHEVRON_DOUBLE_LEFT_BLUE","CHEVRON_LEFT_DARK","CHEVRON_DOUBLE_LEFT_DARK","ARROW_LEFT_DARK","ARROW_RIGHT_DARK","ARROW_LEFT_BLUE","ARROW_RIGHT_BLUE","REPLY","REPLY_ALL","FORWARD","REPLY_BLUE","REPLY_ALL_BLUE","FORWARD_BLUE","REPLY_RTL","REPLY_ALL_RTL","FORWARD_RTL","REPLY_BLUE_RTL","REPLY_ALL_BLUE_RTL","FORWARD_BLUE_RTL","PRINT","PRINT_BLUE","CHEVRON_UP_DARK","CHEVRON_DOWN_DARK","CHEVRON_UP_BLUE","CHEVRON_DOWN_BLUE","CHEVRON_UP","CHEVRON_DOWN","REPLIED","FORWARDED","SEARCH","CLOSE_WHITE","ERROR","SUCCESS","MAIL","YBANG","ARROW_UP","ARROW_DOWN","AOL","ADS","TRUSTED"]),(0,a.gP)(["asc","desc"]),(0,a.gP)(["first","last","email"]),(0,a.gP)(["PENDING","COMPLETED","FAILED","ABORTED"]),{"message_list.get":"message_list.get","search_list.get":"search_list.get","message_view.get":"message_view.get","folder_list.get":"folder_list.get","skeleton.get":"skeleton.get","settings.get":"settings.get","settings.getFeatureAttributes":"settings.getFeatureAttributes"})},19793:(e,t,s)=>{"use strict";s.d(t,{Q_:()=>a,N7:()=>n,qj:()=>r,iJ:()=>o,L1:()=>i,zJ:()=>l});const a=Math.floor(65535*Math.random()),n=28,r="https://data.mail.yahoo.com/xobni",o="https://data.mail.aol.com/xobni",i="AolMail",l="YMailNoble"},4119:(e,t,s)=>{"use strict";s.d(t,{F3:()=>n,TS:()=>r,k5:()=>o,N4:()=>i,jQ:()=>l,vX:()=>c,fq:()=>d});var a=s(95406);const n=[{name:"modern",label:"Modern",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},{name:"modernwide",label:"Modern Wide",fontFamily:"verdana, helvetica, sans-serif"},{name:"classic",label:"Classic",fontFamily:'"times new roman", "new york", times, serif'},{name:"classicwide",label:"Classic Wide",fontFamily:'"bookman old style", "new york", times, serif'},{name:"courier",label:"Courier New",fontFamily:'"courier new", courier, monaco, monospace, sans-serif'},{name:"garamond",label:"Garamond",fontFamily:'garamond, "new york", times, serif'},{name:"lucida",label:"Lucida Console",fontFamily:'"lucida console", sans-serif'}],r=[{name:"tiny",fontSize:1,value:"10px"},{name:"small",fontSize:2,value:"13px"},{name:"medium",fontSize:3,value:"16px"},{name:"large",fontSize:5,value:"24px"},{name:"xlarge",fontSize:6,value:"32px"},{name:"huge",fontSize:7,value:"48px"}],o={10:"1",13:"2",16:"3",24:"5",32:"6",48:"7"},i={TINY:"10px",SMALL:"13px",MEDIUM:"16px",LARGE:"24px",XLARGE:"32px",HUGE:"48px"},l=300,c={EDITOR:"editor",FROM:"from",TO:"to",SUBJECT:"subject",CC:"cc",BCC:"bcc"},d=(0,a.gP)(["SENDING","SENT","SEND_FAILED"])},37422:(e,t,s)=>{"use strict";s.d(t,{L1J:()=>i,JfS:()=>l,gUS:()=>c,_L:()=>d,Tzw:()=>E,alB:()=>_,KW1:()=>u,DTB:()=>m,iHz:()=>S,hyX:()=>p,KZr:()=>C,pQ$:()=>A,S2z:()=>T,BQZ:()=>h,jH6:()=>g,pnD:()=>I,EFE:()=>R,_Du:()=>O,VT0:()=>D,lMo:()=>N,bf3:()=>f,c7l:()=>M,w3P:()=>L,j_x:()=>P,_tT:()=>y,av1:()=>b,l9v:()=>F,oc$:()=>U,Fa7:()=>v,sKi:()=>w,AGu:()=>G,nuI:()=>H,Sck:()=>B,o4:()=>x,tlB:()=>V,K8C:()=>W,sDs:()=>Z,Qj:()=>K,uXt:()=>z,d$d:()=>q,RfP:()=>Y,Tt3:()=>j,DAQ:()=>X,bYh:()=>J,DxA:()=>$,rUt:()=>ee,aib:()=>te,sSc:()=>se,bUm:()=>ie,CuF:()=>Ee,zkc:()=>_e,$It:()=>ue,El5:()=>me,DES:()=>Ae,wp2:()=>Te,UHK:()=>he,_WP:()=>ge,Ncq:()=>Ie,NVH:()=>Re,zUD:()=>Oe,C2H:()=>De,lHI:()=>Ne,bxj:()=>fe,CbW:()=>ye,jUj:()=>be,n8z:()=>Fe,JKT:()=>Ue,jQ2:()=>ve,Zs1:()=>we,ibP:()=>Ge,IZo:()=>ke,bCI:()=>He,slz:()=>Be,irZ:()=>xe,oSR:()=>Ve,$y3:()=>We,kac:()=>Ze,I$x:()=>Ke,CUo:()=>ze,n_g:()=>qe,tq2:()=>Ye,ANM:()=>je,ie0:()=>Xe,zae:()=>Je,Asd:()=>$e,bW1:()=>et,dS5:()=>tt,K24:()=>st,AE_:()=>at,tX8:()=>nt,nMQ:()=>rt,xem:()=>ot,Gos:()=>it,N7x:()=>lt,Q_q:()=>ct,pVt:()=>dt,tO8:()=>Et,qxq:()=>_t,sUv:()=>ut,Ouo:()=>St,_72:()=>pt,Fmq:()=>Ct,RaK:()=>At,NTC:()=>Tt,dpb:()=>ht,nxP:()=>gt,xLM:()=>It,U4$:()=>Rt,WNU:()=>Ot,F6k:()=>Dt,tdP:()=>ft,ukn:()=>Lt,Ygm:()=>Pt,mVv:()=>yt,qwE:()=>bt,B_Z:()=>Ft,_pp:()=>Ut,sWL:()=>vt,OzC:()=>wt,Ma6:()=>Gt,hmI:()=>kt,Fio:()=>Ht,EsZ:()=>Bt,a1v:()=>xt,eG4:()=>Vt,Pkg:()=>Wt,Ds1:()=>Zt,WHu:()=>Kt,tTi:()=>zt,H4h:()=>qt,YMA:()=>Yt,jdT:()=>jt,st3:()=>Qt,SEm:()=>Xt,_ob:()=>Jt,hJP:()=>$t,a$_:()=>es,Ic2:()=>ts,k92:()=>ss,w9A:()=>as,GVQ:()=>ns,wi4:()=>rs,MdG:()=>os,ke7:()=>is,Egu:()=>ls,Ewo:()=>cs,sZ3:()=>ds,u5h:()=>Es,izb:()=>_s,v6P:()=>us,qd8:()=>Ss,R8U:()=>ps,lsH:()=>Cs,ZyO:()=>As,Msg:()=>Ts,cqM:()=>hs,OcD:()=>gs,ZB9:()=>Is,zoT:()=>Rs,kGi:()=>Os,ioU:()=>Ds,ylH:()=>Ns,ZUn:()=>fs,Nq8:()=>Ms,UcZ:()=>Ls,AJg:()=>Ps,ICb:()=>ys,snh:()=>bs,wjI:()=>Fs,JaR:()=>Us,nnY:()=>vs,Lvq:()=>ws,BrN:()=>Gs,vrh:()=>ks,cNW:()=>Hs,uXU:()=>Bs,iZF:()=>xs,NdR:()=>Vs,wxL:()=>Ws,gaM:()=>Zs,LDx:()=>Ks,d1h:()=>zs,ANe:()=>qs,Zrf:()=>Ys,hym:()=>js,UZQ:()=>Qs,u82:()=>Xs,vGy:()=>Js,BY2:()=>$s,B6i:()=>ea,cSU:()=>ta,Hzy:()=>sa,Mit:()=>aa,LJ$:()=>na,Gui:()=>ra,rgK:()=>oa,DBG:()=>ia,Rtf:()=>la,Jd6:()=>ca,cip:()=>da,UGh:()=>Ea,BC:()=>_a,Lz3:()=>ua,rS$:()=>ma,qBs:()=>Sa,Zd2:()=>pa,qAl:()=>Ca,N9o:()=>Aa,ITc:()=>Ta,DU2:()=>ha,e$m:()=>ga,Bwi:()=>Ra,Cwb:()=>Oa,GOz:()=>Da,XLK:()=>Na,qdE:()=>fa,ZJ3:()=>Ma,ELI:()=>La,OZb:()=>Pa,VhW:()=>ya,t6W:()=>ba,HH7:()=>Fa,hKF:()=>Ua,P$E:()=>va,Qk$:()=>wa,UA:()=>Ga,xmI:()=>ka,Weh:()=>Ha,Ojf:()=>Ba,c8t:()=>xa,rBF:()=>Va,Mwh:()=>Wa,cZM:()=>Za,$AH:()=>Ka,FXF:()=>za,OIv:()=>qa,Waq:()=>Ya,_re:()=>ja,vaW:()=>Qa,$Fz:()=>Xa,dK:()=>Ja,mX1:()=>$a,le_:()=>en,to8:()=>tn,Zkw:()=>sn,BHS:()=>an,s8J:()=>nn,ryB:()=>rn,yU3:()=>on,fi6:()=>ln,ZFS:()=>cn,Bs7:()=>En,Ql2:()=>_n,rRt:()=>un,Iu_:()=>mn,iNd:()=>Sn,cab:()=>pn,PP5:()=>Cn,EeM:()=>An,bRD:()=>Tn,niV:()=>hn,A3t:()=>gn,yhH:()=>In,_Ab:()=>Rn,t0h:()=>On,YKE:()=>Dn,nht:()=>Nn,xRm:()=>fn,KqC:()=>Mn,i9C:()=>Ln,$WX:()=>Pn,eie:()=>yn,hqH:()=>bn,xDW:()=>Fn,C96:()=>Un,C5$:()=>vn,bcr:()=>wn,_t3:()=>Gn,zCd:()=>kn,$iD:()=>Hn,pdX:()=>Bn,pYz:()=>xn,FyA:()=>Vn,zzX:()=>Wn,nr6:()=>Zn,G1D:()=>Kn,VRv:()=>zn,W2H:()=>qn,e3F:()=>Yn,f8s:()=>jn,eN2:()=>Qn,WSI:()=>Xn,TVr:()=>Jn,f2m:()=>$n,b39:()=>tr,zgU:()=>sr,TOL:()=>ar,_2h:()=>nr,sGZ:()=>rr,UeM:()=>or,kuZ:()=>ir});var a=s(15632),n=s(95406),r=s(4119),o=s(19793);const i=o.L1,l="YMailNorrin",c=o.zJ,d=959521194;let E;!function(e){e.YAHOO="yahoo",e.AOL="aol"}(E||(E={}));const _=2,u=3,m=1e4,S=500,p=3,C=3,A=500,T=500;let h,g;!function(e){e.MAIL_APP="MAIL_APP",e.MAILBOXES_APP="MAILBOXES_APP",e.MOBILE_APP="MOBILE_APP",e.BASIC_MAIL_APP="BASIC_MAIL_APP",e.BASIC_MOBILE_APP="BASIC_MOBILE_APP"}(h||(h={})),function(e){e.NEXTGENHOME="nextgenhome"}(g||(g={}));const I="EMPTY_SEARCH_QUERY",R="/img/grocery.png",O="/img/ym6_groceries.png",D="STORE_FORWARD",N={IC:"ic"},f="monetization",M=(0,n.gP)(["MESSAGE","COMPOSE","SEARCH","NAVIGATION","MAIL_READER","PREVIEW","SPONSORED_MESSAGE","TUTORIAL","SUBSCRIPTION_LIST","STOREFRONT"]),L=(0,n.gP)(["ALERT","CONFIRM","PROMPT"]);let P;!function(e){e.NORMAL="NORMAL",e.ADVISORY="ADVISORY",e.WARNING="WARNING",e.POSITIVE="POSITIVE",e.NEGATIVE="NEGATIVE",e.PENDING="PENDING",e.FORWARDING_WARNING="FORWARDING_WARNING",e.GDPR_WARNING="GDPR_WARNING"}(P||(P={}));const y={ALERT_DIALOG:"alertdialog",STATUS:"status",ALERT:"alert"},b={ALERT_DIALOG:"assertive",STATUS:"polite",ALERT:"assertive"},F={LOW:1,MEDIUM:2,HIGH:3},U=(0,n.gP)(["READ","STAR","SPAM","HAM","MOVE","DELETE","ANSWER","FORWARD","DECO","RECENT"]),v=(0,n.gP)(["SUCCESS","ASYNC","FAIL","PARTIAL"]);let w;!function(e){e.LAUNCH="LAUNCH",e.DOCUMENT_FETCH="DOCUMENT_FETCH",e.COMPOSE_SUGGESTIONS_FETCH="COMPOSE_SUGGESTIONS_FETCH",e.SEARCH_SUGGESTIONS_FETCH="SEARCH_SUGGESTIONS_FETCH",e.IMPORTANT_CONTACTS_FETCH="IMPORTANT_CONTACTS_FETCH",e.VIDEO_CHANNELS_METADATA_FETCH="VIDEO_CHANNELS_METADATA_FETCH",e.VIDEO_CHANNEL_FETCH="VIDEO_CHANNEL_FETCH",e.COMPOSE="COMPOSE",e.MESSAGE_ITEM_TO_FETCH="MESSAGE_ITEM_TO_FETCH",e.MESSAGE_ITEM_TO_UPDATE="MESSAGE_ITEM_TO_UPDATE",e.LIST_TO_UPDATE="LIST_TO_UPDATE",e.CARD_TO_FETCH="CARD_TO_FETCH",e.GEMINI_AD_ASSET="GEMINI_AD_ASSET",e.SETTINGS_TO_CHANGE="SETTINGS_TO_CHANGE",e.BLOCKED_SENDERS_TO_FETCH="BLOCKED_SENDERS_TO_FETCH",e.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH="FILTERS_AND_BLOCKED_SENDERS_TO_FETCH",e.GEMINI_AD="GEMINI_AD",e.RELATED_SEARCHES_TO_FETCH="RELATED_SEARCHES_TO_FETCH",e.ASYNC_TASK_STATUS="ASYNC_TASK_STATUS",e.OLYMPIC_CONTENT_TO_FETCH="OLYMPIC_CONTENT_TO_FETCH",e.COMPONENT_UI_STATE="COMPONENT_UI_STATE",e.CONTACT_CARD="CONTACT_CARD",e.GIFS_TO_FETCH="GIFS_TO_FETCH",e.GIF_CATEGORY_TO_FETCH="GIF_CATEGORY_TO_FETCH",e.CONTACT_LIST_TO_FETCH="CONTACT_LIST_TO_FETCH",e.ACCOUNT_TO_UPDATE="ACCOUNT_TO_UPDATE",e.BASENAME_TO_CREATE="BASENAME_TO_CREATE",e.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH",e.FOLDER="FOLDER",e.RSVP_FETCH="RSVP_FETCH",e.VACATION_RESPONSE_SETTINGS="VACATION_RESPONSE_SETTINGS",e.MORE_ITEMS_TO_FETCH="MORE_ITEMS_TO_FETCH",e.RAW_MESSAGE="RAW_MESSAGE",e.RAW_MESSAGE_TO_FETCH="RAW_MESSAGE_TO_FETCH",e.RELATED_COUPONS_TO_FETCH="RELATED_COUPONS_TO_FETCH",e.PARENT_MESSAGE_TO_FETCH="PARENT_MESSAGE_TO_FETCH",e.COUPON_RECOMMENDATIONS_TO_FETCH="COUPON_RECOMMENDATIONS_TO_FETCH",e.COUPONS_TO_FETCH="COUPONS_TO_FETCH",e.TOP_RETAILERS_TO_FETCH="TOP_RETAILERS_TO_FETCH",e.TOP_DEAL_CATEGORIES_TO_FETCH="TOP_DEAL_CATEGORIES_TO_FETCH",e.RECENT_SEARCHES_TO_FETCH="RECENT_SEARCHES_TO_FETCH",e.RECENT_SEARCH_DELETE="RECENT_SEARCH_DELETE",e.NUDGE_AND_SMART_REPLY="NUDGE_AND_SMART_REPLY",e.SYNC_NOW="SYNC_NOW",e.CONTACTS_LIST="CONTACTS_LIST",e.CONTACTS_CATEGORY_LIST="CONTACTS_CATEGORY_LIST",e.CONTACT_DETAILS="CONTACT_DETAILS",e.EDIT_CONTACT="EDIT_CONTACT",e.CONTACT_SAVE="CONTACT_SAVE",e.CONTACT_PHOTO_UPLOAD="CONTACT_PHOTO_UPLOAD",e.SOCIAL_ACCOUNT_IMPORT="SOCIAL_ACCOUNT_IMPORT",e.SOCIAL_ACCOUNT_AUTH_URL="SOCIAL_ACCOUNT_AUTH_URL",e.CLOUD_STORAGE_ACCOUNT_AUTH_URL="CLOUD_STORAGE_ACCOUNT_AUTH_URL",e.CLOUD_STORAGE_ITEMS_TO_FETCH="CLOUD_STORAGE_ITEMS_TO_FETCH",e.CLOUD_STORAGE_ITEM_SHAREABLE_LINK="CLOUD_STORAGE_ITEM_SHAREABLE_LINK",e.SOCIAL_ACCOUNT_STATUS="SOCIAL_ACCOUNT_STATUS",e.IMPORT_CONTACTS_PROVIDERS_STATUS="IMPORT_CONTACTS_PROVIDERS_STATUS",e.CONTACT_CREATE="CONTACT_CREATE",e.CONTACT_DELETE="CONTACT_DELETE",e.CONTACT_GROUP_DELETE="CONTACT_GROUP_DELETE",e.CONTACTS_GROUP_EDIT="CONTACTS_GROUP_EDIT",e.CONTACTS_GROUP_CREATE="CONTACTS_GROUP_CREATE",e.ENHANCE_CONTACTS_PREFERENCE_FETCH="ENHANCE_CONTACTS_PREFERENCE_FETCH",e.ENHANCE_CONTACTS_PREFERENCE_CHANGE="ENHANCE_CONTACTS_PREFERENCE_CHANGE",e.FETCH_ALL_CONTACTS="FETCH_ALL_CONTACTS",e.CONTACTS_SNAPSHOT_FETCH="CONTACTS_SNAPSHOT_FETCH",e.CONTACTS_RESTORE="CONTACTS_RESTORE",e.CONTACTS_IMPORT_CSV="CONTACTS_IMPORT_CSV",e.ACTIVATE_OFFER="ACTIVATE_OFFER",e.ACTIVATED_OFFERS="ACTIVATED_OFFERS",e.REMOVE_PRODUCTS="REMOVE_PRODUCTS",e.OFFERS="OFFERS",e.RETAILER_LINK="RETAILER_LINK",e.RETAILER_UNLINK="RETAILER_UNLINK",e.GROCERY_SEARCH_ASSIST="GROCERY_SEARCH_ASSIST",e.SAVINGS="SAVINGS",e.SHOPRUNNER_RETAILERS="SHOPRUNNER_RETAILERS",e.ACCOUNT_DELETE="ACCOUNT_DELETE",e.ACCOUNT_ADD="ACCOUNT_ADD",e.LOCATION_TO_UPDATE="LOCATION_TO_UPDATE",e.CONVERSATION_MODE_TO_UPDATE="CONVERSATION_MODE_TO_UPDATE",e.ACCOUNT_TO_REAUTH="ACCOUNT_TO_REAUTH",e.ALIAS_EMAIL_TO_CREATE="ALIAS_EMAIL_TO_CREATE",e.CONFIRM_EMAIL_TO_RESEND="CONFIRM_EMAIL_TO_RESEND",e.COMPOSE_ATTRIBUTES_TO_FETCH="COMPOSE_ATTRIBUTES_TO_FETCH",e.POST_LUNCH_TO_SYNC="POST_LUNCH_TO_SYNC",e.FETCH_PRIMARY_ACCOUNT="FETCH_PRIMARY_ACCOUNT",e.RETAILER_LOCATIONS="RETAILER_LOCATIONS",e.UPDATE_PREFERRED_STORE="UPDATE_PREFERRED_STORE",e.CHANGE_PRODUCTS_QUANTITY="CHANGE_PRODUCTS_QUANTITY",e.GROCERY_SUBCATEGORIES="GROCERY_SUBCATEGORIES",e.PREVIOUSLY_ADDED_GROCERY_ITEMS="PREVIOUSLY_ADDED_GROCERY_ITEMS",e.RELATED_GROCERY_ITEMS="RELATED_GROCERY_ITEMS",e.STOREFRONT_MODULES="STOREFRONT_MODULES",e.STOREFRONT_DEALS="STOREFRONT_DEALS",e.STOREFRONT_PRODUCTS="STOREFRONT_PRODUCTS",e.FOLLOW_STOREFRONT_BRAND="FOLLOW_STOREFRONT_BRAND",e.UNFOLLOW_STOREFRONT_BRAND="UNFOLLOW_STOREFRONT_BRAND",e.RESET_STOREFRONT_NEW_DEAL_COUNT="RESET_STOREFRONT_NEW_DEAL_COUNT",e.SAVE_COUPONS="SAVE_COUPONS",e.UNSAVE_COUPONS="UNSAVE_COUPONS",e.FOLLOW_CATEGORY="FOLLOW_CATEGORY",e.UNFOLLOW_CATEGORY="UNFOLLOW_CATEGORY",e.LINK_ENHANCER_TO_FETCH="LINK_ENHANCER_TO_FETCH",e.UPDATE_PAC_CUE="UPDATE_PAC_CUE",e.UNSUBSCRIBE_EMAIL="UNSUBSCRIBE_EMAIL",e.UNSUBSCRIBE_BRAND="UNSUBSCRIBE_BRAND",e.SUBSCRIPTION_LIST="SUBSCRIPTION_LIST",e.SUBHUB_RECOMMENDATION_LIST="SUBHUB_RECOMMENDATION_LIST",e.MEMBERSHIP_REWARDS_LAUNCH="MEMBERSHIP_REWARDS_LAUNCH",e.TMR_REGISTER_ACTION="TMR_REGISTER_ACTION",e.MARKETING_PREFERENCES_TO_UNSUBSCRIBE="MARKETING_PREFERENCES_TO_UNSUBSCRIBE",e.MARKETING_PREFERENCES_TO_READ="MARKETING_PREFERENCES_TO_READ",e.DISPATCHER_UPSELLS="DISPATCHER_UPSELLS",e.TOUCHPOINT_UPSELL="TOUCHPOINT_UPSELL",e.RIGHT_RAIL_ADBLOCK_UPSELL="RIGHT_RAIL_ADBLOCK_UPSELL",e.MARKETING_PREFERENCES_TO_SUBSCRIBE="MARKETING_PREFERENCES_TO_SUBSCRIBE",e.PURCHASE_MAILPRO_FREE_TRIAL="PURCHASE_MAILPRO_FREE_TRIAL",e.LIST_MAIL_PREMIUM_SUBSCRIPTIONS="LIST_MAIL_PREMIUM_SUBSCRIPTIONS",e.BREAKING_NEWS="BREAKING_NEWS",e.FETCH_CLOUD_STORAGE_PROVIDERS="FETCH_CLOUD_STORAGE_PROVIDERS",e.UNLINK_CLOUD_STORAGE_ACCOUNT="UNLINK_CLOUD_STORAGE_ACCOUNT",e.MORE_SENDER_ROLLUP_TO_FETCH="MORE_SENDER_ROLLUP_TO_FETCH",e.PHISHING_REMOVE_BDM_DECO="PHISHING_REMOVE_BDM_DECO",e.ASTRA_BATCH_REQUEST="ASTRA_BATCH_REQUEST",e.REQUEST_AFFILIATE_OFFERS="REQUEST_AFFILIATE_OFFERS",e.CONSUME_TASTEMAKER="CONSUME_TASTEMAKER",e.DELETE_TASTEMAKER="DELETE_TASTEMAKER",e.BLOCKED_DOMAINS_FETCH="BLOCKED_DOMAINS_FETCH",e.BLOCKED_DOMAIN_ADD="BLOCKED_DOMAIN_ADD",e.BLOCKED_DOMAIN_DELETE="BLOCKED_DOMAIN_DELETE",e.STATIC_MAILPLUS_UPSELL_FETCH="STATIC_MAILPLUS_UPSELL_FETCH",e.REMOVE_SPAM_SCHEMA="REMOVE_SPAM_SCHEMA"}(w||(w={}));const G={Modes:{NEW:"NEW",REPLY:"REPLY",REPLY_ALL:"REPLY_ALL",FORWARD:"FORWARD",EDIT:"EDIT",SPONSORED_FORWARD:"SPONSORED_FORWARD"}};let k;!function(e){e.NEW="NEW",e.REPLY="REPLY",e.REPLY_ALL="REPLY_ALL",e.FORWARD="FORWARD",e.EDIT="EDIT",e.SPONSORED_FORWARD="SPONSORED_FORWARD"}(k||(k={}));const H={Status:(0,n.gP)(["DOES_NOT_EXIST","INIT","EDITED","SAVING","SAVED","SAVED_PARTIAL","SAVE_FAILED","SENDING","SEND_FAILED","SENT","CAPTCHAING"])};let B;!function(e){e.ALERTSTORE="ALERTSTORE",e.ARCHIVE="ARCHIVE",e.BULK="BULK",e.CARD="CARD",e.CHATS="CHATS",e.DELETED="DELETED",e.DRAFT="DRAFT",e.EXTERNAL_ALL="EXTERNAL_ALL",e.INBOX="INBOX",e.INVISIBLE="INVISIBLE",e.NOT_SEARCHABLE="NOT_SEARCHABLE",e.NOTES="NOTES",e.SENT="SENT",e.STAGING="STAGING",e.SYNC="SYNC",e.TOKENCACHE="TOKENCACHE",e.TRASH="TRASH",e.USER="USER"}(B||(B={}));const x=(0,n.gP)([B.INBOX,B.DRAFT,B.SENT,B.TRASH,B.BULK,B.ARCHIVE,B.TOKENCACHE,B.USER,B.STAGING,B.SYNC,B.NOTES,B.DELETED,B.CHATS]),V=(0,n.gP)([B.INBOX,B.DRAFT,B.SENT,B.ARCHIVE,B.TRASH,B.BULK]);let W;!function(e){e.UNREAD="UNREAD",e.STARRED="STARRED",e.DOCUMENTS="DOCUMENTS",e.PHOTOS="PHOTOS",e.TUTORIAL="TUTORIAL",e.COUPONS="COUPONS",e.COUPON_EMAILS="COUPON_EMAILS",e.RECEIPTS="RECEIPTS",e.TRAVEL="TRAVEL",e.TRAVEL_PAST="TRAVEL_PAST",e.TRAVEL_EMAILS="TRAVEL_EMAILS",e.PEOPLE="PEOPLE",e.FINANCE="FINANCE",e.SOCIAL="SOCIAL",e.SHOPPING="SHOPPING",e.SHOPPING_EMAILS="SHOPPING_EMAILS",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.SUBSCRIPTION_DETAIL="SUBSCRIPTION_DETAIL",e.ATTACHMENTS="ATTACHMENTS",e.GROCERIES="GROCERIES",e.FLAGGED="FLAGGED",e.OLDMAIL="OLDMAIL",e.NEWMAIL="NEWMAIL",e.SENDER_ROLLUP="SENDER_ROLLUP",e.STOREFRONT="STOREFRONT"}(W||(W={}));const Z=(0,n.gP)(["TAB_BAR","SIDE_BAR"]),K={[W.UNREAD]:"is:unread",[W.STARRED]:"is:starred",[W.TRAVEL]:"is:travel",[W.COUPONS]:"is:shopping"},z=[W.PHOTOS,W.DOCUMENTS,W.COUPONS,W.GROCERIES,W.TRAVEL,W.TUTORIAL,W.RECEIPTS,W.SUBSCRIPTIONS,W.STOREFRONT,W.ATTACHMENTS],q=Object.assign({ALL_MAIL:"ALL_MAIL"},B),Y={INBOX:"1",DRAFT:"3",SENT:"2",TRASH:"4",SPAM:"6"},j=(0,n.gP)(["DOWN","LEFT","NONE"]);let Q,X,J,$;!function(e){e.REJECTED="rejected",e.FULFILLED="fulfilled"}(Q||(Q={})),function(e){e.DIRTY="DIRTY",e.DOES_NOT_EXIST="DOES_NOT_EXIST",e.REFRESHING="REFRESHING",e.LOADING="LOADING",e.LOADED="LOADED",e.ERROR="ERROR"}(X||(X={})),function(e){e.LOADED="LOADED",e.CANCELLED="CANCELLED",e.LOADING="LOADING"}(J||(J={})),function(e){e.DOES_NOT_EXIST="DOES_NOT_EXIST",e.SUCCEEDED="SUCCEEDED",e.FAILED="FAILED",e.LOADING="LOADING"}($||($={}));const ee=(0,n.gP)(["DELETED","LOADING","LOADED","ERROR","DELETING"]),te=(0,n.gP)(["CONTACT","SUBJECT"]),se={Types:{TEXT:"text",IMAGE:"image",MESSAGE:"message",VIDEO:"video",AUDIO:"audio",APPLICATION:"application"},SubTypes:{ACROBAT:"acrobat",CALENDAR:"calendar",CSS:"css",CSV:"csv",DELIVERY_STATUS:"delivery-status",DOC:"msword",DOCX:"vnd.openxmlformats-officedocument.wordprocessingml.document",DOT:"dot",EXCEL:"excel",FOLDER:"vnd.pachyderm.folder",FRAMEMAKER:"vnd.framemaker",GDOCX:"vnd.google-apps.document",GIF:"gif",GPPT:"vnd.google-apps.presentation",GXLS:"vnd.google-apps.spreadsheet",GZIP:"x-gzip",HTML:"html",ICS:"ics",MS_WORD:"microsoft_word",MSEXCEL:"msexcel",MSTNEF:"ms-tnef",OCTET_STREAM:"octet-stream",PDF:"pdf",PLAIN:"plain",PNG:"png",PPT:"vnd.ms-powerpoint",PPTX:"vnd.openxmlformats-officedocument.presentationml.presentation",PPTX_SLIDESHOW:"vnd.openxmlformats-officedocument.presentationml.slideshow",PPTX_TEMPLATE:"vnd.openxmlformats-officedocument.presentationml.template",RFC822:"rfc822",RICHTEXT:"richtext",SC2:"mswor2c sc2",TAR:"x-tar",TIFF:"tiff",VND_MS_WORD:"vnd.ms-word",VND_MSWORD:"vnd.msword",VND_PDF:"vnd.pdf",WINWORD:"winword",WORD:"word",X_COMPRESSED:"x-compressed",X_DOT:"x-dot",X_EXCEL:"x-excel",X_FM:"x-fm",X_FRAMEMAKER:"x-framemaker",X_MAKER:"x-maker",X_MS_EXCEL:"x-dos_ms_excel",X_MS_WORD:"x-msword",X_MSW6:"x-msw6",X_PDF:"x-pdf",X_RTF:"x-rtf",X_SOFFICE:"x-soffice",X_XLS:"x-xls",X_ZIP:"x-zip-compressed",XLS:"vnd.ms-excel",XLS_M:"vnd.ms-excel.sheet.macroEnabled.12",XLS_M_TEMPLATE:"vnd.ms-excel.template.macroEnabled.12",XLS_TEMPLATE:"vnd.openxmlformats-officedocument.spreadsheetml.template",XLSX:"vnd.openxmlformats-officedocument.spreadsheetml.sheet",XML:"xml",ZIP:"zip",ZZ_DOT:"zz-winassoc-dot"},Dispositions:{ATTACHMENT:"attachment",INLINE:"inline"},SimplifiedTypes:{APPLICATION:"application",IMAGE:"image",VIDEO:"video",FILE:"file",FOLDER:"folder",AUDIO:"audio",COMPRESSED:"compressed",CAL:"cal",PDF:"pdf",XLS:"xls",DOC:"doc",PPT:"ppt",TEXT:"text",CSV:"csv",TIFF:"tiff",GDOCS:"gdoc",GSHEETS:"gsheet",GSLIDES:"gslide"},KnownDocTypes:/\.((doc|xls|ppt)x?|pdf)$/i},ae={TIMEZONE:"web.timezone",LAST_OBSERVED_TIMEZONE:"web.lastObservedTimezone"},ne={DESKTOP_MAIL_VERSION:"web.ymv",MOBILE_YMV:"ymvMobile"},re={...ne,CONVERSATIONS:"web.enableConversations"},oe={...re,DESKTOP_MAIL_PREVIOUS_VERSION:"web.previousClientVersion",DESKTOP_MAIL_VERSION_HISTORY:"web.clientVersionHistory"},ie={HAS_ADS:"hasAds",THEME:"web.mailTheme",THEME_MODE:"web.themeMode",INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",SHOW_ALL_SYSTEM_FOLDERS:"web.showAllSystemFolders",CLIENT_BUCKETS:"web.clientBuckets",SCOUT_ONBOARDING:"web.norrinOnboard",BLOCK_IMAGES:"web.blockImages",...ae,...oe},le={INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",INTERSTITIAL_SEEN_COUNT:"mobileweb.interstitialSeenCount",SCOUT_ONBOARDING:"web.norrinOnboard",MOBILE_SHOW_IMAGES:"mobileweb.showImages",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",PREFERRED_AD_FORMAT:"adFormatPreference",MOBILE_CONVERSATIONS:"mobileweb.conversations",...ae},ce={...le,HAS_ADS:"hasAds",MOBILE_YMV:"ymvMobile"},de={...le,CONSENT_EVENTS:"cp.consentEvents",MIGRATION_STATUS:"web.migration",MOBILE_SNIPPETS:"mobileweb.snippets"},Ee={PREVIEW_PANE:"web.mailPreviewPane",MAIL_TABS:"web.mailTabs",SNIPPETS:"web.generalSnippet",MSG_LIST_DENSITY:"web.msgsListDensity",DESKTOP_NOTIFICATION:"web.desktopNotification",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",EXPAND_SMART_VIEWS:"web.showSmartViews",HIDE_AD:"web.hideAd",EXPANDED_FOLDERS:"web.expandedFolders",STATIONERY_DEFAULT_THEME:"web.stationeryTheme",USE_RICH_TEXT:"web.useRichText",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SYSTEM_TABS:"web.systemTabs",AD_BLOCK_FEATURE_CUE_ID:"web.adBlockFeatureCueId",BREAKING_NEWS:"web.breakingNews",PACKAGE_TRACKING:"isShipmentTrackingEnabled",DEALS_STORIES:"dealsStories",AMP_EMAIL:"ampEmail"},_e={COMPOSE_FONT_FAMILY:"web.composeFontFamily",COMPOSE_FONT_SIZE:"web.composeFontSize",LINK_ENHANCER:"web.enableEnhancerLinkPreview",RECENTLY_USED_EMOJIS:"web.emojiRecentlyUsed"},ue={MOBILE_NOTIFICATION:"mobileweb.notifications",MOBILE_SNIPPETS:"mobileweb.snippets",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",PREFERRED_AD_FORMAT:"adFormatPreference",SUPPRESSED_UPSELLS:"web.suppressedUpsells",AUTO_OPEN_FIRST_MESSAGE:"mobileweb.autoOpenFirstMessage",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove"},me={MOBILE_NOTIFICATION:"mobileweb.notifications",MOBILE_SNIPPETS:"mobileweb.snippets",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",PREFERRED_AD_FORMAT:"adFormatPreference",SUPPRESSED_UPSELLS:"web.suppressedUpsells",AUTO_OPEN_FIRST_MESSAGE:"mobileweb.autoOpenFirstMessage",INBOX_STYLE:"viewNewOld",IS_REINDEXABLE:"isReindexable"},Se={HAS_ADS:"hasAds",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",TIMEZONE:"web.timezone",BLOCK_IMAGES:"web.blockImages",NODIN_ONBOARD:"web.nodin.onboard",AUTO_FORWARD_ALLOWED:"mailAutoForwardAllowed",CP_SUBSCRIPTIONS:"cp.subscriptions"},pe={HAS_ADS:"hasAds",VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",DEA_BASE_NAME:"disposableAddressesPrefix",MESSAGE_FILTERS:"messageFilters",AUTO_FORWARD_ALLOWED:"mailAutoForwardAllowed",CP_SUBSCRIPTIONS:"cp.subscriptions",PREMIUM_DEA_ALLOWED:"mailPremiumDeaAllowed",BLOCK_IMAGES:"web.blockImages"},Ce={SHOW_TODAY_AT_SIGNIN:"web.hulk.showTodayAtSignIn"},Ae={..._e,VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",MESSAGE_FILTERS:"messageFilters",DEA_BASE_NAME:"disposableAddressesPrefix",MAILBOX_SIZE:"mailboxSize",TWEET:"web.enableTweet",CONSENT_EVENTS:"cp.consentEvents",AUTO_FORWARD_ALLOWED:"mailAutoForwardAllowed",PREMIUM_DEA_ALLOWED:"mailPremiumDeaAllowed"},Te={..._e,VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",MAILBOX_SIZE:"mailboxSize"},he={DISABLED_MESSAGE_READ_CARDS:"allowedMsgReadCards",COMPOSE_FORMAT:"web.composeMode",NUDGE_TO_REPLY:"web.nudgeToReply"},ge={DISABLED_MESSAGE_READ_CARDS:"allowedMsgReadCards"},Ie={COMPOSE_FORMAT:"web.composeMode"},Re={DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders"},Oe={DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders"},De={AOL_MOBILE_SNIPPETS:"mobile.quicksilver.listSpacingType",AOL_MOBILE_BLOCK_IMAGES:"web.blockImages"},Ne={..._e,MAILBOX_SIZE:"mailboxSize"},fe={...ie,...Ee,...Ae,...oe,...ae,..._e,CP_SUBSCRIPTIONS:"cp.subscriptions"},Me={...ue,...ce,...Re},Le={...me,...de,...Oe,...De},Pe={...Se,...pe},ye={...Me,...Le,...ie,...fe,...Pe,...he,...Ce,ADD_UNKNOWN_CONTACT:"web.addUnknownContact",XOBNI:"xobni",KEY_TASKS_PANEL:"web.keyTasksPanel",COMPOSE_SHOW_CC:"web.composeShowCc",COMPOSE_SHOW_BCC:"web.composeShowBcc",CC_ON_SEND:"web.ccOnSend",BCC_ON_SEND:"web.bccOnSend",HIDE_LINKEDIN_FOOTER:"web.autoSuggestHideLinkedinFooter",HIDE_LINKEDIN_RECONNECT:"web.hideLinkedinReconnect",SUPRESS_EMPTY_FOLDER_VIDEO:"web.suppressEmptyFolderVideo",SORT_SEARCH_BY:"web.searchSortBy",PEOPLE_NOTIFICATION:"web.peopleNotification",IMPORTANT_NOTIFICATION:"web.importantNotification",CANCEL_DELETE_COUNT:"web.cancelClickOnHoverDeleteCount",CONFIRM_BEFORE_DELETE:"web.confirmBeforeDelete",SHOW_EMAIL_HISTORY:"web.showEmailHistory",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SHOW_CLOUD_PERMISSION_DIALOG:"web.showCloudFilePermissionsDialog",ONBOARDING:"mailOnBoard",SYSTEM_TABS:"web.systemTabs",COMPOSE_FORMAT:"web.composeMode",CONSENT_EVENTS:"cp.consentEvents",CP_SUBSCRIPTIONS:"cp.subscriptions",LEGAL_JURISDICTION:"cp.legalJurisdiction"},be=(0,n.gP)(["INTERSTITIAL_FREQUENCY","CLIENT_BUCKETS","PREVIEW_PANE","MAIL_TABS","SNIPPETS","MSG_LIST_DENSITY","COMPOSE_FORMAT","LINK_ENHANCER","DESKTOP_NOTIFICATION","MOBILE_NOTIFICATION","COMPOSE_FONT_FAMILY","COMPOSE_FONT_SIZE","EXPANDED_FOLDERS","SHOW_CUSTOM_FOLDERS","HIDE_AD","TWEET","STATIONERY_DEFAULT_THEME","ACTION_AFTER_MSG_MOVE","BLOCK_IMAGES","USE_RICH_TEXT","ADD_UNKNOWN_CONTACT","EXPAND_SMART_VIEWS","KEY_TASKS_PANEL","THEME","THEME_MODE","COMPOSE_SHOW_CC","COMPOSE_SHOW_BCC","CC_ON_SEND","BCC_ON_SEND","BREAKING_NEWS","PACKAGE_TRACKING","DEALS_STORIES","HIDE_LINKEDIN_FOOTER","HIDE_LINKEDIN_RECONNECT","SUPRESS_EMPTY_FOLDER_VIDEO","SORT_SEARCH_BY","AD_BLOCK_FEATURE_CUE_ID","PEOPLE_NOTIFICATION","IMPORTANT_NOTIFICATION","CANCEL_DELETE_COUNT","CONFIRM_BEFORE_DELETE","SHOW_EMAIL_HISTORY","MARK_AS_READ_INTERVAL","SHOW_CLOUD_PERMISSION_DIALOG","ONBOARDING","UNSUBSCRIBE_TIMESTAMP","NUM_UNSUBSCRIBED_ITEMS","RECENTLY_USED_EMOJIS","SYSTEM_TABS","SCOUT_ONBOARDING","MOBILE_SHOW_IMAGES","MOBILE_SNIPPETS","MOBILE_THEME","MOBILE_THEME_MODE","DESKTOP_MAIL_VERSION","DESKTOP_MAIL_PREVIOUS_VERSION","DESKTOP_MAIL_VERSION_HISTORY","CONVERSATIONS","TIMEZONE","LAST_OBSERVED_TIMEZONE","PREFERRED_AD_FORMAT","PREFERRED_AD_FORMAT","NODIN_ONBOARD","AUTO_FORWARD_ALLOWED","PREMIUM_DEA_ALLOWED","SHOW_TODAY_AT_SIGNIN"]);let Fe;!function(e){e.TODAYPAGE="todaypage",e.LIST="list",e.BASE="base",e.FOLDER="folder",e.MESSAGE_FROM_FOLDER_LIST="message_from_folder_list",e.MESSAGE_FROM_SEARCH_LIST="message_from_search_list",e.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST="message_group_list_from_folder_list",e.MESSAGE_FROM_LIST="message_from_list",e.NEW_DRAFT="new_draft",e.EDIT_DRAFT="edit_draft",e.SEARCH="search",e.SETTINGS="settings",e.CONTACTS="contacts",e.CONTACT_DETAILS="contact_details",e.CONTACT_DETAILS_FROM_SEARCH="contact_details_from_search",e.EDIT_CONTACT="edit_contact",e.EDIT_CONTACT_FROM_SEARCH="edit_contact_from_search",e.CREATE_CONTACT="create_contact",e.SIGNATURES_FROM_SETTINGS="signatures_from_settings",e.ADD_FOLDER="add_folder",e.EDIT_FOLDER="edit_folder",e.THEME_CHOOSER="theme_chooser",e.ACCOUNT_LIST_FROM_SETTINGS="account_list_from_settings",e.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST="account_selector_from_account_list",e.ADD_ACCOUNT_PROVIDER="add_account_provider",e.ADD_MAILBOX_PROGRESS="add_mailbox_progress",e.ATTACHMENT="attachment",e.SPONSORED_MESSAGE="sponsored_message",e.SECURE_COMPOSE="secure_compose",e.SECURE_BODY="secure_body",e.SECURE_SETTINGS="secure_settings",e.TUTORIAL="tutorial",e.PHOTO="photo",e.MESSAGE="message",e.BLOCKED_SENDERS="blocked_senders",e.BLOCKED_DOMAINS="blocked_domains",e.AFTER_MESSAGE_MOVE="after_message_move",e.LIST_FOLDERS="list_folders",e.LOAD_CONTACT="load_contact",e.TASK_STATUS="task_status",e.SUBSCRIPTION_LIST="subscription_list",e.MESSAGE_PREVIEW="message_preview",e.REWARDS="rewards",e.PORTRAIT_AD="portrait_ad",e.NOT_FOUND="not_found",e.STOREFRONT="storefront",e.MAILPLUS_BENEFITS_UPSELL="mailplus_benefits_upsell",e.FOCUSED_INBOX="focused_inbox"}(Fe||(Fe={}));(0,n.gP)([Fe.SETTINGS]);const Ue="/d",ve="/d",we="/b",Ge="/mailboxes",ke="/m",He="/mb",Be="/[dm]",xe=ve+"/log",Ve=ke+"/log",We=Ue+"/heartbeat",Ze=Ue+"/optout",Ke="http://yo/norrinjsesearch",ze="https://help.aol.com/articles/what-is-aol-certified-mail",qe="https://help.aol.com/articles/what-is-official-aol-mail",Ye="/public/js/rapidworker_1.2.js",je=(0,n.gP)(["ALPHA_HOST","BETA_HOST","CANARY_HOST","GLOBAL_HOST","GLOBAL_NORRIN_HOST","GLOBAL_NOBLE_HOST","GLOBAL_NODIN_HOST","GLOBAL_NOBLE_BASIC_HOST","CREDSTORE_HOST","JWS_HOST","INTERNAL_JWS_HOST","BOOTCAMP_HOST","GUCE_CONSENT_HOST","INTERNAL_BOOTCAMP_HOST"]),Qe=["yql","price_grabber_api","location_autosuggest_api","heartbeat","gemini_api","video_api","linkEnhancer","oauth","bootcamp_api","astra_api","marketing_preferences","membership_rewards","obi","amp_viewer","assetConfig"].join("|"),Xe=(new RegExp(`^(?!/(d|m|mailboxes)/(${Qe})/?)`),new RegExp("^"+ve+"(?!/("+Qe+")/?)"),new RegExp("^"+we+"(?!/("+Qe+")/?)"),new RegExp("^"+ke+"(?!/("+Qe+")/?)"),new RegExp("^"+He+"(?!/("+Qe+")/?)"),new RegExp("^/mb?(?!/("+Qe+")/?)"),{BULK:"bulk",ALL:"all",NONE:"none",READ:"read",UNREAD:"unread",STARRED:"flagged",UNSTARRED:"unflagged"}),Je=(0,n.gP)(["NONE","ALL","PARTIAL"]);let $e,et,tt;!function(e){e.DATE_DESC="date_desc",e.DATE_ASC="date_asc",e.UNREAD="unread",e.STARRED="flagged",e.SENDER="sender",e.RECIPIENT="recipient",e.SUBJECT="subject",e.ATTACHMENT="attachment",e.RELEVANCE="relevance",e.CARD_DATE_DESC="carddate_desc",e.CARD_DATE_ASC="carddate_asc",e.ALPHA_ASC="alpha_asc"}($e||($e={})),function(e){e.FIRST_NAME="first_name",e.LAST_NAME="last_name"}(et||(et={})),function(e){e.RECOMMENDED="recommended",e.LOW_TO_HIGH="low_to_high",e.HIGH_TO_LOW="high_to_low"}(tt||(tt={}));const st={[et.FIRST_NAME]:1,[et.LAST_NAME]:2},at={DESC:$e.DATE_DESC,ASC:$e.DATE_ASC},nt={DESC:$e.DATE_DESC,ASC:$e.DATE_ASC,ATTACHMENT:$e.ATTACHMENT,RELEVANCE:$e.RELEVANCE},rt="cardDate",ot="time asc",it="time desc",lt=o.N7,ct=o.Q_,dt=(e="YMailNorrin")=>e&&e.includes(i)?o.iJ:o.qj;let Et;!function(e){e.FREE="FREE",e.IMAPIN="IMAPIN",e.EXCHANGEIN="EXCHANGEIN",e.ALIAS="ALIAS",e.SENDAS="SENDAS",e.DEA="DEA",e.PARTNER="PARTNER",e.POPIN="POPIN",e.BIZMAIL="BIZMAIL",e.PHONE="PHONE",e.EXTERNAL="EXTERNAL"}(Et||(Et={}));const _t=[Et.FREE,Et.IMAPIN,Et.EXCHANGEIN,Et.PARTNER,Et.BIZMAIL];(0,n.gP)(["STORM","NORRIN","NOBLE","NODIN","NOBLE_BASIC","WEBSTD"]);let ut,mt;!function(e){e[e.STORM=4]="STORM",e[e.NODIN=5]="NODIN",e[e.NORRIN=6]="NORRIN",e[e.WEBSTD=7]="WEBSTD"}(ut||(ut={})),function(e){e[e.NOBLE_BASIC=1]="NOBLE_BASIC",e[e.NOBLE=2]="NOBLE"}(mt||(mt={}));const St=(0,n.gP)(["IMAPIN","ALIAS","SENDAS","DEA"]),pt="https://s.yimg.com/nq/nr/img/yahoo_mail_pro_white_1x.png",Ct="https://s.yimg.com/nq/nr/img/yahoo_mail_pro_white_2x.png 2x",At={settingsUpgrade:"settingsUpgrade",settingsDealReco:"settingsDealReco",settingsCompactCompose:"settingsCompactCompose",settingsReplyReminders:"settingsReplyReminders",blockedDomains:"blockedDomains",premiumDEA:"premiumDEA",autoForwardUpgradeLink:"autoForwardUpgradeLink",dealRecommendations:"dealRecommendations",rightRailMailPlusReshow:"rightRailMailPlusReshow"},Tt=[Et.PARTNER,Et.FREE,Et.IMAPIN,Et.EXCHANGEIN,Et.BIZMAIL];let ht;!function(e){e.ENABLED="ENABLED",e.DISABLED="DISABLED",e.DELETED="DELETED",e.PENDING="PENDING",e.DELETE_IN_PROGRESS="DELETE_IN_PROGRESS"}(ht||(ht={}));const gt=(0,n.gP)(["NONE","PLAIN","OAUTH2","PASSKEY"]),It=(0,n.gP)(["DISABLED","DELETED","MAINTENANCE"]),Rt=(0,n.gP)(["ENABLED","DISABLED","DELETED","MAINTENANCE","MIGRATION","INACTIVE"]),Ot=(0,n.gP)(["FREE","EXTERNAL","PHONE","BIZMAIL","PARTNER"]);let Dt;!function(e){e.MESSAGES="MESSAGES",e.MESSAGE="MESSAGE",e.IMAGES="IMAGES",e.DOCUMENTS="DOCUMENTS",e.ATTACHMENTS="ATTACHMENTS",e.LINKS="LINKS",e.PEOPLE="PEOPLE",e.EXTRACTIONS="EXTRACTIONS",e.ADS="ADS",e.PENCIL_AD="PENCIL_AD",e.AD_FEEDBACK="AD_FEEDBACK",e.GIFS="GIFS",e.CLOUD_STORAGE_ITEMS="CLOUD_STORAGE_ITEMS",e.STORE_SUMMARY="STORE_SUMMARY",e.TIMECHUNK="TIMECHUNK",e.LOAD_MORE="LOAD_MORE",e.FOLDER="FOLDER",e.SMARTVIEW="SMARTVIEW",e.TRAVEL_CARDS="TRAVEL_CARDS",e.COUPON_SEPARATOR="COUPON_SEPARATOR",e.RECOMMENDED_DEALS_HEADER="RECOMMENDED_DEALS_HEADER",e.RECEIPT_SEPARATOR="RECEIPT_SEPARATOR",e.SINGLE_STORE_SEPARATOR="SINGLE_STORE_SEPARATOR",e.CONTACTS="CONTACTS",e.CONTACTS_SEPARATOR="CONTACTS_SEPARATOR",e.CONTACTS_CONTROLS="CONTACTS_CONTROLS",e.EXPAND_COLLAPSE_CONTACTS="EXPAND_COLLAPSE_CONTACTS",e.LOADING_INDICATOR="LOADING_INDICATOR",e.COUPON_CARDS="COUPON_CARDS",e.RECOMMENDATION_CARDS="RECOMMENDATION_CARDS",e.BRAND_SHORTCUTS="BRAND_SHORTCUTS",e.PKG_TRACKING_CARD="PKG_TRACKING_CARD",e.OFFER_CARDS="OFFER_CARDS",e.GROCERY_CATEGORIES="GROCERY_CATEGORIES",e.REFUND_CARDS="REFUND_CARDS",e.CARDS="CARDS",e.SEARCH_PLACEHOLDER="SEARCH_PLACEHOLDER",e.COMPOSE="COMPOSE",e.PLAADS="PLAADS",e.ADS_SM="ADS_SM",e.RECEIPT_CARDS="RECEIPT_CARDS",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.SENDERS="SENDERS",e.SUBHUB_RECOMMENDATION_LIST="SUBHUB_RECOMMENDATION_LIST",e.BLOCKED_DOMAINS="BLOCKED_DOMAINS"}(Dt||(Dt={}));const Nt=["TODAY","YESTERDAY","DAY","EARLIER_THIS_WEEK","THIS_WEEK","LAST_WEEK","EARLIER_IN_MONTH","THIS_MONTH","MONTH","EARLIER_IN_YEAR","THIS_YEAR","YEAR"],ft={Types:(0,n.gP)(Nt),PriorityMap:(Mt=Nt,Mt.reduce(((e,t,s)=>(e[t]=s,e)),{})),Day:{SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6},Month:{JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}};var Mt;let Lt;!function(e){e.FROM="FROM",e.TO="TO",e.ALL="ALL",e.RELATED="RELATED",e.WITH_KEYWORD="WITH_KEYWORD",e.WITH_KEYWORD_RELEVANCE="WITH_KEYWORD_RELEVANCE",e.TO_WITH_RELEVANCE="TO_WITH_RELEVANCE",e.FROM_WITH_RELEVANCE="FROM_WITH_RELEVANCE",e.ALL_WITH_RELEVANCE="ALL_WITH_RELEVANCE",e.SHOPPING="SHOPPING",e.TRAVEL="TRAVEL",e.FOCUSED_INBOX="FOCUSED_INBOX",e.FINANCE="FINANCE",e.SOCIAL="SOCIAL",e.TRAVEL_VIEW_UPCOMING="TRAVEL_VIEW_UPCOMING",e.TRAVEL_VIEW_PAST="TRAVEL_VIEW_PAST",e.SYSTEMFOLDER="SYSTEMFOLDER",e.CUSTOMFOLDER="CUSTOMFOLDER",e.FOLDERLABEL="FOLDERLABEL",e.SAVED_COUPON_CARDS="SAVED_COUPON_CARDS",e.ALL_REFUND_CARDS="ALL_REFUND_CARDS",e.ALL_COUPON_CARDS="ALL_COUPON_CARDS",e.ALL_RECEIPT_CARDS="ALL_RECEIPT_CARDS",e.ALL_DEAL_RECOMMENDATION_CARDS="ALL_DEAL_RECOMMENDATION_CARDS",e.ALL_PKG_TRACKING_CARD="ALL_PKG_TRACKING_CARD",e.RECOMMENDED_OFFER_CARDS="RECOMMENDED_OFFER_CARDS",e.ACTIVATED_OFFER_CARDS="ACTIVATED_OFFER_CARDS",e.GIFS="GIFS",e.CLOUD_STORAGE_ITEMS="CLOUD_STORAGE_ITEMS",e.ALL_PHOTOS="ALL_PHOTOS",e.PEOPLE="PEOPLE",e.NOT_PEOPLE="NOT_PEOPLE",e.TOP_CONTACTS="TOP_CONTACTS",e.USER_CREATED_CONTACTS="USER_CREATED_CONTACTS",e.IMPORTANT_CONTACTS="IMPORTANT_CONTACTS",e.GROUPS="GROUPS",e.PRINT_CONTACTS="PRINT_CONTACTS",e.ACTIVE="ACTIVE",e.PAST="PAST",e.OLDMAIL="OLDMAIL",e.NEWMAIL="NEWMAIL"}(Lt||(Lt={}));const Pt={ALL_CONTACTS:"all_contacts",AUTO_ADDED:"auto_added",CO_WORKERS:"co_workers",FAMILY:"family",FRIENDS:"friends",UNCATEGORIZED:"uncategorized",GENERAL:"general"},yt=[Lt.PEOPLE,Lt.SHOPPING,Lt.OLDMAIL,Lt.NEWMAIL],bt=[W.PEOPLE,W.COUPONS],Ft={[W.PEOPLE]:"PE",[W.COUPONS]:"SH",[W.SOCIAL]:"SO",[W.FINANCE]:"FI",[W.TRAVEL]:"TR"},Ut=(0,n.gP)(["PEOPLE","KEYWORD","ALL","RECENT"]),vt=(0,n.gP)(["PERSON","KEYWORD","WEB_SEARCH","RECENT","HEADER","EMAIL"]),wt=(0,n.gP)(["PERSON","KEYWORD","RECENT","EMAIL"]);let Gt;!function(e){e.TEXT="TEXT",e.NEW_DRAFT="NEW_DRAFT",e.NO_SUBJECT="NO_SUBJECT",e.LOADING="LOADING",e.SEARCH_KEYWORD="SEARCH_KEYWORD",e.ERROR="ERROR",e.SEARCH_DEFAULT="SEARCH_DEFAULT",e.SETTINGS="SETTINGS",e.PREVIEW="PREVIEW",e.SPONSORED_AD="SPONSORED_AD",e.SMART_VIEW="SMART_VIEW"}(Gt||(Gt={}));const kt=(0,n.gP)(["NONE","SEARCH","SETTINGS","COMPOSE","SMARTVIEW_PEOPLE","SMARTVIEW_SHOPPING","SMARTVIEW_PHOTOS","SMARTVIEW_DOCUMENTS","SMARTVIEW_COUPONS","SMARTVIEW_GROCERIES","SMARTVIEW_RECEIPTS","SMARTVIEW_TRAVEL","SMARTVIEW_TUTORIAL","EXCLAMATION_ALT"]);let Ht;!function(e){e.UP="UP",e.DOWN="DOWN",e.FIRST="FIRST",e.LAST="LAST",e.LEFT="LEFT",e.RIGHT="RIGHT"}(Ht||(Ht={}));const Bt={NO:0,RIGHT:1,BOTTOM:2},xt={H_SLIDER_POS:"hSliderPos",V_SLIDER_POS:"vSliderPos",H_SLIDER_POS_V2:"hsp",V_SLIDER_POS_V2:"vsp"},Vt={EXPANDED:0,COLLAPSED:1,DISABLED:2},Wt={ALWAYS:!0,NEVER:!1},Zt={SLIM:1,NORMAL:2,RELAXED:3};let Kt;!function(e){e.FULL_SIZED="FULL_SIZED",e.NEW_WINDOW="NEW_WINDOW",e.COMPACT="COMPACT"}(Kt||(Kt={}));const zt={[Kt.FULL_SIZED]:0,[Kt.COMPACT]:2},qt={FAMILY:'"Helvetica Neue", Helvetica, Arial, sans-serif',SIZE:"3",VALUE:r.N4.MEDIUM},Yt=(0,n.gP)(["LAUNCH","CHECK_MAIL","NEIGHBOR"]),jt={GO_BACK_TO_FOLDER:3,SHOW_PREVIOUS_MESSAGE:2,SHOW_NEXT_MESSAGE:1},Qt=(Object.assign({COMPACT_SLIM:4,COMPACT_NORMAL:5,COMPACT_RELAXED:6,COMPACT_SNIPPET_SLIM:7,COMPACT_SNIPPET_NORMAL:8,COMPACT_SNIPPET_RELAXED:9},Zt),(0,n.gP)(["BROWSER","PUSH"])),Xt=((0,n.gP)(["NONE","PROCESSING_BEGUN","PROCESSING_COMPLETE"]),{IMMEDIATELY:0,AFTER_2_SECONDS:2,AFTER_5_SECONDS:5,NEVER:999}),Jt={PAGES_CHUNK_SIZE:3,GAP_BETWEEN_PAGES:12,MAX_SCALE:3,MIN_SCALE:1,SCALE_STEP:.05,TOOLBAR_HEIGHT:54,Movement:(0,n.gP)(["PREV","NEXT","ZOOM_IN","ZOOM_OUT"]),Orientation:(0,n.gP)(["FIT_TO_WIDTH","FIT_TO_HEIGHT"]),Paddings:{AROUND_PAGE_WIDTH:20,AROUND_PAGE_HEIGHT:20,AROUND_IMG_WIDTH:16,AROUND_IMG_HEIGHT:16},previewableMimeTypes:["application/pdf","application/x-pdf","application/vnd.pdf","text/pdf","text/x-pdf","image/pdf","application/acrobat","application/text","text/css","text/plain","application/xml","text/xml","application/javascript","text/javascript","application/rtf","text/rtf","application/x-rtf","text/richtext","application/msword","application/x-msword","application/doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-word","application/vnd.openxmlformats-officedocument.wordprocessingml","application/vnd.ms-word.document.12","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-excel","application/msexcel","application/x-msexcel","application/excel","application/x-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.formula","application/vnd.oasis.opendocument.presentation"]},$t=(0,n.gP)(["FLOW","PINNED","PUSHED"]),es=.8,ts=(0,n.gP)(["MOVETOFOLDER"]),ss=(0,n.gP)(["ALL"]),as=(0,n.gP)(["SUBJECT","SENDER","TOORCC","BODY"]),ns=(0,n.gP)(["CONTAINS","NOTCONTAINS","BEGINSWITH","ENDSWITH"]),rs=(0,n.gP)(["CLEAR_FOLDER","ARCHIVE_FOLDER"]),os={FOLDERS:"foldersField",FROM:"fromField",TO:"toField",SUBJECT:"subjectField",KEYWORD:"keywordField",BEFORE:"beforeField",AFTER:"afterField",ATTACHMENT:"attachmentField",PHOTO:"photoField",CALENDAR_INVITE:"calendarInviteField"},is={ALL_MAIL:"allMail"};Fe.FOLDER,Y.INBOX;let ls;!function(e){e.ARCHIVE="archive",e.RESTORE="restore",e.SPAM="spam",e.HAM="ham",e.RAF="raf",e.EXPANDALL="expandAll",e.COLLAPSEALL="collapseAll",e.MOVE="move",e.MORE="more",e.READ="read",e.UNREAD="unread",e.STARRED="starred",e.UNSTARRED="unstarred",e.DELETE="delete"}(ls||(ls={}));const cs=(0,n.gP)(["STAR_CHANGE_ALL_ITEMS","STAR_CHANGE_SELECTED_ITEMS","READ_CHANGE_FOLDER_ITEMS","READ_CHANGE_ALL_ITEMS","READ_CHANGE_SELECTED_ITEMS","DELETE_FOLDER_ITEMS","DELETE_ALL_ITEMS","DELETE_SELECTED_ITEMS","DELETE_ALL_FROM_SENDERS","MOVE_ALL_ITEMS","MOVE_SELECTED_ITEMS","ARCHIVE_FOLDER_ITEMS","ARCHIVE_ALL_ITEMS","ARCHIVE_SELECTED_ITEMS","RESTORE_ALL_ITEMS","RESTORE_SELECTED_ITEMS","SPAM_ALL_ITEMS","SPAM_SELECTED_ITEMS","NOT_SPAM_ALL_ITEMS","NOT_SPAM_SELECTED_ITEMS","UNDO_MOVE","DELETE_DRAFT"]),ds=(0,n.gP)(["INIT","PENDING","COMPLETED","FAILED","ABORTING","ABORTED","ABORT_FAILED"]),Es={PERSONALIZE_INBOX:"0",ACCOUNTS:"1",SECURITY:"8",NOTIFICATIONS:"2",WRITING_EMAIL:"3",VIEWING_EMAIL:"4",CATEGORIZATION:"5",AUTOMATIC_REPLY:"6",FILTERS:"7",SECURITY_AND_PRIVACY:"8",CONTACTS:"9",ENCRYPTION:"10",MAIL_PRO:"11",MAIL_PLUS:"12"},_s={[W.PHOTOS]:"photos",[W.DOCUMENTS]:"documents",[W.TRAVEL]:"travel",[W.COUPONS]:"coupons",[W.RECEIPTS]:"receipts",[W.PEOPLE]:"people",[W.GROCERIES]:"groceries",[W.ATTACHMENTS]:"attachments",[W.SUBSCRIPTIONS]:"subhub",[W.SENDER_ROLLUP]:"senderRollup",[W.COUPON_EMAILS]:"couponEmails"},us={..._s,[W.UNREAD]:"unread",[W.STARRED]:"starred",[W.OLDMAIL]:"oldMail",[W.NEWMAIL]:"newMail"};let ms;!function(e){e.moreFeatures="moreFeatures",e.moreThemes="moreThemes"}(ms||(ms={}));const Ss={...us,CONTACT_DETAILS:"contactDetails",COUPON_RECOMMENDATIONS:"couponRecommendations",RECOMMENDED_DEALS:"recommededDeals",FOCUSED_INBOX:"FOCUSED_INBOX"},ps={TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight"},Cs=(0,n.gP)(["MARK_READ","ARCHIVE","DELETE","RENAME_FOLDER","MOVE_FOLDER","DELETE_FOLDER","CREATE_FOLDER","SEPARATOR"]),As={CARDS:"CARDS",MESSAGES:"MAIN",IMAGES:"IMAGES",DOCUMENTS:"DOCUMENTS",PEOPLE:"PEOPLE",AL:"AL",PLA:"PLA"};let Ts;!function(e){e.MAC="mac",e.WINDOWS="windows",e.IOS="ios",e.ANDROID="android",e.UBUNTU="ubuntu",e.OTHER="other"}(Ts||(Ts={}));const hs=(0,n.gP)(["MESSAGE","OFFERS","CONTACTS"]),gs={NO_REFRESH:0,EMERGENCY_REFRESH:1,PERIODIC_REFRESH:2},Is=(0,n.gP)(["LAUNCH_API_ERROR","ABUSIVE_USER","WRONG_MAILBOX_STATE","LAUNCH_PAGE_NOT_FOUND_ERROR","NO_SCRIPT","UNSUPPORTED_BROWSER","UNSUPPORTED_FBMAILBOT","SERVER_ERROR","REACT_ERROR","DEFAULT","SWITCH_ACCOUNT","NO_ACTIVE_MAILBOX"]);let Rs,Os;!function(e){e.YAHOO="yahoo",e.YAHOO_SB="yahoosb",e.GOOGLE="google",e.GOOGLE_APP="googleapp",e.OUTLOOK="outlook",e.AOL="aol",e.OTHER="other",e.OFFICE365="office365",e.VERIZON_MEDIA="verizonmedia",e.YAHOO_INC="yahooinc"}(Rs||(Rs={})),function(e){e.Facebook="Facebook",e.LinkedIn="LinkedIn",e.Twitter="Twitter",e.LinkedInTest="LinkedInTest"}(Os||(Os={}));const Ds=(0,n.gP)(["GDrive","Dropbox"]),Ns={[Os.LinkedIn]:"r_basicprofile r_member_lookup",[Rs.YAHOO]:null,[Rs.GOOGLE]:"https://www.googleapis.com/auth/contacts.readonly",[Rs.OUTLOOK]:"Contacts.Read offline_access",[Rs.AOL]:"profile"},fs={[Os.LinkedIn]:"f7e0ac2c-98e8-11df-8527-000ffef4f721",[Os.LinkedInTest]:"f8f1ac2c-99e8-11df-8517-000gfef5f721",[Rs.YAHOO]:"aa174cde-374f-47b5-9365-382da87f1d99",[Rs.GOOGLE]:"e0b61efe-086e-11e2-8a42-002481ee7a3a",[Rs.OUTLOOK]:"07b12df4-b892-11e2-95d7-2c4138949916",[Rs.AOL]:"b770b078-3fcd-4a17-b26a-7b8c56c2a91b"},Ms={[Os.LinkedIn]:Os.LinkedIn},Ls={CONNECTED:"CONNECTED",NOT_CONNECTED:"NOT_CONNECTED",EXPIRED:"EXPIRED",FAILED:"FAILED",QUEUED:"QUEUED"},Ps=[Rs.YAHOO,Rs.GOOGLE,Rs.OUTLOOK,Rs.AOL],ys={CONV:"CONV",SENDER:"SENDER"},bs=100,Fs=1e3,Us=100,vs=8;let ws;!function(e){e.STACKED="STACKED",e.COLLAPSED="COLLAPSED",e.EXPANDED="EXPANDED",e.TEMPORARY_EXPANSION="TEMPORARY_EXPANSION",e.TEMPORARY_COLLAPSE="TEMPORARY_COLLAPSE"}(ws||(ws={}));const Gs={AstraClient:"astra_client_call",AthenaClient:"athena_client_call",BootcampClient:"bootcamp_client_call",BreakingNewsClient:"breaking_news_client",TodayPageClient:"today_page_client",CloudStorageClient:"cloud_storage_client_call",CredstoreClient:"credstore_client_call",DarlaAdClient:"darla_ad_client",JACAdClient:"jac_ad_client",SubDispatcherAPIClient:"subdispatcher_api_client_call",EmojiSearch:"emoji_search_call",GeminiAPIClient:"gemini_api_client_call",GifCategories:"gif_category_content_call",HeartbeatAPIClient:"heartbeat_api_client_call",LinkEnhancerClient:"lucy_api_call",LocationAutoSuggestClient:"location_autosuggest_api_client_call",MailAPIClient:"mail_api_client_call",MemberProfileAPIClient:"member_profile_api_client",MembershipRewardsClient:"membership_rewards_client",ObiApiClient:"obi_api_client",PriceGrabberClient:"price_grabber_client_call",RapidClient:"i13n_beacon",RelatedSearchesAPIClient:"related_searches_api_client",SenderRollupClient:"sender_rollup_client",MarketingPreferencesAPIClient:"marketing_preferences_api_client_call",FalconAPIClient:"falcon_api_client_call",EpochCalendarClient:"epoch_calendar_client",SmartReplyClient:"smart_reply_client_call",SubscriptionAPIClient:"subscription_api_client_call",XobniClient:"xobni_client_call",TastemakerClient:"tastemaker_client_call"},ks=["messages.saveV3","messages.saveWithAttachment","messages.saveAndSend","messages.saveAndSendWithAttachment","messageGroups.saveAndSend","messageGroups.saveAndSendWithAttachment","messageGroups.saveRawMessage","messageGroups.send","compose.open","compose.replyFwd","compose.attach","compose.save","compose.send"],Hs=["messages.getBodies","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messageGroups.getList","message_view.get","message_view.update"],Bs=["importantContacts","alphabeticalContacts","searchSimpleContact","contactDetailsEdit","createContact","contactUploadPhoto","contactGroupsList","contactsInGroup","editContactGroup","createContactGroup","contactGroupsDelete","printContacts","fetchContactsSnapshot","restoreContacts","importContactsFromCsv"],xs=[Rs.YAHOO,Rs.GOOGLE,Rs.GOOGLE_APP,Rs.OUTLOOK,Rs.AOL,Rs.OFFICE365],Vs=[Rs.GOOGLE,Rs.OUTLOOK,Rs.OFFICE365,Rs.AOL,Rs.YAHOO],Ws={[Rs.GOOGLE]:{domainCheck:["*"],domainHints:["gmail","google","googlemail"],serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"https://mail.google.com/ https://www.googleapis.com/auth/contacts https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email"},[Rs.VERIZON_MEDIA]:{serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"https://mail.google.com/ https://www.googleapis.com/auth/contacts https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email"},[Rs.YAHOO_INC]:{serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"https://mail.google.com/ https://www.googleapis.com/auth/contacts https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email"},[Rs.YAHOO]:{domainCheck:["yahoo","ymail","rocketmail","myyahoo"],serverUri:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1},[Rs.OUTLOOK]:{domainCheck:["outlook","hotmail","live","msn"],serverUri:"imaps://outlook.com",oauthDomain:"outlook.com",profileCheck:!0,providerUrl:"https://www.outlook.com",scope:"wl.imap,wl.offline_access,wl.emails,wl.basic,wl.contacts_emails,wl.contacts_phone_numbers"},[Rs.AOL]:{domainCheck:["aol","aim"],serverUri:"imaps://aol.com",oauthDomain:"aol.com",profileCheck:!0,providerUrl:"https://www.aol.com",scope:"offline_access email profile addressbook opencalendar"},[Rs.GOOGLE_APP]:{serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"https://mail.google.com/ https://www.googleapis.com/auth/contacts https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email"},[Rs.OFFICE365]:{domainCheck:["*"],domainHints:[],type:Et.EXCHANGEIN,serverUri:"https://office365.com",oauthDomain:"office365.com",profileCheck:!0,providerUrl:"https://www.office.com"},[Rs.YAHOO_SB]:{serverUri:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1}},Zs=(0,n.gP)(["att.net","bellsouth.net","attworld.com","sky.com","frontiernet.net","frontier.com","myfrontiermail.com","citilink.net","newnorth.net","epix.net","gvni.com","frontiernet.com","ctaz.com","ctaz.net","citilink.com","evansinet.com","globalvalleynetworks.com","xtra.co.nz","mymts.in","ameritech.net","btinternet.com","btopenworld.com","demobroadband.com","ovi.com","flash.net","nl.rogers.com","nvbell.net","pacbell.net","prodigy.net","rogers.com","sbcglobal.net","snet.net","swbell.net","talk21.com","verizon.net","wans.net","ymail.com","rocketmail.com","yahoo-inc.com"]),Ks=(0,n.gP)(["ad","ae","af","ag","ai","al","am","an","ao","aq","ar","as","at","au","aw","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cc","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cs","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","es","et","fi","fj","fk","fm","fo","fr","fx","ga","gb","gd","ge","gh","gi","gl","gp","gq","gf","gm","gn","gr","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","in","io","iq","ir","is","it","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","mg","mh","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nt","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pt","pr","pw","py","qa","re","ro","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sy","sz","tc","td","tf","tg","th","tj","tk","tm","tn","to","tp","tr","tt","tv","tw","tz","ua","ug","uk","um","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yu","za","zm","zr","zw"]),zs=(0,n.gP)(["aero","asia","biz","com","edu","gov","info","jobs","mil","mobi","museum","name","net","org","co"]);let qs,Ys;!function(e){e.BODY_SCROLLING="bodyScrolling",e.BOLD_FOCUS="boldFocus",e.SYNC_DATA_ONLY_WHEN_NEEDED="syncDataOnlyWhenNeeded",e.SYNC_NOW="syncNow",e.YBAR_FUJI2_THEME="ybarFuji2Theme",e.ADD_EDIT_FROM_LIST_CARD="addContactsFromMsg",e.EXTRACTIONS_FEEDBACK="extractionsFeedback",e.FORCE_OPTIN_BEACON="forceOptinBeacon",e.NPS_SURVEY="npsSurvey",e.NPS_SURVEY_CUE="npsSurveyCue",e.PRIVACY_RIGHTS_ICON="privacyRightsIcon",e.MAIL_PLUS_ELIGIBLE="mailPlusEligible",e.MAIL_PLUS_YBAR_UPSELL_ELIGIBLE="mailPlusYBarUpsellEligible",e.MAIL_PLUS_INELIGIBLE="mailPlusIneligible",e.MAIL_PLUS_SWITCH_WIDGET_ELIGIBLE="mailPlusSwitchWidgetEligible",e.MAIL_PLUS="mailPlus",e.MAIL_PLUS_MOBILE_APPS="mailPlusMobileApps",e.MAIL_PLUS_MOBILE_WEB="mailPlusMobileWeb",e.MAIL_PLUS_FREE_TRIAL="mailPlusFreeTrial",e.MAIL_PLUS_IOS_IN_APP_PURCHASE_USER="mailPlusIOSInAppPurchaseUser",e.MAIL_PLUS_ANDROID_IN_APP_PURCHASE_USER="mailPlusAndroidInAppPurchaseUser",e.DEAL_RECOMMENDATIONS_ENABLED="dealRecommendations",e.DEAL_RECO_ELIGIBLE="dealRecoEligible",e.DEALS_RECOMMEND_CONTROL_ELIGIBLE="dealsRecommendControlEligible",e.DEALS_RECOMMEND_CONTROL_CUE="dealsRecommendControlCue",e.DEAL_RECO_CUE="dealRecoCue",e.COMPOSE_FORMAT_CHOOSER_ENABLED="composeFormatChooserEnabled",e.DEAL_RECO_MOBILE_CUE="dealRecoMobileCue",e.DEALS_RECOMMEND_CONTROL_MOBILE_CUE="dealsRecCtrlMobileCue",e.MAIL_PLUS_TASTEMAKER="mailPlusTastemaker",e.BLOCKED_DOMAINS="blockedDomains",e.MOBILE_AFTER_MESSAGE_MOVE_ENABLED="mobileAfterMessageMoveEnabled",e.MOBILE_AFTER_MESSAGE_MOVE_ELIGIBLE="mobileAfterMessageMoveEligible",e.MAIL_PLUS_UPSELL_REMOVE_WIDER_EXTENSION="removeWiderExtensionMailPlusUpsell",e.MAIL_PLUS_SPONSORED_MESSAGE="mailPlusSponsoredMessage",e.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER="staticMailPlusUpsellForEmptyFolder",e.HIDE_RIGHT_PANE_ADS_CLICK_COUNT="hideRightPaneAdsClickCount",e.AD_LITE="adLite",e.ADS="ads",e.NO_ADS="noAds",e.JAC_ADS="jacAds",e.JAC_SERVER_PREFETCH="jacServerPrefetch",e.JAC_CLIENT_PREFETCH="jacClientPrefetch",e.JAC_DOUBLE_BUFFERING="jacDoubleBuffering",e.JAC_AD_BLOCK_DETECTION="jacAdBlockDetection",e.JAC_SCRIPT_CACHE="jacScriptCache",e.JAC_CONNECT_ID="jacConnectId",e.DARLA_PREFETCH="darlaPrefetch",e.DARLA_LOOKAHEAD="darlaLookAhead",e.DARLA_PREFETCH_LAUNCH_SYNCER="darlaPrefetchLaunchSyncer",e.DARLA_GEMINI_ARBITRATION="darlaGeminiArbitration",e.DARLA_CHROMAGGEDON_SA="darlaChromaggedonSA",e.AMP="amp",e.AMP_ENABLED="ampEnabled",e.AMP_PROXY="ampProxy",e.SHOW_ENHANCE_CONTACTS_PREFERENCE="showEnhanceContactsPreference",e.SHOW_ENHANCED_CONTACTS_INFO="showEnhancedContactInfo",e.GEMINI_SPONSORED_VIDEO="geminiSponsoredVideo",e.COM_SCORE_BEACONING="comScoreBeaconing",e.EMPTY_FOLDER_VIDEO="emptyFolderVideo",e.MESSAGE_READ_AD_ROTATION="messageReadAdRotation",e.MESSAGE_UNREAD_INDICATOR="messageUnreadIndicator",e.GEMINI_VIEWABILITY="geminiViewability",e.GEMINI_VIEWABILITY_IO="geminiViewabilityIO",e.PREVIEW_PANE_IN_PIXELS="previewpaneInPixels",e.PREVIEW_PANE_COOKIE="previewpaneCookie",e.MAIL_PRO_ELIGIBLE="mailProEligible",e.MAIL_PRO_PRIORITY_SUPPORT_ELIGIBLE="mailProPrioritySupportEligible",e.HIDE_RIGHT_RAIL="hideRightRail",e.PREMIUM_AD_DETECTION="premiumAdDetection",e.GEMINI_CONTEXTUAL_ADS="geminiContextualAds",e.AUTOPLAY_EMPTY_FOLDER_VIDEO="autoPlayEmptyFolderVideo",e.ROTATE_ADS_ONLINE="rotateAdsOnline",e.BOOKING_CARD="bookingCard",e.WIDER_MAIL_ELIGIBLE="widerMailEligible",e.WIDER_MAIL_PROMO="widerMailPromo",e.MAIL_PRO="mailPro",e.MAIL_PRO_LINK_IN_SETTINGS_MENU="mailProLinkInSettingsMenu",e.ABORT_DARLA_IN_PROGRESS="abortDarlaInProgress",e.LREC_MON_AD_ARBITRATION="lrecMonAdArbitration",e.UBA_LREC_MON_AD_ARBITRATION="ubaLrecMonAdArbitration",e.ADBLOCK_UPSELL="adBlockUpsell",e.REDIRECT_ADBLOCK_USER_TO_NODIN="redirectAdBlockToNodin",e.ADBLOCK_DELAY_DISMISS="adblockDelayDismiss",e.SHOPPING_CART_AD="shoppingCartAd",e.AUTO_FORWARD_EMAIL="autoForwardEmail",e.SPONSORED_MESSAGE_TRIAGE="sponsoredMessageTriage",e.EDGE_TO_EDGE_GRAPHICAL_AD="edgeToEdgeGraphicalAd",e.CROSS_DOMAIN_DPA_ADS="crossDomainDpaAds",e.NO_FORCE_DISPLAY_AD_ROTATION_ON_ROUTE_CHANGE="noForceDisplayAdRotationOnRouteChange",e.WEB_FONTS="webFonts",e.OFFLINE_CHECKING="offlineChecking",e.OFFLINE_TOASTS="offlineToasts",e.PENCIL_AD="pencilAd",e.PENCIL_AD_URL_VALIDATION="pencilAdUrlValidation",e.SECOND_PENCIL_AD="secondPencilAd",e.SECOND_PENCIL_FALLBACK_SECTION_ID_ENABLED="secondPencilFallbackSectionIdEnabled",e.RELATED_SEARCHES_CARD="relatedSearchesCard",e.HOTELS_CARD_PREFILL="hotelsCardPrefill",e.NOBLE_WEB_LINK="nobleWebLink",e.AFFILIATE_PARTNER="affiliatePartner",e.NODIN_MESSAGE_HEADER="nodinMessageHeader",e.CONTACT_CARD_TRACKING="contactCardTracking",e.MESSAGE_LIST_AD_CAROUSEL="messageListAdCarousel",e.NOBLE_HYBRID_AD="nobleHybridAd",e.PORTRAIT_AD="portraitAd",e.FLASH_SALE_AD="flashSaleAd",e.FLASH_SALE_AD_IN_SECONDS="flashSaleAdInSeconds",e.PLA_SEARCH_ADS="plaSearchAds",e.MESSAGE_READ_AD_ROTATION_V2="messageReadAdRotationV2",e.ROTATE_PENCIL_AD_ON_EXPIRE="rotatePencilAdOnExpire",e.AOL_VIDEO_PLAYER="aolVideoPlayer",e.OATH_VIDEO_PLAYER="oathVideoPlayer",e.RIGHT_RAIL_NATIVE_AD="rightRailNativeAd",e.DEBUG_DARLA="debugDarla",e.SPONSORED_MOMENT="sponsoredMoment",e.VIDEO_SPONSORED_MOMENT="videoSponsoredMoment",e.ADBLOCK_RR_UPSELL="adblockRRUpsell",e.ABP_STATIC_ADS="ABPStaticAds",e.ROTATE_ADS_ON_CHECK_MAIL="rotateAdsOnCheckMail",e.AD_VIEWABILITY_TRACKER="adViewabilityTracker",e.AD_FORMAT_SELECTION="adFormatSelection",e.COMMERCIAL_ANALYSIS_OF_CONTENT="commercialAnalysisOfContent",e.RIGHT_RAIL_UPSELL_VIDEO_AD="rightRailUpsellVideoAd",e.RIGHT_RAIL_EXCL_MAIL_PLUS_UPSELL="rightRailExclMailPlusUpsell",e.RIGHT_RAIL_COLLAPSE_RESTRICTION="rightRailCollapseRestriction",e.REDIRECT_MAIL_PLUS_UPSELL_TO_MAIL_PLUS_TAB="redirectMailPlusUpselltoMailPlusTab",e.ENABLE_SEARCH_RELEVANCE_CUE="enableSearchRelevanceCue",e.MSG_READ_PENCIL_AD="msgReadPencilAd",e.MSG_READ_PENCIL_AD_SEND_DOMAIN="msgReadPencilAdSendDomain",e.DEALS_SHOPPING_CART_AD="dealsShoppingCartAd",e.NO_IDLE_CHECK_MAIL_AD_ROTATIONS="noIdleCheckMailAdRotations",e.SAME_SEARCH_AD_ON_SECOND_PENCIL="sameSearchAdOnSecondPencil",e.SECOND_SEARCH_AD="secondSearchAd",e.AD_PARTIALLY_ABOVE_FOLD="adPartiallyAboveFold",e.DEAL_EXTENSION="dealExtension",e.MARK_AS_READ_DEFER="markAsReadDefer",e.NO_HIDDEN_CHECK_MAIL_AD_ROTATIONS="noHiddenCheckMailAdRotations",e.MEMBERSHIP_REWARDS="membershipRewards",e.TMR_ONBOARDING_CUE="tmrOnboardingCue",e.TMR_ICON_NOTIFICATION="tmrIconNotification",e.TMR_MOBILE_ONBOARDING_CUE="tmrMobileOnboardingCue",e.TMR_MOBILE_DAILY_CHECKIN_CUE="tmrMobileDailyCheckinCue",e.TMR_MOBILE_IMAPIN_CUE="tmrMobileImapInCue",e.ADD_MAILBOX_OPTION="addMailboxOption",e.ADD_MAILBOX_POPOVER="addMailboxPopover",e.TMR_ONBOARDING_REMINDER="tmrOnboardingReminder",e.MAILPRO_FREE_TRIAL="mailproFreeTrial",e.MAILPRO_FREE_TRIAL_UPSELLS="mailproFreeTrialUpsells",e.TOOLTIP_EMOJI="tooltipEmoji",e.NUKE_DISPLAY_ADS_ON_INACTIVE="nukeDisplayAdsOnInactive",e.NO_AD_ROTATION_ON_COMPOSE="noAdRotationOnCompose",e.CEP_FORWARD="cepForward",e.PREVIEW_MESSAGE_V3="previewMessageV3",e.MESSAGE_READ_CONTACT_CARD="messageReadContactCard",e.RSVP="rsvp",e.RSVP_RESPONSE="rsvpResponse",e.NUDGE_TO_REPLY_ELIGIBLE="nudgeToReplyEligible",e.REPLY_NUDGE_COUNT="replyNudgeCount",e.PARSE_RSVP_REPLY_LINKS="parseRsvpReplyLinks",e.PHOTO_THEMES="photoThemes",e.TOOLBAR_V3="toolbarV3",e.RIGHT_RAIL_CONTACT_CARD="rightRailContactCard",e.RIGHT_RAIL_PHOTO_CARD="rightRailPhotosCard",e.RIGHT_RAIL_DOCS_CARD="rightRailDocsCard",e.RIGHT_RAIL_MESSAGES_CARD="rightRailMessagesCard",e.SUBHUB_RECOMMENDATIONS="subhubRecommendations",e.SUBHUB_RECOMMENDATION_CUE="subhubRecommendCue",e.NODIN_CHECK_MAIL="nodinCheckMail",e.NODIN_CHECK_MAIL_TOAST="nodinCheckMailToast",e.NODIN_SHOW_IMAGES_PREF="nodinShowImagesPref",e.NODIN_ES5_SHIM="nodinES5Shim",e.NODIN_MESSAGE_READ_AD_ROTATION="nodinMessageReadAdRotation",e.NODIN_FILTERS="nodinFilters",e.LOG_CLIENT_ERROR="logClientError",e.SECURITY_SUBSCRIPTIONS_UPSELL="securitySubscriptionsUpsell",e.DO_NOT_SELL_LINK="doNotSellLink",e.SCOUT_PREDICATE="scoutPredicate",e.SCOUT_RECURRING="scoutRecurring",e.CONTACTS_PANE_FEATURE="contactsPaneFeature",e.CONTACT_SUMMARY="contactSummary",e.CONTACTS_PANE_CUE="contactsPaneCue",e.CONTACTS_SORT="contactsSort",e.DISABLE_DL="disableDL",e.CONTACTS_RESTORE="contactsRestore",e.CONTACTS_IMPORT_FROM_CSV="contactsImportFromCsv",e.CALENDAR_RIGHT_RAIL_PANE="calendarRightRailPane",e.CALENDAR_RIGHT_RAIL_PANE_CUE="calendarRightRailPaneCue",e.SHOW_MKTG_SUPPORT_NUMBER="showMktgSupportNumber",e.SUBSCRIPTION_LIST="subscriptionList",e.SOCIAL_ACCOUNTS="socialAccounts",e.USE_LINKEDIN_TEST_SPID="useLinkedinTestSpid",e.NOTEPAD_TAB="notepadTab",e.CALENDAR_TAB="calendarTab",e.YPLUS_ICON_RIGHT_RAIL="yPlusIconRightRail",e.MAILPRO_TO_MAIL_PLUS_UPSELL_ELIGIBLE="mailProToMailPlusUpsellEligible",e.MAILPRO_TO_MAIL_PLUS_UPSELL="mailProToMailPlusUpsell",e.SHOW_IMPORT_CONTACTS_IN_SETTINGS="showImportContactsInSettings",e.MAIL_PLUS_SPONSORED_MESSAGE_ON_AD_MISCLICK="mailPlusSponsoredMsgOnAdMisclick",e.CONVERSATIONS="conversations",e.SHOW_COMMS_PROPERTIES="showCommsProperties",e.ADD_SEND_ONLY_ACCOUNTS="addSendOnlyAccounts",e.REPLY_TO_ADDRESS="replyToAddress",e.DISPOSABLE_ADDRESS="disposableAddress",e.SHOW_FORWARD_SETTINGS="showForwardSettings",e.EMOJI_SEARCH="emojiSearch",e.TUTORIAL="tutorial",e.MOVE_FOLDER="moveFolder",e.SHOW_TWEET="showTweet",e.TIMEZONE_CHECK="timezoneCheck",e.SILENT_TIMEZONE_CORRECTION="silentTimeZoneCorrection",e.RTL="rtl",e.IS_RETURNING_USER="isReturningUser",e.HAS_MAPPED_THEME="hasMappedTheme",e.FETCH_FULL_BODY="fetchFullBody",e.NO_SYNC_ON_MESSAGE_LAUNCH="noSyncOnMessageLaunch",e.INLINE_PROMPT_AD_TARGET_CUE="inlinePromptAdTargetCue",e.GDPR_WARNING_CUE="gdprWarningCue",e.NEXTGEN_HOME="nextGenHome",e.NEXT_GEN_HOME_CUE="nextGenHomeCue",e.THEMES_CUE_V3="themesCueV3",e.NEW_USER_TASKS_CUE="newUserTasksCue",e.PHOTOS_CUE="photosCue",e.STARRED_CUE="starredCue",e.SETTINGS_CUE="settingsCue",e.PARTNER_RECONSENT_BANNER="partnerReconsentBanner",e.SEARCH_CUE="searchCue",e.SEARCH_RELEVANCE_CUE="searchRelevanceCue",e.ALL_TABS_PLUS_CUE="allTabsPlusCue",e.PEOPLE_SMARTVIEW_CUE="peopleSmartViewCue",e.STATIONERY_CUE="stationeryCue",e.UPDATE_WIDER_MAIL_CUE="updateWiderMailCue",e.ADBLOCK_UPSELL_CUE="adBlockUpsellCue",e.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE="redirectAdbToNodinCue",e.ADBLOCK_DELAY_DISMISS_CUE="adblockDelayDismissCue",e.RIGHT_RAIL_AD_FREE_UPSELL_CUE="rightRailAdFreeUpsellCue",e.EMOJI_CUE="emojiCue",e.SHOW_SPONSORED_LOGO="showSponsoredLogo",e.GROCERIES_PRODUCT_CUE="groceriesProductCue",e.COUPONS_VIEW_CUE="couponsViewCue",e.IS_WIDER_MAIL_EXTN_ENABLED="isWiderMailExtnEnabled",e.CATEGORY_FOLLOWING_CUE="categoryFollowingCue",e.PKG_TRACKING_CUE="pkgTrackingCue",e.DEALS_VIEW_CUE="dealsViewCue",e.SUBSCRIPTIONS_VIEW_CUE="subscriptionsViewCue",e.WELCOME_USER_CUE="welcomeUserCue",e.LASTPASS_FREETRIAL_UPSELL="lastPassFreeTrialUpsell",e.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE="lastpassFreeTrialUpsellEligible",e.AMAZON_PRIME_DAY_CUE="amazonPrimeDayCue",e.DISPATCHER_UPSELLS_ELIGIBLE="dispatcherUpsellsEligible",e.DISPATCHER_UPSELLS="dispatcherUpsells",e.SPAM_TOUCHPOINT="spamTouchpoint",e.UNSUBSCRIBE_TOUCHPOINT="unsubscribeTouchpoint",e.TOUCHPOINT_UPSELL="touchPointUpsell",e.BASIC_MAIL_AUTO_FORWARD_NOTIFICATION="basicMailAutoForwardNotification",e.MAIL_PLUS_FEATURES_UPSELL="mailPlusFeaturesUpsell",e.COMPOSE_FORMAT_CUE="composeFormatCue",e.BRAND_MENU_ONBOARDING_CUE="brandMenuOnboardingCue",e.BRAND_MENU_FEEDBACK_CUE="brandMenuFeedbackCue",e.FOCUSED_INBOX_CUE="focusedInboxCue",e.YMOBILE_PROMO_UPSELLS="ymobilePromoUpsells",e.YMOBILE_PROMOS="ymobilePromos",e.YPMP_PROMO_UPSELLS="ypmpPromoUpsells",e.YPT_GAMER_UPSELLS="yptGamerUpsells",e.FALCON_TOM_SUBSCRIPTIONS_UPSELLS="falconTOMSubscriptionsUpsells",e.FALCON_TOM_ARBITRATION_ENABLED="falconTOMArbitrationEnabled",e.JEDI_BATCH_RELATED_CARDS_ENABLED="jediBatchRelatedCardsEnabled",e.BREAKING_NEWS="breakingNews",e.BREAKING_NEWS_ENABLED="breakingNewsEnabled",e.BREAKING_NEWS_TEST_PARAM="breakingNewsTestParam",e.SHOW_FUJI2_NTK="showFuji2NTK",e.HIDE_YBAR_DOWNLOAD_APP_LINK="hideYbarDownloadAppLink",e.MULTI_ACCOUNT_SIGN_OUT="multiAccountSignOut",e.UNUSUAL_DISCOUNT="unusualDiscount",e.UNUSUAL_DISCOUNT_EXISTS="UnusualDiscount",e.CATEGORY_FOLLOW="CategoryFollow",e.BROWSER_NOTIFICATIONS="browserNotifications",e.DESIGN_CLASSIFIER="designClassifier",e.DRAWER="drawer",e.CORONAVIRUS_ICON="coronavirusIcon",e.MOBILE_MESSAGE_SNIPPETS="mobileMessageSnippets",e.MOBILE_ONBOARDING_CUE="mobileOnboardingCue",e.MOBILE_SEARCH_SUGGESTIONS="mobileSearchSuggestions",e.MOBILE_SIGNATURE="mobileSignature",e.MOBILE_THEMING="mobileTheming",e.MOBILE_EDIT_RECIPIENTS="mobileEditRecipients",e.PUSH_NOTIFICATIONS_CUE_PTR="pshNotifctnsCueOnPTR",e.PUSH_NOTIFICATIONS_CUE_LAUNCH="pshNotifctnsCueOnLnch",e.PUSH_NOTIFICATIONS_CUE_COMPOSE="pshNotifctnsCueOnCmps",e.MOBILE_PAC_NOTIFICATION_CUE="mobilePacNotificationCue",e.LOADING_FALLBACK="loadingFallback",e.MOBILE_MESSAGE_READ_NAVIGATION="mobileMessageReadNavigation",e.HOMEPAGE_BUTTON="homepageButton",e.COMPOSE_FROM_CUSTOM_FOLDER="nobleBasicComposeFromCustomFolder",e.SIGN_OUT="signOut",e.LANDSHARK_CUE="landsharkCue",e.NON_NATIVE_APP_BANNERS="nonNativeAppBanners",e.APP_INSTALL_CUE_V1="appInstallCueV1",e.APP_INSTALL_CUE_V2="appInstallCueV2",e.BLOCK_SENDER_CUE="blockSenderCue",e.CORONAVIRUS_CUE="coronavirusCue",e.CONVERSATIONS_CUE="conversationsCue",e.COUPON_LANDSHARK_CUE="couponLandsharkCue",e.NOBLE_SUPPORTED_BROWSER_VERSION="nobleSupportedBrowserVersion",e.NOBLE_SUPPORTED_OS_VERSION="nobleSupportedOSVersion",e.NOBLE_SUPPORTED_PARTNER="nobleSupportedPartner",e.MAX_PREVIEW_LENGTH="maxPreviewLength",e.SMART_APP_BANNERS="smartAppBanners",e.PULL_TO_REFRESH="pullToRefresh",e.DEALS="deals",e.RECOMMENDED_DEALS="recommendedDeals",e.DEALS_VIEW_FOR_INTLS="dealsViewForIntls",e.SHOW_RECOMMENDATIONS_MODAL="showRecommendationsModal",e.PRODUCT_RECOMMENDATIONS="productRecommendations",e.SENDER_DEALS_BACKFILL="senderDealsBackfill",e.STATIC_DEALS="staticDeals",e.SHOW_MERCHANT_CARD="showMerchantCard",e.FETCH_AFFILIATE_RETAILERS="fetchAffiliateRetailers",e.SHOW_USER_FOLLOWED_CATEGORIES="showUserFollowedCategories",e.DEALS_WITH_PRODUCTS="dealsWithProducts",e.SHOW_OUT_N_BACK_AUTO_EXPANSION="showOutNBackAutoExpansion",e.STOREFRONT="storefront",e.STOREFRONT_SHORTCUTS="storefrontShortcuts",e.SHOW_SEARCH_CONTACT_CARD="showSearchContactCard",e.FETCH_COMBINE_DEALS_FROM_ASTRA="fetchCombineDealsFromAstra",e.COMMERCE_CARD_GROUP="commerceCardGroup",e.FILL_PRODUCT_RECOMMENDATION_DEALS="fillProductRecommendationDeals",e.UNIFY_DEALS_AND_PRODUCTS="unifyDealsAndProducts",e.FLIGHT_CARD_EXTRACTIONS="flightCardExtractions",e.TRAVEL_VIEW="travelView",e.RECEIPTS="receipts",e.GROCERIES="groceries",e.SPONSERED_PRODUCT_ADS="sponseredProductAds",e.YM6_QRCODE_UPSELL="ym6QRcodeUpsell",e.EMOJI="emoji",e.PRELOAD_EMOJI="preloadEmoji",e.GIF="gif",e.STATIONERY="stationery",e.EXCEPTION_NOTIFICATION="exceptionNotification",e.NEWUSER_MKTG_BEACON="newUserMarketingBeaconing",e.VACATION_RESPONSE_STATIONERY="vacationResponseStationery",e.PERSIST_COMPOSE_TEXT_MODE="persistComposeTextMode",e.BLOCK_SENDERS="blockSenders",e.FILTER_MESSAGES_LIKE_THIS="filterMessagesLikeThis",e.UNSUBSCRIBE_FROM_MESSAGE="unsubscribeFromMessage",e.UNSUBSCRIBE_NEW_BADGE="unsubNewBadge",e.COLLAPSED_TRIAGING="collapsedTriaging",e.UNSUBSCRIBE_BADGES="unsubscribeBadges",e.DISABLE_UNSUBSCRIBE_FEATURE="disableUnsubscribeFeature",e.SMARTVIEW_CATEGORIES_ENABLED="smartViewCategoriesEnabled",e.SMARTVIEW_CATEGORIES_ALL="allSmartViews",e.SMARTVIEW_CATEGORIES_PEOPLE="peopleSmartView",e.SMARTVIEW_CATEGORIES_PEOPLE_V2="peopleSmartViewV2",e.SMARTVIEW_CATEGORIES_SHOPPING="shoppingSmartView",e.SMARTVIEW_ATTACHMNENTS="attachmentsSmartView",e.SHOW_TABS="showTabs",e.PUSH_NOTIFICATIONS="pushNotifications",e.SHOULD_SW_SUBSCRIBE="shouldServiceWorkerSubscribe",e.SHOW_ABOUT_OUR_ADS_LINK="showAboutOurAdsLink",e.SHOW_ABOUT_YAHOO_MAIL_LINK="showAboutYahooMailLink",e.SHOW_GIVE_FEEDBACK_LINK="showGiveFeedbackLink",e.SHOW_FEEDBACK_PANEL="showFeedbackPanel",e.SHOW_RECENT_SUGGESTIONS="showRecentSuggestions",e.SHOW_EMAIL_SEARCH_SUGGESTIONS="showEmailSearchSuggestions",e.SHOW_EMPTY_SEARCH_SUGGESTIONS="showEmptySearchSuggestions",e.MESSAGE_LIST_CONTEXT_MENU="messageListContextMenu",e.FILTER_COMMERCIAL_IMAGES="filterCommercialImages",e.IFRAME_PRINT="iframePrint",e.EXTERNAL_CSS="externalCss",e.DISPOSABLE_ADDRESS_DELETE_ONLY="disposableAddressDeleteOnly",e.SHOW_RIGHT_RAIL_HELP_LINKS="showRightRailHelpLinks",e.INLINE_IMAGES_PROXIED="inlineImagesProxied",e.WEB_PAC_NOTIFICATION_CUE="pacNotificationCue",e.CLICK_URL_LOGGING="clickUrlLogging",e.MESSAGE_OP_PERF="messageOpPerf",e.SWITCH_TO_NORRIN="switchToNorrin",e.SWITCH_TO_NORRIN_ON_WIN10="switchToNorrinOnWin10",e.SWITCH_TO_NORRIN_ON_WIN10_MSG_LIST="switchToNorrinOnWin10MsgList",e.BIZMAIL_USER="bizmailUser",e.DOCUMENT_PREVIEW="documentPreview",e.DOCUMENT_PREVIEW_LIGHT="documentPreviewLight",e.NODIN_JS_ENHANCE="nodinJSEnhance",e.NODIN_BULK_MENU="nodinBulkMenu",e.NODIN_IMAPIN="nodinImapIn",e.SELECT_ALL="selectAll",e.OFFICE365="office365",e.OFFICE365_CUE="office365Cue",e.SHOW_NODIN_ONBOARDING_MESSAGE="showNodinOnboardingMessage",e.SHOW_NODIN_AUTO_FORWARD_NOTIFICATION="showNodinAutoForwardNotification",e.XOBNI_AUTO_SUGGEST="xobniAutoSuggest",e.CLASSIC_AUTO_SUGGEST="classicAutoSuggest",e.RESHOW_ONBOARDING_CUE="reshowOnboardingCue",e.SENDER_ROLLUP="senderRollup",e.SENDER_ROLLUP_FLUSH_CACHE="senderRollupFlushCache",e.SMART_REPLY="smartReply",e.CLOUD_STORAGE="cloudStorage",e.WALMART_CUE="walmartCue",e.GROCERIES_SEARCH_CUE="groceriesSearchCue",e.GROCERIES_LOCATIONS_CUE="groceriesLocationsCue",e.PKG_TRACKING_TOP_OF_MSG="pkgTrackingTopOfMsg",e.USE_INVERTED_INDEX="useInvertedIndex",e.SHOW_HUMAN_READABLE_CONSENT_SETTING="showHumanReadableConsentSetting",e.OPEN_FIRST_MESSAGE="openFirstMessage",e.ASTRA_YCPI_HOST="astraYcpiHost",e.AD_FEEDBACK_V2="adFeedbackV2",e.OLD_NEW_MAIL="oldNewMail",e.SHOW_TODAYPAGE="showTodayPage",e.SHOW_PIK_SETTING="showPIKsetting",e.IS_REINDEXABLE="isReindexable",e.ENABLE_SETTINGS_MIGRATION="enableAolSettingsMigration",e.AOL_ONBOARDING_CUE_ML="aolOnboardingCueOnMsgLst",e.AOL_ONBOARDING_CUE_MR="aolOnboardingCueOnMsgRd",e.AOL_ONBOARDING_CUE_SM="aolOnboardingCueOnSlcMsg",e.AOL_ONBOARDING_CUE_CP="aolOnboardingCueOnCmps",e.ENABLE_AOL_CONTACTS_CATEGORIES="enableAOLContactsCategories",e.FIX_IMG_SRC="fixImgSrcURL",e.EXTERNAL_INLINE_IMAGE_PREVIEW="externalInlineImagePreview",e.AUTO_FORWARD_CUE="autoForwardCue",e.AUTO_FORWARD_NOTIFICATION="autoForwardNotification",e.AUTO_FORWARD_ALLOWED="autoForwardAllowed",e.FREE_AUTO_FORWARD_EXPIRED="freeAutoForwardExpired",e.SMARTVIEWS="smartViews",e.SHOW_SMARTVIEWS_INLINE_PROMPT="showSmartViewsInlinePrompt",e.COMPACT_COMPOSE="compactCompose",e.VIDEO_PLAYER_IN_ENHANCED_CARD="videoPlayerInEnhancedCard",e.PREMIUM_DEA="premiumDEA",e.PREMIUM_DEA_ALLOWED="premiumDeaAllowed",e.UNSUBSCRIBE_FOR_SPAM="unsubForSpam",e.INVITE_FLOW_ENABLED="inviteFlowEnabled",e.PRINT_ENABLED="printEnabled",e.SPAM_INDICATOR="spamIndicator",e.FOCUSED_INBOX="focusedInbox",e.REDIRECT_MAIL_PLUS_BENEFITS_CLICK_TO_SETTING="redirectMailPlusBenefitsClickToSetting",e.FOLDER_SEARCH_DISCOVERABILITY_SEARCH_IN_FOLDERS="folderSearchDiscoverabilitySearchInFolders",e.FOLDER_SEARCH_DISCOVERABILITY_DEFAULT_INBOX="folderSearchDiscoverabilityDefaultInbox",e.ADVANCED_SEARCH_BUTTON_HAS_LABEL="advancedSearchButtonHasLabel",e.ADVANCED_SEARCH_IN_SEARCH_HEADER="advancedSearchInSearchHeader",e.SCROLL_TO_SEARCH="scrollToSearch",e.USE_SAVED_SEARCH_FOR_FILTERS="useSavedSearchForFilters",e.USE_DISPATCHER_CLIENT="useDispatcherClient",e.OPT_OUT_TO_CLASSIC="optOutToClassic"}(qs||(qs={})),function(e){e.AMP_EMAIL="ampEmail",e.APP_ROOT_PATH="appRootPath",e.APP_CONTAINER="appContainer",e.NPS_SURVEY_CONFIG="npsSurveyConfig",e.THEME="theme",e.THEME_MODE="themeMode",e.TEXTUAL_SUGGESTIONS="textualSuggestions",e.CLIENT_WIDTH="clientWidth",e.ORIENTATION="orientation",e.PREVIEW_PANE="previewpane",e.SUBHUB_RECO_FILTER="subhubRecommendationsFilter",e.SUBHUB_RECO_COUNT="subhubRecommendationsCount",e.MSG_LIST_DENSITY="messageListDensity",e.COMPOSE_FORMAT="composeFormat",e.LIST_ITEM_HEIGHT="listItemHeight",e.SNIPPETS="snippets",e.COMPOSE_FONT_FAMILY="composeFontFamily",e.COMPOSE_FONT_SIZE="composeFontSize",e.COMPOSE_SAVE_INTERVAL="composeSaveInterval",e.DESKTOP_NOTIFICATION="desktopNotification",e.MOBILE_NOTIFICATION="mobileNotification",e.LANDSHARK_ON_COUPON_MESSAGE_STRINGS="landsharkOnCouponMessageStrings",e.MARK_AS_READ_INTERVAL="markAsReadInterval",e.DELIVERY_BLOCKED_SENDERS="deliveryBlockedSenders",e.SHOW_IMAGES="showImages",e.LINK_ENHANCR="linkEnhancer",e.VACATION_PREFERENCES="vacationPreferences",e.MESSAGE_FILTERS="messageFilters",e.MAIL_TABS="multiTask",e.CONVERSATIONS="conversations",e.ACTION_AFTER_MSG_MOVE="actionAfterMsgMove",e.SHOW_CUSTOM_FOLDERS="showCustomFolders",e.SHOW_SMART_VIEWS="showSmartViews",e.EXPANDED_FOLDERS="expandedFolders",e.STATIONERY_DEFAULT_THEME="stationeryDefaultTheme",e.TOGGLE_CONV_RELOAD_DELAY="toggleConversationReloadDelayMS",e.SHOW_ALL_SYSTEM_FOLDERS="showAllSystemFolders",e.RECENTLY_USED_EMOJIS="recentlyUsedEmojis",e.SYSTEM_TABS="systemTabs",e.SENDING_EMAIL_CONFIRM_STATUS="sendingConfirmEmail",e.DEA_BASE_NAME="disposableAddressesPrefix",e.MAILBOX_SIZE="mailboxSize",e.PLA_SEARCH_SOURCE_TAG="plaSearchSourceTag",e.SEARCH_SOURCE_TAG="searchSourceTag",e.SEARCH_FETCH_COUNT="searchFetchCount",e.SEARCH_FIRST_PAGE_COUNT="searchFirstPageCount",e.SPACE_IDS="spaceids",e.AD_BLOCK_FEATURE_CUE_ID="adBlockFeatureCueId",e.WEB_SEARCH_URL="webSearchURL",e.USE_RICH_TEXT="useRichText",e.CORP_MAIL_GMAIL_SETTINGS="corpMailGmailSettings",e.ACTIONABLE_RIGHT_RAIL_CONTENT="actionableRightRailContent",e.THROTTLE_API_LIST="throttleAPIList",e.SCOUT_ONBOARDING="scoutOnboarding",e.NODIN_ONBOARD="nodinOnboard",e.DISABLED_MESSAGE_READ_CARDS="allowedMsgReadCards",e.EMPTY_FOLDER_VIDEO_CHANNELS="emptyFolderVideoChannels",e.HIDE_AD="hideAd",e.TIME_TO_WAIT_SINCE_LAST_AD_CALL="timeToWaitSinceLastAdCall",e.GEMINI_AD_COUNT="geminiAdCount",e.GEMINI_SECTION_IDS="geminiSectionIds",e.GEMINI_SECTION_IDS_TO_CACHE="sectionIdsToCache",e.GEMINI_CREATIVE_ID="geminiCreativeId",e.GEMINI_FORCE_FILTER="geminiForceFilter",e.GEMINI_MAIL_PLUS_ADS_CREATIVE_IDS="geminiMailPlusAdsCreativeIds",e.CMP_JS_URL="cmpJSUrl",e.COM_SCORE_JS_URL="comScoreJSUrl",e.AD_FREE_MAIL_URL="adFreeMailUrl",e.MAIL_PLUS_URL="mailPlusUrl",e.YPLUS_ICON_RIGHT_RAIL_SETTINGS="yplusIconRightRailSettings",e.MAIL_PLUS_SUBSCRIPTIONS_URL="mailPlusSubscriptionsUrl",e.TASTEMAKER_URL="tastemakerUrl",e.ABOUT_AD_URL="aboutAdsUrl",e.PRIVACY_URL="privacyUrl",e.TERMS_URL="termsUrl",e.HELP_URL="helpUrl",e.ITEM_LIST_PAGE_THRESHOLD="itemListPageThreshold",e.MESSAGE_READ_AD_ROTATION_INTERVAL="messageReadAdRotationInterval",e.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL="messageReadAdRotationIdleInterval",e.WIDER_MAIL_EXTENSION_URL="widerMailExtensionUrl",e.MAIL_PLUS_MONTHLY_PRICE="mailPlusMonthlyPrice",e.MAIL_PRO_MONTHLY_PRICE="mailProMonthlyPrice",e.MAIL_PRO_YEARLY_PRICE="mailProYearlyPrice",e.NOTIFICATION_MODE="notificationMode",e.GEMINI_VIDEO_AD_ID="geminiVideoAdId",e.GEMINI_VIDEO_AD_SITE="geminiVideoAdSite",e.GEMINI_VIDEO_AD_EXP_NAME="geminiVideoAdExpName",e.GEMINI_VIDEO_AD_EXP_TYPE="geminiVideoAdExpType",e.CHROME_EXTENSION_ALLOWLIST="chromeExtensionAllowlist",e.CHROME_LONGTERM_EXTENSION_LIST="chromeLongtermExtensionList",e.NEW_USER_TASK_BUCKET="newUserTaskBucket",e.RELATED_SEARCHES_CARD_STYLE="relatedSearchesCardStyle",e.VIDEO_PLAYER_URL="videoPlayerUrl",e.VIDEO_PLAYER_SAPI_COBRAND="videoPlayerSapiCobrand",e.AOL_VIDEO_PLAYER_URL="aolVideoPlayerUrl",e.AOL_VIDEO_PLAYER_IFRAME_SRC="aolVideoPlayerIframeSrc",e.OATH_VIDEO_PLAYER_URL="oathVideoPlayerUrl",e.SECOND_PENCIL_AD_DEPTH="secondPencilAdDepth",e.PENCIL_AD_EXPIRE_TIME="pencilAdExpireTime",e.PLA_SEARCH_ADS_BUCKET_ID="plaSearchAdsBucketId",e.PLA_SEARCH_ADS_JS_URL="plaSearchAdsJsUrl",e.JAC_SCRIPT_URL="jacScriptUrl",e.JAC_SERVICE_HOST="jacServiceHost",e.JILL_HOSTNAME="jillHostname",e.PREFERRED_AD_FORMAT="preferredAdFormat",e.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION="rightRailUpsellVideoAdDuration",e.ADBLOCK_UPSELL_CUE_INTERVAL="adBlockUpsellCueInterval",e.CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL="checkMailAdRotationIdleInterval",e.DEALS_SHOPPING_CART_AD_VERSION="dealsShoppingCartAdVersion",e.LASTPASS_FREETRIAL_UPSELL_SETTINGS="lastpassFreeTrialUpsellSettings",e.SWITCH_WIDGET_SCRIPT_URL="switchWidgetScriptUrl",e.BUY_MORE_SAVE_MORE_TERMS_LINK="buyMoreSaveMoreTermsUrl",e.MAIL_PLUS_CHECKOUT_URL="mailPlusCheckOutUrl",e.NUDGE_TO_REPLY_SETTING="nudgeToReplySetting",e.RIGHT_RAIL_COLLAPSE_LIMIT="rightRailCollapseLimit",e.MAIL_PLUS_IMPRESSION_URL="mailPlusImpressionUrl",e.MAIL_PLUS_CLICK_URL="mailPlusClickUrl",e.MAIL_PLUS_YBAR_UPSELL_BUCKET_STRINGS="mailPlusYbarUpsellBucketStrings",e.STATIC_MAIL_PLUS_UPSELL_DATA="staticMailPlusUpsellData",e.SELECTED_SUBSCRIPTION_UPSELL="selectedSubscriptionUpsell",e.YMOBILE_UPSELL_VERSION="ymobileUpsellVersion",e.YPMP_UPSELL_VERSION="ypmpUpsellVersion",e.SUPPRESSED_UPSELLS="supressedUpsells",e.DARLA_HOSTNAME="darlaHostname",e.BREAKING_NEWS_REFRESH_INTERVAL="breakingNewsRefreshInterval",e.BREAKING_NEWS_SETTINGS="breakingNewsSettings",e.PACKAGE_TRACKING_SETTINGS="packageTrackingSettings",e.DEALS_STORIES_SETTINGS="dealsStoriesSettings",e.MAILPRO_UPSELL_INSTRUMENTATION_URL="mailProUpsellInstrumentationURL",e.TMR_ATOS_TEST_PARAM="tmrAtosTestParam",e.MEMBERSHIP_REWARDS_SETTINGS="membershipRewardsSettings",e.PURCHASE_OFFER_TEST_PARAM="purchaseOfferTestParam",e.LIST_SUBSCRIPTION_TEST_PARAM="listSubscriptionTestParam",e.DAYS_IN_TRIAL_TEST_PARAM="daysInTrialTestParam",e.MOCKED_RECURRING_INTERVAL="mockedRecurringInterval",e.OBI_AUTH="obiAuth",e.OBI_HOSTNAME="obiHostname",e.FTWCC_ELIGIBLE_UPSELLS="ftwccEligibleUpsells",e.NUM_MESSAGE_GROUPS_TO_PREFETCH="numMessageGroupsToPrefetch",e.NEIGHBOR_PREFETCH_COUNT="neighborPrefetchCount",e.FALCON_TOM_SUBSCRIPTIONS_PREFETCH_COUNT="falconTOMSubscriptionsPrefetchCount",e.INBOX_STYLE="inboxStyle",e.MIGRATION_STATUS="migrationStatus",e.SYNC_TIME="syncTime",e.ASYNC_TASK_POLL_INTERVAL="asyncTaskPollInterval",e.ASYNC_TASK_POLL_COUNT="asyncTaskPollCount",e.CHECK_MAIL_INTERVAL="checkMailInterval",e.MAIL_URL="mailURL",e.CALENDAR_URL="calendarURL",e.NOTEPAD_URL="notePadURL",e.FEEDBACK_URL="feedbackURL",e.BUFFER_SIZE="bufferSize",e.PREVIEWABLE_INLINE_ATTACHMENT_SIZE="previewableInlineAttachmentSize",e.MESSAGE_INITIAL_RENDER_COUNT="messageInitialRenderCount",e.STATIONERY_RESTRICTED_THEMES="stationeryRestrictedThemes",e.MESSAGE_FETCH_COUNT="messageFetchCount",e.MESSAGE_FETCH_COUNT_INITIAL="messageFetchCountInitial",e.COUPON_CARDS_FETCH_COUNT="couponCardsFetchCount",e.COUPON_RECOMMENDATIONS_FETCH_COUNT="couponRecommendationsFetchCount",e.CARD_GROUPS_FETCH_COUNT="cardGroupsFetchCount",e.LINK_ENHANCER_URL_BLOCK_LIST="linkEnhancerUrlBlocklist",e.NOTIFICATION_TTL="notificationTTL",e.COMPOSE_THROTTLE_COUNT="composeThrottleCount",e.NOTIFICATION="notification",e.STAR_ANIMATION="starAnimation",e.GUIDED_STAR_ANIMATION="guidedStarAnimation",e.HAS_GUIDED_STAR_ANIMATION="hasGuidedStarAnimation",e.HAS_DEALS_STAR_ANIMATION="hasDealsStarAnimated",e.SERVICE_WORKER_URL="serviceWorkerUrl",e.PARTNER_BRAND="partnerBrand",e.HAS_WIDE_LOGO="hasWideLogo",e.LINKEDIN_EXPIRY_NOTIFY_DAYS="linkedInExpiryNotifyDays",e.QUOTIENT_DEBUG_FLAG="quotientDebugFlag",e.ASTRA_NONPROD_FLAG="astraNonProdFlag",e.IS_USER_FOLLOWING_CATEGORIES="isUserFollowingCategories",e.PUSH_NOTIFICATIONS_EXPERIMENT="pushNotificationsExperiment",e.CORONAVIRUS_URL="coronavirusUrl",e.IMAPIN="imapin",e.INTERSTITIAL_FREQUENCY="interstitialFrequency",e.APP_INSTALL_LINK="appInstallLink",e.NOT_FOUND_PAGE_APP_INSTALL_LINK="notFoundPageAppInstallLink",e.DO_NOT_UPSELL_APP="doNotUpsellApp",e.ACCOUNT_INFO_URL="accountInfoURL",e.DELETE_DEBOUNCE_TIME="deleteDebounceTime",e.LOGO_URL="logoUrl",e.LOGO_SRCSET="logoSrcSet",e.BASIC_MAIL_THEME="basicMailTheme",e.HOMEPAGE_URL="homepageURL",e.TODAYPAGE_URL="todayPageURL",e.SHOW_TODAY_AT_SIGNIN="showTodayAtSignin",e.SIGN_OUT_URL="signOutURL",e.AUTO_OPEN_FIRST_MESSAGE="autoOpenFirstMessage",e.LOGIN_NAME="loginName",e.V3_LIST_MESSAGE_BUFFER="v3ListMessageBuffer",e.V3_OPPOSITE_BUFFER="v3ListMessageOppositeBuffer",e.V3_LIST_NUM_OF_PLACEHOLDER="v3ListNumOfPlaceHolder",e.BULK_ACTION_DIALOG_THRESHOLD="bulkActionDialogThreshold",e.HUMAN_READABLE_CONSENT="humanReadableConsentSetting",e.CONSENT_EVENTS="consentEvents",e.ENABLED_AFFILIATE_PARTNERS="enabledAffiliatePartners",e.AFFILIATE_URL="affiliateUrl",e.NUMBER_OF_COUPON_ROWS="numberOfCouponRows",e.IC_TOM_DENY_LIST="icTomDenyList",e.MARKETING_PREFERENCES_SETTING="marketingPreferencesSetting",e.DISPATCHER_UPSELL_DATA="dispatcherUpsellData",e.TOUCHPOINT_UPSELL_DATA="touchpointUpsellData",e.RIGHT_RAIL_ADBLOCK_UPSELL_DATA="rightRailAdblockUpsellData",e.MAX_NUMBER_OF_MESSAGE_BODIES="maxNumberOfMessagebodies",e.MAX_NUMBER_OF_DOCUMENTS="maxNumberOfDocuments",e.EDGE_TO_EDGE_GRAHICAL_DEGISN_VERSION="edgeToEdgeGraphicalAdVersion",e.ADBLOCK_DELAY_DISMISS_SETTINGS="adblockDelayDismissSettings",e.ADBLOCK_DELAY_DISMISS_INSTRUMENTATION_URL="adblockDelayDismissInstrumentationURL",e.NEXT_GEN_HOME_URL="nextGenHomeUrl",e.SWITCH_TO_NORRIN_ON_WIN10_MSG_LIST_VERSION="switchToNorrinOnWin10MsgListVersion",e.MAILPRO_TO_MAIL_PLUS_UPSELL_SETTINGS="mailProToMailPlusUpsellSettings",e.MAIL_PLUS_SETTING_TAB_LEFT_TEXT_STYLE="mailPlusSettingTabLeftTextStyle",e.RIGHT_RAIL_UPSELL_CUE_STYLE="rightRailUpsellCueStyle",e.INLINE_PROMPT_HELP_URL="inlinePromptHelpUrl",e.INLINE_PROMPT_DASHBOARD_URL="inlinePromptDashboardUrl",e.SUPPORT_PHONE_NUMBER="supportPhoneNumber"}(Ys||(Ys={}));Ys.DO_NOT_UPSELL_APP;const js=(0,n.gP)(["LANDSCAPE","PORTRAIT"]),Qs="__setOauthStatus",Xs="appBanner",Js=["fullscreen","target","sponsoredForward","messagePreview","newCompose","accountIds"],$s=(0,n.gP)(["featured","everyday","birthday","seasonal"]),ea=32e3,ta=(0,n.gP)(["NotInitialized","Initializing","Initialized"]),sa="999+",aa=999,na={TUMBLR:"www@tumblr",TENOR:"www@tenor"},ra=(0,n.gP)(["IDLE","START","FINISH"]),oa=(0,n.gP)(["CheckInAction","Coupon","EmailMessage","FlightReservation","Order","ParcelDelivery","Recommendation","ReservationPackage","AntispamResult"]);let ia;!function(e){e.SpamMarkedByUser="SpamMarkedByUser",e.SenderInUserAddressBook="SenderInUserAddressBook",e.PotentialSpam="PotentialSpam",e.PotentialPhishing="PotentialPhishing"}(ia||(ia={}));const la=(0,n.gP)(["FOLDER_ACCESS_FAILED","MESSAGE_ACCESS_FAILED","COMPOSE_ACCESS_FAILED","SETTINGS_FAILED_TO_LOAD"]),ca=(0,n.gP)(["BDM","CPN","CRD","CRR","EML","EVR","FDR","FI","FLR","INV","LDG","ORD","PCS","PE","PKG","POE","SH","TAG","TNR","TR","TRR","TXR","USB"]),da=(0,n.gP)(["NORMAL"]),Ea=5,_a=250,ua=3,ma=3,Sa=14,pa=864e5,Ca=(0,n.gP)(["NONE","ERROR","VALIDATING","RESOLVED"]),Aa=(0,n.gP)(["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","js","jse","lib","lnk","mde","msc","msi","msp","mst","pif","reg","scr","sct","shb","sys","vb","vbe","vbs","vxd","wsc","wsf","wsh"]),Ta=(0,a.Lz)("SLN15987"),ha={LEFT:"left",RIGHT:"right"},ga={MESSAGE_LIST:"messageList",MESSAGE_LIST_2:"messageList2",ADBLOCK_MESSAGE_LIST:"adblockMessageList",ADBLOCK_MESSAGE_LIST_2:"adblockMessageList2",MESSAGE_LIST_SM:"messageListSM",MESSAGE_READ:"messageRead",COUPON_REC:"couponRec",SHOPPING_CART:"shoppingCart",RIGHT_RAIL_UPSELL:"rightRailUpsell",MESSAGE_LIST_CAROUSEL:"messageListCarousel",MESSAGE_LIST_2_FALLBACK:"messageList2Fallback",DEALS_SHOPPING_CART:"dealsShoppingCart",CROSS_DOMAIN_DPA_ADS:"crossDomainDPA",MESSAGE_LIST_SPONSORED_MESSAGE:"messageListSponsoredMessage"};(0,n.gP)(["STRIKE_PRICE","MONEY_OFF","PERCENT_OFF","FREE_SHIPPING","CUSTOM"]);let Ia;!function(e){e.OVERNIGHT="OVERNIGHT",e.TWO_DAY="TWO_DAY",e.STANDARD="STANDARD"}(Ia||(Ia={}));const Ra=200,Oa=10*Ra,Da={OFFENSIVE:"offensive",NOT_RELEVANT:"notRelevant",KEEP_SEEING:"keepSeeing",SOMETHING_ELSE:"somethingElse"},Na=16,fa={UI_1:1,UI_3:3,UI_4:4},Ma=[fa.UI_1,fa.UI_4,fa.UI_3,fa.UI_4],La="0a131ca69834ba58632792a2d7122797",Pa="91835879f027bd9de92f72e355cd359a",ya="fb3da3418dae370da3c415cf613a8b86",ba="283181fd71e977feed2e8d123174599b",Fa="https://s.yimg.com/nq/mailplusplus/mobileAssets/146e91324ab5812be2b10c9a8cc967f8/onDemandAssets/affiliateSenderDomains.json",Ua={YMAIL:"ymail",GDRIVE:"gdrive",DROPBOX:"dropbox"},va={[Ua.GDRIVE]:{displayName:"Google Drive"},[Ua.DROPBOX]:{displayName:"Dropbox"}},wa=(0,n.gP)(["CONTACTS_PANE","CALENDAR_PANE","BREAKING_NEWS","MEMBERSHIP_REWARDS"]);let Ga;!function(e){e.CONTACTS_LIST="CONTACTS_LIST",e.CONTACT_DETAILS="CONTACT_DETAILS",e.EDIT_CONTACT="EDIT_CONTACT",e.CREATE_CONTACT="CREATE_CONTACT",e.EDIT_GROUP="EDIT_GROUP",e.CREATE_GROUP="CREATE_GROUP"}(Ga||(Ga={}));const ka=-1,Ha=4,Ba=10,xa="default",Va="addGroup",Wa=(0,n.gP)(["DOES_NOT_EXIST","SUCCESS","FAILED"]),Za=(0,n.gP)(["NOT_APPLICABLE","NOT_SUBSCRIBED","SUBSCRIBED","EXPIRED","UPGRADED_TO_MAILPRO"]),Ka={INVALID:0,PRE_SIGNUP_LIGHTBOX:1,PRE_SIGNUP_PENCIL_BANNER:2,PRE_SIGNUP_LEFT_PANEL_1:3,PRE_SIGNUP_LEFT_PANEL_2:4,PRE_SIGNUP_LEFT_PANEL_3:5,POST_SIGNUP_THANKYOU_TOAST:11,FREE_TRIAL_ENDING_NOTICATION_1:12,FREE_TRIAL_ENDING_NOTICATION_2:13,FREE_TRIAL_LAST_DAY_NOTIFICATION:14,FREE_TRIAL_EXPIRED_NOTIFICATION:15,MAILPRO_SIGNUP_THNAKYOU_TOAST:21},za=16106688e5,qa=14,Ya=["1005265","1005237"],ja=(0,n.gP)(["STARTED","SUBMITTED","ENDED","DELETED","LIKED"]),Qa=(0,n.gP)(["SUCCESS","PENDING","FAIL"]);let Xa;!function(e){e.INITIALIZED="INITIALIZED",e.PENDING="PENDING",e.MISCLICKED="MISCLICKED"}(Xa||(Xa={}));const Ja=2e3,$a=(0,n.gP)(["NO_STATE","AGREED","SUSPENDED","EXPIRED"]),en={CHECKIN:"checkin",TASKS:"tasks",REWARDS:"rewards"},tn=(0,n.gP)(["DAILY_CHECKIN","IMAPIN"]),sn=(0,n.gP)(["DAILY_CHECKIN","IMAPIN"]),an=(0,n.gP)(["WEEKEND_BONUS","MILESTONE_BONUS","NO_BONUS"]),nn={tw:"Asia/Taipei",hk:"Asia/Hong_Kong"},rn={[qs.PREMIUM_DEA]:"YMAIL_DISPOSABLE_EMAIL",[qs.BLOCKED_DOMAINS]:"YMAIL_BLOCK_DOMAIN"},on=(0,n.gP)(["LIGHT","DARK"]),ln={SLIDEUP:"slideUp",GUIDEDSTAR:"guidedStars"},cn=(0,n.gP)(["SAVE_VACATION_RESPONSE","PREVENT_ROUTE_CHANGE"]);let dn;!function(e){e.INVALID_EMAIL="INVALID_EMAIL",e.INVALID_PROVIDER="INVALID_PROVIDER",e.DUPLICATE_EMAIL="DUPLICATE_EMAIL",e.NONE="NONE"}(dn||(dn={}));const En={ATT:"AT&T",BT:"British Telecom",FRONTIER:"Frontier",ROGERS:"Rogers",SKY:"Sky",VERIZON:"Verizon",AOL:"AOL"};let _n;!function(e){e.SBC="sbc",e.ATT="att",e.VERIZON="verizon",e.VZ="vz",e.VZ_ACS="vz-acs",e.ROG="rog",e.ROGERS="rogers",e.ROGERS_ACS="rogers-acs",e.BT="bt",e.BT_1="bt-1",e.FTR="ftr",e.FRONTIER="frontier",e.SKY="sky",e.YCORP="ycorp",e.AOL="aol"}(_n||(_n={}));const un="ycorp",mn=(e="us",t="en-US",s="")=>s.toUpperCase()===En.AOL?`https://login.aol.com/?display=login&.intl=${e}&.lang=${t}&.src=ym&done=https%3A%2F%2Fmail.aol.com%2Fd&prefill=0`:`https://login.yahoo.com/?display=login&.intl=${e}&.lang=${t}&.src=ym&done=https%3A%2F%2Fmail.yahoo.com%2Fd&prefill=0`,Sn={PERCENT:"PercentOff",AMOUNT:"AmountOff",GETXFREE:"BuyXGetYFree"},pn={rowsWithoutCollapse:4,filters:500,blockedSenders:1e3,mailPlusBlockedDomains:500,freeUserBlockedDomains:3},Cn={DEFAULT:"default",PTRV01:"ptrv01",PTRV02:"ptrv02",LAUNCHV01:"launchv01",COMPOSEV01:"composev01"},An=["message.aol.com","email.aol.com","comms.aol.net"],Tn=["dc2.aol.com","cc.aol.com","email.aol.net","email.cs.com","email.netscape.net","comms.wmconnect.com"],hn=(0,n.gP)(["aimyfe.com","aldoshoes.com","allmodern.com","amazon.ca","amazon.co.uk","amazon.com","amazon.de","amazon.es","amazon.fr","amazon.in","amazon.it","andenhud.com","angara.com","arhaus.com","arwin.com","ashleyfurniture.com","asics.com","avocadogreenmattress.com","banggood.com","bbqguys.com","beautyforever.com","bhks.com","birchlane.com","brilliantearth.com","budgetpetcare.com","buy123.com","campsaver.com","casper.com","chewy.com","chicme.com","click108.com","clocksandcolours.com","containerstore.com","cruisecritic.com","cupshe.com","dell.com","draxe.com","dvtokyo.com","dyson.hk","ebay.com","ecipo.hu","enjukuracing.com","eobuwie.com","epantofi.ro","epapoutsia.gr","etmall.com","fanatics.com","firststreethat.com","fitnesssuperstore.com","footer.com","forever21.com","gap.com","gapcanada.ca","gapfactory.com","glassesusa.com","gorjana.com","gotobuy.com","greencome.com","harryanddavid.com","helenarubinstein.com","hp.com","hugoboss.com","iherb.com","ihg.com","ikea.com","jcpenney.com","jomashop.com","jossandmain.com","joybird.com","jsstore.com","keau.com","kiehls.com","kohls.com","lanecrawford.com","levis.com","lifeisgood.com","lilysilk.com","livego168.com","livingspaces.com","macys.com","major-made.com","marriott.com","mdmmd.com","michaels.com","microsoft.com","minusplus.hk","miu-star.com","modcloth.com","mollybuy.shop","momoshop.com","moneymetals.com","mydoll.com","nadula.com","ncl.com","newchic.com","niceioi.com","nike.com","nomatic.com","nongchunxiang.com","nordictrack.com","nordstrom.com","nordstromrack.com","novica.com","obdesign.com","obuvki.bg","oguma.com","opticsplanet.com","pcone.com","peets.com","perigold.com","petsafe.net","pricerunner.com","pricerunner.dk","pricerunner.se","pure17go.com","purple.com","qchicken.com","queenshop.com","redance.com","redbubble.com","revolve.com","ritzcarltonshops.com","roomstogo.com","shopdisney.com","shutterfly.com","simonpearce.com","skechers.com","sleepnumber.com","slidebelts.com","snug.com","so-nice.com","stealthangelsurvival.com","taiwancosmworld.com","talbots.com","talisa.com","teepublic.com","thredup.com","traegergrills.com","trivago.co.uk","trivago.com","trivago.es","trulybeauty.com","twhg.com","unice.com","uv100.com","vacanza.com","venus.com","vetfriends.com","victoriasecret.com","victoriassecret.com","vitalydesign.com","vrai.com","walmart.com","watsons.com","wayfair.ca","wayfair.com","webstaurantstore.com","wellprobiotics.com","witsper.com","wstyle.com","ymswood.com","yoins.com","ypshop.com","zappos.com","ztore.com","zulily.com"]);let gn,In,Rn;!function(e){e.WEEKLY="weekly",e.MONTHLY="monthly",e.YEARLY="yearly"}(gn||(gn={})),function(e){e.ACTIVE="active",e.PENDINGUNSUB="pendingunsub",e.FAILED="failed"}(In||(In={})),function(e){e.AttachmentUi="AttachmentUi",e.ContactsPane="ContactsPane",e.CalendarPane="CalendarPane",e.ContactCard="ContactCard",e.MessageBrief="MessageBrief",e.PhotoBrief="PhotoBrief",e.DocumentBrief="DocumentBrief",e.RightRailNativeAd="RightRailNativeAd",e.RelatedSearchesCard="RelatedSearchesCard",e.TravelCardsGroup="TravelCardsGroup",e.PlaAds="PlaAds",e.RightPaneAds="RightPaneAds",e.SavedDeals="SavedDeals",e.RetailerFilter="RetailerFilter",e.RightPaneGroceriesList="RightPaneGroceriesList",e.MembershipRewards="MembershipRewards",e.SubhubRecommendations="SubhubRecommendations",e.SubscriptionCard="SubscriptionCard",e.DealsRecommendControl="DealsRecommendControl"}(Rn||(Rn={}));const On=[Rn.TravelCardsGroup,Rn.ContactCard,Rn.ContactsPane,Rn.CalendarPane,Rn.SubscriptionCard,Rn.RelatedSearchesCard,Rn.RightPaneGroceriesList],Dn=[Rn.TravelCardsGroup,Rn.ContactCard,Rn.SubscriptionCard,Rn.RelatedSearchesCard],Nn=["imaps://gmail.com:993","imaps://gmail.com"],fn=10,Mn=(0,n.gP)(["Phone","LoyaltyNumber"]),Ln=5,Pn=15,yn=3,bn=(ye.DESKTOP_MAIL_VERSION,ut.STORM,ye.DESKTOP_MAIL_PREVIOUS_VERSION,ye.DESKTOP_MAIL_VERSION_HISTORY,5),Fn=5,Un={THEMED_BUTTON:"themedButton",CTR_ON_IMG:"ctrOnImg"},vn={DEFAULT:"default",PRODUCT:"product",GROCERY:"grocery"},wn=(0,n.gP)(["DEFAULT","BULK","TRASH"]),Gn={FOLDER_MIMETYPE:"application/vnd.pachyderm.folder",SPREADSHEET_MIMETYPE:"application/vnd.google-apps.spreadsheet",DOCUMENT_MIMETYPE:"application/vnd.google-apps.document"},kn={PRIVATE:"private",PUBLIC:"public"},Hn={PRICE_GRABBER:"priceGrabber",SKIM_LINK:"skimLink",VIG_LINK:"viglink",IMPACT_RADIUS:"impactRadius",COMMISSION_JUNCTION:"commissionJunction",AWIN:"awin",AD_MARKETPLACE:"adMarketPlace"},Bn={MESSAGE_EXTRACTION:"message_extraction",PRODUCT_EXTRACTION:"product_extraction",SENDER_EXTRACTION_RECEIPTS:"sender_extraction_receipts",SENDER_EXTRACTION:"sender_extraction",NOBLE_MESSAGE_HEADER:"noble_message_header",CONTACT_CARD:"contact_card",POTENTIAL_CONTACT_CARD:"potential_contact_card",SHORTCUTS_STORE_BRAND_HEADER:"shortcuts_store_brand_header",COUPON_SMART_VIEW_BRIEF_ITEM:"coupon_smart_view_brief_item",COUPON_SMART_VIEW_DEAL_ITEM:"coupon_smart_view_deal_item",COUPON_SMART_VIEW_COUPON_LIST_ITEM:"coupon_smart_view_coupon_list_item",MESSAGE_HEADER:"message_header",RECOMMENDED_DEALS:"recommended_deals",RECOMMENDED_CATEGORIES:"recommended_categories",RECOMMENDED_PRODUCTS:"recommended_products",STATIC_CARD_EXTRACTION:"static_card_extraction",CATEGORY_FALLBACK_DEALS_EXTRACTION:"category_fallback_deals_extraction",SHORTCUTS_FEEDBACK:"shortcuts_feedback",SHORTCUTS_INBOX:"shortcuts_inbox"},xn={GROCERY_SRP:"grocerysrp",GROCERY_RECO:"groceryreco",SPONSORED_GROCERY_RECO:"sponsored_groceryreco",GROCERY_CART:"grocerycart",GROCERY_ITEM_DETAIL:"groceryitemdetail",CATEGORY_RECO:"categoryreco",GROCERY_CATEGORY_RESULTS:"grocerycategoryresults",PREV_ADDED:"prev_added",RELATED_ITEMS:"groceryrelatedcategory",SIMILAR_ITEMS:"grocerysimilaritems",SPONSORED_GROCERY_CATEGORY_RESULTS:"sponsored_grocerycategoryresults",WALMART_RECOMMENDATIONS:"walmartrecommendations"},Vn={PACKAGE_TRACKING:"package_tracking",ENABLE_PACKAGE_TRACKING:"enable_package_tracking",PKG_TRACKING_URL_CLICKED:"pkg_tracking_url_clicked"},Wn={SHORTCUTS_INBOX:"shortcuts_inbox",SHORTCUTS_STORE:"shortcuts_store",SHORTCUTS_STORE_DEALS_PAGE:"shortcuts_store_deals_page",SHORTCUTS_STORE_EMAILS_PAGE:"shortcuts_store_emails_page",SHORTCUTS_STORE_PRODUCTS_PAGE:"shortcuts_store_products_page",SHORTCUTS_STORE_DEALS_SECTION:"shortcuts_store_deals_section",SHORTCUTS_STORE_EMAILS_SECTION:"shortcuts_store_emails_section",SHORTCUTS_STORE_PRODUCTS_SECTION:"shortcuts_store_products_section",SHORTCUTS_STORE_BRAND_HEADER:"shortcuts_store_brand_header"};let Zn,Kn,zn,qn,Yn,jn,Qn,Xn;!function(e){e.GROCERY_CATEGORY_SEARCH="groceryCategorySearch",e.GROCERY_STORE_SEARCH="groceryStoreSearch",e.GROCERY_STORE_VIEW="groceryStoreView",e.GROCERY_ITEM_DETAIL="groceryItemDetail",e.GROCERY_SHOPPING_CART="groceryShoppingCart",e.PREV_ADDED="prev_added",e.RELATED_ITEMS="relatedItems",e.SIMILAR_ITEMS="similarItems"}(Zn||(Zn={})),function(e){e.AFFILIATE_RETAILERS="affiliateRetailers",e.RECOMMENDED_DEALS="recommendedDeals",e.GROCERY_RETAILERS="groceryRetailers",e.GROCERY_RETAILERS_CATEGORY="groceryRetailersCategory",e.CATEGORY_FOLLOWING_LIST="categoryFollowingList",e.STOREFRONT_BRANDS="storefrontBrands",e.SPICE_TO_GPT="spiceToGpt",e.ALL_INBOX_DEALS="allInboxDeals"}(Kn||(Kn={})),function(e){e.COMMERCE="COMMERCE",e.DPA="DPA",e.ENTITIES="ENTITIES",e.KE="KE",e.OFFERS="OFFERS"}(zn||(zn={})),function(e){e.AFF_PRO_OFF="AFF_PRO_OFF",e.CPN="CPN",e.EER="EER",e.GRO_PRO_OFF_CPN="GRO_PRO_OFF_CPN",e.STA_OFF="STA_OFF"}(qn||(qn={})),function(e){e.EMAIL="EMAIL",e.MAILBOX="MAILBOX"}(Yn||(Yn={})),function(e){e.OFFERS="OFR",e.ENTITIES="ENT",e.DPA="DPA",e.COMMERCE="IC",e.KE="KE"}(jn||(jn={})),function(e){e.PERCENT_OFF="percentOff",e.MONEY_OFF="moneyOff",e.FREE_SHIPPING="freeShipping"}(Qn||(Qn={})),function(e){e.AFFILIATE_PRODUCT_OFFER="affiliateProductOffer",e.COUPON="Coupon",e.EXTRACTED_DEAL="extractedDeal",e.INBOX_DEAL="inboxDeal",e.PAYMENT_DETAIL="PaymentDetail",e.PRODUCT_OFFER="ProductOffer",e.PRODUCT_RECOMMENDATION_DEAL="productDealRecommendationDeal",e.RECOMMENDED_DEAL="recommendedDeal",e.STATIC_DEAL="staticDeal"}(Xn||(Xn={}));const Jn="ProductGroup";let $n,er,tr,sr;!function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE"}($n||($n={})),function(e){e.FUJI2="fuji2",e.DEFAULT="default"}(er||(er={})),function(e){e.DEFAULT="DEFAULT",e.SUNRISE="SUNRISE",e.AQUA_GREEN="AQUA_GREEN",e.AQUA_BLUE="AQUA_BLUE",e.DEEP_PURPLE="DEEP_PURPLE",e.PURPLE="PURPLE",e.BLUE_NIGHT="BLUE_NIGHT",e.DARK_GREY="DARK_GREY",e.NIGHT_LANDSCAPE="NIGHT_LANDSCAPE",e.ROADTRIP="ROADTRIP",e.SUNSET_AUSSIE="SUNSET_AUSSIE",e.LIGHTHOUSE="LIGHTHOUSE",e.ATT="ATT",e.AOL="AOL",e.FRONTIER="FRONTIER",e.ROGERS="ROGERS",e.BT="BT",e.SKY="SKY",e.NEXTGENHOME="NEXTGENHOME"}(tr||(tr={})),function(e){e.LIGHT="LIGHT",e.MEDIUM="MEDIUM",e.DARK="DARK"}(sr||(sr={}));const ar=120,nr=120,rr="https://s.yimg.com/jk/gtm/gtm_ns_v2.html?id=GTM-KPZHTFH&type=wlmtgcry";let or,ir;!function(e){e.COMPACT="COMPACT",e.MINIMIZED="MINIMIZED"}(or||(or={})),function(e){e.NOT_IN_PREVIEW="NOT_IN_PREVIEW",e.IN_PREVIEW="IN_PREVIEW"}(ir||(ir={}))},87611:(e,t,s)=>{"use strict";s.d(t,{o:()=>n});var a=s(92559);const n={COMPOSE_FROM_CONTACTS_PANE:[a.JE.CONTACT_ITEM_EMAIL_CLICKED,a.JE.CONTACT_DETAILS_EMAIL_CLICKED],REPLACE_ATTACHMENT_WITH_RIGHT_RAIL:[a.JE.CONTACTS_PANE_ICON_ON],EDIT_FORM:[a.JE.CONTACT_CARD_EDIT_CONTACT,a.JE.OPEN_EDIT_CONTACT]}},97860:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(67294),n=s(37422);const r=(0,a.createContext)({appId:"",config:{},crumb:"",environment:"devbox",guid:"",guidHash:"",mailBrandNameString:"",mailWssid:"",nextgenInviteSecret:"",os:n.Msg.OTHER,partner:"",store:{},timezone:{name:"Etc/GMT"},userNamespace:n.Tzw.YAHOO,yahooBrandNameString:"",yahooMailPlusBrandName:""})},79137:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(63352),n=s(95406),r=s(34443);function o(e,t,s=!0,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,o):this.stack=(new Error).stack,(0,a.Z)(t&&"object"==typeof t,"Expected failureMap to be an object."),Object.keys(t).forEach((e=>{const s=t[e];(0,a.Z)(s&&"object"==typeof s,`Invalid map passed to ApiError: ${e} had a value of ${s}`)})),this.token="API-ERROR",this.name=this.constructor.name,this.message=e,this.failureMap=t,this.extraStatusCode=this.getExtraStatusCode(),this.extraErrorCode=this.getExtraErrorCode(),this.statusCode=this.getStatusCode(),this.errorCode=this.getErrorCode(),this.errorInfo=n,this.isRetryable=!!s&&this.getRetryable()}o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.getStatusCode=function(){const e=String(this.extraStatusCode).split(",")[0].split(":")[1]||r.sj;return Number(e)},o.prototype.getErrorCode=function(){return this.message===r.PM?"EMPTY_RESPONSE":String(this.extraErrorCode).split(",")[0].split(":")[1]||r.sj},o.prototype.getExtraStatusCode=function(){const e=[];return Object.keys(this.failureMap).forEach((t=>{const s=this.failureMap[t].httpCode||r.sj;e.push(`${t}:${s}`)})),e.join(",")||r.sj},o.prototype.getExtraErrorCode=function(){const e=[];return Object.keys(this.failureMap).forEach((t=>{const s=this.failureMap[t],a=(0,n.u9)(s,"response.error.code",r.sj);e.push(`${t}:${a}`)})),e.join(",")||r.sj},o.prototype.getRetryable=function(){return this.message===r.PM||Object.keys(this.failureMap).every((e=>{const t=this.failureMap[e];if(429===t.httpCode)return!1;if(!t.response||!t.response.error)return!0;const s=t.response.error.code||"",a=s.split("-")[0],n=(t.response.id||"").split("_")[0],o=[n,s,`${s}-${n}`];for(const i of o)if(-1!==r.cO.indexOf(i))return!0;return"EC"!==a&&"EP"!==a&&"EB-6000"!==s&&"EB-6003"!==s}))};const i=o},34443:(e,t,s)=>{"use strict";s.d(t,{sj:()=>n,tO:()=>r,di:()=>o,X$:()=>i,bD:()=>l,BM:()=>c,hF:()=>d,uL:()=>E,YU:()=>_,gM:()=>u,PM:()=>m,dO:()=>S,Zh:()=>p,lV:()=>C,mm:()=>A,ps:()=>T,gv:()=>h,Rv:()=>g,eM:()=>I,xj:()=>R,Bl:()=>O,L$:()=>D,cO:()=>N});var a=s(95406);const n=0,r="Authentication.InvalidCredentials",o="Authentication.InvalidCrumb",i="Authentication.MissingCrumb",l="Authentication.WssidReissue",c="LaunchError.LaunchApiFailed",d="LaunchError.AbusiveUser",E="LaunchError.WrongMailboxState",_="LaunchError.PageNotFound",u="LaunchError.ActiveMailboxNotFound",m="Empty response returned from JEDI",S="The response returned from JEDI contains errors",p="Unhandled partial failure",C="Account is not supported",A="Multiple mailboxes found",T="One or more batch requests failed",h="Update request failed",g="Compose request failed",I="Message read request failed",R="Related Cards request failed",O=(0,a.gP)(["MISSING_YT_COOKIE","COOKIE_CHECK_SIGNATURE","COOKIE_CHECK_TIME_STAMP","INVALID_COOKIE_SCOPE","REMOVED_YT_COOKIE","DIFFERENT_USER","MISSING_OTH_COOKIE"]),D={[C]:"unsupported_acct",[A]:"multi_mboxes"},N=["EC-4001-SetMailboxAttribute","EP-5000"]},42655:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(79137),n=s(95406),r=s(54747),o=s.n(r),i=s(34443);function l(e,t,s){var a,r,o,c,d;if(!e)throw new Error("name is a required argument for MailError");"string"!=typeof t&&(s=t,t=null),Error.apply(this),Error.captureStackTrace&&Error.captureStackTrace(this,l);const E=(0,n.u9)(l.MANIFEST,e);if(!E)throw new Error("Error name ["+e+"] is not in the list of available errors. see ./manifest.js");t=t||E.description,E.requiredData&&E.requiredData.forEach((t=>{if(!s||!s.hasOwnProperty(t))throw new Error("property ["+t+"] is required for ["+e+"] error. Got: "+JSON.stringify(s))})),this.token="MAIL-ERROR",this.name=e,this.message=t,this.data=s||{},this.isRetryable=!1,this.statusCode=(0,n.u9)(this,"data.statusCode",null),this.errorCode=(null===(a=this.data.body)||void 0===a||null===(r=a.error)||void 0===r?void 0:r.code)||(null===(o=this.data.body)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.errorCode)||(null===(d=this.data.body)||void 0===d?void 0:d.errorCode)||this.data.errorCode||null,this.code=E.code||i.sj}l.MANIFEST=o(),l.VALIDATE_SUCCESS=123456,l.prototype=Object.create(Error.prototype),l.prototype.getDataByName=function(e,t=null){return(0,n.u9)(this.data,e,t)},l.prototype.setDataByName=function(e,t){this.data[e]=t},l.errorify=e=>{let t;return e instanceof l?e:(e instanceof a.Z?(t=new l("ApiError",e.message,e.failureMap),t.stack=e.stack,t.statusCode=e.statusCode,t.errorCode=e.errorCode,t.extraStatusCode=e.extraStatusCode,t.extraErrorCode=e.extraErrorCode,t.isRetryable=e.isRetryable,Object.assign(t.data,{info:e.errorInfo})):e&&"DecoderError"===e.kind?(t=new l("DecoderError",e.message),t.at=e.at):e instanceof Error?(t=new l("GenericError",[e.name,e.message].join(": ")),t.stack=e.stack):t=new l("UnknownError",`Error: ${JSON.stringify(e)}`,{errorCode:"UNKNOWN"}),t)},l.prototype.serialize=function(){return JSON.stringify(this.toJSON())},l.prototype.toJSON=function(){return{name:this.name,message:this.message,code:this.code,data:this.data,token:"MAIL-ERROR"}},l.jsonToError=function(e){return Object.assign(new Error,{stack:void 0},e)};const c=l},54747:e=>{e.exports={SyntaxError:{description:"Engineers messed up somewhere"},ApiError:{description:"The API layer returned an error"},DecoderError:{description:"API errors due to parsing failures"},HttpTransport:{NotOkStatusCode:{description:"Request returned with not-ok status code",requiredData:["statusCode"]},CrossDomainError:{description:"Origin is not allowed by Access-Control-Allow-Origin at Request.crossDomainError"},ContentTypeError:{description:"Return type does not match Request Accept type.",requiredData:["statusCode"]},ConnectionTimedOut:{description:"Request timed out."},ParseError:{description:"Parser is unable to parse the response.",requiredData:["statusCode","responseText"]},OutboundError:{description:"Request fails to go to the server from the client's browser."},ServerNotFound:{description:"DNS lookup failed."},ConnectionRefused:{description:"Client was not able to connect to host."},ConnectionReset:{description:"Connection reset by peer."}},BaseClient:{RequestBlocked:{description:"Request is blocked"},EmptyResponse:{description:"Response is empty"}},RequestQueue:{Rejected:{description:"A write request was issued. Therefore, the RequestQueue is dropping the call"},Timeout:{description:"Request timed out in queue"}},CloudStorageClient:{CloudStorageResultsError:{description:"The CloudStorageClient returned an error for fetching cloud storage results"}},BootcampApiClient:{DeleteRecentSearch:{description:"The BootcampApiClient returned an error for deleting recent search"},SearchError:{description:"The BootcampApiClient returned an error for the search"},SearchChunkError:{description:"The BootcampApiClient returned a chunk error"},SearchAdsError:{description:"The BootcampApiClient returned an error for parsing search ads"},SuggestionError:{description:"The BootcampApiClient returned an error for the suggestions"},LocalStoresError:{description:"The BootcampApiClient returned an error for fetching local stores"},GrocerySearchSuggestionsError:{description:"The BootcampApiClient returned an error for fetching grocery search suggestions"},TopRetailersError:{description:"The BootcampApiClient returned an error for fetching top retailers"},TopDealCategoriesError:{description:"The BootcampApiClient returned an error for fetching top deal categories"}},LinkEnhancerClient:{InvalidRequestUrl:{description:"Request URL is invalid."},EmptyResponseBody:{description:"Response Body is empty"},NoRootType:{description:"No Root Type"},NoWebSnippet:{description:"No Web Snippet"}},MailApiClient:{SaveAndSend:{description:"Both `Save` and `Send` requests have failed"},EmptyRequestPayload:{description:"Request payload is empty"}},LaunchError:{LaunchApiFailed:{description:"Launch API has failed"},AbusiveUser:{description:"Block abusive users to launch"},WrongMailboxState:{description:"Mailbox is deleted/disabled or maintainence"},NoScript:{description:"Javascript is disabled"},UnsupportedBrowser:{description:"browser is unsupported"},PageNotFound:{description:"Page not found"},ActiveMailboxNotFound:{description:"Active mailbox not found"},LaunchWssidMissing:{description:"V2 wssid is missing from jedi mailboxes call"}},Authentication:{InvalidCredentials:{description:"The user cookies are not valid anymore.",requiredData:["statusCode","errorCode","refresh"]},MissingCrumb:{description:"Crumb not passed as query parameter.",requiredData:["statusCode","errorCode"]},InvalidCrumb:{description:"No valid crumb found for the given user.",requiredData:["statusCode","errorCode"]},WssidReissue:{description:"Request does not have a valid wssid.",requiredData:["statusCode","errorCode","wssid"]}},GenericError:{description:"A generic error has occurred.",code:"FE-100"},UnknownError:{description:"An unkown error has occurred.",code:"FE-100"},AthenaApiClient:{DataError:{description:"The AthenaApiClient returned an error while parsing response."}},ClassicABClient:{CategoryDataError:{description:"Classic addressbook returned error for categories."},ContactsDataError:{description:"Classic addressbook returned error for contacts list."},ContactsSyncDataError:{description:"Classic addressbook returned error for contacts sync."}},AstraApiClient:{BatchCallError:{description:"The AstraApiClient returned an error while parsing response for the batch api call."},QuotientRetailersError:{description:"The AstraApiClient returned an error while parsing response for quotient retailers."},LinkRetailerError:{description:"The AstraApiClient returned an error while parsing response for link retailer."},CategoryFollowingListError:{description:"The AstraApiClient returned an error while parsing response for category following list."},RetailerOffersError:{description:"The AstraApiClient returned an error for fetching offers for a retailer"},RetailerActivatedOffersError:{description:"The AstraApiClient returned an error for fetching activated offers for a retailer"},AffiliateOffersError:{description:"The AstraApiClient returned an error for fetching affiliate product offers"},StorefrontModulesError:{description:"The AstraApiClient returned an error while parsing response for storefront modules"},CategoryOffersError:{description:"The AstraApiClient returned an error for fetching category offers for retailer"},SubcategoriesError:{description:"The AstraApiClient returned an error for fetching subcategories for parent category"},GroceryItemsError:{description:"AstraApiClient returned an error while fetching related/previously added grocery items"},StorefrontDealsError:{description:"AstraApiClient returned an error while fetching more storefront deals"}},obiApiClient:{ExistingSubscriptionError:{description:"Purchase offer returned error because the free trial is present in subscription history",code:"OBI-100"}},PushNotifications:{MetadataFetchFailed:{description:"Failed to get message metadata for a push notification"},MissingRegistrationId:{description:"Missing registrationId from successful TAP response"}},TastemakerApiClient:{FeatureNameMissing:{description:"featureName param is required"}}}},30925:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(8106);function n(){return(0,a.jU)()&&!!window.navigator.serviceWorker&&!!window.PushManager&&!!ServiceWorkerRegistration.prototype.showNotification}},92559:(e,t,s)=>{"use strict";s.d(t,{Rb:()=>n,w6:()=>r,fS:()=>o,JE:()=>i,nJ:()=>l,wM:()=>c,rO:()=>d,pf:()=>E,OI:()=>_,KJ:()=>u});var a=s(37422);let n;!function(e){e.click="click",e.nav="nav",e.shortcut="shortcut",e.keydown="keydown",e.callout="callout",e.view="view",e.swipe="swipe",e.voice="voice",e.scoutInject="scoutInject",e.interaction_click="interaction_click",e.monetizable_click="monetizable_click"}(n||(n={}));const r={COMPOSE_FLOW:"compFlow"};let o;!function(e){e.SEARCH_SUGGESTION="SEARCH_SUGGESTION",e.SEARCH_ZERO_RESULTS="SEARCH_ZERO_RESULTS",e.AD_ROTATION_SKIPPED="AD_ROTATION_SKIPPED",e.PREMIUM_AD_STARTED="PREMIUM_AD_STARTED",e.PREMIUM_AD_STOPPED="PREMIUM_AD_STOPPED"}(o||(o={}));const i={NORRIN_FORCE_OPTIN:"norrinForceOptin",MOBILE_ONBOARDING_WELCOME:"welcomeOnbrdng",MOBILE_ONBOARDING_PAGINATED_CONTENT:"pgntdCntntOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS:"notifsOnbrdng",MOBILE_ONBOARDING_FOLDERS:"folderOnbrdng",MOBILE_ONBOARDING_SWIPING:"swipeOnbrdng",MOBILE_ONBOARDING_COMPOSE:"composeOnbrdng",MOBILE_ONBOARDING_THEMING:"thmOnbrdng",MOBILE_ONBOARDING_SNIPPETS:"snptsOnbrdng",MOBILE_ONBOARDING_BLOCK_IMAGES:"blkImgsOnbrdng",MOBILE_ONBOARDING_CONVERSATIONS:"cnvrstnsOnbrdng",MOBILE_ONBOARDING_DONE:"doneOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS_ON:"notifsOnbrdngOn",MOBILE_ONBOARDING_NOTIFICATIONS_OFF:"notifsOnbrdngOff",CONVERSATIONS_CUE_TAP:"cue_conversationsCue_tap",DISMISS_APP_BANNER:"appBannerDismiss",APP_BANNER_SHOWN:"appBannerShown",VIEW_APP:"viewApp",TOOLBAR_SELECTALL_MSG:"tlbrSlctAllMsg",TOOLBAR_SELECT_NONE:"tlbrSlctNone",TOOLBAR_BULK_CONTEXT_MENU:"tlbrBlkCtxtMenu",TOOLBAR_BULK_CONTEXT_ALL:"tlbrBlkCtxtAll",TOOLBAR_BULK_CONTEXT_NONE:"tlbrBlkCtxtNone",TOOLBAR_BULK_CONTEXT_READ:"tlbrBlkCtxtRd",TOOLBAR_BULK_CONTEXT_UNREAD:"tlbrBlkCtxtUnrd",TOOLBAR_BULK_CONTEXT_STARRED:"tlbrBlkCtxtStrrd",TOOLBAR_BULK_CONTEXT_UNSTARRED:"tlbrBlkCtxtUnStrrd",TOOLBAR_UNSUBSCRIBE:"tlbrUnsub",TOOLBAR_REPLY:"tlbrReply",TOOLBAR_REPLYALL:"tlbrReplyAll",TOOLBAR_FORWARD:"tlbrForward",TOOLBAR_DELETE:"tlbrDel",TOOLBAR_ARCHIVE:"tlbrArchv",TOOLBAR_RESTORE:"tlbrRstr",TOOLBAR_MOVE:"tlbrMov",TOOLBAR_MOVE_MENU:"tlbrMovMenu",DRAG_DROP_MOVE:"dndMov",TOOLBAR_SPAM:"tlbrSpam",TOOLBAR_NOT_SPAM:"tlbrNotSpam",TOOLBAR_MORE_MENU:"tlbrMoreMenu",TOOLBAR_MARK_READ:"tlbrMrkRd",TOOLBAR_MARK_UNREAD:"tlbrMrkUnRd",TOOLBAR_MARK_STARRED:"tlbrMrkStrrd",TOOLBAR_MARK_UNSTARRED:"tlbrMrkUStrrd",TOOLBAR_VIEW_RAW:"tlbrRaw",TOOLBAR_PRINT:"tlbrPrint",TOOLBAR_ADD_TO_CONTACTS:"tlbAddToContacts",TOOLBAR_FILTER_MESSAGES_LIKE_THIS:"tlbrFltrMsgsLikeThis",TOOLBAR_SORT_MENU:"tlbrSrtMenu",TOOLBAR_SORT_NEW:"tlbrSrtNew",TOOLBAR_SORT_OLD:"tlbrSrtOld",TOOLBAR_SORT_UNREAD:"tlbrSrtUnrd",TOOLBAR_SORT_STARRED:"tlbrSrtStrrd",TOOLBAR_SORT_SENDER:"tlbrSrtSndr",TOOLBAR_SORT_ALPHA:"tlbrSrtAlpha",TOOLBAR_SORT_SUBJECT:"tlbrSrtSub",TOOLBAR_SORT_ATTACHMENT:"tlbrSrtAttmt",TOOLBAR_SORT_RELEVANCE:"tlbrSrtRelvnce",TOOLBAR_CLOSE_MSG:"tlbrCloseMsg",TOOLBAR_BACK_TO_LIST:"tlbrBackToLst",QUICK_REPLY:"qckReply",QUICK_REPLYALL:"qckReplyAll",QUICK_FORWARD:"qckForward",CONTACT_SEARCH:"cntctSrch",SUBJECT_SEARCH:"subSrch",PHISHING_BANNER_SPAM:"pshBnrSpm",PHISHING_BANNER_NOT_SPAM:"pshBnrNotSpm",PHISHING_BANNER_SHOWN:"pshBnrShwn",SPAM_INDICATOR_SPAM:"spmIdctrSpm",SPAM_INDICATOR_NOT_SPAM:"spmIdctrNotSpm",SPAM_INDICATOR_SHOWN:"spmIdctrShwn",SPAM_UNSUB_DIALOG_SHOWN:"spmUnsubDialogShown",SPAM_UNSUB_DIALOG_CLOSE:"spmUnsubDialogClose",SPAM_UNSUB_DIALOG_SPAM:"spmUnsubDialogSpam",SPAM_UNSUB_DIALOG_UNSUB:"spmUnsubDialogUnsub",SPAM_UNSUB_DIALOG_BACKGROUND:"spmUnsubDialogBg",CHANGE_REPLY_TO_SETTING:"chngRplyTo",REPLY_TO_HELP_LINK:"rplyToHlpLnk",MSG_LST_CONTEXT_MENU:"msgLstContxtMenu",MSG_GRP_HDR_MARK_READ:"msgHdrMrkGrpRd",MSG_GRP_HDR_MARK_UNREAD:"msgHdrMrkGrpUnRd",MSG_GRP_HDR_MARK_STAR:"msgHdrMrkGrpStrrd",MSG_GRP_HDR_MARK_UNSTAR:"msgHdrMrkGrpUnStrrd",MSG_HDR_MARK_READ:"msgHdrMrkRd",MSG_HDR_MARK_UNREAD:"msgHdrMrkUnRd",MSG_HDR_MARK_STAR:"msgHdrMrkStrrd",MSG_HDR_MARK_UNSTAR:"msgHdrMrkUnStrrd",MSG_HDR_PRINT:"msgHdrPrint",MSG_HDR_PREV:"msgHdrPrev",MSG_HDR_NEXT:"msgHdrNext",MSG_REPLY:"msgReply",MSG_REPLY_ALL:"msgReplyAll",MSG_FORWARD:"msgForward",MSG_SMART_REPLY:"msgSmartReply",MSG_DELETE:"msgDelete",MSG_ARCHIVE:"msgArchive",SHOW_IMG:"showImg",SHOW_IMG_ALWAYS:"showImgAlws",OPEN_LINK:"openlnk",OPEN_DOC_PREVIEW:"openDocPrvw",OPEN_MAILTO_LINK:"openMailToLnk",ZOOM_IN_ATTACHMENT_PREVIEW:"zoomInDocPrvw",ZOOM_OUT_ATTACHMENT_PREVIEW:"zoomOutDocPrvw",OPEN_LIGHTBOX_ATTACHMENT_PREVIEW:"fullscrnDocPrvw",DOWNLOAD_ATTACHMENT:"dwnldattmt",DOWNLOAD_ATTACHMENT_ALL:"dwnldattmtAll",ATTACHMENT_PRINT:"printattmt",ATTACHMENT_LIGHTBOX_OPEN:"openattmlghtbx",ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD:"dwnldimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_SHARE:"shareimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_CLOSE:"closeimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE:"nextimglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_GROUP:"nextImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_LIST:"nextImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE:"previmglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_GROUP:"prevImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_LIST:"prevImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_ZOOM:"zoomimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_OPEN:"openimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_MSG:"rdmsgimglghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD:"dwnlddoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_SHARE:"sharedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_CLOSE:"closedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE:"nextdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_GROUP:"nextDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_LIST:"nextDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE:"prevdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_GROUP:"prevDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_LIST:"prevDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_ZOOM:"zoomdoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_OPEN:"opendoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_MSG:"rdmsgdoclghtbx",ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD:"dnlwdDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_SHARE:"shareDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_CLOSE:"closeDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_NEXT_IN_MESSAGE:"nextDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_PREV_IN_MESSAGE:"prevDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_ZOOM:"zoomDocPrvw",ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD:"dnlwdImgPrvw",ATTACHMENT_PREVIEW_IMAGE_SHARE:"shareImgPrvw",ATTACHMENT_PREVIEW_IMAGE_CLOSE:"closeImgPrvw",ATTACHMENT_PREVIEW_IMAGE_NEXT_IN_MESSAGE:"nextImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_PREV_IN_MESSAGE:"prevImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_ZOOM:"zoomImgPrvw",ATTACHMENT_VIEW_DOCUMENTS:"attmVwDoc",ATTACHMENT_VIEW_IMAGES:"attmVwImg",ATTACHMENT_VIEW_MESSAGES:"attmVwMsg",ATTACHMENT_ACTION_UNKNOWN:"attmUnknown",DOC_OPEN:"opendoc",DOC_READ_MSG:"rdmsgdoc",DOC_DELETE_PREVIEW_OPEN:"preDelDocOp",DOC_DELETE_PREVIEW_CLOSE:"preDelDocCls",DOC_DELETE_PREVIEW_READ_MSG:"preDelRdMsgDoc",DOC_MESSAGE_DELETE:"msgDelDoc",DOC_OPEN_LINK:"openlnkdoc",DOC_SHARE:"sharedoc",RIGHT_RAIL_DOC_OPEN:"opendocrail",RIGHT_RAIL_DOC_OPEN_ALL:"openalldocrail",PHOTO_OPEN:"openimg",PHOTO_READ_MSG:"rdmsgimg",PHOTO_DELETE_PREVIEW_OPEN:"preDelImgOp",PHOTO_DELETE_PREVIEW_CLOSE:"preDelImgCls",PHOTO_DELETE_PREVIEW_READ_MSG:"preDelRdMsgImg",PHOTO_MESSAGE_DELETE:"msgDelImg",PHOTO_DOWNLOAD:"dwnldimg",PHOTO_SHARE:"shareimg",RIGHT_RAIL_PHOTO_OPEN:"openimgrail",RIGHT_RAIL_PHOTO_OPEN_ALL:"opendocrail",TRAVEL_READ_MSG:"rdmsgtrv",OPEN_MSG:"openMsg",SELECT_MSG:"slctMsg",MARK_MSG_READ:"mrkMsgRd",MARK_MSG_UNREAD:"mrkMsgUnRd",MARK_MSG_STARRED:"mrkMsgStrrd",MARK_MSG_UNSTARRED:"mrkMsgUnStrrd",MSG_LIST_DEL:"msgLstDel",MSG_LIST_ARCHIVE:"msgLstArchv",MSG_LIST_MV_INBOX:"msgLstRstr",RIGHT_RAIL_MSG_OPEN:"openmsgrail",RIGHT_RAIL_MSG_OPEN_ALL:"openallmsgrail",TOGGLE_LIST_VISIBILITY:"toggleListView",MSG_LIST_REPLY:"msgLstRply",MSG_LIST_REPLY_ALL:"msgLstRplyAll",NUDGE_TO_REPLY_SHOWN:"nudgeToReplyShown",NUDGE_TO_REPLY_CLICKED:"nudgeToReplyClicked",NUDGE_AND_SMART_REPLY_RESPONSE:"nudgeAndSmartReplyResponse",GPT_CATEGORY_LIST_ON_MSG_OPEN:"gptCategoryListOnMsgOpen",UNDO_DELETE_ACTION:"undoDel",UNDO_ARCHIVE_ACTION:"undoArchv",UNDO_MOVE_ACTION:"undoMov",VIEW_MSG_LINK:"viewMsgLnk",UNUSUAL_DISCOUNT:"annotation_show",UNUSUAL_DISCOUNT_MAIL_CLICKED:"annotated_message_open",SHOW_MAIL_PLUS_TAB:"showMailPlusTab",SHOW_SETTINGS_PRIVACY_TAB:"showSettingsPrivacyTab",AUTO_FORWARD_NOTIFICATION_REVIEW_LINK:"autoFwdNtfnReviewLnk",AUTO_FORWARD_NOTIFICATION_REVIEW_CLOSE:"autoFwdNtfnReviewClose",AUTO_FORWARD_NOTIFICATION_EXPIRY_CLOSE:"autoFwdNtfnExpiryClose",AUTO_FORWARD_NOTIFICATION_EXPIRED_CLOSE:"autoFwdNtfnExpiredClose",AUTO_FORWARD_NOTIFICATION_ONLY_REVIEW_SHOWN:"autoFwdNtfnOnlyReviewShown",AUTO_FORWARD_NOTIFICATION_REVIEW_AND_EXPIRY_SHOWN:"autoFwdNtfnReviewAndExpiryShown",AUTO_FORWARD_NOTIFICATION_EXPIRED_SHOWN:"autoFwdNtfnReviewAndExpiredShown",AUTO_FORWARD_CUE_REVIEW_LINK:"autoFwdCueReviewLnk",AUTO_FORWARD_CUE_CLOSE:"autoFwdCueClose",AUTO_FORWARD_SETTING_UPSELL_CLICKED:"autoFwdSettingUpsellClicked",AUTO_FORWARD_NOTIFICATION_MAIL_PLUS_SETTINGS:"autoFwdMailPlusSettings",DEA_MAIL_PLUS_SETTINGS:"deaMailPlusSettings",DOMAIN_BLOCK_MAIL_PLUS_SETTINGS:"domainBlockMailPlusSettings",NUDGE_TO_REPLY_MAIL_PLUS_SETTINGS:"nudgeToReplyMailPlusSettings",COMPACT_COMPOSE_MAIL_PLUS_SETTINGS:"compactComposeMailPlusSettings",DEAL_RECO_MAIL_PLUS_SETTINGS:"dealRecoMailPlusSettings",MAIL_PLUS_TASTEMAKER_UPSELL_SHOWN:"mailPlusTstMkrUpsellShown",MAIL_PLUS_TASTEMAKER_UPSELL_CTA:"mailPlusTstMkrUpsellCTA",MAIL_PLUS_TASTEMAKER_UPSELL_BLUR:"mailPlusTstMkrUpsellBlur",MAIL_PLUS_TASTEMAKER_UPSELL_CLOSE:"mailPlusTstMkrUpsellClose",MAIL_PLUS_UPSELL_BENEFITS_CLICK:"mailPlusUpsellBenefitsClick",MAIL_PLUS_UPSELL_CHECKOUT_CLICK:"mailPlusUpsellCheckoutClick",EMPTY_FOLDER_STATIC_MAIL_PLUS_UPSELL_CLICK:"emptyFolderStaticMailPlusUpsellClick",RIGHT_RAIL_ADBLOCK_UPSELL_CLICK:"rightRailAdblockUpsellClick",MAILPRO_TO_MAIL_PLUS_UPSELL_CLICK:"mailProToMailPlusUpsellClick",MAILPRO_TO_MAIL_PLUS_UPSELL_DISMISS:"mailProToMailPlusUpsellDismiss",LAUNCH:"launch",YMAIL_LOGO:"logo",MAIL_ICON:"inbxBtn",CONTACTS_ICON:"cntctBtn",CALENDAR_ICON:"clndrBtn",NOTEPAD_ICON:"ntpdBtn",HELP_ICON:"helpBtn",HELP_GO_WEB:"helpGoWeb",REWARDS_ICON:"rewardsBtn",MESSENGER_ICON:"mssgnrBtn",SETTINGS_GEAR_ICON:"sttgsBtn",RIGHT_RAIL_PLUS_ICON:"rrPlusBtn",SETTINGS_LABEL:"sttgsLabelBtn",SEARCH_BAR:"clickSrchBar",SEARCH_BAR_FOCUS_BLURRED:"searchBarFocusBlurred",ADVANCED_SEARCH:"advncdSrch",SEARCH_BUTTON:"mailSrch",SEARCH_PEOPLE_SUGGEST:"mailSrchPeopleSuggst",SEARCH_KWRD_SUGGEST:"mailSrchKwrdSuggst",SEARCH_EMAIL_SUGGEST:"mailSrchEmailSuggst",SEARCH_RECENT_SUGGEST:"mailSrchRecentSuggst",SEARCH_EMPTY_PEOPLE_SUGGEST:"mailSrchEmptyPeopleSuggst",SEARCH_EMPTY_KWRD_SUGGEST:"mailSrchEmptyKwrdSuggst",SEARCH_EMPTY_EMAIL_SUGGEST:"mailSrchEmptyEmailSuggst",SEARCH_EMPTY_RECENT_SUGGEST:"mailSrchEmptyRecentSuggst",SEARCH_SUGGESTION_SHOWN:"srchsuggst",SEARCH_EMAIL_SUGGESTION_SHOWN:"showedEmailSnippets",ADVANCED_SEARCH_BUTTON:"advncdMailSrch",ACCOUNT_SETTINGS:"sttgsMenu",SIGNOUT:"signout",HOME_BUTTON:"homeBtn",CORONAVIRUS_BUTTON:"coronaBtn",SIDEBAR_BUTTON:"sidebarBtn",MARKETING_BEACON:"mktgBeacn",NEWUSER_MARKETING_BEACON:"newUserMktgBeacn",IE_TO_EDGE:"ie2edge",UNREAD_SMARTVIEW:"unrdSmrtvw",STARRED_SMARTVIEW:"strrdSmrtvw",PHOTO_SMARTVIEW:"photoSmrtvw",DOCUMENT_SMARTVIEW:"docSmrtvw",TUTORIAL_SMARTVIEW:"tutrlSmrtvw",COUPONS_SMARTVIEW:"cpnSmrtvw",STOREFRONT_SMARTVIEW:"strfrntSmrtvw",RECEIPTS_SMARTVIEW:"rcptSmrtvw",TRAVEL_SMARTVIEW:"trvSmrtvw",SUBSCRIPTIONS_SMARTVIEW:"sbscrptnSmrtvw",ATTACHMENTS_SMARTVIEW:"attSmrtvw",INBOX_FOLDER:"inboxFldr",DRAFT_FOLDER:"draftFldr",SENT_FOLDER:"sentFldr",ARCHIVE_FOLDER:"archiveFldr",BULK_FOLDER:"spamFldr",TRASH_FOLDER:"trashFldr",USER_FOLDER:"usrFldr",ADD_FOLDER:"addFldr",FOLDER_CONTEXTMENU:"fldrContxtMenu",FOLDER_CONTEXTMENU_ALL_READ:"ctxtMenuFldrAllRd",FOLDER_CONTEXTMENU_ALL_ARCHIVE:"ctxtMenuFldrAllArch",FOLDER_CONTEXTMENU_ALL_DELETE:"ctxtMenuFldrAllDel",FOLDER_CONTEXTMENU_RENAME:"ctxtMenuFldrAllRen",FOLDER_CONTEXTMENU_MOVE:"ctxtMenuFldrAllMov",FOLDER_CONTEXTMENU_DELETE:"ctxtMenuDelFldr",FOLDER_CONTEXTMENU_EMPTY:"ctxtMenuEmpty",FOLDER_EMPTY:"fldrEmpty",ACCOUNT_SWITCH:"accntSwitch",COLLAPSE_ACCOUNT_SWITCHER:"cllpsAccntSwtchr",EXPAND_ACCOUNT_SWITCHER:"expndAccntSwtchr",EDIT_IMAP_ACCOUNT:"editImapAccnt",FIX_IMAP_ACCOUNT:"fixImapAccnt",CONFIRM_DELETE_ACCOUNT:"cnfmDelAccnt",DELETE_ACCOUNT:"delAccnt",ADD_ACCOUNT:"addAccnt",SELECT_YAHOO_ACCOUNT:"slctYahooAccnt",SELECT_OUTLOOK_ACCOUNT:"slctOutlookAccnt",SELECT_AOL_ACCOUNT:"slctAolAccnt",SELECT_GOOGLE_ACCOUNT:"slctGoogleAccnt",SELECT_OFFICE365_ACCOUNT:"slctOffice365Accnt",SELECT_OTHER_ACCOUNT:"slctOtherAccnt",AUTHORIZE_IMAP_ACCOUNT:"cnnctAccnt",CONNECT_ACCOUNT_SUCCESS:"cnnctAccntSuccess",CONNECT_ACCOUNT_FAILURE:"cnnctAccntFailure",CANCEL_ADD_ACCOUNT:"cancelAddAccnt",ADD_DEA:"addDea",ADD_DEA_BASE:"addDeaBase",ADD_DEA_FILTER:"addDeaFilter",EDIT_DEA:"editDea",CANCEL_EDIT_DEA:"cancelEditDea",CANCEL_ADD_DEA:"cancelAddDea",CANCEL_ADD_BASE:"cancelAddBase",CANCEL_DEA_FILTER:"cancelDeaFilter",THEME_CHANGED:"thmSttgs",SETTINGS_POPUP_THEME:"themesClrSttgsPop",SETTINGS_THEME:"themesClrSttgs",SETTINGS_POPUP_THEME_MODE:"themesModeSttgsPop",SETTINGS_THEME_MODE:"themesModeSttgs",SETTINGS_POPUP_PREVIEW_PANE:"prvpSttgsPop",SETTINGS_PREVIEW_PANE:"prvpSttgs",SETTINGS_POPUP_MSG_LIST_DENSITY:"dnstySttsPop",SETTINGS_MSG_LIST_DENSITY:"dnstyStts",SETTINGS_COMPOSE_FORMAT:"cmpFmtSttgs",SETTINGS_NAV_COMPOSE_FORMAT_CUE:"cmpFmtSttgsCue",SETTINGS_POPUP_TAB_SETTING:"tabSttgsPop",SETTINGS_TAB_SETTING:"tabSttgs",SETTINGS_POPUP_SNIPPET:"snpptsSttgsPop",SETTINGS_SNIPPET:"snpptsSttgs",SETTINGS_INBOX_STYLE:"inbxStyleSttgs",SETTINGS_POPUP_MORE:"moreSttgsPop",SETTINGS_POPUP_PRIVACY:"prvcySttgsPop",SETTINGS_HELP:"hlpSttgs",SETTINGS_POPUP_FEEDBACK:"fdbckSttgsPop",SETTINGS_POPUP_MAIL_PLUS_UPSELL:"mailPlusUpsellSttgsPop",SETTINGS_FEEDBACK:"fdbckSttgs",SETTINGS_LEFT_RAIL_PERSONALIZE_INBOX:"inbxSttgs",SETTINGS_LEFT_RAIL_ACCOUNTS:"accntSttgs",SETTINGS_LEFT_RAIL_NOTIFICATIONS:"notfctnSttgs",SETTINGS_LEFT_RAIL_WRITING_EMAILS:"writeSttgs",SETTINGS_LEFT_RAIL_VIEWING_EMAILS:"viewSttgs",SETTINGS_LEFT_RAIL_CATEGORIZATION:"ctgrySttgs",SETTINGS_LEFT_RAIL_AUTOMATIC_REPLY:"replySttgs",SETTINGS_LEFT_RAIL_FILTERS:"filtrSttgs",SETTINGS_LEFT_RAIL_SWITCH_TO_CLASSIC:"swtchSttgs",SETTINGS_LEFT_RAIL_ABOUT:"aboutSttgs",SETTINGS_LEFT_RAIL_ABOUT_ADS:"aboutAdsSttgs",SETTINGS_LEFT_RAIL_AD_FREE:"adFrSttgs",SETTINGS_LEFT_RAIL_PRIVACY:"privcySttgs",SETTINGS_TERMS:"termsSttgs",SETTINGS_DO_NOT_SELL:"doNotSellSttgs",SETTINGS_LEFT_RAIL_SECURITY_AND_PRIVACY:"secPrivSttgs",SETTINGS_LEFT_RAIL_ENCRYPTION:"cryptSttgs",SETTINGS_LEFT_RAIL_CONTACTS:"cntctSttgs",SETTINGS_NOTIFICATIONS:"setNtfctn",SETTINGS_CONVERSATION:"setConvstn",SETTINGS_HUMAN_READABLE_CONSENT_SHOW:"showHrconsent",SETTINGS_HUMAN_READABLE_CONSENT_OPTOUT:"optOutHrconsent",SETTINGS_HUMAN_READABLE_CONSENT_OPTIN:"optInHrconsent",SETTINGS_AUTOMATIC_REPLY:"saveReplySttgs",SETTINGS_CANCEL_EDIT_AUTOMATIC_REPLY:"cancelEditReplySttgs",SETTINGS_CANCEL_EDIT_ACCOUNT:"cancelEditAccnt",SETTINGS_LINK_ENHANCER:"linkEnhancerSttgs",SETTINGS_CATEGORIZATION_CHANGE:"chgCtgrySttgs",SETTINGS_CATEGORIZATION_ORDER:"ordCtgrySttgs",SETTINGS_COLLAPSE_SYSTEM_FOLDERS:"cllpsSysFldrs",SETTINGS_EXPAND_SYSTEM_FOLDERS:"expndSysFldrs",SETTINGS_LEFT_RAIL_MAIL_PRO:"mailProSttgs",SETTINGS_BLOCK_IMAGES:"showImgSttgs",SETTINGS_MOBILE_NOTIFICATION:"mobNtfctn",SETTINGS_OPT_OUT:"optOutSttgs",SETTINGS_SIGNATURE:"sigSttgs",SETTINGS_ACCOUNTS:"acctSttngs",SETTINGS_DISABLE_FORWARDING:"delAutoFwd",SETTINGS_ENABLE_FORWARDING:"addAutoFwd",SETTINGS_BLOCKED_SENDERS:"blkSdrSttgs",SETTINGS_MSG_FILTERS_SAVE:"saveMsgFltrSttgs",SETTINGS_FIRST_MESSAGE:"frstMsgSttgs",SETTINGS_DEAL_RECO_TOGGLE_DISABLED:"dealRecoToggleDisabledSettings",SETTING_DEAL_RECO_TOGGLE_ENABLED:"dealRecoToggleEnabledSettings",SETTINGS_MAIL_PLUS_FEATURE_SEE_BENEFITS:"settingsMailPlusFeatureSeeBenefits",SETTINGS_DISABLED_FEATURE_BUTTON_HOVER:"disabledFeatureButtonHover",SETTINGS_DISABLED_FEATURE_CLOSE_BUTTON_CLICK:"disabledFeatureCloseButtonClick",SETTINGS_LEFT_RAIL_MAIL_PLUS:"mailPlusSttngs",SETTINGS_MAIL_PLUS_MANAGE_ACCOUNT:"mailPlusManageAccountSettings",SETTINGS_MAIL_PLUS_KEEP_PLUS:"mailPlusKeepPlusSettings",SETTINGS_MAIL_PLUS_FREE_TRIAL:"mailPlusFreeTrial",SETTINGS_MAIL_PLUS_ACTIVATE_SUBSCRIPTION:"mailPlusActiveSubscriptions",SETTINGS_MAIL_PLUS_EMAIL_FORWDING_LEARN_MORE:"mailPlusEmailForwardingLearnMore",SETTINGS_BLOCKED_DOMAINS:"blckDmnSettings",SETTINGS_MOBILE_AFTER_MESSAGE_MOVE:"afterMsgMoveSettings",SETTINGS_MOBILE_AFTER_MESSAGE_MOVE_SELECT:"afterMsgMoveSettingsSelect",SETTINGS_ADD_BLOCKED_DOMAIN_BUTTON:"addBlockedDomainButton",ADD_BLOCKED_DOMAIN_SUBSCRIPTION:"addBlckDmnSubscriptions",ADD_BLOCKED_DOMAIN:"addBlckDmn",DELETE_BLOCKED_DOMAIN:"delBlckDmn",BLOCKED_DOMAIN_ITEM_HOVER:"blockedDomainItemHover",NAVIGATE_TO_SETTINGS_SECURITY:"navigateToSecuritySettings",OPT_OUT_SUBMIT_FEEDBACK:"optOutSbmt",OPT_OUT_CANCEL_FEEDBACK:"optOutCncl",OPT_OUT_WITHOUT_FEEDBACK:"optOutWithoutFdbck",COMPOSE_BUTTON:"cmpsBtn",CANCEL_COMPOSE:"cancelCmp",CONTACT_SUGGEST:"contctsuggst",DELETE_CONTACT_SUGGEST:"delcontctsuggst",SELECT_CONTACT:"slctcontct",SHOW_HOVER_CARD:"showHvrcrd",COMPOSE_ADD_ATTACHMENT:"compsAddAttmnt",COMPOSE_DRAG_ATTACHMENT:"dragAttmnt",COMPOSE_ADD_BIG_ATTACHMENT:"compsAddBigAttmnt",DELETE_DRAFT:"delDraft",SEND:"send",SEND_MSG:"sendMsg",COMPOSE_FULL_SCREEN:"compsFullScreen",COMPOSE_POP_OUT:"compsPopOut",COMPOSE_AUTO_OPEN_STATIONERY_POPUP:"compsAutoOpnStnryPop",COMPOSE_OPEN_STATIONERY_POPUP:"compsOpnStnryPop",COMPOSE_CLOSE_STATIONERY_POPUP:"compsClsStnryPop",COMPOSE_ADD_STATIONERY:"compsAddStnry",COMPOSE_CLEAR_STATIONERY:"compsClrStnry",COMPOSE_CLEAR_DEFAULT_STATIONERY:"compsClrDfltStnry",COMPOSE_ADD_LINK:"compAddLink",COMPOSE_BOLD:"compsBold",COMPOSE_ITALIC:"compsItalic",COMPOSE_CHOOSE_COLOR:"compsClr",COMPOSE_CHOOSE_FONT:"compsFnt",COMPOSE_FILE_SELECT_BTN_CLICKED:"compsFileSlctBtnClicked",COMPOSE_OPEN_MORE_MENU:"compMoreMnu",COMPOSE_CHOOSE_LIST_TYPE:"compsLst",COMPOSE_ALIGN_TEXT:"compsAlgn",COMPOSE_STRIKETHROUGH_TEXT:"compsStrikeThrough",COMPOSE_PLAIN_TEXT_MODE:"compsPlainText",COMPOSE_RICH_TEXT_MODE:"compsRichText",RELATED_CONTACTS_CLOSED:"relatedContctsClosed",COMPOSE_SHOW_CC_BCC:"compsshowCC",COMPOSE_HIDE_CC_BCC:"compsHideCC",GIF_SEARCH:"compsGifSrch",GIF_CATEGORY:"compsGifCtgry",GIF_ADD:"compsAddGif",GIF_OPEN:"openGifCntxt",GIF_CHANGE_SIZE:"changeGifsz",GIF_SEND_AS_ATTACHMENT:"sendGifAttmnt",GIF_DOWNLOAD:"dnwldGif",GIF_REMOVE:"removeGif",EMOJI_CLOSE:"closeEmjiPckr",EMOJI_OPEN:"openEmjiPckr",EMOJI_ADD:"compsAddEmoji",EMOJI_CATEGORY_CHANGED:"emjiCtgryChngd",DRAG_CONTACT:"dragCntct",EMERGENCY_RELOAD_SHOWED:"emReloadShwd",EMERGENCY_RELOAD_ACCEPTED:"emReloadAcptd",EMERGENCY_RELOAD_CANCELED:"emReloadCncld",EMERGENCY_RELOAD_CLOSED:"emReloadClsd",PERIODIC_RELOAD_SHOWED:"peReloadShwd",PERIODIC_RELOAD_ACCEPTED:"peReloadAcptd",FILTER_MESSAGES:"fltrMsg",FILTER_IMAGES:"fltrPhoto",FILTER_DOCUMENTS:"fltrDocs",FILTER_FROM:"fltrFrom",FILTER_TO:"fltrTo",FILTER_ALL:"fltrAll",FILTER_PEOPLE:"fltrPeople",FILTER_NOT_PEOPLE:"fltrNotPeople",FILTER_TRAVEL_VIEW_UPCOMING:"fltrTrUpc",FILTER_TRAVEL_VIEW_PAST:"fltrTrPst",FILTER_PHOTOS:"fltrPhoto",FILTER_ACTIVE:"fltrActv",FILTER_PAST:"fltrPst",UNSUB_BUTTON:"unsub_btn",UNSUB_CONFIRM:"unsub_confirm",SUBSCRIPTION_OPEN:"subscriptionOpen",SUBHUB_RECOMMENDATION_SHOWN:"subhubRecoShown",SUBHUB_RECOMMENDATION_CORE_ACTION:"subscribe",COUPON_CLIPPED:"cpnClipped",UNUSUAL_DISCOUNT_COUPON_CLIPPED:"message_coupon_clipped",COUPON_UNCLIPPED:"cpnUnclipped",COUPON_OPENED:"cpnOpen",RECEIPT_OPENED:"rcptOpn",COUPON_REC_OPENED:"cpnRecOpened",COUPON_REC_CLOSED:"cpnRecClosed",CARD_INTERACT:"card_interact",CARD_VIEW:"card_view",FALLBACK_COUPON_CLIPPER_FROM_SENDER_SHOWN:"fallbackCpnClprFrmSenderShwn",FALLBACK_COUPON_CLIPPER_FROM_INBOX_SHOWN:"fallbackCpnClprFrmInboxShwn",COUPON_SELF_EXTRACTION_MODAL_OPENED:"cpnSlfExtrnOpnd",COUPON_SELF_EXTRACTION_MODAL_CLOSED:"cpnSlfExtrnClsd",COUPON_SELF_EXTRACTION_MODAL_CANCELLED:"cpnSlfExtrnCncld",COUPON_SELF_EXTRACTION_MODAL_SAVE:"cpnSlfExtrnSv",FEEDBACK_PANEL_GIVE_FEEDBACK:"fbpFbk",TUTORIAL_VIDEO:"tutorialVid",ABNORMAL_ZOOM_DIALOG_CLOSED:"zoomDiagClosed",HIDE_RIGHT_RAIL_AD:"hideRightRailAd",BOOKING_CARD_RENDERED:"bookingCardRendered",NAVIGATE_TO_BOOKING:"navigateToBooking",ADFREE_UPSELL_ACCEPT:"adFreeAcptd",ADFREE_UPSELL_CANCEL:"adFreeCncld",GET_RR_WIDER_MAIL_EXTENSION:"rrWiderMailGetExtension",RR_WIDER_MAIL_INSTALL_SUCCESS:"rrWiderMailInstallSuccess",RR_WIDER_MAIL_INSTALL_FAILURE:"rrWiderMailInstallFailure",LINK_ENHANCER_ADD_LINK:"addEnLnk",LINK_ENHANCER_RESIZE_LINK:"resizeEnLnk",LINK_ENHANCER_REMOVE_LINK:"removeEnLnk",LINK_ENHANCER_OPEN_LINK:"openEnLnk",LINK_ENHANCER_SHARE_LINK:"shareEnLnk",LINK_ENHANCER_MOVE_LINK_BOTTOM:"moveEnLnkBottom",LINK_ENHANCER_MOVE_LINK_INLINE:"moveEnLnkInline",PENCIL_AD_CLICKED:"pencilAdClicked",PENCIL_AD_FEEDBACK_OPEN:"pencilAdFeedbackOpen",PENCIL_AD_FEEDBACK_MENU_OPEN:"pencilAdFeedbackMenuOpen",SEARCH_AD_FETCHED:"searchAdFetched",PENCIL_AD_DELETE:"pencilAdDelete",PENCIL_AD_DELETE_TLBR:"pencilAdDeleteTlbr",PENCIL_AD_SELECTION_TOGGLED:"pencilAdSelectionToggled",AD_FEEDBACK_POSITIVE:"adFeedbackPositive",AD_FEEDBACK_NEGATIVE:"adFeedbackNegative",WHY_THIS_AD_LINK_CLICKED:"whyThisAdLinkClicked",AD_FEEDBACK_MAIL_PRO_LINK_CLICKED:"adFeedbackMailProLinkClicked",AD_FEEDBACK_MAIL_PLUS_LINK_CLICKED:"adFeedbackMailPlusLinkClicked",NAVIGATE_TO_MAIL_PRO_MONTHLY:"navigateToMailProUrlMonthly",NAVIGATE_TO_MAIL_PRO_YEARLY:"navigateToMailProUrlYearly",NAVIGATE_TO_MAIL_PRO_ACTIVE_USER:"navigateToMailProUrlActiveUser",NAVIGATE_TO_MAIL_PRO_PASTDUE_USER:"navigateToMailProUrlPastDueUser",NAVIGATE_TO_MAIL_PRO_FROM_ERROR_PAGE:"navigateToMailProUrlFromErrorPage",NAVIGATE_TO_TRY_MAIL_PRO_FOR_FREE:"navigateToTryMailProForFree",NAVIGATE_TO_MAIL_PRO_FROM_ADFEEDBACK:"navigateToMailProUrlFromAdfeedback",NAVIGATE_TO_MAIL_PRO_FROM_TLBR:"navigateToMailProUrlFromTlbr",NAVIGATE_TO_MAIL_PRO_FROM_RIGHT_RAIL_UPSELL:"navigateToMailProUrlFromRightRailUpsell",NAVIGATE_TO_MAIL_PRO_FROM_SETTINGS_POPOVER:"navigateToMailProUrlFromSettingsPopover",NAVIGATE_TO_MAIL_PRO_TAB_FROM_ADFEEDBACK:"navigateToMailProTabFromAdfeedback",NAVIGATE_TO_MAIL_PLUS_FROM_ADFEEDBACK:"navigateToMailPlusUrlFromAdfeedback",LEARN_MORE_ON_MAIL_PLUS:"learnMoreOnMailPlus",REACTIVATE_MAIL_PLUS:"ReactivateMailPlus",TABS_MENU_OPEN:"tabsMenuOpen",TABS_MENU_CLOSE:"tabsMenuClose",TAB_CLICKED_WITH_ATTACHMENT_PREVIEW:"tabClickedWithAttachmentPreview",SEARCH_PLA_AD_ITEM_CLICKED:"searchPlaAdItemClicked",RSVP_CALENDAR_RESPONSE:"rsvpCalendarResponse",RSVP_NAVIGATE_TO_CALENDAR:"rsvpNavigateToCalendar",RSVP_LOADED:"rsvpModuleLoaded",RELATED_SEARCHES_CARD_CLICKED:"relatedSearchesCardClicked",FEATURE_VIEWED:"featureViewed",ADBLOCK_DETECTED:"adblockDetected",ADBLOCK_BEACON_FAILED:"adblockBeaconFailed",ABP_DETECTED:"abpDetected",ADBLOCK_UI_UPDATE:"adblockUIUpdate",PUSH_NOTIFICATION_RECEIVED:"pushNotificationReceived",PUSH_NOTIFICATION_OPENED:"pushNotificationOpened",PUSH_NOTIFICATIONS_REQUEST_GRANTED:"pushNotificationsRequestGranted",PUSH_NOTIFICATIONS_REQUEST_REJECTED:"pushNotificationsRequestRejected",PUSH_NOTIFICATION_ACTION_DELETE:"pushNotificationActionDelete",PUSH_NOTIFICATION_ACTION_MARK_AS_READ:"pushNotificationActionMarkAsRead",PULL_TO_REFRESH:"pullToRefresh",NAVIGATE_TO_FOLDER:"navigateToFolder",NAVIGATE_TO_SETTINGS:"navigateToSttngs",CHECK_MAIL:"checkMail",MANUAL_SAVE_DRAFT:"manualSaveDraft",CONTACT_CARD_EMAIL_CLICKED:"contactCardEmailClicked",CONTACT_CARD_AVATAR_CLICKED:"contactCardAvatarClicked",CONTACT_CARD_URL_CLICKED:"contactCardUrlClicked",CONTACT_CARD_CLICKED:"contactCardClicked",CONTACT_CARD_NAME_CLICKED:"contactCardNameClicked",CONTACT_CARD_LOAD_FAILED:"contactCardLoadFailed",CONTACT_CARD_ADD_TO_CONTACTS:"contactCardAddToContacts",CONTACT_CARD_EDIT_CONTACT:"contactCardEditContact",MERCHANT_CARD_MENU_PRIVACY_CLICKED:"merchantCardMenuPrivacyLinkClicked",MERCHANT_CARD_HIDE_DEALS:"merchantCardHideDeals",MERCHANT_CARD_SHOW_DEALS:"merchantCardShowDeals",MERCHANT_CARD_TOGGLE_PREVIEW_DEALS:"merchantCardTogglePreviewDeals",OPEN_CONTACT_PICKER:"openContactPicker",OPEN_CONTACT_LIST:"openCntctLst",OPEN_CONTACT:"openCntct",CONTACTS_PANE_ICON_ON:"cntctIconOn",CONTACTS_PANE_ICON_OFF:"cntctIconOff",TOP_VIEW:"cntctsPaneTopView",USER_CREATED_VIEW:"cntctsPaneUserView",PEOPLE_VIEW:"cntctsPanePeopleView",BUSINESS_VIEW:"cntctsPaneBusinessView",GROUPS_VIEW:"cntctsPaneGroupsView",TOGGLE_ALPHA_SECTION:"toggleAlphaSctn",CONTACT_DETAILS_BACK:"contactDetailsBack",CONTACT_GROUP_EDIT_BACK:"contactGroupEditBack",CONTACT_GROUP_SAVE:"contactGroupSave",CONTACT_GROUP_CREATE:"contactGroupCreate",CONTACT_GROUP_EDIT_CANCEL:"contactGroupEditCancel",CONTACT_GROUP_CREATE_BACK:"contactGroupCreateBack",CONTACT_GROUP_CREATE_CANCEL:"contactGroupCreateCancel",ADD_CONTACT_TO_GROUP:"addContactToGroup",OPEN_EDIT_CONTACT:"openEditContact",CHANGE_USER_GROUP:"changeUserGroup",EDIT_USER_GROUP:"editUserGroup",OPEN_CREATE_USER_GROUP:"openCreateUserGroup",DELETE_USER_GROUP:"deleteUserGroup",CONTACT_EDIT_SAVE:"contactEditSave",CONTACT_CREATE_SAVE:"contactCreateSave",CONTACT_EDIT_CANCEL:"contactEditCancel",CONTACT_CREATE_CANCEL:"contactCreateCancel",SEARCH_CONTACTS:"searchContacts",CLEAR_CONTACTS_SEARCH:"clearContactsSearch",OPEN_CREATE_CONTACT:"openCreateContact",CONFIRM_DELETE_CONTACT:"confirmDeleteContact",EXPORT_ALL_CONTACTS:"exportAllContacts",IMPORT_CONTACTS:"importContacts",PRINT_ALL_CONTACTS:"printAllContacts",CHANGE_CONTACTS_SORT_ORDER:"changeContactsSortOrder",CHANGE_CONTACTS_CATEGORY_FILTER:"changeContactsCategoryFilter",IMPORT_CSV_CONTACTS_CLICKED:"importCsvContactsClicked",IMPORT_CSV_CONTACTS_SIZE_EXCEEDED:"importCsvContactsSizeExceeded",IMPORT_CSV_CONTACTS_REQUESTED:"importCsvContactsRequested",IMPORT_LINKEDIN_CONTACTS:"importLinkedInContacts",IMPORT_GMAIL_CONTACTS:"importGmailContacts",IMPORT_YMAIL_CONTACTS:"importYMailContacts",IMPORT_AOL_CONTACTS:"importAolContacts",IMPORT_OUTLOOK_CONTACTS:"importOutlookContacts",LINKEDIN_AUTH_EXPIRED:"linkedInAuthExpired",DISCONNECT_GMAIL_CONTACTS:"disconnectGmailContacts",DISCONNECT_YMAIL_CONTACTS:"disconnectYMailContacts",DISCONNECT_AOL_CONTACTS:"disconnectAolContacts",DISCONNECT_OUTLOOK_CONTACTS:"disconnectOutlookContacts",CONTACT_ITEM_EMAIL_CLICKED:"contactListEmailClicked",CONTACT_DETAILS_EMAIL_CLICKED:"contactDetailsEmailClicked",COUPON_BRAND_VIGLINK_CLICKED:"couponBrandViglinkClicked",COUPON_VIGLINK_CLICKED:"couponViglinkClicked",COUPON_BODY_VIGLINK_CLICKED:"couponBodyViglinkClicked",UNUSUAL_DISCOUNT_COUPON_CARD_VIGLINK_CLICKED:"annotated_message_link_click",COUPON_CARD_VIGLINK_CLICKED:"couponMsgReadCardClicked",COUPON_LIST_VIGLINK_CLICKED:"couponSmrtViewCardClicked",MESSAGE_READ_AVATAR_CLICKED:"MsgReadCardLogoClicked",MESSAGE_READ_FROM_FIELD_CLICKED:"MsgReadFromFieldClicked",COUPON_CARD_DEAL_FROM_MESSAGE_LOGO_CLICKED:"couponMsgReadDealLogoClicked",SHOPPING_COUPONS_VIEW_CLICKED:"shoppingCouponsVwClicked",SHOPPING_EMAILS_VIEW_CLICKED:"shoppingEmailsVwClicked",SHOPPING_CART_AD_REQUEST_SUCCESS:"shoppingCartAdRequestSuccess",SHOPPING_CART_AD_REQUEST_FAILURE:"shoppingCartAdRequestFailure",DEALS_SHOPPING_CART_AD_REQUEST_SUCCESS:"dealsShoppingCartAdRequestSuccess",DEALS_SHOPPING_CART_AD_REQUEST_FAILURE:"dealsShoppingCartAdRequestFailure",SHOPPING_CART_AD_RENDERED:"shoppingCartAdRendered",SHOPPING_CART_AD_CLICKED:"shoppingCartAdClicked",DEALS_SHOPPING_CART_AD_CLICKED:"dealsShoppingCartAdClicked",DEALS_SHOPPING_CART_AD_RENDERED:"dealsShoppingCartAdRendered",SHOPPING_CART_EXPAND_TOGGLED:"shoppingCartExpandToggled",DOMAIN_MATCHED_PENCIL_AD_MSG_READ:"domainMatchedPencilAdMsgRd",DOMAIN_MATCHED_AD_RENDERED:"domainMatchAdRendered",DOMAIN_MATCHED_AD_CLICKED:"domainMatchAdClicked",DOMAIN_MATCHED_AD_EXPANDED:"domainMatchAdExpanded",DOMAIN_MATCHED_AD_COLLAPSED:"domainMatchAdCollapsed",CROSS_DOMAIN_DPA_AD_REQUEST_SUCCESS:"crossDomainDPAAdRequestSuccess",CROSS_DOMAIN_DPA_AD_REQUEST_FAILURE:"crossDomainDPAAdRequestFailure",CROSS_DOMAIN_DPA_AD_REQUEST_ERROR:"crossDomainDPAAdRequestError",CROSS_DOMAIN_DPA_AD_RENDERED:"crossDomainDPAAdRendered",CROSS_DOMAIN_DPA_AD_CLICKED:"crossDomainDPAAdClicked",AD_FEEDBACK_OPENED:"adFeedbackOpened",AD_FEEDBACK_CLOSE:"adFeedbackClose",AD_FEEDBACK_SUBMIT:"adFeedbackSubmit",AD_POLICY_LINK_CLICKED:"adPolicyLinkClicked",CONNECTED_PROVIDERS:"connctdPrvdrs",QTNT_HEADER_VIEW:"qtnt_header_view",QTNT_ONBOARD_COMPLETE:"qtnt_onboard_complete",QTNT_ONBOARD_FAILURE:"qtnt_onboard_failure",QTNTVIEW_HEADER_ACTION:"qtntview_header_action",QTNTVIEW_LEFTRAIL:"qtntview_leftrail",QTNTVIEW_SMARTVIEW_ACTION:"qtntview_smartview_action",QTNTVIEW_SMARTVIEW_CANCEL:"qtntview_smartview_cancel",QTNT_START_SEARCH:"qtnt_start_search",QTNT_SEARCH:"qtnt_search",QTNT_CATEGORY_FILTER:"qtnt_category_filter",QTNT_COUPON_CLIP:"qtnt_coupon_clip",QTNTVIEW_TAKEOVER:"qtntview_takeover",QTNTVIEW_MESSAGELIST:"qtntview_messagelist",GROCERY_SEARCH_FIRE:"grocery_search_fire",GROCERY_SA_SELECT:"grocery_sa_select",GROCERY_END_OF_SCROLL:"end_of_scroll_reached",CATEGORY_FOLLOW:"category_follow",CATEGORY_UNFOLLOW:"category_unfollow",SUGGESTED_CATEGORIES_CARD_SHOW:"suggested_categories_card_show",CATEGORY_FOLLOWING_SHOW:"annotation_show",CATEGORY_FOLLOWING_MSG_OPEN:"annotated_message_open",BLOCK_SENDERS_SUBMIT:"blkSdrSbmt",BLOCK_SENDERS_WITH_DELETE_SUBMIT:"blkSdrDelSbmt",UNBLOCK_SENDERS_SUBMIT:"unblkSdrSbmt",SPONSORED_MOMENT_CLICKED:"sponsoredMomentClicked",SPONSORED_MOMENT_CLOSED:"sponsoredMomentClosed",MISCLICK_SPONSORED_AD_RENDERED:"misclickSponsoredAdRendered",PORTRAIT_AD_CLICKED:"portraitAdClicked",PORTRAIT_AD_EXPANDED:"portraitAdExpanded",PORTRAIT_AD_CLOSED:"portraitAdClosed",COUPONS_SEARCH_TOP_RETAILER_CLICKED:"couponsSearchTopRetailerClicked",COUPONS_SEARCH_TOP_DEAL_CLICKED:"couponsSearchTopDealClicked",COUPONS_SEARCH_RECENT_SEARCH_CLICKED:"couponsSearchRecentSearchClicked",AD_FORMAT_SELECTION_UPDATED:"adFormatSelectionUpdated",AD_FORMAT_SELECTION_CLOSED:"adFormatSelectionClosed",UPDATE_AD_FORMAT_SELECTION_CLICKED:"updateAdFormatSelectionClicked",RETAILER_FILTER_CLICKED:"retailerFilterClicked",CATEGORY_FILTER_CLICKED:"categoryFilterClicked",USERNAME_PHONE_REG_ONBOARDING:"userNamePhoneRegOnbrdng",USERNAME_PHONE_REG_ADD_ACCOUNT:"userNamePhoneRegAddAcct",USERNAME_PHONE_REG_ADD_PROVIDER:"userNamePhoneRegAddPrvdr",USERNAME_PHONE_REG_CANCEL_AUTHORIZE:"userNamePhoneRegCnclAuth",RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED:"rightRailUpsellVideoAdStarted",RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED:"rightRailUpsellVideoAdFinished",RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED:"rightRailUpsellVideoAdClicked",LASTPASS_FREETRIAL_UPSELL_VIEW_ELIGIBLE:"lastpassFreeTrialUpsellViewEligible",AUTOTAG_DROPDOWN_SHOWN:"autotagDrpDnShown",AUTOTAG_CONTACT_SELECTED:"autotagCntctSelect",AUTOTAG_DROPDOWN_CLOSED:"autotagDrpDnClosed",SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED:"SecuritySubscriptionsUpsellClicked",BREAKING_NEWS_CLICKED:"breakingNewsClicked",BREAKING_NEWS_DISMISSED:"breakingNewsDismissed",BREAKING_NEWS_DISABLED:"breakingNewsDisabled",BREAKING_NEWS_ENABLED:"breakingNewsEnabled",BREAKING_NEWS_ICON:"breakingNewsIcon",LATEST_NEWS_CLICKED:"lastestNewsClicked",BREAKING_NEWS_RENDERED:"breakingNewsRendered",PACKAGE_TRACKING_DISABLED:"packageTrackingDisabled",PACKAGE_TRACKING_ENABLED:"packageTrackingEnabled",DEALS_STORIES_ENABLED:"dealsStoriesEnabled",DEALS_STORIES_HIDDEN:"dealsStoriesHidden",DEALS_STORIES_DISABLED:"dealsStoriesDisabled",TMR_NAVIGATE_TO_ATOS:"tmrNavigateToAtos",TMR_NAVIGATE_TO_URL:"tmrNavigateToURL",TMR_NAVIGATE_TO_ADD_ACCOUNT:"tmrNavigateToAddAccount",TMR_LAUNCH_SUCCESS:"tmrLaunchSuccess",TMR_LAUNCH_FAILED:"tmrLaunchFailed",TMR_REGISTER_ACTION_SUCCESS:"tmrRegisterActionSuccess",TMR_REGISTER_ACTION_FAILED:"tmrRegisterActionFailed",TMR_TAB_CHANGE:"tmrTabChange",TMR_POINT_ICON_CLICK:"tmrPointIconClick",TMR_TASK_CLICK:"tmrTaskClick",TMR_ADD_MAILBOX_CLICK:"tmrAddMailboxClick",PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:"purchaseMailproFreeTrialSuccess",PURCHASE_MAILPRO_FREE_TRIAL_FAILED:"purchaseMailproFreeTrialFailed",LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:"listMailPremiumSubscriptionsSuccess",LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED:"listMailproSubscriptionsFailed",PURCHASE_MAILPRO_FREE_TRIAL:"purchaseMailproFreeTrial",UPGRADE_TO_MAILPRO:"upgradeToMailpro",PURCHASE_FREE_TRIAL_FROM_AD_FEEDBACK:"purchaseFreeTrialFromAdFeedback",PURCHASE_FREE_TRIAL_FROM_RIGHT_RAIL_UPSELL:"purchaseFreeTrialFromRightRailUpsell",PURCHASE_FREE_TRIAL_FROM_SETTINGS_MENU:"purchaseFreeTrialFromSettingsMenu",PURCHASE_FREE_TRIAL_FROM_SETTINGS_TAB:"purchaseFreeTrialFromSettingsTab",GET_MAILPRO_CLICK_FROM_AD_FEEDBACK:"getMailproClickFromAdFeedback",MAIL_PLUS_SWITCH_WIDGET:"mailPlusSwitchWidget",CLOUD_STORAGE_GDRIVE_CONNECT_CLICKED:"csGDriveConnectClicked",CLOUD_STORAGE_DROPBOX_CONNECT_CLICKED:"csDropboxConnectClicked",CLOUD_STORAGE_ITEMS_FETCHED:"csItemsFetched",CLOUD_STORAGE_FOLDER_ITEMS_FETCHED:"csFolderItemsFetched",CLOUD_STORAGE_ITEMS_SEARCHED:"csItemsSearched",CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_ACCEPTED:"csChangePermissionsAccepted",CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_CANCELLED:"csChangePermissionsCancelled",CLOUD_STORAGE_ITEM_LINK_INSERTED:"csItemLinkAdded",CLOUD_STORAGE_ITEM_PREVIEW_CLICKED:"csItemPreviewClicked",ATTACH_FILES_FROM_GDRIVE:"attFromGdrive",ATTACH_FILES_FROM_DROPBOX:"attFromDropbox",ATTACH_FILES_FROM_RECENT_FILES:"attFromRecentFiles",ATTACH_FILES_FROM_COMPUTER:"attFromComputer",MERCHANT_SITE_CLICK:"merchantSiteClick",PRODUCT_CATEGORY_CLICK:"productCategoryClick",AFFILIATE_DEAL_CLICK:"affiliateDealClick",DEAL_CARD_SHOWN:"dealCardShown",PRODUCT_CATEGORY_SHOWN:"productCategoryShown",RELATED_CARDS_REQUEST_SUCCESS:"relatedCardsRequestSuccess",DEALS_VIEW_LEARN_MORE:"dealsViewLearnMore",DEALS_VIEW_CASH_BACK:"dealsViewCashBack",DEALS_VIEW_BANNER_INVOKED:"dealsViewBannerInvoked",DEALS_VIEW_CASH_BACK_BANNER:"dealsViewCashBackBannerClick",DEALS_VIEW_NAV_FROM_NOTIFICATION:"dealsViewNavFromNotification",GROCERIES_VIEW_NAV_FROM_NOTIFICATION:"groceriesViewNavFromNotification",SIMPLE_CTA_MSG_BUTTON_CLICK:"simpleCTAMsgButtonClick",SIMPLE_CTA_MSG_READ_INVOKE:"simpleCTAMsgReadInvoke",SIMPLE_CTA_MSG_READ_BANNER_CLICK:"simpleCTAMsgReadBannerClick",CATEGORY_WITH_IMAGE_MSG_RD_INVOKE:"categoryWithImagesMsgReadInvoke",CATEGORY_WITH_IMAGES_MSG_RD_CATEGORY_CLICK:"categoryWithImagesMsgReadCategoryClick",CATEGORY_WITH_IMAGES_MSG_RD_CATEGORY_INVOKE:"categoryWithImagesMsgReadCategoryInvoke",CATEGORY_WITH_IMAGES_MSG_RD_BANNER_CLICK:"categoryWithImagesMsgReadBannerClick",ARTICLE_CONTENT_MSG_READ_CARD_LINK_CLICK:"articleContentMsgReadCardLinkClick",ARTICLE_CONTENT_WITHOUT_BG_MSG_READ_CARD_LINK_CLICK:"articleContentWithoutBgMsgReadCardLinkClick",ARTICLE_CONTENT_MSG_RD_INVOKE:"articleContentMsgReadInvoke",ARTICLE_CONTENT_WITHOUT_BG_MSG_RD_INVOKE:"articleContentWithoutBgMsgReadInvoke",ARTICLE_CONTENT_MSG_READ_CARD_INVOKE:"articleContentMsgReadCardInvoke",ARTICLE_CONTENT_WITHOUT_BG_MSG_READ_CARD_INVOKE:"articleContentWithoutBgMsgReadCardInvoke",ARTICLE_CONTENT_MSG_READ_BANNER_CLICK:"articleContentMsgReadBannerClick",SUBHUB_RECOMMENDATION_SUBSCRIBE_CLICK:"subhubRecoSubscribeClick",SUBHUB_RECOMMENDATION_GO_TO_WEBSITE_CLICK:"subhubRecoGoToWebsiteClick",SUBHUB_RECOMMENDATION_DIALOG_CLOSE_CLICK:"subhubRecoDialogCloseClick",SUBHUB_RECOMMENDATION_DIALOG_CANCEL_CLICK:"subhubRecoDialogCancelClick",NPS_SURVEY_SHOWN:"nps_intercept_presented",NPS_SURVEY_ACCEPT:"nps_invitation_accepted",NPS_SURVEY_DECLINE:"nps_invitation_declined",OLDMAIL:"oldMail",NEWMAIL:"newMail",INLINE_IMAGE_PREVIEW:"inlineImgPrvw",INLINE_IMAGE_DOWNLOAD:"inlineImgDwnld",NEXT_GEN_HOME_CUE_CLICKED:"nextGenHomeClicked",NEW_USER_TASKS_CUE:"newUserTasksCue",NEW_USER_TASKS_CUE_QRCODE_SHOW:"newUserTasksCueQrcodeShow",NEW_USER_TASKS_CUE_ADDMAIL_SHOW:"newUserTasksAddMailShow",NEW_USER_TASKS_CUE_NEWSLETTER_SHOW:"newUserTasksNewsletterShow",NEW_USER_TASKS_CUE_THEME_PICK:"newUserTasksThemePick",NEW_USER_TASKS_CUE_NEWSLETTER_SUBSCRIBE:"newUserTasksNewsletterSubscribe",INLINE_PROMPT_AD_TARGET_CUE_CLOSE:"inlinePromptAdTargetCueClose",INLINE_PROMPT_AD_TARGET_CUE_LEARN_MORE:"inlinePromptAdTargetCueLearnMore",INLINE_PROMPT_AD_TARGET_CUE_TURN_ON:"inlinePromptAdTargetCueTurnOn",INLINE_PROMPT_REDIRECT_LINK_CLICK:"inlinePromptRedirectLinkClick",INLINE_PROMPT_DONE_BUTTON_CLICK:"inlinePromptDoneButtonClick",INLINE_PROMPT_SMARTVIEWS_LEARN_MORE:"inlinePromptSmartViewsLearnMore",INLINE_PROMPT_SMARTVIEWS_TURN_ON:"inlinePromptSmartViewsTurnOn",INLINE_PROMPT_SMARTVIEWS_MOUNT:"inlinePromptSmartViewsMount"},l={LAUNCH:"launch",ONBOARDING:"onboarding",LEFTRAIL_COMPOSE:"leftr_comp",COMPOSE_TOPBAR:"comp_topbar",COMPOSE_CONTACTS:"comp_contcts",COMPOSE_TOOLBAR:"comp_toolbr",COMPOSE_MSG:"comp_msg",RTE_TOOLBAR:"rte_toolbr",CONTACT_PICKER:"cntct_pckr",MSG_READ_ATTACHMENT:"msgrd_attm",MSG_BODY:"msg_body",ATTM_PREVIEW:"attm_prvw",MSG_READ_TOOLBAR:"msgrd_toolbar",QUICK_COMPOSE:"quickComp",MSG_READ_AD:"msgrd_ad",MSG_HEADER:"msgrd_header",MSG_READ_RELATED_CARDS:"msgrd_relatedCards",MSG_LIST:"msglst",MSG_LIST_MSG:"msglst_msg",MSG_LIST_TOOLBAR:"msglst_toolbr",MSG_LIST_CONTEXT_MENU:"msglst_contxt_menu",MSG_LIST_TOOLBAR_POPUP:"msglst_toolbr_pop",MSG_LIST_BULK_ACTION:"msglst_blkactn",MSG_LIST_SORT:"msglst_srt",MSG_LIST_NOTIFICATION:"msglst_notf",MSG_LIST_AD:"msglst_ad",DOC_LIST:"doc_vw",PHOTO_LIST:"photo_vw",COUPONS_LIST:"coupons_vw",STOREFRONT_VIEW:"storefront_view",ATTACHMENT_VIEW:"attm_vw",RECEIPTS_LIST:"receipts_vw",TRAVEL_LIST:"travel_vw",SHOPPING_VIEW:"shopping_vw",INBOX_FILTERS:"inbox_filters",SHOPPING_CART:"shopping_cart",DPA_ADS:"dpa_ads",MSG_LIST_SEARCH:"msglst_search",NOT_FOUND_VIEW:"notfound_vw",PHISHING_BANNER:"phishing_banner",SPAM_INDICATOR:"spam_indicator",SPAM_UNSUB_DIALOG:"spam_unsub_dialog",REPLY_TO_ALERT_POPOVER:"reply_to_alert_popover",REPLY_TO_ALERT_BANNER:"reply_to_alert_banner",ATTACHMENT_LIGHTBOX:"attm_lghtbx",FEATURE_CUE:"feature_cue",THEMES_CUE:"themes_cue",NEW_USER_TASKS_CUE:"new_user_tasks_cue",FILTER_MESSAGES:"filter_messages",FEATURE_CARD:"feature_card",HEADER:"hdr",HEADER_NAV:"hdr_nav",HEADER_SEARCH:"hdr_srch",HEADER_SETTINGS:"hdr_sttngs",HEADER_LIST:"hdr_list",LEFTRAIL_SMARTVIEW:"leftr_smrtvw",LEFTRAIL_SYSFOLDER:"leftr_systfldr",LEFTRAIL_USERFOLDER:"leftr_usrfldr",LEFTRAIL_CONTEXTMENU:"leftr_contxtmnu",LEFTRAIL_ACCOUNTS:"leftr_acct",LEFTRAIL_FOLDER:"leftr_fldr",RIGHT_RAIL:"rightrail",RIGHT_RAIL_AD_FREE_UPSELL:"rightRailAdFreeUpsell",RIGHT_RAIL_TRAVEL_CARD:"rightRailTravelCard",RIGHT_RAIL_PLA_CARD:"rightRailPlaCard",SETTINGS_POPUP:"sttgspop",SETTINGS_MAIN:"sttgsMain",SETTINGS_LEFT_RAIL:"sttgsLftr",SETTINGS_INBOX_TAB:"sttgsInbx",SETTINGS_ACCOUNTS_TAB:"sttgsAccnts",SETTINGS_NOTIFICATIONS_TAB:"sttgsNtfctn",SETTINGS_VIEWING_EMAIL_TAB:"sttgsView",SETTINGS_AUTOMATIC_REPLY_TAB:"sttgsReply",SETTINGS_WRITING_EMAIL_TAB:"sttgsWrite",SETTINGS_CATEGORIZATION_TAB:"sttgsCtgry",SETTINGS_CONTACTS_TAB:"sttgsCntcts",SETTINGS_MESSAGE_FILTERS_TAB:"sttgsMsgFltrs",SETTINGS_SECURITY_PRIVACY_TAB:"sttgsSecPrivacy",SETTINGS_MAIL_PLUS_TAB:"sttgsMailPlus",SETTINGS_MOBILE_AFTER_MESSAGE_MOVE:"mobileAfterMsgMoveSettings",SETTINGS_BLOCKED_DOMAINS:"sttgsBlockedDomains",CPN_STORE_LOCATOR:"cpnStoreLctr",CPN_RECOMMENDATION:"cpnRec",CPN_RECOMMENDATION_SMRTVW:"cpnRecSmrtVw",COUPON_SELF_EXTRACTION_MODAL:"cpnSlfExtrnMdl",PERIODIC_RELOAD:"periodic_rld",EMERGENCY_RELOAD:"emergency_rld",VIDEO_PLAYER:"video_player",SUBSCRIPTIONS_VIEW:"subscriptions",UNSUB_PANE:"unsub_pane",FEEDBACK_PANEL:"feedback_panel",TUTORIALS:"tutorials",ADFREE_UPSELL_DIALOG:"adFreeDlg",NOTIFICATION_ACTION:"NtfctnActn",MAIL_PRO_SETTINGS:"mailProSettings",MAIL_PLUS_UPSELL:"mailPlusUpsell",DEALS_RECOMMEND_CONTROL:"dealRecommendControl",TABS_MENU:"tabsMenu",RSVP_CARD:"rsvp_card",RIGHT_RAIL_RELATED_SEARCHES_CARD:"rr_related_searches_card",FEATURE_VIEWABILITY:"feature_viewability",CONTACTS_PANE:"contacts_pane",CONTACT_CARD:"contact_card",TOP_CONTACTS_TAB:"top_contacts_tab",PEOPLE_CONTACTS_TAB:"people_contacts_tab",BUSINESS_CONTACTS_TAB:"business_contacts_tab",USER_CREATED_CONTACTS_TAB:"user_created_contacts_tab",GROUPS_CONTACTS_TAB:"groups_contacts_tab",CONTACTS_PANE_SEARCH:"contacts_pane_search",RELATED_CONTACTS:"related_contacts",CONTACTS_OVERFLOW_MENU:"contacts_overflow_menu",EDIT_CREATE_USER_GROUP:"edit_create_user_group",CONTENT_PROVIDERS:"content_providers",COUPONS_SEARCH_PANE:"coupons_search_pane",AD_FEEDBACK:"ad_feedback",QUOTIENT:"quotient",NUDGE_AND_SMART_REPLY:"nudge_and_smart_reply",USERNAME_PHONE_REG:"userName_Phone_reg",LASTPASS_FREETRIAL_UPSELL:"lastpass_freetrial_upsell",BREAKING_NEWS:"breaking_news",PACKAGE_TRACKING:"package_tracking",DEALS_STORIES:"deals_stories",MEMBERSHIP_REWARDS:"membership_rewards",MAIL_PREMIUM_FREE_TRIAL:"mail_premium_free_trial",COMPOSE_ATTACH_FILES_MENU:"cmpAttFilesMenu",SUBHUB_RECOMMENDATION_RIGHT_RAIL:"subhubRecoRightRail",COMPACT_COMPOSE_ATTM_PREVIEW:"compact_cmp_attm_prvw",INLINE_PROMPT_REDIRECT_DIALOG:"inline_prompt_redirect_dialog",INLINE_PROMPT_SMARTVIEWS:"inline_prompt_smartViews"},c={[a.Sck.INBOX]:"Inbox",[a.Sck.DRAFT]:"Drafts",[a.Sck.SENT]:"Sent",[a.Sck.ARCHIVE]:"Archive",[a.Sck.BULK]:"Spam",[a.Sck.TRASH]:"Trash",[a.Sck.USER]:"UserFolder",[a.d$d.ALL_MAIL]:"AllMail",[a.K8C.UNREAD]:"Unread",[a.K8C.STARRED]:"Starred",[a.K8C.PHOTOS]:"Photos",[a.K8C.DOCUMENTS]:"Documents",[a.K8C.SUBSCRIPTIONS]:"Subscription",[a.K8C.SUBSCRIPTION_DETAIL]:"Subscription",[a.K8C.COUPONS]:"Deals",[a.K8C.COUPON_EMAILS]:"Deals",[a.K8C.RECEIPTS]:"Receipts",[a.K8C.GROCERIES]:"Groceries",[a.K8C.TRAVEL]:"Travel",[a.K8C.TRAVEL_PAST]:"Travel",[a.K8C.TRAVEL_EMAILS]:"Travel",[a.K8C.ATTACHMENTS]:"Attachments",[a.K8C.OLDMAIL]:"OldMail",[a.K8C.NEWMAIL]:"NewMail",[a.K8C.SENDER_ROLLUP]:"SenderRollup",[a.K8C.PEOPLE]:"People",[a.n8z.EDIT_DRAFT]:"Compose",[a.n8z.NEW_DRAFT]:"Compose",[a.n8z.SEARCH]:"Search"};let d;!function(e){e.replyMsg="replyMsg",e.replyAllMsg="replyAllMsg",e.forwardMsg="forwardMsg",e.deleteMsg="deleteMsg",e.archiveMsg="archiveMsg",e.moveMsg="moveMsg",e.openMsg="openMsg",e.dwnldAttmnt="dwnldAttmnt",e.printAttmnt="printAttmnt",e.search="search",e.createFldr="createFldr",e.markRead="markRead",e.markUnread="markUnread",e.markStar="markStar",e.markUnstar="markUnstar",e.markSpam="markSpam",e.markUnspam="markUnspam",e.renameFldr="renameFldr",e.deleteFldr="deleteFldr",e.composeMsg="composeMsg",e.sendMsg="sendMsg",e.clickMsgLink="clickMsgLink",e.listing="listing",e.unsub="unsub",e.printMsg="printMsg"}(d||(d={}));const E={TRAVEL_UPCOMING:"trvUpcEmpty",TRAVEL_PAST:"trvPstEmpty",SEARCH:"search_zero_results"},_={CHANGE:"change"},u={BRAND_SEARCH:"brand_search",COUPON_SMART_VIEW:"coupon_smart_view",HOVER:"hover",POPOVER:"popover",RIGHT_RAIL:"right_rail",TOM:"tom"}},79483:(e,t,s)=>{"use strict";s.d(t,{S_:()=>Q,ZP:()=>j});var a=s(17016),n=s(99691),r=s(62631),o=s(31057),i=s(18247),l=s(37422),c=s(92559),d=s(95406),E=s(6273),_=s(85927),u=s(2464);const m=10;function S({messageGroupIds:e=[]},t){const{doesMessageGroupIdExist:s,getMessageIdsFromMessageGroupId:a}=(0,_.selectors)(t);return e.reduce(((e,t)=>e.concat(s(t)?a(t):[])),[])}function p(e){const{messageIds:t,itemsToUpdate:s}=e;let a=[];return s&&(a=s.map((e=>e.messageId))),t&&t.length?t:a}function C({itemsToUpdate:e},t,s=""){var a,n;const{getFoldersSelectors:r}=(0,_.selectors)(t),{doesFolderIdExist:o,getFolderName:i}=r(),l=s||(null==e||null===(a=e[0])||void 0===a||null===(n=a.folder)||void 0===n?void 0:n.id)||"";return o(l)?i(l):""}function A({listId:e},t){const{getListsSelectors:s}=(0,_.selectors)(t),{doesListExist:a,getItemIdsSelectors:n}=s();return{numMsg:a(e)?n(e).getItemIds().length:0}}function T(e,t){const{doesMessageIdExist:s,getCardConversationIdByMessageId:a}=(0,_.selectors)(t),n=p(e)||[],r=n.slice(0,m),o=r.map((e=>s(e)?a(e):""));return{msgId:r.join(","),ccid:o.join(","),numMsg:n.length}}function h(e,t){const{destinationFolderId:s,destinationFolderType:a}=e,n=p(e)||[];return{fldr:C(e,t),destFldr:s&&C(e,t,s)||a||"",msgId:n.slice(0,m).join(","),numMsg:n.length}}function g(e,t){const s=p(e)||[];return{fldr:C(e,t),msgId:s.slice(0,m).join(","),numMsg:s.length}}function I(e){var t;return{msgId:e.messageId||(null===(t=e.message)||void 0===t?void 0:t.messageId)||""}}function R(e,t){var s;const{messageId:a="",message:n={},route:r={}}=e,{messageId:o="",folderId:i="",folder:l={}}=n;return{msgId:a||o,fldr:C(e,t,i||l.id||(null===(s=r.params)||void 0===s?void 0:s.fid))}}function O(e,t){const{itemsToUpdate:s,messageId:a,streamItem:n}=e,{getMessageFolderId:r,doesMessageGroupIdExist:i}=(0,_.selectors)(t);if(a)return{msgId:a,fldr:C(e,t,r(a))};if(n){const{id:s,listId:a}=n,r=S({messageGroupIds:[s]},t),l=(0,o.Fh)(a)||"";if(s&&a&&i(s))return{msgId:r.slice(0,m).join(","),fldr:C(e,t,l)}}if(!s||!s.length)return{};const l=p(e)||[],c=s[0].id||"",d=s[0].listId||"",E=d&&(0,o.GG)(d),u=s.length>1&&s.some((e=>e.id!==c)),A=l.length;return E&&u?{msgId:l.slice(0,m).join(","),numMsg:A}:{msgId:l.slice(0,m).join(","),fldr:C(e,t),numMsg:A}}function D({itemsToUpdate:e}){return{numMsg:e.filter((e=>e.isAffected)).length}}function N(e){const{attachment:t={}}=e,{id:s}=t;return{msgId:s&&(0,i.b1)(s)}}function f(e,t){const{route:s,streamItem:n,i13nModel:{actionData:r={}}={}}=e,{getSetting:o,doesMessageBodyExist:i,getMessageBodiesSelectors:c,__getLastNonDraftMessageIdByGroupId:E,getImportantContactsSelectors:u,doesMessageGroupIdExist:m,getGroupIdContainingMessageId:S,getMessageIdsFromMessageGroupId:p,getMessageGroupParticipantsInfo:A,getMessageFromAddress:T,getListItemIdIndex:h,getMessagesSelectors:g,getMessageFolderId:I,getCardConversationIdByMessageId:R,getContactListSelectors:O}=(0,_.selectors)(t),{getDecos:D,doesMessageIdExist:N}=g();let f,M,L,P;if(n)f=n.listId,P=n.id;else{if(!e.listId||!s.params.groupId){if(L=(0,d.u9)(e,"hashParams.messageId"),!L)return r;const s=N(L)?R(L):null;return Object.assign(r,{msgId:L,fldr:C(e,t,I(L)),ccid:s||""})}f=e.listId,P=s.params.groupId}m(P)?(M=P,L=L||E(M)):(L=P,M=S(L));const{getImportantContacts:y}=u(),b=y()||[],F=p(M),{senders:U=[]}=A(M,f);L=L||F[F.length-1];const v=N(L)?T(L):[],w=v.length>0?v[0]:{},G=w.email,k=(0,a.isValidEmail)(w.email)?(0,a.destructEmailAddressParts)(w.email).domainPart:"NODOMAIN.COM",H=[],B=N(L)?D(L):[],{getContactByEmail:x}=O(),V=x(G),W=N(L)?R(L):null,Z=c(),K=i(L)?Z.get(L):{},z=o(l.Zrf.AMP_EMAIL)&&(null==K?void 0:K.amp);return B.forEach((e=>H.push(e.id))),Object.assign({},r,{query:s?s.params.query||s.params.fid:"",mid:M,msgId:L,fldr:C(e,t,I(L)),ccid:W||"",sdrDomain:k,mailDecos:H,numRcpt:U.length,numMsg:F.length,importntCntct:b.some((e=>-1!==e.emails.indexOf(w.email))),itemIdx:h(f,M),isKnownEntity:null==V?void 0:V.isBusiness,isAMP:!!z})}function M(e,t){const{message:s,messageId:a}=e,{isFeatureEnabled:n,getMessagesSelectors:r}=(0,_.selectors)(t),o=(0,d.u9)(e,"i13nModel.actionData",{});var i,c,E,u;if(s)return{...o,msgId:s.id,mHref:n(l.ANe.CLICK_URL_LOGGING)?o.mHref:null,url:o.mHref||"",sndr:(null==s||null===(i=s.headers)||void 0===i||null===(c=i.from)||void 0===c||null===(E=c[0])||void 0===E?void 0:E.email)||"",fldr:C(e,t,null===(u=s.folder)||void 0===u?void 0:u.id)};if(a){var m;const{getFromAddresses:s,getFolderOfDelivery:i}=r(),c=s(a),d=i(a);return{...o,msgId:a,mHref:n(l.ANe.CLICK_URL_LOGGING)?o.mHref:null,url:o.mHref||"",sndr:(null==c||null===(m=c[0])||void 0===m?void 0:m.email)||"",fldr:C(e,t,d)}}return o}function L(e){const t=e.listId||(0,o.LY)(e.route),s=(0,o.tr)(t),a=(0,o.Q7)(t),n=(0,o.DF)(t),r=(0,o.lG)(t);let i="kwrd";if(!r)switch(e.i13nModel.mKey){case c.JE.SEARCH_BUTTON:i="kwrd";break;case c.JE.SEARCH_RECENT_SUGGEST:i="recentSearch";break;case c.JE.SEARCH_KWRD_SUGGEST:i="suggestedSearch";break;default:i="kwrd"}return Object.assign({srchQry:s,srchType:r?"cntct":i,query:r?n:a},(0,d.u9)(e,"i13nModel.actionData",{}))}function P(e){const{value:t}=e,s={[l.EsZ.NO]:"none",[l.EsZ.RIGHT]:"vrtcl",[l.EsZ.BOTTOM]:"hrztl"};if(s[t])return{setTo:s[t]}}function y(e){const{value:t}=e,s={[l.Ds1.SLIM]:"slm",[l.Ds1.NORMAL]:"rglr",[l.Ds1.RELAXED]:"rlxd"};if(s[t])return{setTo:s[t]}}function b(e){const{value:t}=e;return{setTo:t?"true":"false"}}function F({messageId:e,i13nModel:{mKey:t="",sec:s="",actionData:a={}}={},recommendations:n=!1}={},r){if(e){const{getMessagesSelectors:o,getCouponsSelectors:i}=(0,_.selectors)(r),{getParentMessageIdForCardConversationId:l}=o(),{isSingleCouponParentMessageId:d,getCardConversationId:E,getUnusualDiscount:u,getFromAddress:m,doesDealExist:S}=i();if(!S(e))return{};const p=E(e),C=u(e),A=n?l(p):"",{email:T=""}=m(e),h=n&&t===c.JE.COUPON_CLIPPED&&s===c.nJ.MSG_BODY&&d(A);if(C){const[,t]=T.split("@");return{ccid:p,sndr:t,cardMid:e,parentMid:A,...a}}return{...a,ccid:p,fromEmail:T,cardMid:e,parentMid:A,recommendationsEligible:h}}return{}}function U(e){const{files:t}=e,s=[],a=[];return t.forEach((e=>{const t=e.type.split("/");let r;r=t.length>1?(0,n.SA)(t[0],t[1]):(0,n.SA)(e.type,e.subtype),s.push(r),a.push(e.size)})),{attmTypes:s,attmSizes:a}}function v(e,t){const{getMessagesSelectors:s,doesMessageGroupIdExist:a,getMessageIdsFromMessageGroupId:n}=(0,_.selectors)(t),{getDecos:r,doesMessageIdExist:o}=s();if(!e||!e.streamItem)return{};const{groupId:i}=e.streamItem;if(!o(i)&&!a(i))return{};const l=a(i)?n(i):[i],c={},d=[];l.forEach((e=>{r(e).forEach((e=>c[e.id]=e.id))}));for(const E in c)d.push(c[E]);return{mailDecos:d}}function w(e,t){const{isFeatureEnabled:s}=(0,_.selectors)(t),a=(0,d.u9)(e,"i13nModel.actionData",{});return s(l.ANe.CLICK_URL_LOGGING)?a:{...a,mHref:null}}function G(e,t){const s=(0,d.u9)(e,"i13nModel.actionData",{}),{getListsSelectors:a}=(0,_.selectors)(t),{isListExpanded:n}=a();return{...s,listId:e.listId,isExpanding:n(e.listId)}}function k(e,t){const{getRoute:s,getListsSelectors:a}=(0,_.selectors)(t),{getItemIdsSelectors:n,doesListExist:r,getListStatus:c}=a(),d=e.listId||(0,o.LY)(s()),E=(0,o.WN)(d),u={};if(d&&(0,o.GG)(d)){const e=(0,o.tr)(d);Object.assign(u,{srchQry:e,srchType:(0,o.lG)(d)?"cntct":"kwrd"})}if(!d||!r(d)||c(d)!==l.DAQ.LOADED)return Object.assign(u,{listIsLoading:!0});const p=(n(d).getItemIds()||[]).slice(0,10);let C;switch(E){case l.F6k.TRAVEL_CARDS:case l.F6k.MESSAGES:C=(S({messageGroupIds:p},t)||[]).slice(0,m);break;case l.F6k.ATTACHMENTS:case l.F6k.DOCUMENTS:case l.F6k.IMAGES:C=p.map(i.b1).slice(0,m);break;case l.F6k.COUPON_CARDS:{const{getCouponsSelectors:e,getMessagesSelectors:s,getCardMessageToSchemasSelectors:a}=(0,_.selectors)(t),{getParentMessageIdForCardConversationId:n}=s(),{getCardConversationId:r}=e(),{getSchemas:o}=a();C=p.map((e=>{var t;const s=o(e).filter((e=>e.type===l.rgK.Coupon)),a=(null==s||null===(t=s[0])||void 0===t?void 0:t.id)||"",i=a&&r(a)||"";return i&&n(i)||""})).filter(Boolean).slice(0,m);break}case l.F6k.REFUND_CARDS:C=p}return C&&Object.assign(u,{msgId:C.join(",")}),u}function H(e,t){var s;const{messageId:n,brandId:r="",email:o}=e,{doesBrandExist:i,getSortOrder:c,getCurrentListFilter:d,getBrandName:E,getBrandSubscriptions:_}=(0,u.selectors)(t[u.key]);if(n)return{msgId:n,senderDomain:(0,a.isValidEmail)(o)?[(0,a.destructEmailAddressParts)(o).domainPart]:[]};if(!i(r))return{};const m=_(r),S=m.reduce(((e,t)=>{const s=t.domain;return-1===e.indexOf(s)&&e.push(s),e}),[]);return{brandName:E(r)||"",sortBy:d()&&c(d())||l.Asd.RELEVANCE,tab:"active"===(null===(s=m[0])||void 0===s?void 0:s.status)?"Active":"Unsubscribe",subId:m.map((e=>e.subid)).join(","),logInfo:m.map((e=>e.meta)).join(","),senderDomain:S}}function B(e,t){const{messageId:s=""}=e,{getMessagesFolderIdSelectors:a,doesMessageIdExist:n,getCardConversationIdByMessageId:r}=(0,_.selectors)(t),{getFolderId:o}=a(),i=s&&o(s),l=n(s)?r(s):null;return{msgId:s,fldr:C(e,t,i),ccid:l||""}}function x(e,t){const{doesMessageIdExist:s,getCardConversationIdByMessageId:a}=(0,_.selectors)(t),{streamItems:n=[],i13nModel:{mKey:r=""}={},folderId:o=""}=e,i=(S({messageGroupIds:n.filter((({id:e,listId:t,firstMessageId:s})=>e&&t&&s)).map((({id:e})=>e))},t)||[]).slice(0,m),l=e=>s(e)?a(e):"",d={msgId:i.join(",")};return r===c.JE.FOLDER_CONTEXTMENU_ALL_READ||r===c.JE.FOLDER_CONTEXTMENU_ALL_ARCHIVE?Object.assign(d,{fldr:C(e,t,o)||""}):Object.assign(d,{ccid:i.map(l).join(",")}),d}const V={[c.fS.SEARCH_SUGGESTION]:function(e,t){const{query:s,suggestions:a}=e,{getImportantContactsSelectors:n,getRecentSearchesSelectors:r,isFeatureEnabled:o,getEnvironmentSelectors:i}=(0,_.selectors)(t),{getImportantContacts:c}=n(),d=c(),{getRecentSearches:u}=r(),m=u(),S=(0,E.$o)(a,d,m,s,i().getPartner(),o(l.ANe.SHOW_RECENT_SUGGESTIONS),o(l.ANe.SHOW_EMPTY_SEARCH_SUGGESTIONS)).reduce(((e,t)=>(t.hasOwnProperty("type")&&(e[t.type]?e[t.type]++:e[t.type]=1),e)),{});return{query:s,people:S[l.sWL.PERSON]||0,keyword:S[l.sWL.KEYWORD]||0,recent:0}},[c.fS.SEARCH_ZERO_RESULTS]:L,[c.JE.MSG_SMART_REPLY]:function(e,t){const{doesMessageGroupIdExist:s,getMessageIdsFromMessageGroupId:a}=(0,_.selectors)(t);if(!s(e.messageGroupId))return{};const n=a(e.messageGroupId)||[],r=n&&n.length?n[n.length-1]:"";return{numMsg:n.length,msgId:e.messageId||r}},[c.JE.TOOLBAR_SELECTALL_MSG]:A,[c.JE.TOOLBAR_SELECT_NONE]:A,[c.JE.TOOLBAR_BULK_CONTEXT_ALL]:A,[c.JE.TOOLBAR_BULK_CONTEXT_NONE]:A,[c.JE.TOOLBAR_BULK_CONTEXT_READ]:A,[c.JE.TOOLBAR_BULK_CONTEXT_UNREAD]:A,[c.JE.TOOLBAR_BULK_CONTEXT_STARRED]:A,[c.JE.TOOLBAR_BULK_CONTEXT_UNSTARRED]:A,[c.JE.UNDO_DELETE_ACTION]:D,[c.JE.UNDO_ARCHIVE_ACTION]:D,[c.JE.UNDO_MOVE_ACTION]:D,[c.JE.SEARCH_BUTTON]:L,[c.JE.ADVANCED_SEARCH_BUTTON]:L,[c.JE.CONTACT_SEARCH]:L,[c.JE.SUBJECT_SEARCH]:L,[c.JE.SEARCH_PEOPLE_SUGGEST]:L,[c.JE.SEARCH_KWRD_SUGGEST]:L,[c.JE.SEARCH_RECENT_SUGGEST]:L,[c.JE.SETTINGS_POPUP_PREVIEW_PANE]:P,[c.JE.SETTINGS_PREVIEW_PANE]:P,[c.JE.SETTINGS_POPUP_MSG_LIST_DENSITY]:y,[c.JE.SETTINGS_MSG_LIST_DENSITY]:y,[c.JE.SETTINGS_POPUP_TAB_SETTING]:b,[c.JE.SETTINGS_TAB_SETTING]:b,[c.JE.SETTINGS_POPUP_SNIPPET]:b,[c.JE.SETTINGS_SNIPPET]:b,[c.JE.SETTINGS_BLOCK_IMAGES]:b,[c.JE.SETTINGS_NOTIFICATIONS]:b,[c.JE.SETTINGS_CONVERSATION]:b,[c.JE.SETTINGS_AUTOMATIC_REPLY]:function({value:e}){const{enabled:t}=e;return{setTo:t?"true":"false"}},[c.JE.BLOCK_SENDERS_SUBMIT]:function(e){const{deleteItemsFromSenders:t}=e;return{deleteItemsFromSenders:t?t.length:0}},[c.JE.SEND]:function(e,t){const{to:s=[],cc:a=[],bcc:n=[],csid:r,attachmentsInfo:o=[],containsStationery:i}=e,{isReplyMessage:l,isReplyAllMessage:c,isForwardMessage:d,getInForwardToMessageId:E}=(0,_.selectors)(t),u=E(r);return{sttnry:i,to:s?s.length:0,cc:a?a.length:0,bcc:n?n.length:0,mid:u||"",compType:l(r)||c(r)||d(r)?"inline":"comp",numAttchmts:o.length,sizeAttchmts:o.reduce(((e,{size:t})=>e+t),0)}},[c.JE.COMPOSE_ADD_ATTACHMENT]:U,[c.JE.COMPOSE_DRAG_ATTACHMENT]:U,[c.JE.UNUSUAL_DISCOUNT_COUPON_CLIPPED]:F,[c.JE.COUPON_CLIPPED]:F,[c.JE.COUPON_UNCLIPPED]:F,[c.JE.AUTHORIZE_IMAP_ACCOUNT]:function(e){const{email:t,provider:s}=e;return{prvdr:s||(0,r.tO)(t)}},[c.JE.COUPON_OPENED]:v,[c.JE.RECEIPT_OPENED]:v,[c.JE.TRAVEL_READ_MSG]:v,[c.JE.LINK_ENHANCER_MOVE_LINK_INLINE]:w,[c.JE.LINK_ENHANCER_ADD_LINK]:w,[c.JE.LINK_ENHANCER_RESIZE_LINK]:w,[c.JE.LINK_ENHANCER_REMOVE_LINK]:w,[c.JE.LINK_ENHANCER_MOVE_LINK_BOTTOM]:w,[c.JE.LINK_ENHANCER_SHARE_LINK]:w,[c.JE.TOGGLE_LIST_VISIBILITY]:G,[c.JE.TOOLBAR_DELETE]:T,[c.JE.MSG_LIST_DEL]:T,[c.JE.MSG_DELETE]:T,[c.JE.TOOLBAR_MOVE]:h,[c.JE.DRAG_DROP_MOVE]:h,[c.JE.TOOLBAR_RESTORE]:h,[c.JE.MSG_LIST_MV_INBOX]:h,[c.JE.TOOLBAR_ARCHIVE]:g,[c.JE.MSG_LIST_ARCHIVE]:g,[c.JE.MSG_ARCHIVE]:g,[c.JE.TOOLBAR_FORWARD]:I,[c.JE.MSG_FORWARD]:I,[c.JE.QUICK_FORWARD]:I,[c.JE.TOOLBAR_REPLY]:R,[c.JE.QUICK_REPLY]:R,[c.JE.MSG_REPLY]:R,[c.JE.TOOLBAR_REPLYALL]:R,[c.JE.QUICK_REPLYALL]:R,[c.JE.MSG_REPLY_ALL]:R,[c.JE.OPEN_LINK]:M,[c.JE.LINK_ENHANCER_OPEN_LINK]:M,[c.JE.TOGGLE_LIST_VISIBILITY]:G,[c.JE.UNREAD_SMARTVIEW]:k,[c.JE.STARRED_SMARTVIEW]:k,[c.JE.PHOTO_SMARTVIEW]:k,[c.JE.DOCUMENT_SMARTVIEW]:k,[c.JE.COUPONS_SMARTVIEW]:k,[c.JE.ATTACHMENTS_SMARTVIEW]:k,[c.JE.INBOX_FOLDER]:k,[c.JE.DRAFT_FOLDER]:k,[c.JE.SENT_FOLDER]:k,[c.JE.ARCHIVE_FOLDER]:k,[c.JE.BULK_FOLDER]:k,[c.JE.TRASH_FOLDER]:k,[c.JE.USER_FOLDER]:k,[c.JE.ATTACHMENT_VIEW_DOCUMENTS]:k,[c.JE.ATTACHMENT_VIEW_IMAGES]:k,[c.JE.ATTACHMENT_VIEW_MESSAGES]:k,[c.JE.TRAVEL_SMARTVIEW]:k,[c.JE.RECEIPTS_SMARTVIEW]:k,[c.JE.TOOLBAR_MARK_READ]:O,[c.JE.MARK_MSG_READ]:O,[c.JE.MSG_GRP_HDR_MARK_READ]:O,[c.JE.MSG_HDR_MARK_READ]:O,[c.JE.TOOLBAR_MARK_UNREAD]:O,[c.JE.MARK_MSG_UNREAD]:O,[c.JE.MSG_HDR_MARK_UNREAD]:O,[c.JE.MSG_GRP_HDR_MARK_UNREAD]:O,[c.JE.TOOLBAR_MARK_STARRED]:O,[c.JE.MARK_MSG_STARRED]:O,[c.JE.MSG_HDR_MARK_STAR]:O,[c.JE.MSG_GRP_HDR_MARK_STAR]:O,[c.JE.TOOLBAR_MARK_UNSTARRED]:O,[c.JE.MSG_HDR_MARK_UNSTAR]:O,[c.JE.MSG_GRP_HDR_MARK_UNSTAR]:O,[c.JE.MARK_MSG_UNSTARRED]:O,[c.JE.TOOLBAR_SPAM]:O,[c.JE.PHISHING_BANNER_SPAM]:O,[c.JE.SPAM_UNSUB_DIALOG_SPAM]:O,[c.JE.TOOLBAR_NOT_SPAM]:O,[c.JE.PHISHING_BANNER_NOT_SPAM]:O,[c.JE.OPEN_MSG]:f,[c.JE.RIGHT_RAIL_MSG_OPEN]:f,[c.JE.DOC_READ_MSG]:f,[c.JE.PHOTO_READ_MSG]:f,[c.JE.ATTACHMENT_LIGHTBOX_DOCUMENT_MSG]:f,[c.JE.ATTACHMENT_LIGHTBOX_IMAGE_MSG]:f,[c.JE.PHOTO_DELETE_PREVIEW_READ_MSG]:f,[c.JE.DOC_DELETE_PREVIEW_READ_MSG]:f,[c.JE.TRAVEL_READ_MSG]:f,[c.JE.SEND_MSG]:function(e){const{message:t}=e;return{msgId:(null==t?void 0:t.id)||""}},[c.JE.ADD_FOLDER]:function(e){return{newFldr:e.folderName||""}},[c.JE.FOLDER_CONTEXTMENU_DELETE]:function(e){return{fldr:e.folderName||""}},[c.JE.FOLDER_CONTEXTMENU_RENAME]:function(e){const{originalFolderName:t,newFolderName:s}=e;return{fldr:t||"",newFldr:s||""}},[c.JE.PHOTO_DOWNLOAD]:N,[c.JE.DOWNLOAD_ATTACHMENT]:N,[c.JE.ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD]:N,[c.JE.ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD]:N,[c.JE.ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD]:N,[c.JE.ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD]:N,[c.JE.INLINE_IMAGE_DOWNLOAD]:N,[c.JE.DOWNLOAD_ATTACHMENT_ALL]:function({attachments:e=[]}){return e.map((({id:e})=>({msgId:e&&(0,i.b1)(e)}))).slice(-10)},[c.JE.ATTACHMENT_PRINT]:N,[c.JE.TOOLBAR_UNSUBSCRIBE]:H,[c.JE.UNSUB_CONFIRM]:H,[c.JE.SPAM_UNSUB_DIALOG_UNSUB]:H,[c.JE.TOOLBAR_PRINT]:B,[c.JE.MSG_HDR_PRINT]:B,[c.JE.FOLDER_CONTEXTMENU_ALL_DELETE]:x,[c.JE.FOLDER_CONTEXTMENU_EMPTY]:x,[c.JE.FOLDER_CONTEXTMENU_ALL_READ]:x,[c.JE.FOLDER_CONTEXTMENU_ALL_ARCHIVE]:x,[c.JE.FOLDER_EMPTY]:x};var W=s(11282);const Z=s.n(W)().create("norrin/i13n_client");var K=s(99839),z=s(30155),q=s(63352);const Y={init(e){if("undefined"==typeof window)return;const t=window,s=t.rapidInstance;t.Y=t.YAHOO||{},t.Y.i13n=t.Y.i13n||{};const a=Object.assign({},e.rapid);if(a&&(a.pageview_on_init=!1),t.Y.i13n.Rapid){if(!s)try{t.rapidInstance=new t.Y.i13n.Rapid(a)}catch(n){const e=new z.H(n);K.Z.error("Rapid init error",{rapidConfig:a,name:n.name||"",message:n.message||"",stack:e.toString()})}}else K.Z.error("Rapid is not loaded");return t.rapidInstance},getRapidInstance:()=>"undefined"!=typeof window&&void 0!==window.rapidInstance&&window.rapidInstance,sendI13nModel(e,t=null,s=!1){const a=Object.assign({},e.i13nModel),n=V[a.mKey];if(t){const{getSelectedAccountId:e=(()=>{})}=(0,_.selectors)(t);a.accountId=e(),a.usergenef=1,a.flowSource=function({mKeyGroup:e=""}={}){const t=[c.rO.replyMsg,c.rO.replyAllMsg,c.rO.forwardMsg,c.rO.composeMsg,c.rO.sendMsg];return e&&-1!==t.indexOf(e)?c.w6.COMPOSE_FLOW:""}(a),a.listName=function(e){const{getRoute:t,doesFolderIdExist:s,getFolderDisplayTypeByFolderId:a,getSmartViewTypeFromListId:n}=(0,_.selectors)(e),r=t(),i=r&&(0,o.LY)(r),d=i&&(0,o.WN)(i),E=i&&(d===l.F6k.SUBSCRIPTIONS||(0,o.GG)(i));let u="";if(E){let e=n(i);d===l.F6k.SUBSCRIPTIONS&&(e=l.K8C.SUBSCRIPTIONS),u=c.wM[e]}else{const e=i&&(0,o.Fh)(i),t=e&&s(e)&&a(e);u=c.wM[t]}!r||r.name!==l.n8z.NEW_DRAFT&&r.name!==l.n8z.EDIT_DRAFT&&r.name!==l.n8z.SEARCH||(u=c.wM[r.name]);-1===Object.values(c.wM).indexOf(u)&&(u=c.wM.INBOX);return u}(t)}"function"==typeof n&&(a.actionData=Object.assign({},a.actionData,n.call(this,e,t))),s&&a.mKeyGroup!==c.rO.search&&a.sec!==c.nJ.FEATURE_CUE&&(a.mKey="SRP_"+a.mKey),function({mKey:e,sec:t,mKeyGroup:s,actionData:a={},interactionType:n=c.Rb.click,flowSource:r=null,accountId:o=null,usergenef:i=null,listName:E=null}={}){if(!t||!e)return;if(s===c.rO.listing&&(a.listIsLoading||!a.msgId))return;c.Rb[n]||(n=c.Rb.click);const{mHref:_,...u}=a,m={mKey:e,mHref:_?_.slice(0,290):null,intrctn:n,coreActn:s||null,actnData:(0,d.xb)(u)?null:JSON.stringify(u),flowSrc:r,accountId:o,usergenef:i,list_name:E},S=Z.feature(l.BrN.RapidClient,Object.assign({},{sec:t},m)),p=Y.getRapidInstance();p?(S.logSuccess(),p.beaconClick(t,null,0,m)):S.logFailure()}(a)},sendBeaconEvent(e,t){const{i13nModel:s}=e,a=V[s.eventName];"function"==typeof a&&(s.pageParams=a.call(this,e,t),s.pageParams.etrg=s.etrg),function({eventName:e,pageParams:t,outcome:s}){const a={eventName:e,outcome:s},n=Z.feature(l.BrN.RapidClient,a),r=Y.getRapidInstance();r?(n.logSuccess(),r.beaconEvent(e,t,s)):n.logFailure()}(s)}},j=Y;function Q(e){return(0,q.Z)(e,"the section id doesn't exist"),function(t){(0,q.Z)(t,"expected a payload containg at least a mKey");const{mKey:s,event:n,...r}=t;return(0,q.Z)(s,"mKey can't be undefined. Check typo or define it in constants"),{i13nModel:{...r,mKey:s,sec:e,interactionType:n?(0,a.getInteractionFromEvent)(n):c.Rb.click}}}}},50566:(e,t,s)=>{"use strict";s.r(t),s.d(t,{INITIAL_STATE:()=>a,LAUNCH_COMPLETED:()=>n,APP_LOAD_COMPLETED:()=>r,WINDOW_RESIZING:()=>o,WINDOW_RESIZED:()=>i,APPLICATION_VISIBILITY_DID_CHANGE:()=>l,CANCEL_APP_RELOAD:()=>c,CONFIRM_APP_RELOAD:()=>d,SHOW_APP_RELOAD:()=>E,LAUNCH_ERROR:()=>_,USER_LOCATION_UPDATE_SUCCEEDED:()=>u,USER_LOCATION_UPDATE_FAILED:()=>m,HEADER_NAVIGATION_SELECTED:()=>S,ACCOUNT_MENU_SHOWN:()=>p,USER_LOGGED_OUT:()=>C,HOME_BUTTON_CLICKED:()=>A,TIMEZONE_CHANGE_DETECTED:()=>T,PREFERRED_TIMEZONE_CHANGE_REJECTED:()=>h,ONLINE_STATUS_CHANGED:()=>g,OPEN_PAGE_REQUESTED:()=>I,CLOSE_PAGE_REQUESTED:()=>R,CLOSE_ALL_PAGES_REQUESTED:()=>O,EXTERNAL_LINK_CLICKED:()=>D,SYNC_DATA:()=>N,SYNC_NOW_SUCCEEDED:()=>f,SYNC_NOW_FAILED:()=>M,ROTATE_AD_ON_LIST_SCROLL:()=>L,LAUNCH_PAGE_REQUESTED:()=>P,LAUNCH_FAILED:()=>y,OPEN_TABS_MENU:()=>b,PREVIEW_MESSAGE_REQUESTED:()=>F,PREVIEW_MESSAGE_CLOSED:()=>U,MULTI_TASKING_PREF_CHANGE_REQUESTED:()=>v,MULTI_TASKING_PREF_CHANGE_SUCCEEDED:()=>w,MULTI_TASKING_PREF_CHANGE_FAILED:()=>G,EXPAND_ACCOUNT_LIST:()=>k,EXPANDED_FOLDERS_PREF_CHANGE_REQUESTED:()=>H,EXPANDED_FOLDERS_PREF_CHANGE_SUCCEEDED:()=>B,EXPANDED_FOLDERS_PREF_CHANGE_FAILED:()=>x,SHOW_CUSTOM_FOLDERS_PREF_CHANGE_REQUESTED:()=>V,SHOW_CUSTOM_FOLDERS_PREF_CHANGE_SUCCEEDED:()=>W,SHOW_CUSTOM_FOLDERS_PREF_CHANGE_FAILED:()=>Z,CONVERSATIONS_CHANGE_REQUESTED:()=>K,CONVERSATIONS_CHANGE_SUCCEEDED:()=>z,CONVERSATIONS_CHANGE_FAILED:()=>q,SHOW_IMAGE_PREF_CHANGE_REQUESTED:()=>Y,SHOW_IMAGE_PREF_CHANGE_SUCCEEDED:()=>j,SHOW_IMAGE_PREF_CHANGE_FAILED:()=>Q,MESSAGE_READ_SHOW_IMAGES_REQUESTED:()=>X,HIDEAD_PREF_CHANGE_REQUESTED:()=>J,HIDEAD_PREF_CHANGE_SUCCEEDED:()=>$,HIDEAD_PREF_CHANGE_FAILED:()=>ee,MESSAGE_LIST_DENSITY_PREF_CHANGE_REQUESTED:()=>te,MESSAGE_LIST_DENSITY_PREF_CHANGE_SUCCEEDED:()=>se,MESSAGE_LIST_DENSITY_PREF_CHANGE_FAILED:()=>ae,ACTION_AFTER_MESSAGE_MOVE_CHANGE_REQUESTED:()=>ne,ACTION_AFTER_MESSAGE_MOVE_CHANGE_SUCCEEDED:()=>re,ACTION_AFTER_MESSAGE_MOVE_CHANGE_FAILED:()=>oe,DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED:()=>ie,DEFAULT_SENDING_ADDRESS_CHANGE_SUCCEEDED:()=>le,DEFAULT_SENDING_ADDRESS_CHANGE_FAILED:()=>ce,SIGNATURE_STATUS_CHANGE_REQUESTED:()=>de,SIGNATURE_STATUS_CHANGE_SUCCEEDED:()=>Ee,SIGNATURE_STATUS_CHANGE_FAILED:()=>_e,SIGNATURE_TEXT_CHANGE_REQUESTED:()=>ue,SIGNATURE_TEXT_CHANGE_SUCCEEDED:()=>me,SIGNATURE_TEXT_CHANGE_FAILED:()=>Se,COMPOSE_FONT_SIZE_CHANGE_REQUESTED:()=>pe,COMPOSE_FONT_SIZE_CHANGE_SUCCEEDED:()=>Ce,COMPOSE_FONT_SIZE_CHANGE_FAILED:()=>Ae,COMPOSE_FONT_FAMILY_CHANGE_REQUESTED:()=>Te,COMPOSE_FONT_FAMILY_CHANGE_SUCCEEDED:()=>he,COMPOSE_FONT_FAMILY_CHANGE_FAILED:()=>ge,LINK_ENHANCER_FETCH_REQUESTED:()=>Ie,LINK_ENHANCER_FETCH_SUCCEEDED:()=>Re,LINK_ENHANCER_FETCH_FAILED:()=>Oe,LINK_ENHANCER_ADD_LINK:()=>De,LINK_ENHANCER_RESIZE_LINK:()=>Ne,LINK_ENHANCER_REMOVE_LINK:()=>fe,LINK_ENHANCER_OPEN_LINK:()=>Me,LINK_ENHANCER_SHARE_LINK:()=>Le,LINK_ENHANCER_MOVE_LINK_BOTTOM:()=>Pe,LINK_ENHANCER_MOVE_LINK_INLINE:()=>ye,DARLA_ADS_RECEIVED:()=>be,DARLA_ADS_FAILED:()=>Fe,PREFETCHED_AD_RENDERED:()=>Ue,PREFETCHED_ADS_RENDERED:()=>ve,LOOK_AHEAD_ADS_PARSED:()=>we,LOOK_AHEAD_ADS_RENDERED:()=>Ge,AD_ROTATION_SKIPPED:()=>ke,PREMIUM_AD_STARTED:()=>He,PREMIUM_AD_STOPPED:()=>Be,HIDE_RIGHT_PANE_ADS:()=>xe,AD_RECEIVED:()=>Ve,AD_FAILED:()=>We,GEMINI_AD_RECEIVED:()=>Ze,GEMINI_AD_FAILED:()=>Ke,GEMINI_AD_REQUESTED:()=>ze,AD_FALLBACK_CLICKED:()=>qe,PENCIL_AD_CLICKED:()=>Ye,AD_FEEDBACK_STARTED:()=>je,AD_FEEDBACK_SUBMITTED:()=>Qe,AD_FEEDBACK_CLOSED:()=>Xe,GEMINI_SPONSORED_ASSET_RECEIVED:()=>Je,GEMINI_SPONSORED_ASSET_FAILED:()=>$e,FLASH_SALE_AD_ENDED:()=>et,DELETE_PENCIL_AD:()=>tt,TOGGLE_PENCIL_AD_SELECTION:()=>st,AD_FEEDBACK_CLICKED:()=>at,SHOPPING_CART_AD_RENDERED:()=>nt,DEALS_SHOPPING_CART_AD_RENDERED:()=>rt,ADFREE_UPSELL_ACCEPT:()=>ot,ADFREE_UPSELL_CANCEL:()=>it,GET_WIDER_MAIL_EXTENSION_URL:()=>lt,WIDER_MAIL_INSTALL_SUCCESS:()=>ct,WIDER_MAIL_INSTALL_FAILURE:()=>dt,KEY_DID_BIND:()=>Et,KEY_DID_UPDATE:()=>_t,KEY_DID_UNBIND:()=>ut,NAVIGATE_TO_COMPOSE_REQUESTED:()=>mt,POP_OUT_COMPOSE:()=>St,OPEN_COMPACT_COMPOSE:()=>pt,EDIT_COMPACT_COMPOSE_SUBJECT:()=>Ct,TOGGLE_COMPACT_COMPOSE_STATE:()=>At,CLOSE_COMPACT_COMPOSE:()=>Tt,FEEDBACK_PANEL_GIVE_FEEDBACK:()=>ht,V3_MESSAGE_SAVE_REQUESTED:()=>gt,V3_MESSAGE_SAVE_SUCCEEDED:()=>It,V3_MESSAGE_SAVE_FAILED:()=>Rt,V3_MESSAGE_SEND_REQUESTED:()=>Ot,V3_MESSAGE_SEND_SUCCEEDED:()=>Dt,V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:()=>Nt,V3_MESSAGE_SEND_FAILED:()=>ft,MESSAGE_SAVE_REQUESTED:()=>Mt,MESSAGE_SAVE_SUCCEEDED:()=>Lt,MESSAGE_SAVE_FAILED:()=>Pt,MESSAGE_AUTO_SAVE_REQUESTED:()=>yt,MESSAGE_AUTO_SAVE_SUCCEEDED:()=>bt,MESSAGE_AUTO_SAVE_FAILED:()=>Ft,SPONSORED_SAVE_TO_INBOX_REQUESTED:()=>Ut,SPONSORED_SAVE_TO_INBOX_SUCCEEDED:()=>vt,SPONSORED_SAVE_TO_INBOX_FAILED:()=>wt,COMPOSE_OPENED:()=>Gt,COMPOSE_CLOSED:()=>kt,AUTOTAG_DROPDOWN_SHOWN:()=>Ht,AUTOTAG_CONTACT_SELECTED:()=>Bt,EDIT_LIST_DROPDOWN_CONTACT_SELECTED:()=>xt,AUTOTAG_DROPDOWN_CLOSED:()=>Vt,RELATED_CONTACTS_CLOSED:()=>Wt,SEND:()=>Zt,SEND_SUCCESS:()=>Kt,SEND_FAILURE:()=>zt,ATTACHMENT_STATE_UPDATED:()=>qt,DELETE_DRAFT_SUCCEEDED:()=>Yt,DELETE_DRAFT_FAILED:()=>jt,UPDATE_EDIT_DRAFT_STATE:()=>Qt,DRAFT_SUBJECT_UPDATED:()=>Xt,CONTACT_SUGGESTIONS_REQUESTED:()=>Jt,CONTACT_SUGGESTIONS_SUCCEEDED:()=>$t,DELETE_CONTACT_SUGGESTIONS_REQUESTED:()=>es,DELETE_CONTACT_SUGGESTIONS_SUCCEEDED:()=>ts,DELETE_CONTACT_SUGGESTIONS_FAILED:()=>ss,CONTACT_SUGGESTIONS_FAILED:()=>as,CONTACT_ADDED:()=>ns,COMPOSE_NO_ADDRESS_DETECTED:()=>rs,COMPOSE_RECIPIENT_LIMIT_EXCEEDED:()=>os,COMPOSE_ADDRESSING_FAILED:()=>is,SHOW_INVALID_REPLY_TO_ADDRESS_ALERT:()=>ls,COMPOSE_INVALID_MESSAGE_OPENED:()=>cs,SUBJECT_FOCUSED:()=>ds,RTE_MORE_MENU_SHOWN:()=>Es,HANDLE_RTE_TOOLBAR_ACTIONS:()=>_s,CONFIRM_DELETE_DIALOG_CLOSED:()=>us,QUOTED_TEXT_EXPANDED:()=>ms,UPLOAD_PROGRESS_RECEIVED:()=>Ss,MAILTO_ACTION_REQUESTED:()=>ps,ADD_BIG_ATTACHMENT:()=>Cs,GIF_FETCHED:()=>As,GIF_FETCH_REQUESTED:()=>Ts,GIF_FETCH_SUCCEEDED:()=>hs,GIF_FETCH_FAILED:()=>gs,GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:()=>Is,GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED_OLD:()=>Rs,GIF_CATEGORIES_CONTENT_FETCH_REQUESTED:()=>Os,GIF_CATEGORIES_CONTENT_FETCH_FAILED:()=>Ds,MORE_RECEIPTS_REQUESTED:()=>Ns,MORE_RECEIPTS_REQUEST_FAILED:()=>fs,MORE_RECEIPTS_SUCCESS:()=>Ms,RECEIPTS_LIST_SUCCEEDED:()=>Ls,RECEIPTS_LIST_FAILED:()=>Ps,TRAVEL_LIST_SUCCEEDED:()=>ys,TRAVEL_LIST_FAILED:()=>bs,MORE_TRAVEL_ITEMS_SUCCEEDED:()=>Fs,MORE_TRAVEL_ITEMS_FAILED:()=>Us,MESSAGE_GROUP_WITH_BODIES_OPENED:()=>vs,MESSAGE_GROUP_WITH_BODIES_RECEIVED:()=>ws,MESSAGE_GROUP_WITH_BODIES_FAILED:()=>Gs,MESSAGE_GROUP_OPENED:()=>ks,MESSAGE_BODIES_REQUESTED:()=>Hs,MESSAGE_BODIES_RECEIVED:()=>Bs,MESSAGE_BODIES_FAILED:()=>xs,MESSAGE_BODIES_OPEN_GROUP_RECEIVED:()=>Vs,MESSAGE_CARD_FOCUSED:()=>Ws,ATTACHMENT_PREVIEW_FAILED:()=>Zs,CHECK_MAIL_RECEIVED_WITH_UPDATES:()=>Ks,CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:()=>zs,CHECK_MAIL_FAILED:()=>qs,MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:()=>Ys,MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED:()=>js,MESSAGE_BODY_LINK_CLICKED:()=>Qs,DELETE_PREVIEW_REQUESTED:()=>Xs,DELETE_PREVIEW_CLOSED:()=>Js,STAR_CHANGE_REQUESTED:()=>$s,STAR_CHANGE_SUCCEEDED:()=>ea,STAR_CHANGE_FAILED:()=>ta,READ_CHANGE_REQUESTED:()=>sa,READ_CHANGE_SUCCEEDED:()=>aa,READ_CHANGE_FAILED:()=>na,RECENT_AND_READ_CHANGE_REQUESTED:()=>ra,MOVE_AND_READ_CHANGE_REQUESTED:()=>oa,UNDO_MOVE_REQUESTED:()=>ia,UNDO_MOVE_SUCCEEDED:()=>la,UNDO_MOVE_FAILED:()=>ca,UNDO_MOVE_AND_READ_REQUESTED:()=>da,UPDATE_ITEMS_SUCCEEDED:()=>Ea,UPDATE_ITEMS_FAILED:()=>_a,FILE_ATTACHMENT_ADDED:()=>ua,ATTACHMENT_REMOVED:()=>ma,ATTACHMENT_DOWNLOADED:()=>Sa,ALL_ATTACHMENTS_DOWNLOADED:()=>pa,INLINE_FILE_ATTACHMENT_ADDED:()=>Ca,INLINE_FILE_ATTACHMENT_REMOVED:()=>Aa,INLINE_ATTACHMENT_MOVED_TO_TRAY:()=>Ta,ATTACHMENT_MOVED_TO_INLINE:()=>ha,INLINE_IMAGES_TO_ATTACHMENT:()=>ga,MESSAGES_LIST_SCROLLED:()=>Ia,ITEM_LIST_PAGE_SCROLLED:()=>Ra,SCROLL_TO_SEARCH_PAGE_SCROLLED:()=>Oa,MORE_MESSAGES_REQUEST_SUCCESS:()=>Da,MORE_MESSAGES_REQUEST_FAILED:()=>Na,MESSAGE_GROUP_BY_CHANGED:()=>fa,MESSAGE_LIST_TOOLBAR_MENU_SHOWN:()=>Ma,MESSAGES_SELECTION_REPLACED:()=>La,ITEMS_DRAG_STARTED:()=>Pa,COUPON_ICON_MSG_LIST_CLICKED:()=>ya,STREAM_CURSOR_MOVED:()=>ba,ALL_STREAM_ITEMS_SELECTED:()=>Fa,ALL_STREAM_ITEMS_SELECTED_FOR_BULK_OPERATION:()=>Ua,STREAM_ITEMS_SELECTION_CLEARED:()=>va,STREAM_CONTEXT_MENU:()=>wa,STREAM_CONTEXT_MENU_SHOWN:()=>Ga,STREAM_ITEM_TOGGLED:()=>ka,STREAM_ITEMS_MULTIPLE_TOGGLE:()=>Ha,STREAM_SELECT_CURSOR_MOVED:()=>Ba,STREAM_ITEMS_SELECTION_CHANGED:()=>xa,STREAM_ITEMS_RANGE_SELECTED:()=>Va,CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:()=>Wa,CHECK_NUDGE_AND_SMART_REPLY_FAILED:()=>Za,CHANGE_FOLDER_SUCCEEDED:()=>Ka,CHANGE_FOLDER_FAILED:()=>za,CREATE_FOLDER_REQUESTED:()=>qa,CREATE_FOLDER_SUCCEEDED:()=>Ya,CREATE_FOLDER_FAILED:()=>ja,DELETE_FOLDER_REQUESTED:()=>Qa,DELETE_FOLDER_SUCCEEDED:()=>Xa,DELETE_FOLDER_FAILED:()=>Ja,RENAME_FOLDER_REQUESTED:()=>$a,RENAME_FOLDER_SUCCEEDED:()=>en,RENAME_FOLDER_FAILED:()=>tn,MOVE_FOLDER_REQUESTED:()=>sn,MOVE_FOLDER_SUCCEEDED:()=>an,MOVE_FOLDER_FAILED:()=>nn,FOLDER_CONTEXT_MENU_REQUESTED:()=>rn,DELETE_NON_EMPTY_FOLDER_REQUESTED:()=>on,CAPTCHA_BEGAN:()=>ln,SEARCH_INPUT_FORCE_FOCUSED:()=>cn,SEARCH_INPUT_FOCUSED:()=>dn,SEARCH_INPUT_BLURRED:()=>En,SEARCH_LIST_ITEMS_REQUESTED:()=>_n,SEARCH_LIST_ITEMS_BLOCK_RECEIVED:()=>un,SEARCH_LIST_ITEMS_RECEIVED:()=>mn,SEARCH_LIST_ITEMS_FAILED:()=>Sn,SEARCH_RELEVANCE_CUE_TRIGGERED:()=>pn,MOVE_ITEMS_REQUESTED:()=>Cn,MOVE_ITEMS_SUCCEEDED:()=>An,MOVE_ITEMS_FAILED:()=>Tn,MORE_ITEMS_REQUESTED:()=>hn,DELETE_ITEMS_REQUESTED:()=>gn,DELETE_ITEMS_SUCCEEDED:()=>In,DELETE_ITEMS_FAILED:()=>Rn,BLOCK_SENDERS_REQUESTED:()=>On,BLOCK_SENDERS_WITH_DELETE_REQUESTED:()=>Dn,MORE_SEARCH_LIST_ITEMS_REQUESTED:()=>Nn,MORE_SEARCH_LIST_ITEMS_RECEIVED:()=>fn,MORE_SEARCH_LIST_ITEMS_FAILED:()=>Mn,SUGGESTIONS_REQUESTED:()=>Ln,SUGGESTIONS_RECEIVED:()=>Pn,SUGGESTIONS_FROM_CONTACTS_RECEIVED:()=>yn,SUGGESTIONS_FAILED:()=>bn,SEARCH_PLA_AD_CLICKED:()=>Fn,RECENT_SEARCHES_REQUESTED:()=>Un,RECENT_SEARCHES_FAILED:()=>vn,RECENT_SEARCHES_SUCCEEDED:()=>wn,DELETE_RECENT_SEARCH_REQUESTED:()=>Gn,DELETE_RECENT_SEARCH_SUCCEEDED:()=>kn,DELETE_RECENT_SEARCH_FAILED:()=>Hn,ATTACHMENT_PREVIEW_SWITCH_TO_FULL_SCREEN:()=>Bn,ATTACHMENT_OPENED:()=>xn,ATTACHMENT_ZOOMED:()=>Vn,DOCUMENT_FETCH_SUCCEEDED:()=>Wn,DOCUMENT_FETCH_FAILED:()=>Zn,DOCUMENT_FETCH_REQUESTED:()=>Kn,SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:()=>zn,SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:()=>qn,SETTINGS_MENU_REQUESTED:()=>Yn,SETTINGS_MENU_CLOSED:()=>jn,SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED:()=>Qn,SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED:()=>Xn,SETTINGS_SAVE_VACATION_PREFERENCES_FAILED:()=>Jn,SETTINGS_ADD_FILTER_REQUESTED:()=>$n,SETTINGS_SAVE_FILTERS_REQUESTED:()=>er,SETTINGS_SAVE_FILTERS_SUCCEEDED:()=>tr,SETTINGS_SAVE_FILTERS_FAILED:()=>sr,SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_SUCCEEDED:()=>ar,SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_FAILED:()=>nr,SETTINGS_LOCATION_CHANGE_REQUESTED:()=>rr,SETTINGS_LOCATION_CHANGE_SUCCEEDED:()=>or,SETTINGS_LOCATION_CHANGE_FAILED:()=>ir,SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED:()=>lr,SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED:()=>cr,SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED:()=>dr,SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED:()=>Er,SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED:()=>_r,SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED:()=>ur,SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:()=>mr,SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:()=>Sr,SETTINGS_BLOCKED_SENDERS_REQUESTED:()=>pr,SETTINGS_BLOCKED_SENDERS_RECEIVED:()=>Cr,SETTINGS_BLOCKED_SENDERS_FETCH_FAILED:()=>Ar,SETTINGS_SAVE_BLOCKED_SENDERS_REQUESTED:()=>Tr,SETTINGS_SAVE_BLOCKED_SENDERS_SUCCEEDED:()=>hr,SETTINGS_SAVE_BLOCKED_SENDERS_FAILED:()=>gr,SETTINGS_CHANGE_REQUESTED:()=>Ir,SETTINGS_CHANGE_SUCCEEDED:()=>Rr,SETTINGS_CHANGE_FAILED:()=>Or,AOL_SETTINGS_MIGRATION_INITIATED:()=>Dr,AOL_SETTINGS_MIGRATION_SUCCEEDED:()=>Nr,AOL_SETTINGS_MIGRATION_FAILED:()=>fr,CONTACT_DETAIL_FETCH_REQUESTED:()=>Mr,CONTACT_DETAIL_FETCH_SUCCEEDED:()=>Lr,CONTACT_DETAIL_FETCH_FAILED:()=>Pr,IMPORTANT_CONTACTS_FETCH_SUCCEEDED:()=>yr,IMPORTANT_CONTACTS_FETCH_FAILED:()=>br,NOTIFICATION_CLOSED:()=>Fr,NOTIFICATION_PAUSED:()=>Ur,NOTIFICATION_RESUME:()=>vr,SCOUT_TIMER:()=>wr,FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:()=>Gr,FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:()=>kr,FEATURE_CUE_MARK_AS_SHOWN_FAILED:()=>Hr,FEATURE_TRY_NOW_REQUESTED:()=>Br,FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED:()=>xr,FEATURE_CUE_MARK_AS_SUCCESS_FAILED:()=>Vr,FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED:()=>Wr,FEATURE_CUE_MARK_AS_CLOSE_FAILED:()=>Zr,FEATURE_CLOSED:()=>Kr,FEATURE_CUE_NOTIFICATION_CLOSED:()=>zr,CARD_MARK_AS_SHOWN_REQUESTED:()=>qr,CARD_TRY_NOW_REQUESTED:()=>Yr,CARD_CLOSED:()=>jr,BROWSER_NOTIFICATIONS_DISPLAYED:()=>Qr,BULK_PROGRESS_INITIATED:()=>Xr,BULK_PROGRESS_RECEIVED:()=>Jr,BULK_CANCEL_REQUESTED:()=>$r,BULK_CANCEL_FAILED:()=>eo,MESSAGE_PRINT_REQUESTED:()=>to,MESSAGE_PRINT_SUCCEEDED:()=>so,MESSAGE_PRINT_CLOSED:()=>ao,MESSAGE_PRINT_CANCELED:()=>no,MESSAGE_PRINT_FAILED:()=>ro,DOWNLOAD_REQUESTED:()=>oo,DOWNLOAD_COMPLETED:()=>io,DOWNLOAD_FAILED:()=>lo,OPT_OUT_OF_NORRIN:()=>co,OPT_OUT_REQUESTED:()=>Eo,OPT_OUT_SUBMIT_FEEDBACK:()=>_o,OPT_OUT_CANCEL_FEEDBACK:()=>uo,DISABLED_FEATURE_BUTTON_HOVERED:()=>mo,DISABLED_FEATURE_CLOSE_BUTTON_CLICKED:()=>So,ABOUT_YAHOO_MAIL_PAGE_REQUESTED:()=>po,ADFREE_MAIL_PAGE_REQUESTED:()=>Co,HELP_PAGE_REQUESTED:()=>Ao,PRIVACY_TERMS_PAGE_REQUESTED:()=>To,ABOUT_OUR_ADS_PAGE_REQUESTED:()=>ho,FEEDBACK_SUBMITTED:()=>go,SETTINGS_POPOVER_AUTOOPEN_CHANGED:()=>Io,THEME_CHANGE_REQUESTED:()=>Ro,THEME_CHANGE_SUCCEEDED:()=>Oo,THEME_CHANGE_FAILED:()=>Do,THEME_MODE_CHANGE_REQUESTED:()=>No,THEME_MODE_CHANGE_SUCCEEDED:()=>fo,THEME_MODE_CHANGE_FAILED:()=>Mo,ACCOUNT_DETAILS_CHANGE_REQUESTED:()=>Lo,ACCOUNT_DETAILS_CHANGE_SUCCEEDED:()=>Po,ACCOUNT_DETAILS_CHANGE_FAILED:()=>yo,ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED:()=>bo,ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED:()=>Fo,ACCOUNT_DELETE_REQUESTED:()=>Uo,ACCOUNT_DELETE_SUCCEEDED:()=>vo,ACCOUNT_DELETE_FAILED:()=>wo,ACCOUNT_ADD_REQUESTED:()=>Go,ACCOUNT_ADD_SUCCEEDED:()=>ko,EMAIL_PROVIDER_SELECTED:()=>Ho,ACCOUNT_ADD_FAILED:()=>Bo,ACCOUNT_ADD_FINISHED:()=>xo,ACCOUNT_ADD_ERROR:()=>Vo,ACCOUNT_SETTINGS_CANCEL:()=>Wo,ACCOUNT_ADD_WIZARD_OPENED:()=>Zo,ACCOUNT_ADD_SELECT_PROVIDER:()=>Ko,ACCOUNT_DELETE_CONFIRMED:()=>zo,ACCOUNT_ADD_AUTHORIZED:()=>qo,CONFIRM_EMAIL_RESEND_REQUESTED:()=>Yo,CONFIRM_EMAIL_RESEND_SUCCEEDED:()=>jo,CONFIRM_EMAIL_RESEND_FAILED:()=>Qo,REVIEW_FORWARD_EMAIL:()=>Xo,FETCH_PRIMARY_ACCOUNT:()=>Jo,ACCOUNT_REAUTH_REQUESTED:()=>$o,ACCOUNT_REAUTH_SUCCEEDED:()=>ei,ACCOUNT_REAUTH_FAILED:()=>ti,MESSAGE_CARD_EXPANSION_CHANGED:()=>si,V3_MESSAGE_CARD_EXPANSION_CHANGED:()=>ai,MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:()=>ni,SOCIAL_ACCOUNTS_STATUS_RECEIVED:()=>ri,SOCIAL_ACCOUNT_STATUS_FETCH_FAILED:()=>oi,SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED:()=>ii,SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED:()=>li,SOCIAL_ACCOUNTS_DISCONNECT_FAILED:()=>ci,SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:()=>di,SOCIAL_ACCOUNTS_CONNECT_FAILED:()=>Ei,SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED:()=>_i,SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED:()=>ui,SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:()=>mi,SOCIAL_ACCOUNTS_IMPORT_FAILED:()=>Si,SOCIAL_ACCOUNTS_CONNECT_REQUESTED:()=>pi,IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED:()=>Ci,DISCONNECT_CONTACTS_PROVIDER_REQUESTED:()=>Ai,CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED:()=>Ti,CONTACTS_PROVIDERS_STATUS_FETCH_FAILED:()=>hi,DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED:()=>gi,DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:()=>Ii,DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED:()=>Ri,DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:()=>Oi,DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE:()=>Di,DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_REQUESTED:()=>Ni,DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_FAILED:()=>fi,ALIAS_EMAIL_CREATE_REQUESTED:()=>Mi,ALIAS_EMAIL_CREATE_SUCCEEDED:()=>Li,ALIAS_EMAIL_CREATE_FAILED:()=>Pi,UNSEEN_COUNT_RESET:()=>yi,UNSUBSCRIBE_BY_EMAIL_REQUESTED:()=>bi,UNSUBSCRIBE_BY_EMAIL_SUCCEEDED:()=>Fi,UNSUBSCRIBE_BY_EMAIL_FAILED:()=>Ui,UNSUBSCRIBE_BY_BRAND_REQUESTED:()=>vi,UNSUBSCRIBE_BY_BRAND_SUCCEEDED:()=>wi,UNSUBSCRIBE_BY_BRAND_FAILED:()=>Gi,TUTORIAL_VIDEO_PLAYED:()=>ki,EXCEPTION_OCCURRED:()=>Hi,MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED:()=>Bi,MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED:()=>xi,UNSUBSCRIBE_LIST_REQUEST_SUCCEEDED:()=>Vi,UNSUBSCRIBE_LIST_REQUEST_FAILED:()=>Wi,CHANNEL_CHANGED:()=>Zi,VIDEO_PLAYER_OPENED:()=>Ki,VIDEO_PLAYER_CLOSED:()=>zi,CHANNELS_FETCH_REQUESTED:()=>qi,VIDEO_CHANNELS_METADATA_RECEIVED:()=>Yi,VIDEO_CHANNELS_METADATA_FAILED:()=>ji,CHANNEL_FETCH_REQUESTED:()=>Qi,VIDEO_CHANNEL_RECEIVED:()=>Xi,VIDEO_CHANNEL_FAILED:()=>Ji,VIDEO_PLAYER_PLAYED:()=>$i,VIDEO_PLAYER_PAUSED:()=>el,EMPTY_FOLDER_VIDEO_FETCH_CHANNEL:()=>tl,CONTACT_PICKER_OPENED:()=>sl,CONTACT_PICKER_GROUP_CHANGED:()=>al,CONTACT_SAVE_REQUESTED:()=>nl,CONTACT_SAVE_SUCCEEDED:()=>rl,CONTACT_SAVE_FAILED:()=>ol,CONTACT_PHOTO_UPLOAD_SUCCEEDED:()=>il,CONTACT_PHOTO_UPLOAD_FAILED:()=>ll,CREATE_CONTACT_FAILED:()=>cl,CREATE_CONTACT_SUCCEEDED:()=>dl,DELETE_CONTACT_REQUESTED:()=>El,DELETE_CONTACT_SUCCEEDED:()=>_l,DELETE_CONTACT_FAILED:()=>ul,ADD_TO_CONTACTS:()=>ml,EDIT_CONTACT_FROM_CARD:()=>Sl,MESSAGE_READ_AD_ROTATION_TIMER:()=>pl,EMOJI_PICKER_CLOSED:()=>Cl,EMOJI_PICKER_OPENED:()=>Al,EMOJI_CATEGORY_CHANGED:()=>Tl,CONTACT_DRAG_DROP:()=>hl,LEGACY_WIDERMAIL_EXTN_DETECTED:()=>gl,FEATURE_DISABLED:()=>Il,FEATURE_ENABLED:()=>Rl,MAILBOX_NOT_SYNCING:()=>Ol,GET_INVITE_INFO_REQUESTED:()=>Dl,RESPOND_TO_INVITE:()=>Nl,RESPOND_TO_INVITE_SUCCEEDED:()=>fl,RESPOND_TO_INVITE_FAILED:()=>Ml,RSVP_NAVIGATE_TO_CALENDAR:()=>Ll,INVITEINFO_FETCH_SUCCEEDED:()=>Pl,INVITEINFO_FETCH_FAILED:()=>yl,DRAWER_OPENED:()=>bl,DRAWER_CLOSED:()=>Fl,CC_BCC_TOGGLED:()=>Ul,LIST_REFRESHED:()=>vl,APP_INSTALL_CUE_CONTINUE:()=>wl,APP_INSTALL_CUE_INVOKED:()=>Gl,APP_BANNER_SHOWN:()=>kl,NAVIGATE_TO_MAIL_PRO:()=>Hl,NAVIGATE_TO_WIDER_PROMO:()=>Bl,MAIL_PLUS_SETTINGS_BUTTON_CLICKED:()=>xl,MAIL_PLUS_FEATURE_REQUESTED:()=>Vl,MAIL_PLUS_FREE_TRIAL_REQUESTED:()=>Wl,STATIC_MAIL_PLUS_UPSELL_FETCH_SUCCEEDED:()=>Zl,STATIC_MAIL_PLUS_UPSELL_FETCH_FAILED:()=>Kl,CLOSE_MAIL_PLUS_FEATURE_UPSELL:()=>zl,DEAL_CARD_GROUP_SHOWN:()=>ql,TOGGLE_DEAL_RECOMMENDATION_PREVIEW:()=>Yl,SETTINGS_BLOCKED_DOMAINS_FETCHED:()=>jl,SETTINGS_BLOCKED_DOMAINS_FETCH_FAILED:()=>Ql,SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:()=>Xl,SETTINGS_BLOCKED_DOMAIN_ADD_FAILED:()=>Jl,SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:()=>$l,SETTINGS_BLOCKED_DOMAIN_DELETE_FAILED:()=>ec,SETTINGS_BLOCKED_DOMAIN_DELETE_REQUESTED:()=>tc,SETTINGS_BLOCKED_DOMAIN_ADD_REQUESTED:()=>sc,LOCATION_SUGGEST_REQUESTED:()=>ac,LOCATION_SUGGEST_FAILED:()=>nc,LOCATION_SUGGEST_SUCCEEDED:()=>rc,NAVIGATE_TO_BOOKING:()=>oc,BOOKING_CARD_RENDERED:()=>ic,COUPONS_ADD_TAG_DECO_REQUESTED:()=>lc,COUPONS_REMOVE_TAG_DECO_REQUESTED:()=>cc,COUPONS_ADD_TAG_DECO_SUCCEEDED:()=>dc,COUPONS_REMOVE_TAG_DECO_SUCCEEDED:()=>Ec,COUPONS_ADD_TAG_DECO_FAILED:()=>_c,COUPONS_REMOVE_TAG_DECO_FAILED:()=>uc,PHISHING_BANNER_MOUNTED:()=>mc,PHISHING_REMOVE_BDM_DECO_REQUESTED:()=>Sc,PHISHING_REMOVE_BDM_DECO_SUCCEEDED:()=>pc,PHISHING_REMOVE_BDM_DECO_FAILED:()=>Cc,REMOVE_SPAM_SCHEMA_REQUESTED:()=>Ac,REMOVE_SPAM_SCHEMA_SUCCEEDED:()=>Tc,REMOVE_SPAM_SCHEMA_FAILED:()=>hc,PARENT_MESSAGE_METADATA_REQUESTED:()=>gc,PARENT_MESSAGE_METADATA_SUCCEEDED:()=>Ic,PARENT_MESSAGE_METADATA_FAILED:()=>Rc,COUPON_RECOMMENDATIONS_OPENED:()=>Oc,COUPON_RECOMMENDATIONS_CLOSED:()=>Dc,COUPON_RECOMMENDATIONS_AD_CLICKED:()=>Nc,MORE_SMARTVIEW_COUPONS_REQUESTED:()=>fc,MORE_COUPONS_REQUESTED:()=>Mc,MORE_COUPONS_REQUEST_FAILED:()=>Lc,MORE_COUPONS_SUCCESS:()=>Pc,COUPONS_LIST_SUCCEEDED:()=>yc,COUPONS_LIST_FAILED:()=>bc,DEALS_VIEW_EXPANSION_TOGGLED:()=>Fc,EXTRACT_COUPON_REQUESTED:()=>Uc,EXTRACT_COUPON_SUCCEEDED:()=>vc,EXTRACT_COUPON_FAILED:()=>wc,SELF_EXTRACT_COUPON_MODAL_OPENED:()=>Gc,SELF_EXTRACT_COUPON_MODAL_CLOSED:()=>kc,ACTIVATE_OFFER_FAILED:()=>Hc,ACTIVATE_OFFER_REQUESTED:()=>Bc,ACTIVATE_OFFER_SUCCEEDED:()=>xc,ACTIVATED_OFFERS_LIST_FAILED:()=>Vc,ACTIVATED_OFFERS_LIST_SUCCEEDED:()=>Wc,DELETE_GROCERY_ITEMS_FAILED:()=>Zc,DELETE_GROCERY_ITEMS_REQUESTED:()=>Kc,DELETE_GROCERY_ITEMS_SUCCEEDED:()=>zc,LINK_MODAL_CLOSED:()=>qc,LINK_MODAL_OPENED:()=>Yc,LINK_RETAILER_FAILED:()=>jc,LINK_RETAILER_REQUESTED:()=>Qc,LINK_RETAILER_SUCCEEDED:()=>Xc,LINKED_CARD_CLICKED:()=>Jc,LINKED_CARD_SHOWN:()=>$c,OFFERS_LIST_FAILED:()=>ed,OFFERS_LIST_SUCCEEDED:()=>td,PRINT_OFFERS_FAILED:()=>sd,PRINT_OFFERS_REQUESTED:()=>ad,PRINT_OFFERS_SUCCEEDED:()=>nd,QUOTIENT_MODAL_SHOWN:()=>rd,GROCERY_SEARCH_ASSIST_FAILED:()=>od,GROCERY_SEARCH_ASSIST_REQUESTED:()=>id,GROCERY_SEARCH_ASSIST_SUCCEEDED:()=>ld,UNLINK_RETAILER_FAILED:()=>cd,UNLINK_RETAILER_REQUESTED:()=>dd,UNLINK_RETAILER_SUCCEEDED:()=>Ed,CATEGORY_FOLLOW_REQUESTED:()=>_d,CATEGORY_UNFOLLOW_REQUESTED:()=>ud,CATEGORY_FOLLOW_SUCCEEDED:()=>md,CATEGORY_FOLLOW_FAILED:()=>Sd,CATEGORY_UNFOLLOW_SUCCEEDED:()=>pd,CATEGORY_UNFOLLOW_FAILED:()=>Cd,CATEGORY_FOLLOW_FAILURE_RESET:()=>Ad,GET_RETAILER_LOCATIONS_REQUESTED:()=>Td,GET_RETAILER_LOCATIONS_SUCCEEDED:()=>hd,GET_RETAILER_LOCATIONS_FAILED:()=>gd,UPDATE_PREFERRED_STORE_REQUESTED:()=>Id,UPDATE_PREFERRED_STORE_SUCCEEDED:()=>Rd,UPDATE_PREFERRED_STORE_FAILED:()=>Od,REFRESH_SHOPPING_LIST_REQUESTED:()=>Dd,CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED:()=>Nd,CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:()=>fd,CHANGE_GROCERY_ITEMS_QUANTITY_FAILED:()=>Md,TOGGLE_GROCERY_CATEGORIES_EXPANSION:()=>Ld,GROCERY_SUBCATEGORIES_FAILED:()=>Pd,GROCERY_SUBCATEGORIES_SUCCEEDED:()=>yd,PREVIOUSLY_ADDED_GROCERY_ITEMS_FAILED:()=>bd,PREVIOUSLY_ADDED_GROCERY_ITEMS_SUCCEEDED:()=>Fd,RELATED_GROCERY_ITEMS_FAILED:()=>Ud,RELATED_GROCERY_ITEMS_REQUESTED:()=>vd,RELATED_GROCERY_ITEMS_SUCCEEDED:()=>wd,CATEGORY_ITEMS_REQUESTED:()=>Gd,AFFILIATE_OFFERS_FAILED:()=>kd,AFFILIATE_OFFERS_REQUESTED:()=>Hd,AFFILIATE_OFFERS_SUCCEEDED:()=>Bd,STOREFRONT_MODULES_SUCCEEDED:()=>xd,STOREFRONT_MODULES_FAILED:()=>Vd,STOREFRONT_DEALS_REQUESTED:()=>Wd,STOREFRONT_DEALS_SUCCEEDED:()=>Zd,STOREFRONT_DEALS_FAILED:()=>Kd,STOREFRONT_PRODUCTS_REQUESTED:()=>zd,STOREFRONT_PRODUCTS_SUCCEEDED:()=>qd,STOREFRONT_PRODUCTS_FAILED:()=>Yd,RESET_STOREFRONT_NEW_DEAL_COUNT_REQUESTED:()=>jd,RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED:()=>Qd,RESET_STOREFRONT_NEW_DEAL_COUNT_FAILED:()=>Xd,STOREFRONT_EMAILS_MODULES_SUCCEEDED:()=>Jd,STOREFRONT_EMAILS_MODULES_FAILED:()=>$d,STOREFRONT_RECEIPTS_MODULES_SUCCEEDED:()=>eE,STOREFRONT_RECEIPTS_MODULES_FAILED:()=>tE,STOREFRONT_BRAND_FOLLOW_REQUESTED:()=>sE,STOREFRONT_BRAND_FOLLOW_SUCCEEDED:()=>aE,STOREFRONT_BRAND_FOLLOW_FAILED:()=>nE,STOREFRONT_BRAND_UNFOLLOW_REQUESTED:()=>rE,STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED:()=>oE,STOREFRONT_BRAND_UNFOLLOW_FAILED:()=>iE,INBOX_COMMERCE_FEATURE_CLICKED:()=>lE,ASTRA_BATCH_API_FAILED:()=>cE,ASTRA_BATCH_API_SUCCEEDED:()=>dE,ADBLOCK_UPSELL_EXTENSION_INSTALL_SUCCEEDED:()=>EE,ADBLOCK_UPSELL_EXTENSION_INSTALL_FAILED:()=>_E,ADBLOCK_UPSELL_OPTION_CLICKED:()=>uE,ADBLOCK_DETECTED:()=>mE,ADBLOCK_BEACON_FAILED:()=>SE,ABP_DETECTED:()=>pE,SUBSCRIPTION_LIST_FETCH_SUCCEEDED:()=>CE,SUBSCRIPTION_LIST_FETCH_FAILED:()=>AE,SUBSCRIPTION_LIST_FILTER_CHANGED:()=>TE,SUBSCRIPTION_LIST_SORT_ORDER_CHANGED:()=>hE,SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:()=>gE,SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED:()=>IE,SHOW_MOBILE_ONBOARDING_CUE:()=>RE,USER_DWELLED_ON_CONTENT:()=>OE,USER_NAVIGATED_ONBOARDING:()=>DE,RIGHT_RAIL_COMMS_ICON_CLICKED:()=>NE,CONTACTS_PANE_LIST_FILTER_CHANGED:()=>fE,CONTACTS_LIST_FETCH_SUCCEEDED:()=>ME,CONTACTS_LIST_FETCH_FAILED:()=>LE,CONTACTS_GROUP_FETCH_SUCCEEDED:()=>PE,CONTACTS_GROUP_FETCH_FAILED:()=>yE,CATEGORY_LIST_EXPANSION_TOGGLED:()=>bE,CONTACTS_PANE_CONTACT_CLICKED:()=>FE,CONTACTS_PANE_BACK_BUTTON_CLICKED:()=>UE,CONTACTS_PANE_EDIT_BUTTON_CLICKED:()=>vE,CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED:()=>wE,CONTACT_EDIT_CANCELLED:()=>GE,CONTACTS_PANE_SEARCHED:()=>kE,CONTACT_CREATE_CLICKED:()=>HE,CONTACT_SEARCH_CLOSED:()=>BE,CONTACTS_SORT_ORDER_CHANGED:()=>xE,CONTACTS_CATEGORY_FILTER_CHANGED:()=>VE,CONTACTS_RESTORE_CLICKED:()=>WE,CONTACTS_PANE_CREATE_GROUP_REQUESTED:()=>ZE,CONTACTS_PANE_SAVE_GROUP_REQUESTED:()=>KE,CONTACTS_PANE_SAVE_GROUP_SUCCEEDED:()=>zE,CONTACTS_PANE_SAVE_GROUP_FAILED:()=>qE,CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:()=>YE,CONTACTS_PANE_CREATE_GROUP_FAILED:()=>jE,CONTACTS_PANE_GROUP_CHANGED:()=>QE,CONTACTS_PANE_EDIT_GROUP:()=>XE,CONTACTS_GROUP_DELETE_REQUESTED:()=>JE,CONTACTS_GROUP_EDIT_EMAIL_SEARCH:()=>$E,CONTACTS_GROUP_DELETE_SUCCEEDED:()=>e_,CONTACTS_GROUP_DELETE_FAILED:()=>t_,EXPORT_ALL_CONTACTS_REQUESTED:()=>s_,PRINT_ALL_CONTACTS_REQUESTED:()=>a_,FETCH_ALL_CONTACTS_SUCCESS:()=>n_,FETCH_ALL_CONTACTS_FAILED:()=>r_,CONTACTS_SNAPSHOT_FETCH_SUCCEEDED:()=>o_,CONTACTS_SNAPSHOT_FETCH_FAILED:()=>i_,CONTACTS_RESTORE_REQUESTED:()=>l_,CONTACTS_RESTORE_SUCCEEDED:()=>c_,CONTACTS_RESTORE_FAILED:()=>d_,CONTACTS_CSV_IMPORT_REQUESTED:()=>E_,CONTACTS_CSV_IMPORT_SUCCEEDED:()=>__,CONTACTS_CSV_IMPORT_FAILED:()=>u_,CONTACTS_CSV_IMPORT_SIZE_FAILED:()=>m_,RELATED_SEARCHES_FETCH_SUCCEEDED:()=>S_,RELATED_SEARCHES_FETCH_FAILED:()=>p_,RELATED_SEARCHES_CARD_CLICKED:()=>C_,SHOW_PUSH_NOTIFICATIONS_CUE:()=>A_,PUSH_NOTIFICATIONS_REQUEST_GRANTED:()=>T_,VIGLINK_CLICKED:()=>h_,UNUSUAL_DISCOUNT_VIGLINK_CLICKED:()=>g_,PERMANENT_DELETE_CANCELLED:()=>I_,VIEW_RAW_MESSAGE:()=>R_,FETCH_RAW_MESSAGE:()=>O_,FETCH_RAW_MESSAGE_SUCCEEDED:()=>D_,FETCH_RAW_MESSAGE_FAILED:()=>N_,SPONSORED_MOMENT_CLICKED:()=>f_,SPONSORED_MOMENT_CLOSED:()=>M_,COUPONS_SEARCH_TOP_DEAL_CLICKED:()=>L_,TOGGLE_DETAIL_PANE_EXPANSION:()=>P_,AD_FORMAT_SELECTION_CLOSED:()=>y_,UPDATE_AD_FORMAT_SELECTION_CLICKED:()=>b_,POST_LAUNCH_SYNC_SUCCEEDED:()=>F_,POST_LAUNCH_SYNC_FAILED:()=>U_,POST_LAUNCH_ATTRIBUTES_RECEIVED:()=>v_,COMPOSE_ATTRIBUTES_REQUESTED:()=>w_,COMPOSE_ATTRIBUTES_RECEIVED:()=>G_,COMPOSE_ATTRIBUTES_FETCH_FAILED:()=>k_,TOP_RETAILERS_REQUEST_SUCCEEDED:()=>H_,TOP_RETAILERS_REQUEST_FAILED:()=>B_,TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED:()=>x_,TOP_DEAL_CATEGORIES_REQUEST_FAILED:()=>V_,USER_NAME_PHONE_REG_UPSELL_LOADED:()=>W_,USER_NAME_PHONE_REG_CANCEL_AUTH:()=>Z_,RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED:()=>K_,RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED:()=>z_,RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED:()=>q_,TOM_UPSELL_CLICKED:()=>Y_,TOM_UPSELL_SHOWN:()=>j_,LASTPASS_FREETRIAL_UPSELL_SHOWN:()=>Q_,SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED:()=>X_,MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:()=>J_,MEMBERSHIP_REWARDS_LAUNCH_FAILED:()=>$_,TMR_NAVIGATE_TO_ATOS:()=>eu,TMR_REGISTER_ACTION_SUCCESS:()=>tu,TMR_REGISTER_ACTION_FAILED:()=>su,TMR_TAB_CHANGE:()=>au,TMR_SPIN_COMPLETED:()=>nu,TMR_NAVIGATE_TO_URL:()=>ru,TMR_POINT_ICON_CLICK:()=>ou,UNSUBSCRIBE_MARKETING_PREFERENCES:()=>iu,MARKETING_PREFERENCES_WRITE_SUCCEEDED:()=>lu,MARKETING_PREFERENCES_WRITE_FAILED:()=>cu,SUBSCRIBE_MARKETING_PREFERENCES:()=>du,DISPATCHER_UPSELL_FETCH_SUCCEEDED:()=>Eu,DISPATCHER_UPSELL_FETCH_FAILED:()=>_u,TOUCHPOINT_UPSELL_FETCH_SUCCEEDED:()=>uu,TOUCHPOINT_UPSELL_FETCH_FAILED:()=>mu,RIGHT_RAIL_ADBLOCK_UPSELL_FETCH_SUCCEEDED:()=>Su,RIGHT_RAIL_ADBLOCK_UPSELL_FETCH_FAILED:()=>pu,PURCHASE_MAILPRO_FREE_TRIAL:()=>Cu,PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:()=>Au,PURCHASE_MAILPRO_FREE_TRIAL_FAILED:()=>Tu,LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:()=>hu,LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED:()=>gu,ADD_COMPOSE_HEADER:()=>Iu,DELETE_COMPOSE_HEADER:()=>Ru,UPDATE_COMPOSE_HEADER_FOCUS:()=>Ou,FORWARD_ATTACHMENTS:()=>Du,CLEAR_FORWARDED_ATTACHMENT_IDS:()=>Nu,FORCE_OPTIN_DONE:()=>fu,SHOPPING_CART_AD_CLICKED:()=>Mu,DEALS_SHOPPING_CART_AD_CLICKED:()=>Lu,PAC_CUE_MARK_AS_SHOWN_REQUESTED:()=>Pu,BREAKING_NEWS_SUCCESS:()=>yu,BREAKING_NEWS_FAILED:()=>bu,BREAKING_NEWS_DISMISSED:()=>Fu,BREAKING_NEWS_REFRESH:()=>Uu,BREAKING_NEWS_CLICKED:()=>vu,BREAKING_NEWS_RENDERED:()=>wu,SENDER_ROLLUP_SUCCEEDED:()=>Gu,MORE_SENDER_ROLLUP_REQUESTED:()=>ku,MORE_SENDER_ROLLUP_SUCCEEDED:()=>Hu,MORE_SENDER_ROLLUP_FAILED:()=>Bu,SENDER_ROLLUP_FAILED:()=>xu,NEED_TO_KNOW_NEWS_SUCCEEDED:()=>Vu,NEED_TO_KNOW_NEWS_FAILED:()=>Wu,NEED_TO_KNOW_NEWS_CUE_CLICKED:()=>Zu,CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED:()=>Ku,CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED:()=>zu,CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED:()=>qu,CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED:()=>Yu,CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED:()=>ju,CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED:()=>Qu,CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED:()=>Xu,CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED:()=>Ju,CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED:()=>$u,CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:()=>em,CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED:()=>tm,CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED:()=>sm,CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED:()=>am,CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED:()=>nm,CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:()=>rm,CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED:()=>om,CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_DIALOG_CLICKED:()=>im,ATTACH_FILES_MENU_ITEM_CLICKED:()=>lm,CLOUD_STORAGE_ITEM_LINK_ADDED:()=>cm,CLOUD_STORAGE_ITEM_PREVIEW_CLICKED:()=>dm,CLOUD_STORAGE_ITEM_PERMISSION_UPDATED:()=>Em,FALCON_TOM_SUBSCRIPTIONS_FETCH_REQUESTED:()=>_m,FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED:()=>um,FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED:()=>mm,RELATED_CARDS_FETCH_SUCCEEDED:()=>Sm,RELATED_CARDS_FETCH_FAILED:()=>pm,TASTEMAKER_CONSUME_SUCCEEDED:()=>Cm,TASTEMAKER_CONSUME_FAILED:()=>Am,TASTEMAKER_DELETE_SUCCEEDED:()=>Tm,TASTEMAKER_DELETE_FAILED:()=>hm,TOGGLE_ADVANCED_SEARCH_PANE:()=>gm});const a="INITIAL_STATE",n="LAUNCH_COMPLETED",r="APP_LOAD_COMPLETED",o="WINDOW_RESIZING",i="WINDOW_RESIZED",l="APPLICATION_VISIBILITY_DID_CHANGE",c="CANCEL_APP_RELOAD",d="CONFIRM_APP_RELOAD",E="SHOW_APP_RELOAD",_="LAUNCH_ERROR",u="USER_LOCATION_UPDATE_SUCCEEDED",m="USER_LOCATION_UPDATE_FAILED",S="HEADER_NAVIGATION_SELECTED",p="ACCOUNT_MENU_SHOWN",C="USER_LOGGED_OUT",A="HOME_BUTTON_CLICKED",T="TIMEZONE_CHANGE_DETECTED",h="PREFERRED_TIMEZONE_CHANGE_REJECTED",g="ONLINE_STATUS_CHANGED",I="OPEN_PAGE_REQUESTED",R="CLOSE_PAGE_REQUESTED",O="CLOSE_ALL_PAGES_REQUESTED",D="EXTERNAL_LINK_CLICKED",N="SYNC_DATA",f="SYNC_NOW_SUCCEEDED",M="SYNC_NOW_FAILED",L="ROTATE_AD_ON_LIST_SCROLL",P="LAUNCH_PAGE_REQUESTED",y="LAUNCH_FAILED",b="OPEN_TABS_MENU",F="PREVIEW_MESSAGE_REQUESTED",U="PREVIEW_MESSAGE_CLOSED",v="MULTI_TASKING_PREF_CHANGE_REQUESTED",w="MULTI_TASKING_PREF_CHANGE_SUCCEEDED",G="MULTI_TASKING_PREF_CHANGE_FAILED",k="EXPAND_ACCOUNT_LIST",H="EXPANDED_FOLDERS_PREF_CHANGE_REQUESTED",B="EXPANDED_FOLDERS_PREF_CHANGE_SUCCEEDED",x="EXPANDED_FOLDERS_PREF_CHANGE_FAILED",V="SHOW_CUSTOM_FOLDERS_PREF_CHANGE_REQUESTED",W="SHOW_CUSTOM_FOLDERS_PREF_CHANGE_SUCCEEDED",Z="SHOW_CUSTOM_FOLDERS_PREF_CHANGE_FAILED",K="CONVERSATIONS_CHANGE_REQUESTED",z="CONVERSATIONS_CHANGE_SUCCEEDED",q="CONVERSATIONS_CHANGE_FAILED",Y="SHOW_IMAGE_PREF_CHANGE_REQUESTED",j="SHOW_IMAGE_PREF_CHANGE_SUCCEEDED",Q="SHOW_IMAGE_PREF_CHANGE_FAILED",X="MESSAGE_READ_SHOW_IMAGES_REQUESTED",J="HIDEAD_PREF_CHANGE_REQUESTED",$="HIDEAD_PREF_CHANGE_SUCCEEDED",ee="HIDEAD_PREF_CHANGE_FAILED",te="MESSAGE_LIST_DENSITY_PREF_CHANGE_REQUESTED",se="MESSAGE_LIST_DENSITY_PREF_CHANGE_SUCCEEDED",ae="MESSAGE_LIST_DENSITY_PREF_CHANGE_FAILED",ne="ACTION_AFTER_MESSAGE_MOVE_CHANGE_REQUESTED",re="ACTION_AFTER_MESSAGE_MOVE_CHANGE_SUCCEEDED",oe="ACTION_AFTER_MESSAGE_MOVE_CHANGE_FAILED",ie="DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED",le="DEFAULT_SENDING_ADDRESS_CHANGE_SUCCEEDED",ce="DEFAULT_SENDING_ADDRESS_CHANGE_FAILED",de="SIGNATURE_STATUS_CHANGE_REQUESTED",Ee="SIGNATURE_STATUS_CHANGE_SUCCEEDED",_e="SIGNATURE_STATUS_CHANGE_FAILED",ue="SIGNATURE_TEXT_CHANGE_REQUESTED",me="SIGNATURE_TEXT_CHANGE_SUCCEEDED",Se="SIGNATURE_TEXT_CHANGE_FAILED",pe="COMPOSE_FONT_SIZE_CHANGE_REQUESTED",Ce="COMPOSE_FONT_SIZE_CHANGE_SUCCEEDED",Ae="COMPOSE_FONT_SIZE_CHANGE_FAILED",Te="COMPOSE_FONT_FAMILY_CHANGE_REQUESTED",he="COMPOSE_FONT_FAMILY_CHANGE_SUCCEEDED",ge="COMPOSE_FONT_FAMILY_CHANGE_FAILED",Ie="LINK_ENHANCER_FETCH_REQUESTED",Re="LINK_ENHANCER_FETCH_SUCCEEDED",Oe="LINK_ENHANCER_FETCH_FAILED",De="LINK_ENHANCER_ADD_LINK",Ne="LINK_ENHANCER_RESIZE_LINK",fe="LINK_ENHANCER_REMOVE_LINK",Me="LINK_ENHANCER_OPEN_LINK",Le="LINK_ENHANCER_SHARE_LINK",Pe="LINK_ENHANCER_MOVE_LINK_BOTTOM",ye="LINK_ENHANCER_MOVE_LINK_INLINE",be="DARLA_ADS_RECEIVED",Fe="DARLA_ADS_FAILED",Ue="PREFETCHED_AD_RENDERED",ve="PREFETCHED_ADS_RENDERED",we="LOOK_AHEAD_ADS_PARSED",Ge="LOOK_AHEAD_ADS_RENDERED",ke="AD_ROTATION_SKIPPED",He="PREMIUM_AD_STARTED",Be="PREMIUM_AD_STOPPED",xe="HIDE_RIGHT_PANE_ADS",Ve="AD_RECEIVED",We="AD_FAILED",Ze="GEMINI_AD_RECEIVED",Ke="GEMINI_AD_FAILED",ze="GEMINI_AD_REQUESTED",qe="AD_FALLBACK_CLICKED",Ye="PENCIL_AD_CLICKED",je="AD_FEEDBACK_STARTED",Qe="AD_FEEDBACK_SUBMITTED",Xe="AD_FEEDBACK_CLOSED",Je="GEMINI_SPONSORED_ASSET_RECEIVED",$e="GEMINI_SPONSORED_ASSET_FAILED",et="FLASH_SALE_AD_ENDED",tt="DELETE_PENCIL_AD",st="TOGGLE_PENCIL_AD_SELECTION",at="AD_FEEDBACK_CLICKED",nt="SHOPPING_CART_AD_RENDERED",rt="DEALS_SHOPPING_CART_AD_RENDERED",ot="ADFREE_UPSELL_ACCEPT",it="ADFREE_UPSELL_CANCEL",lt="GET_WIDER_MAIL_EXTENSION_URL",ct="WIDER_MAIL_INSTALL_SUCCESS",dt="WIDER_MAIL_INSTALL_FAILURE",Et="KEY_DID_BIND",_t="KEY_DID_UPDATE",ut="KEY_DID_UNBIND",mt="NAVIGATE_TO_COMPOSE_REQUESTED",St="POP_OUT_COMPOSE",pt="OPEN_COMPACT_COMPOSE",Ct="EDIT_COMPACT_COMPOSE_SUBJECT",At="TOGGLE_COMPACT_COMPOSE_STATE",Tt="CLOSE_COMPACT_COMPOSE",ht="FEEDBACK_PANEL_GIVE_FEEDBACK",gt="V3_MESSAGE_SAVE_REQUESTED",It="V3_MESSAGE_SAVE_SUCCEEDED",Rt="V3_MESSAGE_SAVE_FAILED",Ot="V3_MESSAGE_SEND_REQUESTED",Dt="V3_MESSAGE_SEND_SUCCEEDED",Nt="V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED",ft="V3_MESSAGE_SEND_FAILED",Mt="MESSAGE_SAVE_REQUESTED",Lt="MESSAGE_SAVE_SUCCEEDED",Pt="MESSAGE_SAVE_FAILED",yt="MESSAGE_AUTO_SAVE_REQUESTED",bt="MESSAGE_AUTO_SAVE_SUCCEEDED",Ft="MESSAGE_AUTO_SAVE_FAILED",Ut="SPONSORED_SAVE_TO_INBOX_REQUESTED",vt="SPONSORED_SAVE_TO_INBOX_SUCCEEDED",wt="SPONSORED_SAVE_TO_INBOX_FAILED",Gt="COMPOSE_OPENED",kt="COMPOSE_CLOSED",Ht="AUTOTAG_DROPDOWN_SHOWN",Bt="AUTOTAG_CONTACT_SELECTED",xt="EDIT_LIST_DROPDOWN_CONTACT_SELECTED",Vt="AUTOTAG_DROPDOWN_CLOSED",Wt="RELATED_CONTACTS_CLOSED",Zt="SEND",Kt="SEND_SUCCESS",zt="SEND_FAILURE",qt="ATTACHMENT_STATE_UPDATED",Yt="DELETE_DRAFT_SUCCEEDED",jt="DELETE_DRAFT_FAILED",Qt="UPDATE_EDIT_DRAFT_STATE",Xt="DRAFT_SUBJECT_UPDATED",Jt="CONTACT_SUGGESTIONS_REQUESTED",$t="CONTACT_SUGGESTIONS_SUCCEEDED",es="DELETE_CONTACT_SUGGESTIONS_REQUESTED",ts="DELETE_CONTACT_SUGGESTIONS_SUCCEEDED",ss="DELETE_CONTACT_SUGGESTIONS_FAILED",as="CONTACT_SUGGESTIONS_FAILED",ns="CONTACT_ADDED",rs="COMPOSE_NO_ADDRESS_DETECTED",os="COMPOSE_RECIPIENT_LIMIT_EXCEEDED",is="COMPOSE_ADDRESSING_FAILED",ls="SHOW_INVALID_REPLY_TO_ADDRESS_ALERT",cs="COMPOSE_INVALID_MESSAGE_OPENED",ds="SUBJECT_FOCUSED",Es="RTE_MORE_MENU_SHOWN",_s="HANDLE_RTE_TOOLBAR_ACTIONS",us="CONFIRM_DELETE_DIALOG_CLOSED",ms="QUOTED_TEXT_EXPANDED",Ss="UPLOAD_PROGRESS_RECEIVED",ps="MAILTO_ACTION_REQUESTED",Cs="ADD_BIG_ATTACHMENT",As="GIF_FETCHED",Ts="GIF_FETCH_REQUESTED",hs="GIF_FETCH_SUCCEEDED",gs="GIF_FETCH_FAILED",Is="GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED",Rs="GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED_OLD",Os="GIF_CATEGORIES_CONTENT_FETCH_REQUESTED",Ds="GIF_CATEGORIES_CONTENT_FETCH_FAILED",Ns="MORE_RECEIPTS_REQUESTED",fs="MORE_RECEIPTS_REQUEST_FAILED",Ms="MORE_RECEIPTS_SUCCESS",Ls="RECEIPTS_LIST_SUCCEEDED",Ps="RECEIPTS_LIST_FAILED",ys="TRAVEL_LIST_SUCCEEDED",bs="TRAVEL_LIST_FAILED",Fs="MORE_TRAVEL_ITEMS_SUCCEEDED",Us="MORE_TRAVEL_ITEMS_FAILED",vs="MESSAGE_GROUP_WITH_BODIES_OPENED",ws="MESSAGE_GROUP_WITH_BODIES_RECEIVED",Gs="MESSAGE_GROUP_WITH_BODIES_FAILED",ks="MESSAGE_GROUP_OPENED",Hs="MESSAGE_BODIES_REQUESTED",Bs="MESSAGE_BODIES_RECEIVED",xs="MESSAGE_BODIES_FAILED",Vs="MESSAGE_BODIES_OPEN_GROUP_RECEIVED",Ws="MESSAGE_CARD_FOCUSED",Zs="ATTACHMENT_PREVIEW_FAILED",Ks="CHECK_MAIL_RECEIVED_WITH_UPDATES",zs="CHECK_MAIL_RECEIVED_WITH_NO_UPDATES",qs="CHECK_MAIL_FAILED",Ys="MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED",js="MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED",Qs="MESSAGE_BODY_LINK_CLICKED",Xs="DELETE_PREVIEW_REQUESTED",Js="DELETE_PREVIEW_CLOSED",$s="STAR_CHANGE_REQUESTED",ea="STAR_CHANGE_SUCCEEDED",ta="STAR_CHANGE_FAILED",sa="READ_CHANGE_REQUESTED",aa="READ_CHANGE_SUCCEEDED",na="READ_CHANGE_FAILED",ra="RECENT_AND_READ_CHANGE_REQUESTED",oa="MOVE_AND_READ_CHANGE_REQUESTED",ia="UNDO_MOVE_REQUESTED",la="UNDO_MOVE_SUCCEEDED",ca="UNDO_MOVE_FAILED",da="UNDO_MOVE_AND_READ_REQUESTED",Ea="UPDATE_ITEMS_SUCCEEDED",_a="UPDATE_ITEMS_FAILED",ua="FILE_ATTACHMENT_ADDED",ma="ATTACHMENT_REMOVED",Sa="ATTACHMENT_DOWNLOADED",pa="ALL_ATTACHMENTS_DOWNLOADED",Ca="INLINE_FILE_ATTACHMENT_ADDED",Aa="INLINE_FILE_ATTACHMENT_REMOVED",Ta="INLINE_ATTACHMENT_MOVED_TO_TRAY",ha="ATTACHMENT_MOVED_TO_INLINE",ga="INLINE_IMAGES_TO_ATTACHMENT",Ia="MESSAGES_LIST_SCROLLED",Ra="ITEM_LIST_PAGE_SCROLLED",Oa="SCROLL_TO_SEARCH_PAGE_SCROLLED",Da="MORE_MESSAGES_REQUEST_SUCCESS",Na="MORE_MESSAGES_REQUEST_FAILED",fa="MESSAGE_GROUP_BY_CHANGED",Ma="MESSAGE_LIST_TOOLBAR_MENU_SHOWN",La="MESSAGES_SELECTION_REPLACED",Pa="ITEMS_DRAG_STARTED",ya="COUPON_ICON_MSG_LIST_CLICKED",ba="STREAM_CURSOR_MOVED",Fa="ALL_STREAM_ITEMS_SELECTED",Ua="ALL_STREAM_ITEMS_SELECTED_FOR_BULK_OPERATION",va="STREAM_ITEMS_SELECTION_CLEARED",wa="STREAM_CONTEXT_MENU",Ga="STREAM_CONTEXT_MENU_SHOWN",ka="STREAM_ITEM_TOGGLED",Ha="STREAM_ITEMS_MULTIPLE_TOGGLE",Ba="STREAM_SELECT_CURSOR_MOVED",xa="STREAM_ITEMS_SELECTION_CHANGED",Va="STREAM_ITEMS_RANGE_SELECTED",Wa="CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED",Za="CHECK_NUDGE_AND_SMART_REPLY_FAILED",Ka="CHANGE_FOLDER_SUCCEEDED",za="CHANGE_FOLDER_FAILED",qa="CREATE_FOLDER_REQUESTED",Ya="CREATE_FOLDER_SUCCEEDED",ja="CREATE_FOLDER_FAILED",Qa="DELETE_FOLDER_REQUESTED",Xa="DELETE_FOLDER_SUCCEEDED",Ja="DELETE_FOLDER_FAILED",$a="RENAME_FOLDER_REQUESTED",en="RENAME_FOLDER_SUCCEEDED",tn="RENAME_FOLDER_FAILED",sn="MOVE_FOLDER_REQUESTED",an="MOVE_FOLDER_SUCCEEDED",nn="MOVE_FOLDER_FAILED",rn="FOLDER_CONTEXT_MENU_REQUESTED",on="DELETE_NON_EMPTY_FOLDER_REQUESTED",ln="CAPTCHA_BEGAN",cn="SEARCH_INPUT_FORCE_FOCUSED",dn="SEARCH_INPUT_FOCUSED",En="SEARCH_INPUT_BLURRED",_n="SEARCH_LIST_ITEMS_REQUESTED",un="SEARCH_LIST_ITEMS_BLOCK_RECEIVED",mn="SEARCH_LIST_ITEMS_RECEIVED",Sn="SEARCH_LIST_ITEMS_FAILED",pn="SEARCH_RELEVANCE_CUE_TRIGGERED",Cn="MOVE_ITEMS_REQUESTED",An="MOVE_ITEMS_SUCCEEDED",Tn="MOVE_ITEMS_FAILED",hn="MORE_ITEMS_REQUESTED",gn="DELETE_ITEMS_REQUESTED",In="DELETE_ITEMS_SUCCEEDED",Rn="DELETE_ITEMS_FAILED",On="BLOCK_SENDERS_REQUESTED",Dn="BLOCK_SENDERS_WITH_DELETE_REQUESTED",Nn="MORE_SEARCH_LIST_ITEMS_REQUESTED",fn="MORE_SEARCH_LIST_ITEMS_RECEIVED",Mn="MORE_SEARCH_LIST_ITEMS_FAILED",Ln="SUGGESTIONS_REQUESTED",Pn="SUGGESTIONS_RECEIVED",yn="SUGGESTIONS_FROM_CONTACTS_RECEIVED",bn="SUGGESTIONS_FAILED",Fn="SEARCH_PLA_AD_CLICKED",Un="RECENT_SEARCHES_REQUESTED",vn="RECENT_SEARCHES_FAILED",wn="RECENT_SEARCHES_SUCCEEDED",Gn="DELETE_RECENT_SEARCH_REQUESTED",kn="DELETE_RECENT_SEARCH_SUCCEEDED",Hn="DELETE_RECENT_SEARCH_FAILED",Bn="ATTACHMENT_PREVIEW_SWITCH_TO_FULL_SCREEN",xn="ATTACHMENT_OPENED",Vn="ATTACHMENT_ZOOMED",Wn="DOCUMENT_FETCH_SUCCEEDED",Zn="DOCUMENT_FETCH_FAILED",Kn="DOCUMENT_FETCH_REQUESTED",zn="SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED",qn="SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED",Yn="SETTINGS_MENU_REQUESTED",jn="SETTINGS_MENU_CLOSED",Qn="SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED",Xn="SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED",Jn="SETTINGS_SAVE_VACATION_PREFERENCES_FAILED",$n="SETTINGS_ADD_FILTER_REQUESTED",er="SETTINGS_SAVE_FILTERS_REQUESTED",tr="SETTINGS_SAVE_FILTERS_SUCCEEDED",sr="SETTINGS_SAVE_FILTERS_FAILED",ar="SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_SUCCEEDED",nr="SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_FAILED",rr="SETTINGS_LOCATION_CHANGE_REQUESTED",or="SETTINGS_LOCATION_CHANGE_SUCCEEDED",ir="SETTINGS_LOCATION_CHANGE_FAILED",lr="SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED",cr="SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED",dr="SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED",Er="SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED",_r="SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED",ur="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED",mr="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED",Sr="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED",pr="SETTINGS_BLOCKED_SENDERS_REQUESTED",Cr="SETTINGS_BLOCKED_SENDERS_RECEIVED",Ar="SETTINGS_BLOCKED_SENDERS_FETCH_FAILED",Tr="SETTINGS_SAVE_BLOCKED_SENDERS_REQUESTED",hr="SETTINGS_SAVE_BLOCKED_SENDERS_SUCCEEDED",gr="SETTINGS_SAVE_BLOCKED_SENDERS_FAILED",Ir="SETTINGS_CHANGE_REQUESTED",Rr="SETTINGS_CHANGE_SUCCEEDED",Or="SETTINGS_CHANGE_FAILED",Dr="AOL_SETTINGS_MIGRATION_INITIATED",Nr="AOL_SETTINGS_MIGRATION_SUCCEEDED",fr="AOL_SETTINGS_MIGRATION_FAILED",Mr="CONTACT_DETAIL_FETCH_REQUESTED",Lr="CONTACT_DETAIL_FETCH_SUCCEEDED",Pr="CONTACT_DETAIL_FETCH_FAILED",yr="IMPORTANT_CONTACTS_FETCH_SUCCEEDED",br="IMPORTANT_CONTACTS_FETCH_FAILED",Fr="NOTIFICATION_CLOSED",Ur="NOTIFICATION_PAUSED",vr="NOTIFICATION_RESUME",wr="SCOUT_TIMER",Gr="FEATURE_CUE_MARK_AS_SHOWN_REQUESTED",kr="FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED",Hr="FEATURE_CUE_MARK_AS_SHOWN_FAILED",Br="FEATURE_TRY_NOW_REQUESTED",xr="FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED",Vr="FEATURE_CUE_MARK_AS_SUCCESS_FAILED",Wr="FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED",Zr="FEATURE_CUE_MARK_AS_CLOSE_FAILED",Kr="FEATURE_CLOSED",zr="FEATURE_CUE_NOTIFICATION_CLOSED",qr="CARD_MARK_AS_SHOWN_REQUESTED",Yr="CARD_TRY_NOW_REQUESTED",jr="CARD_CLOSED",Qr="BROWSER_NOTIFICATIONS_DISPLAYED",Xr="BULK_PROGRESS_INITIATED",Jr="BULK_PROGRESS_RECEIVED",$r="BULK_CANCEL_REQUESTED",eo="BULK_CANCEL_FAILED",to="MESSAGE_PRINT_REQUESTED",so="MESSAGE_PRINT_SUCCEEDED",ao="MESSAGE_PRINT_CLOSED",no="MESSAGE_PRINT_CANCELED",ro="MESSAGE_PRINT_FAILED",oo="DOWNLOAD_REQUESTED",io="DOWNLOAD_COMPLETED",lo="DOWNLOAD_FAILED",co="OPT_OUT_OF_NORRIN",Eo="OPT_OUT_REQUESTED",_o="OPT_OUT_SUBMIT_FEEDBACK",uo="OPT_OUT_CANCEL_FEEDBACK",mo="DISABLED_FEATURE_BUTTON_HOVERED",So="DISABLED_FEATURE_CLOSE_BUTTON_CLICKED",po="ABOUT_YAHOO_MAIL_PAGE_REQUESTED",Co="ADFREE_MAIL_PAGE_REQUESTED",Ao="HELP_PAGE_REQUESTED",To="PRIVACY_TERMS_PAGE_REQUESTED",ho="ABOUT_OUR_ADS_PAGE_REQUESTED",go="FEEDBACK_SUBMITTED",Io="SETTINGS_POPOVER_AUTOOPEN_CHANGED",Ro="THEME_CHANGE_REQUESTED",Oo="THEME_CHANGE_SUCCEEDED",Do="THEME_CHANGE_FAILED",No="THEME_MODE_CHANGE_REQUESTED",fo="THEME_MODE_CHANGE_SUCCEEDED",Mo="THEME_MODE_CHANGE_FAILED",Lo="ACCOUNT_DETAILS_CHANGE_REQUESTED",Po="ACCOUNT_DETAILS_CHANGE_SUCCEEDED",yo="ACCOUNT_DETAILS_CHANGE_FAILED",bo="ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED",Fo="ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED",Uo="ACCOUNT_DELETE_REQUESTED",vo="ACCOUNT_DELETE_SUCCEEDED",wo="ACCOUNT_DELETE_FAILED",Go="ACCOUNT_ADD_REQUESTED",ko="ACCOUNT_ADD_SUCCEEDED",Ho="EMAIL_PROVIDER_SELECTED",Bo="ACCOUNT_ADD_FAILED",xo="ACCOUNT_ADD_FINISHED",Vo="ACCOUNT_ADD_ERROR",Wo="ACCOUNT_SETTINGS_CANCEL",Zo="ACCOUNT_ADD_WIZARD_OPENED",Ko="ACCOUNT_ADD_SELECT_PROVIDER",zo="ACCOUNT_DELETE_CONFIRMED",qo="ACCOUNT_ADD_AUTHORIZED",Yo="CONFIRM_EMAIL_RESEND_REQUESTED",jo="CONFIRM_EMAIL_RESEND_SUCCEEDED",Qo="CONFIRM_EMAIL_RESEND_FAILED",Xo="REVIEW_FORWARD_EMAIL",Jo="FETCH_PRIMARY_ACCOUNT",$o="ACCOUNT_REAUTH_REQUESTED",ei="ACCOUNT_REAUTH_SUCCEEDED",ti="ACCOUNT_REAUTH_FAILED",si="MESSAGE_CARD_EXPANSION_CHANGED",ai="V3_MESSAGE_CARD_EXPANSION_CHANGED",ni="MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED",ri="SOCIAL_ACCOUNTS_STATUS_RECEIVED",oi="SOCIAL_ACCOUNT_STATUS_FETCH_FAILED",ii="SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED",li="SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED",ci="SOCIAL_ACCOUNTS_DISCONNECT_FAILED",di="SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED",Ei="SOCIAL_ACCOUNTS_CONNECT_FAILED",_i="SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED",ui="SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED",mi="SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED",Si="SOCIAL_ACCOUNTS_IMPORT_FAILED",pi="SOCIAL_ACCOUNTS_CONNECT_REQUESTED",Ci="IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED",Ai="DISCONNECT_CONTACTS_PROVIDER_REQUESTED",Ti="CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED",hi="CONTACTS_PROVIDERS_STATUS_FETCH_FAILED",gi="DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED",Ii="DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED",Ri="DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED",Oi="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED",Di="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE",Ni="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_REQUESTED",fi="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_FAILED",Mi="ALIAS_EMAIL_CREATE_REQUESTED",Li="ALIAS_EMAIL_CREATE_SUCCEEDED",Pi="ALIAS_EMAIL_CREATE_FAILED",yi="UNSEEN_COUNT_RESET",bi="UNSUBSCRIBE_BY_EMAIL_REQUESTED",Fi="UNSUBSCRIBE_BY_EMAIL_SUCCEEDED",Ui="UNSUBSCRIBE_BY_EMAIL_FAILED",vi="UNSUBSCRIBE_BY_BRAND_REQUESTED",wi="UNSUBSCRIBE_BY_BRAND_SUCCEEDED",Gi="UNSUBSCRIBE_BY_BRAND_FAILED",ki="TUTORIAL_VIDEO_PLAYED",Hi="EXCEPTION_OCCURRED",Bi="MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED",xi="MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED",Vi="UNSUBSCRIBE_LIST_REQUEST_SUCCEEDED",Wi="UNSUBSCRIBE_LIST_REQUEST_FAILED",Zi="CHANNEL_CHANGED",Ki="VIDEO_PLAYER_OPENED",zi="VIDEO_PLAYER_CLOSED",qi="CHANNELS_FETCH_REQUESTED",Yi="VIDEO_CHANNELS_METADATA_RECEIVED",ji="VIDEO_CHANNELS_METADATA_FAILED",Qi="CHANNEL_FETCH_REQUESTED",Xi="VIDEO_CHANNEL_RECEIVED",Ji="VIDEO_CHANNEL_FAILED",$i="VIDEO_PLAYER_PLAYED",el="VIDEO_PLAYER_PAUSED",tl="EMPTY_FOLDER_VIDEO_FETCH_CHANNEL",sl="CONTACT_PICKER_OPENED",al="CONTACT_PICKER_GROUP_CHANGED",nl="CONTACT_SAVE_REQUESTED",rl="CONTACT_SAVE_SUCCEEDED",ol="CONTACT_SAVE_FAILED",il="CONTACT_PHOTO_UPLOAD_SUCCEEDED",ll="CONTACT_PHOTO_UPLOAD_FAILED",cl="CREATE_CONTACT_FAILED",dl="CREATE_CONTACT_SUCCEEDED",El="DELETE_CONTACT_REQUESTED",_l="DELETE_CONTACT_SUCCEEDED",ul="DELETE_CONTACT_FAILED",ml="ADD_TO_CONTACTS",Sl="EDIT_CONTACT_FROM_CARD",pl="MESSAGE_READ_AD_ROTATION_TIMER",Cl="EMOJI_PICKER_CLOSED",Al="EMOJI_PICKER_OPENED",Tl="EMOJI_CATEGORY_CHANGED",hl="CONTACT_DRAG_DROP",gl="LEGACY_WIDERMAIL_EXTN_DETECTED",Il="FEATURE_DISABLED",Rl="FEATURE_ENABLED",Ol="MAILBOX_NOT_SYNCING",Dl="GET_INVITE_INFO_REQUESTED",Nl="RESPOND_TO_INVITE",fl="RESPOND_TO_INVITE_SUCCEEDED",Ml="RESPOND_TO_INVITE_FAILED",Ll="RSVP_NAVIGATE_TO_CALENDAR",Pl="INVITEINFO_FETCH_SUCCEEDED",yl="INVITEINFO_FETCH_FAILED",bl="DRAWER_OPENED",Fl="DRAWER_CLOSED",Ul="CC_BCC_TOGGLED",vl="LIST_REFRESHED",wl="APP_INSTALL_CUE_CONTINUE",Gl="APP_INSTALL_CUE_INVOKED",kl="APP_BANNER_SHOWN",Hl="NAVIGATE_TO_MAIL_PRO",Bl="NAVIGATE_TO_WIDER_PROMO",xl="MAIL_PLUS_SETTINGS_BUTTON_CLICKED",Vl="MAIL_PLUS_FEATURE_REQUESTED",Wl="MAIL_PLUS_FREE_TRIAL_REQUESTED",Zl="STATIC_MAIL_PLUS_UPSELL_FETCH_SUCCEEDED",Kl="STATIC_MAIL_PLUS_UPSELL_FETCH_FAILED",zl="CLOSE_MAIL_PLUS_FEATURE_UPSELL",ql="DEAL_CARD_GROUP_SHOWN",Yl="TOGGLE_DEAL_RECOMMENDATION_PREVIEW",jl="SETTINGS_BLOCKED_DOMAINS_FETCHED",Ql="SETTINGS_BLOCKED_DOMAINS_FETCH_FAILED",Xl="SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED",Jl="SETTINGS_BLOCKED_DOMAIN_ADD_FAILED",$l="SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED",ec="SETTINGS_BLOCKED_DOMAIN_DELETE_FAILED",tc="SETTINGS_BLOCKED_DOMAIN_DELETE_REQUESTED",sc="SETTINGS_BLOCKED_DOMAIN_ADD_REQUESTED",ac="LOCATION_SUGGEST_REQUESTED",nc="LOCATION_SUGGEST_FAILED",rc="LOCATION_SUGGEST_SUCCEEDED",oc="NAVIGATE_TO_BOOKING",ic="BOOKING_CARD_RENDERED",lc="COUPONS_ADD_TAG_DECO_REQUESTED",cc="COUPONS_REMOVE_TAG_DECO_REQUESTED",dc="COUPONS_ADD_TAG_DECO_SUCCEEDED",Ec="COUPONS_REMOVE_TAG_DECO_SUCCEEDED",_c="COUPONS_ADD_TAG_DECO_FAILED",uc="COUPONS_REMOVE_TAG_DECO_FAILED",mc="PHISHING_BANNER_MOUNTED",Sc="PHISHING_REMOVE_BDM_DECO_REQUESTED",pc="PHISHING_REMOVE_BDM_DECO_SUCCEEDED",Cc="PHISHING_REMOVE_BDM_DECO_FAILED",Ac="REMOVE_SPAM_SCHEMA_REQUESTED",Tc="REMOVE_SPAM_SCHEMA_SUCCEEDED",hc="REMOVE_SPAM_SCHEMA_FAILED",gc="PARENT_MESSAGE_METADATA_REQUESTED",Ic="PARENT_MESSAGE_METADATA_SUCCEEDED",Rc="PARENT_MESSAGE_METADATA_FAILED",Oc="COUPON_RECOMMENDATIONS_OPENED",Dc="COUPON_RECOMMENDATIONS_CLOSED",Nc="COUPON_RECOMMENDATIONS_AD_CLICKED",fc="MORE_SMARTVIEW_COUPONS_REQUESTED",Mc="MORE_COUPONS_REQUESTED",Lc="MORE_COUPONS_REQUEST_FAILED",Pc="MORE_COUPONS_SUCCESS",yc="COUPONS_LIST_SUCCEEDED",bc="COUPONS_LIST_FAILED",Fc="DEALS_VIEW_EXPANSION_TOGGLED",Uc="EXTRACT_COUPON_REQUESTED",vc="EXTRACT_COUPON_SUCCEEDED",wc="EXTRACT_COUPON_FAILED",Gc="SELF_EXTRACT_COUPON_MODAL_OPENED",kc="SELF_EXTRACT_COUPON_MODAL_CLOSED",Hc="ACTIVATE_OFFER_FAILED",Bc="ACTIVATE_OFFER_REQUESTED",xc="ACTIVATE_OFFER_SUCCEEDED",Vc="ACTIVATED_OFFERS_LIST_FAILED",Wc="ACTIVATED_OFFERS_LIST_SUCCEEDED",Zc="DELETE_GROCERY_ITEMS_FAILED",Kc="DELETE_GROCERY_ITEMS_REQUESTED",zc="DELETE_GROCERY_ITEMS_SUCCEEDED",qc="LINK_MODAL_CLOSED",Yc="LINK_MODAL_OPENED",jc="LINK_RETAILER_FAILED",Qc="LINK_RETAILER_REQUESTED",Xc="LINK_RETAILER_SUCCEEDED",Jc="LINKED_CARD_CLICKED",$c="LINKED_CARD_SHOWN",ed="OFFERS_LIST_FAILED",td="OFFERS_LIST_SUCCEEDED",sd="PRINT_OFFERS_FAILED",ad="PRINT_OFFERS_REQUESTED",nd="PRINT_OFFERS_SUCCEEDED",rd="QUOTIENT_MODAL_SHOWN",od="GROCERY_SEARCH_ASSIST_FAILED",id="GROCERY_SEARCH_ASSIST_REQUESTED",ld="GROCERY_SEARCH_ASSIST_SUCCEEDED",cd="UNLINK_RETAILER_FAILED",dd="UNLINK_RETAILER_REQUESTED",Ed="UNLINK_RETAILER_SUCCEEDED",_d="CATEGORY_FOLLOW_REQUESTED",ud="CATEGORY_UNFOLLOW_REQUESTED",md="CATEGORY_FOLLOW_SUCCEEDED",Sd="CATEGORY_FOLLOW_FAILED",pd="CATEGORY_UNFOLLOW_SUCCEEDED",Cd="CATEGORY_UNFOLLOW_FAILED",Ad="CATEGORY_FOLLOW_FAILURE_RESET",Td="GET_RETAILER_LOCATIONS_REQUESTED",hd="GET_RETAILER_LOCATIONS_SUCCEEDED",gd="GET_RETAILER_LOCATIONS_FAILED",Id="UPDATE_PREFERRED_STORE_REQUESTED",Rd="UPDATE_PREFERRED_STORE_SUCCEEDED",Od="UPDATE_PREFERRED_STORE_FAILED",Dd="REFRESH_SHOPPING_LIST_REQUESTED",Nd="CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED",fd="CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED",Md="CHANGE_GROCERY_ITEMS_QUANTITY_FAILED",Ld="TOGGLE_GROCERY_CATEGORIES_EXPANSION",Pd="GROCERY_SUBCATEGORIES_FAILED",yd="GROCERY_SUBCATEGORIES_SUCCEEDED",bd="PREVIOUSLY_ADDED_GROCERY_ITEMS_FAILED",Fd="PREVIOUSLY_ADDED_GROCERY_ITEMS_SUCCEEDED",Ud="RELATED_GROCERY_ITEMS_FAILED",vd="RELATED_GROCERY_ITEMS_REQUESTED",wd="RELATED_GROCERY_ITEMS_SUCCEEDED",Gd="CATEGORY_ITEMS_REQUESTED",kd="AFFILIATE_OFFERS_FAILED",Hd="AFFILIATE_OFFERS_REQUESTED",Bd="AFFILIATE_OFFERS_SUCCEEDED",xd="STOREFRONT_MODULES_SUCCEEDED",Vd="STOREFRONT_MODULES_FAILED",Wd="STOREFRONT_DEALS_REQUESTED",Zd="STOREFRONT_DEALS_SUCCEEDED",Kd="STOREFRONT_DEALS_FAILED",zd="STOREFRONT_PRODUCTS_REQUESTED",qd="STOREFRONT_PRODUCTS_SUCCEEDED",Yd="STOREFRONT_PRODUCTS_FAILED",jd="RESET_STOREFRONT_NEW_DEAL_COUNT_REQUESTED",Qd="RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED",Xd="RESET_STOREFRONT_NEW_DEAL_COUNT_FAILED",Jd="STOREFRONT_EMAILS_MODULES_SUCCEEDED",$d="STOREFRONT_EMAILS_MODULES_FAILED",eE="STOREFRONT_RECEIPTS_MODULES_SUCCEEDED",tE="STOREFRONT_RECEIPTS_MODULES_FAILED",sE="STOREFRONT_BRAND_FOLLOW_REQUESTED",aE="STOREFRONT_BRAND_FOLLOW_SUCCEEDED",nE="STOREFRONT_BRAND_FOLLOW_FAILED",rE="STOREFRONT_BRAND_UNFOLLOW_REQUESTED",oE="STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED",iE="STOREFRONT_BRAND_UNFOLLOW_FAILED",lE="INBOX_COMMERCE_FEATURE_CLICKED",cE="ASTRA_BATCH_API_FAILED",dE="ASTRA_BATCH_API_SUCCEEDED",EE="ADBLOCK_UPSELL_EXTENSION_INSTALL_SUCCEEDED",_E="ADBLOCK_UPSELL_EXTENSION_INSTALL_FAILED",uE="ADBLOCK_UPSELL_OPTION_CLICKED",mE="ADBLOCK_DETECTED",SE="ADBLOCK_BEACON_FAILED",pE="ABP_DETECTED",CE="SUBSCRIPTION_LIST_FETCH_SUCCEEDED",AE="SUBSCRIPTION_LIST_FETCH_FAILED",TE="SUBSCRIPTION_LIST_FILTER_CHANGED",hE="SUBSCRIPTION_LIST_SORT_ORDER_CHANGED",gE="SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED",IE="SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED",RE="SHOW_MOBILE_ONBOARDING_CUE",OE="USER_DWELLED_ON_CONTENT",DE="USER_NAVIGATED_ONBOARDING",NE="RIGHT_RAIL_COMMS_ICON_CLICKED",fE="CONTACTS_PANE_LIST_FILTER_CHANGED",ME="CONTACTS_LIST_FETCH_SUCCEEDED",LE="CONTACTS_LIST_FETCH_FAILED",PE="CONTACTS_GROUP_FETCH_SUCCEEDED",yE="CONTACTS_GROUP_FETCH_FAILED",bE="CATEGORY_LIST_EXPANSION_TOGGLED",FE="CONTACTS_PANE_CONTACT_CLICKED",UE="CONTACTS_PANE_BACK_BUTTON_CLICKED",vE="CONTACTS_PANE_EDIT_BUTTON_CLICKED",wE="CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED",GE="CONTACT_EDIT_CANCELLED",kE="CONTACTS_PANE_SEARCHED",HE="CONTACT_CREATE_CLICKED",BE="CONTACT_SEARCH_CLOSED",xE="CONTACTS_SORT_ORDER_CHANGED",VE="CONTACTS_CATEGORY_FILTER_CHANGED",WE="CONTACTS_RESTORE_CLICKED",ZE="CONTACTS_PANE_CREATE_GROUP_REQUESTED",KE="CONTACTS_PANE_SAVE_GROUP_REQUESTED",zE="CONTACTS_PANE_SAVE_GROUP_SUCCEEDED",qE="CONTACTS_PANE_SAVE_GROUP_FAILED",YE="CONTACTS_PANE_CREATE_GROUP_SUCCEEDED",jE="CONTACTS_PANE_CREATE_GROUP_FAILED",QE="CONTACTS_PANE_GROUP_CHANGED",XE="CONTACTS_PANE_EDIT_GROUP",JE="CONTACTS_GROUP_DELETE_REQUESTED",$E="CONTACTS_GROUP_EDIT_EMAIL_SEARCH",e_="CONTACTS_GROUP_DELETE_SUCCEEDED",t_="CONTACTS_GROUP_DELETE_FAILED",s_="EXPORT_ALL_CONTACTS_REQUESTED",a_="PRINT_ALL_CONTACTS_REQUESTED",n_="FETCH_ALL_CONTACTS_SUCCESS",r_="FETCH_ALL_CONTACTS_FAILED",o_="CONTACTS_SNAPSHOT_FETCH_SUCCEEDED",i_="CONTACTS_SNAPSHOT_FETCH_FAILED",l_="CONTACTS_RESTORE_REQUESTED",c_="CONTACTS_RESTORE_SUCCEEDED",d_="CONTACTS_RESTORE_FAILED",E_="CONTACTS_CSV_IMPORT_REQUESTED",__="CONTACTS_CSV_IMPORT_SUCCEEDED",u_="CONTACTS_CSV_IMPORT_FAILED",m_="CONTACTS_CSV_IMPORT_SIZE_FAILED",S_="RELATED_SEARCHES_FETCH_SUCCEEDED",p_="RELATED_SEARCHES_FETCH_FAILED",C_="RELATED_SEARCHES_CARD_CLICKED",A_="SHOW_PUSH_NOTIFICATIONS_CUE",T_="PUSH_NOTIFICATIONS_REQUEST_GRANTED",h_="VIGLINK_CLICKED",g_="UNUSUAL_DISCOUNT_VIGLINK_CLICKED",I_="PERMANENT_DELETE_CANCELLED",R_="VIEW_RAW_MESSAGE",O_="FETCH_RAW_MESSAGE",D_="FETCH_RAW_MESSAGE_SUCCEEDED",N_="FETCH_RAW_MESSAGE_FAILED",f_="SPONSORED_MOMENT_CLICKED",M_="SPONSORED_MOMENT_CLOSED",L_="COUPONS_SEARCH_TOP_DEAL_CLICKED",P_="TOGGLE_DETAIL_PANE_EXPANSION",y_="AD_FORMAT_SELECTION_CLOSED",b_="UPDATE_AD_FORMAT_SELECTION_CLICKED",F_="POST_LAUNCH_SYNC_SUCCEEDED",U_="POST_LAUNCH_SYNC_FAILED",v_="POST_LAUNCH_ATTRIBUTES_RECEIVED",w_="COMPOSE_ATTRIBUTES_REQUESTED",G_="COMPOSE_ATTRIBUTES_RECEIVED",k_="COMPOSE_ATTRIBUTES_FETCH_FAILED",H_="TOP_RETAILERS_REQUEST_SUCCEEDED",B_="TOP_RETAILERS_REQUEST_FAILED",x_="TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED",V_="TOP_DEAL_CATEGORIES_REQUEST_FAILED",W_="USER_NAME_PHONE_REG_UPSELL_LOADED",Z_="USER_NAME_PHONE_REG_CANCEL_AUTH",K_="RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED",z_="RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED",q_="RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED",Y_="TOM_UPSELL_CLICKED",j_="TOM_UPSELL_SHOWN",Q_="LASTPASS_FREETRIAL_UPSELL_SHOWN",X_="SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED",J_="MEMBERSHIP_REWARDS_LAUNCH_SUCCESS",$_="MEMBERSHIP_REWARDS_LAUNCH_FAILED",eu="TMR_NAVIGATE_TO_ATOS",tu="TMR_REGISTER_ACTION_SUCCESS",su="TMR_REGISTER_ACTION_FAILED",au="TMR_TAB_CHANGE",nu="TMR_SPIN_COMPLETED",ru="TMR_NAVIGATE_TO_URL",ou="TMR_POINT_ICON_CLICK",iu="UNSUBSCRIBE_MARKETING_PREFERENCES",lu="MARKETING_PREFERENCES_WRITE_SUCCEEDED",cu="MARKETING_PREFERENCES_WRITE_FAILED",du="SUBSCRIBE_MARKETING_PREFERENCES",Eu="DISPATCHER_UPSELL_FETCH_SUCCEEDED",_u="DISPATCHER_UPSELL_FETCH_FAILED",uu="TOUCHPOINT_UPSELL_FETCH_SUCCEEDED",mu="TOUCHPOINT_UPSELL_FETCH_FAILED",Su="RIGHT_RAIL_ADBLOCK_UPSELL_FETCH_SUCCEEDED",pu="RIGHT_RAIL_ADBLOCK_UPSELL_FETCH_FAILED",Cu="PURCHASE_MAILPRO_FREE_TRIAL",Au="PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS",Tu="PURCHASE_MAILPRO_FREE_TRIAL_FAILED",hu="LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS",gu="LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED",Iu="ADD_COMPOSE_HEADER",Ru="DELETE_COMPOSE_HEADER",Ou="UPDATE_COMPOSE_HEADER_FOCUS",Du="FORWARD_ATTACHMENTS",Nu="CLEAR_FORWARDED_ATTACHMENT_IDS",fu="FORCE_OPTIN_DONE",Mu="SHOPPING_CART_AD_CLICKED",Lu="DEALS_SHOPPING_CART_AD_CLICKED",Pu="PAC_CUE_MARK_AS_SHOWN_REQUESTED",yu="BREAKING_NEWS_SUCCESS",bu="BREAKING_NEWS_FAILED",Fu="BREAKING_NEWS_DISMISSED",Uu="BREAKING_NEWS_REFRESH",vu="BREAKING_NEWS_CLICKED",wu="BREAKING_NEWS_RENDERED",Gu="SENDER_ROLLUP_SUCCEEDED",ku="MORE_SENDER_ROLLUP_REQUESTED",Hu="MORE_SENDER_ROLLUP_SUCCEEDED",Bu="MORE_SENDER_ROLLUP_FAILED",xu="SENDER_ROLLUP_FAILED",Vu="NEED_TO_KNOW_NEWS_SUCCEEDED",Wu="NEED_TO_KNOW_NEWS_FAILED",Zu="NEED_TO_KNOW_NEWS_CUE_CLICKED",Ku="CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED",zu="CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED",qu="CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED",Yu="CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED",ju="CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED",Qu="CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED",Xu="CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED",Ju="CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED",$u="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED",em="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED",tm="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED",sm="CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED",am="CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED",nm="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED",rm="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED",om="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED",im="CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_DIALOG_CLICKED",lm="ATTACH_FILES_MENU_ITEM_CLICKED",cm="CLOUD_STORAGE_ITEM_LINK_ADDED",dm="CLOUD_STORAGE_ITEM_PREVIEW_CLICKED",Em="CLOUD_STORAGE_ITEM_PERMISSION_UPDATED",_m="FALCON_TOM_SUBSCRIPTIONS_FETCH_REQUESTED",um="FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED",mm="FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED",Sm="RELATED_CARDS_FETCH_SUCCEEDED",pm="RELATED_CARDS_FETCH_FAILED",Cm="TASTEMAKER_CONSUME_SUCCEEDED",Am="TASTEMAKER_CONSUME_FAILED",Tm="TASTEMAKER_DELETE_SUCCEEDED",hm="TASTEMAKER_DELETE_FAILED",gm="TOGGLE_ADVANCED_SEARCH_PANE"},9026:(e,t,s)=>{"use strict";s.d(t,{tK:()=>S,Kz:()=>p,b3:()=>A,v1:()=>T,P4:()=>h,HM:()=>g,zg:()=>o.zgU,s8:()=>I,Lv:()=>R,L_:()=>O,$o:()=>D,cN:()=>N,OW:()=>f});var a=s(10728),n=s(95406),r=s(90775),o=s(37422);const i=a.E6z.vzm_turmeric,l=a.E6z.vzm_turmeric,c=a.E6z.vzm_inkwell,d=a.E6z.vzm_pebble,E={NIGHT_LANDSCAPE:{IMAGE:"/img/night_landscape.jpg",BG_BACKGROUND_COLOR:"#1d1f39",BACKGROUND_COLOR:"#1d1f39",BACKGROUND_SIZE:"100% auto",BACKGROUND_REPEAT:"no-repeat",MAX_BACKGROUND_SIZE:"100% auto",GRADIENT_COLOR_1:"#8DA4EC",GRADIENT_COLOR_2:"#8DA4EC",GRADIENT_COLOR_3:"#8DA4EC",HIGHLIGHT:"#8DA4EC",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#8DA4EC",SEGMENT_BORDER_COLOR:(0,r.m)("#8DA4EC",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#8DA4EC",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#8DA4EC",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#8DA4EC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#8DA4EC",.16),FOLDER_ACTIVED_BORDER:"2px solid #8DA4EC",ITEM_SELECTED_BGCOLOR:(0,r.m)("#8DA4EC",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#8DA4EC",.16),OPACITY_MASK_COLOR:"#111222",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#111222",.3),CLIP_BUTTON_COLOR:"#8DA4EC"},ROADTRIP:{IMAGE:"/img/roadtrip.jpg",BACKGROUND_REPEAT_IMAGE:"/img/roadtrip_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"349px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#be8f85",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#d9aa76",GRADIENT_COLOR_2:"#d9aa76",GRADIENT_COLOR_3:"#d9aa76",HIGHLIGHT:"#d9aa76",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#d9aa76",SEGMENT_BORDER_COLOR:(0,r.m)("#d9aa76",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#d9aa76",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#d9aa76",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#d9aa76",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#d9aa76",.16),FOLDER_ACTIVED_BORDER:"2px solid #d9aa76",ITEM_SELECTED_BGCOLOR:(0,r.m)("#d9aa76",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#d9aa76",.16),OPACITY_MASK_COLOR:a.FPr,PREVIEWR_TOOLBAR_COLOR:(0,r.m)(a.FPr,.3),CLIP_BUTTON_COLOR:"#d9aa76"},SUNSET_AUSSIE:{IMAGE:"/img/sunset_aussie.jpg",BACKGROUND_REPEAT_IMAGE:"/img/sunset_aussie_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#5B3B3E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#ef8f4e",GRADIENT_COLOR_2:"#ef8f4e",GRADIENT_COLOR_3:"#ef8f4e",HIGHLIGHT:"#ef8f4e",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:(0,r.m)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#ef8f4e",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:(0,r.m)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#ef8f4e",.16),OPACITY_MASK_COLOR:"#352431",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#352431",.3),CLIP_BUTTON_COLOR:"#ef8f4e"},LIGHTHOUSE:{IMAGE:"/img/lighthouse.jpg",BACKGROUND_REPEAT_IMAGE:"/img/lighthouse_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"263.5px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#03383E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#85CBAC",GRADIENT_COLOR_2:"#85CBAC",GRADIENT_COLOR_3:"#85CBAC",HIGHLIGHT:"#85CBAC",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#85CBAC",SEGMENT_BORDER_COLOR:(0,r.m)("#85CBAC",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#85CBAC",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#85CBAC",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#85CBAC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#85CBAC",.16),FOLDER_ACTIVED_BORDER:"2px solid #85CBAC",ITEM_SELECTED_BGCOLOR:(0,r.m)("#85CBAC",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#85CBAC",.16),OPACITY_MASK_COLOR:"#072328",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#072328",.3),CLIP_BUTTON_COLOR:"#85CBAC"}},_={DEFAULT:{BROWSER_URLBAR_COLOR:a.E6z.vzm_white,GRADIENT_COLOR_1:a.m1H,GRADIENT_COLOR_2:a.m1H,GRADIENT_COLOR_3:a.twz,HIGHLIGHT:"#4faaff",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:a.HOW,SEGMENT_BORDER_COLOR:(0,r.m)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#4faaff",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#4faaff",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)(a.HOW,.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)(a.HOW,.16),FOLDER_ACTIVED_BORDER:`2px solid ${a.HOW}`,ITEM_SELECTED_BGCOLOR:(0,r.m)(a.E6z.vzm_smurfette,.32),ITEM_HOVERED_BGCOLOR:(0,r.m)(a.E6z.vzm_smurfette,.16),PREVIEWR_TOOLBAR_COLOR:a.twz,CLIP_BUTTON_COLOR:a.HOW},SUNRISE:{BROWSER_URLBAR_COLOR:"#e07400",GRADIENT_COLOR_1:"#f3b049",GRADIENT_COLOR_2:"#ea7d56",GRADIENT_COLOR_3:"#d4207d",HIGHLIGHT:"#ef8f4e",BOLD_OUTLINE_COLOR:a.E6z.vzm_turmeric,BOLD_OUTLINE_COLOR_DARK:a.E6z.vzm_mimosa,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:(0,r.m)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#ef8f4e",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:(0,r.m)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#ef8f4e",.16),PREVIEWR_TOOLBAR_COLOR:"#d4207d",CLIP_BUTTON_COLOR:"#ef8f4e"},AQUA_GREEN:{BROWSER_URLBAR_COLOR:a.E6z.vzm_spirulina,GRADIENT_COLOR_1:"#a0b952",GRADIENT_COLOR_2:"#4fa46d",GRADIENT_COLOR_3:a.E6z.vzm_spirulina,HIGHLIGHT:"#7aaf60",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#7aaf60",SEGMENT_BORDER_COLOR:(0,r.m)("#7aaf60",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#7aaf60",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#7aaf60",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#7aaf60",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#7aaf60",.16),FOLDER_ACTIVED_BORDER:"2px solid #7aaf60",ITEM_SELECTED_BGCOLOR:(0,r.m)("#7aaf60",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#7aaf60",.16),PREVIEWR_TOOLBAR_COLOR:a.E6z.vzm_spirulina,CLIP_BUTTON_COLOR:"#7aaf60"},AQUA_BLUE:{BROWSER_URLBAR_COLOR:"#0034a3",GRADIENT_COLOR_1:"#26b0b1",GRADIENT_COLOR_2:"#1373aa",GRADIENT_COLOR_3:"#0034a3",HIGHLIGHT:"#1d92ae",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#1d92ae",SEGMENT_BORDER_COLOR:(0,r.m)("#1d92ae",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#1d92ae",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#1d92ae",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#1d92ae",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#1d92ae",.16),FOLDER_ACTIVED_BORDER:"2px solid #1d92ae",ITEM_SELECTED_BGCOLOR:(0,r.m)("#1d92ae",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#1d92ae",.16),PREVIEWR_TOOLBAR_COLOR:"#0034a3",CLIP_BUTTON_COLOR:"#1d92ae"},DEEP_PURPLE:{BROWSER_URLBAR_COLOR:"#200f35",GRADIENT_COLOR_1:"#8d7da2",GRADIENT_COLOR_2:"#59496e",GRADIENT_COLOR_3:"#200f35",HIGHLIGHT:"#b08ae4",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#b08ae4",SEGMENT_BORDER_COLOR:(0,r.m)("#b08ae4",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#b08ae4",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#b08ae4",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#b08ae4",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#b08ae4",.16),FOLDER_ACTIVED_BORDER:"2px solid #b08ae4",ITEM_SELECTED_BGCOLOR:(0,r.m)("#b08ae4",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#b08ae4",.16),PREVIEWR_TOOLBAR_COLOR:"#200f35",CLIP_BUTTON_COLOR:"#b08ae4"},BLUE_NIGHT:{BROWSER_URLBAR_COLOR:"#1c3e5c",GRADIENT_COLOR_1:"#1c3e5c",GRADIENT_COLOR_2:"#1c3e5c",GRADIENT_COLOR_3:"#1c3e5c",HIGHLIGHT:"#4faaff",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#4faaff",SEGMENT_BORDER_COLOR:(0,r.m)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#4faaff",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#4faaff",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#4faaff",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#4faaff",.16),FOLDER_ACTIVED_BORDER:"2px solid #4faaff",ITEM_SELECTED_BGCOLOR:(0,r.m)("#4faaff",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#4faaff",.16),PREVIEWR_TOOLBAR_COLOR:"#0e283e",CLIP_BUTTON_COLOR:"#4faaff"},DARK_GREY:{BROWSER_URLBAR_COLOR:"#373A43",GRADIENT_COLOR_1:"#5C6070",GRADIENT_COLOR_2:"#5C6070",GRADIENT_COLOR_3:"#373A43",HIGHLIGHT:"#FFFFFF",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#5C6070",SEGMENT_BORDER_COLOR:(0,r.m)("#5C6070",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#5C6070",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#5C6070",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#5C6070",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#5C6070",.16),FOLDER_ACTIVED_BORDER:"2px solid #5C6070",ITEM_SELECTED_BGCOLOR:(0,r.m)("#5C6070",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#5C6070",.16),PREVIEWR_TOOLBAR_COLOR:"#2d2d2d",CLIP_BUTTON_COLOR:"#5C6070"}};let u={DEFAULT:{..._.DARK_GREY,GRADIENT_COLOR_1:(0,r.m)("#FFFFFF",.5),GRADIENT_COLOR_2:(0,r.m)("#FFFFFF",.5),GRADIENT_COLOR_3:(0,r.m)("#FFFFFF",.3),SIDEBAR_COLOR:"#333",BACKGROUND_COLOR:"#000"}};u=Object.keys(u).reduce((function(e,t){return e[`${o.Bs7.AOL}_${t}`]=u[t],e}),{});const m={AOL:{BROWSER_URLBAR_COLOR:"#0096ef",GRADIENT_COLOR_1:"#0096ef",GRADIENT_COLOR_2:"#0096ef",GRADIENT_COLOR_3:"#0096ef",HIGHLIGHT:"#ffffff",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#e81d82",COMPOSE_BUTTON_COLOR_PARTNER_DARK:"#e81d82",SEGMENT_BORDER_COLOR:(0,r.m)("#e81d82",.64),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#e81d82",.16),SEGMENT_HOVER_COLOR:(0,r.m)("#e81d82",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#e81d82",.16),FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#12a9ff",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#e81d82",.08),FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#12a9ff",.16),FOLDER_ACTIVED_BORDER:"2px solid #e81d82",FOLDER_ACTIVED_BORDER_PARTNER_DARK:"2px solid #fff",ITEM_SELECTED_BGCOLOR:(0,r.m)("#188fff",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#188fff",.16),PREVIEWR_TOOLBAR_COLOR:"#027fc9",CLIP_BUTTON_COLOR:a.HOW}},S={ATT:{BROWSER_URLBAR_COLOR:"#009fdb",GRADIENT_COLOR_1:"#009fdb",GRADIENT_COLOR_2:"#009fdb",GRADIENT_COLOR_3:"#009fdb",HIGHLIGHT:"#FFFFFF",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#009fdb",COMPOSE_BUTTON_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:(0,r.m)("#009fdb",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#009fdb",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#009fdb",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#009fdb",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#009fdb",.16),FOLDER_ACTIVED_BORDER:"2px solid #009fdb",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${(0,r.m)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:(0,r.m)("#009fdb",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#009fdb",.16),PREVIEWR_TOOLBAR_COLOR:"#0083b4",CLIP_BUTTON_COLOR:"#009fdb"},FRONTIER:{BROWSER_URLBAR_COLOR:"#931F27",GRADIENT_COLOR_1:"#BD2832",GRADIENT_COLOR_2:"#BD2832",GRADIENT_COLOR_3:"#931F27",HIGHLIGHT:"#FFFFFF",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#BD2832",COMPOSE_BUTTON_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:(0,r.m)("#BD2832",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#BD2832",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#BD2832",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#BD2832",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#BD2832",.16),FOLDER_ACTIVED_BORDER:"2px solid #BD2832",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${(0,r.m)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:(0,r.m)("#BD2832",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#BD2832",.16),PREVIEWR_TOOLBAR_COLOR:"#76171d",CLIP_BUTTON_COLOR:"#BD2832"},ROGERS:{..._.DARK_GREY,BROWSER_URLBAR_COLOR:"#373A43",COMPOSE_BUTTON_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.32),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${(0,r.m)("#FFFFFF",.32)}`},BT:{BROWSER_URLBAR_COLOR:"#6400AA",GRADIENT_COLOR_1:"#6400AA",GRADIENT_COLOR_2:"#6400AA",GRADIENT_COLOR_3:"#6400AA",HIGHLIGHT:"#FFFFFF",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#6400AA",COMPOSE_BUTTON_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:(0,r.m)("#6400AA",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#6400AA",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#6400AA",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#6400AA",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#6400AA",.16),FOLDER_ACTIVED_BORDER:"2px solid #6400AA",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${(0,r.m)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:(0,r.m)("#6400AA",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#6400AA",.16),PREVIEWR_TOOLBAR_COLOR:"#420070",CLIP_BUTTON_COLOR:"#6400AA"},SKY:{BROWSER_URLBAR_COLOR:"#0051B7",GRADIENT_COLOR_1:"#0051B7",GRADIENT_COLOR_2:"#0051B7",GRADIENT_COLOR_3:"#0051B7",HIGHLIGHT:"#FFFFFF",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#0051B7",COMPOSE_BUTTON_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:(0,r.m)("#0051B7",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#0051B7",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#0051B7",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#0051B7",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#0051B7",.16),FOLDER_ACTIVED_BORDER:"2px solid #0051B7",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${(0,r.m)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:(0,r.m)("#0051B7",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#0051B7",.16),PREVIEWR_TOOLBAR_COLOR:"#033370",CLIP_BUTTON_COLOR:"#0051B7"},...m},p={...S,..._,...E},C={..._,...S,...u,DEFAULT:{..._.DEFAULT,BROWSER_URLBAR_COLOR:"#755BF9",GRADIENT_COLOR_1:"#7282fb",GRADIENT_COLOR_2:"#755BF9",GRADIENT_COLOR_3:"#7934f7"},PURPLE:{..._.DEFAULT,BROWSER_URLBAR_COLOR:"#755BF9",GRADIENT_COLOR_1:"#7282fb",GRADIENT_COLOR_2:"#755BF9",GRADIENT_COLOR_3:"#7934f7"}},A=(0,n.gP)(p),T=((0,n.gP)(C),(0,n.gP)(E)),h=(0,n.gP)(S),g=(0,n.gP)(u),I={[o.zgU.LIGHT]:{PRIMARY_BLUE:a.Ejy,LIST_ITEM_SEPARATOR_COLOR:a.E6z.vzm_dirty_seagull,HOVER_BLUE:a.E6z.vzm_dory,SUBSCRIPTION_BUTTON:a.E6z.ycolorGrayI},[o.zgU.MEDIUM]:{PRIMARY_BLUE:a.Ejy,LIST_ITEM_SEPARATOR_COLOR:a.E6z.vzm_dirty_seagull,HOVER_BLUE:a.E6z.vzm_dory,SUBSCRIPTION_BUTTON:a.E6z.ycolorGrayI},[o.zgU.DARK]:{PRIMARY_BLUE:a.CHL,LIST_ITEM_SEPARATOR_COLOR:"rgba(255, 255, 255, 0.1)",HOVER_BLUE:a.CHL,SUBSCRIPTION_BUTTON:"rgba(0, 0, 0, 0.25)"}},R=(o.zgU.LIGHT,a.Ejy,a.E6z.vzm_dory,a.E6z.vzm_inkwell,a.E6z.ycolorGrayI,o.zgU.DARK,a.CHL,a.CHL,a.E6z.vzm_charcoal,a.E6z.vzm_batcave,(e,t)=>{const s=e||A.DEFAULT;return s.IMAGE?`url(${t(s.IMAGE)})`:`linear-gradient(45deg,\n        ${s.GRADIENT_COLOR_1},\n        ${s.GRADIENT_COLOR_2},\n        ${s.GRADIENT_COLOR_3})`}),O=e=>!!T[e],D=({context:e,includeMedium:t=!1})=>{const s=e.getThemeMode();return t&&s===o.zgU.MEDIUM||s===o.zgU.DARK},N=e=>!!h[e],f=(e,t=!1)=>{const s=D({context:e,includeMedium:t}),a=O(e.getTheme());return{darkModeNonPhotoTheme:!a&&s,["darkModePhotoTheme_"+e.getTheme()]:a&&s}}},62631:(e,t,s)=>{"use strict";s.d(t,{k8:()=>r,Xx:()=>o,hS:()=>c,VH:()=>d,tO:()=>E,Nu:()=>_,zJ:()=>u,hE:()=>m,Ws:()=>S,_K:()=>p,Cs:()=>C});var a=s(37422),n=s(17016);function r(e,t){if(t.isPrimary!==e.isPrimary)return t.isPrimary-e.isPrimary;if(t.type===a.tO8.DEA&&e.type!==a.tO8.DEA)return-1;if(t.type===a.tO8.DEA&&e.type===a.tO8.DEA){const s=e.email.toLowerCase()||"",a=t.email.toLowerCase()||"";return s.localeCompare(a)}return t.type!==a.tO8.DEA&&e.type===a.tO8.DEA?1:e.id-t.id}function o(e,t){return e.status!==t.status?e.status===a.dpb.ENABLED?-1:1:0}function i(e){if(!e)return!1;if(a.gaM[e])return!0;const t=e.indexOf(".");return!(t<0)&&i(e.substr(t+1))}function l(e){const[t,s]=e.toLowerCase().split("@");let n=t;if(i(s))n=e;else{if(!function(e){if(!e)return!1;const t=e.split(".");return!(t[0]!==a.zoT.YAHOO||t.length>3||(t.length>2&&a.LDx[t[2]]?!a.d1h[t[1]]:2!==t.length||!a.d1h[t[1]]&&!a.LDx[t[1]]))}(s))return!1;"yahoo.cn"===s&&(n=e)}return!(n.length<4||n.length>32)&&!!n}function c({domainCheck:e},t){let s=!1;if(e&&e.length>0){const a="(@"+e.join(".com$|@")+".com$)";if(s=new RegExp(a,"i").test(t),!s){const a="(@"+e.join("|@")+")\\.";s=new RegExp(a,"i").test(t)}}return s}function d(e){return e&&e.email?E(e.email)||function(e){return Object.keys(a.wxL||{}).find((t=>!!e.serverUri&&e.serverUri.indexOf(a.wxL[t].serverUri)>-1))}(e):null}function E(e){if(!e)return null;let t=function(e){if(!e)return null;return(0,n.getCorpMailEmailProvider)(e)||(l(e)?a.zoT.YAHOO:null)}(e);return t||(t=a.iZF.find((t=>c({domainCheck:a.wxL[t].domainHints||a.wxL[t].domainCheck},e)))),t}function _(e){const t=[a.tO8.SENDAS,a.tO8.POPIN,a.tO8.IMAPIN,a.tO8.EXCHANGEIN,a.tO8.BIZMAIL];return e.filter((e=>{const{isPrimary:s,type:n,accountVerified:r,status:o}=e;return s||n===a.tO8.ALIAS||n===a.tO8.DEA||"ENABLED"===o&&r&&t.indexOf(n)>-1}))}function u(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function m({status:e,type:t,createTime:s,syncTime:n=20}={}){const r=Date.now(),o=t===a.tO8.EXCHANGEIN?10:n;return!!(e===a.dpb.ENABLED&&C({type:t})&&r/1e3-s<60*o)}function S(e,t){return void 0!==e.find((e=>e.type!==a.tO8.POPIN&&e.email===t))}function p({email:e,provider:t,type:s,sendingName:n="",description:r="",wssid:o="",crumb:i="",linkedAccounts:l}){let c={email:e,type:s,sendingName:n,description:r};const d={};if(o&&(d.wssid=o),i&&(d.crumb=i),C(c)){const s=e,{serverUri:n}=a.wxL[t];c={...c,serverUri:n,status:"ENABLED",authType:"OAUTH2",email:s,replyToAddress:s}}else s===a.tO8.SENDAS&&l.length>0&&Object.assign(c,{linkedAccounts:l});return{newAccount:c,config:d}}function C({type:e}){return-1!==[a.tO8.IMAPIN,a.tO8.EXCHANGEIN].indexOf(e)}},92803:(e,t,s)=>{"use strict";let a;s.d(t,{FC:()=>n,SU:()=>r});const n=e=>{a=e},r=()=>a},45481:(e,t,s)=>{"use strict";s.d(t,{TE:()=>m,$U:()=>S,Fg:()=>p,sx:()=>C,gM:()=>A,k_:()=>T,s_:()=>h,$y:()=>g,Xd:()=>I});var a=s(17673),n=s(37422),r=s(92559),o=s(50566),i=s(95406),l=s(10964);const c=["amazon.com","ebay.com"],d="&rnd=${rand}&cg=0&si=${curPage}&rp=${prevPage}&cc=1",E=`https://secure-nz.imrworldwide.com/cgi-bin/m?ci=nz-yahoo${d}`,_=`https://secure-au.imrworldwide.com/cgi-bin/m?ci=yahoo-au${d}`,u=["atwMN","atwKV","atwCrPr"];n.$iD.AD_MARKETPLACE,n.Tzw.YAHOO,n.$iD.AD_MARKETPLACE,n.Tzw.YAHOO,n.$iD.AD_MARKETPLACE,n.Ql2.ATT,n.$iD.AD_MARKETPLACE,n.Ql2.ATT,n.$iD.COMMISSION_JUNCTION,n.Tzw.YAHOO,n.$iD.COMMISSION_JUNCTION,n.Tzw.YAHOO,n.$iD.COMMISSION_JUNCTION,n.Ql2.ATT,n.$iD.COMMISSION_JUNCTION,n.Ql2.ATT,n.$iD.IMPACT_RADIUS,n.Tzw.YAHOO,n.$iD.IMPACT_RADIUS,n.Tzw.YAHOO,n.$iD.IMPACT_RADIUS,n.Ql2.ATT,n.$iD.IMPACT_RADIUS,n.Ql2.ATT,n.$iD.AWIN,n.Tzw.YAHOO,n.$iD.AWIN,n.Tzw.YAHOO,n.$iD.AWIN,n.Ql2.ATT,n.$iD.AWIN,n.Ql2.ATT,n.$iD.PRICE_GRABBER,n.Tzw.YAHOO,n.$iD.PRICE_GRABBER,n.Tzw.YAHOO,n.$iD.PRICE_GRABBER,n.Ql2.ATT,n.$iD.PRICE_GRABBER,n.Ql2.ATT,n.$iD.SKIM_LINK,n.Tzw.YAHOO,n.$iD.SKIM_LINK,n.Tzw.YAHOO,n.$iD.SKIM_LINK,n.Ql2.ATT,n.$iD.SKIM_LINK,n.Ql2.ATT,n.$iD.VIG_LINK,n.Tzw.YAHOO,n.t6W,n.$iD.VIG_LINK,n.Tzw.YAHOO,n.VhW,n.$iD.VIG_LINK,n.Ql2.ATT,n.OZb,n.$iD.VIG_LINK,n.Ql2.ATT,n.ELI;function m(e,t){switch(t){case n.n8z.FOLDER:return e.launchFolder;case n.n8z.NEW_DRAFT:case n.n8z.EDIT_DRAFT:return e.launchCompose;case n.n8z.MESSAGE_FROM_FOLDER_LIST:return e.launchMessage;default:return e.root}}const S=(e="")=>{const{domainPart:t}=(0,l.Cz)(e),s=[],a=t.split(".");for(;a.length>1;)s.push(a.join(".")),a.shift();return s},p=(e,t,s,a)=>{if(!e)return-1!==s.indexOf(n.$iD.VIG_LINK)?{affiliatePartnerName:n.$iD.VIG_LINK,domain:""}:{};let r,o=(0,l.Cz)(t).domainPart,i=!1;const d=o.split(".");for(let n=d.length-2;n>=0;n--){var E;if("co"!==d[n]&&"com"!==d[n]&&(o=d[n]+".com",null!=e&&null!==(E=e.affiliateDomains)&&void 0!==E&&E[o])){r=e.affiliateDomains[o],i=-1!==c.indexOf(o);break}}return-1!==s.indexOf(n.$iD.AWIN)&&6===r?{affiliatePartnerName:n.$iD.AWIN,domain:o,isMonetizable:!0}:-1!==s.indexOf(n.$iD.PRICE_GRABBER)&&1===r?{affiliatePartnerName:n.$iD.PRICE_GRABBER,domain:o,isMonetizable:!0}:-1!==s.indexOf(n.$iD.SKIM_LINK)&&2===r?{affiliatePartnerName:n.$iD.SKIM_LINK,domain:o,isMonetizable:!0}:-1!==s.indexOf(n.$iD.IMPACT_RADIUS)&&5===r?{affiliatePartnerName:n.$iD.IMPACT_RADIUS,domain:o,isMonetizable:!0}:-1!==s.indexOf(n.$iD.COMMISSION_JUNCTION)&&7===r?{affiliatePartnerName:n.$iD.COMMISSION_JUNCTION,domain:o,isMonetizable:!0}:-1===s.indexOf(n.$iD.AD_MARKETPLACE)||8!==r||i&&!a?-1!==s.indexOf(n.$iD.VIG_LINK)?-1===r?{affiliatePartnerName:n.$iD.VIG_LINK,domain:o,isMonetizable:!0}:{affiliatePartnerName:n.$iD.VIG_LINK,domain:o,isMonetizable:!1}:{affiliatePartnerName:"",domain:"",isMonetizable:!1}:{affiliatePartnerName:n.$iD.AD_MARKETPLACE,domain:o,isMonetizable:!0}},C=({affiliateLink:e,locale:t,partner:s,appId:a})=>{const n=new URL("https://mobile.mail.yahoo.com/apps/affiliateRouter");return n.search=`?brandUrl=${encodeURIComponent(e)}&appName=${a}&partner=${{yahoo:1,att:2}[s]||1}&locale=${{"en-US":1}[t]||2}`,{affiliatePartnerUrl:e?n.href:e,affiliatePartnerName:""}},A=(0,i.gP)([o.WINDOW_RESIZED,o.AD_FEEDBACK_CLOSED,o.MESSAGE_CARD_EXPANSION_CHANGED,o.PREVIEW_MESSAGE_REQUESTED,o.ITEM_LIST_PAGE_SCROLLED,o.DELETE_ITEMS_REQUESTED,o.SEND,o.RESPOND_TO_INVITE,o.V3_MESSAGE_SEND_REQUESTED,o.SEARCH_LIST_ITEMS_REQUESTED,o.SEARCH_LIST_ITEMS_BLOCK_RECEIVED,o.MESSAGE_READ_AD_ROTATION_TIMER,o.ADFREE_UPSELL_CANCEL,o.SETTINGS_MENU_CLOSED,o.CONFIRM_DELETE_DIALOG_CLOSED,o.MOVE_ITEMS_REQUESTED,o.LAUNCH_COMPLETED,o.ROTATE_AD_ON_LIST_SCROLL,o.FLASH_SALE_AD_ENDED]),T=(e,t=!1)=>{switch(e.type){case o.APPLICATION_VISIBILITY_DID_CHANGE:return e.isVisible&&!t;case o.RIGHT_RAIL_COMMS_ICON_CLICKED:return e.isPaneVisible;case o.OPEN_PAGE_REQUESTED:return e.route.name!==n.n8z.SPONSORED_MESSAGE||e.route.name!==n.n8z.PORTRAIT_AD;case o.STREAM_CURSOR_MOVED:return e.previewPane!==n.EsZ.NO;case o.ONLINE_STATUS_CHANGED:return e.online&&e.rotateAdsOnline;case o.SYNC_DATA:return e.forceSync&&(0,i.u9)(e,"i13nModel.mKey",null)===r.JE.PULL_TO_REFRESH;case o.CHECK_MAIL_RECEIVED_WITH_UPDATES:case o.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:return e.rotateAds;case o.MESSAGE_READ_AD_ROTATION_TIMER:return!1;default:return!!A[e.type]}},h=e=>{let t="";return"nz"===e?t=E:"au"===e&&(t=_),t},g=(e,t)=>{const s={};return t.query&&Object.keys(t.query).forEach((e=>{-1!==u.indexOf(e)&&(s[e]=t.query[e])})),Object.keys(s).length?`https://${e}?${a.stringify(s)}`:`https://${e}`},I=(e={},t=[],s={})=>{const{darlaGeminiArbitration:a=!1,darlaChromaggedonSA:n=!1}=e,{hostname:r=""}=s,o=[];let i=[];return a&&(i=i.concat((e=>{const t=["geminifed=1"];return"e2e.fc.yahoo.com"===e&&t.push("devtemplate=1"),t})(r))),n&&i.push("chromaggedon=1"),t.length&&i.push((e=>"y-bucket="+e.join(","))(t)),o.push("lu:1"),i.push(`rs="${o.join(";")}"`),i.join(" ")}},43373:(e,t,s)=>{"use strict";s.r(t),s.d(t,{getTAE:()=>_,logRapidTAE:()=>u,apiErrorLogger:()=>m,apiPassiveErrorLogger:()=>S});var a=s(63352),n=s(37422),r=s(42655),o=s(79483),i=s(8106),l=s(95406);const c=(0,l.gP)([n.BrN.BootcampClient,n.BrN.CloudStorageClient,n.BrN.AstraClient,n.BrN.MailAPIClient,n.BrN.EpochCalendarClient]),d=(0,l.gP)([n.BrN.CredstoreClient,n.BrN.LinkEnhancerClient,n.BrN.XobniClient]);function E(e){return n.uXU.indexOf(e)>-1}function _(e,t,s){const{apiName:a,statusCode:r,errorCode:o,alertTAE:l=!0}=s;return!1===l?100:function({apiName:e,isOnline:t,alertTAE:s=!0},a,r){if(!1===s)return!1;if(!(0,i.jU)())return!0;if(!t)return!1;if(["CRUMB","AUTH","EC-4012","EC-4023"].indexOf(a)>-1)return!1;if("EC-4008"===a&&r!==n.BrN.AstraClient)return!1;if(["REQUEST_BLOCKED","DEBOUNCED","ES-2001"].indexOf(a)>-1)return!1;if(d[r])return!!E(e);if(r===n.BrN.AstraClient&&("EC-4003"===a||"ES-2214"===a||"ES-2013"===a))return!1;switch(e){case"checkMail":case"messages.autosave":case"messages.autoSaveV3":case"messages.prefetchGetBodies":case"messages.prefetchGetBodiesFull":case"messages.prefetchGetExtractedBodies":case"messages.prefetchGetExtractedBodiesFull":case"getContentProviders":case"getCouponRecommendations":case"searchSuggestions":case"recentSearches":case"mailbox.syncNow":return!1}return!0}(s,o,e)?function(e,t){return 429===e||"EC-4017"===t||"EC-4018"===t}(r,o,t.name)?19:a&&function(e){return 0===e.indexOf("launch.")}(a)?15:function(e,t="",s){return!([400,500].indexOf(s)>-1)&&(0===e.indexOf("HttpTransport.")&&!t||["ECONNABORTED","ECONNREFUSED","ECONNRESET","ENOTFOUND","OUTBOUND","REQUEST_QUEUE_TIMEOUT","REQUEST_QUEUE_REJECTED","YCPI"].indexOf(t)>-1)}(t.name,o,r)?18:E(a)?24:function(e,t){return e===n.BrN.BootcampClient||e===n.BrN.CloudStorageClient||["search_list.get","search_list.update"].indexOf(t)>-1}(e,a)?function(e,t){return"getShareableLink"===e&&409===t}(a,r)||function(e,t){return"cloudStorageItems"===e&&"EP-5020"===t}(a,o)||function(e,t){return"getSearchAds"===e&&412===t}(a,r)?100:20:function(e){return n.cNW.indexOf(e)>-1}(a)?4:function(e){return n.vrh.indexOf(e)>-1}(a)?13:function(e){return"document.fetch"===e}(a)?22:function(e){return e===n.BrN.AstraClient}(e)?23:function(e){return e===n.BrN.EpochCalendarClient}(e)?25:function(e){let t;switch(e){case"ET-5003":t=1;break;case"ET-5004":t=4;break;case"ET-5005":case"ET-5008":case"ET-5009":case"ET-5010":case"ET-5011":t=2;break;default:t=14}return t}(o):100}function u(e,t,s){if((0,i.jU)()){const a=t||s||"",n=o.ZP.getRapidInstance();n&&n.beaconEvent(0,{etrg:"error",taeCode:e,errCode:a},"norrin_tae")}}function m(e,t,s,n){(0,a.Z)(s.apiName,"logData.apiName must be present");const r={},{statusCode:o=null,errorCode:i=null,at:l}=n;if(null!==o&&(r.statusCode=o),null!==i&&(r.errorCode=i),l&&(r.at=l),c[t]||d[t]){const{extraStatusCode:e=null,extraErrorCode:a=null}=n;e&&(r.extraStatusCode=e),a&&(r.extraErrorCode=a);const l=_(t,n,Object.assign({},s,r));r.tae=l,u(l,i,o)}e.feature(t,Object.assign({},s,r)).logFailure(n)}function S({logger:e,apiName:t,message:s,loggerName:a=n.BrN.MailAPIClient,statusCode:o=0,errorCode:i="",extraStatusCode:l="",extraErrorCode:c="",ymreqid:d="",batchRelatedCards:E=!1}){const _={apiName:t,alertTAE:!1,statusCode:o,errorCode:i,extraStatusCode:l,extraErrorCode:c,ymreqid:d,batchRelatedCards:E},u={name:t,message:s,data:_,statusCode:o,errorCode:i,extraStatusCode:l,extraErrorCode:c};m(e,a,_,r.Z.jsonToError(u))}},78137:(e,t,s)=>{"use strict";s.d(t,{qr:()=>n,w6:()=>r,R3:()=>o,Od:()=>i,xH:()=>l,uK:()=>c});var a=s(63352);function n(e,t){for(let s=e.length;s;s--)if(t(e[s-1]))return s-1;return-1}function r(e,t=0){(0,a.Z)("number"==typeof e&&parseInt(Number(e),10)===e&&e>=0,"`range` should be a non-negative integer");const s=Array(e);for(;e--;)s[e]=e+t;return s}function o(e,...t){return e.concat(t)}function i(e,t,s=1){return-1===t?e:e.slice(0,t).concat(e.slice(t+s))}const l=e=>Array.prototype.concat.apply([],e),c=(e,t)=>e.reduce((([e,s],a)=>t(a)?[[...e,a],s]:[e,[...s,a]]),[[],[]])},99691:(e,t,s)=>{"use strict";s.d(t,{mD:()=>m,yo:()=>S,Rq:()=>p,N3:()=>T,_n:()=>h,HD:()=>g,Ij:()=>I,oA:()=>R,Cw:()=>O,SJ:()=>D,SA:()=>N,fA:()=>f,Vb:()=>M,oZ:()=>L,M:()=>P,Rj:()=>y,lz:()=>b,gu:()=>F,Y9:()=>U,wt:()=>v});var a=s(37422),n=s(63352),r=s(44908),o=s.n(r),i=s(76531);const{Types:l,SubTypes:c,Dispositions:d,SimplifiedTypes:E}=a.sSc,_=/\?(size|h|w)=([^&]*)/g,u=/&(size|h|w)=([^&]*)/g,m=e=>{const[,t=""]=e.match(a.sSc.KnownDocTypes)||[];return t.substring(0,3).toLowerCase()},S=e=>{const t=e.split("/");return{type:t[0],subtype:t[1]}},p=(()=>{function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return"<"+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()+"@yahoo.com>"}})();function C(e,t=p()){const[s,a]=e.type.split("/");return{downloadUrl:e.downloadLink||URL.createObjectURL(e),filename:e.name,mimeType:e.type,size:e.size,type:s,subtype:a,contentId:t,dataId:t,isFromDataURI:!!e.isFromDataURI}}const A=(e,t=d.ATTACHMENT)=>({...C(e),disposition:t}),T=e=>A(e,d.INLINE),h=e=>A(e,d.ATTACHMENT);function g(e,t=!1){return e.filter((({type:e,disposition:s})=>e===l.MESSAGE||s===d.ATTACHMENT||t&&s===d.INLINE))}function I(e){return e.filter((({type:e,subtype:t,disposition:s})=>!(e===l.MESSAGE&&t===c.RFC822&&s===d.INLINE)))}function R(e,{previewableInlineAttachmentSize:t,showImages:s,isSpam:a}){const r={};if(!e)return[];const o=e.filter((e=>!e));return o.length?((0,n.Z)(o,"Invalid attachment information: "+JSON.stringify(o)),[]):e.filter(Boolean).filter((({type:e,disposition:n,size:o,filename:i})=>{if(!o)return!1;const c=((i||"")+(o||0)).replace(/\s\s+/g," ");return!(r[c]||!(r[c]=!0)||!(e!==l.IMAGE||s&&!a&&(n!==d.INLINE||o>=t)))}))}function O(e){return e.filter(Boolean).filter((({type:e,subtype:t})=>N(e,t)===E.CAL))}function D(e=[]){const t=e.filter(Boolean).map((e=>{switch(N(e.type,e.subtype)){case E.CAL:return i.Kinds.ATTACH_CAL;case E.IMAGE:return i.Kinds.ATTACH_IMAGE;case E.DOC:case E.PDF:case E.XLS:case E.PPT:case E.CSV:case E.TEXT:return i.Kinds.ATTACH_DOC;default:return i.Kinds.ATTACHMENT}}));return 1===o()(t).length?t[0]:i.Kinds.ATTACHMENT}function N(e,t){switch(e){case l.IMAGE:switch(t){case c.TIFF:return E.TIFF;default:return E.IMAGE}case l.AUDIO:return E.AUDIO;case l.VIDEO:return E.VIDEO;case l.APPLICATION:switch(t){case c.ACROBAT:case c.PDF:case c.VND_PDF:case c.X_PDF:return E.PDF;case c.GZIP:case c.TAR:case c.X_COMPRESSED:case c.X_ZIP:case c.ZIP:return E.COMPRESSED;case c.EXCEL:case c.MSEXCEL:case c.X_EXCEL:case c.X_MS_EXCEL:case c.XLS_M:case c.X_XLS:case c.XLS:case c.XLS_M_TEMPLATE:case c.XLS_TEMPLATE:case c.XLSX:return E.XLS;case c.DOC:case c.DOCX:case c.DOT:case c.FRAMEMAKER:case c.MS_WORD:case c.MSTNEF:case c.RICHTEXT:case c.SC2:case c.VND_MS_WORD:case c.VND_MSWORD:case c.WINWORD:case c.WORD:case c.X_DOT:case c.X_FM:case c.X_FRAMEMAKER:case c.X_MAKER:case c.X_MS_WORD:case c.X_MSW6:case c.X_RTF:case c.X_SOFFICE:case c.ZZ_DOT:return E.DOC;case c.PPT:case c.PPTX:case c.PPTX_SLIDESHOW:case c.PPTX_TEMPLATE:return E.PPT;case c.ICS:return E.CAL;case c.FOLDER:return E.FOLDER;case c.GDOCX:return E.GDOCS;case c.GXLS:return E.GSHEETS;case c.GPPT:return E.GSLIDES;default:return E.APPLICATION}case l.TEXT:switch(t){case c.CALENDAR:return E.CAL;case c.CSV:return E.CSV;default:return E.TEXT}default:return E.FILE}}function f({id:e},t=[],s=!0){return t.map((t=>{const a=s?{dataId:t.dataId?t.dataId:p(),contentId:t.contentId?t.contentId:p()}:{};return{messageReference:{id:e,pid:t.partId},...t,...a}}))}function M(e,t,s){(0,n.Z)(e<=t,"You cannot have a page number greater than the last page of the document.");const a=e-(e%s||s)+1;let r=a+(s-1);return r>t&&(r=t),{startPage:a,endPage:r}}function L(e){return!(!e||!e.id)&&[l.APPLICATION,l.TEXT].indexOf(e.type)>-1}function P(e){if(!e)return!1;const{type:t,subtype:s,size:n,isExternal:r,filename:o}=e,i=`${t}/${s}`,l=N(t,s)===E.IMAGE,d=a._ob.previewableMimeTypes.indexOf(i)>-1,_=s===c.OCTET_STREAM&&a.sSc.KnownDocTypes.test(o);return!r&&n>0&&(d||l||_)}function y(e,t){return!!(e&&e.id&&t&&P(e))}function b(e){if(!e||!e.id)return!1;const{downloadUrl:t}=e;return!(t&&t.indexOf("blob:")>=0)&&!!t}function F(e,t){return e?(e=e.replace(_,"?").replace(u,""))+"&size="+t+"w&w="+t+"&h="+t:""}function U(e){return e?e=e.replace(_,"?").replace(u,""):""}function v(e){if(!e)return!0;const t=e.split(".");if(t.length>1){const e=t.pop();if(a.N9o[e])return!1}return!0}},336:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n,J:()=>r});var a=s(99839);function n(e,t=!0){try{return function(e,t=!0){if(!e||!/^https?:\/\//.test(e))return"";const s=new Image;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+encodeURIComponent((new Date).getTime())),e=e.replace("[timestamp]",(new Date).getTime()),s.src=e,s.src}(e,t)}catch(s){return a.Z.error("sendBeacon_exception",{url:e}),""}}function r(e){if(!e||!/^https?:\/\//.test(e))return"";const t="beaconIframe"+Date.now(),s=document.createElement("iframe");s.src=e,s.width="0",s.height="0",s.style.display="none",s.referrerPolicy="origin",s.style.visibility="hidden",s.id=t,s.sandbox="allow-scripts allow-same-origin",document.body.appendChild(s),setTimeout((()=>{const e=document.getElementById(t);null!=e&&e.remove()}),3e4)}},87195:(e,t,s)=>{"use strict";s.d(t,{Eg:()=>l,UM:()=>c,kW:()=>d,Xx:()=>E});const a=1,n=1024,r=1048576,o=1073741824,i={[a]:"B",[n]:"kB",[r]:"MB",[o]:"GB"};function l(e,t){return e.length>t?e.substr(0,t):e.length<t?new Array(t-e.length+1).join("0")+e:e}function c(e){var t,s,a=e.length,n="";for(t=0;t<a;t+=4)s=e.substr(t,4),s=s+=new Array(4-s.length+1).join("0"),n+=parseInt(s,2).toString(16);return n}function d(e){var t,s,a=e.length,n="";for(t=0;t<a;t++)s=parseInt(e[t],16).toString(2),n+=s=new Array(4-s.length+1).join("0")+s;return n}function E(e,t=0){if("number"!=typeof e||e<=0)return"";const s=[o,r,n,a].find((t=>e>=t)),l=Math.pow(10,t);return`${Math.round(e/s*l)/l}${i[s]}`}},90775:(e,t,s)=>{"use strict";function a(e,t){var s=0,a=[0,0,0,t];if(4!==e.length&&7!==e.length)throw new Error('The hex string has have length of 4 or 7 including the "#". We got: '+e);for(4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),s=0;s<3;s++)a[s]=parseInt(e.slice(2*s+1,2*s+3),16);return"rgba("+a.join(", ")+")"}s.d(t,{m:()=>a})},35456:(e,t,s)=>{"use strict";s.d(t,{X1:()=>d,yP:()=>E,ZK:()=>_,iT:()=>u});var a=s(7320),n=s(37422),r=s(77953),o=s(19822),i=s(29824);const l=/messages\/@.id==(.*?)\/.*?content\/parts\/@.id==(.*?)\//i,c=/^https/i;function d(e){const t=e.querySelectorAll('[class*="yahoo-style-wrap"]');return 0===t.length?null:t[0]}function E(e){if(!e)return!1;const t=e.getAttribute("class");return t&&-1!==t.indexOf("yiv")}function _(e,t){const{getFeaturesSelectors:s,getAttachmentsSelectors:i}=t,{getSetting:_}=s(),u=(0,r.UZ)(e),m=function(e){return!!e.querySelector(a.LINK_EHANCER_CARD_SELECTOR)}(u),S=d(u),p=E(S);!function(e,t){const{getDownloadUrlByContentId:s,doesAttachmentExistById:n,getContentIdByAttachmentId:r}=t;[].forEach.call(e.querySelectorAll(a.INLINE_IMAGE_SELECTOR),(e=>{let t=e.getAttribute("data-id");const a=e.getAttribute("src");if(!t){if(!a||!l.test(a))return;{const[,e,s]=l.exec(a),o=e+":"+s;if(!n(o))return;t=r(o)}}let o=s(t);!o&&c.test(a)&&(o=a),e.setAttribute("src",o||"cid://"+t.slice(1,-1)),e.removeAttribute("data-id"),e.setAttribute("data-id",t)}))}(u,i()),function(e){const t=e.querySelector(a.STATIONERY_BODY_SELECTOR);t&&t.removeAttribute("contenteditable")}(u),function(e){[].forEach.call(e.querySelectorAll("font"),(e=>{const t=e.style&&e.style.backgroundColor,s=e.parentNode&&"SPAN"===e.parentNode.nodeName;!t&&s&&(e.style.backgroundColor="inherit")}))}(u);let C="";return S&&!p?(!function(e,t){const{getFeaturesSelectors:s}=t,{getSetting:a}=s();e.style.fontFamily||(e.style.fontFamily=a(n.Zrf.COMPOSE_FONT_FAMILY).replace(/"/g,"")),e.style.fontSize||(e.style.fontSize=(0,o.getFontSizeStyle)(a(n.Zrf.COMPOSE_FONT_SIZE)))}(S,t),C=u.innerHTML.replace(/&quot;/g,"")):C=u.innerHTML?'<div class="yahoo-style-wrap" style="font-family:'+_(n.Zrf.COMPOSE_FONT_FAMILY).replace(/"/g,"")+";font-size:"+(0,o.getFontSizeStyle)(_(n.Zrf.COMPOSE_FONT_SIZE))+';">'+u.innerHTML+"</div>":"<div><br /></div>",`<html${m?` ${a.OutlookSupportHTMLAttributes}`:""}><head>${m?a.OutlookSupportHTMLHeadContent:""}</head><body>`+C+"</body></html>"}function u(e){return(0,i.convertToPlainText)((0,r.UZ)(e))}},54418:(e,t,s)=>{"use strict";s.d(t,{_:()=>n,N:()=>r});const a={};function n(e={},t,s){var{appName:n}=e,r=e[t],o=Date.now(),i=a[t];return e.collectConfigAccess&&(a[t]={name:t,boolean:r,firstTime:i?i.firstTime:o,lastTime:o,...n&&{appName:n},...s&&{note:s}}),void 0===r?null:r}function r(e={},t,s){var{appName:n}=e,r=e[t],o=Date.now(),i=a[t];return e.collectConfigAccess&&(a[t]={name:t,setting:r,firstTime:i?i.firstTime:o,lastTime:o,...n&&{appName:n},...s&&{note:s}}),void 0===r?null:r}},40315:(e,t,s)=>{"use strict";s.d(t,{K5:()=>d,p6:()=>A,pQ:()=>T,oe:()=>h,iY:()=>g,Ux:()=>I,kD:()=>R,us:()=>O,CD:()=>D,vp:()=>N,zk:()=>f,qb:()=>M,ky:()=>L,QD:()=>y,SF:()=>b,n3:()=>F,hM:()=>v,Qy:()=>w,MI:()=>G,Ij:()=>k,ze:()=>H});s(70089);var a=s(22418),n=s(39593),r=s.n(n),o=s(99839),i=s(8106),l=s(51463),c=s.n(l);const d=86400,E=/[^0-9/\ :.-]/g,_=/[\/\s:.-]/;let u;const m=e=>o.Z.error("debug_datetime_polyfill",{...e}),S=c()((e=>m(e))),p=c()((e=>m(e))),C=(()=>{try{return new Intl.DateTimeFormat("en",{timeZone:"GMT"}),!0}catch(e){return!1}})();function A(e,t,s){try{if(u)return u(t,s).format(e);const{timeZone:n,timeZoneName:r,...o}=s;return!(0,i.jU)()||C||(e=>Intl._DateTimeFormatTimeZone&&Intl._timeZoneData&&Intl._timeZoneData.get(e)?(p({status:"loaded",timeZone:e}),!0):(S({status:"loading",timeZone:e}),!1))(n)?(u=(0,a.Z)(Intl.DateTimeFormat),u(t,s).format(e)):new Intl.DateTimeFormat(t,o).format(e)}catch(n){const{timeZone:a="unknown"}=s;throw n.data={timeZone:a,locale:t,date:e&&e.getTime()||"undefined",hasPolyfill:!!Intl._DateTimeFormatTimeZone,hasTimeZoneData:!(!Intl._timeZoneData||!Intl._timeZoneData.get(a))},n}}const T=function(e,t){const s=new(r())({max:t});return function(t,a){t instanceof Date||(t=new Date(t));const n=t.getTime()+"-"+a;let r=s.get(n);return void 0===r&&(r=e(t,a),s.set(n,r)),r}}((function(e,t){const s=A(e,"en-US",{timeZone:t,hour12:!1,hourCycle:"h23",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).replace(E,"").split(_),a=parseInt(s[2],10),n=s[0]-1,r=s[1],o=(s[3]||0)%24,i=s[4]||0,l=s[5]||0;return(Date.UTC(a,n,r,o,i,l)-new Date(e).setMilliseconds(0))/6e4}),1e3);function h({timezone:e,offset:t=0}){const s=Date.now();void 0!==e&&(t=T(s,e));const a=new Date(s+6e4*t),n=a.getUTCDate(),r=a.getUTCMonth(),o=a.getUTCFullYear(),i=Date.UTC(o,r,n);return void 0!==e?i-6e4*(t=T(i,e)):i}function g({timezone:e,time:t}){const s=new Date(t).getTime(),a=t=>6e4*T(t,e),n=e=>e-a(e),r=new Date((o=s)+a(o));var o;const i=r.getUTCDay(),l=r.getUTCDate(),c=r.getUTCMonth(),d=r.getUTCFullYear();return{weekday:i,date:l,month:c,year:d,startOfPastHour:e=>n(Date.UTC(d,c,l,-1*e)),startOfPastDay:e=>n(Date.UTC(d,c,l,-24*e)),startOfMonth:e=>n(Date.UTC(d,e,1)),startOfYear:e=>n(Date.UTC(e,0,1))}}function I(){return new Date}function R(e){return e?new Date(1e3*e):I()}function O(e){return D(e)+(d-1)}function D(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor(+t/1e3)}function N(e,t){return!(!M(e)||!M(t))&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function f(e){if(!(e instanceof Date))throw new Error("Expected date to be an instance of Date");return N(new Date,e)}function M(e){return function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)&&!isNaN(e.getTime())}function L(e){if(!M(e))throw new Error("Expected date to be an instance of Date");return new Date(e.valueOf())}function P(e){const t=L(e);return t.setDate(t.getDate()-t.getDay()),t}function y(e){const t=e.getDay();return 0===t||6===t}function b(e){const t=P(e),s=[t];for(let a=1;a<=6;a++){const e=L(t);e.setDate(e.getDate()+a),s.push(e)}return s}function F(e){const t=L(e);t.setDate(1);const s=t.getMonth(),a=L(P(t)),n=[L(a)];for(a.setDate(a.getDate()+7);a.getMonth()===s;)n.push(L(a)),a.setDate(a.getDate()+7);return n}const U=1e3*d;function v(e,t){const s=new Date(t).getTime()-new Date(e).getTime();return Math.ceil(s/U)}function w(e){return D(e)-d}function G(e,t=0){const s=new Date(e);return s.setDate(s.getDate()+t),s}function k(e){const t=e=>e<10?`0${e}`:e;return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}`}function H(e){return"zh-Hant-HK"===e||"ko-KR"===e?"numeric":"short"}},20292:(e,t,s)=>{"use strict";s.d(t,{pP:()=>a,th:()=>n});function a(e){const t=e.querySelectorAll("a");Array.prototype.forEach.call(t,(e=>{e.removeAttribute("href"),e.classList.add("removed-link")}))}function n(e={}){if(!window)throw new Error("Could not find browser window");return window.getSelection()&&window.getSelection().toString()&&e.current&&e.current.contains(window.getSelection().anchorNode)}},10964:(e,t,s)=>{"use strict";s.d(t,{Cz:()=>c,ad:()=>d,aL:()=>E,vV:()=>_,oC:()=>u,dv:()=>m,eV:()=>S});var a=s(37422);const n=/^(\\.|[A-Za-z0-9!#%&`_=\/$'*+?^{}|~.-])+$/,r=/^"(\\"|[^"])+"$/,o=/^[A-Za-z0-9\-]+$/,i=["sgproxy_test_10@localhost","sgproxy_test_20@localhost"],l={"yahooinc.com":a.zoT.YAHOO_INC,"verizonmedia.com":a.zoT.VERIZON_MEDIA,"edgecast.com":a.zoT.YAHOO_INC};function c(e){const t=e.lastIndexOf("@");if(-1===t)return{localPart:e,domainPart:""};return{localPart:e.slice(0,t),domainPart:e.slice(t+1)}}function d(e){return!(!n.test(e)&&!r.test(e))}function E(e){const t=e.split("."),s=t.length;if(s<2)return!1;for(let a=0;a<s;a++)if(!o.test(t[a]))return!1;return!0}function _(e){if(!e)return!1;if(-1!==i.indexOf(e))return!0;const{localPart:t,domainPart:s}=c(e);return!!d(t)&&!!E(s)}const u=(e,t)=>{if(!_(e))return!1;const{domainPart:s}=c(e);return t.indexOf(s)>=0};function m(e){if(!_(e))return null;const{domainPart:t}=c(e);return t&&l[t.toLowerCase()]||null}function S(e){const t=m(e);return!!t&&t===a.zoT.YAHOO_INC}},88913:(e,t,s)=>{"use strict";s.d(t,{Eo:()=>n,nM:()=>r,$9:()=>o});var a=s(47745);function n(){return"devbox"===a.N||"openhouse"===a.N}function r(){return"pullrequest"===a.N}function o(){return"alpha"===a.N}},59678:(e,t,s)=>{"use strict";s.d(t,{JV:()=>r,A8:()=>o,yW:()=>i,Zo:()=>l});var a=s(37422);const n=e=>e&&e.length?e.reduce(((e,t)=>{const s=t.split(",");return{...e,[s[0]]:[s[1],s[2]]}}),{}):{},r=(e=[],t)=>{const s=n(e);if(s[t]){const e=s[t][1],a=s[t][0]?1:0;return+(e||0)||a}return 0},o=({attribute:e=[],key:t,recurringInterval:s=0})=>{const a=((e=[],t)=>{const s=n(e);return s[t]&&s[t][0]||0})(e,t),r=Math.floor(Date.now()/1e3)-parseInt(a,10);return r>0&&r>s},i=e=>r(e,a.ANe.MOBILE_PAC_NOTIFICATION_CUE)<a.xDW,l=e=>r(e,a.ANe.WEB_PAC_NOTIFICATION_CUE)<a.hqH},42907:(e,t,s)=>{"use strict";s.d(t,{Nk:()=>c,Z_:()=>E,vU:()=>u,p4:()=>m,h5:()=>p,PC:()=>C,Dy:()=>A,vJ:()=>T,IZ:()=>h,lS:()=>g,b8:()=>I,i3:()=>R,OG:()=>O,PH:()=>D,R_:()=>N,YY:()=>f,gm:()=>M});var a=s(37422),n=s(95406),r=s(63352),o=s(50361),i=s.n(o),l=s(99095);s(31057);const c="/ \\ %",d=(0,n.gP)([a.K8C.PHOTOS,a.K8C.DOCUMENTS,a.K8C.ATTACHMENTS,a.K8C.SUBSCRIPTIONS,a.K8C.STOREFRONT,a.K8C.COUPONS,a.K8C.COUPON_EMAILS,a.K8C.GROCERIES,a.K8C.RECEIPTS,a.K8C.TRAVEL,a.K8C.TUTORIAL]),E=(0,n.gP)([a.K8C.UNREAD,a.K8C.STARRED,a.K8C.OLDMAIL,a.K8C.NEWMAIL]),_={...a.o4,...(0,n.gP)([a.K8C.UNREAD,a.K8C.STARRED])},u={[a.Sck.INBOX]:"inbx",[a.Sck.SENT]:"sent",[a.Sck.DRAFT]:"drft",[a.Sck.TRASH]:"trsh",[a.Sck.BULK]:"spm",[a.Sck.ARCHIVE]:"archve",[a.Sck.USER]:"usrFldr",[a.Sck.CHATS]:"cht",SEARCH_KEYWORD:"keywSrp",SEARCH_PEOPLE:"cntctSrp",SEARCH_SMARTVIEW:"smrtSrp",SUBSCRIPTION_DETAIL:"subhubDetail"},m={[a.Sck.INBOX]:0,[a.K8C.NEWMAIL]:1,[a.K8C.OLDMAIL]:2,[a.K8C.UNREAD]:3,[a.K8C.STARRED]:4,[a.Sck.DRAFT]:5,[a.Sck.SENT]:6,[a.Sck.ARCHIVE]:7,[a.Sck.BULK]:8,[a.Sck.TRASH]:9},S=(0,l.defineMessages)({folder_inbox:{id:"folder_inbox",defaultMessage:"Inbox"},folder_draft:{id:"folder_draft",defaultMessage:"Drafts"},folder_sent:{id:"folder_sent",defaultMessage:"Sent"},folder_trash:{id:"folder_trash",defaultMessage:"Trash"},folder_trash_recently_deleted:{id:"folder_trash_recently_deleted",defaultMessage:"Recently Deleted"},folder_bulk:{id:"folder_bulk",defaultMessage:"Spam"},folder_archive:{id:"folder_archive",defaultMessage:"Archive"},folder_all_mail:{id:"folder_all_mail",defaultMessage:"All Mail"},folder_user_saved:{id:"folder_saved_mail",defaultMessage:"Saved Mail"}});function p(e,t="",s=""){const n=["folder",t.toLowerCase()];[a.Sck.TRASH,a.Sck.USER].includes(t)&&s&&n.push(s.toLowerCase());const r=S[n.join("_")];return r?e(r):null}function C(e){let t;switch(e.type){case a.Sck.SENT:case a.Sck.BULK:case a.Sck.ARCHIVE:case a.Sck.TRASH:return 0;case a.Sck.DRAFT:return e.total;default:return t=e.unread<0?0:e.unread,t}}function A(e){switch(e){case a.Sck.INBOX:return[a.lsH.MARK_READ,a.lsH.ARCHIVE];case a.Sck.DRAFT:case a.Sck.SENT:case a.Sck.ARCHIVE:return[a.lsH.MARK_READ];case a.Sck.BULK:case a.Sck.TRASH:return[a.lsH.DELETE];default:return[a.lsH.MARK_READ,a.lsH.ARCHIVE,a.lsH.DELETE,a.lsH.SEPARATOR,a.lsH.MOVE_FOLDER,a.lsH.RENAME_FOLDER,a.lsH.DELETE_FOLDER,a.lsH.CREATE_FOLDER]}}function T(){return Object.keys(d).map((e=>{return{folder:{name:t=e,id:t,types:[t],isSmartView:!0,isSystem:!1,unread:0,total:0},children:[]};var t}))}function h(e){return e.types.find((e=>_.hasOwnProperty(e)))}function g(e,t){const s=e.find((e=>!0===e.isSelected));return t.find((e=>h(e.folder)===a.Sck.INBOX&&e.folder.accountId===s.id)).folder}function I(e,t,s=!1){const a=O(e.name);let n="",r="";const o=[];let i=!1;return"1"===e.accountId||s||e.name.match(/\//)&&(n=a.shift(),n+=a.shift()),a.forEach((s=>{n+=s,i?i=!1:(r+=s,t.hasOwnProperty(n)&&t[n].accountId===e.accountId&&(o.push(r),r="",i=!0))})),o}function R(e,t,s,a=""){let n=a,r="";const o=[];let i=!1;return s.forEach((s=>{if(n+=s,i)i=!1;else{r+=s;Object.keys(t).some((s=>t[s].path===n&&t[s].accountId===e.accountId))&&(o.push(r),r="",i=!0)}})),o}function O(e){let t,s,a="";const n=[];for(t=0;t<e.length;t++)s=e.charAt(t),"/"===s?(""!==a&&n.push(a),n.push("/"),a=""):a+=s;return""!==a&&n.push(a),n}function D(e,t,s,a){const n=i()(t);if((0,r.Z)(s.length>0,"folderPathParts must be populated for insert into folder tree to work."),a===s.length-1)n.name=s[a],e.push({folder:Object.assign({},n,{level:a}),children:[]});else{const t=s[a];e.forEach((e=>{e.folder.name===t&&e.folder.accountId===n.accountId&&D(e.children,n,s,a+1)}))}}function N(e,t,s){const a=[];return!t.isPrimary&&t.folderPrefix.length>0&&a.push(t.folderPrefix),s&&a.push(s),a.push(e),a.join("/")}function f(e){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=a.folder;t[n.id]=n,a.children.length>0&&Object.assign(t,f(a.children))}return t}const M=e=>e>a.Mit?a.Hzy:""+e},87367:(e,t,s)=>{"use strict";s.d(t,{a7:()=>_});var a=s(95406);const n=796,r=805,o=818,i=828,l=873,c=884,d=914,E={"amazon.com":c,"linkedin.com":r,"paypal.com":i,"groupon.com":c,"ebay.com":c,"chase.com":i,"indeed.com":r,"capitalone.com":i,"nextdoor.com":l,"kohls.com":c,"intuit.com":i,"walmart.com":c,"southwest.com":d,"synchronybank.com":i,"zillow.com":l,"ups.com":c,"bestbuy.com":c,"netflix.com":o,"apple.com":902,"homedepot.com":c,"cvs.com":849,"bankofamerica.com":i,"jcpenney.com":c,"target.com":c,"directv.com":o,"discover.com":i,"costco.com":c,"siriusxm.com":n,"walgreens.com":811,"oldnavy.com":c,"victoriassecret.com":c,"ticketmaster.com":o,"macys.com":c,"evite.com":o,"docusign.net":866,"tripadvisor.com":d,"bedbathandbeyond.com":c,"bathandbodyworks.com":c,"fidelity.com":i,"livingsocial.com":c,"citibank.com":i,"citi.com":i,"cox.net":o,"redbox.com":o,"wayfair.com":c,"michaels.com":c,"uber.com":d,"geico.com":n,"wellsfargo.com":i,"staples.com":c,"booking.com":d,"travelzoo.com":d,"delta.com":d,"progressive.com":n,"hilton.com":d,"meetup.com":793,"zulily.com":c,"jobstreet.com":r,"lowes.com":c,"sears.com":c,"nordstorm.com":c,"trulia.com":l,"dsw.com":c,"creditkarma.com":i,"ziprecruiter.com":r,"synchronyfinancial.com":i,"airbnb.com":d,"capitaloneemail.com":i,"aa.com":d,"statefarm.com":n,"hrblock.com":i,"email-marriott.com":d,"americanexpress.com":i,"houzz.com":l};function _(e){return e.map((e=>{const t=(0,a.u9)(e,"email","").toLowerCase().match(/(?:\.|@)([\w-]+\.(?:com|net|biz))/),s=t&&t[1];return E[s]||null})).filter((e=>null!==e))}},8106:(e,t,s)=>{"use strict";s.d(t,{jU:()=>i,XM:()=>l,Y0:()=>c,X2:()=>d,xo:()=>E,mL:()=>_,nl:()=>u,je:()=>m,av:()=>S,xq:()=>p,OA:()=>C});var a=s(37422),n=s(95406),r=s(8575),o=s(17673);function i(){return"undefined"!=typeof window}function l(e){if(i())return new Promise((t=>{const s=new Image;s.src=e,s.onload=()=>{t()}}))}function c(e,t={}){if(!e)return e;const{protocol:s,host:a,pathname:n,query:i,hash:l}=(0,r.parse)(e),c={...o.parse(i),...t},d=o.stringify(c);let E="";return s&&(E=s+"//"),a&&(E+=a),n&&(E+=n),d&&(E=E+"?"+d),l&&(E+=l),E}function d(e){const{partner:t="",reason:s="unkown",isMobile:n=!1}=e||{},r=window.location.port;let o=window.location.protocol+"//"+window.location.hostname;r&&(o+=":"+r),o+=(n?a.IZo:a.JKT)+"?reason="+s,"ycorp"===t&&(o+="&.partner=ycorp"),window.location.replace(o)}function E(e){const t=window.location.href,{query:s}=(0,r.parse)(t),a=(1*o.parse(s).counter||0)+1,n=c(t,{reason:e,counter:a});a<10&&(window.location.href=n)}function _(e){try{return new Intl.DateTimeFormat("en",{timeZone:e}),!0}catch(t){return!1}}function u(){return i()&&"function"==typeof(0,n.u9)(window,"DataTransfer.prototype.setDragImage")}function m(e){if(!i())return;const t=(0,n.u9)(window,"AppBootstrapData.browserName");t&&t.toLowerCase().indexOf("safari")>=0||(e.style.position="fixed",e.style.top="-1000px",e.style.left="-1000px")}function S(e,t){return u()&&(t||((t=document.createElement("img")).src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",document.body.appendChild(t)),e.setDragImage(t,0,0)),t}function p(e){e&&document.body.removeChild(e)}function C(){try{return JSON.parse.apply(JSON,arguments)}catch(e){return null}}},25397:(e,t,s)=>{"use strict";s.d(t,{t:()=>n});var a=s(68949);function n(e,t){e.target.onerror=null,e.target.src=(0,a.A)(t)}},17016:(e,t,s)=>{"use strict";s.r(t),s.d(t,{NOOP:()=>T,generateUID:()=>R,generateRandomInteger:()=>O,generateRandomStringWithLength:()=>D,destructEmailAddressParts:()=>N,validateLocalPart:()=>f,validateDomainPart:()=>M,isValidEmail:()=>L,isEmailFromAllowlistDomains:()=>P,isCorpMailEmail:()=>y,getCorpMailEmailProvider:()=>b,isValidFolderName:()=>F,isValidFolderPrefix:()=>U,getInteractionFromEvent:()=>v,getAppContainerId:()=>w,transformSimpleBody:()=>G,getHash:()=>H,nothing:()=>B,isInvalid:()=>x,box:()=>Z,getQueryParamByName:()=>K,getRootDomainFromEmailAddress:()=>z,compareObjectsWithKeys:()=>q,isLocalStorageAvailable:()=>Y,composeContactsInfo:()=>j,getComparableValue:()=>Q,getDisplayName:()=>X,getAppInfoFromUrl:()=>J,getRootSpaceIdByApp:()=>$,sanitizeData:()=>ee,getFilterPriority:()=>te});var a=s(37422),n=s(92559),r=s(63352),o=s(95406),i=s(17673),l=s(18446),c=s.n(l),d=s(39693),E=s.n(d),_=s(78263),u=s(10964),m=s(61908),S=s(27955),p=s.n(S),C=s(74630),A=s(77953);const T=()=>{},h=/^[^\\\/%]+$/,g=[a.n8z.NEW_DRAFT,a.n8z.EDIT_DRAFT,a.n8z.FOLDER,a.n8z.SEARCH,a.n8z.MESSAGE_FROM_FOLDER_LIST,a.n8z.MESSAGE_FROM_SEARCH_LIST,a.n8z.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST],I={[a.Tzw.YAHOO]:{[a.BQZ.MAIL_APP]:159600001,[a.BQZ.BASIC_MAIL_APP]:794600001,[a.BQZ.MOBILE_APP]:959521375,[a.BQZ.BASIC_MOBILE_APP]:959521375},[a.Tzw.AOL]:{[a.BQZ.MAIL_APP]:972825001,[a.BQZ.BASIC_MAIL_APP]:1197808570,[a.BQZ.MOBILE_APP]:1197803638,[a.BQZ.BASIC_MOBILE_APP]:1197803638}};function R(){var e=(Date.now()+Math.floor(1e9*Math.random())).toString();return e.substr(e.length-10)}function O({min:e=0,max:t=0,randomSeed:s=Math.random()}){return Math.floor(s*(t-e)+e)}function D({min:e=0,max:t=0}){const s=O({min:e,max:t}),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<s;r++)n+=a.charAt(Math.floor(Math.random()*a.length));return n}const N=u.Cz,f=u.ad,M=u.aL,L=u.vV,P=u.oC,y=u.eV,b=u.dv;function F(e){return void 0!==e&&h.test(e.trim())}function U(e){if(!e)return""===e;return E()(e.split("/")).every((e=>F(e)))}function v(e){return(0,r.Z)(e,"event object is required"),e.key===a.R8U.ENTER?n.Rb.nav:"keydown"===e.type||"keypress"===e.type?n.Rb.shortcut:n.Rb.click}function w(e){return(0,o.u9)(e||{},"container.id","app-container")}function G(e){const t=e.htmlAnnotations.map((e=>(e.divIds||(e.divIds=e.divids,delete e.divids),e))),{html:s,amp:a}=e,n={html:s,htmlAnnotations:t};return a&&(n.amp=a),n}function k(e){let t,s,a,n,r=new Array(256),o=0,i=-1;const l=e.length;for(n=0;256!==n;++n)t=n,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,r[n]=t;for(r="undefined"!=typeof Int32Array?new Int32Array(r):r,o=0;o<l;)t=e.charCodeAt(o++),t<128?i=i>>>8^r[255&(i^t)]:t<2048?(i=i>>>8^r[255&(i^(192|t>>6&31))],i=i>>>8^r[255&(i^(128|63&t))]):t>=55296&&t<53248?(t=64+(1023&t),a=1023&e.charCodeAt(o++),i=i>>>8^r[255&(i^(240|t>>8&7))],i=i>>>8^r[255&(i^(128|t>>2&63))],i=i>>>8^r[255&(i^(128|a>>6&15|3&t))],i=i>>>8^r[255&(i^(128|63&a))]):(i=i>>>8^r[255&(i^(224|t>>12&15))],i=i>>>8^r[255&(i^(128|t>>6&63))],i=i>>>8^r[255&(i^(128|63&t))]);return s=-1^i,s=new Uint32Array([s])[0].toString(16),s}function H(){let e="";for(let t=0;t<arguments.length;t++)e+=JSON.stringify(arguments[t]);return k(e)}const B=Object.freeze({isNotNothing:()=>!1,isNothing:()=>!0,chain:()=>B,checkIf:()=>B,checkIfNot:()=>B,unbox:(e,t=(()=>T))=>t(),debug:()=>(console.log("Box:[NOTHING]"),B)});function x(e){return null==e||"number"==typeof e&&isNaN(e)||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length||e===B}function V(e){return!1===e||x(e)}const W=e=>e;function Z(e){return x(e)?B:{checkIf:(t,s=W)=>V(t(e))?B:Z(s(e)),checkIfNot:(t,s=W)=>V(t(e))?Z(s(e)):B,isNotNothing:()=>!0,isNothing:()=>!1,chain:t=>Z(t(e)),unbox:(t=(()=>e))=>t(e),debug:(t=W)=>(console.log("Box:[",JSON.stringify(t(e),null,2),"]"),Z(e))}}function K(e,t){return i.parse(e)[t]||null}function z(e){if(!e)return null;const{domainPart:t}=N(e);let s=t.split(".").slice(-2).join(".");return-1!==["co.uk","co.in","com.hk","com.tw"].indexOf(s)&&(s=t.split(".").slice(-3).join(".")),s}function q(e,t,s=[]){if(!s.length)return c()(e,t);for(const a of s)if(!c()(e[a],t[a]))return!1;return!0}function Y(){try{const{localStorage:e}=window,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function j(e){const{doesComposeSessionExist:t,getComposeHeaderFocus:s,getMainStreamListIds:n,getCursorItem:r,doesStreamExist:o,getMessageGroupStreamItems:i,getStreamItemInFocus:l,getRoute:c}=e,d=c();let{csid:E}=d.params;const{name:u}=d;if(!E){const e=(0,_.BA)(n(d)),t=o(e)?r(e):void 0;if(t){const e=l();if(e){const s=i(t).find((t=>t.folderType===a.Sck.DRAFT&&(t.csid===e.csid||t.csid===e.id)));E=s?s.csid:void 0}}}const m=t(E);return{csid:E,isCompose:g.includes(u)&&m,inputFocus:m?s(E):{}}}function Q(e,t){const{firstName:s,middleName:n,lastName:r,name:o,emails:i=[]}=t;return e===a.bW1.FIRST_NAME?s&&s.toUpperCase()||n&&n.toUpperCase()||r&&r.toUpperCase()||o&&o.toUpperCase()||i[0]&&i[0].toUpperCase()||void 0:r&&r.toUpperCase()||s&&s.toUpperCase()||n&&n.toUpperCase()||o&&o.toUpperCase()||i[0]&&i[0].toUpperCase()||void 0}function X({firstName:e="",middleName:t="",lastName:s="",name:n=""},r){return r!==a.bW1.FIRST_NAME&&(e||t||s)?s?t||e?`${`${s}, ${e}`.trim()} ${t}`.trim():s:`${e} ${t}`.trim():n}function J(e,t){const s=(0,m.XT)(t&&t.name);let n=s.NORRIN_APP_ID,r=a.BQZ.MAIL_APP;return 0===e.indexOf(a.ibP)?(n=s.NOBLE_APP_ID,r=a.BQZ.MAILBOXES_APP):0===e.indexOf(`${a.IZo}/test/`)?(n=s.NOBLE_APP_ID,r=`${a.BQZ.MOBILE_APP}_TEST`):0===e.indexOf(`${a.IZo}/`)?(n=s.NOBLE_APP_ID,r=a.BQZ.MOBILE_APP):0===e.indexOf(`${a.jQ2}/test/`)?r=`${a.BQZ.MAIL_APP}_TEST`:0===e.indexOf(a.jQ2)?r=a.BQZ.MAIL_APP:0===e.indexOf(`${a.bCI}/test/`)?(n=s.BASIC_MOBILE_APP_ID,r=`${a.BQZ.BASIC_MOBILE_APP}_TEST`):0===e.indexOf(a.bCI)?(n=s.BASIC_MOBILE_APP_ID,r=a.BQZ.BASIC_MOBILE_APP):0===e.indexOf(`${a.Zs1}/test/`)?(n=s.BASIC_MAIL_APP_ID,r=`${a.BQZ.BASIC_MAIL_APP}_TEST`):0===e.indexOf(a.Zs1)&&(n=s.BASIC_MAIL_APP_ID,r=a.BQZ.BASIC_MAIL_APP),{appId:n,appName:r}}function $(e,t){const s=e&&e.name;return I[s][t]}const ee=e=>(0,C.g)((0,A.wd)(p()(e||""))),te=e=>{var t;const s=0|(null===(t=(e||[]).slice().sort(((e,t)=>t.priority-e.priority))[0])||void 0===t?void 0:t.priority);return s<1500?1500+s+1:s>1999?1999:s+1}},53957:(e,t,s)=>{"use strict";s.d(t,{qC:()=>d,zM:()=>S,vG:()=>p,iZ:()=>C,uj:()=>A});var a=s(67294),n=s(73935),r=s(63352),o=s(9333),i=s(76531),l=s(99839),c=s(8575);function d(e,t=[]){(0,r.Z)("function"==typeof e.querySelectorAll,"#fixImageSrc: Expect container to be a html element"),[].forEach.call(e.querySelectorAll('img[src^="cid://"], img[src^="blob:"]'),(e=>{const s=e.src&&e.src.startsWith("cid://"),a="<"+e.src.slice("cid://".length)+">",n=t.find((t=>t.contentId===(s?a:e.getAttribute("data-id"))));n&&(e.src=n.downloadUrl,e.setAttribute("data-id",n.dataId||e.dataset.id))}))}const E=/(relative|absolute)/i,_=/messages\/@\.id==(.*)\/content\/parts\/@\.id==([0-9.]*)\//i,u='img[src*="/content/parts/@.id=="]:not([class*=preview])';function m(e,t,s,r,c,d,_){const u=document.createElement("div"),m=document.createElement("span"),{width:S,height:p}=s.getBoundingClientRect(),{naturalWidth:C=S,naturalHeight:A=p}=s;if(!(C<250||A<100)){m.classList.add("img-dl-btn"),u.classList.add("img-preview-wrapper"),s.parentNode.insertBefore(u,s),s.parentNode.removeChild(s),s.classList.add("preview"),_&&s.setAttribute("data-attachment-id",r),u.appendChild(s),u.appendChild(m),s.addEventListener("mouseenter",(t=>{if(m.contains(t.relatedTarget))return;let s=t.target&&t.target.parentNode;for(;s&&s!==e&&!E.test(s.style.position);)s=s.parentNode;const a=t.target.getBoundingClientRect(),n=s.getBoundingClientRect(),r=a.top-n.top+a.height-40,o=a.left-n.left+a.width-40;m.style.top=`${r}px`,m.style.left=`${o}px`,m.style.opacity=.8})),s.addEventListener("mouseleave",(e=>{m.contains(e.relatedTarget)||(m.style.opacity=1e-4)}));try{if(r&&r.includes("inlineImage"))return;n.unstable_renderSubtreeIntoContainer(t,a.createElement(o.default,{title:d,kind:i.Kinds.DOWNLOAD,colorState:i.ColorStates.WHITE,onClick:()=>c(r),size:S<=100?i.Sizes.XXS:i.Sizes.XS}),m)}catch(T){l.Z.error("inline_image_download_btn",T)}}}const S=e=>{const[,t,s]=e&&e.match(_)||[];return t&&s?`${t}:${s}`:null};function p(e){const t=e&&e.src||"",s=C(t);t!==s&&(e.src=s)}function C(e){const{protocol:t,host:s,pathname:a,query:n,hash:r}=(0,c.parse)(e);if(!s||!a||!(s.indexOf("dl-mail.ymail.com")>-1&&a.indexOf("/raw")>-1))return e;const o=r?`#${r}`:"";return`${t}//apis.mail.yahoo.com${a.split("/").map(((e,t)=>2===t?"v3":10===t?"refresh":e)).join("/")}?${n}${o}`}function A({element:e,component:t,onDownload:s,downloadTitle:a,shouldFixSrcURL:n=!1,logVisibilityStat:r=(()=>{}),msgId:o,externalInlineImagePreviewEnabled:i}){const c=function(e,t,s,a){const n=s?"img":u,r=Array.from(e.querySelectorAll(n));a&&r.forEach(p);return r.filter((t=>!s||function(e,t){let s=e;for(;s&&s!==t;){if("A"===s.nodeName&&s.hasAttribute("href"))return!1;s=s.parentNode}return!0}(t,e))).map(((e,a)=>{const n=S(e&&e.src);return s?{image:e,attachmentId:n||`inlineImage-${t}:${a}`,partId:`${a}`}:n?{image:e,attachmentId:n}:void 0})).filter(Boolean)}(e,o,i,n),d=function(e,t,s){let a;void 0!==window.IntersectionObserver&&(a=new IntersectionObserver((s=>{let n,r;const{boundingClientRect:o={},intersectionRatio:i}=s[0],l=document.querySelector('[data-test-id="message-group-view-scroller"]');l&&(n=l.getBoundingClientRect().height,r=Math.round(n/l.scrollHeight*100)),t({msgGroupHeight:n,msgGroupVisibility:r,msgCardVisibility:Math.round(100*i),msgCardHeight:Math.round(o.height||0)}),a.unobserve(e),a.disconnect()})));function n(){a&&a.observe(e)}return(e=[])=>{if(!e.length)return n(),e;const t=e.length;let a=e.filter((({image:{complete:e,naturalWidth:t}})=>e&&t)).length,r=e.filter((({image:{complete:e,naturalWidth:t}})=>e&&!t)).length;const o=(e,a)=>{t===e+a&&(l.Z.error("total_inline_images_in_msg",{msgId:s,failed:a,loaded:e}),n())};return o(a,r),e.filter((({image:e})=>!e.complete)).forEach((({image:e})=>{e.addEventListener("load",(()=>o(++a,r))),e.addEventListener("error",(()=>o(a,++r)))})),e}}(e,r,o),E=[d,T],_=function({element:e,component:t,onDownload:s,downloadTitle:a,externalInlineImagePreviewEnabled:n}){return(r=[])=>(r.forEach((({attachmentId:r,image:o})=>{o.complete&&o.naturalWidth?m(e,t,o,r,s,a,n):o.addEventListener("load",(()=>m(e,t,o,r,s,a,n)))})),r)}({element:e,component:t,onDownload:s,downloadTitle:a,externalInlineImagePreviewEnabled:i});return E.push(_),c.length?function(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return function(){return e(t.apply(this,arguments))}}))}(...E)(c):d()}function T(e=[]){return e.forEach((({attachmentId:e,image:t})=>{const s=()=>l.Z.error("inline_image_load_failure",{attachmentId:e,src:t.src});t.complete&&0===t.naturalWidth?s():t.addEventListener("error",s)})),e}},31057:(e,t,s)=>{"use strict";s.d(t,{JB:()=>S,wb:()=>p,QP:()=>M,LY:()=>L,Fh:()=>P,Kw:()=>y,Bq:()=>b,iB:()=>F,_o:()=>U,uh:()=>v,j_:()=>w,yv:()=>G,xe:()=>k,ci:()=>H,RI:()=>x,ap:()=>V,BO:()=>W,C4:()=>Z,d0:()=>K,yz:()=>z,WN:()=>q,aY:()=>Y,GG:()=>j,rR:()=>Q,yE:()=>X,lG:()=>J,I1:()=>$,Ie:()=>ee,WW:()=>te,h_:()=>se,Yy:()=>ae,Er:()=>ne,JO:()=>re,Q7:()=>oe,Fv:()=>ie,Jh:()=>le,RB:()=>ce,DB:()=>de,Mz:()=>Ee,vQ:()=>_e,tE:()=>ue,tr:()=>me,Rm:()=>Se,Ez:()=>pe,rA:()=>Ce,H7:()=>Ae,s7:()=>Te,SH:()=>he,AU:()=>ge,ft:()=>Ie,zu:()=>Re,cn:()=>Oe,kw:()=>De,YC:()=>Ne,rB:()=>fe,DF:()=>Me,Ob:()=>Le,yd:()=>Pe,dZ:()=>ye,dV:()=>be,ug:()=>Fe,Yd:()=>Ue,Po:()=>ve,m6:()=>we,fG:()=>Ge,y0:()=>ke,I7:()=>He});var a=s(18446),n=s.n(a),r=s(88306),o=s.n(r),i=s(17673),l=s(92039),c=s(60037),d=s(37422),E=s(8106),_=s(95406),u=s(3405),m=s(63523);const S=e=>`ListUi-${e}`,p="DEFAULT_MESSAGES_METADATA_CACHEKEY",C=/^folders=([0-9]+)$/,A=/^is\:(starred|flagged|unread|read)$/gi,T="category";function h({name:e="",referrer:t="",keyword:s="",excludefolders:a=[],folders:n=[],accountIds:r=[],fromNames:o=[],emailAddresses:i=[],listContentType:l=d.F6k.MESSAGES,listFilter:c=d.ukn.WITH_KEYWORD,sortOrder:E=d.Asd.DATE_DESC,listIds:_=[],contactIds:u=[],brandId:m="",mimeType:S=""}){return{name:e,referrer:t,keyword:s,folders:[...n],accountIds:[...r],emailAddresses:[...i],excludefolders:[...a],listContentType:l,listFilter:c,sortOrder:E,contactIds:[...u],brandId:m,fromNames:[...o],listIds:[..._],mimeType:S}}const g=h(Object.create(null)),I=Object.keys(g).sort(),R=I.map((e=>g[e])),O=JSON.stringify(I.map((()=>"")));function D(e){const t=JSON.parse(e);if(!Array.isArray(t))return h(t);return h(t.reduce((function(e,t,s){return e[I[s]]=t||R[s],e}),Object.create(null)))}const N=function(e){return JSON.stringify(I.map((function(t,s){const a=e[t];return!a||a===R[s]||Array.isArray(a)&&a.length<=0?"":Array.isArray(R[s])&&!Array.isArray(a)?[a]:a})))},f=(0,E.jU)()?o()(D):D;function M(e){let t={};t=i.parse(e)||{};const s=parseInt(e,10)?e:t.folders;return s&&(t.folders=Array.isArray(s)?s:[s]),N(t)}function L(e){const{query:t,fid:s,serializedListId:a}=e.params||{};let n={};if(a)return M(a);if(t)n=i.parse(t);else if(s){n=i.parse(s);const{folders:e=[s]}=n;n.folders=e}else e.query&&(n=e.query);return e.name===d.n8z.SUBSCRIPTION_LIST&&(n.listContentType=d.F6k.SUBSCRIPTIONS),N(n)}function P(e){const{folders:t}=f(e);if(1===t.length)return t[0]}function y(e,t=d.Asd.DATE_DESC){return N({folders:[e],sortOrder:t})}const b=(e,t)=>N({listContentType:d.F6k.SUBSCRIPTIONS,sortOrder:e,accountIds:[t]}),F=e=>N({listContentType:d.F6k.SUBHUB_RECOMMENDATION_LIST,sortOrder:e}),U=()=>N({listContentType:d.F6k.BLOCKED_DOMAINS}),v=(e,t,s="")=>N({listContentType:d.F6k.CONTACTS,listFilter:e,keyword:t,name:s}),w=e=>v(d.ukn.WITH_KEYWORD,e),G=e=>N({listContentType:d.F6k.CONTACTS,listFilter:d.ukn.IMPORTANT_CONTACTS,keyword:e}),k=({type:e,filter:t,accountId:s,folderId:a})=>N({referrer:d.v6P[e]||void 0,listFilter:t,folders:[a],accountIds:[s]}),H=e=>{const t=f(e);return t.listFilter===d.ukn.WITH_KEYWORD?t.keyword:""};function B(e){const{keyword:t=""}=f(e);return t.split(" ").filter((e=>e.trim().match(A)))}function x(e){return B(e).length>0}function V(e,t){const s=B(e);let a=!0;return s.forEach((e=>{if(a)switch(e){case"is:unread":a=!t.read;break;case"is:read":a=!!t.read;break;case"is:starred":case"is:flagged":a=!!t.flagged}})),a}function W(e,t){let s=!1;if("function"==typeof t)s=t("string"==typeof e?e:N(e));else if("string"==typeof t)s=("string"==typeof e?e:N(e))===t;else{const a="string"==typeof e?f(e):e;s=Object.keys(t).every((e=>{const s=t[e];return Array.isArray(s)?s.indexOf(a[e])>=0:s===a[e]}))}return s}function Z(e){return f(e).listFilter}function K(e){if(!e)return p;const{keyword:t}=f(e);return t&&Z(e)===d.ukn.WITH_KEYWORD?e:p}function z(e){const t=f(e);return t.name||t.keyword||""}function q(e){return f(e).listContentType}function Y(e){return f(e).referrer}function j(e){const t=Y(e);return!!t&&(0,_.VO)(d.v6P).indexOf(t)>-1}function Q(e){const t=Z(e);return d.mVv.indexOf(t)>-1?t:null}function X(e){return j(e)&&!Q(e)}function J(e){const{emailAddresses:t=[]}=f(e);return t.length>0}function $(e){return f(e).mimeType}function ee(e,t){const s=f(e),a=q(e);let n=Z(e);const r=Y(e),{MESSAGES:o,IMAGES:i,DOCUMENTS:l,PEOPLE:E,AL:_,CARDS:u,PLA:S}=d.ZyO;let p=[o,i,l,E,_].join(",");const C=X(e);let A;const T=$(e);if(C)switch(a){case d.F6k.MESSAGES:p=o;break;case d.F6k.IMAGES:p=i,A=n;break;case d.F6k.DOCUMENTS:p=l}else if(J(e))r===d.qd8.CONTACT_DETAILS&&(n=d.ukn.FROM,p=[E,i,l,u].join(","));else switch(a){case d.F6k.MESSAGES:p=null!=t&&t.plaAdsEnabled?[o,E,S].join(","):[o,E,_].join(",");break;case d.F6k.IMAGES:p=[i,E].join(",");break;case d.F6k.DOCUMENTS:p=[l,E].join(",")}const h=Object.assign({},s,{listFilter:n,expand:p});return C&&[d.F6k.IMAGES,d.F6k.DOCUMENTS].indexOf(a)>-1&&!(0,m.lX)(e)&&(h.keyword=""),A&&(h.filters=A),h.mimeType=T&&Object.keys(c.LO).indexOf(T)>-1?T:"",h}function te(e){return f(e).sortOrder}function se(e){return f(e).name}function ae(e){return f(e).brandId}function ne(e){return f(e).accountIds}function re(e){return f(e).excludefolders}function oe(e){return f(e).keyword}const ie=e=>e.startsWith(T+u.be)?e.substring((T+u.be).length):"",le=e=>e.startsWith("id"+u.be)?e.substring(("id"+u.be).length):"",ce=e=>T+u.be+e,de=e=>!!ie(e);function Ee(e){const{folders:t,keyword:s}=f(e),a=(0,l.MW)(s)[l.nk.FOLDERS]||[];return t.length?{folderIds:t,folderNames:[]}:{folderIds:[],folderNames:a}}function _e(e){return e!==O}function ue(e,t={}){return N(Object.assign({},f(e),t))}function me(e){const t=f(e),s=h({}),a={},{emailAddresses:n=[],listFilter:r=d.ukn.WITH_KEYWORD}=t;n.length>0&&r===d.ukn.WITH_KEYWORD&&(t.listFilter=d.ukn.FROM);return Object.keys(t).forEach((e=>{const n=t[e];Array.isArray(n)?n.length>0&&(a[e]=n):n&&n!==s[e]&&(a[e]=n)})),i.stringify(a)}function Se(e){return me(e).replace(C,"$1")}function pe(e){return N(e)}const Ce=pe,Ae=({referrer:e="",listFilter:t=d.ukn.ALL_COUPON_CARDS,...s})=>""===e?"":Ce({listContentType:d.F6k.COUPON_CARDS,listFilter:t,referrer:e,...s});function Te(e){return Q(L(e))}function he(e){const t=L(e);return e.name===d.n8z.LIST&&j(t)&&!!Te(e)}function ge(e){const t=L(e),s=j(t),a=Q(t);return e.name===d.n8z.LIST&&s&&(a===d.ukn.NEWMAIL||a===d.ukn.OLDMAIL)}function Ie(e){const t=j(e),s=Q(e);return t&&(s===d.ukn.NEWMAIL||s===d.ukn.OLDMAIL)}function Re(e){const t=L(e);return(e.name===d.n8z.LIST||e.name===d.n8z.SEARCH)&&j(t)}function Oe(e){if(!e)return!1;const t=L(e),{name:s}=e;return!!([d.n8z.STOREFRONT,d.n8z.SUBSCRIPTION_LIST].indexOf(s)>-1||function(e){const t=Y(e);return!!t&&(0,_.VO)(d.izb).indexOf(t)>-1}(t))}function De(e){if(!X(e)&&!Ie(e))return;const t=Z(e),s=Y(e);switch(t){case d.ukn.OLDMAIL:return d.K8C.OLDMAIL;case d.ukn.NEWMAIL:return d.K8C.NEWMAIL}return Object.keys(d.v6P).find((e=>d.v6P[e]===s))}function Ne(e){if(!e)return;const{name:t}=e;return t===d.n8z.SUBSCRIPTION_LIST?d.K8C.SUBSCRIPTIONS:t===d.n8z.STOREFRONT?d.K8C.STOREFRONT:De(L(e))}function fe(e){const t=De(L(e));return e.name===d.n8z.SEARCH&&!!t&&[d.K8C.UNREAD,d.K8C.STARRED].indexOf(t)>-1}function Me(e){const{emailAddresses:t=[]}=f(e);return t[0]}function Le(e){return f(e).emailAddresses}function Pe(e){return f(e).listIds}function ye(e){return f(e).fromNames}function be(e,t){const{keyword:s=""}=f(e);return-1!==((0,l.MW)(s).is||[]).indexOf(t)}function Fe(e){const{referrer:t,keyword:s,emailAddresses:a,folders:n}=f(e);return!!(t||s||a&&a.length||n&&0===n.length)}function Ue(e){const t=q(e);return t===d.F6k.REFUND_CARDS||t===d.F6k.COUPON_CARDS||t===d.F6k.TRAVEL_CARDS||t===d.F6k.OFFER_CARDS}const ve=(e,t)=>t.reduce(((e,t)=>-1!==e.indexOf(t)?e:[...e,t]),[...e]);function we(e,t,s){if(-1!==t.indexOf(s))return t;return te(e)===d.Asd.DATE_DESC?[s,...t]:[...t,s]}const Ge=(e,t,s)=>{const{itemIds:a,totalHits:r,hasMoreItems:o}=t.lists[s];return 0!==a.length&&o?a.length>e.length||a.length<e.length&&a.length===r?a:n()(e.slice(0,a.length),a)?e:((e,t)=>{let s=-1;for(let a=t.length-1;a>=0;a--){const n=e.findIndex((e=>e===t[a]));if(-1!==n){s=n;break}}return-1===s?t:ve(t,e.slice(s+1,e.length))})(e,a):a.length===e.length&&n()(e,a)?e:a},ke=e=>{switch(e.name){case d.n8z.FOLDER:case d.n8z.SEARCH:return!0;case d.n8z.LIST:return ge(e);default:return!1}},He=e=>{var t;return(null==e||null===(t=e.query)||void 0===t?void 0:t.ncid)||""}},10728:(e,t,s)=>{"use strict";s.d(t,{Tgy:()=>Ke,oHn:()=>ze,bFX:()=>z,fej:()=>K,qcv:()=>q,TSB:()=>Y,qxO:()=>j,ACI:()=>Z,n4M:()=>W,ODI:()=>V,gOp:()=>x,SVW:()=>v,Hgi:()=>U,nGq:()=>i,E54:()=>m,Ejy:()=>d,Plh:()=>b,nVO:()=>Fe,ydg:()=>be,GZk:()=>At,Zbf:()=>Ct,lao:()=>pt,BOt:()=>St,rcB:()=>rt,ljI:()=>ot,ZzG:()=>at,CHL:()=>_,SDK:()=>st,Ehc:()=>Pe,YS_:()=>O,jh8:()=>R,h_d:()=>C,EDd:()=>H,bG1:()=>k,yN:()=>G,qNP:()=>w,NzJ:()=>I,mg$:()=>o,m1H:()=>D,twz:()=>N,KxA:()=>S,gtT:()=>f,fa0:()=>fe,zoe:()=>Q,CT1:()=>mt,M2k:()=>F,Fn_:()=>_e,V2F:()=>Ee,e0T:()=>ue,l9k:()=>de,A3h:()=>ne,rZd:()=>oe,O2p:()=>re,zJB:()=>ie,xwf:()=>ce,BKZ:()=>le,DGE:()=>te,yNf:()=>ae,zDu:()=>se,k5G:()=>ee,iWM:()=>me,BNf:()=>Se,zhE:()=>et,mQ2:()=>Ve,BMy:()=>Ge,E6z:()=>Ue,lmS:()=>Me,dEt:()=>Ne,qVV:()=>he,tsr:()=>ge,ogS:()=>Ie,GdE:()=>Te,Q3u:()=>Ce,TQs:()=>Ae,XpS:()=>Re,bA8:()=>Oe,Yw5:()=>De,HOW:()=>M,HxO:()=>P,S6d:()=>L,hMM:()=>Ze,ZYh:()=>nt,lHp:()=>$e,y7x:()=>Je,MLs:()=>Xe,a1j:()=>Qe,v9j:()=>je,kaB:()=>Ye,mzh:()=>qe,FPr:()=>lt,HB2:()=>it,qQ5:()=>ye,fo3:()=>$,w_K:()=>ut,K_u:()=>He,A_$:()=>Be,jv9:()=>xe,lHY:()=>ke,cl5:()=>h,oqp:()=>Le,FsO:()=>c,naA:()=>pe,iUz:()=>ve,Cjz:()=>u,xW2:()=>We,MmD:()=>_t,LSY:()=>we,Cjq:()=>tt,TfM:()=>dt,vws:()=>Et,j8t:()=>ct});var a=s(55570),n=s.n(a);var r=s(90775);const o=4,i=n().vzm_smurfette,l=n().vzm_smurfette,c="transparent",d=n().vzm_smurfette,E=(n().ycolorRed2a,n().vzm_swedish_fish),_=((0,r.m)(E,.1),n().vzm_sky),u="#fff",m=n().vzm_inkwell,S=n().vzm_battleship,p=n().vzm_dolphin,C=n().vzm_shark,A=(n().vzm_grey_hair,n().ycolorPurple14a),T=(n().vzm_blurple,n().vzm_grape_jelly,n().vzm_bob,n().vzm_gandalf),h=n().ycolorGrayG,g=n().vzm_masala,I=n().vzm_dirty_seagull,R=n().ycolorGrayI,O=(n().ycolorGrayFg,n().ycolorGrayFg,n().vzm_dirty_seagull,n().ycolorGrayJ,"rgba(255, 255, 255, .6)"),D="#7282fb",N="#7934f7",f=((0,r.m)("#FFFFFF",.5),(0,r.m)("#FFFFFF",.3),"rgba(24,143,255, 0.08)"),M=(n().vzm_dirty_seagull,n().vzm_smurfette),L=u,P=(n().vzm_cobalt,n().ycolorGrayG),y=(n().vzm_dirty_seagull,n().vzm_dory),b=(n().vzm_smurfette,n().vzm_cobalt,n().vzm_charcoal,n().vzm_inkwell,"bold"),F=500,U='YahooSans, "Helvetica Neue", "Segoe UI", Helvetica, Arial, sans-serif',v="13px",w="11px",G="13px",k="15px",H="17px",B="24px",x=20,V=32,W=96,Z=28,K=40,z=24,q=42,Y=44,j=60,Q={NORMAL:m,FIRST_LEVEL_GRAY:C,FIRST_LEVEL_ORANGE:g,NORMAL_LESS_DIM:"rgba(38, 40, 42, 0.8)",IMPROVED_GRAY_DARK:S,INVERTED:u,INVERTED_MORE_DIM:"rgba(255, 255, 255, 0.3)",INVERTED_DIM:"rgba(255, 255, 255, 0.5)",INVERTED_LESS_DIM:"rgba(255, 255, 255, 0.8)",SELECTED:l,PRIMARY_HOVER:y,SELECTED_DARK_THEME_MODE:_,DISABLED:T,STARRED:n().vzm_masala,STARRED_DARK:n().vzm_turmeric,SMARTVIEW_DARK:"rgba(255, 255, 255, .6)",LESS_IMPORTANT:p,SECOND_LEVEL_GRAY:T,THIRD_LEVEL_GRAY:h,FAINT:n().vzm_dirty_seagull,COOL_FAINT:n().ycolorGrayFg,ADVISORY:n().vzm_turmeric,WARNING:n().vzm_barbie,HEADING:"#775eec",HOVER_BGCOLOR:"rgba(24, 143, 255, 0.08)",ICON_HOVER_BGCOLOR:"rgba(24, 143, 255, 0.15)",ACTIVE_BGCOLOR:"rgba(185, 189, 197, 0.3)",YBADGE:n().ycolorPurple14c,YBANG:n().vzm_grape_jelly,GREEN:n().vzm_mulah,PURPLE:A,TOUCH_PRIMARY:n().vzm_smurfette,Attachments:{MEDIA:n().vzm_barney,CAL:n().vzm_barney,EXCEL:n().vzm_mulah,DOC:n().vzm_dory,SLIDE:n().vzm_carrot_juice,PDF:n().vzm_carrot_juice,GENERIC:n().vzm_smurfette,COMPRESSED:n().ycolorTurquoise8b},SmartViews:{PEOPLE:n().vzm_turmeric,SHOPPING:"#EF5483"},SocialIcons:{FACEBOOK:"#3B5998",LINKEDIN:"#0077B5",TWITTER:"#1DA1F2"}},X=(n().ycolorGrayI,n().vzm_dirty_seagull,n().vzm_barbie,n().vzm_gandalf,6),J="rgba(0, 0, 0, .3)",$={LOW:`0 0 ${3}px ${J}`,MED:`0 0 ${X}px ${J}`,HIGH:`0 0 ${10}px ${J}`,BLACK_MED:`0 0 ${X}px rgb(0, 0, 0)`},ee=(n().vzm_inkwell,n().ycolorGrayFg,13*o),te=8*o,se=6*o,ae=11*o,ne=14*o,re=12*o,oe=15*o,ie=18*o,le=16*o,ce=20*o,de=12*o,Ee=18*o,_e=3.25*Ee,ue=2*(12*o),me=15*o,Se=20*o,pe=34*o,Ce=32,Ae=30,Te=180,he=180,ge=32,Ie=45,Re=285,Oe=490,De=180,Ne=180,fe=8*o,Me=158,Le=400,Pe=16*o,ye=18.75*o,be=34*o,Fe=44.5*o,Ue=n(),ve={APP_HEADER_MAIL_APPS:0,APP_HEADER_ACCOUNT_MENU:0,APP_HEADER_SEARCHBOX:10,FOLDER_LIST:20,MESSAGE_LIST_TOOLBAR:30,MESSAGE_LIST_MAIN:40,MESSAGE_GROUP_HEADER:50,SEGMENTED_CONTROL_FILTERS:60,ATTACHMENT_PREVIEW:70,ATTACHMENT_PREVIEW_TOOLBAR:80,COMMS_PROPERTIES_BAR:90,CONTACTS_SEARCH_BAR:100,CONTACTS_PANE_HEADER:110,CONTACTS_LIST:120,CONTACTS_FOOTER:130,FOLDER_SELECTION_MENU:140},we={CURSOR:11e3,MODAL:1e4,POPOVER:{LOW:100,MEDIUM:500,HIGH:900},OVERLAY:9e3,NOTIFICATION:9100,NOTIFICATION_FROM_MODAL:10100,PERSISTENT_NOTIFICATION:90,TIMECHUNK:10},Ge={TRANSPARENT:0,LOW:.3,MEDIUM:.75},ke=108,He=144,Be=28,xe=250,Ve=1360,We=1600,Ze={S:"88px",L:"160px"},Ke=192,ze=332,qe=332,Ye=`${qe}px`,je=`${Ke}px`,Qe=52,Xe=300,Je=160,$e=600,et=(Ue.vzm_smurfette,n().vzm_turmeric,{enter:225,leave:195,fullScreen:375}),tt=(n().vzm_sea_foam,n().ycolorBluegreen7a,n().vzm_swedish_fish,n().vzm_barney,{PURPLE_GRADIENT:"purpleGradient"}),st=29*o,at=9*o,nt=9*o,rt=23.5*o,ot=36*o,it=11*o,lt="#2A211E",ct={display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",bottom:4*o+"px",right:0,height:8*o+"px",width:8*o+"px",marginRight:"16px",backgroundColor:(0,r.m)("#000",.7),borderRadius:"2px",cursor:"pointer",zIndex:2},dt={display:"inline-block",width:B,height:B,fill:Q.NORMAL,"pointer-events":"none",flexShrink:0,WebkitTapHighlightColor:c},Et={display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},_t=21*o,ut=8*o,mt=40*o,St=9*o,pt=140*o,Ct=160*o,At=20*o},10587:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>a,A9:()=>n});const a="all",n=e=>{const t=(null==e?void 0:e.preferences)||{};return Object.keys(t).reduce(((e,s)=>((s!==a&&!1===t[s].isSubscribed||s===a&&!0===t[s].isSubscribed)&&(e[s]=!0),e)),{})}},18247:(e,t,s)=>{"use strict";s.d(t,{gc:()=>c,mv:()=>d,Xu:()=>E,DQ:()=>_,sQ:()=>u,K:()=>m,ad:()=>S,b1:()=>p,Zr:()=>C,aX:()=>A,Se:()=>T,ln:()=>g,AN:()=>I,o_:()=>R});var a=s(63352),n=s(37422),r=s(17016),o=s(42907),i=s(95406),l=s(33612);function c({messageGroupId:e,mId:t}){return t?e+"-"+t:e}function d(e){return(0,o.IZ)(e.folder)===n.Sck.DRAFT}function E(e){return(0,o.IZ)(e.folder)===n.Sck.TRASH}function _(e){return(0,o.IZ)(e.folder)===n.Sck.BULK}function u(e){return t=>t.folder.id===e}function m(e){return e.length>27?e.split("_").pop().replace(/\+/g,"-").replace(/\//g,"_"):e}function S({partId:e,contentId:t},s){return(0,a.Z)(s,"#generateAttachmentId must receive a messageId"),`${s}:${e||t}`}function p(e=""){if(e.includes("inlineImage"))return(0,l.dX)(e);const[t]=e.split(":");return t}function C(e,t){return e.filter((({folder:e})=>t((0,o.IZ)(e))))}function A({schemaOrg:e=[]}){var t;const s=e.find((e=>{const t=e.schema;return((null==t?void 0:t["@type"])||"")===n.rgK.AntispamResult})),a=(null==s||null===(t=s.schema)||void 0===t?void 0:t.antispamStatus)||[],r="http://schema.org/v1/",o=[];return a.forEach((e=>{if(e.startsWith(r)){const t=e.slice(r.length);n.DBG[t]&&o.push(n.DBG[t])}})),o.length>0?(0,i.gP)(o):{}}function T(e,t=[]){return e.schemaOrg.forEach((s=>{const a=s.schema||s,o=a["@type"];switch(o){case n.rgK.ReservationPackage:a.subReservation&&T({...e,schemaOrg:a.subReservation},t);break;case n.rgK.FlightReservation:{if(!a.reservationFor)break;const{reservationId:e="",reservationFor:s}=a;let{underName:r=[],potentialAction:l=[]}=a;const{departureAirport:c,departureTime:d,departureTerminal:E="",arrivalAirport:_,arrivalTerminal:u="",flightNumber:m="",arrivalTime:S=""}=s;if(!(c&&_&&d&&a["@id"]))break;let p="";Array.isArray(l)||(l=[l]),Array.isArray(r)||(r=[r]),l.some((e=>{if(e["@type"]===n.rgK.CheckInAction&&e.url)return p=(0,i.u9)(e,"url.@value")||(0,i.u9)(e,"url",""),!0})),t.push({id:a["@id"],type:o,providerName:(0,i.u9)(s,"provider.name",""),providerIataCode:(0,i.u9)(s,"provider.iataCode",""),providerUrl:(0,i.u9)(s,"provider.url",""),departureAirportName:(0,i.u9)(c,"name",""),departureAirportDesc:(0,i.u9)(c,"description",""),departureAirportCode:(0,i.u9)(c,"iataCode",""),departureTime:d,departureTerminal:E,arrivalAirportName:(0,i.u9)(_,"name",""),arrivalAirportDesc:(0,i.u9)(_,"description",""),arrivalAirportCode:(0,i.u9)(_,"iataCode",""),arrivalTime:S,arrivalTerminal:u,flightNumber:m,reservationId:e,passengers:r.map((e=>e.name)),checkInUrl:p});break}case n.rgK.Recommendation:{var l;const s=a.recommendedItem||[],n=e.cardConversationId||"",c=(0,i.u9)(e,"headers.from",[]),d=(null==a?void 0:a.identifier)||[],E=JSON.parse((null===(l=d.find((({propertyID:e})=>"extractionMeta"===e)))||void 0===l?void 0:l.value)||"[]")[0]||{};s.forEach((s=>{var a,i,l,d,_,u;const m=s.name||"",S=s["@id"]||"",p=e.id||"",C=s["@type"];t.push({cardConversationId:n,cmid:p+(0,r.generateRandomStringWithLength)({min:5,max:5}),dealLink:(null===(a=s.url)||void 0===a?void 0:a["@value"])||s.url||"",description:m,from:c[0]||{},id:S,imageUrl:(null===(i=s.image)||void 0===i?void 0:i["@value"])||s.image||"",price:(null===(l=s.offers)||void 0===l||null===(d=l.price)||void 0===d?void 0:d["@value"])||(null===(_=s.offers)||void 0===_?void 0:_.price)||"",amountUnit:null===(u=s.offers)||void 0===u?void 0:u.priceCurrency,type:o,extractionMeta:E,entity:C})}));break}case n.rgK.ParcelDelivery:{var c,d,E,_,u,m;const s=(null==a||null===(c=a.partOfOrder)||void 0===c||null===(d=c[0])||void 0===d?void 0:d.orderNumber)||"",n=(null==a?void 0:a.trackingNumber)||"",r=(null==a||null===(E=a.itemShipped)||void 0===E||null===(_=E[0])||void 0===_?void 0:_.name)||"",i=(null==e?void 0:e.cardConversationId)||"",l=(null==a?void 0:a["@id"])||"",p=(null==a?void 0:a.trackingUrl)||"",C=(null==a?void 0:a.deliveryStatus)||[],A=(null==a||null===(u=a.partOfOrder)||void 0===u||null===(m=u[0])||void 0===m?void 0:m.inferredOrderDate)||"";let T="";(a.expectedArrivalUntil||a.expectedArrivalFrom)&&(T=(null==a?void 0:a.expectedArrivalUntil)||(null==a?void 0:a.expectedArrivalFrom)||"");let h="";if(C.length>1){var S;const e=C.length;h=null==C||null===(S=C[e-1])||void 0===S?void 0:S.description}t.push({cardConversationId:i,id:l,orderNumber:s,trackingNumber:n,name:r,type:o,trackingUrl:p,expectedArrival:T,deliveryStatusToShow:h,orderDate:A});break}case n.rgK.Coupon:{var p,C,A,h,g,I;const s=e.id,r=(0,i.u9)(a,"validThrough",""),l=(0,i.u9)(a,"description",""),c=(0,i.u9)(e,"headers.from",[]),d=(0,i.u9)(e,"cardConversationId",""),E=(0,i.u9)(e,"decos",[]).some((e=>e&&e.id===n.Jd6.TAG)),_=(0,i.u9)(a,"category",[]),u=(0,i.u9)(a,"valueReference",[]),m=0!==u.length?(0,i.u9)(u[0],"propertyID",""):"",S=(0,i.u9)(a,"image.url",null),T=(null==a||null===(p=a.image)||void 0===p||null===(C=p.height)||void 0===C?void 0:C.value)||null,R=(null==a||null===(A=a.image)||void 0===A||null===(h=A.width)||void 0===h?void 0:h.value)||null,O=(null==a||null===(g=a.offerSubType)||void 0===g?void 0:g[0])||{},D=Object.keys(O).filter((e=>!e.startsWith("@"))).map((e=>{const t=O[e],s=(null==t?void 0:t.value)||(null==t?void 0:t.maxValue)||"",a=(null==t?void 0:t.currency)||"";switch(e){case n.eN2.PERCENT_OFF:if(s)return{discountType:e,hasUpToField:!!t.maxValue,value:`${s}%`};break;case n.eN2.MONEY_OFF:if(s)return{discountType:e,hasUpToField:!!t.maxValue,value:`${a}${s}`};break;case n.eN2.FREE_SHIPPING:return{discountType:e,value:t}}}));if(!s||!l||!c.length||!r&&!m)break;const N=(null==a?void 0:a.identifier)||[],f=JSON.parse((null===(I=N.find((({propertyID:e})=>"extractionMeta"===e)))||void 0===I?void 0:I.value)||"[]")[0]||{},M=_.filter((e=>e["@id"]&&e.name&&"GPT"===e.taxonomy&&["haifaproduct","GPT_ASPEN_LIB"].includes(e.method))).map((e=>{var t,s;const a=(null===(t=e.name)||void 0===t?void 0:t.split(">"))||[],n=(null===(s=e.hierarchy)||void 0===s?void 0:s.split("."))||[],r=[];for(let o=0;o<a.length;o++)r.push({id:n[o]||e["@id"],name:a[o],level:o+1,isLeafNode:o===a.length-1});return r})).reduce(((e,t)=>{for(const s of t)e.some((e=>e.id===s.id))||e.push(s);return e}),[]),L=(0,i.u9)(_.find((e=>"Great Savings"===e.name)),"name","");t.push({id:s,type:o,validThrough:r,isInferredDate:"Inferred"===m,description:l,dealLink:(0,i.u9)(a,"url.value",a.url||""),saved:E,from:c[0],cardConversationId:d,unusualDiscount:L,couponCategories:M,retailer:(0,i.u9)(a,"broker.name",""),imageUrl:S,imageHeight:T,imageWidth:R,discountInfo:D.filter((e=>!!e)),extractionMeta:f,entity:"coupon"});break}case n.rgK.Order:{const{acceptedOffer:s={},orderedItem:n=[],potentialSaving:r={},orderDate:l,seller:c,inferredOrderDate:d,broker:E={}}=a;if(!n.length||!a["@id"])break;n.forEach((e=>{e.category=Array.isArray(e.category)?e.category:[]}));const _=(0,i.u9)(s,"price",null);t.push({id:e.immutableid,type:o,price:null!==_?Number(Number(_).toFixed(2)):null,currency:(0,i.u9)(s,"priceCurrency",""),potentialSavings:Number(Number((0,i.u9)(r,"price",0)).toFixed(2)),orderedItems:n,orderDate:l||d,sellerName:c?(0,i.u9)(c,"name",""):"",broker:E});break}case n.rgK.EmailMessage:{const s=[];(a.category||[]).forEach((e=>{e.topics?e.topics.forEach((e=>{s.push({id:e["@id"],name:e.name})})):e.topic&&s.push({id:e.topic["@id"],name:e.topic.name})})),t.push({id:e.immutableid||e.id,type:o,categories:s});break}}})),t}function h(e){return`${e.email}@${e.name}`}function g(e){const t=e.length;if(t<=1)return e;const s=e[0],a={[h(s)]:s,[h(e[t-1])]:e[t-1]},n=[s];return e.slice(1,t-1).forEach((e=>{const t=h(e),n=a[t];(n!==s&&!n||!n.recent&&e.recent)&&(a[t]=e)})),e.slice(1,t-1).forEach((e=>{const t=h(e);a[t]===e&&n.push(e)})),n.push(e[t-1]),n.every((({email:e,recent:t,name:a})=>s.email===e&&s.recent===t&&s.name===a))?[s]:n}function I(e){if(1===e.length)return[0];const t=[0,e.length-1];let s=2;for(let a=1;a<e.length-1;a++){e[a].recent?(t.splice(s,0,a),s++):t.push(a)}return t}function R({recipients:e,participants:t,myAddresses:s}){let a=function(...e){const t={},s=[];let a=0;return e.forEach((e=>{e.forEach((e=>{const n=t[e.email];void 0===n?(t[e.email]=a,s[a]=Object.assign({},e),a++):s[n].recent=s[n].recent||e.recent}))})),s}(e,t);if(a.length){const e=a.filter((e=>!s[e.email]));e.length&&(a=e)}return a}},62760:(e,t,s)=>{"use strict";s.d(t,{aS:()=>o,Y3:()=>l,g_:()=>E,LA:()=>_,eW:()=>u,bR:()=>m,sd:()=>C});var a=s(18247),n=s(31057),r=s(37422);s(44908);function o(e){return e.filter((e=>{var t,s;return(null==e||null===(t=e.headers)||void 0===t||null===(s=t.from)||void 0===s?void 0:s.length)&&(e.headers.from[0].email||e.headers.from[0].name)})).map((e=>{var t;return{email:e.headers.from[0].email,name:e.headers.from[0].name,recent:!(null!==(t=e.flags)&&void 0!==t&&t.read)}}))}function i(e){return e.messages.some((e=>e.attachments&&e.attachments.length))}function l(e=[]){return e.map((e=>e.domain)).join("").toLowerCase().indexOf("yahoo")>=0}function c(e){return e.messages.some((e=>l(e.verifiedDomains)))}function d(e){return e.messages.some(a.mv)}function E(e){return e.messages.every(a.mv)}function _(e){return e.messages.every(a.Xu)}function u(e){return e.messages.every(a.DQ)}function m(e=""){return e.replace(/\^_(.+?)\^_/g,"$1")}function S(e){const t=e.messages;for(let s=t.length-1;s>=0;s--){if(t[s].folder.types[0]!==r.Sck.TRASH)return t[s].folder}return t[t.length-1].folder}function p(e,t={}){const{listId:s}=t;let r;s&&(r=(0,n.Fh)(s));return(function(e,t){return function(e,t){const s=e.messages;let a;for(let n=s.length-1;n>=0;n--)if(t(s[n])){a=s[n];break}return a}(e,(0,a.sQ)(t))}(e,r)||e.messages[e.messages.length-1]).headers.date}function C(e,t={}){const s=function(e){const t=e.messages;let s=!0,a=!1,n=!1,r=!1;for(let o=0;o<t.length;o++){const e=t[o];e.flags.read||(s=!1),e.flags.flagged&&(a=!0),e.flags.answered&&(n=!0,r=!1),e.flags.forwarded&&(r=!0,n=!1)}return{read:s,flagged:a,answered:n,forwarded:r}}(e),a=o(e.messages),n=e.messages.reduce(((e,t)=>t.headers.to.filter((e=>e.email||e.name)).reduce(((e,s)=>(e.push({email:s.email,name:s.name,recent:!t.flags.read}),e)),e)),[]);const r=e.messages[e.messages.length-1],l=e.messages[0].headers.subject,E=r.snippet;return{flags:s,participants:a,recipients:n,subjectWithMatchDelimiter:l,snippetWithMatchDelimiter:E,subject:m(l),snippet:m(E),date:p(e,t),messageCount:e.messages.length,hasAttachment:i(e),hasVerifiedMessage:c(e),hasDraft:d(e),folder:S(e)}}},70582:(e,t,s)=>{"use strict";s.d(t,{dj:()=>o,_m:()=>c,EL:()=>d});var a=s(96943);const n="[a-zA-Z0-9-_]*",r={start:0,end:0},o="yahoo_quoted";function i(e){if(0===e.length)return!1;const{divIds:t}=e[0];return 0!==t.length}function l(e,{divIds:t=[]}){const s=[];let o=r;return t.forEach((t=>{let i=r;try{i=function(e,{divId:t}){let s,a;const o=new RegExp("<div[^>]+id=[\"']"+n+t+n+"[\"'][^>]*>","gm").exec(e);if(!o)return r;const i=e.slice(o.index),l=/<div|<\/div>/gi;for(s=0;s>0||!a||"</div>"!==a[0];){const e=l.exec(i);if(!e){a=[""],a.index=i.length;break}a=e,"<div"===a[0]?s++:s--}return{imbalancedBy:s,start:o.index,end:o.index+a.index+a[0].length}}(e.slice(o.end),{divId:t})}catch(l){a.Z.error("Mismatched HTML tags",{divId:t,error:l})}i!==r&&(i.start+=o.end,i.end+=o.end,s.push(i),o=i)})),s}function c(e="",t=[]){if(!i(t))return{nonQuote:e,quote:""};const s=l(e,{divIds:t[0].divIds});let a="",n="",o=r;for(let r=0;r<s.length;r++){const{start:t,end:i,imbalancedBy:l}=s[r];a+=r>0?e.slice(o.end,t):e.slice(0,t),n+=e.slice(t,i),l>0&&(n+=new Array(l).fill("</div>").join("")),o=s[r]}return a+=e.slice(o.end),{quote:n,nonQuote:a}}function d(e="",t=[],s=!1){if(!i(t))return{messageAbove:e,messageBelow:"",expandable:!1};const a=l(e,{divIds:t[0].divIds});let n=r,o=!1;const c=[],d=[];for(let r=0;r<a.length;r++){const{start:t,end:o,imbalancedBy:i}=a[r];if((0===r?c:d).push(e.slice(n.end,t)),s){let s=e.slice(t,o);i>0&&(s+=new Array(i).fill("</div>").join("")),d.push(`<div class="qtd-body">${s}</div>`)}n=a[r]}return 0===a.length?c.push(e):(d.push(e.slice(n.end)),o=!0),{messageAbove:c.join(""),messageBelow:d.join(""),expandable:o}}},68591:(e,t,s)=>{"use strict";function a(){}function n(){}function r(){return!1}s.d(t,{Ow:()=>a,Fc:()=>n,Sf:()=>r,bO:()=>o,e_:()=>i});const o={};function i(){return!1}},60536:(e,t,s)=>{"use strict";s.d(t,{p:()=>r});var a=s(37422);const n={[a.BQZ.MAIL_APP]:a.jQ2,[a.BQZ.BASIC_MAIL_APP]:a.Zs1,[a.BQZ.MOBILE_APP]:a.IZo,[a.BQZ.BASIC_MOBILE_APP]:a.bCI};class r{constructor(e={},t,{TTL:s=180,path:r}={}){let o;if(s&&(o=new Date,o.setTime(o.getTime()+1e3*s)),this.cookieName=t,e.res&&e.req&&e.req.cookies&&e.res.cookie)this._set=this._serverSet,this._get=this._serverGet,r=r||n[e.req.APP_NAME];else if(e.window&&e.window.document&&"string"==typeof e.window.document.cookie){this._set=this._browserSet,this._get=this._browserGet;const t=e.window.AppBootstrapData&&e.window.AppBootstrapData.appName;r=r||n[t]}else this._set=()=>null,this._get=()=>null;this.io={req:e.req,res:e.res,window:e.window,cookieName:t,expires:o,path:r||a.jQ2}}_serverSet(e){const{req:t,res:s,cookieName:a,expires:n=0,path:r}=this.io,o=t.cookies[a]||{},i=Object.assign(o,e);s.headersSent||s.cookie(a,i,{path:r,expires:n})}_serverGet(){const{req:e,cookieName:t}=this.io;return e.cookies[t]}_browserSet(e){const{cookieName:t,expires:s=null,path:a,window:n}=this.io,r=this._browserGet({window:n,cookieName:t}),o=Object.assign(r,e),i=`j:${JSON.stringify(o)}`;n.document.cookie=t+"="+encodeURIComponent(i)+`;path=${a};expires=${s&&s.toGMTString()}`}_browserGet(){const{window:e,cookieName:t}=this.io,s=e.document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)"),a=decodeURIComponent(s?s[2]:"j:{}");if(0===a.indexOf("j:"))try{return JSON.parse(a.substr(2))}catch(n){return{}}return{}}get(){return this._get()||{}}set(e){return this._set(e)}}},95406:(e,t,s)=>{"use strict";s.d(t,{u9:()=>o,gP:()=>i,xb:()=>l,wU:()=>c,VO:()=>d,oF:()=>E,T8:()=>_,PJ:()=>m});var a=s(28368),n=s.n(a);const r=Object.prototype.hasOwnProperty;function o(e,t,s){if(!t||!e)return s;if("string"==typeof t&&(t=t.split(".")),1===t.length)return r.call(e,t[0])?e[t[0]]:s;return(e=e[t.splice(0,1)[0]])?o(e,t,s):s}function i(e){var t={};return("[object Array]"===Object.prototype.toString.call(e)?e:Object.keys(e)).forEach((function(e){null===e?t.null=null:void 0===e?t.undefined=void 0:t[e]=e.toString()})),t}function l(e){return!e||0===Object.keys(e).length}function c(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((s=>e[s]===t[s]))}function d(e){return Object.keys(e).map((t=>e[t]))}const E=(e,t)=>{let s=e;return t.forEach((t=>{if(!r.call(e,t))return;const{[t]:a,...n}=s;s=n})),s},_=(e,t,s)=>{const a=e[t],n=E(e,[t]);return n[s]=a,n},u=(e,t)=>{if("function"==typeof e&&"function"==typeof t)return!0};function m(e,t){return n()(e,t,u)}},7228:(e,t,s)=>{"use strict";s.d(t,{D:()=>n,E:()=>r});const a=/\.\w*$/;function n(e){if("string"!=typeof e)return"";const t=e.match(a);return t?t[0]:""}function r(e,t){void 0===e?e="undefined":"string"!=typeof e&&(e=e.toString());let s=e.split("/").pop();return t&&s.substr(-t.length)===t&&(s=s.substr(0,s.length-t.length)),s}},42363:(e,t,s)=>{"use strict";s.d(t,{d:()=>a});const a=(e={},t="")=>{const s=t.split("@")[1],a=Object.keys(e);if(!t)return null;for(const n of a){if(new RegExp(n).test(s))return e[n]}return null}},3405:(e,t,s)=>{"use strict";s.d(t,{be:()=>I,oS:()=>O,w2:()=>N,Vu:()=>f,KW:()=>M,dM:()=>P,ok:()=>y,Yw:()=>b,KI:()=>F,m9:()=>U,F6:()=>v,os:()=>w,fq:()=>G,xj:()=>k,Sk:()=>H,ah:()=>B,jq:()=>x,lB:()=>V,Rb:()=>W,jK:()=>Z,gH:()=>K,i5:()=>z,kO:()=>q,Q0:()=>Y,gN:()=>j,Tx:()=>Q,f9:()=>X,Id:()=>J,I6:()=>$,P:()=>ee,zo:()=>te,EU:()=>se,Bc:()=>ae,tf:()=>ne,Rl:()=>re,uo:()=>oe,VP:()=>ie,mH:()=>le,Ec:()=>ce,re:()=>de});var a=s(18446),n=s.n(a),r=s(88306),o=s.n(r),i=s(43174),l=s.n(i),c=s(44908),d=s.n(c),E=s(14779),_=s.n(E),u=s(17673),m=s(8575),S=s(63352),p=s(37422),C=s(97324),A=s(31057),T=s(18247),h=s(62760),g=s(63523);const I="!";function R(e){const t=[],s=_()(e,t);return{match:e=>{const a=s.exec(e);if(!a)return null;const n=a.slice(1);return t.reduce(((e,t,s)=>n[s]?{...e,[t.name]:decodeURIComponent(n[s])}:e),{})},stringify:_().compile(e)}}const O=o()((({routesConfig:e})=>e.map((e=>{const t=e.path;return(0,S.Z)(!!e.name&&!!t,`config.routes should be in this format [{route.name: routePattern}] => ${JSON.stringify(e)}`),{...e,pattern:R(t)}}))),(({appName:e})=>e));function D(e,t={}){const{pathname:s,query:a}=(0,m.parse)(e),n={...t,...a?u.parse(a):void 0},r=u.stringify(n);return r?s+"?"+r:s}function N(e,t,s){const a={...s,...t.query},n=e.find((e=>e.name===t.name));if(!n)return{name:p.n8z.NOT_FOUND,params:{},query:{},url:""};const r=n.pattern.stringify(t.params||{},{pretty:!0});return{...t,params:t.params||{},query:a,url:D(r,a)||""}}const f=(e,t)=>e===t||(null==e?void 0:e.name)===(null==t?void 0:t.name)&&n()(null==e?void 0:e.params,null==t?void 0:t.params)&&n()(null==e?void 0:e.query,null==t?void 0:t.query);function M({brandId:e,accountId:t,listIds:s,fromNames:a,fromEmails:n}){const r=(0,g.qt)(p.K8C.SUBSCRIPTION_DETAIL,{brandId:e,accountIds:[t],listIds:d()(s),fromNames:d()(a),emailAddresses:d()(n),excludefolders:[p.Sck.TRASH,p.Sck.BULK]}),o=(0,A.tr)((0,A.Ez)(r));return{name:p.n8z.LIST,params:{serializedListId:o},query:{}}}const L=(e,t={})=>{const s=(0,A.tE)(e,t),a=(0,A.tr)(s);return a?{name:p.n8z.LIST,params:{serializedListId:a},query:{}}:null};function P(e,t={}){const s=(0,A.tE)(e,t);if((0,A.Yd)(s)||(0,A.rR)(s))return L(s);const a=(0,A.tr)(s);return a?{name:p.n8z.SEARCH,params:{query:a},query:{}}:null}function y(e,t={}){const s=(0,A.tE)(e,t),a=(0,A.Rm)(s);return a?{name:p.n8z.FOLDER,params:{fid:a},query:{}}:null}function b(e,t={}){const s=(0,A.tE)(e,t),a=(0,A.tr)(s);return{name:p.n8z.FOCUSED_INBOX,params:{serializedListId:a},query:{}}}function F(e,t={}){return(0,A.aY)(e)===p.qd8.SUBSCRIPTIONS?L(e,t):(0,A.ug)(e)?P(e,t):y(e,t)}function U(e,t,s={}){return(0,A.Yd)(e)||(0,A.rR)(e)||(0,A.aY)(e)===p.qd8.SUBSCRIPTIONS?{name:p.n8z.MESSAGE_FROM_LIST,params:Object.assign({serializedListId:(0,A.tr)(e),groupId:t}),query:s}:(0,A.ug)(e)?{name:p.n8z.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:(0,A.tr)(e),groupId:t}),query:s}:{name:p.n8z.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:(0,A.Rm)(e),groupId:t}),query:s}}function v({attachment:e,listId:t,isConversationMode:s}){const a=s?e.conversationId:e.id&&(0,T.b1)(e.id);return a?{name:p.n8z.MESSAGE_FROM_SEARCH_LIST,params:{groupId:a,query:(0,A.tr)(t)},query:{}}:null}function w({groupId:e,listId:t}){return e?{name:p.n8z.MESSAGE_FROM_SEARCH_LIST,params:{groupId:e,query:(0,A.tr)(t)},query:{}}:null}function G(e,t,s={}){return{name:p.n8z.EDIT_DRAFT,params:{csid:t,serializedListId:(0,A.Rm)(e)},query:s}}function k({item:e,listId:t,isConversationMode:s}){if((0,A.WN)(t)===p.F6k.MESSAGES){if(Array.isArray(e.messages)&&1===e.messages.length&&(0,h.g_)(e))return G(t,e.messages[0].csid);const a=(0,A.ug)(t),n=(0,A.Rm)(t),r=e.messages&&e.messages[0],o=a&&s?null==r?void 0:r.conversationId:e.id;return o&&n?U(t,o):null}return v({attachment:e.attachment,listId:t,isConversationMode:s})}function H(e,t,s,a={},n){const r=(0,A.Rm)(e);if((0,A.ug)(e))return{name:p.n8z.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:r,groupId:t,attachmentId:s}),query:a};const o={fid:r,groupId:t,attachmentId:s};return n&&(o.csid=n),{name:p.n8z.MESSAGE_FROM_FOLDER_LIST,params:o,query:a}}function B(e,t,s={}){return{...e,params:{...e.params,attachmentId:t},query:{...e.query,...s}}}function x(e){return P((0,A.Ez)(e))}function V(e){const t=(0,A.Ez)({accountIds:[e]}),s=(0,A.tr)(t);return{name:p.n8z.SUBSCRIPTION_LIST,params:{query:s},query:{}}}function W(e,t){const s=(0,A.Ez)({accountIds:[e],brandId:t,folders:[p.RfP.INBOX],listContentType:p.F6k.MESSAGES,listFilter:p.ukn.FROM}),a=(0,A.tr)(s);return{name:p.n8z.STOREFRONT,params:{query:a},query:{}}}function Z(e,t={}){switch(e){case p.K8C.TUTORIAL:return{name:p.n8z.TUTORIAL,params:{},query:{}};case p.K8C.SUBSCRIPTIONS:{const{accountIds:e}=t,s=Array.isArray(e)?e[0]:e;return s?V(s):null}case p.K8C.STOREFRONT:{const{accountIds:e,brandId:s}=t,a=Array.isArray(e)?e[0]:e;return a?W(a,s):null}default:return x((0,g.qt)(e,t))}}function K(e,t){const s={listContentType:p.F6k.OFFER_CARDS,referrer:p.qd8[p.K8C.GROCERIES],listFilter:p.ukn.RECOMMENDED_OFFER_CARDS,name:e,keyword:t},a=(0,A.tE)((0,A.Ez)(s));return L(a)}const z=(e,t)=>y((0,A.Kw)(e,t)),q=(e,t)=>y((0,A.Kw)(e,t),{listContentType:p.F6k.SENDERS}),Y=(e,t,s)=>({name:p.n8z.SPONSORED_MESSAGE,params:{fid:(0,A.Rm)(e),creativeId:t,isMisclickSponsoredAd:s?"1":"0"},query:{}});function j(){return{name:p.n8z.MAILPLUS_BENEFITS_UPSELL,params:{},query:{}}}function Q(e={},t){return{name:p.n8z.SETTINGS,params:e,query:t||{}}}function X(e={}){return{name:p.n8z.CONTACTS,params:{},query:e}}function J(e={}){return{name:p.n8z.REWARDS,params:e,query:{}}}function $(e={}){return{name:p.n8z.CONTACT_DETAILS,params:e,query:{}}}function ee(e,t){return{name:p.n8z.CONTACT_DETAILS_FROM_SEARCH,params:{query:(0,A.tr)(e),id:t},query:{}}}function te(e={}){return{name:p.n8z.BLOCKED_DOMAINS,params:e,query:{}}}function se(e={}){return{name:p.n8z.ACCOUNT_LIST_FROM_SETTINGS,params:e,query:{}}}function ae(e={}){return{name:p.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST,params:e,query:{}}}function ne({email:e}){return{name:p.n8z.ADD_MAILBOX_PROGRESS,params:{email:e},query:{}}}function re(e,t={},s){return{name:p.n8z.NEW_DRAFT,params:{csid:e},query:t,...s?{referrerRoute:s}:void 0}}function oe(e){const{csid:t}=e.params;return t}function ie(e,t){const s=!t||t!==p.BQZ.BASIC_MAIL_APP&&t!==p.BQZ.BASIC_MOBILE_APP?p.vGy:C.jR;return Object.keys(e.query||{}).filter((e=>-1===s.indexOf(e))).reduce(((t,s)=>({...t,[s]:e.query[s]})),{})}function le(e=[],t=(()=>!0)){const[s,a]=l()(e,(e=>t(e)));return[...s,...a]}const ce=({name:e})=>e===p.n8z.MESSAGE||e===p.n8z.MESSAGE_FROM_FOLDER_LIST||e===p.n8z.MESSAGE_FROM_LIST||e===p.n8z.MESSAGE_FROM_SEARCH_LIST||e===p.n8z.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST,de=e=>{const{name:t,params:s={}}=e;return t===p.n8z.SETTINGS&&s.settingsGroupId===p.u5h.MAIL_PLUS}},25869:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const a=new Map;const n={loadScript:function(e,t=!1){if(t&&a.has(e))return a.get(e);const s=new Promise(((t,s)=>{const n=document.createElement("script"),r=document.getElementsByTagName("head")[0];n.readyState?n.onreadystatechange=()=>{"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t(),a.delete(e))}:(n.onload=()=>{t(),a.delete(e)},n.onerror=()=>{s(new Error(`Failed to load script from ${e}`)),a.delete(e)}),n.type="text/javascript",n.setAttribute("data-origin","norrin"),n.setAttribute("data-inserted-time",Date.now()),n.src=e,r.appendChild(n),setTimeout((()=>r.removeChild(n)),1e3)}));return a.set(e,s),s}}},63523:(e,t,s)=>{"use strict";s.d(t,{BO:()=>r,qt:()=>o,D3:()=>i,lX:()=>l,U6:()=>c,W2:()=>d});var a=s(37422),n=s(31057);function r(e){return e&&e.types?e.types[0]:""}function o(e,t={}){let s={};switch(e){case a.K8C.UNREAD:s={keyword:a.Qj.UNREAD,excludefolders:[a.Sck.ARCHIVE],referrer:a.qd8[a.K8C.UNREAD]};break;case a.K8C.STARRED:s={keyword:a.Qj.STARRED,referrer:a.qd8[a.K8C.STARRED]};break;case a.K8C.PHOTOS:s={listContentType:a.F6k.IMAGES,referrer:a.qd8[a.K8C.PHOTOS],listFilter:a.ukn.ALL_PHOTOS};break;case a.K8C.DOCUMENTS:s={listContentType:a.F6k.DOCUMENTS,referrer:a.qd8[a.K8C.DOCUMENTS]};break;case a.K8C.COUPONS:s={listContentType:a.F6k.COUPON_CARDS,referrer:a.qd8[a.K8C.COUPONS],listFilter:a.ukn.ALL_COUPON_CARDS};break;case a.K8C.GROCERIES:s={listContentType:a.F6k.OFFER_CARDS,referrer:a.qd8[a.K8C.GROCERIES],listFilter:a.ukn.RECOMMENDED_OFFER_CARDS,name:t.name,keyword:t.keyword||""};break;case a.K8C.RECEIPTS:s={listContentType:a.F6k.REFUND_CARDS,referrer:a.qd8[a.K8C.RECEIPTS],listFilter:a.ukn.ALL_REFUND_CARDS};break;case a.K8C.TRAVEL:s={excludefolders:[a.Sck.TRASH,a.Sck.BULK],listContentType:a.F6k.TRAVEL_CARDS,sortOrder:a.Asd.CARD_DATE_ASC,listFilter:a.ukn.TRAVEL_VIEW_UPCOMING,referrer:a.qd8[a.K8C.TRAVEL]};break;case a.K8C.TRAVEL_PAST:s={excludefolders:[a.Sck.TRASH,a.Sck.BULK],listContentType:a.F6k.TRAVEL_CARDS,sortOrder:a.Asd.CARD_DATE_DESC,listFilter:a.ukn.TRAVEL_VIEW_PAST,referrer:a.qd8[a.K8C.TRAVEL]};break;case a.K8C.TRAVEL_EMAILS:s={keyword:a.Qj.TRAVEL,listContentType:a.F6k.MESSAGES,sortOrder:a.Asd.DATE_DESC,referrer:a.qd8[a.K8C.TRAVEL]};break;case a.K8C.PEOPLE:s={listFilter:a.ukn.PEOPLE,excludefolders:[a.Sck.TRASH,a.Sck.BULK],referrer:a.qd8[a.K8C.PEOPLE]};break;case a.K8C.SHOPPING_EMAILS:s={listFilter:a.ukn.SHOPPING,excludefolders:[a.Sck.TRASH,a.Sck.BULK],referrer:a.qd8[a.K8C.COUPONS]};break;case a.K8C.SUBSCRIPTIONS:s={};break;case a.K8C.SUBSCRIPTION_DETAIL:s={excludefolders:[],referrer:a.qd8.SUBSCRIPTIONS};break;case a.K8C.ATTACHMENTS:s={listContentType:a.F6k.DOCUMENTS,referrer:a.qd8[a.K8C.ATTACHMENTS]};break;case a.K8C.OLDMAIL:s={listFilter:a.ukn.OLDMAIL,referrer:a.qd8[a.K8C.OLDMAIL]};break;case a.K8C.NEWMAIL:s={listFilter:a.ukn.NEWMAIL,referrer:a.qd8[a.K8C.NEWMAIL]};break;case a.K8C.SENDER_ROLLUP:s={referrer:a.qd8[a.K8C.SENDER_ROLLUP]};break;case a.K8C.COUPON_EMAILS:s={listFilter:a.ukn.SHOPPING,excludefolders:[a.Sck.TRASH,a.Sck.BULK],referrer:a.qd8[a.K8C.COUPON_EMAILS]};break;case a.K8C.STOREFRONT:s={}}e===a.K8C.GROCERIES&&t.accountIds&&(t.accountIds=[]);const{excludefolders:n,...r}=t;return t=r,s.excludefolders&&n&&(s.excludefolders=n),e!==a.K8C.OLDMAIL&&e!==a.K8C.NEWMAIL&&e!==a.K8C.SENDER_ROLLUP&&delete t.folders,Object.assign(s,t)}function i(e){const t=(0,n.WN)(e),s=(0,n.aY)(e);return(0,n.GG)(e)&&t===a.F6k.MESSAGES&&s===a.v6P[a.K8C.TRAVEL]}function l(e){const t=(0,n.aY)(e);return(0,n.GG)(e)&&t===a.v6P[a.K8C.ATTACHMENTS]}function c(e){const t=(0,n.aY)(e);return(0,n.GG)(e)&&t===a.v6P[a.K8C.SENDER_ROLLUP]}function d(e){const t=e.split(":");if(2!==t.length)return null;const s=(n=t[0],Object.keys(a.B_Z).find((e=>a.B_Z[e]===n))||null);var n;return s&&a.qwE.indexOf(s)>-1?{name:s,status:parseInt(t[1],10)||0}:null}},30155:(e,t,s)=>{"use strict";s.d(t,{H:()=>c});const a=/^\s*at .*(\S+\:\d+|\(native\))/m,n=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,r=/[\(\)]/g,o=/^\s+/,i=/'/g,l=/\((.+):(\d+):(\d+)\)/;class c{constructor(e){this.error=e||null}toString(){try{let e=this.parse().join("\n");return e.length>1e4&&(e=e.substr(0,1e4)+"..."),e}catch(e){return e.message||"Error in parsing an Error object"}}parse(){const e=this.error;if(null===e)throw new Error("Error is null or undefined");if(e.stack&&e.stack.match(a))return this.parseChromeOrIE();if(e.stack)return this.parseFFOrSafari();throw new Error("Cannot parse an Error object")}parseChromeOrIE(){return this.error.stack.split("\n").map((e=>e=(e=e.replace(o," ")).replace(i,'"')))}parseFFOrSafari(){const e=this.error.stack.split("\n").filter((e=>""!==e)).map((e=>{if(-1===e.indexOf("@")&&-1===e.indexOf(":"))e=` at ${e}`;else{const t=e.split("@"),s=this.extractLocation(t.pop()),a=t.join("@")||void 0,[n,r,o]=s;e=` at ${a} (${n}:${r}:${o})`}return e}));return[`${this.error.name}:${this.error.message}`.replace(i,'"')].concat(e)}extractLocation(e){if(-1===e.indexOf(":"))return[e];const t=n.exec(e.replace(r,""));return[t[1],t[2]||void 0,t[3]||void 0]}getFirstStackInfo(){const e={source:"",lineno:0,colno:0};try{const t=this.parse();if(t&&t[1]&&t[1].match(l)){const[s="",a="",n=0,r=0]=t[1].match(l);e.source=a,e.lineno=parseInt(n,10),e.colno=parseInt(r,10)}}catch(t){return e}return e}}},78263:(e,t,s)=>{"use strict";s.d(t,{BA:()=>a,k3:()=>n});const a=(e=[])=>e.sort().join(""),n=(e,t)=>`${e}:${t}`},55636:(e,t,s)=>{"use strict";s.d(t,{s_:()=>c,hr:()=>d,aS:()=>E,N2:()=>_,Wq:()=>u,u6:()=>S});const a=/'/g,n=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA872]|\uD802[\uDEC0-\uDEC4\uDECD\uDED3-\uDEDC\uDEDE-\uDEE0\uDEEB-\uDEEE\uDF80\uDF82\uDF86-\uDF88\uDF8A\uDF8B\uDF8D\uDF90\uDFAD\uDFAE]/,r=/[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u08A0-\u08AC\u08AE-\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA871]|\uD802[\uDEC0-\uDEC5\uDEC7\uDEC9\uDECA\uDECE-\uDED6\uDED8-\uDEE1\uDEE4\uDEEB-\uDEEF\uDF80-\uDF91\uDFA9-\uDFAE]/;function o(e){return e.charCodeAt(0)>=1568}function i(e){return(e=e.slice(-1))&&o(e)&&n.test(e)}function l(e){return(e=e[0])&&o(e)&&r.test(e)}function c(e="",t=""){let s=((e="",t="")=>{const s=d(t);return e.search(new RegExp(`(^${s}| +${s})`,"i"))})(e,t);if(s>0&&s++,s>=0){const a=s+t.length;return function(e,t="‍"){return e.forEach(((e,s,a)=>{0!==s&&l(e)&&i(a[s-1])&&(a[s-1]=a[s-1]+t,a[s]=t+a[s]),a[s+1]&&i(e)&&l(a[s+1])&&(a[s+1]=t+a[s+1],a[s]=a[s]+t)})),e}([e.substring(0,s),e.substring(s,a),e.substring(a)])}return[e]}function d(e=""){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function E(e,t,s){var a="";return t=t||0,s=void 0!==s?s:"...",a=e=e||"",e.length>t&&(a=e.substr(0,t-s.length)+s),a}function _(e=""){return e.replace(a,'"')}function u(e){return!e||!e.trim().length}const m=/(^[\u200C\s]*|[\u200C\s]*$)/g;function S(e){return"string"!=typeof e?e:e.replace(m,"")}},6273:(e,t,s)=>{"use strict";s.d(t,{vf:()=>l,u6:()=>c,wP:()=>E,$o:()=>u});var a=s(37422),n=s(55636),r=s(27955),o=s.n(r);function i(e=[]){const t=[];return e.forEach((e=>{Object.keys(e.entities).forEach((s=>{const n=e.entities[s],r=e.intent===a._pp.ALL;t.push(Object.assign({},n,r?{name:o()(n.name)}:null))}))})),t}function l(e=[]){return i(e.filter((e=>e.intent===a._pp.PEOPLE)).filter((e=>{const t=e.entities;return Object.keys(t).forEach((e=>{const s=t[e];s.type!==a.sWL.PERSON||s.emailIds&&0!==s.emailIds.length||delete t[e]})),Boolean(Object.keys(t).length)})))}function c(e){return i(e.filter((e=>e.intent===a._pp.ALL)).filter((e=>{const t=e.entities;let s=!1;return Object.keys(t).forEach((e=>{const n=t[e];n.type===a.sWL.EMAIL&&n.name&&(s=!0)})),s})))}function d(e=[],t,s){const r=new RegExp("(^|\\s)"+(0,n.hr)(t),"gi");return e.filter((e=>{const{name:s="",backyard:a="",emails:n=[]}=e,o=s+" "+a+" "+n.join(" ");return t&&-1!==o.search(r)})).map((e=>function(e,t){return{emailIds:e.emails,imageUrl:t.toUpperCase()===a.Bs7.AOL?`https://proddata.xobni.aol.com/v4/contacts/${e.xobniId}/photo`:`https://proddata.xobni.yahoo.com/v4/contacts/${e.xobniId}/photo`,name:e.name,serviceId:e.xobniId,sourceService:"XOBNI",type:a.sWL.PERSON}}(e,s))).filter(((e,t,s)=>s.findIndex((t=>t.serviceId===e.serviceId))===t))}function E(e){const t=[];return e.forEach((e=>{e.emailIds.forEach((s=>{const a=JSON.parse(JSON.stringify(e));a.emailIds=[s],t.push(a)}))})),t}function _(e,t=!1){return{type:a.sWL.HEADER,headerType:a.OzC[e],firstEntry:t}}function u(e=[],t=[],s=[],n="",r=""){const o=""===n.trim(),E=l(e),u=function(e){return i(e.filter((e=>e.intent===a._pp.ALL)).filter((e=>{const t=e.entities;let s=!1;return Object.keys(t).forEach((e=>{const n=t[e];n.type===a.sWL.KEYWORD&&n.name&&(s=!0)})),s})))}(e).slice(0,4),m=d(t,n,r),S=c(e),p=function(e,t=""){const s=[];return e.forEach((e=>{e.query&&-1!==e.query.indexOf(t)&&s.push({type:a.sWL.RECENT,name:e.query})})),s}(s,n),C=function(e=[],t=[]){const s=e.map((e=>{const s=t.find((t=>t.serviceId===e.serviceId));return void 0!==s?s:e})),a=t.filter((e=>!s.find((t=>t.serviceId===e.serviceId))));return[].concat(s,a)}(m,E);let A;const T=[],h=[],g=[];if(A=o?p.length?p:u:u.length?u:p,A.length){const e=0===E.length;A[0].type===a.sWL.KEYWORD?T.push(_(a.sWL.KEYWORD,e)):T.push(_(a.sWL.RECENT,e))}C.length&&h.push(_(a.sWL.PERSON,!0));const I=2+Math.max(0,2-A.length),R=2+Math.max(0,2-C.length);if(S.length){const e=0===S.length;g.push(_(a.sWL.EMAIL,e))}return[].concat(h,C.slice(0,I),T,A.slice(0,R),g,S.slice(0,3))}},31602:(e,t,s)=>{"use strict";s.d(t,{NB:()=>d});var a=s(9026),n=s(68949);const r={GRADIENT_COLOR_1:"--gradient-color1",GRADIENT_COLOR_2:"--gradient-color2",GRADIENT_COLOR_3:"--gradient-color3",HIGHLIGHT:"--highlight",BOLD_OUTLINE_COLOR:"--bold-outline-color",BOLD_OUTLINE_COLOR_DARK:"--bold-outline-color-dark",THIN_OUTLINE_COLOR:"--thin-outline-color",THIN_OUTLINE_COLOR_DARK:"--thin-outline-color-dark",COMPOSE_BUTTON_COLOR:"--compose-btn-color",SEGMENT_BORDER_COLOR:"--segment-border-color",SEGMENT_BACKGROUND_COLOR:"--segment-bgcolor",SEGMENT_HOVER_COLOR:"--segment-hover-color",FOLDER_ACTIVED_BACKGROUND_COLOR:"--folder-actived-bg-color",FOLDER_HOVERED_BACKGROUND_COLOR:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER:"--folder-actived-border",ITEM_SELECTED_BGCOLOR:"--item-selected-bgcolor",ITEM_HOVERED_BGCOLOR:"--item-hovered-bgcolor",LIST_ITEM_SEPARATOR_COLOR:"--list-item-sep-color",PREVIEWR_TOOLBAR_COLOR:"--previewr-toolbar",CLIP_BUTTON_COLOR:"--clip-btn-color",BG_BACKGROUND_COLOR:"--bg-background-color",BACKGROUND_COLOR:"--bg-color",BACKGROUND_SIZE:"--bg-size",MAX_BACKGROUND_SIZE:"--max-bg-size",BACKGROUND_REPEAT:"--bg-repeat",BACKGROUND_REPEAT_IMAGE:"--bg-repeat-img",BACKGROUND_REPEAT_IMAGE_SIZE:"--bg-repeat-img-size",BACKGROUND_REPEAT_IMAGE_POSITION:"--bg-repeat-img-position",BACKGROUND_IMAGE:"--bg-img",PRIMARY_BLUE:"--primary-blue",HOVER_BLUE:"--hover-blue",SUBSCRIPTION_BUTTON:"--sub-button"},o={COMPOSE_BUTTON_COLOR_PARTNER_DARK:"--compose-btn-color",SEGMENT_BORDER_COLOR_PARTNER_DARK:"--segment-border-color",SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:"--segment-bgcolor",SEGMENT_HOVER_COLOR_PARTNER_DARK:"--segment-hover-color",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:"--folder-actived-bg-color",FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER_PARTNER_DARK:"--folder-actived-border"},i={COMPOSE_BUTTON_COLOR_PARTNER_DARK:"--compose-btn-color",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:"--folder-actived-bg-color",FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER_PARTNER_DARK:"--folder-actived-border"};s(76531),s(37422);const l=function(e){return Object.keys(e).reduce(((t,s)=>`${t}${s}:${e[s]};`),"")};function c({themeInput:e,themeModeInput:t,Themes:s=a.b3}){let n=e;Object.keys(s).indexOf(e)<0&&(n=s.DEFAULT);let r=t;return Object.keys(a.zg).indexOf(t)<0&&(r=a.zg.LIGHT),{theme:n,themeMode:r}}const d=function(e,t){const{theme:s,themeMode:d}=c({themeInput:e,themeModeInput:t}),E=function(e,t){if((0,a.cN)(e))switch(t){case a.zg.LIGHT:return r;case a.zg.MEDIUM:return{...r,...i};case a.zg.DARK:return{...r,...o}}return r}(s,d),_={};Object.keys(E).forEach((e=>{const t=E[e],n=a.Kz[s][e]||Object.values(a.zg).includes(d)&&a.s8[d][e]||void 0;_[t]=n})),_[r.BACKGROUND_IMAGE]=(0,a.Lv)(a.Kz[s],n.A),_[r.BACKGROUND_REPEAT_IMAGE]=a.Kz[s].BACKGROUND_REPEAT_IMAGE?`url(${(0,n.A)(a.Kz[s].BACKGROUND_REPEAT_IMAGE)})`:"none";return`:root {${l(_)}}`}},91097:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var a=s(60536),n=s(44140),r=s.n(n);const o="tz";class i extends a.p{constructor(e,t=86400,s){super(e,"YM.TZ",{TTL:t,path:s})}determineClientTimeZone(){const e=r().determine(),t=e&&e.name();t&&this.set({[o]:t})}getClientTimeZone(){const e=this.get();return e&&e.tz?String(e.tz):""}}},74630:(e,t,s)=>{"use strict";s.d(t,{g:()=>o,b:()=>i});const a=/</g,n=/"/g;function r(e,t,s){return void 0===e?"undefined":null===e?"null":e.toString().replace(t,s)}function o(e){return r(e,a,"&lt;")}function i(e){return r(e,n,"&quot;")}},50985:(e,t,s)=>{"use strict";s.d(t,{xt:()=>n,gN:()=>r,Jn:()=>o,wC:()=>i,zg:()=>l,zP:()=>d,rl:()=>E,Gv:()=>_,w4:()=>u,zs:()=>m});var a=s(63352);const n="sw-data-v3",r="/tapRegistrationId",o="/SUBSCRIPTION_TIMESTAMP",i="/SUBSCRIPTION_IDS",l="/MIGRATE_TO_TAP",c={stateStorage:n};function d(e){if("undefined"!=typeof Storage&&"string"==typeof e)try{return localStorage.getItem(e)}catch(t){}}function E(e,t){if("undefined"!=typeof Storage){(0,a.Z)("string"==typeof e,"key is not a string");try{localStorage.setItem(e,t)}catch(s){}}}function _(e,t){return caches.open(e).then((e=>e.match(t))).then((e=>e?e.clone().json():null))}function u(e,t){return caches.open(e).then((e=>e.delete(t)))}async function m(e){let t=Object.values(c);e&&e.length&&(t=t.concat(e));const s=(await caches.keys()).filter((e=>!t.includes(e))),a=await Promise.all(s.map((e=>caches.delete(e)))),n=s.filter(((e,t)=>!!a[t])),r=s.filter(((e,t)=>!a[t]));return{found:n.join(","),notFound:r.join(",")}}},16980:(e,t,s)=>{"use strict";s.d(t,{bj:()=>w,ed:()=>G,WS:()=>k,Kl:()=>H,K6:()=>V,qr:()=>W,Dv:()=>Z,HT:()=>q,Ir:()=>Y,ci:()=>j,i6:()=>Q,DD:()=>ee,zD:()=>te,Gt:()=>se,OC:()=>ae,_l:()=>ne});var a=s(95406),n=s(37422),r=s(18446),o=s.n(r),i=s(7837),l=s(17016),c=s(73498);const d=/^smtp:(\S+)/,E=/^adr:/,_=/^tel:(.*)/,u=e=>e.match(d)[1],m=e=>{const t=[],s={};return e.filter((({ep:e})=>d.test(e))).forEach((({ep:e,type:a})=>{const n=u(e);t.push(n),s[n]=a&&i.qL[a.toUpperCase()]?a:i.HU.EMAIL})),{emails:t,emailType:s}},S=e=>(null==e?void 0:e.toLowerCase().replace("-","_"))||"",p=/^(?:https?|ftp):(?:\/\/)?/i,C={FACEBOOK:"facebook",TWITTER:"twitter",LINKEDIN:"linkedin"},A={NAME:"name",POSITION:"position",COMPANY:"company",...C,WEBSITE:"website",BIRTHDAY:"birthday",ANNIVERSARY:"anniversary",NOTES:"notes",NICKNAME:"nickname",FIRSTNAME:"first_name",MIDDLENAME:"middle_name",LASTNAME:"last_name",AOL_TAG:"aol_tag"},T={[A.FIRSTNAME]:"firstName",[A.MIDDLENAME]:"middleName",[A.LASTNAME]:"lastName"},h=e=>e?!(e=e.trim())||p.test(e)?e:`http://${e}`:e,g="elcaro",I=e=>e===g,R=e=>"ke"===e||"user"===e||"yahoo"===e,O=e=>{const t=e.replace("adr:","").split(";"),s={street:t[3],city:t[4],state:t[5],zipcode:t[6],country:t[7]};return Object.keys(s).find((e=>!!s[e]))||(s.street=t[8]),s},D=(e,t)=>{const s=[];return e.filter((({ep:e,source:s})=>E.test(e)&&(t||!I(s)))).forEach((({ep:e,type:t})=>{const a=O(e);s.push({addrFields:a,type:t&&i._t[t.toUpperCase()]?t:"Address"})})),{addressesWithType:s}},N=(e,t)=>t||e.match(_)[1],f=(e,t)=>{const s=[];return e.forEach((({ep:e,type:a,display:n,source:r})=>{if(!_.test(e))return;if(!t&&I(r))return;const o=N(e,n).trim();o&&s.push({number:o,original_ep:e,type:a&&i.PR[a.toUpperCase()]?a:"Phone"})})),{phonesWithType:s}},M=e=>{const t=e.split("-");for(let s=0;s<t.length;s++)1===t[s].length&&(t[s]="0"+t[s]);return t.join("-")},L=e=>e.reduce(((e,{key:t,value:s})=>{switch(t){case A.NOTES:e[t]=s;break;case A.BIRTHDAY:case A.ANNIVERSARY:e[t]=M(s)}return e}),{}),P=(e=[])=>({nickname:(e.find((({key:e})=>e===A.NICKNAME))||{}).value}),y=(e=[])=>{const t=(e.find((({key:e})=>e===A.AOL_TAG))||{}).value;return{aolCategory:S(t)}},b=(e=[])=>({website:h((e.find((({key:e,source:t})=>e===A.WEBSITE&&R(t)))||{}).value)}),F=({attributes:e=[]})=>{const t={};return Object.keys(C).forEach((s=>{s=C[s];const a=e.find((({source:e,key:t})=>"link"===t&&e===s||R(e)&&t===s+"_url"))||{},n=h(a.value);t[s]=n})),t.backyard=(e.find((({key:e,source:t})=>"user_id"===e&&"corpdir"===t))||{}).value,t},U=({emails:e,xobniId:t=""})=>({xobniId:t,emails:e,name:"",phonesWithType:[],id:""}),v=(e,t)=>{const{name:s={},role:a={},attributes:n=[],endpoints:r=[],is_known_entity:o,is_user_curated:i,edit_token:l}=e||{};return{name:s.name||"",firstName:s.first_name||"",middleName:s.middle_name||"",lastName:s.last_name||"",position:a.position,company:a.company,editToken:l,isBusiness:o,isInUserContactList:i,...P(n),...y(n),...f(r,t),...m(r),...F({attributes:n}),...b(n),...L(n),...D(r,t)}},w=({Contacts:e})=>e.map((e=>{const{Id:t,"First Name":s,"Middle Name":a,"Last Name":n,Employer:r,"Job title":o,Birthday:l,Anniversary:c,Notes:d,Website:E,Emails:_,Phones:u,Addresses:m}=e,S=(({firstName:e,middleName:t,lastName:s})=>`${`${e} ${t}`.trim()} ${s}`.trim())({firstName:s,middleName:a,lastName:n}),p=[],C={},A=[],T=[];return _&&_.forEach((e=>{p.push(e.Id),C[e.Id]=e.Type&&i.qL[e.Type.toUpperCase()]?e.Type:"Email"})),u&&u.forEach((e=>{A.push({number:e.Id,original_ep:"tel:"+e.Id,type:e.Type&&i.PR[e.Type.toUpperCase()]?e.Type:"Phone"})})),m&&m.forEach((e=>{T.push({addrFields:O("adr:"+e.Id),type:e.Type&&i._t[e.Type.toUpperCase()]?e.Type:"Address"})})),{id:t,name:S,firstName:s,middleName:a,lastName:n,company:r,position:o,birthday:l,anniversary:c,notes:d,website:E,emails:p,emailType:C,phonesWithType:A,addressesWithType:T,isInUserContactList:!0}}));function G({emails:e,contacts_info:t,contacts_by_ep:s,relationshipHistory:n},r){return(0,a.xb)(t)||(0,a.xb)(s)?U({emails:e}):e.map((e=>{const[o]=s[`smtp:${e}`];if((0,a.xb)(t[o]))return U({emails:[e],xobniId:o});const i=v(t[o],r);return{xobniId:o,id:i.emails[0],relationshipHistory:n,...i}}))}const k=(e,t,s={})=>{const{id:a}=e||{},{id:n}=s;return{id:a,deletedContactId:n,...v(e,t)}};function H(e){return[{category:"top",remainingCount:0,contacts:(e["contacts-with-ranks"]||[]).map((({endpoints:e=[],name:t={},id:s,edit_token:a})=>({id:s,editToken:a,...m(e),name:t.name,isBusiness:!1})))}]}const B=({type:e,value:t})=>{switch(e){case c.df.EMAIL:return"smtp:"+t;case c.df.PHONE:return"tel:"+t;case c.df.ADDRESS:return"adr:"+J(t);default:return t}},x=(e=[])=>e.map((e=>({ep:B(e),name:e.name}))),V=({newName:e,addedEndpoints:t=[],removedEndpoints:s=[]})=>{const a={};return e&&(a.new_name=e),t.length&&(a.added_endpoints=x(t)),s.length&&(a.removed_endpoints=s.map((e=>B(e)))),a},W=({name:e,endpoints:t=[]})=>({name:e,endpoints:x(t)}),Z=({response:e={}})=>{const t=[],s=[];if(e){const{all_groups:a=[]}=e;a.forEach((({id:e,name:a})=>{t.push(a),s.push(e)}))}return{groups:t,groupIds:s}},K=[{type:c.df.EMAIL,validator:d,mapper:u},{type:c.df.PHONE,validator:_,mapper:N},{type:c.df.ADDRESS,validator:E,mapper:O},{type:c.df.HIDDEN,validator:/^hidden:(\S+)/,mapper:e=>e}],z=(e=[],{name:t,ep:s,contact_id:a,...n})=>{const{first_name:r="",middle_name:o="",last_name:i=""}=n,c=Object.keys(n).length>0?{firstName:r,middleName:o,lastName:i}:{},d={name:t,id:a||(0,l.generateUID)(),isInUserContactList:!0,...c},E=K.find((({validator:e})=>e.test(s)));return E?(d.value=E.mapper(s),d.type=E.type,e.concat(d)):e},q=({response:e={}})=>{const{r:t=[]}=e;return{contacts:t.reduce(((e,{e:t,n:s,c:a})=>z(e,{name:s,contact_id:a,ep:t})),[])}},Y=({response:e={}})=>{const{name:t,endpoints:s=[],id:a}=e;return{id:a,groupName:t,contacts:s.reduce(z,[])}};function j({response:e,count:t,allowEnhancedContactData:s}){const{available_groups:a=[],available_group_ids:r=[]}=e;return{groups:a,groupIds:r,contacts:t?(e.contact_rank_list||[]).map((({category:e,remaining_count:t,contacts:a=[]})=>({category:e.toUpperCase(),remainingCount:t,contacts:a.map((({endpoints:e=[],id:t,name:a,edit_token:r,aol_tag:o=n.Ygm.UNCATEGORIZED,...i})=>({id:t,editToken:r,...m(e),...f(e,s),...D(e,s),name:a,isInUserContactList:!0,firstName:i.first_name,middleName:i.middle_name,lastName:i.last_name,aolCategory:S(o)})))}))):void 0}}function Q(e){return[{category:"search",remainingCount:0,contacts:e.map((({i:e,n:t,e:s,a_e:a})=>({id:e,name:t,emails:(s?[s]:[]).concat(a)})))}]}function X(e,t={}){const s=[],{emailsWithType:a=[],phonesWithType:n=[],addressesWithType:r=[]}=e,{emailsWithType:i,phonesWithType:l,addressesWithType:c}=t;return a.forEach((e=>{i&&i.find((t=>t.value===e.value&&t.type===e.type))||s.push({ep:"smtp:"+e.value,type:e.type})})),n.forEach((e=>{l&&l.find((t=>t.number===e.number&&t.type===e.type))||s.push({ep:e.original_ep||"tel:"+e.number,type:e.type})})),r.forEach((e=>{c&&c.find((t=>o()(t.addrFields,e.addrFields)&&t.type===e.type))||s.push({ep:"adr:"+J(e.addrFields),type:e.type})})),s}function J(e){return";;;"+(0,a.VO)(e).join(";")+";"}function $(e,t){const s={},a=!t;return Object.keys(A).forEach((n=>{const r=n=A[n];e[n]=e[n]||e[T[n]]||"",n===A.WEBSITE&&(e[n]=h(e[n])),a?e[n]&&(s[r]=e[n]):(t[n]=t[n]||t[T[n]]||"",t[n]!==e[n]&&(s[r]=e[n]))})),s}function ee(e){const{emailsWithType:t=[],phonesWithType:s=[],addressesWithType:n=[]}=e;return{...e,emailsWithType:t.filter((e=>""!==e.value)),phonesWithType:s.filter((e=>""!==e.number)),addressesWithType:n.filter((e=>{return t=e.addrFields,!(0===(0,a.VO)(t).filter((e=>e)).length);var t}))}}function te(e,t){const s=$(t,e);return{source:e.editToken,changes:{...s,removed_endpoints:X(e,t),added_endpoints:X(t,e)}}}function se({contact:e,image:t}){const s=$(e=ee(e));return t&&(s.image=t),{source_contacts:[{...s,endpoints:X(e)}]}}function ae({response:e={}}){const{preferences:t={}}=e,s={};return n.AJg.forEach((e=>{const{status:a}=t["import_status_"+e]||{};let r=t["import_time_"+e];const o=t["sync_"+e];switch(r&&(r*=1e3),a){case"DONE":s[e]={status:o?n.UcZ.CONNECTED:n.UcZ.EXPIRED,lastImportedTime:r};break;case"FAIL":s[e]={status:n.UcZ.FAILED,lastImportedTime:r};break;case"QUEUED":if(r&&(new Date).getTime()-r>216e5){s[e]={status:n.UcZ.FAILED,lastImportedTime:r};break}s[e]={status:n.UcZ.QUEUED,lastImportedTime:r};break;default:s[e]={status:n.UcZ.NOT_CONNECTED,lastImportedTime:r}}})),s}function ne({results:e={}}){return Object.keys(n.Nq8).reduce(((t,s)=>{const a=n.ZUn[s],r=e[a];return t[s]=r?{status:r.is_expired?n.UcZ.EXPIRED:n.UcZ.CONNECTED,connectedTimestamp:r.issued_ts,expiredTimestamp:r.expired_ts}:{status:n.UcZ.NOT_CONNECTED},t}),{})}},51917:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(87195);const n=class{constructor(e,t,s,n,r){var o,i,l;if(l=0,(i="_seq")in(o=this)?Object.defineProperty(o,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[i]=l,!e)throw new TypeError("guidMd5 is required argument");this.state={guiMd5Section:(0,a.Eg)((0,a.kW)(e),64),clientIdSection:(0,a.Eg)(t.toString(2),8),sessionSection:(0,a.Eg)(s.toString(2),16),versionSection:(0,a.Eg)(1..toString(2),8),randomClientSection:(0,a.Eg)((n||Math.floor(256*Math.random())).toString(2),8),debugSection:(0,a.Eg)((r||0).toString(2),8)},this._seq=0}generate(){const e=(0,a.Eg)(this._getNextSeq().toString(2),16),t=[this.state.guiMd5Section,this.state.clientIdSection,this.state.sessionSection,e,this.state.versionSection,this.state.randomClientSection,this.state.debugSection].join("");return this._formatBinary(t)}_formatBinary(e){const t=(0,a.UM)(e);let s=0;return[8,4,4,4,12].map((function(e){const a=t.substr(s,e);return s+=e,a})).join("-")}_getNextSeq(){return this._seq>65535&&(this._seq=0),this._seq++}static getSeq(e){const t=e.substr(26,4);return parseInt(t,16)}}},31280:(e,t,s)=>{"use strict";s.r(t),s.d(t,{string:()=>i,number:()=>l,bool:()=>c,array:()=>d,object:()=>E,any:()=>_,shape:()=>u,oneOf:()=>m,arrayOf:()=>p,TimezoneType:()=>A,AddressType:()=>T,AttachmentType:()=>h,FlagsType2:()=>g,FolderType:()=>I,FolderNodeType:()=>R,FolderNodeListType:()=>O,AccountsType:()=>D,SuggestionsByHeaderType:()=>N,FolderType2:()=>f,GroupedFoldersType:()=>M,HtmlAnnotationType:()=>L,BodyType:()=>P,RouteType:()=>y,PageType:()=>b,HeadersType:()=>F,MessageType:()=>U,NodinMessageType:()=>v,MessageGroupType:()=>w,ImageType:()=>G,SenderType:()=>k,MailboxType:()=>H,AccountType:()=>B,SpaceIdType:()=>x,SectionIdType:()=>V,PeopleSuggestionType:()=>W,PencilAdType:()=>Z,NativeAdType:()=>K,AdType:()=>z,DarlaAdResultType:()=>q,DarlaAdCallResultType:()=>Y,DocumentPageType:()=>j,DocumentType:()=>Q,FilterFolderActionTypes:()=>X,FilterActionType:()=>J,FilterCriterionType:()=>$,FilterType:()=>ee,DomainSpecificResponseType:()=>te,VacationResponseType:()=>se,LoaderType:()=>ae,LocaleShape:()=>ne,NotificationDescriptor:()=>re,AttachmentErrorType:()=>oe,BrowserNotificationType:()=>ie,BulkTask:()=>le,ToolbarActionsType:()=>ce,CredstoreClientType:()=>de,LocationType:()=>Ee,StringType:()=>_e,TweetType:()=>ue,PlayerConfigType:()=>me,LinkEnhancerClientType:()=>Se,CloudStorageClientType:()=>pe,LinkEnhancerDomainStylesType:()=>Ce,EmojiType:()=>Ae,ContactType:()=>Te,XobniPhoneType:()=>he,XobniAddressType:()=>ge,XobniContact:()=>Ie,ContactListItemType:()=>Re,BootcampApiQueryParams:()=>Oe,ScrollToTopElementConfigDescriptor:()=>De,CloudStorageItem:()=>Ne,CloudStorageItemRow:()=>fe,FalconTOMSubscriptionItemStringsObject:()=>Me,FalconTOMSubscriptionItemType:()=>Le,I13nModelPropType:()=>Pe,MailPlusInstrumentationUrlType:()=>ye});var a=s(45697),n=s.n(a),r=s(37422),o=s(95406);const{string:i,number:l,bool:c,array:d,object:E,any:_,shape:u,oneOf:m,oneOfType:S,arrayOf:p,func:C}=n(),A=u({name:i.isRequired,lastObservedTimezone:u({client:i,server:i}),location:u({city:i,state:i,country:i}),geoLocation:u({city:i,state:i,country:i}),longName:i,formattedOffset:i,currentOffset:l}),T=u({name:i,email:i}),h=u({virus:i,filename:i,size:l,partId:i,mimeType:i,type:m((0,o.VO)(r.sSc.Types)),messageReference:u({mid:i,pid:i}),disposition:i,downloadUrl:i,thumbnailUrl:i,contentId:i,dataId:i}),g=u({isSpam:c,isRead:c,isFlagged:c}),I=u({id:i.isRequired,name:i.isRequired,isSystem:c.isRequired,types:p(i).isRequired}),R=u({folder:I.isRequired,children:p(E).isRequired}),O=p(R),D=u({default:d.isRequired}),N=u({to:d,cc:d,bcc:d}),f=u({id:i.isRequired,accountId:i.isRequired,name:i.isRequired,isSystem:c,types:p(i).isRequired,total:l,unread:l}),M=u({systemFolders:d.isRequired,customFolders:d.isRequired}),L=u({divIds:p(i).isRequired,classId:i}),P=u({html:i,text:i,htmlAnnotations:p(L),attachments:p(h),bidi:p(i)}),y=u({name:i.isRequired,params:E,query:E}),b=u({route:y.isRequired,metadata:E}),F=u({subject:i,cc:p(T).isRequired,bcc:p(T).isRequired,to:p(T).isRequired,from:p(T).isRequired,date:i.isRequired}),U=u({id:i.isRequired,folder:f.isRequired,flags:u({flagged:c,read:c}).isRequired,headers:F.isRequired,snippet:i.isRequired,attachments:p(h).isRequired,body:P,verifiedDomains:n().array.isRequired,composeProps:n().object}),v=u({messageId:i.isRequired,flags:u({flagged:c,read:c}).isRequired,headers:E.isRequired,snippet:i.isRequired,subject:i.isRequired,attachments:p(h).isRequired,downloadAllUrl:i.isRequired}),w=u({id:i.isRequired,messages:p(U).isRequired}),G=u({url:i,width:l,height:l}),k=u({name:i,email:i.isRequired,recent:c}),H=u({id:i,email:i,isPrimary:c.isRequired,state:m((0,o.VO)(r.U4$)).isRequired,type:m((0,o.VO)(r.WNU)).isRequired}),B=u({id:i,isPrimary:c.isRequired,email:i,accountVerified:c.isRequired,sendingName:i,status:m((0,o.VO)(r.dpb)).isRequired,type:m((0,o.VO)(r.tO8)).isRequired,serverUri:i,signature:i,signatureActive:c,secondaryAccounts:d,replyToAddress:i}),x=S([l,i]),V=S([l,E]),W=u({type:n().oneOf((0,o.VO)(r.sWL)),serviceId:n().string,name:n().string,emailIds:n().arrayOf(n().string)}),Z=u({adHeadline:i.isRequired,adSummary:i.isRequired,adImg:i.isRequired,adSource:i.isRequired,clickUrl:i.isRequired,type:i.isRequired,creativeId:i,beacon:i,impressionTrackingUrls:d}),K=u({contentType:i.isRequired,url:i.isRequired,usageType:i.isRequired}),z=u({creativeId:i.isRequired,pencilAd:Z,nativeAd:K}),q=u({position:i.isRequired,bookId:l.isRequired}),Y=u({spaceId:i.isRequired,positions:p(q).isRequired}),j=u({content:E,state:m((0,o.VO)(r.DAQ))}),Q=u({pages:j.isRequired,numPages:l.isRequired,height:l.isRequired,width:l.isRequired,exceptions:E.isRequired,sheets:E.isRequired}),X=u({folderActionValueBean:u({folder:u({name:i.isRequired})}).isRequired}),J=u({type:m((0,o.VO)(r.Ic2)),value:X}),$=u({field:S([m((0,o.VO)(r.w9A)),n().string]),operator:m((0,o.VO)(r.GVQ)),matchCase:c,value:i.isRequired}),ee=u({index:l.isRequired,name:i.isRequired,matchType:m((0,o.VO)(r.k92)),actions:p(J).isRequired,criterions:p($).isRequired}),te=u({domains:p(i).isRequired,domainMessageBody:i.isRequired}),se=u({enabled:c.isRequired,startDate:l,endDate:l,messageBody:i,domainSpecificResponse:te}),ae=u({loadModule:C.isRequired}),ne=u({firstDay:l,name:i}),re=u({requireInteraction:c,sticky:c,modal:c,icon:i,type:m((0,o.VO)(r.j_x))}),oe=u({code:l,isRetryable:c}),ie=u({title:i.isRequired,options:u({body:i.isRequired,icon:i.isRequired,lang:i.isRequired,tag:i.isRequired,timestamp:l.isRequired}).isRequired,onClick:C}),le=u({id:i,status:m((0,o.VO)(r.sZ3)).isRequired,progress:l.isRequired,expires:l}),ce=u({spam:c,ham:c,move:c,archive:c,restore:c,delete:c,permDelete:c,raf:c}),de=u({getAuthorizationURL:C}),Ee=u({city:i,state:i,country:i,timezone:u({name:i.isRequired,longName:i,currentOffset:i,offsetPositive:c}).isRequired}),_e=u({id:i,defaultMessage:i,description:i}),ue=u({id:l.isRequired,name:i.isRequired,text:i.isRequired,imgUrl:i.isRequired,handle:i.isRequired,creationTime:n().instanceOf(Date).isRequired}),me=u({playlist:E.isRequired}),Se=u({get:C}),pe=u({getFilePermissions:C}),Ce=u({domainLogo:i.isRequired,domainColor:i.isRequired}),Ae=u({unicode:i.isRequired,unicode_alt:i.isRequired,code_decimal:i.isRequired,name:i.isRequired,shortname:i.isRequired,category:i.isRequired,emoji_order:i.isRequired,aliases:d.isRequired,aliases_ascii:d.isRequired,keywords:d.isRequired}),Te=u({id:i,name:i,email:i,iataCode:i}),he={number:i.isRequired,type:i},ge={type:i,addrFields:u({street:i,city:i,country:i,state:i,zipcode:i})},Ie=u({id:i.isRequired,xobniId:i,categories:d,emails:p(i).isRequired,name:i,phonesWithType:p(u(he)),position:i,company:i,flickr:i,facebook:i,twitter:i,linkedIn:i,notes:i,addressesWithType:p(u(ge))}),Re=u({id:i,name:i,position:i,company:i,editToken:i,isBusiness:c,phonesWithType:p(u(he)),emails:p(i),emailType:E,backyard:i,flickr:i,facebook:i,twitter:i,linkedIn:i,website:i,relationshipHistory:E,notes:i,birthday:i,anniversary:i,addressesWithType:p(u(ge)),hiddenEndpoint:i}),Oe=u({name:n().string,keyword:n().string,emailAddresses:n().arrayOf(n().string),accountIds:n().arrayOf(n().string),folders:n().arrayOf(n().string),listFilter:n().string}),De=u({scrollThresholdPercentage:l,render:C}),Ne=u({creationDate:l,downloadLink:i,id:i,itemType:i,lastUpdateTime:l,mimeType:i,name:i,online:c,ownerId:i,ownerNames:d,path:i,shareableThumbnailLink:i,sharedWith:d,size:l,source:i,tags:E,thumbnail:i}),fe=u({id:i,item:Ne}),Me=u({heading:i,body:i,ctaText:i}),Le=u({strings:Me,falconTOMImageUrl:i,impressionTracker:i,impressionBeacon:i,redirectUrl:i,version:i,messageId:i,ymreqid:i,sku:i,isPrefetched:c}),Pe=u({mKey:i.isRequired,sec:i.isRequired,mKeyGroup:i,interactionType:i}),ye=u({mailPlusClickUrl:i.isRequired,mailPlusImpressionUrl:i.isRequired})},48755:(e,t,s)=>{"use strict";s.d(t,{o1:()=>L,ZP:()=>F,wl:()=>U});var a=s(50566),n=s(14890),r=s(37422),o=s(95406),i=s(45481),l=s(88552),c=s(92559),d=s(18446),E=s.n(d),_=s(68113),u=s(98109);const{MESSAGE_FROM_SEARCH_LIST:m,MESSAGE_FROM_FOLDER_LIST:S,SPONSORED_MESSAGE:p,FOLDER:C}=r.n8z,{STARTED:A,SUBMITTED:T,ENDED:h,DELETED:g,LIKED:I}=r._re,R=6e5,O=(0,o.gP)([5564699].concat(u.df)),{SUCCESS:D,PENDING:N,FAIL:f}=r.vaW,M=["OUTBOUND"],L={creativeId:"",pencilAd:{adHeadline:"",adSummary:"",adImg:"",adSource:"",clickUrl:"",creativeId:"",type:"",adFeedbackBeacon:"",rules:{},actionUrls:{},impressionTrackingUrls:[],carouselAssets:[],callExtension:{}},nativeAd:{contentType:"",url:"",usageType:"",geminiSponsoredAsset:"",actionUrls:{},embeddedLandingUrls:{}},timestamp:0},P=(0,n.combineReducers)({ads:(e={spaceId:"",prevSpaceId:"",positions:[],prevPositions:[]},t)=>{switch(t.type){case a.DARLA_ADS_RECEIVED:return{spaceId:t.spaceId,prevSpaceId:e.spaceId,positions:t.positions,prevPositions:[...e.positions]}}return e},errorMessage:(e="",t)=>{switch(t.type){case a.DARLA_ADS_FAILED:return t.error}return e},prefetchedAds:(e={},t)=>{switch(t.type){case a.INITIAL_STATE:return t.darlaAds||e;default:return e}}}),y=(0,n.combineReducers)({timestamp:(e=0,t)=>{switch(t.type){case a.MESSAGE_CARD_EXPANSION_CHANGED:case a.V3_MESSAGE_CARD_EXPANSION_CHANGED:return t.actionTimestamp;case a.DELETE_ITEMS_REQUESTED:case a.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView)return t.actionTimestamp;break;case a.MESSAGE_CARD_FOCUSED:if(t.messageReadAdRotationActive&&(0,o.u9)(t,"card.folderType",null)===r.Sck.DRAFT)return 0;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&(0,o.u9)(t,"card.folderType",null)!==r.Sck.DRAFT)return t.actionTimestamp;break;case a.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible&&t.messageReadAdRotationActive?t.actionTimestamp:0;case a.OPEN_PAGE_REQUESTED:return t.route.name===m||t.route.name===S?t.actionTimestamp:0;case a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case a.HIDE_RIGHT_PANE_ADS:return 0}return e},timestampV2:(e=0,t)=>{switch(t.type){case a.MESSAGE_READ_AD_ROTATION_TIMER:return t.actionTimestamp}return e},active:(e=!1,t)=>{switch(t.type){case a.MESSAGE_CARD_EXPANSION_CHANGED:case a.V3_MESSAGE_CARD_EXPANSION_CHANGED:return!0;case a.DELETE_ITEMS_REQUESTED:case a.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView)return!0;break;case a.MESSAGE_CARD_FOCUSED:if(t.messageReadAdRotationActive&&(0,o.u9)(t,"card.folderType",null)===r.Sck.DRAFT)return!1;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&(0,o.u9)(t,"card.folderType",null)!==r.Sck.DRAFT)return!0;break;case a.APPLICATION_VISIBILITY_DID_CHANGE:return!(!t.isVisible||!t.messageReadAdRotationActive)||e;case a.OPEN_PAGE_REQUESTED:return t.route.name===m||t.route.name===S;case a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return!1}return e}}),b=e=>{const t=Object.keys(e).reduce(((e,t)=>({...e,[t]:e[t]===T?h:null})),e);return E()(e,t)?e:t},F=(0,n.combineReducers)({adRotationId:(e=0,t)=>{if(i.gM[t.type])return t.actionTimestamp;switch(t.type){case a.APPLICATION_VISIBILITY_DID_CHANGE:if(t.isVisible){if(t.noAdRotationOnCompose&&(t.route.name===S||t.route.name===m)&&!t.messageReadAdRotationActive)break;return t.actionTimestamp}break;case a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:if(!t.noAdRotationOnCompose)return t.actionTimestamp;break;case a.OPEN_PAGE_REQUESTED:if(t.route.name!==p)return t.actionTimestamp;break;case a.STREAM_CURSOR_MOVED:if(t.previewPane!==r.EsZ.NO)return t.actionTimestamp;break;case a.ONLINE_STATUS_CHANGED:if(t.online&&t.rotateAdsOnline)return t.actionTimestamp;break;case a.SYNC_DATA:if(t.forceSync&&(0,o.u9)(t,"i13nModel.mKey",null)===c.JE.PULL_TO_REFRESH)return t.actionTimestamp;break;case a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case a.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:if(t.rotateAds)return t.actionTimestamp}return e},darla:P,geminiAds:(e={},t)=>{switch(t.type){case a.AD_FEEDBACK_SUBMITTED:return t.sectionId&&e[t.sectionId]?{...e,[t.sectionId]:[e[t.sectionId][0]]}:e;case a.INITIAL_STATE:case a.GEMINI_AD_RECEIVED:{if(t.geminiAd&&Object.keys(t.geminiAd).length>0)return Object.keys(t.geminiAd).filter((e=>t.geminiAd[e]&&!t.geminiAd[e].error)).reduce(((e,s)=>{if(O[s])return{...e,[s]:[{ads:t.geminiAd[s],timestamp:t.actionTimestamp}]};const a=e[s]||[];return e[s]=[...a,{ads:t.geminiAd[s],timestamp:t.actionTimestamp}].filter((e=>t.actionTimestamp-e.timestamp<R)),e}),{...e});const s=t.sectionIds&&u.df.find((e=>e===t.sectionIds[r.e$m.MESSAGE_READ]));if(s)return{...e,[s]:[]};break}case a.GEMINI_AD_REQUESTED:{const{sectionIds:s={}}=t;return(0,o.VO)(s).reduce(((e,s)=>(e[s]&&(e[s].length>1?e[s]=e[s].slice(1).filter((e=>t.actionTimestamp-e.timestamp<R)):e[s]=e[s].filter((e=>t.actionTimestamp-e.timestamp<R))),e)),{...e})}case a.OPEN_PAGE_REQUESTED:case a.PREVIEW_MESSAGE_REQUESTED:case a.STREAM_CURSOR_MOVED:return Object.keys(e).reduce(((e,t)=>(O[t]&&(e[t]=[]),e)),{...e})}return e},geminiError:(e={},t)=>{switch(t.type){case a.GEMINI_AD_RECEIVED:{const e={};return Object.keys(t.geminiAd||{}).reduce(((e,s)=>(t.geminiAd[s]&&t.geminiAd[s].error&&(e[s]=t.geminiAd[s]),e)),e)}case a.GEMINI_AD_FAILED:return(0,o.VO)(t.sectionIds||[]).reduce(((e,s)=>(e[s]=t.error,e)),{})}return e},searchAds:(e={},t)=>{switch(t.type){case a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:if((0,o.u9)(t,"response.ADS",null))return{...e,[t.listId]:(0,o.u9)(t,"response.ADS.WITH_KEYWORD.items",null)}}return e},searchPlaAds:(e={},t)=>{switch(t.type){case a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{var s,n;const{items:a=[],instrumentation:r}=(null==t||null===(s=t.response)||void 0===s||null===(n=s.PLAADS)||void 0===n?void 0:n.WITH_KEYWORD)||{};if(a.length)return{...e,[t.listId]:{ads:a,instrumentation:r}}}}return e},adFeedback:(e={},t)=>{switch(t.type){case a.APPLICATION_VISIBILITY_DID_CHANGE:if(t.isVisible)return b(e);break;case a.OPEN_PAGE_REQUESTED:if(t.route.name!==p)return b(e);break;case a.STREAM_CURSOR_MOVED:if(t.previewPane!==r.EsZ.NO)return b(e);break;case a.ONLINE_STATUS_CHANGED:if(t.online&&t.rotateAdsOnline)return b(e);break;case a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case a.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:if(t.rotateAds)return b(e);break;case a.AD_FEEDBACK_STARTED:return{...e,[t.sectionId]:A};case a.AD_FEEDBACK_SUBMITTED:return{...e,[t.sectionId]:T};case a.AD_FEEDBACK_CLOSED:return{...e,[t.sectionId]:e[t.sectionId]===T?h:null};case a.DELETE_PENCIL_AD:return{...e,[t.sectionId]:g};case a.AD_FEEDBACK_CLICKED:if(t.feedbackType)return{...e,[t.sectionId]:t.feedbackType===_.gT.POSITIVE?I:g};break;default:if(i.gM[t.type]&&-1===[a.AD_FEEDBACK_CLOSED,a.MESSAGE_READ_AD_ROTATION_TIMER].indexOf(t.type))return b(e)}return e},messageReadAdRotation:y,geminiCategories:(e=[],t)=>{switch(t.type){case a.OPEN_PAGE_REQUESTED:case a.PREVIEW_MESSAGE_REQUESTED:if(t.geminiCategories&&t.geminiCategories.length)return t.geminiCategories}return e},sponsoredAds:(e={},t)=>{switch(t.type){case a.OPEN_PAGE_REQUESTED:return t.sponsoredAd?{...e,[(0,o.u9)(t,"sponsoredAd.creativeId")]:t.sponsoredAd}:e;case a.GEMINI_SPONSORED_ASSET_RECEIVED:{const s=e[t.creativeId]&&{...e[t.creativeId].nativeAd,geminiSponsoredAsset:t.asset};return{...e,[t.creativeId]:{...e[t.creativeId],nativeAd:s}}}}return e},relatedSearches:(e={},t)=>{switch(t.type){case a.RELATED_SEARCHES_FETCH_SUCCEEDED:return t.queries}return e},isAdBlockerDetected:(e=!1,t)=>{switch(t.type){case a.ADBLOCK_DETECTED:return!0}return e},isABPDetected:(e=!1,t)=>{switch(t.type){case a.ABP_DETECTED:return!0}return e},isSponsoredMomentClosed:(e=!1,t)=>{switch(t.type){case a.SPONSORED_MOMENT_CLOSED:return!0}return e},checkMailAdRotationIdleTimestamp:(e=0,t)=>{switch(t.type){case a.CHECK_MAIL_RECEIVED_WITH_UPDATES:return t.userInitiated?t.actionTimestamp:e;case a.GEMINI_AD_RECEIVED:case a.DARLA_ADS_RECEIVED:case a.MESSAGE_READ_AD_ROTATION_TIMER:return e}return t.actionTimestamp||e},hasSponsoredMessageOnMessageList:(e=N,t)=>{if(e===f)return e;switch(t.type){case a.INITIAL_STATE:return t.geminiAd&&t.geminiAd[5602797]&&!t.geminiAd[5602797].error?D:f;case a.GEMINI_AD_RECEIVED:return e!==N||t.route.name!==C&&t.route.name!==S||t.geminiAd[5545468]?e:t.geminiAd&&t.geminiAd[5602797]&&!t.geminiAd[5602797].error?D:f;case a.OPEN_PAGE_REQUESTED:return e!==D||t.previousRoute.name!==C&&t.previousRoute.name!==S?e:N}return e},mailPlusSponsoredMsgOnAdMisclick:(e=r.$Fz.INITIALIZED,t)=>{switch(t.type){case a.PENCIL_AD_CLICKED:return e===r.$Fz.INITIALIZED?r.$Fz.PENDING:e;case a.APPLICATION_VISIBILITY_DID_CHANGE:{const{actionTimestamp:s,applicationLastVisibleTimeStamp:a,isVisible:n}=t;if(null==a)return e;const o=s-a;return e!==r.$Fz.PENDING?e:n?o<=r.dK?r.$Fz.MISCLICKED:r.$Fz.INITIALIZED:e}case a.GEMINI_AD_REQUESTED:return e===r.$Fz.PENDING?e:r.$Fz.INITIALIZED}return e}}),U=e=>t=>({getAdRotationId:()=>e.adRotationId,getGeminiAds:t=>e.geminiAds[t],hasAnyGeminiAd:()=>Object.keys(e.geminiAds).length,getGeminiAdData:s=>(0,l.Sf)(e,t,s),getGeminiAdDataInArray:s=>(0,l.DD)(e,t,s),getAllGeminiError:()=>e.geminiError,getGeminiError:t=>e.geminiError[t],getNativeAdData:s=>(0,l.Sf)(e,t,s).nativeAd,getPencilAdData:s=>(0,l.fc)(e,t,s),getAdFeedbackStatus:()=>e.adFeedback,getFeedbackStartedSectionIds:()=>Object.keys(e.adFeedback).filter((t=>e.adFeedback[t]===A)),getAdFeedbackBeacon:s=>(0,o.u9)((0,l.Sf)(e,t,s),"pencilAd.adFeedbackBeacon"),getAdFeedbackConfig:s=>(0,o.u9)((0,l.Sf)(e,t,s),"adFeedbackConfig"),getMessageReadAdRotationTimestamp:()=>e.messageReadAdRotation.timestamp,getMessageReadAdRotationTimestampV2:()=>e.messageReadAdRotation.timestampV2,getMessageReadAdRotationActive:()=>e.messageReadAdRotation.active,getDarlaAdData:()=>e.darla,getGeminiCategories:()=>e.geminiCategories,getSponsoredAd:t=>e.sponsoredAds[t],getSearchAdData:t=>e.searchAds[t]?e.searchAds[t].pencilAd:null,getPlaAdData:t=>{const s={ads:[],instrumentation:{}};return t?(0,o.u9)(e,`searchPlaAds.${t}`,s):s},getRelatedSearches:()=>e.relatedSearches,getGeminiAdDataFromCreativeId:s=>{let a;return Object.keys(e.geminiAds).find((n=>(a=(0,l.Sf)(e,t,n),a.creativeId===s)))?a:null},isAdBlockerDetected:()=>e.isAdBlockerDetected,getNativeAdFormType:s=>{var a;const n=(0,l.Sf)(e,t,s),r=(null==n||null===(a=n.nativeAd)||void 0===a?void 0:a.embeddedLandingUrls)||{};return((0,o.VO)(r).find((e=>"fsubmit"===e.label))||{}).type||null},getCachedGeminiAds:s=>(0,l.LF)(e,t,s),getSponsoredMomentData:()=>(0,l.lq)(e,t),getVideoSponsoredMomentData:()=>(0,l.Hj)(e,t),isSponsoredMomentClosed:()=>e.isSponsoredMomentClosed,getDPAAds:()=>(0,l.uJ)(e,t),getDomainMatchAds:()=>(0,l.cg)(e,t),getGeminiAdTimestamp:s=>(0,l.OP)(e,t,s),getCheckMailAdRotationIdleTimestamp:()=>e.checkMailAdRotationIdleTimestamp,isABPDetected:()=>e.isABPDetected,hasSponsoredMessageOnMessageList:()=>e.hasSponsoredMessageOnMessageList,hasGeminiBeenBlocked:()=>Object.keys(e.geminiError).some((t=>{var s,a;const n=(null===(s=e.geminiError[t])||void 0===s||null===(a=s.data)||void 0===a?void 0:a.errorCode)||"";return-1!==M.indexOf(n)})),getPortraitAd:(t,s)=>{let a={};return(e.geminiAds[s]||[]).forEach((e=>{t===e.ads[0].creativeId&&(a=e.ads[0])})),a.pencilAd},isNativeMailPlusUpsellAd:()=>{var e;const{getSetting:s,isFeatureEnabled:a,getRoute:n}=t,o=s(r.Zrf.GEMINI_MAIL_PLUS_ADS_CREATIVE_IDS),i=n(),l=parseInt(null==i||null===(e=i.params)||void 0===e?void 0:e.creativeId,10);return a(r.ANe.MAIL_PLUS_SPONSORED_MESSAGE)&&-1!==o.indexOf(l)},hasAdBeenMisclicked:()=>e.mailPlusSponsoredMsgOnAdMisclick===r.$Fz.MISCLICKED})},53164:(e,t,s)=>{"use strict";s.d(t,{Z:()=>_,w:()=>u});var a=s(14890),n=s(50566),r=s(37422),o=s(18446),i=s.n(o),l=s(57557),c=s.n(l),d=s(95406);const E=(0,a.combineReducers)({cardConversationId:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.cardConversationId||e;default:return e}},categories:(e=[],t)=>{const{type:s,deal:a}=t;switch(s){case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.categories||e;case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:return a.couponCategories||e;default:return e}},cmid:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.cmid||e;case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.id||e;default:return e}},dealLink:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.dealLink||e;default:return e}},dealType:(e=r.WSI.EXTRACTED_DEAL,t)=>{const{type:s,deal:a}=t;switch(s){case n.ASTRA_BATCH_API_SUCCEEDED:return(null==a?void 0:a.dealType)||r.WSI.RECOMMENDED_DEAL;default:return e}},description:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.description||e;default:return e}},discountInfo:(e=null,t)=>{const{type:s,deal:a}=t;switch(s){case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.discountInfo;default:return e}},from:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.from;default:return e}},imageHeight:(e=null,t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.imageHeight;default:return e}},imageUrl:(e=null,t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.imageUrl||e;default:return e}},imageWidth:(e=null,t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.imageWidth;default:return e}},isInferredDate:(e=!1,t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.isInferredDate||!1;default:return e}},parentMessageId:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.parentMessageId||e;default:return e}},relevanceScore:(e=0,t)=>{const{type:s,deal:a}=t;switch(s){case n.ASTRA_BATCH_API_SUCCEEDED:return a.relevanceScore||e;default:return e}},retailer:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.retailer||e;default:return e}},retailerLogoUrl:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.retailerLogoUrl||e;default:return e}},saved:(e=!1,t)=>{const{type:s,deal:a}=t;switch(s){case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.COUPONS_ADD_TAG_DECO_REQUESTED:case n.COUPONS_REMOVE_TAG_DECO_REQUESTED:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.saved;default:return e}},senderEmails:(e=[],t)=>{const{type:s,deal:a}=t;switch(s){case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.senderEmails||e;default:return e}},src:(e="msg",t)=>{const{type:s,deal:a}=t;switch(s){case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.src||e;default:return e}},unusualDiscount:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.unusualDiscount||e;default:return e}},validThrough:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.validThrough||e;default:return e}},extractionMeta:(e={},t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.extractionMeta||e;default:return e}},entity:(e="coupon",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.ASTRA_BATCH_API_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.entity||e;default:return e}}});const _=function(e={},t){const{listData:s={},type:a,dealsToSave:o=[]}=t;switch(a){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.COUPONS_LIST_SUCCEEDED:case n.COUPONS_REMOVE_TAG_DECO_REQUESTED:case n.COUPONS_ADD_TAG_DECO_REQUESTED:case n.ASTRA_BATCH_API_SUCCEEDED:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter((t=>s.schemaCards[t].type===r.rgK.Coupon&&!i()(e[t],c()(s.schemaCards[t],["id","type"])))).reduce(((t,n)=>({...t,[n]:E(e[n],{type:a,deal:s.schemaCards[n]})})),{});return Object.keys(t).length?{...e,...t}:e}case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:{const t=o.filter((t=>!i()(e[t.cmid],t))).reduce(((t,s)=>({...t,[s.cmid]:E(e[s.cmid],{type:a,deal:s})})),{});return Object.keys(t).length?{...e,...t}:e}default:return e}},u=(e={})=>({doesDealExist:t=>!!e[t],getDealFromCmid:t=>e[t],getExtractedDeals:()=>((0,d.VO)(e)||[]).filter((e=>e.dealType===r.WSI.EXTRACTED_DEAL)),getRecommendedDeals:()=>((0,d.VO)(e)||[]).filter((e=>e.dealType===r.WSI.RECOMMENDED_DEAL&&!!e.relevanceScore)),getStaticDeals:()=>((0,d.VO)(e)||[]).filter((e=>e.dealType===r.WSI.STATIC_DEAL)),getInboxDeals:()=>((0,d.VO)(e)||[]).filter((e=>e.dealType===r.WSI.RECOMMENDED_DEAL&&!e.relevanceScore)),getImageUrl:t=>e[t].imageUrl,getImageHeight:t=>e[t].imageHeight,getImageWidth:t=>e[t].imageWidth,getValidThroughDate:t=>e[t].validThrough,isInferredDate:t=>e[t].isInferredDate,getDealLink:t=>e[t].dealLink,getDescription:t=>e[t].description,getFromAddress:t=>e[t].from,isSavedDeal:t=>e[t].saved,getCardConversationId:t=>e[t].cardConversationId,getUnusualDiscount:t=>e[t].unusualDiscount,getCouponCategory:t=>e[t].categories,getRetailer:t=>e[t].retailer,getDiscountInfo:t=>e[t].discountInfo})},33471:(e,t,s)=>{"use strict";s.d(t,{OR:()=>u,gA:()=>S,lV:()=>p,ZP:()=>C});var a=s(31057),n=s(17016),r=s(20289);const o=["sprint.com","sprint.delivery.net","sprintcustserv.com","paperless.t-mobile.com","prod.t-mobileorders.com","t-mobile.com","t-mobileorders.com","t-mobile-email.com","message.att-mail.com"],i=["boostmobile.com","cricketwireless.com","delivery.boostmobile.com","delivery.virginmobileusa.com","ebill.virginmobile.com.au","ec.tracfone.com","tracfone-email.com","tracfonemail.com","email.tracfone.com","e.online.att-mail.com","email2.tracfone.com","email.metropcs.com","email.straighttalk.com","email2.straighttalk.com","emailff.att-mail.com","emaildl.att-mail.com","mail.cricketwireless.com","mintmobile.com","noreply.mintmobile.com","paymentplan.virginmobile.ca","prepaid.sprint.com","retail.boostmobile.com","straighttalk.com","straighttalkmail.com","tracfone.com","virginmobile.ca","virginmobile.com","virginmobileusa.com","e.uscellular.com","uscellular.com","email-uscellular.com","xfinitymobile.com"],l=["googlefi-noreply@google.com","google-fi-support@google.com"],c=["boostmobile.com","cricketwireless.com","delivery.boostmobile.com","delivery.virginmobileusa.com","ebill.virginmobile.com.au","verizon.net","bellsouth.net","ameritech.net","att.net","attworld.com","flash.net","nvbell.net","pacbell.net","prodigy.net","sbcglobal.net","snet.net","swbell.net","wans.net","currently.com","rogers.com","nl.rogers.com","btopenworld.com","btinternet.com,","talk21.com","sky.com","e.online.att-mail.com","frontier.com","frontiernet.net","myfrontiermail.com","citlink.net","newnorth.net","epix.net","gvni.com","frontiernet.com","ctaz.com","ctaz.net","citlink.com","evansinet.com","globalvalleynetworks.com","email.metropcs.com","email.straighttalk.com","email2.straighttalk.com","emailff.att-mail.com","emaildl.att-mail.com","mail.cricketwireless.com","message.att-mail.com","mintmobile.com","noreply.mintmobile.com","paperless.t-mobile.com","paymentplan.virginmobile.ca","prepaid.sprint.com","prod.t-mobileorders.com","retail.boostmobile.com","sprint.com","sprint.delivery.net","sprintcustserv.com","straighttalk.com","straighttalkmail.com","t-mobile.com","t-mobileorders.com","t-mobile-email.com","virginmobile.ca","virginmobile.com","virginmobileusa.com","e.uscellular.com","uscellular.com","email-uscellular.com","xfinitymobile.com"],d=["em.gamestop.com","blizzardnets.com","record.blizzardnets.com","pushed.blizzardnets.com","engage.xbox.com","playstationemail.com","promo.newegg.com","blizzardmarket.com","txn-email.playstation.com","em.blizzard.com","acct.epicgames.com","epicgames.com","accounts.nintendo.com","eu.playstationmail.net","nintendo.net","blizzard.com","e.newegg.com","e.blizzardgearstore.com","accts.epicgames.com","nvidia.com","newegg.com","asia.playstation.com","nedm.asus.com","gamestop.com","thesoxbox.com","email-gamestop.com","tmail.nvidia.com","digital.gameinformer.com","playstation.sony.com","ccg.nintendo.com","asus.com","noa.nintendo.com","invidiasalonandspa.com","e.gamestop.com","pcgamer.com","status.xbox.com","psn.jp.playstation.com"],E=e=>!!e&&(0,n.isEmailFromAllowlistDomains)(e,c),_=e=>!!e&&(0,n.isEmailFromAllowlistDomains)(e,d),u=e=>e?(0,n.isEmailFromAllowlistDomains)(e,o)?r.GQ.POWER:(0,n.isEmailFromAllowlistDomains)(e,i)||l.indexOf(e)>=0?r.GQ.SAVER:"":"",m=(e,t)=>{const{doesMessageGroupIdExist:s,getRoute:n,getMessageIdsFromMessageGroupId:r,getMessageListItems:o,getMessageFromAddress:i}=e,l=n();let c;return o((0,a.LY)(l)).find((e=>{const a=s(e.id)&&r(e.id)[0],{email:n}=(a&&i(a)||[])[0]||{};return c=t(n),!!c})),c},S=e=>m(e,E),p=e=>m(e,_),C=e=>m(e,u)},57801:(e,t,s)=>{"use strict";s.d(t,{v4:()=>i,Si:()=>l,PH:()=>c});var a=s(85927),n=s(31057),r=s(37422),o=s(71421);const i=1e3,l=650;function c(e,t,s){const{getCouponsSelectors:c,getDealsViewSelectors:d,getListsSelectors:E,getMainContentWidth:_,getAdsSelectors:u,getAdSectionIds:m}=(0,a.selectors)(e),S=_(),{getCouponCardStreamItems:p,getRecommendedDeals:C}=c(),{getDealsViewListExpansion:A}=d(),{doesListExist:T}=E(),{getGeminiAdDataInArray:h}=u(),g=h(m()[r.e$m.DEALS_SHOPPING_CART]);let I=2;if(S>i?I=3:S<l&&(I=1),s!==r.DAQ.DOES_NOT_EXIST){var R,O;const e=t.filter((e=>(0,n.WN)(e)===r.F6k.COUPON_CARDS&&T(e))).map((e=>[...p(e)])),s=C(),a=g.reduce(((e,t,s)=>{const a=4*s;return a<e.length&&e.splice(a,0,t),e}),[...s]),i=(0,o.Bb)(a,S/I,S),l=i.slice(0,3),c=A()?i:l,d=!!c.length;d&&e.unshift((c||[]).map((e=>{var t,s;return{listId:(0,n.H7)({referrer:r.qd8.RECOMMENDED_DEALS}),id:(null===(t=e[0])||void 0===t?void 0:t.cmid)||(null===(s=e[0])||void 0===s?void 0:s.creativeId),itemRow:e}}))),e.forEach((e=>{const t=e.length-1;e[t]&&(e[t].isLastItemInGroup=!0)}));let E=0;return null!==(R=e[d?0:-1])&&void 0!==R&&R.length&&e[d?0:-1].unshift({listId:(0,n.tE)(t[0],{listContentType:r.F6k.RECOMMENDED_DEALS_HEADER}),id:E++}),null!==(O=e[d?1:0])&&void 0!==O&&O.length&&e[d?1:0].unshift({listId:(0,n.tE)(t[0],{listContentType:r.F6k.COUPON_SEPARATOR}),id:E++}),e.reduce(((e,t)=>e.concat(t)),[])}return[]}},42490:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(37422);const n=e=>{const{getRouteParams:t,doesAttachmentExistById:s,getDocumentIdByAttachmentId:n,getAttachmentTypeByAttachmentId:r}=e,{attachmentId:o}=t()||{};if(!o||!s(o)||r(o)===a.sSc.Types.IMAGE)return"";const i=n(o);return i||""}},62650:(e,t,s)=>{"use strict";s.d(t,{H:()=>i,B:()=>c});var a=s(95406),n=s(37422),r=s(10728),o=s(8106);const i=e=>{const{getWindowDimensions:t,getSetting:s,getSmartViewTypeFromRoute:i,getRoute:l,isFeatureEnabled:c}=e,d=s(n.Zrf.PREVIEW_PANE)===n.EsZ.RIGHT,E=t(),_=i(l())===n.K8C.COUPONS,u=c(n.ANe.DEALS);let m=(0,a.u9)(E,"innerWidth",0);return!m&&(0,o.jU)()&&window.innerWidth&&(m=window.innerWidth),!!m&&((!d&&m<r.mQ2||d&&m<r.xW2)&&!(u&&_))},l=new RegExp(/^\d{4}(((0)[0-9])|((1)[0-2]))([0-2][0-9]|(3)[0-1])$/);function c(e={}){const t=(0,a.VO)(e).filter((e=>e.segment_inactivesince&&l.test(e.segment_inactivesince)));if(!t.length)return"1995-03-01";return(0,a.VO)(t).map((e=>e.segment_inactivesince.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3"))).reduce(((e,t)=>new Date(e)-new Date(t)<0?t:e))}},55426:(e,t,s)=>{"use strict";s.d(t,{zz:()=>E,sD:()=>_,I2:()=>u,CY:()=>m,jD:()=>S,VR:()=>p});var a=s(37422),n=s(40315),r=s(30155),o=s(99839),i=s(31057);const l=e=>!(e.length<2)&&e[0].timestamp<e[e.length-1].timestamp,c=({now:e,timezone:t})=>{const s=a.tdP.Types,{year:r,startOfYear:o}=(0,n.iY)({time:e,timezone:t}),i=[];for(let a=0;a<20;a++)i.push((l=s.YEAR,c=o(r+a),((e,t,s)=>({type:e,value:t,timestamp:s}))(l,c,c)));var l,c;return i.sort(((e,t)=>t.timestamp-e.timestamp))},d=({now:e,timezone:t})=>{const s=a.tdP.Types,r=(e,t,s)=>({type:e,value:t,timestamp:s}),o=(e,t)=>r(e,t,t),{weekday:i,month:l,year:c,startOfPastHour:d,startOfPastDay:E,startOfMonth:_,startOfYear:u}=(0,n.iY)({time:e,timezone:t}),m=[r(s.TODAY,0,d(0)),r(s.YESTERDAY,0,E(1)),r(s.THIS_WEEK,0,E(i)),r(s.LAST_WEEK,0,E(7+i)),r(s.THIS_MONTH,l,_(l))];for(let a=2;a<i+1;a++)m.push(r(s.DAY,i-a,E(a)));for(let a=0;a<6&&!(l-a-1<0);a++)m.push(r(s.MONTH,l-a-1,_(l-a-1)));m.push(o(s.THIS_YEAR,u(c)));for(let a=0;a<c-1970&&!(c-a-1<0);a++)m.push(o(s.YEAR,u(c-a-1)));return(e=>{if(0===e.length)return[];const t=a.tdP.PriorityMap,s=e.length-1,n=e[s];let r=[n],o=t[n.type];for(let a=s-1;a>=0;a--)t[e[a].type]<=o&&(r=[e[a]].concat(r)),o=Math.min(o,t[e[a].type]);return r})(m.sort(((e,t)=>t.timestamp-e.timestamp)))},E=({now:e,timezone:t,hasFutureTime:s=!1})=>{const n=s?c:d;try{return n({now:e,timezone:t}).map((e=>({listId:(0,i.rA)({listContentType:a.F6k.TIMECHUNK}),type:e.type,value:e.value,predicate:t=>t.timestamp>e.timestamp})))}catch(l){const e=new r.H(l),{data:t={},name:s="",message:a=""}=l,n=Object.assign({name:s,message:a,stack:e.toString()},t);return o.Z.error("Timechunk error V3",n),[]}},_=(e=[],t=[],s=l)=>{let a=[...e],n=0;const r={isGroupedList:!1,list:e};if(0===t.length)return r;const o=s(e);o&&a.reverse();const i=t.reduce(((e,{type:t,value:s,listId:r,predicate:i})=>{let l=[];return[l,a]=((e,t)=>{const s=[],a=[],n=e.length;for(let r=0;r<n;r++)t(e[r])?s.push(e[r]):a.push(e[r]);return[s,a]})(a,i),n=l.length,n?e.concat({type:t,value:s,ts:new Date(s),listId:r,items:o?l.reverse():l}):e}),[]);return o&&i.reverse(),i.length?{isGroupedList:!0,list:i}:r},u=(e,t,s,a)=>{const n=[];let r=[];if((!t||t<1)&&(t=1),e.forEach((e=>{r.length>=t&&(n.push({id:[e.listId,r[0].id,s,a,n.length].join("-"),items:r,listId:e.listId,listItemHeight:e.listItemHeight}),r=[]),r.push(e)})),r.length>0){const e=r[0];n.push({id:[e.listId,e.id,s,a,n.length].join("-"),items:r,listId:e.listId,listItemHeight:e.listItemHeight})}return n},m=(e=[],t)=>e.reduce(((e,{items:s,listId:a,type:n,value:r})=>e.concat({id:[a,n,r].join("-"),type:n,value:r,listId:a}).concat(u(s,t,n,r))),[]),S=(e=[])=>e.reduce(((e,{items:t,listId:s,type:a,value:n})=>e.concat({id:[s,a,n].join("-"),type:a,value:n,listId:s}).concat(t)),[]),p=(e,t=a.ie0.ALL,s)=>{const{id:n,listId:r}=e;if((0,i.WN)(r)!==a.F6k.MESSAGES)return!1;const o=s.getMessageIdsFromMessageGroupId(n);switch(t){case a.ie0.READ:return!o.some((e=>!s.getMessageFlags(e).read));case a.ie0.STARRED:return o.some((e=>s.getMessageFlags(e).flagged));case a.ie0.UNREAD:return o.some((e=>!s.getMessageFlags(e).read));case a.ie0.UNSTARRED:return!o.some((e=>s.getMessageFlags(e).flagged));case a.ie0.ALL:return!0;default:return!1}}},77684:(e,t,s)=>{"use strict";s.d(t,{TU:()=>m,Fk:()=>h,$p:()=>I});var a=s(37422),n=s(31057),r=s(42907),o=s(95406),i=s(8106),l=s(85927),c=s(50566),d=s(62631),E=s(17016),_=s(63523),u=s(3405);const m={COMPOSE:"cmps",COMPOSE_REPLY:"cmpsThrd",MESSAGE_READ:"msgRd",MESSAGE_LIST:"msgLst",CONTACTS:"contacts",FOCUSED_INBOX:"focused_inbox",SETTINGS:"sttgs",SETTINGS_FILTERS:"sttgs_fltr",SETTINGS_ACCOUNTS:"sttgs_accnt",SETTINGS_NOTIFICATIONS:"sttgs_not",SETTINGS_WRITING_EMAIL:"sttgs_write",SETTINGS_VIEWING_EMAIL:"sttgs_view",SETTINGS_AUTOMATIC_REPLY:"sttgs_rply",SETTINGS_PERSONALIZE_INBOX:"sttgs_per",SETTINGS_SECURITY_AND_PRIVACY:"sttgs_sec",SETTINGS_ENCRYPTION:"sttgs_crypt",SETTINGS_CONTACTS:"sttgs_cntct",SETTINGS_MAIL_PRO:"sttgs_mpro",SETTINGS_MAIL_PLUS:"sttgs_mplus",TRAVEL_LIST:"trvLst",TUTORIAL:"tutrl",SUBSCRIPTIONS:"subhub",STOREFRONT:"strftnt",REWARDS:"rewards"},S={[a.u5h.PERSONALIZE_INBOX]:m.SETTINGS_PERSONALIZE_INBOX,[a.u5h.ACCOUNTS]:m.SETTINGS_ACCOUNTS,[a.u5h.NOTIFICATIONS]:m.SETTINGS_NOTIFICATIONS,[a.u5h.WRITING_EMAIL]:m.SETTINGS_WRITING_EMAIL,[a.u5h.VIEWING_EMAIL]:m.SETTINGS_VIEWING_EMAIL,[a.u5h.AUTOMATIC_REPLY]:m.SETTINGS_AUTOMATIC_REPLY,[a.u5h.FILTERS]:m.SETTINGS_FILTERS,[a.u5h.SECURITY_AND_PRIVACY]:m.SETTINGS_SECURITY_AND_PRIVACY,[a.u5h.ENCRYPTION]:m.SETTINGS_ENCRYPTION,[a.u5h.CONTACTS]:m.SETTINGS_CONTACTS,[a.u5h.MAIL_PRO]:m.SETTINGS_MAIL_PRO,[a.u5h.MAIL_PLUS]:m.SETTINGS_MAIL_PLUS},p=(e,t)=>{let s;const{getSelectedAccountId:n,getAccountSelectors:r,getFeaturesSelectors:l}=e,{getAccountById:c,getImapInAccounts:_,getPrimaryAccount:u,userHasRegisteredAccount:m}=r(),{getSetting:S,isEnabled:p}=l(),C=p(a.Zrf.MAIL_TABS),A=S(a.Zrf.PREVIEW_PANE),T=S(a.Zrf.THEME),h=S(a.Zrf.LOGIN_NAME),g=S(a.Zrf.THEME_MODE),I=u()||{},R=n(),O=m()?c(R)||{}:I,D=_().length,N=(0,d.VH)(O),{domainPart:f}=(0,E.destructEmailAddressParts)(O.email||h||""),M=O.type===a.tO8.FREE?"PRIMARY":O.type,L=p(a.ANe.SHOULD_SW_SUBSCRIBE),P=(0,i.jU)()?(0,o.u9)(window,"AppBootstrapData.guid"):null,y=(0,i.jU)()?(0,o.u9)(window,"AppBootstrapData.shardId"):null;switch(I.type){case a.tO8.PHONE:s="phReg";break;case a.tO8.EXTERNAL:s="usReg";break;default:s=""}return{_GUID:P,tabs:C,prvwpan:A,vwCntxt:t,acctDomain:f,acctType:M,accountId:R,impn:D,theme:`${T}-${g}`,prvdr:N,regType:s,authType:O.authType,pshNtfctnsSbscrbd:L,shardId:y}},C=(e,t)=>{const s=(0,n.LY)(e),r=(0,n.WN)(s),o=(0,n.C4)(s),i=(0,n.yE)(s),l=(0,n.lG)(s),c=(0,_.D3)(s),d=(0,n.aY)(s);if(e.name===a.n8z.MESSAGE_FROM_SEARCH_LIST||e.name===a.n8z.MESSAGE_FROM_LIST)return t.messageViewTabPane;if(i){if(d===a.qd8.SUBSCRIPTIONS)return t.subscriptions;switch(r){case a.F6k.IMAGES:return t.photosSmartviewSearch;case a.F6k.DOCUMENTS:return t.documentsSmartviewSearch;case a.F6k.COUPON_CARDS:return t.couponsSmartview;case a.F6k.OFFER_CARDS:return t.groceriesSmartview;case a.F6k.TRAVEL_CARDS:return o===a.ukn.TRAVEL_VIEW_UPCOMING?t.travelUpcoming:t.travelPast;default:return c?t.travelEmails:t.messageSmartviewSearch}}return l?t.searchPeople:t.searchKeyword},A=e=>{const t=(0,n.LY)(e);return(0,n.aY)(t)===a.qd8.SUBSCRIPTIONS?r.vU.SUBSCRIPTION_DETAIL:(0,n.lG)(t)?r.vU.SEARCH_PEOPLE:(0,n.yE)(t)?r.vU.SEARCH_SMARTVIEW:r.vU.SEARCH_KEYWORD},T=e=>{const t=(0,n.LY)(e);return(0,n.WN)(t)===a.F6k.TRAVEL_CARDS?m.TRAVEL_LIST:m.MESSAGE_LIST},h=(e,t=!1)=>{const{getAction:s,getRoute:i,getSetting:d,getFoldersSelectors:E}=(0,l.selectors)(e),_=s(),u=i(),p=(0,n.LY)(u),h=d(a.Zrf.SPACE_IDS),{getPrimaryFolderTypeByFolderId:g,doesFolderIdExist:I}=E(),R=(0,n.Fh)(p),O=I(R)?g(R):a.Sck.INBOX;let D;switch(u.name){case a.n8z.SEARCH:D={spaceId:C(u,h),activeViewType:m.MESSAGE_LIST,activeFolderType:A(u)};break;case a.n8z.MESSAGE_FROM_SEARCH_LIST:case a.n8z.MESSAGE_FROM_LIST:D={spaceId:C(u,h),activeViewType:m.MESSAGE_READ,activeFolderType:A(u)};break;case a.n8z.LIST:D={spaceId:C(u,h),activeViewType:T(u),activeFolderType:A(u)};break;case a.n8z.BASE:case a.n8z.EDIT_FOLDER:case a.n8z.FOLDER:{const e={[a.Sck.INBOX]:h.folderViewInbox,[a.Sck.DRAFT]:h.folderViewDrafts,[a.Sck.SENT]:h.folderViewSent,[a.Sck.ARCHIVE]:h.folderViewArchive,[a.Sck.TRASH]:h.folderViewTrash,[a.Sck.BULK]:h.folderViewSpam,[a.Sck.USER]:h.folderViewCustom};D={spaceId:t?h.launchFolder:e[O]||h.folderViewCustom,activeViewType:m.MESSAGE_LIST,activeFolderType:r.vU[O]||r.vU.USER};break}case a.n8z.NEW_DRAFT:case a.n8z.EDIT_DRAFT:D={spaceId:t?h.launchCompose:h.composeNew,activeViewType:m.COMPOSE,activeFolderType:r.vU[O]||r.vU.USER};break;case a.n8z.MESSAGE_FROM_FOLDER_LIST:{const e=u.params&&u.params.attachmentId?h.attachment:h.messageViewTabPane;D={spaceId:t?h.launchMessage:e,activeViewType:m.MESSAGE_READ,activeFolderType:r.vU[O]||r.vU.USER};break}case a.n8z.TUTORIAL:D={spaceId:h.tutorial,activeViewType:m.TUTORIAL,activeFolderType:r.vU.INBOX};break;case a.n8z.SETTINGS:D={spaceId:h.settings,activeViewType:S[(0,o.u9)(u,"params.settingsGroupId")]||m.SETTINGS_PERSONALIZE_INBOX,activeFolderType:r.vU.INBOX};break;case a.n8z.SIGNATURES_FROM_SETTINGS:case a.n8z.THEME_CHOOSER:case a.n8z.ACCOUNT_LIST_FROM_SETTINGS:case a.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:case a.n8z.ADD_ACCOUNT_PROVIDER:case a.n8z.BLOCKED_SENDERS:case a.n8z.BLOCKED_DOMAINS:case a.n8z.AFTER_MESSAGE_MOVE:case a.n8z.MESSAGE_PREVIEW:case a.n8z.MAILPLUS_BENEFITS_UPSELL:D={spaceId:h.settings,activeViewType:m.SETTINGS,activeFolderType:""};break;case a.n8z.CONTACTS:case a.n8z.CONTACT_DETAILS:case a.n8z.CONTACT_DETAILS_FROM_SEARCH:case a.n8z.EDIT_CONTACT:case a.n8z.EDIT_CONTACT_FROM_SEARCH:case a.n8z.CREATE_CONTACT:D={spaceId:h.contacts,activeFolderType:"",activeViewType:m.CONTACTS};break;case a.n8z.SUBSCRIPTION_LIST:D={spaceId:h.subscriptions,activeFolderType:"",activeViewType:m.SUBSCRIPTIONS};break;case a.n8z.STOREFRONT:D={spaceId:h.storefront,activeFolderType:"",activeViewType:m.STOREFRONT};break;case a.n8z.SPONSORED_MESSAGE:case a.n8z.PORTRAIT_AD:D={spaceId:h.root,activeFolderType:"",activeViewType:""};break;case a.n8z.REWARDS:D={spaceId:h.rewards,activeFolderType:"",activeViewType:m.REWARDS};break;case a.n8z.FOCUSED_INBOX:D={spaceId:h.folderViewInbox,activeViewType:m.FOCUSED_INBOX,activeFolderType:r.vU.INBOX}}switch(d(a.Zrf.PREVIEW_PANE)===a.EsZ.NO||u.name!==a.n8z.FOLDER&&u.name!==a.n8z.SEARCH&&u.name!==a.n8z.LIST||(0,n.WN)(p)!==a.F6k.MESSAGES||(0,n.yE)(p)||(D.activeViewType=m.MESSAGE_LIST,D.spaceId=h.messageViewReadingPane),_.type){case c.PREVIEW_MESSAGE_CLOSED:D.activeViewType=m.MESSAGE_LIST;break;case c.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:D.activeViewType=m.COMPOSE_REPLY}return D&&!D.spaceId&&(D.spaceId=h.root),D},g=({activeViewType:e,activeFolderType:t},s)=>s?e:`${e}_${t||r.vU.INBOX}`,I=()=>{let e={},t={},s=0;return(r,{browserLoggerParams:o})=>{const i=(0,l.selectors)(r),{getRoute:d,getAction:E,doesStreamExist:_,getCursorItem:m,getSetting:S,getSelectedMailboxId:C,getMainStreamListIds:A,listExistsAndIsEmpty:T,autoDisplayFirstMessageInRoute:I,isMobileRoute:R}=i,O=d(),D=E(),N=!A(d()).some((e=>{const t=(0,n.WN)(e);return t!==a.F6k.MESSAGES&&t!==a.F6k.TRAVEL_CARDS||!T(e)})),f=(0,u.Vu)(O,t),M=-1!==[c.INITIAL_STATE,c.ITEM_LIST_PAGE_SCROLLED,c.PREVIEW_MESSAGE_CLOSED,c.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED].indexOf(D.type),L=R()&&I(O)&&-1!==[c.DELETE_ITEMS_REQUESTED,c.MOVE_ITEMS_REQUESTED,c.UNDO_MOVE_REQUESTED].indexOf(D.type);let P,y;if(f&&N||(s=0),D.streamId&&_(D.streamId)&&S(a.Zrf.PREVIEW_PANE)!==a.EsZ.NO&&(O.name===a.n8z.FOLDER||O.name===a.n8z.SEARCH||O.name===a.n8z.LIST)){const t=m(D.streamId);!t||t.id===e.id&&t.listId===e.listId||(0,n.WN)(t.listId)!==a.F6k.MESSAGES?t||(e={}):(e=t,P=h(r))}else if(C()&&!f){const e=!t.name;t=O,s=N?D.actionTimestamp:s,P=h(r,e)}else M||L?P=h(r):f&&N&&!s?(P=h(r),s=D.actionTimestamp):D.type===c.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED&&D.name===a.ANe.LANDSHARK_CUE?P={spaceId:a._L}:D.type===c.FEATURE_CLOSED&&D.name===a.ANe.LANDSHARK_CUE&&"download_button"!==D.i13nModel.mKey&&(P=h(r));if(O.name===a.n8z.SEARCH){const e=(0,n.LY)(O);y=(0,n.lG)(e)?(0,n.DF)(e):(0,n.Q7)(e)}const b=(0,n.I7)(O);return P?{...P,pageParams:Object.assign({},{...void 0!==y?{query:y}:{}},{...b?{ncid:b}:{}},p(i,g(P,O.name===a.n8z.SETTINGS)),o)}:{}}}},71421:(e,t,s)=>{"use strict";s.d(t,{S2:()=>l,Yk:()=>c,k1:()=>d,DV:()=>E,Bb:()=>_});var a=s(31057),n=s(37422),r=s(44908),o=s.n(r);const i=(e=[])=>e.reduce(((e,t)=>{if((0,a.WN)(t.listId)!==n.F6k.MESSAGES||void 0===t.folder)return e;const{groupId:s,folder:r,destinationFolder:i={},flags:l=[],isAffected:c}=t,{originalFolderIds:d=[],folderIds:E=[],folderTypes:_=[],flags:u=[]}=e[s]||{};let m,S;return s?(c?(m=i.id?[i.id]:[],S=i.types?[].concat(i.types):[]):(m=[r.id],S=[].concat(r.types)),{...e,[s]:{flags:c?u:u.concat(l),originalFolderIds:o()(d.concat(r.id)),folderIds:o()(E.concat(m)),folderTypes:o()(_.concat(S))}}):e}),{}),l=(e=[],t=[])=>{const s=i(e);return Object.keys(s).filter((e=>{const{folderIds:a=[],folderTypes:r=[]}=s[e];if(t.length)return!a.some((e=>-1!==t.indexOf(e)));return!r.some((e=>-1===[n.Sck.TRASH,n.Sck.BULK].indexOf(e)))}))},c=(e=[],t,s)=>{const r=((e=[])=>e.reduce(((e,t)=>{const{groupId:s,flags:a=[],isAffected:n,folder:r,destinationFolder:i={}}=t,{originalFolderIds:l=[],folderIds:c=[],folderTypes:d=[],flags:E=[]}=e[s]||{};let _,u;return n?(_=i.id?[i.id]:[],u=i.types?[].concat(i.types):[]):(_=[r.id],u=[].concat(r.types)),{...e,[s]:{flags:E.concat(a),originalFolderIds:o()(l.concat(r.id)),folderIds:o()(c.concat(_)),folderTypes:o()(d.concat(u))}}}),{}))(e),i=(0,a.C4)(t);return i===n.ukn.NEWMAIL&&"unread"===s?Object.keys(r).filter((e=>{const{flags:t=[]}=r[e];return t.some((e=>!e.read))})):i===n.ukn.OLDMAIL&&"read"===s?Object.keys(r).filter((e=>{const{flags:t=[]}=r[e];return t.some((e=>e.read))})):[]},d=(e=[],t,s=[])=>{const n=i(e);return Object.keys(n).filter((e=>{const{flags:r=[]}=n[e];return s.some((e=>(0,a.dV)(t,e)))&&r.every((e=>e.read))}))},E=(e,t)=>{const s=e.path.toLocaleLowerCase(),a=t.path.toLocaleLowerCase(),n=s.split("/"),r=a.split("/"),o=e.path.split("/"),i=t.path.split("/");let l=0,c=0;for(;l<n.length&&c<r.length;){const e=n[l],t=r[c],s=o[l],a=i[c];if(e!==t)return e.localeCompare(t);if(s!==a)return s.localeCompare(a);l++,c++}const d=s.localeCompare(a);return d||(s.localeCompare(a)||s.length-a.length)},_=(e,t,s)=>{const a=Math.floor(s/t),n=[];let r=0,o=0;return e.forEach((e=>{n[r]||(n[r]=[]),n[r].push(e),o++,o%a==0&&(r++,o=0)})),n}},95357:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(50566),n=s(31057),r=s(37422),o=s(78263);const i=e=>{const{getRouteParams:t}=e,{groupId:s}=t();return{groupIds:[s],messageIds:[],csid:""}},l=e=>{const{getRouteParams:t,doesComposeSessionExist:s,getDraftMessageId:a,getAction:n}=e,{csid:r}=t(),o=s(r)?a(r):void 0,i={groupIds:[],messageIds:[],csid:""},l=n();return o?i.messageIds=[o]:l.full&&(i.csid=r),i},c=e=>{const{getAction:t,getRoute:s,isMessageRoute:c,isAttachmentRoute:d,isDraftRoute:E,isComposeRoute:_,doesStreamExist:u,getCursorItem:m,getListsSelectors:S,getMainStreamListIds:p,getSetting:C,isMobileRoute:A,getCurrentListId:T,doesListExist:h,autoDisplayFirstMessageInRoute:g,getSelectedMailboxId:I}=e,R=t(),O={groupIds:[],messageIds:[],csid:""};if(!I())return O;switch(R.type){case a.LAUNCH_COMPLETED:{const{listId:t}=R,{getItemIdsSelectors:s,doesListExist:a}=S();if(c())return i(e);if(_()||E())return l(e);if(!t||!a(t)||(0,n.WN)(t)!==r.F6k.MESSAGES)return O;const{getItemIds:o}=s(t),d=[];return O.groupIds=d.concat(o().slice(0,C(r.Zrf.NUM_MESSAGE_GROUPS_TO_PREFETCH))),O}case a.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case a.MESSAGE_CARD_EXPANSION_CHANGED:return R.itemsToUpdate?(O.messageIds=R.itemsToUpdate.filter((e=>Boolean(e.messageId))).map((e=>e.messageId||"")),O):O;case a.PREVIEW_MESSAGE_REQUESTED:case a.GET_INVITE_INFO_REQUESTED:case a.MESSAGE_READ_SHOW_IMAGES_REQUESTED:if(R.itemId)O.groupIds=[R.itemId];else if(R.messageIds){const e=[];O.messageIds=e.concat(R.messageIds)}return O;case a.DELETE_PREVIEW_REQUESTED:return R.messageGroupId&&(O.groupIds=[R.messageGroupId]),O;case a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case a.MESSAGE_PRINT_REQUESTED:return R.messageId&&(O.messageIds=[R.messageId]),O;case a.V3_MESSAGE_SAVE_SUCCEEDED:case a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case a.STREAM_CURSOR_MOVED:case a.ITEM_LIST_PAGE_SCROLLED:return O}if(d())return(e=>{const{getRouteParams:t,doesMessageGroupIdExist:s}=e,{groupId:a}=t();return s(a)?{groupIds:[a],messageIds:[],csid:""}:{groupIds:[],messageIds:[],csid:""}})(e);if(c())return i(e);if(_()||E())return l(e);if(A()&&g(s())){const e=T();if(h(e)){const{getFirstItemIdOfList:t}=S(),s=t(e);return O.groupIds=[s],O}}if(C(r.Zrf.PREVIEW_PANE)===r.EsZ.NO||R.type===a.STREAM_ITEM_TOGGLED)return O;const D=p(s()),N=(0,o.BA)(D);if(N&&u(N)){const e=m(N)||{};if(e.id)switch((0,n.WN)(e.listId)){case r.F6k.MESSAGES:return O.groupIds=[e.id],O;case r.F6k.MESSAGE:return O.messageIds=[e.id],O}}return O}},88552:(e,t,s)=>{"use strict";s.d(t,{LF:()=>i,Sf:()=>l,DD:()=>c,OP:()=>d,fc:()=>E,uJ:()=>_,cg:()=>u,lq:()=>S,Hj:()=>p,GZ:()=>T,Kz:()=>h});var a=s(31057),n=s(48755),r=s(37422),o=s(10728);const i=(e,t,s)=>{const{getSetting:a,isFeatureEnabled:n,getAdsSelectors:o}=t,i=n(r.ANe.ROTATE_PENCIL_AD_ON_EXPIRE),l=a(r.Zrf.PENCIL_AD_EXPIRE_TIME),{getGeminiAds:c,getAdRotationId:d}=o(),E=c(s)||[],_=d();return s?E.filter(((e,t)=>!i||_-e.timestamp<l||t===E.length-1)):[]},l=(e,t,s)=>{const{ads:a}=i(e,t,s)[0]||{};return(a&&a.length>0?a[0]:a)||n.o1},c=(e,t,s)=>{const{ads:a}=i(e,t,s)[0]||{};return(a&&1===a.length&&!a[0].creativeId?a[0]:a)||[]},d=(e,t,s)=>{const{timestamp:a}=i(e,t,s)[0]||{};return a||n.o1.timestamp},E=(e,t,s="")=>{const{getRoute:o,isFeatureEnabled:i,getSetting:c}=t,d=c(r.Zrf.GEMINI_SECTION_IDS),E=o(),_=(0,a.LY)(E),u=l(e,t,s).pencilAd,m=e.searchAds[_],S=E.name===r.n8z.SEARCH;return s===d[r.e$m.MESSAGE_LIST_2]?S?m&&i(r.ANe.SECOND_SEARCH_AD)?i(r.ANe.SAME_SEARCH_AD_ON_SECOND_PENCIL)?m[0]?m[0].pencilAd:n.o1.pencilAd:m[1]?m[1].pencilAd:n.o1.pencilAd:n.o1.pencilAd:u:m&&m[0]?m[0].pencilAd:u},_=(e,t)=>{const{getSetting:s,isFeatureEnabled:a}=t;let n=s(r.Zrf.GEMINI_SECTION_IDS)[r.e$m.SHOPPING_CART];a(r.ANe.CROSS_DOMAIN_DPA_ADS)&&(n=s(r.Zrf.GEMINI_SECTION_IDS)[r.e$m.CROSS_DOMAIN_DPA_ADS]);const o=c(e,t,n);return(a(r.ANe.SHOPPING_CART_AD)||a(r.ANe.CROSS_DOMAIN_DPA_ADS))&&o.length?o:[]},u=(e,t)=>{const{getSetting:s,isFeatureEnabled:a}=t,n=s(r.Zrf.GEMINI_SECTION_IDS)[r.e$m.MESSAGE_READ],o=c(e,t,n);return a(r.ANe.MSG_READ_PENCIL_AD_SEND_DOMAIN)&&o.length?o:[]},m=(e,t)=>{const{getSetting:s,isFeatureEnabled:a}=t,n=a(r.ANe.SPONSORED_MOMENT),o=s(r.Zrf.GEMINI_SECTION_IDS)[r.e$m.MESSAGE_LIST_SM],i=l(e,t,o);return n&&i.creativeId?i:null},S=(e,t)=>{const s=m(e,t);return s?s.pencilAd:null},p=(e,t)=>{if(!t.isFeatureEnabled(r.ANe.VIDEO_SPONSORED_MOMENT))return null;const s=m(e,t);return s?s.videoAd:null},C=({hasRightPane:e,feedbackStatus:t,isAdFeedbackV2:s})=>t===r._re.STARTED?e?o.Fn_:o.e0T:t===r._re.SUBMITTED||t===r._re.DELETED||t===r._re.LIKED?s?e?o.l9k:o.DGE:e?o.V2F:o.l9k:void 0,A={[r.Ds1.SLIM]:o.BKZ,[r.Ds1.RELAXED]:o.xwf,[r.Ds1.NORMAL]:o.V2F},T=(e,t,s)=>{const{getSetting:n,getAdsSelectors:o,isFeatureEnabled:i}=e,l=n(r.Zrf.PREVIEW_PANE)===r.EsZ.RIGHT,c=o(),{getAdFeedbackStatus:d}=c,E=d()[s],_=E===r._re.STARTED||E===r._re.SUBMITTED,u=i(r.ANe.AD_FEEDBACK_V2),m=n(r.Zrf.MSG_LIST_DENSITY);if(u){const e=(0,a.rA)({listContentType:r.F6k.PENCIL_AD}),n=E===r._re.STARTED||E===r._re.SUBMITTED||E===r._re.DELETED||E===r._re.LIKED;let o=l?A[m]:t;return n&&(o=C({hasRightPane:l,feedbackStatus:E,isAdFeedbackV2:u})),{id:[e,r.F6k.PENCIL_AD,s].join("-"),listId:e,sectionId:s,listItemHeight:o}}const S=(0,a.rA)({listContentType:_?r.F6k.AD_FEEDBACK:r.F6k.PENCIL_AD});return _?{id:[S,r.F6k.AD_FEEDBACK,s].join("-"),listId:S,sectionId:s,listItemHeight:C({hasRightPane:l,feedbackStatus:E})}:{id:[S,r.F6k.PENCIL_AD,s].join("-"),listId:S,sectionId:s,listItemHeight:l?A[m]:t}},h=(e,t,s)=>{if(t!==r.F6k.MESSAGES)return!1;const{getSetting:a,getAdsSelectors:n,isFeatureEnabled:o,getMailPremiumFreeTrialSelectors:i}=e,l=a(r.Zrf.GEMINI_SECTION_IDS),c=n(),{getAdFeedbackStatus:d,getPencilAdData:E}=c,_=d(),u=i().getUpsellId();return o(r.ANe.SECOND_PENCIL_AD)&&E(l[r.e$m.MESSAGE_LIST_2]).clickUrl&&(!s||o(r.ANe.SECOND_SEARCH_AD))&&_[l[r.e$m.MESSAGE_LIST_2]]!==r._re.ENDED&&(u!==r.$AH.PRE_SIGNUP_PENCIL_BANNER||u===r.$AH.PRE_SIGNUP_PENCIL_BANNER&&s)}},58468:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n,w:()=>r});var a=s(50566);const n=function(e={historyStack:[],activePageIndex:-1},t){switch(t.type){case a.INITIAL_STATE:return{historyStack:[{backIdx:-1,route:t.route}],activePageIndex:0};default:return t.historyState||e}},r=(e={})=>({getActivePageIndex:()=>{const{activePageIndex:t=-1}=e;return t},getHistoryStack:()=>{const{historyStack:t=[]}=e;return t},getCurrentPage:()=>{const{historyStack:t=[],activePageIndex:s=-1}=e;return t.length?t[s]:{}},getPageAtIndex:t=>{const{historyStack:s=[]}=e;return s.length&&t<s.length?s[t]:{}}})},85927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ie,selectors:()=>de});var a=s(81463),n=s.n(a),r=s(44908),o=s.n(r),i=s(18446),l=s.n(i),c=s(14890),d=s(22222),E=s(45895),_=s(77890),u=s(19822);var m=s(37422),S=s(50566),p=s(63352),C=s(17016),A=s(78137),T=s(99691),h=s(40315),g=s(42907),I=s(99839),R=s(31057),O=s(10728),D=s(18247),N=s(95406),f=s(3405),M=s(63523),L=s(78263),P=s(55636),y=s(57801),b=s(62650),F=s(55426),U=s(77684);const v=(e,t)=>(e=>e.map((e=>e.folderType===m.Sck.DRAFT?{...e,expansionState:m.Lvq.EXPANDED}:{...e,expansionState:m.Lvq.COLLAPSED})))(e).map((e=>e.messageId===t?{...e,expansionState:m.Lvq.EXPANDED}:e)),w=(e,t)=>{const{getMessageFlags:s,isSentFolder:a}=t,n=e.map((({listId:e=null}={})=>e)),r=n.length>0&&n[0]?(0,R.Fh)(n[0]):null,o=(e=>{const{getRouteParams:t,getHashParams:s,getRoute:a}=e,n=t(),r=a(),o=n.attachmentId&&"1"!==r.query.fullscreen,i=s();return o?(0,D.b1)(r.params.attachmentId):i.messageId||null})(t);if(o)return v(e,o);const i=e.filter((e=>e.folderType!==m.Sck.DRAFT)).pop(),l=e.filter((e=>e.messageId)).some((e=>!s(e.messageId).read)),c=e.map((e=>e.folderType===m.Sck.SENT&&r&&a(r)||e.folderType===m.Sck.DRAFT||!s(e.messageId).read||!l&&s(e.messageId).flagged||e.messageId===i.messageId?{...e,expansionState:m.Lvq.EXPANDED}:{...e,expansionState:m.Lvq.COLLAPSED}));return c.map(((e,t)=>{if(e.expansionState===m.Lvq.EXPANDED)return e;const s=t+1<c.length?c[t+1]:void 0;return 0===t||s&&s.expansionState===m.Lvq.EXPANDED?e:{...e,expansionState:m.Lvq.STACKED}}))},G=(0,N.VO)(m.tX8),k=(0,N.VO)(m.AE_),H=[m.Asd.DATE_DESC,m.Asd.DATE_ASC,m.Asd.STARRED,m.Asd.SUBJECT],B=[m.Asd.DATE_DESC,m.Asd.DATE_ASC,m.Asd.UNREAD,m.Asd.STARRED],x=[m.Asd.DATE_DESC,m.Asd.DATE_ASC,m.Asd.UNREAD,m.Asd.STARRED,m.Asd.SENDER,m.Asd.SUBJECT,m.Asd.ATTACHMENT];var V=s(88552);const W=(e,t)=>{const{getRoute:s,getSetting:a,isMobileRoute:n}=e,r=n(),o=s(),i=(0,R.I7)(o),l=a(m.Zrf.MAIL_PLUS_IMPRESSION_URL),c=a(m.Zrf.MAIL_PLUS_CLICK_URL),d=a(m.Zrf.MAIL_PLUS_URL);return i?{mailPlusClickUrl:`${d}?ncid=${encodeURIComponent(i)}`,mailPlusImpressionUrl:l[t]||""}:{mailPlusClickUrl:r?d:c[t]||d,mailPlusImpressionUrl:r?"":l[t]||""}};var Z=s(73498),K=s(53164),z=s(58468),q=s(83521),Y=s(55895),j=s(62631);const Q=[m.n8z.SUBSCRIPTION_LIST,m.n8z.REWARDS],X=m.nuI.Status,J=e=>e.url,$=e=>e.params,ee=e=>-1!==e.url.indexOf("/search/"),te=e=>"/m/"===e.url.substr(0,3),se=e=>-1!==e.url.indexOf("/edit/"),ae=e=>-1!==e.url.indexOf("/compose/"),ne=e=>e.name===m.n8z.FOLDER,re=e=>((0,p.Z)(e&&void 0!==e.url,"isMessageRoute: route.url does not exist",e||{url:"undefined"}),-1!==e.url.indexOf("/messages/")),oe=({list:e,timePredicates:t,sortOrder:s=m.Asd.DATE_ASC})=>{const a=[m.Asd.DATE_DESC,m.Asd.DATE_ASC].indexOf(s)>=0;if(!(e.length>=4&&a))return e;const{list:n,isGroupedList:r}=(0,F.sD)(e,t);return r?(0,F.jD)(n):n},ie=Y.ZP,le=((e={})=>(t,s,a,n)=>r=>{const o=s(),i=((t,s)=>(e[t]||(e[t]=(0,d.createSelector)(s,(()=>({})))),e[t]))(t,a)(r);return i[o]||(i[o]=n(...a.map((e=>e(r))))),i[o]})({}),ce=e=>{let t=E.cA.NARROW;return e<E.u3.MIN_WIDTH_FOR_TWO_COLUMNS?t=E.cA.FLEXIBLE:e>=E.u3.WIDE_MESSAGE_LIST&&(t=E.cA.WIDE),t},de=(0,d.createSelector)((e=>e),(e=>{const t=Y.ww,s=(0,d.createSelector)(t.mailboxes,t.folders,((e,t)=>{(0,p.Z)(t,"getRootAccountsWithDefaultFolder: foldersSelectors is not available");const s=e.getAccountsSelectors().getRootAccounts(),{doesFolderIdExist:a,getFolderUnreadCount:n,getFolderIdsFromFolderType:r}=t;return s.map((e=>{const t=r(m.Sck.INBOX,e.id)[0];return{...e,defaultFolder:{id:t,unread:a(t)?n(t):0}}}))})),a={getDesignClassifierDimensions:()=>{const{clientWidth:e,clientHeight:t,screenWidth:s,screenHeight:n}=a.getEnvironmentSelectors().getWindowDimensions(),r=a.getRouterSelectors().getRoute(),o=r&&r.name,i=e&&n?((e,t,s,a)=>{let n=a;return e>t&&s<a&&(n=s),n<E.u3.MIN_HEIGHT_FOR_TWO_COLUMNS||e<E.u3.MIN_WIDTH_FOR_TWO_COLUMNS?1:2})(e,t,s,n):1;return{clientWidth:e,clientHeight:t,orientation:(l=e,c=t,l>c?m.hym.LANDSCAPE:m.hym.PORTRAIT),columns:i,messageListWidth:i>1&&!Q.includes(o)?ce(e):E.cA.FLEXIBLE,sidebarWidth:i>1||o===m.n8z.SUBSCRIPTION_LIST?ce(e):E.cA.FLEXIBLE,isDetailPaneExpanded:a.isDetailPaneExpanded()};var l,c},shouldShowTwoColumnInRoute:()=>{const e=a.getRoute(),t=e&&e.name;return!t||!Q.includes(t)},isDetailPaneExpanded:()=>t.designClassifier(e).isDetailPaneExpanded(),getOrientation:()=>a.getDesignClassifierDimensions().orientation,getPrescribedNumberOfColumns:()=>a.getDesignClassifierDimensions().columns,getPrescribedMessageListWidth:()=>a.getDesignClassifierDimensions().messageListWidth,getPrescribedSidebarWidth:()=>a.getDesignClassifierDimensions().sidebarWidth,getAction:()=>t.action(e),getActionTimeStamp:()=>a.getAction().actionTimestamp,isWindowResizingDone:()=>a.getAction().type===S.WINDOW_RESIZING,getFeaturesSelectors:()=>t.features(e)(a),getSenderRollupSelectors:()=>t.senderRollup(e),getComposeFormatsSelectors:()=>t.composeFormats(e),getComposeFormat:e=>a.getComposeFormatsSelectors().getComposeFormat(e),getCompactComposeSessions:()=>{const{getAllComposeFormats:e,getComposeFormatById:t}=a.getComposeFormatsSelectors();return e().map((e=>{const{format:s,...a}=t(e)||{};return{...a,isMinimized:s===m.UeM.MINIMIZED}}))},canOpenNewComposeSession:()=>{const{getRoute:e,isFreshCompose:t,getComposeFormatsSelectors:s,doesComposeSessionExist:n}=a,r=e(),o=[].concat(s().getAllComposeFormats());return m.n8z.EDIT_DRAFT!==r.name&&m.n8z.NEW_DRAFT!==r.name||o.push((0,f.uo)(r)),!o.length||!o.some((e=>n(e)&&t(e)))},isFeatureEnabled:e=>le("isFeatureEnabled",(()=>e),[e=>e],(()=>a.getFeaturesSelectors().isEnabled(e)))(a),getSetting:e=>le("getSetting",(()=>e),[e=>e],(()=>a.getFeaturesSelectors().getSetting(e)))(a),getDefaultSetting:e=>a.getFeaturesSelectors().getDefaultSetting(e),getAdsSelectors:()=>t.ads(e)(a),getPrintItemsSelectors:()=>t.printItems(e),getAddFilterSelectors:()=>t.addFilter(e),getReplySuggestionSelectors:()=>t.replySuggestions(e),getItemToPrint:()=>a.getPrintItemsSelectors().getItemToPrint(),getUnsyncedDataSelectors:()=>t.unsyncedData(e),getReconciledUnsyncedData:()=>le("getReconciledUnsyncedData",(()=>"RECONCILE_UNSYNCED_DATA_CACHE"),[e=>e],(()=>a.getUnsyncedDataSelectors().getReconciledUnsyncedData(a)))(a),getUnsyncedDataToSync:(e=Date.now())=>a.getUnsyncedDataSelectors().getUnsyncedDataToSync(a,e),getReconciledUnysncedDataByHash:e=>a.getReconciledUnsyncedData().find((t=>t.hash===e)),getRequestHashForUnsyncedDataItem:e=>`${e.type}-${e.hash}`,getUnsyncedDataToSyncByRequestHash:(e,t)=>{const{getRequestHashForUnsyncedDataItem:s,getUnsyncedDataToSync:n}=a;return n(t).find((t=>s(t)===e))},getOnlineSelectors:()=>t.online(e),isOnline:()=>a.getOnlineSelectors().isOnline(),getContentProviders:()=>t.contentProviders(e),getSupportedEmailProviders:({excludePrimary:e=!1}={})=>{const{getEnvironmentSelectors:t,getPrimaryAccountId:s,getProviderFromAccount:n,isFeatureEnabled:r}=a,o=t().getPartner();let i=[...m.NdR];if(e||o){const e=n(s());i=i.filter((t=>t!==e))}return r(m.ANe.OFFICE365)||(i=i.filter((e=>e!==m.zoT.OFFICE365))),i},getListsSelectors:()=>t.lists(e),doesListExist:e=>a.getListsSelectors().doesListExist(e),doesListHasMoreItems:e=>a.getListsSelectors().hasMoreItems(e),getListStatus:e=>a.getListsSelectors().getListStatus(e),doesListItemExist:(e,t)=>a.getListsSelectors().doesListItemExist(e,t),getListItemIdIndex:(e,t)=>a.getListsSelectors().getListItemIdIndex(e,t),shouldFetchMoreItems:(e,t)=>{const{getFeaturesSelectors:s,getListsSelectors:n,getListItemIds:r,doesListHasMoreItems:o}=a,{getListItemIdIndex:i,doesListExist:l}=n(),c=s().getSetting("messageScrollLoadThreshold"),d=i(e,t),E=l(e)?r(e):[],_=l(e)&&o(e),u=E.length-d;return _&&u<=c},getPreviousListItemId:(e,t)=>a.getListsSelectors().getPreviousListItemId(e,t),getNextListItemId:(e,t)=>a.getListsSelectors().getNextListItemId(e,t),isListEmpty:e=>a.getListsSelectors().isListEmpty(e),isListStale:e=>a.getReconciledUnsyncedData().some((t=>t.type===m.sKi.LIST_TO_UPDATE&&t.userInputtedValues.listId===e&&t.userInputtedValues.isStale)),getListLmv3Query:e=>a.getListsSelectors().getLmv3Query(e),getListSuggestedWords:e=>a.getListsSelectors().getSuggestedWords(e),getAllItemsCountForListId:e=>{const{getListsSelectors:t,doesListExist:s,getListLmv3Query:n,doesFolderIdExist:r,getFolderTotal:o}=a,{getTotalHits:i}=t(),l=(0,R.Fh)(e);return s(e)&&n(e)?i(e):l&&r(l)&&o(l)||null},getStreamsSelectors:()=>t.streams(e),getFoldersSelectors:()=>t.folders(e),getMessageGroupsSelectors:()=>t.messageGroups(e),getCardGroupsSelectors:()=>t.cardGroups(e)(a),getCardMessageToSchemasSelectors:()=>t.cardMessageToSchemas(e),getFlightsSelectors:()=>t.flights(e),getItemIdsSelectors:e=>a.getListsSelectors().getItemIdsSelectors(e),getListItemIds:e=>a.getItemIdsSelectors(e).getItemIds(),getPeopleListItems:e=>a.getListItemIds(e).map(a.getContactListSelectors().getContactById),getMessageTimestamp:e=>a.getMessagesSelectors().getTimeStamp(e),getMessageListItems:e=>{const{getSetting:t}=a,s=(0,R.WN)(e),n=t(m.Zrf.LIST_ITEM_HEIGHT,{contentType:s});return le("getMessageListItems",(()=>`${e}-${n}`),[e=>e.getListsSelectors(),e=>e.getMessagesSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageGroupsSelectors()],(()=>{const{getMessageIdsFromMessageGroupId:t,getFoldersSelectors:r,getMessagesSelectors:o,getListsSelectors:i,getCardGroupsSelectors:l,getMessageFolderId:c}=a,{getMessageIdsFromCardGroupId:d}=l(),{getPrimaryFolderTypeByFolderId:E,doesFolderIdExist:_}=r(),{getTimeStamp:u}=o(),{getItemIdsSelectors:S}=i(),{getItemIds:p}=S(e),C=(0,R.Fh)(e);return p().reduce(((a,r)=>{const o=s===m.F6k.TRAVEL_CARDS?d(r):t(r,e),i=[],l=[];o.forEach((e=>{const t=c(e);_(t)&&(E(t)!==m.Sck.DRAFT?i.push(e):l.push(e))}));let S=C&&E(C)===m.Sck.DRAFT?l:i;0===S.length&&(S=o);const p=S[S.length-1],A=0===i.length?o[0]:i[0],T=[...S].reverse().find((e=>c(e)===C))||p;return void 0===T?a:[...a,{id:r,listId:e,firstMessageId:A,relevantMessageId:T,recentMessageId:p,listItemHeight:n,timestamp:1e3*u(T)}]}),[])}))(a)},getSystemFolderListWithSmartView:t=>le("getSystemFolderListWithSmartView",(()=>t),[e=>e],(()=>{const s=a.isOldNewMailInboxStyle(),{isSystemFolder:n,getPrimaryFolderTypeByFolderId:r,getFolderName:o}=a.getFoldersSelectors(),i=e.folders,l=Object.keys(i).filter((e=>{const a=i[e].accountId===t,o=n(e),l=r(e);return a&&o&&!(s&&l===m.Sck.INBOX)})).map((e=>({id:e,type:r(e),kind:"folder",name:o(e),level:0}))),c=Object.keys(g.Z_).filter((e=>s?e!==m.K8C.UNREAD:e!==m.K8C.OLDMAIL&&e!==m.K8C.NEWMAIL)).map((e=>({id:e,type:e,kind:"smartview",name:e,level:0})));return l.concat(c).sort(((e,t)=>g.p4[e.type]-g.p4[t.type]))}))(a),getCustomFolderList:e=>le("getCustomFolderList",(()=>e),[e=>e.getFoldersSelectors()],(t=>t.getCustomFolderList(e)))(a),getAttachmentListItems:e=>{const{getAttachmentsSelectors:t,getFeaturesSelectors:s,getListsSelectors:n,isFeatureEnabled:r,getMessageIdForAttachmentId:o}=a,{getSetting:i}=s(),{getTimeStamp:l,getAttachmentById:c}=t(),{getItemIdsSelectors:d}=n(),{getItemIds:E}=d(e),_=(0,R.WN)(e),u=i(m.Zrf.LIST_ITEM_HEIGHT,{contentType:_}),S=r(m.ANe.CONVERSATIONS);return E().map((t=>{const s=c(t),a=o(t);let n=!0;return(_===m.F6k.IMAGES&&s.isExternal||_===m.F6k.DOCUMENTS&&!(0,T.M)(s))&&(n=!1),{id:t,listId:e,listItemHeight:u,timestamp:l(t),messageId:a,messageGroupId:S?s.conversationId:a,previewable:n,downloadUrl:s.downloadUrl}}))},getMessageListItemsSinceTimestamp:(e,t)=>(0,R.WN)(e)!==m.F6k.MESSAGES?[]:a.getMessageListItems(e).filter((e=>e.timestamp>=t)),getRefundSelectors:()=>({getRefundCardsForCardConversationId:e=>{const{getCardGroupsSelectors:t,getCardMessageToSchemasSelectors:s,getReceiptSelectors:n}=a,{getMessageIdsFromCardGroupId:r}=t(),o=r(e)||[],{getSchemas:i}=s();return o.map((e=>{const t=(i(e)||[]).filter((({type:e})=>e===m.rgK.Order));return t.length?{cmid:e,price:n().getPrice(t[0].id),potentialSavings:n().getPotentialSavings(t[0].id),itemName:n().getFirstItemName(t[0].id),orderDate:n().getOrderDate(t[0].id),currency:n().getCurrency(t[0].id)}:{}}))}}),getReceiptSelectors:()=>t.receipts(e),getPlaAdsSelectors:()=>({getPlaAdDataForCurrentRoute:()=>{const{getAdsSelectors:e,getRoute:t}=a,s=t(),n=(0,R.LY)(s);return e().getPlaAdData(n)}}),getMembershipRewardsSelectors:()=>t.membershipRewards(e),getMailPremiumFreeTrialSelectors:()=>t.mailPremiumFreeTrial(e)(a),isMailPlusTrialEligible:()=>{const{isFeatureEnabled:e,getMailPremiumFreeTrialSelectors:t}=a,{hasCrossDeviceMailPlusInSubsList:s}=t();return!e(m.ANe.MAIL_PRO)&&!s()},getMailPlusInstrumentationUrls:e=>W(a,e),getCardConversationIdByMessageId:e=>a.getMessagesSelectors().getCardConversationId(e),getRetailersSelectors:()=>({getRetailerStreamItems:e=>{const t=a.getListsSelectors().getItemIdsSelectors(e).getItemIds(),{getRetailersFromRetailerIds:s}=a.getRetailersSelectors();return s(t)},...t.groceries(e)}),getStorefrontBrandsSelectors:()=>t.storefrontBrands(e),getProductRecommendationsSelectors:()=>t.productRecommandations(e),getPackageTrackingSelectors:()=>t.packageTracking(e),getOffersSelectors:()=>({getOfferItemFromOfferId:e=>{const{doesOfferExist:t,getOffer:s}=a.getOffersSelectors();if(t(e)){const{amountUnit:t,brandName:a,cardId:r,categories:o,changeQuantityStatus:i,description:l,discountType:c,expiryTimestamp:d,imageUrl:E,isSponsoredAd:_,maxQuantity:u,quantity:S,scoreValue:p,trackingBeacons:C,unitPriceDisplay:A,value:T}=s(e),h=Math.floor((d-(new Date).getTime())/m.Zd2);let g="";if(t&&"0"!==T)if(c===m.iNd.AMOUNT){g=`${n()(t)}${T}`}else c===m.iNd.PERCENT?g=`${T}%`:c===m.iNd.GETXFREE&&(g=`Get ${T} free`);return{brandName:a,cardId:r,categories:o,changeQuantityStatus:i,dateDiff:h,description:l,discountType:c,imageUrl:E,isSponsoredAd:_,maxQuantity:u,offerId:e,offerValue:g,quantity:S,scoreValue:p,trackingBeacons:C,unitPriceDisplay:A}}return{}},getOfferStreamItems:(e,t=m.dS5.RECOMMENDED)=>{const{getOfferItemFromOfferId:s,getOffer:n}=a.getOffersSelectors(),r=a.getListsSelectors().getItemIdsSelectors(e).getItemIds();return t===m.dS5.RECOMMENDED?r.map((e=>s(e))):t===m.dS5.LOW_TO_HIGH?r.map((e=>n(e))).sort(((e,t)=>e.value-t.value)).map((({offerId:e})=>s(e))):t===m.dS5.HIGH_TO_LOW?r.map((e=>n(e))).sort(((e,t)=>t.value-e.value)).map((({offerId:e})=>s(e))):void 0},getFilteredOffers:(e=[],t="")=>{if(!e.length||""===t)return e;if(t.includes(f.be)&&(0,R.DB)(t)){const s=(0,R.Fv)(t).split("#"),a=s[s.length-1];return e.filter((e=>e.categories.find((e=>e===a))))}const s=new RegExp("\\b"+(0,P.hr)(t),"i");return e.filter((e=>e.brandName&&null!==e.brandName.match(s)||e.description&&null!==e.description.match(s)))},...t.offers(e)}),getActivatedOffersSelectors:()=>({getActivatedOfferItemFromOfferId:e=>{const{getActivatedOffer:t}=a.getActivatedOffersSelectors(),{amountUnit:s,brandName:r,categories:o,description:i,discountType:l,expiryTimestamp:c,imageUrl:d,isSponsoredAd:E,maxQuantity:_,quantity:u,sourceOfferId:S,status:p,value:C}=t(e),A=Math.floor((c-(new Date).getTime())/m.Zd2);let T="";if(s&&"0"!==C)if(l===m.iNd.AMOUNT){T=`${n()(s)}${C}`}else l===m.iNd.PERCENT?T=`${C}%`:l===m.iNd.GETXFREE&&(T=`Get ${C} free`);return{brandName:r,categories:o,dateDiff:A,description:i,discountType:l,imageUrl:d,isSponsoredAd:E,maxQuantity:_,offerId:e,offerValue:T,quantity:u,sourceOfferId:S,status:p}},getActivatedOfferStreamItems:e=>{const t=a.getListsSelectors().getItemIdsSelectors(e).getItemIds(),{getActivatedOfferItemFromOfferId:s}=a.getActivatedOffersSelectors();return t&&t.map((e=>s(e)))},...t.activatedOffers(e)}),getCategoryFollowingSelectors:()=>t.categoryFollowing(e),getRootCouponSelectors:()=>t.deals(e),getCouponsSelectors:()=>({getCouponExpirationTime:(s,a=new Date)=>{const n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())),r=t.deals(e).getValidThroughDate(s),o=t.deals(e).isInferredDate(s),i=new Date(r);return i.setUTCHours(23),i.setUTCMinutes(59),i.setUTCSeconds(59),{date:i.getDate(),month:i.getMonth(),dateDiff:Math.floor((i.getTime()-n.getTime())/864e5),timestamp:i.getTime(),isInferred:o}},getCouponCardsForCardConversationId:(e,t=new Date)=>{const{getParentMessageIdForCardConversationId:s,getParentConversationIdForCardConversationId:n}=a.getMessagesSelectors(),{isFeatureEnabled:r,getCategoryFollowingSelectors:o}=a,i=r(m.ANe.CONVERSATIONS)?n:s,{doesDealExist:l,getDealFromCmid:c,getCouponExpirationTime:d,getRetailer:E}=a.getCouponsSelectors(),{isCategoryFollowed:_}=o();return(a.getCardGroupsSelectors().getMessageIdsFromCardGroupId(e)||[]).filter((e=>l(e))).map((a=>{const n=c(a),r=i(e),{name:o,email:l}=n.from,{from:_,validThrough:u,isInferredDate:m,cardConversationId:S,...p}=n,C=E(a);return{...p,domain:o,email:l,parentMessageGroupId:r,parentMessageId:s(e),expirationTime:d(a,t),retailer:C}})).filter((e=>e&&(e.expirationTime.isInferred||e.expirationTime.dateDiff>=0)&&e.email&&e.domain&&e.description)).sort(((e,t)=>{let s=t.categories.filter((e=>_(e.id))).length-e.categories.filter((e=>_(e.id))).length;const a="Great Savings";return 0===s&&e.unusualDiscount!==t.unusualDiscount&&(t.unusualDiscount===a?s=1:e.unusualDiscount===a&&(s=-1)),0===s&&e.saved!==t.saved&&(s=t.saved?1:-1),0===s&&(s=e.expirationTime.timestamp-t.expirationTime.timestamp),s}))},getCouponCardStreamItems:e=>le("getCouponCardStreamItems",(()=>e),[e=>e.getRootCouponSelectors(),e=>e.getMessagesSelectors()],(()=>{const{getCouponsSelectors:t,isFeatureEnabled:s,getMessagesSelectors:n,getListsSelectors:r}=a,{doesDealExist:o,getCouponExpirationTime:i,getDealLink:l,getDescription:c,getFromAddress:d,isSavedDeal:E,getCardConversationId:_,getImageUrl:u}=t(),{getParentMessageIdForCardConversationId:S,getParentConversationIdForCardConversationId:p}=n(),C=s(m.ANe.CONVERSATIONS)?p:S,A=s(m.ANe.AFFILIATE_PARTNER);return r().getItemIdsSelectors(e).getItemIds().filter((e=>o(e))).reduce(((t,s)=>{const{name:a="",email:n=""}=d(s),r=E(s),o=c(s),{dateDiff:m,isInferred:S,timestamp:p}=i(s),T=l(s),h=_(s),g=C(h),I=u(s);return(S||m>=0)&&t.push({id:e+s,timestamp:p,fromEmail:n,fromName:a,saved:r,description:o,daysUntilExpiry:m,isInferredDate:S,cardMid:s,cardConversationId:h,listId:e,dealLink:T,isAffiliatePartnerEnabled:A,imageUrl:I,groupId:g}),t}),[])}))(a),getNumberOfUnexpiredCoupons:(e,t)=>{const{getCardConversationId:s}=a.getMessagesSelectors(),{getCouponCardsForCardConversationId:n}=a.getCouponsSelectors();return(0,c.compose)((e=>e.length),(e=>n(e,t)),s)(e)},isSingleCouponParentMessageId:(e,t=new Date)=>!!e&&1===a.getCouponsSelectors().getNumberOfUnexpiredCoupons(e,t),getCouponRecommendations:(e="")=>{const{getListsSelectors:t}=a,{doesListExist:s}=t(),n=(0,R.H7)({referrer:m.qd8.COUPON_RECOMMENDATIONS,keyword:e});if(!s(n))return[];const{getItemIdsSelectors:r}=t();return r(n).getItemIds()||[]},getCouponCategoriesForMessageGroup:(t="")=>{const{getGroupId:s,doesMessageGroupIdExist:n,getCardConversationIdsFromMessageGroupId:r,getCardMessageToSchemasSelectors:o,getCardGroupsSelectors:i,getCategoryFollowingSelectors:l}=a,{getSchemas:c}=o(),{getMessageIdsFromCardGroupId:d}=i(),{isCategoryFollowed:E}=l(),_=[];let u={};if(""===t&&(t=s()),!t||!n(t))return _;const S=r(t),p=d(S.length&&S[0])||[];if(!p.length)return _;p.forEach((t=>{const s=(c(t)||[]).filter((({type:e})=>e===m.rgK.Coupon));let a=[];s.length&&(a=(0,K.w)(e.deals).getCouponCategory(s[0].id)),a&&a.length&&(u=a.reduce(((e,t)=>({...e,[t.id]:t})),u))}));const C=(0,N.VO)(u);return C.length>1&&C.sort(((e,t)=>(E(t.id)?1:0)-(E(e.id)?1:0)||t.level-e.level)),C},emailHasCoupons:()=>{const{getRoute:e,isFeatureEnabled:t,getGroupId:s,__patchV2MessageGroupItemId__:n,doesMessageGroupIdExist:r}=a,o=s(),i=(0,R.LY)(e());if(!o||!r(o,i))return!1;const l=n(o,i);return t(m.ANe.DEALS)&&l.messages[0].decos.some((e=>e&&"CPN"===e.id))},getCouponCardFromCardMessageId:(t,s)=>{const{getCouponsSelectors:n}=a,{getCouponExpirationTime:r,getImageUrl:o,doesDealExist:i}=n();if(!t||!i(t))return{};const l=(0,K.w)(e.deals).getCouponCategory(t)||[],c=o(t)||"",{name:d,email:E}=(0,K.w)(e.deals).getFromAddress(t);return{cmid:t,saved:(0,K.w)(e.deals).isSavedDeal(t),description:(0,K.w)(e.deals).getDescription(t),email:E,domain:d,categories:l,expirationTime:r(t,s),dealLink:(0,K.w)(e.deals).getDealLink(t),unusualDiscount:(0,K.w)(e.deals).getUnusualDiscount(t),imageUrl:c}},...t.deals(e)}),getComposeSessionsSelectors:()=>t.composeSessions(e),getAttachmentsSelectors:()=>t.attachments(e),getInlineImagesAttachmentsSelectors:()=>t.inlineImagesAttachments(e),getMessageToAttachmentsSelectors:()=>t.messageToAttachments(e),getSubjectsAndSnippetsSelectors:()=>t.subjectsAndSnippets(e),getMessagesSelectors:()=>t.messages(e),getMessagesFlagSelectors:()=>t.messagesFlags(e),getMessagesFolderIdSelectors:()=>t.messagesFolderId(e),getMessageBodiesSelectors:()=>t.messageBodies(e),getSearchSuggestionSelectors:()=>t.searchSuggestions(e),getDocumentSelectors:()=>t.documents(e),isDocumentLoaded:e=>a.getDocumentSelectors().isDocumentLoaded(e),isDocumentPageLoaded:(e,t)=>a.getDocumentSelectors().isPageLoaded(e,t),getDocumentRetryCount:(e,t,s)=>a.getDocumentSelectors().getRetryCount(e,t,s),getRouterSelectors:()=>t.router(e),getPagesSelectors:()=>t.pages(e),getSmartViewPages:()=>{const e=a.getSelectedAccountIdByRoute(a.getRoute());return(a.getSetting(m.Zrf.SYSTEM_TABS)||[]).filter((e=>!!e.status)).map((t=>{const s=a.getSmartViewPageByType(t.name);return s?t.name===m.K8C.COUPONS&&s.name===m.n8z.SEARCH?s:a.normalizeRoute((0,f.dM)((0,R.LY)(s),{accountIds:e})):a.normalizeRoute((0,f.jK)(t.name,{accountIds:e,excludefolders:a.isFeatureEnabled(m.ANe.CONVERSATIONS)?[m.Sck.TRASH,m.Sck.BULK]:[m.Sck.TRASH,m.Sck.BULK,m.Sck.DRAFT,m.Sck.SENT]}))}))},getSmartViewTypeFromListId:e=>{const t=(0,R.aY)(e);return Object.keys(m.v6P).find((e=>m.v6P[e]===t))},getSmartViewTypeFromRoute:e=>e.name===m.n8z.TUTORIAL?m.K8C.TUTORIAL:a.getSmartViewTypeFromListId((0,R.LY)(e)),getDefaultFolderRoute:(e="",t=m.Asd.DATE_DESC)=>{const{getFolderIdsByFolderTypeForAccount:s,getSelectedAccountIdByRoute:n,getAccountSelectors:r,isOldNewMailInboxStyle:o,getAccountIdByFolderId:i,getRouterSelectors:l,getRoutesInfo:c,doesFolderIdExist:d}=a,{getAccountById:E,getSelectedAccountId:_}=r(),u=l().getRoute(),S=(0,f.VP)(u);let p,C;if(e&&d(e))p=e,C=i(p);else{const e=n(u);C=E(e)?e:_(),p=s(m.Sck.INBOX,C)[0]}const A=o()?(0,f.jK)(m.K8C.NEWMAIL,{accountIds:[C],folders:[p]}):(0,f.i5)(p,t);return(0,f.w2)(c(),A,S)},getFolderRouteForFolderId:(e="1",t=m.Asd.DATE_DESC)=>{const{getPrimaryFolderTypeByFolderId:s,getDefaultFolderRoute:n,doesFolderIdExist:r}=a;return r(e)&&s(e)!==m.Sck.INBOX?(0,f.i5)(e,t):n(e,t)},isShoppingSmartViewEnabled:()=>{const{isFeatureEnabled:e}=a;return e(m.ANe.SMARTVIEW_CATEGORIES_SHOPPING)||e(m.ANe.SMARTVIEW_CATEGORIES_ALL)},getSmartViewPosition:e=>{const{isShoppingSmartViewEnabled:t}=a;return e===m.K8C.COUPONS?t()?m.sDs.TAB_BAR:m.sDs.SIDE_BAR:m.uXt.indexOf(e)>-1?m.sDs.SIDE_BAR:m.qwE.indexOf(e)>-1?m.sDs.TAB_BAR:void 0},getMaxTabCounts:()=>{const{getSetting:e}=a;return e(m.Zrf.MAIL_TABS)?m.$WX:m.i9C},isDraftGroup:e=>{const t=a.getMessageIdsFromMessageGroupId(e);return t&&t.some((e=>a.doesMessageIdHasFolderId(e)&&a.isDraftMessage(e)))},doesGroupHasStaleMessageId:e=>{const t=a.getMessageIdsFromMessageGroupId(e);return t&&t.some((e=>!a.doesMessageIdHasFolderId(e)))},getTabPages:()=>le("getTabPages",(()=>"tabs"),[e=>e.getRoute(),e=>e.getSelectedAccountIdByRoute(e.getRoute()),e=>e.getPagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.isFeatureEnabled(m.ANe.SHOW_TABS),e=>e.isFeatureEnabled(m.ANe.SMARTVIEW_CATEGORIES_ENABLED),e=>e.getSetting(m.Zrf.SYSTEM_TABS)],(()=>{const{isFeatureEnabled:e,getSmartViewPages:t,getDefaultFolderRoute:s,doesRouteContainFailure:n,getPages:r,getSmartViewPosition:o,getSmartViewTypeFromRoute:i,getSelectedAccountIdByRoute:l,getRoute:c,normalizeRoute:d}=a;let E=r();const _=e(m.ANe.SHOW_TABS),u=e(m.ANe.SMARTVIEW_CATEGORIES_ENABLED),S=l(c());if(u){const e=t()||[],[a,...r]=E.reduce(((e,t)=>{const s=(0,R.zu)(t)&&!(0,R.rB)(t)?i(t):null;return s&&s!==m.K8C.TUTORIAL?o(s)===m.sDs.SIDE_BAR&&(s===m.K8C.COUPONS&&t.name===m.n8z.SEARCH?e.push(t):e.push(d((0,f.dM)((0,R.LY)(t),{accountIds:S})))):e.push(t),e}),[]),l=r.findIndex((e=>(0,R.rB)(e)));if(l>-1)E=[...r.splice(l,1),...e,...(0,f.mH)(r,n)];else{const t=s();E=a?ne(a)||(0,R.rB)(a)||(0,R.AU)(a)?[a,...e,...(0,f.mH)(r,n)]:[t,...e,...(0,f.mH)([a,...r],n)]:[t,...e,...(0,f.mH)(r,n)]}}return _||(E=E.filter((e=>u&&(ne(e)||e.name===m.n8z.TUTORIAL||(0,R.zu)(e)&&i(e)||(0,R.rB)(e))||n(e)))),E}))(a),getPages:()=>a.getPagesSelectors().getPages().filter((e=>(0,f.Vu)(a.reconcileRoute(e),e))),doesRouteContainFailure:e=>le("doesRouteContainFailure",(()=>e),[e=>e.getPages(),e=>e.getMessagesSelectors(),e=>e.getComposeSessionsSelectors()],(()=>{const{getComposeSessionsSelectors:t,isFeatureEnabled:s,getMessageGroupStreamItems:n,doesMessageGroupIdExist:r}=a,{isSendFailed:o,doesComposeSessionExist:i}=t(),l=s(m.ANe.CONVERSATIONS)&&re(e)||se(e)||ae(e),c=e=>e&&i(e)&&o(e);if(l){const{params:{csid:t,groupId:s}}=e,a=(0,R.LY)(e);return s&&r(s,a)?n({id:s,listId:a}).some((({csid:e})=>c(e))):c(t)}return!1}))(a),doesPageExist:e=>a.getPagesSelectors().doesPageExist(e),getSmartViewPageByType:e=>a.getPagesSelectors().getPages().find((t=>(0,R.zu)(t)&&a.getSmartViewTypeFromRoute(t)===e)),getSettingsPageRoute:()=>a.getPagesSelectors().getSettingsPageRoute(),getFolderPageRoute:()=>a.getPagesSelectors().getFolderPageRoute(),getSortOrderForFolderRoute:()=>{const e=a.getFolderPageRoute();return e?(0,R.WW)((0,R.LY)(e)):m.Asd.DATE_DESC},getRoutesInfo:()=>(0,f.oS)({appName:a.getAppName(),routesConfig:a.getRouterSelectors().getRoutesConfig()}),getPreviousRoute:()=>a.getRouterSelectors().getRoute(),getRoute:()=>a.reconcileRoute(a.getRouterSelectors().getRoute()),isAttPreviewFromCompose:(e,t)=>{if(!t)return!1;const{getFoldersSelectors:s,getMessageCsid:n,doesComposeSessionExist:r,doesMessageIdExist:o}=a,{getPrimaryFolderTypeByFolderId:i}=s(),l=(0,R.Fh)(e);if(!l||i(l)!==m.Sck.DRAFT)return!1;const c=(0,D.b1)(t);if(!c||!o(c))return!1;return!!r(n(c))},reconcileRoute:(e,t=!1)=>{const{getReconciledValidPage:s}=a;if(e){const a=s(e,t);return a?a.route:e}return e},getReconciledValidPage:(e,t=!1)=>{const{getReconciledPage:s}=a;let n,r=s(e,t);for(;r&&Object.keys(r).length&&!l()(n,r);)n=r,r=s(n.route,t);return n},getReconciledPage:(t,s=!1)=>le("getReconciledPage",(()=>`${t.url}-${s}`),[e=>e],(()=>{const{getFolderPageRoute:n,getAction:r,isValidListMessageGroup:o,getRoutesInfo:i,getSetting:l,isListEmpty:c,doesListExist:d,doesFolderIdExist:E,doesMessageGroupIdExist:_,getSelectedAccountIdByRoute:u,getFolderIdsByFolderTypeForAccount:p,getPrescribedNumberOfColumns:C,getSelectedMailboxId:A,hasSelectedStreamItems:T,doesComposeSessionExist:h,isSent:g,doesPageExist:I,doesStreamExist:O,isMessageGroupLoading:D,isSpamFolder:N,isSendRequested:M,getSmartViewPageByType:P,getSmartViewTypeFromListId:y,isAttPreviewFromCompose:b,createPageForRoute:F,getFallbackPageForRoute:U,getContactListSelectors:v,getAccountIdByFolderId:w,getAccountSelectors:G,getAdListItemsSelectors:k,getListItemIds:H,getDefaultFolderRoute:B,getFolderRouteForFolderId:x,getPrimaryFolderTypeByFolderId:V,isOldNewMailInboxStyle:W,getAdsSelectors:Z,isFeatureEnabled:K}=a,{getAccountById:q,getSelectedAccountId:Y}=G(),{getCurrentPage:j,getPageAtIndex:Q}=(0,z.w)(e.history),X=(0,f.VP)(t),J=r(),ee=n();if(A()&&(J.type!==S.OPEN_PAGE_REQUESTED||!(0,f.Vu)(J.route,t))&&(J.type!==S.POP_OUT_COMPOSE||-1!==[m.n8z.NEW_DRAFT,m.n8z.EDIT_DRAFT].indexOf(t.name))){if(!K(m.ANe.SMARTVIEWS)&&(0,R.cn)(J.route))return F((0,f.w2)(i(),B(),X));if(J.type===S.SEARCH_LIST_ITEMS_RECEIVED&&J.navigateFromToAll){return F((0,f.w2)(i(),(0,f.dM)((0,R.tE)(J.listId,{listFilter:m.ukn.ALL})),X),0)}if(J.type===S.CONTACT_EDIT_CANCELLED||J.type===S.CONTACT_SAVE_REQUESTED){let e;if(t.name===m.n8z.EDIT_CONTACT_FROM_SEARCH?e=(0,f.w2)(i(),(0,f.P)((0,R.LY)(t),t.params.id),X):t.name===m.n8z.EDIT_CONTACT?e=(0,f.w2)(i(),(0,f.I6)(t.params),X):t.name===m.n8z.CREATE_CONTACT&&(e=(0,f.w2)(i(),(0,f.f9)(t.params),X)),e)return F(e)}if(J.type===S.DELETE_CONTACT_REQUESTED){let e;if(t.name===m.n8z.CONTACT_DETAILS?e=(0,f.w2)(i(),(0,f.f9)(),X):t.name===m.n8z.CONTACT_DETAILS_FROM_SEARCH&&(e=(0,f.w2)(i(),(0,f.dM)((0,R.LY)(t)),X)),e)return F(e)}if(J.type===S.FEATURE_TRY_NOW_REQUESTED&&(J.name===m.ANe.TMR_MOBILE_DAILY_CHECKIN_CUE||J.name===m.ANe.TMR_MOBILE_IMAPIN_CUE)&&te((0,f.w2)(i(),t,X)))return F((0,f.w2)(i(),(0,f.Id)(),X));if(J.type===S.ACCOUNT_ADD_SUCCEEDED&&te((0,f.w2)(i(),t,X)))return F((0,f.w2)(i(),(0,f.EU)(),X));if(!s&&-1!==[S.POP_OUT_COMPOSE,S.CLOSE_PAGE_REQUESTED,S.CLOSE_ALL_PAGES_REQUESTED].indexOf(J.type)&&!I(t)){const e=(0,R.LY)(t);if(J.type!==S.CLOSE_ALL_PAGES_REQUESTED&&-1!==[m.n8z.MESSAGE_FROM_SEARCH_LIST,m.n8z.MESSAGE_FROM_LIST].indexOf(t.name)){if((0,R.GG)(e)){const t=y(e);if(t){const e=P(t);if(e)return F(e)}}return F((0,f.w2)(i(),(0,f.dM)(e),X))}let s=(0,R.Fh)(e);const a=(0,R.WW)(e),{serializedListId:n}=$(t);if(!s&&n&&(s=(0,R.Fh)((0,R.QP)(n))),!s){if(ee)return F(ee);s=p(m.Sck.INBOX,u(t))[0]}return F((0,f.w2)(i(),x(s,a),X))}switch(t.name){case m.n8z.MESSAGE_FROM_LIST:case m.n8z.MESSAGE_FROM_SEARCH_LIST:case m.n8z.MESSAGE_FROM_FOLDER_LIST:{const e=(0,R.LY)(t),s=(0,R.Fh)(e),{groupId:a,attachmentId:n}=$(t),r=(0,L.BA)([e]),u=O(r)&&T(r)||k().hasSelectedPencilAds(),S=2===C();if(n&&"1"===t.query.fullscreen)return;if(u&&S&&te(t)&&re(t))return F((0,f.w2)(i(),(0,f.KI)((0,R.LY)(t),{},{accountId:Y()}),X));if(s&&!E(s))return F((0,f.w2)(i(),B(),X));const p=s?w(s):void 0;if(p&&!q(p))return F((0,f.w2)(i(),B(),X));if(!_(a,e)&&!D(a)||d(e)&&(0,R.WN)(e)===m.F6k.MESSAGES&&!o(e,a)&&!b(e,n)){let t=l(m.Zrf.ACTION_AFTER_MSG_MOVE);S&&t===m.jdT.GO_BACK_TO_FOLDER&&(t=m.jdT.SHOW_NEXT_MESSAGE);const{streamItems:n=[]}=J,r=n.filter((e=>(0,R.WN)(e.listId)===m.F6k.MESSAGES));let o;o=r[0]&&r[0].listId===e?r.map((e=>e.id)):H(e);const E=o.findIndex((e=>e===a)),_=!!s&&N(s);if(t===m.jdT.GO_BACK_TO_FOLDER||d(e)&&c(e)||_||-1===E)return F((0,f.w2)(i(),(0,f.KI)(e,{},{accountId:Y()}),X));let u;switch(parseInt(t,10)){case m.jdT.SHOW_NEXT_MESSAGE:u=o[E+1]||o[E-1]||void 0;break;case m.jdT.SHOW_PREVIOUS_MESSAGE:u=o[E-1]||o[E+1]||void 0}return u?F((0,f.w2)(i(),(0,f.m9)(e,u),X),0):F((0,f.w2)(i(),(0,f.KI)(e,{},{accountId:Y()}),X))}const A=!!s&&V(s)===m.Sck.INBOX,h=W();if(A){if(h&&t.name===m.n8z.MESSAGE_FROM_FOLDER_LIST)return F((0,f.w2)(i(),{name:m.n8z.MESSAGE_FROM_LIST,params:Object.assign({serializedListId:(0,R.tr)(e),groupId:a})},X));if(!h&&t.name===m.n8z.MESSAGE_FROM_LIST&&(0,R.ft)(e))return F((0,f.w2)(i(),{name:m.n8z.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:s,groupId:a,attachmentId:n})},X))}break}case m.n8z.EDIT_FOLDER:case m.n8z.FOLDER:case m.n8z.LIST:{const{isInboxFolder:e}=a.getFoldersSelectors(),s=(0,R.LY)(t),n=(0,R.Fh)(s);if(!n)break;if(!E(n))return F((0,f.w2)(i(),B(),X));if(!q(w(n)))return F((0,f.w2)(i(),B(),X));const r=W();if(e(n)&&(r&&(t.name===m.n8z.FOLDER||t.name===m.n8z.BASE)||!r&&((0,R.AU)(t)||t.name===m.n8z.BASE)))return F((0,f.w2)(i(),B(),X));break}case m.n8z.EDIT_DRAFT:case m.n8z.NEW_DRAFT:{const{serializedListId:e,csid:s}=$(t),{referrerRoute:a}=t;if(!h(s)||g(s)||M(s)){let s;if(te(t)){const{route:e,backIdx:t=-1}=j();return-1!==t?Q(t):U(e)}if(e&&(s=(0,R.Fh)((0,R.QP)(e))),!s){if(a&&(a.name===m.n8z.MESSAGE_FROM_SEARCH_LIST||a.name===m.n8z.SEARCH))return F((0,f.w2)(i(),(0,f.dM)((0,R.LY)(a)),X));if(ee)return F(ee);s=p(m.Sck.INBOX,u(t))[0]}return F((0,f.w2)(i(),x(s),X))}return}case m.n8z.CONTACT_DETAILS:case m.n8z.EDIT_CONTACT:{const e=!J.unsyncedData||J.unsyncedData.find((e=>e.type===m.sKi.CONTACTS_LIST));if(!(-1!==[S.INITIAL_STATE,S.LAUNCH_COMPLETED].indexOf(J.type))&&!e&&!v().doesContactExist(t.params))return F((0,f.w2)(i(),(0,f.f9)(t.params),X));break}case m.n8z.CONTACT_DETAILS_FROM_SEARCH:case m.n8z.EDIT_CONTACT_FROM_SEARCH:{const e=(0,R.LY)(t),s=!J.unsyncedData||J.unsyncedData.find((e=>e.type===m.sKi.CONTACTS_LIST));if(!(-1!==[S.INITIAL_STATE,S.LAUNCH_COMPLETED].indexOf(J.type))&&!s&&!v().doesContactExist(t.params))return F((0,f.w2)(i(),(0,f.dM)(e),X));break}case m.n8z.SPONSORED_MESSAGE:{const e=decodeURIComponent(t.params.creativeId),{getSponsoredAd:s}=Z();if(!s(e))return F((0,f.w2)(i(),B(),X));break}case m.n8z.PORTRAIT_AD:{const{getGeminiAdDataFromCreativeId:e}=Z();if(!e(decodeURIComponent(t.params.creativeId)))return F(ee||(0,f.w2)(i(),B(),X));break}case m.n8z.BLOCKED_DOMAINS:if(!K(m.ANe.BLOCKED_DOMAINS))return F((0,f.w2)(i(),(0,f.Tx)(),X));break;case m.n8z.AFTER_MESSAGE_MOVE:if(!(K(m.ANe.MOBILE_AFTER_MESSAGE_MOVE_ELIGIBLE)||K(m.ANe.MOBILE_AFTER_MESSAGE_MOVE_ENABLED)))return F((0,f.w2)(i(),(0,f.Tx)(),X));break;case m.n8z.MAILPLUS_BENEFITS_UPSELL:if(!K(m.ANe.MAIL_PLUS_ELIGIBLE))return F((0,f.w2)(i(),B(),X));break;case m.n8z.FOCUSED_INBOX:if(!K(m.ANe.FOCUSED_INBOX))return F((0,f.w2)(i(),B(),X))}}}))(a),getHistoryPageIndex:()=>(0,z.w)(e.history).getActivePageIndex(),getHistoryStack:()=>(0,z.w)(e.history).getHistoryStack(),getCurrentPage:()=>{const{getCurrentHistoryState:e}=a,{historyStack:t,activePageIndex:s}=e();return t.length?t[s]:{}},getPageAtIndex:e=>{const{getCurrentHistoryState:t}=a,{historyStack:s}=t();return s.length&&e<s.length?s[e]:{}},getPreviousPage:()=>{const{getCurrentHistoryState:e,getFallbackPageForRoute:t}=a,{historyStack:s,activePageIndex:n}=e(),{route:r={},backIdx:o=-1}=s.length?s[n]:{};return-1!==o?s[o]:t(r)},getLastPageWithRoute:(e,t,s)=>{const{getRoutesInfo:n}=a;if(t<0||t>=e.length)return I.Z.error("pageindex_out_of_bounds",{pageIndex:t,historyStack:e,route:s}),{route:(0,f.w2)(n(),s,(0,f.VP)(s)),backIdx:-1};let r=e&&e.length?e[t].backIdx:-1;for(;r>=0;){const t=e[r];if(!t)break;if((0,f.Vu)(s,t.route))return t;r=t.backIdx}return{route:(0,f.w2)(n(),s,(0,f.VP)(s)),backIdx:-1}},createPageForRoute:(e,t=-1,s={})=>{const{getHistoryStack:n,getHistoryPageIndex:r,getLastPageWithRoute:o,getRoutesInfo:i}=a;let{historyStack:l=[],activePageIndex:c=-1}=s;return(!l.length||c<0)&&(l=n(),c=r()),t<0?o(l,c,e):0===t?{route:(0,f.w2)(i(),e,(0,f.VP)(e)),backIdx:l.length?l[c].backIdx:-1}:{route:(0,f.w2)(i(),e,(0,f.VP)(e)),backIdx:c}},getFallbackPageForRoute:e=>{const{doesComposeSessionExist:t,getDraftMessageId:s,getReplyingToMessageId:n,getMessageFolderId:r,getRoutesInfo:o,getSelectedAccountId:i,getPrescribedNumberOfColumns:l,getDefaultFolderRoute:c,getFolderRouteForFolderId:d}=a;let E;const _=2===l();switch(e.name){case m.n8z.MESSAGE_FROM_SEARCH_LIST:E=(0,f.dM)((0,R.LY)(e));break;case m.n8z.MESSAGE_FROM_FOLDER_LIST:E=(0,f.ok)((0,R.LY)(e));break;case m.n8z.NEW_DRAFT:case m.n8z.EDIT_DRAFT:{let a=null,o="";const i=e.params&&e.params.csid;if(!i)break;if(t(i)&&(a=s(i)?s(i):n(i)),a&&(o=r(a)),!o)break;E={name:m.n8z.FOLDER,params:{fid:o}};break}case m.n8z.CONTACT_DETAILS:E=(0,f.f9)(e.params);break;case m.n8z.CONTACT_DETAILS_FROM_SEARCH:E=(0,f.dM)((0,R.LY)(e));break;case m.n8z.SPONSORED_MESSAGE:E=(0,f.ok)((0,R.LY)(e));break;case m.n8z.THEME_CHOOSER:case m.n8z.SIGNATURES_FROM_SETTINGS:case m.n8z.ACCOUNT_LIST_FROM_SETTINGS:case m.n8z.BLOCKED_SENDERS:case m.n8z.BLOCKED_DOMAINS:case m.n8z.MESSAGE_PREVIEW:E=(0,f.Tx)();break;case m.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:E=(0,f.EU)();break;case m.n8z.ADD_ACCOUNT_PROVIDER:E=(0,f.Bc)();break;case m.n8z.LIST:{const t=(0,R.LY)(e);(0,R.aY)(t)===m.qd8.SUBSCRIPTIONS&&(E=(0,f.lB)(i()));break}case m.n8z.MESSAGE_FROM_LIST:{const t=(0,R.LY)(e);if(_&&(0,R.aY)(t)===m.qd8.SUBSCRIPTIONS){const e=(0,R.Er)(t);E=(0,f.lB)(Array.isArray(e)?e[0]:e)}else E=(0,f.KI)(t);break}}return E?E.name===m.n8z.FOLDER?{route:(0,f.w2)(o(),d(E.params.fid),(0,f.VP)(e)),backIdx:-1}:{route:(0,f.w2)(o(),E,(0,f.VP)(e)),backIdx:-1}:{route:(0,f.w2)(o(),c(),(0,f.VP)(e)),backIdx:-1}},getCurrentHistoryState:()=>{const{getHistoryStack:e,getHistoryPageIndex:t,getAction:s,getRouterSelectors:n,getReconciledValidPage:r}=a;let o=e();const i=t(),l=s(),{popstate:c,nextPage:d,type:E,startOverStack:_}=l,u=n().getRoute(),m=r(d?d.route:u);let p=m||(d||void 0);switch(E){case S.OPEN_PAGE_REQUESTED:return void 0!==c?p&&Object.keys(p).length?{historyStack:_?[p]:[...o.slice(0,c),p,...o.slice(c+1)],activePageIndex:c}:{historyStack:_?[{route:u,backIdx:-1}]:o,activePageIndex:c}:(i!==o.length-1&&(o=[...o.slice(0,i+1)]),p||(p={route:u,backIdx:i}),{activePageIndex:i+1,historyStack:[...o,p]});case S.LAUNCH_COMPLETED:case S.INITIAL_STATE:return p||(p={route:u,backIdx:-1}),{activePageIndex:0,historyStack:[p]};default:return p&&Object.keys(p).length?(i!==o.length-1&&(o=[...o.slice(0,i+1)]),{activePageIndex:i+1,historyStack:[...o,p]}):{historyStack:o,activePageIndex:i}}},normalizeRoute:e=>(0,f.w2)(a.getRoutesInfo(),e,(0,f.VP)(a.getRoute())),getHashParams:()=>a.getRouterSelectors().getHashParams(),getRouteUIContext:()=>a.getRouterSelectors().getRouteUIContext(),getMrdParams:()=>a.getRouterSelectors().getMrdParams(),getRouteName:()=>a.getRoute().name,getRouteUrl:()=>J(a.getRoute()),getRouteParams:()=>$(a.getRoute()),getQueryParams:()=>a.getRoute().query||{},isMobileRoute:()=>te(a.getRoute()),isOriginSearchRoute:()=>ee(a.getRoute()),isMessageRoute:()=>re(a.getRoute()),isAttachmentRoute:()=>{return(e=a.getRoute()).params&&e.params.attachmentId;var e},isGroceriesOffersRoute:()=>{return e=a.getRoute(),(0,R.BO)((0,R.LY)(e),{listContentType:m.F6k.OFFER_CARDS,listFilter:m.ukn.RECOMMENDED_OFFER_CARDS});var e},isStorefrontRoute:()=>{return!(null==(e=a.getRoute())||!e.url)&&-1!==e.url.indexOf("/storefront/");var e},isDraftRoute:()=>se(a.getRoute()),isComposeRoute:()=>ae(a.getRoute()),isFolderRoute:()=>ne(a.getRoute()),isValidListMessageGroup:(e,t)=>{const{doesListItemExist:s,getMessageFolderId:n,getMessageIdsFromMessageGroupId:r,isOldNewMailInboxStyle:o}=a;if(!(o()&&(0,R.ft)(e)||(0,R.RI)(e)))return s(e,t);const i=(0,R.Fh)(e),l=r(t,e);return!(l.length<1)&&(!i||l.some((e=>n(e)===i)))},getAccountSelectors:t.mailboxes(e).getAccountsSelectors,getVideoPlayerSelectors:()=>t.videoPlayers(e),enableSmartReply:(e,t)=>{const{isFeatureEnabled:s,__getLastNonDraftMessageIdByGroupId:n,findReplyForwardCsidsOfMessage:r,isSent:o,getReplySuggestionSelectors:i,doesMessageIdExist:l}=a;let c=!1,d=[];if(t&&l(t)&&t===n(e)){const e=(r(t)||[]).filter((e=>!o(e)));d=i().getReplySuggestions(t)||[],c=!e.length&&s(m.ANe.SMART_REPLY)}return c&&d.length>0},getContactListSelectors:()=>t.contacts(e),getRelatedListIdByContactId:s=>{const{name:a,emails:n=[]}=t.contacts(e).getContactById(s)||{};return(0,R.Ez)({listContentType:m.F6k.PEOPLE,referrer:m.qd8.CONTACT_DETAILS,name:a,emailAddresses:n,contactIds:[s]})},getSocialAccountSelectors:()=>t.socialAccounts(e),getCloudStorageAccountSelectors:()=>t.cloudStorageAccounts(e),getFalconTOMSubscriptionSelectors:()=>t.falconTOMSubscriptions(e),getFalconRelatedCardSelectors:()=>t.falconRelatedCards(e)(a),getFalconTOMSubscriptionByGroupId:e=>{const{isFeatureEnabled:t,getFalconRelatedCardSelectors:s,getFalconTOMSubscriptionSelectors:n}=a;return t(m.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)?s().getOfferCardByGroupId(e):n().getFalconTOMSubscriptionByGroupId(e)},getFalconTOMSubscriptionsApiCallStatus:e=>{const{isFeatureEnabled:t,getFalconRelatedCardSelectors:s,getFalconTOMSubscriptionSelectors:n}=a;return t(m.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)?s().getRelatedCardsStatus(e):n().getFalconTOMSubscriptionsApiCallStatus(e)},getDPAAds:e=>{const{isFeatureEnabled:t,getFalconRelatedCardSelectors:s,getAdsSelectors:n}=a,r=t(m.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED),o=t(m.ANe.CROSS_DOMAIN_DPA_ADS);return r&&!o?s().getDPAAdsByGroupId(e):n().getDPAAds()},getDomainMatchAds:e=>{const{isFeatureEnabled:t,getFalconRelatedCardSelectors:s,getAdsSelectors:n}=a;return t(m.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)?s().getDomainMatchAdsByGroupId(e):n().getDomainMatchAds()},getEnabledVerticals:()=>{const{isFeatureEnabled:e}=a,t=[];return e(m.ANe.FALCON_TOM_SUBSCRIPTIONS_UPSELLS)&&t.push(m.f8s.OFFERS),(e(m.ANe.SHOPPING_CART_AD)||e(m.ANe.MSG_READ_PENCIL_AD_SEND_DOMAIN))&&t.push(m.f8s.DPA),e(m.ANe.DEALS)&&(t.push(m.f8s.KE),t.push(m.f8s.COMMERCE)),t},getFeatureCueSelectors:()=>t.featureCues(e),getSubjectAndSnippetSelectors:()=>t.subjectsAndSnippets(e),getGifItemsSelectors:()=>t.gifItems(e),getGifCategoriesSelectors:()=>t.gifCategories(e),getLinkEnhancerSelectors:()=>t.linkEnhancer(e),getDownloadsSelectors:()=>t.downloads(e),isQuotedTextExpanded:t.composeSessions(e).isQuotedTextExpanded,getComposeUndoStack:t.composeSessions(e).getUndoStack,getComposeRedoStack:t.composeSessions(e).getRedoStack,getComposeUiState:t.composeSessions(e).getUiState,getMessageFolderId:t.messagesFolderId(e).getFolderId,doesMessageIdHasFolderId:t.messagesFolderId(e).doesMessageIdHasFolderId,getFolderHighestModSeq:e=>a.doesFolderIdExist(e)?a.getFoldersSelectors().getFolderHighestModSeq(e):0,doesFolderIdExist:e=>a.getFoldersSelectors().doesFolderIdExist(e),getFolderName:e=>a.getFoldersSelectors().getFolderName(e),getFolderDisplayTypeByFolderId:e=>a.getFoldersSelectors().getFolderDisplayTypeByFolderId(e),getFolderIdsByName:t.folders(e).getFolderIdsByName,getFolderIdsByPath:t.folders(e).getFolderIdsByPath,getFolderIdsByNameForSelectAccountId:e=>a.getFoldersSelectors().getFolderIdsByNameAndAccountId(e,a.getSelectedAccountId()),getFolderTotal:t.folders(e).getFolderTotal,getPrimaryFolderTypeByFolderId:t.folders(e).getPrimaryFolderTypeByFolderId,isPermDeleteFolderType:t.folders(e).isPermDeleteFolderType,getFolderFullName:s=>{const n=a.getAccountIdByFolderId(s),r=a.getAccountById(n),o=t.folders(e).getFolderPath(s),i=a.getAccountSelectors().getFolderPrefixByAccountId(n);return!r.isPrimary&&i.length>0?o.substr(o.indexOf("/")+1):o},isOldNewMailInboxStyle:()=>{const{isFeatureEnabled:e,getSetting:t}=a;return e(m.ANe.OLD_NEW_MAIL)&&!!t(m.Zrf.INBOX_STYLE)},getStaleFolderIds:e=>{const t=(0,g.YY)(e);return Object.keys(t).filter((e=>{const s=t[e],n=a.getFolderHighestModSeq(e);return n&&n!==s.highestModSeq}))},shouldUpdateFolders:s=>t.folders(e).shouldUpdateFolders(s),isSpamFolder:s=>t.folders(e).isSpamFolder(s),isSpamMessage:e=>(0,c.compose)(a.isSpamFolder,a.getMessageFolderId)(e),isTrashFolder:s=>t.folders(e).isTrashFolder(s),isTrashMessage:e=>(0,c.compose)(a.isTrashFolder,a.getMessageFolderId)(e),isDraftFolder:s=>t.folders(e).isDraftFolder(s),isDraftMessage:e=>(0,c.compose)(a.isDraftFolder,a.getMessageFolderId)(e),isSentFolder:s=>t.folders(e).isSentFolder(s),isSentMessage:e=>(0,c.compose)(a.isSentFolder,a.getMessageFolderId)(e),getParticipant:e=>{const{doesMessageIdExist:t,getFromAddresses:s}=a.getMessagesSelectors(),n=[e].filter((e=>{if(!t(e))return!1;const a=s(e);return a.length>0&&(a[0].email||a[0].name)})),[r]=n.map((e=>{const t=s(e),n=a.getMessageFlags(e);return{email:t[0].email,name:t[0].name,recent:!n.read}}));return r},getRecipients:e=>{const t=a.getMessagesSelectors().getToAddresses(e),s=a.getMessageFlags(e);return t.filter((e=>e.email||e.name)).reduce(((e,t)=>e.concat({email:t.email,name:t.name,recent:!s.read})),[])},getMessageFromAddress:t.messages(e).getFromAddresses,getMessageToAddress:t.messages(e).getToAddresses,getMessageCcAddress:t.messages(e).getCcAddresses,getMessageBccAddress:t.messages(e).getBccAddresses,getReplyToAddress:t.messages(e).getReplyToAddresses,getMessageDate:t.messages(e).getDate,getMessageFlags:t.messagesFlags(e).getFlags,getMessageSubject:t.subjectsAndSnippets(e).getSubject,getMessageSnippet:t.subjectsAndSnippets(e).getSnippet,getMessageTimeStamp:e=>a.getMessagesSelectors().getTimeStamp(e),getAccountIdByFolderId:s=>t.folders(e).getAccountIdByFolderId(s),doesMessageBodyExist:e=>a.getMessageBodiesSelectors().doesMessageBodyExist(e),isSecureMessage:e=>a.getMessageBodiesSelectors().isSecureMessage(e),doesMessageFullBodyExist:e=>a.getMessageBodiesSelectors().hasFullBody(e),doesMessageBodyHasError:e=>a.getMessageBodiesSelectors().hasError(e),getMessageBody:e=>a.getMessageBodiesSelectors().get(e),getMessageBodyState:e=>a.getMessageBodiesSelectors().getState(e),getMessageBodyRetryCount:e=>a.getMessageBodiesSelectors().getRetryCount(e),getAccountSignaturebyAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSignatureByAccountId(s),getAccountSignaturebyFolderId:e=>a.getAccountSignaturebyAccountId(a.getAccountIdByFolderId(e)),getSignatureByAccountEmail:e=>a.getAccountSelectors().getSignatureByAccountEmail(e),doesMessageIdExist:e=>a.getMessagesSelectors().doesMessageIdExist(e),getMessageCsid:e=>a.getMessagesSelectors().getCsid(e),getMessageModSeq:e=>a.getMessagesSelectors().getModSeq(e),doesMessageGroupIdExist:(e,t)=>{const{getMessageGroupFolderType:s}=a.getFoldersSelectors(),n=t||(0,R.LY)(a.getRoute()),r=s((0,R.Fh)(n)||"");return a.getMessageGroupsSelectors().doesMessageGroupIdExistInList(e,r)},getMessageIdsFromMessageGroupId:(e,t)=>{const{getMessageGroupFolderType:s}=a.getFoldersSelectors(),n=t||(0,R.LY)(a.getRoute()),r=s((0,R.Fh)(n)||"");return a.getMessageGroupsSelectors().getMessageIdsFromMessageGroupIdForMessageGroupFolderType(e,r)},getExpansionStateForStreamItem:e=>a.getStreamsSelectors().getExpansionStateForStreamItem(e),getMessageGroupStreamItemsWithExpansionStates:e=>{const t=w(a.getMessageGroupStreamItems(e),a),{id:s,listId:n}=e,r=(0,L.k3)(n,s);return a.doesStreamExist(r)?t.map((e=>{const t=a.getExpansionStateForStreamItem(e)||e.expansionState;return{...e,expansionState:t}})):t},getDefaultTemporaryExpansionStatesForMessageGroupStreamItems:e=>w(a.getMessageGroupStreamItems(e),a).filter((e=>e.expansionState===m.Lvq.EXPANDED)).map((e=>({...e,expansionState:m.Lvq.TEMPORARY_EXPANSION}))),isAllCardsExpanded:(e,t)=>{const s={id:t,listId:e},{getMessageGroupStreamItemsWithExpansionStates:n}=a;return n(s).every((({expansionState:e})=>e===m.Lvq.EXPANDED))},getCardConversationIdsFromMessageGroupId:e=>{const t=(a.isFeatureEnabled(m.ANe.CONVERSATIONS)?a.getMessagesSelectors().findMessageIdsForConversationId(e):[e]).filter(a.getMessagesSelectors().doesMessageIdExist).map(a.getMessagesSelectors().getCardConversationId).filter((e=>!!e));return o()(t)},getGroupIdStateHash:e=>(0,C.getHash)(e,a.getMessageIdsFromMessageGroupId(e)),getRelevantMessageIdFromMessageGroupId:(e,t)=>{const s=a.getMessageIdsFromMessageGroupId(e,t)||[],n=(0,R.Fh)(t),r=s[s.length-1];return[...s].find((e=>a.getMessageFolderId(e)===n))||r},getAccountIdFromMessageGroupId:(e,t)=>{const{getAccountIdByFolderId:s,getMessageFolderId:n,getRelevantMessageIdFromMessageGroupId:r}=a,o=r(e,t),i=n(o);(0,p.Z)(i,"getAccountIdFromMessageGroupId: folderId is undefined",{messageGroupId:e||"undefined",listId:t||"undefined",relevantMessageId:o||"undefined",folderId:i||"undefined"});return s(i)},getSubjectFromMessageGroupId:(e,t)=>{const s=a.getRelevantMessageIdFromMessageGroupId(e,t);return a.getSubjectAndSnippetSelectors().getSubject(s,t)},getGroupIdContainingMessageId:e=>a.getMessageGroupsSelectors().getGroupIdContainingMessageId(e),getGroupIdContainingAttachmentId:e=>{const t=a.isFeatureEnabled(m.ANe.CONVERSATIONS),s=a.getMessageIdForAttachmentId(e);return t?a.doesMessageIdExist(s)?a.getGroupIdContainingMessageId(s):a.getConversationIdByAttachmentId(e):s},getAttachmentIdsByGroupId:e=>{const t=a.getMessageIdsFromMessageGroupId(e);return o()(t.reduce(((e,t)=>e.concat(a.getAttachmentIdsByMessageId(t))),[]))},getAttachmentIdIndexInMessage:(e,t)=>a.getAttachmentIdsByMessageId(t).indexOf(e),getAttachmentIdIndexInMessageGroup:(e,t)=>a.getAttachmentIdsByGroupId(t).indexOf(e),getPreviousAttachmentIdForMessageGroup:(e,t)=>{const s=a.getAttachmentIdsByGroupId(t),n=a.getAttachmentIdIndexInMessageGroup(e,t)-1;if(!(n<0))return s[n]},getNextAttachmentIdForMessageGroup:(e,t)=>{const s=a.getAttachmentIdsByGroupId(t),n=a.getAttachmentIdIndexInMessageGroup(e,t)+1;if(!(n>=s.length))return s[n]},getAttachmentIdsForMessage:e=>{const{isFeatureEnabled:t,getInlineImagesAttachmentsSelectors:s,getAttachmentIdsByMessageId:n,isNonInlineAttachmentById:r}=a,o=t(m.ANe.EXTERNAL_INLINE_IMAGE_PREVIEW);let i=n(e)||[];if(o){i=(s().getInlineImagesIdsByMessageId(e)||[]).concat(i.filter(r))}return i},getPreviousAttachmentIdForMessage:(e,t)=>{const s=a.getAttachmentIdsForMessage(t),n=s.indexOf(e)-1;if(!(n<0))return s[n]},getNextAttachmentIdForMessage:(e,t)=>{const s=a.getAttachmentIdsForMessage(t),n=s.indexOf(e)+1;if(!(n>=s.length))return s[n]},isSingleDraftGroup:e=>{const t=a.getMessageIdsFromMessageGroupId(e);return 1===t.length&&a.isDraftMessage(t[0])},getCsidForSingleDraftGroup:e=>{if(!a.isSingleDraftGroup(e))return;const[t]=a.getMessageIdsFromMessageGroupId(e);return a.getMessageCsid(t)},__patchV2AttachmentId__:(e,t)=>{const{doesMessageIdExist:s,getAttachmentById:n,getMessageIdForAttachmentId:r,getMessageSubject:o}=a,i=r(e);return{partialMessage:{subject:s(i)?o(i,t):void 0},attachment:n(e)}},__patchV2MessageGroupItemId__:(e,t)=>a.__patchV2MessageGroupItem__({id:e},t),__patchV2MessageId__:(e,t)=>le("__patchV2MessageId__",(()=>`${e}-${t}`),[e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageToAttachmentsSelectors(),e=>e.getAttachmentsSelectors(),e=>e.getSubjectsAndSnippetsSelectors()],(()=>{const{getMessagesSelectors:s,getFoldersSelectors:n,getAttachmentIdsByMessageId:r,getAttachmentById:o,getMessageSubject:i,getMessageSnippet:l,getMessageFlags:c,getMessageFolderId:d}=a,{__get__:E}=s(),{__get__:_}=n(),u=E(e),m=r(e).map(o).filter(Boolean),S=d(e),p=c(e);return{...u,id:e,attachments:m,attachmentCount:m.length,folder:_(S),snippet:l(e,t),headers:{...u.headers,subject:i(e,t)},flags:p,folderId:S}}))(a),__patchV2MessageGroupItem__:(e={},t)=>e.id?le("__patchV2MessageGroupItem__",(()=>`${e.id}-${t}`),[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors()],(()=>{const{getMessageIdsFromMessageGroupId:s}=a,n=s(e.id,t);e.messages=n.map((e=>a.__patchV2MessageId__(e,t)));return a.isSingleDraftGroup(e.id)&&(e.messages[0].csid=a.getCsidForSingleDraftGroup(e.id)),e}))(a):e,getMessageGroupParticipantsInfo:(e,t)=>le("getMessageGroupParticipantsInfo",(()=>`${e}-${t}`),[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMailboxesSelectors(),e=>e.getFoldersSelectors()],(()=>{const{getMessageIdsFromMessageGroupId:s,getAccountSelectors:n,getFoldersSelectors:r,getParticipant:o,getRecipients:i}=a,l=(0,R.Fh)(t),c=l?r().getPrimaryFolderTypeByFolderId(l):void 0,d=s(e,t),E=d.reduce(((e,t)=>e.concat(i(t))),[]),_=d.reduce(((e,t)=>{const{name:s="",email:a=""}=o(t)||{};return e.concat({name:s,email:a})}),[]),u=n().getMyAddresses().reduce(((e,t)=>(e[t]=!0,e)),{});return{senders:c===m.Sck.SENT||c===m.Sck.DRAFT?(0,D.o_)({recipients:E,participants:_,myAddresses:u}):_,myAddresses:u}}))(a),getNumberOfSelectedItemsInList:e=>{const{doesStreamExist:t,getSelectedStreamItems:s,getAdListItemsSelectors:n,getAllItemsCountForListId:r,getStreamSelectionType:o}=a,i=(0,L.BA)([e]),l=t(i)?s(i):[],c=o(i),d=n().getSelectedPencilAds(),E=r(e);return c===m.ie0.ALL?E+d.length:l.length+d.length},shouldMailCountBeShownInRoute:t=>{const{getListsSelectors:s,getMessageGroupsSelectors:a,getMessageGroupStreamItemsWithExpansionStates:n,getNumberOfSelectedItemsInList:r}=de(e),{doesMessageGroupIdExist:o}=a(),{getFirstItemIdOfList:i}=s();if(!(0,R.y0)(t))return!0;const l=(0,R.LY)(t),c=i(l),d={id:c,listId:l},E=o(c)?n(d):[];return r(l)>0||!E.length},autoDisplayFirstMessageInRoute:t=>{const{getSetting:s,isFeatureEnabled:a,shouldMailCountBeShownInRoute:n,getFoldersSelectors:r,getPrescribedNumberOfColumns:o}=de(e),{getFolderTypes:i,doesFolderIdExist:l}=r(),c=(0,R.LY)(t),d=(0,R.Fh)(c),E=l(d)&&-1!==i(d).indexOf(m.Sck.DRAFT),_=a(m.ANe.OPEN_FIRST_MESSAGE),u=!!s(m.Zrf.AUTO_OPEN_FIRST_MESSAGE);return 2===o()&&_&&u&&!E&&!n(t)},getMessageGroupStreamItems:e=>{const{id:t,listId:s}=e,{getMessageCsid:n,getComposeSessionsSelectors:r,getMessageIdsFromMessageGroupId:o,isDraftMessage:i,getFoldersSelectors:l,doesComposeSessionExist:c,isSent:d,getMessageTimestamp:E,isFeatureEnabled:_,getMessageFolderId:u}=a,S=_(m.ANe.CONVERSATIONS),{getPrimaryFolderTypeByFolderId:p}=l(),{findReplyForwardCsidsOfMessage:C,getDraftMessageId:A}=r(),T=o(t,s),h=T.filter((e=>i(e))),g=(0,R.tE)(s,{listContentType:m.F6k.MESSAGE}),I=(0,L.k3)(s,t);if(!S)return T.map((e=>({streamId:I,listId:g,csid:n(e),messageId:e,folderType:p(u(e))})));const O=T.map((e=>({messageId:e,timestamp:E(e)}))).sort(((e,t)=>e.timestamp-t.timestamp)).filter((({messageId:e})=>!i(e))).reduce(((e,{messageId:t})=>{const s=p(u(t)),a=n(t),r=C(t).filter((e=>!d(e))).reduce(((e,t)=>{const s=A(t);return!s||i(s)?e.concat({streamId:I,listId:g,csid:t,messageId:s,folderType:m.Sck.DRAFT}):e}),[]);return e.concat({streamId:I,listId:g,csid:a,messageId:t,folderType:s}).concat(r)}),[]),D=h.filter((e=>!O.some((t=>t.messageId===e)))).map((e=>{let t;const s=n(e);return t=c(s)?d(s)?m.Sck.SENT:m.Sck.DRAFT:p(u(e)),{streamId:I,listId:g,csid:s,messageId:e,folderType:t}}));return O.concat(D)},getSelectedMessageIdsFromStreamId:e=>{const{doesStreamExist:t,getSelectedStreamItems:s,getMessageIdsFromMessageGroupId:n}=a;return t(e)?s(e).reduce(((e,{id:t})=>e.concat(n(t))),[]):[]},isListRefreshing:(e,t=Date.now())=>a.getUnsyncedDataToSync(t).some((t=>t.type===m.sKi.LIST_TO_UPDATE&&t.id===e&&0===t.syncDefer)),getDraftErrors:u.hasInvalidComposeField.bind(u),isSendRequested:t.composeSessions(e).isSendRequested,isSent:t.composeSessions(e).isSent,isComposeSaveDue:({csid:e,lastEditedTimeStamp:t,newContentIds:s=[],removedContentIds:n=[],composeSaveInterval:r})=>{if(!a.isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;r=r||a.getFeaturesSelectors().getSetting(m.Zrf.COMPOSE_SAVE_INTERVAL);const o=a.getComposeSessionsSelectors().getLastSaveTimeStamp(e);return s.length>0||n.length||a.getActionTimeStamp()-o>r&&!a.getReconciledUnsyncedData().some((t=>t.type===m.sKi.COMPOSE&&t.id===e))},getNewMailViewListIdForAccount:e=>{const{getDefaultFolderIdForAccount:t}=a,s=t(e);return(0,R.xe)({type:m.K8C.NEWMAIL,filter:m.ukn.NEWMAIL,folderId:s,accountId:e})},isMessageGroupRequested:e=>a.getReconciledUnsyncedData().some((t=>t.type===m.sKi.MESSAGE_ITEM_TO_FETCH&&t.userInputtedValues.messageGroupId===e)),isMessageGroupLoading:e=>a.getUnsyncedDataSelectors().getUnsyncedData().some((t=>t.type===m.sKi.MESSAGE_ITEM_TO_FETCH&&t.id===e)),isSaving:({csid:e},t=Date.now())=>a.getUnsyncedDataToSync(t).some((t=>t.type===m.sKi.COMPOSE&&t.id===e)),isGeminiAdLoading:e=>a.getUnsyncedDataToSync().some((t=>t.type===m.sKi.GEMINI_AD&&(0,N.VO)(t.userInputtedValues.sectionIds).some((t=>t===e)))),getLastEditedTimestampForCompose:e=>{const t=a.findUnsyncedDataByCsid(e);if(t)return t.lastEditedTimeStamp},isFreshCompose:e=>{const t=a.findUnsyncedDataByCsid(e);return t?!t.lastEditedTimeStamp:!a.getDraftMessageId(e)},isMessageUpdatePending:()=>le("isMessageUpdatePending",(()=>"isMessageUpdatePending"),[e=>e.getReconciledUnsyncedData()],(()=>a.getReconciledUnsyncedData().some((e=>e.type===m.sKi.MESSAGE_ITEM_TO_UPDATE))))(a),isAsyncTaskPending:()=>le("isAsyncTaskPending",(()=>"isAsyncTaskPending"),[e=>e.getReconciledUnsyncedData()],(()=>a.getReconciledUnsyncedData().some((e=>e.type===m.sKi.ASYNC_TASK_STATUS))))(a),getAsyncTask:()=>a.getReconciledUnsyncedData().find((e=>e.type===m.sKi.ASYNC_TASK_STATUS)).userInputtedValues,isComposeSessionDirty:({csid:e,lastEditedTimeStamp:t})=>a.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}),getLastSaveTimeStampForDraft:e=>a.getComposeSessionsSelectors().getLastSaveTimeStamp(e),getDraftStatus:({csid:s,lastEditedTimeStamp:n})=>{const r=a.getLastSaveTimeStampForDraft(s);return a.isSaving({csid:s})||t.composeSessions(e).getFatalErrorCount(s)?X.SAVING:n===r?X.SAVED:void 0},canSendDraft:({csid:e,lastEditedTimeStamp:t,attachmentsInfo:s=[]})=>{const n=a.getDraftMessageId(e),{doesMessageIdExist:r,isMarkedAsSpam:o}=a.getMessagesSelectors();if(!n||!t||r(n)&&o(n)||a.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;const i=a.getAttachmentIdsByMessageId(n).map(a.getContentIdByAttachmentId),l=(0,N.VO)(s).some((e=>-1===i.indexOf(e.contentId)));return!s.length||!l},findReplyForwardCsidsOfMessage:e=>a.getComposeSessionsSelectors().findReplyForwardCsidsOfMessage(e),doesComposeSessionExist:e=>a.getComposeSessionsSelectors().doesComposeSessionExist(e),showUnsyncedDataWarning:()=>a.getReconciledUnsyncedData().some((e=>e.type===m.sKi.COMPOSE&&a.doesComposeSessionExist(e.id)&&(a.isSendRequested(e.id)||e.userInputtedValues.lastEditedTimeStamp&&a.getLastSaveTimeStampForDraft(e.id)!==e.userInputtedValues.lastEditedTimeStamp)||e.warnOnClose)),findUnsyncedDataByCsid:e=>le("findUnsyncedDataByCsid",(()=>e),[e=>e.getReconciledUnsyncedData()],(()=>{const t=a.getReconciledUnsyncedData().find((t=>t.type===m.sKi.COMPOSE&&t.id===e));if(t)return t.userInputtedValues}))(a),getDraftCardMessage:e=>le("getDraftCardMessage",(()=>e),[t=>(t.findUnsyncedDataByCsid(e)||{}).lastEditedTimeStamp],(()=>{const{getFoldersSelectors:t,findUnsyncedDataByCsid:s,getDraftFolderIdByAccountEmail:n}=a,{getFolderTypes:r}=t(),{from:o,to:i,cc:l,bcc:c,subject:d,lastEditedTimeStamp:E,attachmentsInfo:_}=s(e),u=n(o.email),m=Math.floor((E||Date.now())/1e3);return{message:{flags:{read:!0,flagged:!1},folder:{id:u,types:r(u)},headers:{from:[o],to:i,cc:l,bcc:c,subject:d,date:m},attachments:_}}}))(a),isAttachmentUploadPendingForComposeSession:e=>{const{getReconciledUnsyncedData:t,getAttachmentByContentId:s}=a;return t().filter((({type:t,id:s,userInputtedValues:{newContentIds:a=[]}={}})=>t===m.sKi.COMPOSE&&s===e&&a.length)).reduce(((e,{userInputtedValues:{newContentIds:t=[]}})=>e.concat(...t)),[]).some((e=>!s(e)))},doComposeFromRouteQueryParams:e=>a.getComposeSessionsSelectors().doComposeFromRouteQueryParams(e),doComposeFromMailToLink:e=>a.getComposeSessionsSelectors().doComposeFromMailToLink(e),getComposeMailToLink:e=>a.getComposeSessionsSelectors().getMailToLink(e),getComposeParams:e=>a.getComposeSessionsSelectors().getComposeParams(e),getComposeHeaderFocus:e=>a.getComposeSessionsSelectors().getComposeHeaderFocus(e),getStationeryTheme:e=>a.getComposeSessionsSelectors().getStationeryTheme(e),findDraftMessageCsid:e=>a.getComposeSessionsSelectors().findDraftMessageCsid(e),getDraftMessageId:e=>a.getComposeSessionsSelectors().getDraftMessageId(e),getForwardCreativeId:e=>a.getComposeSessionsSelectors().getForwardCreativeId(e),getInForwardToMessageId:e=>a.getComposeSessionsSelectors().getInForwardToMessageId(e),getForwardAttachmentIds:e=>a.getComposeSessionsSelectors().getForwardAttachmentIds(e),isReplyMessage:e=>a.getComposeSessionsSelectors().isReplyMessage(e),isReplyAllMessage:e=>a.getComposeSessionsSelectors().isReplyAllMessage(e),isForwardMessage:e=>a.getComposeSessionsSelectors().isForwardMessage(e),getReplyingToMessageId:e=>a.getComposeSessionsSelectors().getReplyingToMessageId(e),isReplyOrReplyAll:e=>a.isReplyMessage(e)||a.isReplyAllMessage(e),getAttachmentsByMessageId:e=>(a.getAttachmentIdsByMessageId(e)||[]).map(a.getAttachmentById),getAttachmentCountByMessageId:e=>(a.getAttachmentIdsByMessageId(e)||[]).length,hasNonInlineAttachmentsByMessageId:e=>(a.getAttachmentIdsByMessageId(e)||[]).some(a.isNonInlineAttachmentById),hasFailedComposeSend:()=>{const{getReconciledUnsyncedData:e,getComposeSessionsSelectors:t}=a,{isSendFailed:s}=t();return e().some((({type:e,id:t})=>e===m.sKi.COMPOSE&&s(t)))},getSelectedMailboxId:t.mailboxes(e).getSelectedMailboxId,getMailboxSize:t.mailboxes(e).getMailboxSize,getCurrentListId:()=>(0,R.LY)(a.getRoute()),getFolderIdsFromListId:s=>{const{folderIds:a=[],folderNames:n=[]}=(0,R.Mz)(s),{getFolderIdsByName:r,doesFolderIdExist:o}=t.folders(e);return n.reduce(((e,t)=>e.concat(r(t))),[]).concat(a).filter(o)},isSearchInputFocused:()=>(0,q.w)(e).isSearchInputFocused(),getSearchSuggestions:t.searchSuggestions(e).getSuggestions,getComposeSuggestions:s=>{const a=t.contacts(e).getContactBlockList(),n=t.composeSuggestions(e).getSuggestions(s)||[];return a.length?n.filter((e=>!a.find((t=>t.email===e.email)))):n},getComposeSuggestionsFromImportantsByQuery:({query:e,contextEmail:t})=>{e=e.trim().toLocaleLowerCase();const{getImportantContacts:s}=a;return s(t).filter((({email:t,contact:{name:s}={}})=>s&&s.toLocaleLowerCase().split(" ").find((t=>0===t.indexOf(e)))||t.slice(0,t.indexOf("@")).toLocaleLowerCase().split(".").find((t=>0===t.indexOf(e))))).map((({email:e,contact:{name:t,id:s}={}})=>({name:t,email:e,id:s}))).slice(0,m.eie)},getImportantContacts:e=>{const{getListsSelectors:t,getContactListSelectors:s}=a,{getImportantContactEmailsByContextEmail:n}=t(),{getContactIdByEmail:r,getContactById:o}=s();return n(e).map((e=>{const t=r(e);return{email:e,contact:o(t)}}))},getCurrentGroupId:()=>a.getRoute().params.groupId,getFolderIdsForSelectedAccount:e=>a.getFolderIdsByFolderTypeForAccount(e,a.getSelectedAccountId()),getDefaultFolderIdForSelectedAccount:()=>a.getFolderIdsForSelectedAccount(m.Sck.INBOX)[0],getDefaultFolderIdForAccount:e=>a.getFolderIdsByFolderTypeForAccount(m.Sck.INBOX,e)[0],getFolderIdsByFolderTypeForAccount:(s,a)=>t.folders(e).getFolderIdsFromFolderType(s,a),getAccountById:s=>t.mailboxes(e).getAccountsSelectors().getAccountById(s),getSendAccountsByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSendAccountsByAccountId(s),getProviderFromAccount:s=>t.mailboxes(e).getAccountsSelectors().getProviderFromAccount(s),getAccountDescriptionByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getAccountDescriptionByAccountId(s),getSelectedAccountId:()=>{const{getAccountById:e,getPrimaryAccountId:t}=a.getAccountSelectors(),s=a.getSelectedAccountIdByRoute(a.getRoute());return e(s)?s:t()},getPrimaryAccountId:()=>a.getAccountSelectors().getPrimaryAccountId(),getSendingAccountId:()=>t.mailboxes(e).getAccountsSelectors().getSendingAccountId(),getSelectedAccountIdByRoute:e=>{const t=(0,R.LY)(e),s=t?(0,R.Er)(t):[];if(1===s.length)return s[0];let n=(0,R.Fh)(t);const r=void 0!==e.params?e.params.csid:void 0,{doesComposeSessionExist:o,getDraftMessageId:i,getReplyingToMessageId:l,getMessageFolderId:c,doesFolderIdExist:d,getAccountIdByFolderId:E,getFolderPageRoute:_,getCursorItem:u,doesStreamExist:S,doesMessageGroupIdExist:p,getMainStreamListIds:C,getAccountIdFromMessageGroupId:A,getDefaultSetting:T}=a;if(!n&&r&&o(r)){const e=i(r)||l(r);n=e?c(e):void 0}if(J(e)&&re(e)&&p(e.params.groupId,t))return A(e.params.groupId,t);if(J(e)&&ee(e)&&T(m.Zrf.PREVIEW_PANE)!==m.EsZ.NO){const s=C(e),a=(0,L.BA)(s),r=S(a)?u(a):void 0;if(r){if(r.id&&"MESSAGES"===(0,R.WN)(r.listId)&&p(r.id,t))return A(r.id,t);if(r.csid){const e=i(r.csid)||l(r.csid);n=e?c(e):void 0}}}if(n&&d(n))return E(n);if(!n){const e=_();if(e){const t=(0,R.LY)(e),s=(0,R.Fh)(t);if(d(s))return E(s)}}const h=e.query?e.query.accountIds:void 0;return h||a.getAccountSelectors().getSelectedAccountId()},doesSelectedAccountExist:()=>a.getAccountSelectors().doesSelectedAccountExist(),getAccountNameByAccountId:e=>a.getAccountSelectors().getAccountNameByAccountId(e),hasAccountWithEmail:t.mailboxes(e).getAccountsSelectors().hasAccountWithEmail,getAccountIdByAccountEmail:s=>t.mailboxes(e).getAccountsSelectors().getAccountIdByAccountEmail(s),getEmailOfSelectedAccount:()=>t.mailboxes(e).getAccountsSelectors().getAccountEmailByAccountId(a.getSelectedAccountId()),isFolderExpanded:e=>-1!==a.getSetting(m.Zrf.EXPANDED_FOLDERS).indexOf(e),getAttachmentById:e=>a.getAttachmentsSelectors().getAttachmentById(e),getContentIdByAttachmentId:e=>a.getAttachmentsSelectors().getContentIdByAttachmentId(e),getConversationIdByAttachmentId:e=>a.getAttachmentsSelectors().getConversationIdByAttachmentId(e),getMimetypeByAttachmentId:e=>a.getAttachmentsSelectors().getMimetypeByAttachmentId(e),getAttachmentExtentionByAttachmentId:e=>a.getAttachmentsSelectors().getAttachmentExtentionByAttachmentId(e),getAttachmentTypeByAttachmentId:e=>a.getAttachmentsSelectors().getAttachmentTypeByAttachmentId(e),getAttachmentSubtypeByAttachmentId:e=>a.getAttachmentsSelectors().getAttachmentSubtypeByAttachmentId(e),getSizeByAttachmentId:e=>a.getAttachmentsSelectors().getSizeByAttachmentId(e),doesAttachmentExistById:e=>a.getAttachmentsSelectors().doesAttachmentExistById(e),getDocumentIdByAttachmentId:e=>a.getAttachmentsSelectors().getDocumentIdByAttachmentId(e),getAttachmentIdByDocumentId:e=>a.getAttachmentsSelectors().getAttachmentIdByDocumentId(e),getAttachmentMessageReferenceByContentId:e=>a.getAttachmentsSelectors().getMessageReferenceByContentId(e),getAttachmentByContentId:e=>a.getAttachmentsSelectors().getByContentId(e),isInlineAttachmentById:e=>a.getAttachmentsSelectors().isInlineAttachmentById(e),isNonInlineAttachmentById:e=>a.getAttachmentsSelectors().isNonInlineAttachmentById(e),didAttachmentUploadFail:e=>a.getAttachmentsSelectors().hasError(e),getAttachmentIdsByMessageId:t.messageToAttachments(e).attachmentsByMessageId,getAttachmentDownloadAllUrlByMessageId:e=>a.getMessagesSelectors().getDownloadAllUrl(e),getMessageIdForAttachmentId:t.messageToAttachments(e).getMessageIdForAttachmentId,getAliasSuggestions:t.mailboxes(e).getAliasSuggestions,getAliasSuggestionStatus:t.mailboxes(e).getAliasSuggestionStatus,getSocialAccountsStatus:t.mailboxes(e).getSocialAccountsStatus,getAllAccounts:t.mailboxes(e).getAccountsSelectors().getAllAccounts,getPrimaryAccount:t.mailboxes(e).getAccountsSelectors().getPrimaryAccount,getAccountsForSearch:()=>le("getAccountsForSearch",(()=>"accounts"),[e=>e.getMailboxesSelectors()],(e=>e.getAccountsSelectors().getAllAccounts().filter((e=>e.status===m.dpb.ENABLED&&e.accountVerified&&e.type&&m.qxq.indexOf(e.type)>-1))))(a),getExpiredAccounts:()=>le("getExpiredAccounts",(()=>"accounts"),[e=>e.getMailboxesSelectors()],(e=>e.getExpiredAccounts()))(a),getRootAccounts:()=>le("getRootAccounts",(()=>"accounts"),[e=>e.getMailboxesSelectors()],(e=>e.getAccountsSelectors().getRootAccounts()))(a),getRootAccountsWithDefaultFolder:()=>s(e),getSwitchableAccounts:()=>{const{getRootAccountsWithDefaultFolder:e}=a;return e().filter((e=>{var t;return e.status===m.dpb.ENABLED&&(null===(t=e.defaultFolder)||void 0===t?void 0:t.id)}))},getValidReplyToAddresses:()=>{const{getAllAccounts:e}=a;return e().filter((e=>e.accountVerified&&e.status===m.dpb.ENABLED)).map((({email:e})=>e))},getFoldersForMoveMenu:()=>le("getFoldersForMoveMenu",(()=>"folders"),[e=>e.getRoute(),e=>e.getSelectedAccountIdByRoute(e.getRoute()),e=>e.getFoldersSelectors()],((e,t,s)=>{const{getCustomFolderList:a,getSystemFolderList:n}=s,r=(0,R.LY)(e),o=(0,R.Fh)(r),i=o?[o]:[];function l(e,{assignShortcuts:t=!1,disabledFolderIds:s=[]}){const a=[];if(e.forEach((e=>{const t=e.id,n=e.type,r={...e,disabled:-1!==s.indexOf(t)};n===m.Sck.INBOX&&(r.shortcut=0),a.push(r)})),t){let e=0;for(let t=0;e<9&&a[t];t++)a[t].type!==m.Sck.INBOX&&(a[t].shortcut=++e)}return a}const c=a(t),d=n(t).filter((({type:e})=>-1===[m.Sck.DRAFT,m.Sck.SENT].indexOf(e)));return{customFolders:l(c,{assignShortcuts:!0,disabledFolderIds:i}),systemFolders:l(d,{disabledFolderIds:i})}}))(a),getAliasAccounts:t.mailboxes(e).getAccountsSelectors().getAliasAccounts,hasMultipleRootAccounts:t.mailboxes(e).getAccountsSelectors().hasMultipleRootAccounts,isMyEmailAddress:t.mailboxes(e).getAccountsSelectors().isMyEmailAddress,isSelectedAccount:s=>{const{getSelectedAccountId:n}=a,{getAccountEmailByAccountId:r}=t.mailboxes(e).getAccountsSelectors();return s===r(n())},getMyAddresses:()=>a.getAccountSelectors().getMyAddresses(),isUserOwnEmailMessage:e=>{const[{email:t=""}={}]=a.getMessagesSelectors().getFromAddresses(e);return a.isMyEmailAddress(t)},__patchV2MyAddresses__:()=>a.getMyAddresses().reduce(((e,t)=>({...e,[t]:!0})),{}),getMailboxesSelectors:()=>t.mailboxes(e),getSettingsSelectors:()=>t.settings(e),getComposeAttributesSelectors:()=>t.composeAttributesStatus(e),getDraftFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(m.Sck.DRAFT,s)[0],getSelectedAccountIdByAccountEmail:e=>{let t;return t=a.getAccountSelectors().isPrimaryAccountEmail(e)?a.getAccountIdByAccountEmail(e):a.getSelectedAccountId(),t},getDraftFolderIdForPrimaryAccount:()=>{const{getPrimaryAccountId:e}=a.getAccountSelectors();return a.getDraftFolderIdByAccountId(e())},getDraftFolderIdByAccountEmail:e=>a.getDraftFolderIdByAccountId(a.getSelectedAccountIdByAccountEmail(e)),getSendFolderIdForPrimaryAccount:()=>{const{getPrimaryAccountId:e}=a.getAccountSelectors();return a.getSendFolderIdByAccountId(e())},getSendFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(m.Sck.SENT,s)[0],getInboxFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(m.Sck.INBOX,s)[0],getSendFolderIdByAccountEmail:e=>a.getSendFolderIdByAccountId(a.getSelectedAccountIdByAccountEmail(e)),__isPermDeleteMessage:e=>{const{getMessageFolderId:t,isPermDeleteFolderType:s}=a;return s(t(e))},__getLastNonDraftMessageIdByGroupId:e=>{const{getMessageIdsFromMessageGroupId:t}=a,s=t(e).filter((e=>!a.isDraftMessage(e)));return s[s.length-1]},__getMessage:e=>a.getMessagesSelectors().__getMessage(e),__getMessageWithFlagsAndFolderId:e=>{const{getMessagesSelectors:t,getMessageFlags:s,getMessageFolderId:n}=a;return{...t().__getMessage(e),flags:s(e),folderId:n(e)}},__getOriginalMessageGroupSender:e=>{let t;if(a.doesMessageGroupIdExist(e)){const s=a.getMessageIdsFromMessageGroupId(e),[n]=s,r=a.getMessageFromAddress(n),[o]=r;t=o}return t},__getFolderIdMapFromFolderType(e,t){const{getMessageFolderId:s,getAccountIdByFolderId:n,getFolderIdsByFolderTypeForAccount:r}=a,o={};return e.forEach((e=>{const a=r(t,(e=>n(s(e)))(e)),[i]=a;o.hasOwnProperty(i)||(o[i]=[]),o[i].push(e)})),o},getCalendarSelectors:()=>t.calendar(e),getAdListItemsSelectors:()=>t.adListItems(e),getEnvironmentSelectors:()=>t.environment(e),getWindowDimensions:()=>a.getEnvironmentSelectors().getWindowDimensions(),getMainContentWidth:()=>{const{isNarrowScreen:e,getRightRailPanes:t}=a,s=e()?O.v9j:O.kaB,n=t().length?Number(s.substring(0,s.length-2)):52;return a.getWindowDimensions().contentAndRightRailWidth-n},getAppName:()=>a.getEnvironmentSelectors().getAppName(),isBrowserSupportedByNoble:()=>{const{isEnabled:e}=a.getFeaturesSelectors(),t=e(m.ANe.NOBLE_SUPPORTED_BROWSER_VERSION),s=e(m.ANe.NOBLE_SUPPORTED_OS_VERSION);return t&&s},isAppVisible:()=>a.getEnvironmentSelectors().isAppVisible(),getApplicationLastVisibleTimeStamp:()=>a.getEnvironmentSelectors().getApplicationLastVisibleTimeStamp(),getBuildRefreshStatus:()=>a.getEnvironmentSelectors().getBuildRefreshStatus(),getTimeZoneName:()=>a.getEnvironmentSelectors().getTimeZoneName(),getIsInternalIP:()=>le("getIsInternalIP",(()=>"getIsInternalIP"),[e=>e.getEnvironmentSelectors()],(()=>a.getEnvironmentSelectors().getIsInternalIP()))(a),isNarrowScreen:()=>le("isNarrowScreen",(()=>"isNarrowScreen"),[e=>e],(()=>(0,b.H)(a)))(a),isMessageDeliveredToSpamFolder:s=>{const n=a.getMessagesSelectors().getFolderOfDelivery(s);return!(!n||!a.doesFolderIdExist(n))&&t.folders(e).isSpamFolder(n)},shouldShowSpamAttachmentWarning:e=>!a.isSpamMessage(e)&&a.isMessageDeliveredToSpamFolder(e),getLaunchError:t.launchError(e).getLaunchErrorType,getLocationSuggestionSelectors:()=>t.locationSuggestions(e),getTravelCardListItems:(e,t,s)=>function(e,t,s,a){const n=[],{getMessagesSelectors:r,getFlightsSelectors:o,getListsSelectors:i,getCardGroupsSelectors:l,getCardMessageToSchemasSelectors:c}=e,{getItemIds:d}=i().getItemIdsSelectors(t),{getConversationId:E}=r(),{getMessageIdsFromCardGroupId:_,getMostRecentEmailId:u}=l(),{getSchemas:S}=c(),p=(0,R.C4)(t),C=(0,R.WW)(t);switch(d().forEach((e=>{const r=_(e),i=u(e),l=s?E(i):i;r.forEach((s=>{S(s).forEach((({id:s,type:r})=>{if(r===m.rgK.FlightReservation){const{getCardDate:i,isEligibleCardForFilter:c}=o(),d=i(s);c(s,p,a)&&n.push({id:s,type:r,listId:t,cardConversationId:e,groupId:l,cardDate:d,timestamp:d})}}))}))})),C){case m.Asd.CARD_DATE_ASC:n.sort(((e,t)=>e.cardDate-t.cardDate));break;case m.Asd.CARD_DATE_DESC:n.sort(((e,t)=>t.cardDate-e.cardDate))}return n}(a,e,t,s),getReceiptCardListItems:(e,t)=>function(e,t,s){const a=[],{getMessagesSelectors:n,getCardMessageToSchemasSelectors:r,getListsSelectors:o,getReceiptSelectors:i}=e,{getCardConversationId:l,getParentMessageIdForCardConversationId:c,getParentConversationIdForCardConversationId:d}=n(),{getSchemas:E}=r(),{getItemIdsSelectors:_}=o(),{getPrice:u,getFirstItemName:S,getOrderDate:p,getNumItems:C,getCurrency:A}=i(),T=_(t).getItemIds(),h=(0,R.WW)(t);switch(T.forEach((e=>{const n=E(e).filter((e=>e.type===m.rgK.Order));if(1===n.length){const r=l(e),o=n[0].id,i=u(o),E=S(o),_=p(o),T=C(o),h=A(o),g=d(r),I=c(r),R=s;a.push({id:o,type:m.rgK.Order,listId:t,schemaId:o,cardMid:e,price:i,itemName:E,numItems:T,currency:h,orderDate:_,conversationId:g,messageId:I,hasConv:R,timestamp:new Date(_).getTime()})}})),h){case m.Asd.DATE_ASC:a.sort(((e,t)=>e.timestamp-t.timestamp));break;case m.Asd.DATE_DESC:a.sort(((e,t)=>t.timestamp-e.timestamp))}return a}(a,e,t),getSenderRollupItems:(e,t)=>function(e,t){const{getSenderRollupSelectors:s,getListsSelectors:a,getAccountSelectors:n}=e,{getSenderRollupById:r}=s(),{getItemIds:o}=a().getItemIdsSelectors(t),i=(0,R.Fh)(t),l=o(),c=n().getMyAddresses().reduce(((e,t)=>(e[t]=!0,e)),{});return l.reduce(((e,s)=>{const a=r(i,s);if(a){const{messages:n,timestamp:r,type:o,unreadCount:i,from:l,subjects:d,totalCount:E}=a;n&&n.length&&e.push({id:s,listId:t,subject:d[0],senders:l,myAddresses:c,type:o,timestamp:1e3*r,unreadCount:i,totalCount:E})}return e}),[])}(a,e),getCurrentSpaceId:()=>(0,U.Fk)(e).spaceId,getAvailableSortOrders:()=>{const{getFoldersSelectors:e,getCurrentListId:t,getRoute:s,isFeatureEnabled:n}=a,r=t(),o=(0,R.Fh)(r),i=o?e().getPrimaryFolderTypeByFolderId(o):void 0,l=n(m.ANe.CONVERSATIONS),c=n(m.ANe.SENDER_ROLLUP);return((e,t,s,a,n=!1)=>{const r=a?(0,R.WN)(a):m.F6k.MESSAGES;switch(e.name){case m.n8z.SEARCH:return r===m.F6k.IMAGES||r===m.F6k.DOCUMENTS?k:G;case m.n8z.LIST:if(a&&(0,R.aY)(a)===m.qd8.SUBSCRIPTIONS)return k;break;default:return t===m.Sck.DRAFT?H:s?n?[...B,m.Asd.SENDER]:B:x}})(s(),i,l,r,c)},shouldEnableGroupActions:e=>{const{getCursorItem:t,doesStreamExist:s,hasSelectedStreamItems:n,getAdListItemsSelectors:r}=a,o=s(e)?t(e):void 0,i=s(e)&&n(e)||r().hasSelectedPencilAds();return!(!o||i)},shouldEnableTriageActions:e=>{const{getCursorItem:t,doesStreamExist:s,getSelectedStreamItems:n}=a,r=s(e)?t(e):void 0,o=s(e)?n(e):[];return!!(r||o.length>0)},canShowToolbarItem:e=>{const{getSetting:t,isAllCardsExpanded:s,getMessageIdsFromMessageGroupId:n,shouldEnableGroupActions:r,doesStreamExist:o,getCursorItem:i,getFoldersSelectors:l,getCurrentListId:c}=a,d=t(m.Zrf.PREVIEW_PANE),E=o(e)?i(e):void 0,_=E?E.id:void 0,u=!!E&&s(E.listId,_),S=n(_),p=(0,R.Fh)(c());return((e,t,s,a,n)=>r=>{let o;const i=Boolean(e),l=e===m.Sck.TRASH,c=e===m.Sck.ARCHIVE,d=e===m.Sck.BULK,E=e===m.Sck.DRAFT,_=s!==m.EsZ.NO&&t&&n.length>1;switch(r){case m.Egu.ARCHIVE:o=!i||!c&&!d&&!l;break;case m.Egu.RESTORE:o=c||d||l;break;case m.Egu.SPAM:o=!d;break;case m.Egu.HAM:o=d;break;case m.Egu.RAF:o=s!==m.EsZ.NO&&(!i||!d&&!E);break;case m.Egu.EXPANDALL:o=_&&!1===a;break;case m.Egu.COLLAPSEALL:o=_&&!0===a;break;default:o=!0}return o})(p?l().getPrimaryFolderTypeByFolderId(p):void 0,r(e),d,u,S)},canEnableToolbarItem:e=>{const{shouldEnableGroupActions:t,shouldEnableTriageActions:s,getFoldersSelectors:n,getCurrentListId:r,getSelectedAccountId:i,getSelectedStreamItems:l,doesStreamExist:c,getAccountIdFromMessageGroupId:d,getMessageIdsFromMessageGroupId:E,getMessageFolderId:_,isDraftFolder:u,isSentFolder:S,getCursorItem:p}=a,C=t(e),A=s(e),T=(0,R.Fh)(r()),h=T?n().getPrimaryFolderTypeByFolderId(T):void 0,g=c(e),I=g?l(e):[],O=g?p(e):{},D=I.map((({id:e})=>e)),N=i(),f=D.map((e=>d(e,r())));let M=!1,L=!1;if(0===D.length&&O||1===D.length){const e=0===D.length?E(O.id):E(D[0]);if(1===e.length){const t=_(e[0]);M=u(t),L=S(t)}}return((e,t,s,a,n,r,i)=>l=>{let c;const d=e===m.Sck.DRAFT,E=e===m.Sck.SENT,_=e===m.Sck.BULK;let u=(n=o()(n)).length<=1;switch(1===n.length&&(u=u&&n[0]===a),l){case m.Egu.ARCHIVE:c=!d&&t&&!r;break;case m.Egu.MOVE:c=!d&&t&&u&&!r;break;case m.Egu.SPAM:c=!d&&!E&&t&&!r&&!i;break;case m.Egu.HAM:c=_&&t&&!r;break;case m.Egu.RAF:c=s;break;case m.Egu.MORE:default:c=t}return c})(h,A,C,N,f,M,L)},doesComposeHaveFatalError:s=>t.composeSessions(e).getFatalErrorCount(s)>=a.getSetting(m.Zrf.COMPOSE_THROTTLE_COUNT),isLoadingGeminiAsset:e=>a.getReconciledUnsyncedData().some((t=>t.type===m.sKi.GEMINI_AD_ASSET&&t.userInputtedValues.creativeId===e)),getStreamItemInFocus:()=>{const{doesStreamExist:e,getCursorItem:t,doesMessageGroupIdExist:s,getRoute:n,getComposeSessionsSelectors:r,getMessageGroupStreamItemsWithExpansionStates:o,getGroupId:i}=a,{doesComposeSessionExist:l}=r(),c=n(),d=(0,R.LY)(c),E=i(),_=E&&s(E,d)?(0,L.k3)(d,E):void 0;let u=e(_)?t(_):void 0;if(!u||(0,R.WN)(u.listId)===m.F6k.COMPOSE&&!l(u.id)){const e=(0,R.tE)(d,{listContentType:m.F6k.MESSAGE}),t=E&&s(E,d)?o({id:E,listId:e}):[];u=t.filter((e=>e.expansionState===m.Lvq.EXPANDED)).slice(-1)[0]||t.slice(-1)[0]}return u},getGroupIdInPreviewPane:()=>{const{getRoute:e,doesStreamExist:t,getCursorItem:s,doesMessageGroupIdExist:n,getMainStreamListIds:r,getSelectedStreamItems:o}=a,i=r(e()),l=(0,L.BA)(i),c=t(l)?o(l).length:0,d=t(l)?s(l):void 0;return 0===c&&d&&n(d.id)?d.id:null},getGroupId:()=>{const{getRoute:e,getGroupIdInPreviewPane:t,getSetting:s}=a,n=$(e())||{};return s(m.Zrf.PREVIEW_PANE)===m.EsZ.NO||n.groupId?n.groupId:t()},getMainStreamListIds:e=>{const t=[(0,R.LY)(e)];return te(e),t},getMainStreamItems:t=>{let s=[];const{getListsSelectors:n,getTravelCardListItems:r,getReceiptCardListItems:o,getEnvironmentSelectors:i,getMessageListItems:l,getAttachmentListItems:c,isFeatureEnabled:d,doesListExist:E,getMainStreamListIds:_,getMainContentWidth:u,getFeaturesSelectors:S,getSenderRollupItems:p,isStorefrontRoute:C}=a,A=(0,R.LY)(t);if(!E(A))return s;const{getSetting:T}=S(),{hasMoreItems:g,getListStatus:I}=n(),{getTimeZoneName:O}=i(),D=d(m.ANe.CONVERSATIONS),N=(0,R.WN)(A),f=_(t),M=(0,F.zz)({timezone:O(),now:(0,h.Ux)()});switch(N){case m.F6k.TRAVEL_CARDS:{const e=Date.now(),t=(0,F.zz)({timezone:O(),now:(0,h.Ux)(),hasFutureTime:!0}),a=(0,R.C4)(A),n=a===m.ukn.TRAVEL_VIEW_UPCOMING?t:M,o=r(A,D,e);if(s=oe({list:o,timePredicates:n}),a===m.ukn.TRAVEL_VIEW_UPCOMING&&0===s.length)return s;break}case m.F6k.COUPON_CARDS:{const t=f.filter((e=>E(e))).reduce(((e,t)=>e===m.DAQ.LOADING||e===m.DAQ.ERROR?e:I(t)),m.DAQ.DOES_NOT_EXIST);s=(0,y.PH)(e,f,t);break}case m.F6k.REFUND_CARDS:{const e=o(A,D);s=oe({list:e,timePredicates:M}),s.length&&(s[s.length-1].isLastItemInGroup=!0);break}case m.F6k.MESSAGES:{const e=(0,R.WW)(A),t=l(A);s=C()?t:oe({list:t,timePredicates:M,sortOrder:e});break}case m.F6k.SENDERS:s=p(A);break;case m.F6k.IMAGES:{const e=(0,R.WW)(A),t=c(A),a=t.length>=4&&-1!==[m.Asd.DATE_DESC,m.Asd.DATE_ASC].indexOf(e),n=u(),r=T(m.Zrf.LIST_ITEM_HEIGHT,{contentType:N}),o=Math.floor(n/r);if(a){const{list:e,isGroupedList:a}=(0,F.sD)(t,M);s=a?[...(0,F.CY)(e,o)]:(0,F.I2)(t,o,"unknown","none")}else 0!==t.length&&(s=(0,F.I2)(t,o,"unknown","none"));break}case m.F6k.DOCUMENTS:{const e=(0,R.WW)(A),t=c(A);s=oe({list:t,timePredicates:M,sortOrder:e});break}}return f.some((e=>E(e)&&g(e)))&&(s=[...s,{id:m.F6k.LOAD_MORE,listId:(0,R.rA)({listContentType:m.F6k.LOAD_MORE})}]),s},getListItemsWithAds:(e,t)=>{const{doesListExist:s,getAdsSelectors:n,getContactListSelectors:r,getEnvironmentSelectors:o,getSetting:i,isFeatureEnabled:l}=a,c=(0,R.LY)(e),d=e.name===m.n8z.SEARCH,E=l(m.ANe.PENCIL_AD),{isAdBlockerDetected:_,isABPDetected:u}=n(),S=u(),p=s(c)&&(0,R.DF)(c),{getContactByEmail:C}=r(),A=p&&C(p);if(!s(c)||0===t.length||!E||_()||d&&S)return t;const T=(0,R.WN)(c);let h=t;if(T===m.F6k.MESSAGES){const e=i(m.Zrf.LIST_ITEM_HEIGHT,{contentType:T}),s=i(m.Zrf.GEMINI_SECTION_IDS),n=(0,V.GZ)(a,e,S?s[m.e$m.ADBLOCK_MESSAGE_LIST]:s[m.e$m.MESSAGE_LIST]),{getWindowDimensions:r}=o(),{innerHeight:c,ybarHeight:E}=r(),_=c-E-O.k5G,u=(0,V.Kz)(a,T,d)&&_>0,p=l(m.ANe.SECOND_SEARCH_AD);if(h=t[0].listId&&(0,R.WN)(t[0].listId)===m.F6k.TIMECHUNK?[t[0],n,...t.slice(1)]:[n,...t],u){let t=0,n=0;const r=(0,V.GZ)(a,e,S?s[m.e$m.ADBLOCK_MESSAGE_LIST_2]:s[m.e$m.MESSAGE_LIST_2]);for(let e=0;e<h.length;e++){if(t>_&&n>=10){h.splice(e,0,r);break}if(d&&p&&e===h.length-1&&!l(m.ANe.SAME_SEARCH_AD_ON_SECOND_PENCIL)){h.push(r);break}n+=h[e].relevantMessageId?1:0,t+=(0,R.WN)(h[e].listId)===m.F6k.TIMECHUNK?O.fa0:h[e].listItemHeight}}}if(l(m.ANe.SHOW_SEARCH_CONTACT_CARD)&&d&&null!=A&&A.isBusiness){var g;const e={email:null==A||null===(g=A.emails)||void 0===g?void 0:g[0],id:m.F6k.CONTACTS,listId:(0,R.tE)(c,{listContentType:m.F6k.CONTACTS}),listItemHeight:i(m.Zrf.PREVIEW_PANE)===m.EsZ.RIGHT?O.ljI:O.rcB};h.unshift(e)}return h},getSubscriptionListItems:e=>{const{isFeatureEnabled:t,getListsSelectors:s}=a,{getItemIdsSelectors:n,doesListExist:r}=s();return r(e)&&t(m.ANe.SUBSCRIPTION_LIST)?n(e).getItemIds():[]},sortContactAlphabetically:(e,t)=>{const{itemType:s={},id:n}=e,{itemType:r={},id:o}=t,i=s.id||n,l=r.id||o,{getContactListSelectors:c}=a,{getContactById:d,getContactsSortOrder:E}=c(),_=d(i)||{},u=d(l)||{},m=E(),S=(0,C.getComparableValue)(m,_),p=(0,C.getComparableValue)(m,u);return S<p?-1:S>p?1:0},getContactListItems:e=>{const{getListsSelectors:t,getStreamsSelectors:s,sortContactAlphabetically:n,getContactListSelectors:r}=a,{getItemIdsSelectors:o,getTotalHits:i,doesListExist:l}=t(),{getContactCategoryById:c,getCategoryFilter:d}=r();if(!l(e))return[];const E=(0,R.C4)(e),_=d();if(E===m.ukn.GROUPS){return o(e).getItemIds().map((t=>({id:(0,Z.ap)(t),itemType:t,listId:e,type:m.F6k.CONTACTS}))).sort(n)}const{doesStreamExist:u,getExpansionStateForStreamItem:S}=s(),p=o(e).getItemIds().filter((e=>o(e).getItemIds().length>0)),C=p.length>1,T=u(e),h=E===m.ukn.USER_CREATED_CONTACTS&&_===m.Ygm.ALL_CONTACTS;return(0,A.xH)(p.map((t=>{const s=C?[{id:t+"separator",listId:t,type:m.F6k.CONTACTS_SEPARATOR}]:[],a=o(t).getItemIds().filter((e=>_===m.Ygm.ALL_CONTACTS||c(e)===_)).map((e=>({id:e,listId:t,type:m.F6k.CONTACTS}))),r=i(t);let l=a;if(h&&r>m.Weh){l=[...a.slice(0,m.Weh),{id:t+"loader",listId:t,type:m.F6k.EXPAND_COLLAPSE_CONTACTS}];if(T&&!!S({streamId:e,listId:e,csid:t})){const e=r-a.length,s=e>0&&(0,A.w6)(e)||[];l=[...l,...a.slice(m.Weh).sort(n),...s.map((e=>({id:t+"loading"+e,listId:t,type:m.F6k.LOADING_INDICATOR})))]}}return l.length?[...s,...l]:[]})))},getCustomContactGroups:()=>{const{getItemIdsSelectors:e,doesListExist:t}=a,s=(0,R.uh)(m.ukn.GROUPS);return t(s)?e(s).getItemIds():[]},doesStreamExist:e=>a.getStreamsSelectors().doesStreamExist(e),getStreamSelectionType:t=>{const{isFeatureEnabled:s,getStreamsSelectors:a}=de(e),{getSelectionType:n}=a();if(!s(m.ANe.SELECT_ALL))return m.ie0.NONE;const{doesStreamExist:r}=a();return r(t)?n(t):m.ie0.NONE},getCursor:e=>{const{getCursorSelectors:t}=a.getStreamsSelectors();return t(e).getCursor()},getCursorItem:e=>{const{getCursorSelectors:t}=a.getStreamsSelectors();return t(e).getCursorItem()},hasSelectedStreamItems:e=>{const{getSelectedItemsSelectors:t}=a.getStreamsSelectors();return a.getStreamSelectionType(e)!==m.ie0.NONE||t(e).hasSelectedItems()},getSelectedStreamItems:e=>{const{getSelectedItemsSelectors:t}=a.getStreamsSelectors();return t(e).getSelectedItems().filter((({id:e,listId:t})=>!!a.doesListItemExist(t,e)))},isStreamItemSelected:(e,t)=>{const{getSelectedItemsSelectors:s}=a.getStreamsSelectors(),n=a.getRoute();return(!te(n)||!re(n))&&s(e).isItemSelected(t)},isMoveAllowed:(e,t)=>{const{getAccountIdsOfSelectedItems:s,getFoldersSelectors:n,getMessageGroupStreamItems:r,getCurrentListId:o}=a,{getPrimaryFolderTypeByFolderId:i}=n();if(t){const e=r(t);return!(!e.every((e=>e.folderType===m.Sck.BULK))&&(e=>e.every((e=>e.folderType===m.Sck.DRAFT)))(e))}const l=o(),c=s(e,l),d=(0,R.Fh)(l),E=d?i(d):null,_=Boolean(E),u=E===m.Sck.DRAFT;return 1===c.length&&!(_&&u)},getParticipantInFocus:()=>{const{getMessagesSelectors:e,doesMessageGroupIdExist:t,getMessageIdsFromMessageGroupId:s,getStreamItemInFocus:n,getParticipant:r,getGroupId:o}=a,{doesMessageIdExist:i}=e(),l=n()||{},c=l.id||l.messageId,d=o();if(l&&i(c))return r(c);const E=t(d)?s(d):[],_=E[E.length-1];return i(_)?r(_):null},getImportantContactsSelectors:()=>t.importantContacts(e),getComposeSuggestionSelectors:()=>t.composeSuggestions(e),getRecentSearchesSelectors:()=>t.recentSearches(e),getBreakingNewsSelectors:()=>t.breakingNews(e),getSenderEmailIdsFromMessageGroup:e=>{const t={},s=a.getMyAddresses();return e.forEach((e=>{a.doesMessageGroupIdExist(e)&&a.getMessageIdsFromMessageGroupId(e).forEach((e=>{const n=a.getMessageFromAddress(e)[0];n&&n.email&&-1===s.indexOf(n.email)&&(t[n.email]=!0)}))})),Object.keys(t)},getAdSectionIds:()=>{const{getRoute:e,isFeatureEnabled:t,getSetting:s,getAction:n,getAdsSelectors:r,getPrescribedNumberOfColumns:o,isMobileRoute:i,getSmartViewTypeFromRoute:l}=a,{getSponsoredMomentData:c,hasSponsoredMessageOnMessageList:d,isABPDetected:E}=r(),{type:u}=n(),p=e(),C=s(m.Zrf.GEMINI_SECTION_IDS),A=s(m.Zrf.PREFERRED_AD_FORMAT),T=i(p),h=2===o(),g=t(m.ANe.SPONSORED_MOMENT)&&c()&&A!==_.Nt.PENCIL_AD,I=l(p)===m.K8C.COUPONS,O=[],D=d(),N=t(m.ANe.MSG_READ_PENCIL_AD),f=E();switch(u){case S.HIDE_RIGHT_PANE_ADS:if(t(m.ANe.RIGHT_RAIL_UPSELL_VIDEO_AD))return{[m.e$m.RIGHT_RAIL_UPSELL]:C[m.e$m.RIGHT_RAIL_UPSELL]}}if(I&&t(m.ANe.DEALS_SHOPPING_CART_AD)&&t(m.ANe.DEALS))return{[m.e$m.DEALS_SHOPPING_CART]:C[m.e$m.DEALS_SHOPPING_CART]};switch(p.name){case m.n8z.BASE:case m.n8z.FOLDER:case m.n8z.LIST:case m.n8z.SEARCH:if(p.name===m.n8z.LIST&&(!i(p)||(0,R.WN)((0,R.LY)(p))!==m.F6k.MESSAGES))break;if(g)O.push(m.e$m.MESSAGE_LIST_SM);else{if(t(m.ANe.NOBLE_HYBRID_AD))return D===m.vaW.SUCCESS||D===m.vaW.PENDING?{[m.e$m.MESSAGE_LIST]:C[m.e$m.MESSAGE_LIST],[m.e$m.MESSAGE_LIST_SPONSORED_MESSAGE]:C[m.e$m.MESSAGE_LIST_SPONSORED_MESSAGE],[m.e$m.MESSAGE_LIST_2]:C[m.e$m.MESSAGE_LIST_2]}:{[m.e$m.MESSAGE_LIST_CAROUSEL]:C[m.e$m.MESSAGE_LIST_CAROUSEL]};O.push(f?m.e$m.ADBLOCK_MESSAGE_LIST:m.e$m.MESSAGE_LIST),t(m.ANe.MESSAGE_LIST_AD_CAROUSEL)||t(m.ANe.PORTRAIT_AD)?O.push(m.e$m.MESSAGE_LIST_CAROUSEL):t(m.ANe.SECOND_PENCIL_AD)&&(O.push(f?m.e$m.ADBLOCK_MESSAGE_LIST_2:m.e$m.MESSAGE_LIST_2),C[m.e$m.MESSAGE_LIST_2_FALLBACK]&&O.push(m.e$m.MESSAGE_LIST_2_FALLBACK))}t(m.ANe.SHOPPING_CART_AD)?O.push(m.e$m.SHOPPING_CART):t(m.ANe.CROSS_DOMAIN_DPA_ADS)&&O.push(m.e$m.CROSS_DOMAIN_DPA_ADS),t(m.ANe.MSG_READ_PENCIL_AD_SEND_DOMAIN)&&O.push(m.e$m.MESSAGE_READ);break;case m.n8z.PORTRAIT_AD:O.push(m.e$m.MESSAGE_LIST_CAROUSEL);break;case m.n8z.MESSAGE_FROM_FOLDER_LIST:case m.n8z.MESSAGE_FROM_SEARCH_LIST:case m.n8z.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST:case m.n8z.MESSAGE_FROM_LIST:if(T&&h)if(g)O.push(m.e$m.MESSAGE_LIST_SM);else{if(t(m.ANe.NOBLE_HYBRID_AD)){const e=D===m.vaW.SUCCESS||D===m.vaW.PENDING?{[m.e$m.MESSAGE_LIST]:C[m.e$m.MESSAGE_LIST],[m.e$m.MESSAGE_LIST_SPONSORED_MESSAGE]:C[m.e$m.MESSAGE_LIST_SPONSORED_MESSAGE],[m.e$m.MESSAGE_LIST_2]:C[m.e$m.MESSAGE_LIST_2]}:{[m.e$m.MESSAGE_LIST_CAROUSEL]:C[m.e$m.MESSAGE_LIST_CAROUSEL]};return N?{...e,[m.e$m.MESSAGE_READ]:C[m.e$m.MESSAGE_READ]}:e}t(m.ANe.AD_PARTIALLY_ABOVE_FOLD)||O.push(m.e$m.MESSAGE_LIST),t(m.ANe.MESSAGE_LIST_AD_CAROUSEL)?O.push(m.e$m.MESSAGE_LIST_CAROUSEL):t(m.ANe.SECOND_PENCIL_AD)&&O.push(m.e$m.MESSAGE_LIST_2),N&&O.push(m.e$m.MESSAGE_READ)}else t(m.ANe.SHOPPING_CART_AD)?O.push(m.e$m.SHOPPING_CART):t(m.ANe.CROSS_DOMAIN_DPA_ADS)&&O.push(m.e$m.CROSS_DOMAIN_DPA_ADS),!g&&(T&&N||t(m.ANe.MSG_READ_PENCIL_AD_SEND_DOMAIN))&&O.push(m.e$m.MESSAGE_READ)}return O.reduce(((e,t)=>(C[t]&&(e[t]=C[t]),e)),{})},isPeopleMessage:(e,t)=>{const{getMessagesSelectors:s,getRelevantMessageIdFromMessageGroupId:n,isPeopleSmartViewEnabled:r}=a;if(!r())return!1;const{getDecos:o}=s();return!!o(n(e,t)).find((({id:e})=>e===m.B_Z[m.K8C.PEOPLE]))},isPeopleSmartViewEnabled(){const{isFeatureEnabled:e}=a,{SMARTVIEW_CATEGORIES_ALL:t,SMARTVIEW_CATEGORIES_PEOPLE:s,SMARTVIEW_CATEGORIES_PEOPLE_V2:n}=m.ANe;return e(t)||e(s)||e(n)},isMessageReadAdRotationActive:()=>{const{getFeaturesSelectors:e,getStreamItemInFocus:t,getEnvironmentSelectors:s,getRoute:n,doesStreamExist:r,getCursorItem:o}=a,{isEnabled:i,getSetting:l}=e(),c=s().isAppVisible(),d=i(m.ANe.MESSAGE_READ_AD_ROTATION),E=i(m.ANe.HIDE_RIGHT_RAIL),_=l(m.Zrf.PREVIEW_PANE)!==m.EsZ.NO,u=n(),S=(0,R.LY)(u),p=t(),C=!(!p||!p.listId)&&(0,R.WN)(p.listId)===m.F6k.MESSAGE;let A=u.name===m.n8z.MESSAGE_FROM_SEARCH_LIST||u.name===m.n8z.MESSAGE_FROM_FOLDER_LIST;if(_){const e=(0,L.BA)([S]);A=!!(r(e)?o(e):null)}return d&&!E&&c&&A&&C},isComposeFocused:()=>{const{getStreamItemInFocus:e,getRouteName:t}=a,s=e()||{},{folderType:n,listId:r}=s,o=t();return o===m.n8z.NEW_DRAFT||o===m.n8z.EDIT_DRAFT||n===m.Sck.DRAFT||r&&(0,R.WN)(r)===m.F6k.COMPOSE},getVideoChannelsMetaData(){const{getVideoPlayerSelectors:e}=a;return e().getChannelMetaData()},getAutotagSuggestions(e){const t=a.getComposeSessionsSelectors().getLastAutotagQuery(e);return a.getComposeSuggestions(t).slice(0,3)},couldShowEmptyFolderVideo(){const{getRoute:e,getMainStreamListIds:t,listExistsAndIsEmpty:s}=a,n=e();return!t(n).some((e=>!((0,R.WN)(e)===m.F6k.MESSAGES&&s(e)&&(n.name===m.n8z.FOLDER||(0,R.yE)(e)&&!(0,M.D3)(e)&&n.name!==m.n8z.MESSAGE_FROM_SEARCH_LIST)&&!(0,R.SH)(n)&&!(0,M.U6)(e)&&(0,R.aY)(e)!==m.qd8.SUBSCRIPTIONS)))},getCurrentFolderDetails(){const{getAccountSelectors:e,getFoldersSelectors:t,getRoute:s,getSmartViewTypeFromListId:n,couldShowEmptyFolderVideo:r}=a,{getAccountById:o,getSelectedAccountId:i}=e(),{getFolderName:l,isSystemFolder:c,doesFolderIdExist:d}=t(),E=s(),_=(0,R.LY)(E),u=(0,R.GG)(_),m=(0,R.Fh)(_),S=d(m),p=!S||c(m),C=S?l(m):"",A=o(i()),T=(0,j.hE)(A);let h="";return h=!C&&u?n(_).toLowerCase():"string"==typeof C?C.split("/").pop():C,{listId:_,isSystemFolder:p,formattedFolderName:h,isAccountSyncing:T,isEmptyFolderUpsellEligible:r()}},listExistsAndIsEmpty(e){const{doesListExist:t,isListEmpty:s,doesListHasMoreItems:n}=a;return t(e)&&s(e)&&!n(e)},hasMatchingDomainInMessageGroup:e=>{const{getGroupId:t,getSenderEmailIdsFromMessageGroup:s}=a;return s([t()]).some((t=>!!e[(0,C.getRootDomainFromEmailAddress)(t)]))},hasBlockedDomain:()=>{const{isFeatureEnabled:e,getListsSelectors:t}=a,s=e(m.ANe.BLOCKED_DOMAINS),{doesListExist:n,getListStatus:r,getItemIds:o}=t(),i=(0,R._o)();let l=!1;return(n(i)?r(i):m.DAQ.LOADING)===m.DAQ.LOADED&&(l=!!o(i).find((({enable:e})=>!!e))),s&&!!l},getActionableRightRailPane:()=>{const{getSetting:e,isFeatureEnabled:t}=a,s=e(m.Zrf.ACTIONABLE_RIGHT_RAIL_CONTENT);switch(s&&s.currentView){case m.Qk$.CONTACTS_PANE:return t(m.ANe.CONTACTS_PANE_FEATURE)?m._Ab.ContactsPane:null;case m.Qk$.MEMBERSHIP_REWARDS:return m._Ab.MembershipRewards;case m.Qk$.CALENDAR_PANE:return m._Ab.CalendarPane;default:return null}},getContextualRightRailPanes:()=>{const{doesListExist:e,doesMessageGroupIdExist:t,isFeatureEnabled:s,isAttachmentRoute:n,isGroceriesOffersRoute:r,getContactListSelectors:o,getCurrentListId:i,getMessagesSelectors:l,getMessageIdsFromMessageGroupId:c,getGroupId:d,getSmartViewTypeFromRoute:E,getSubjectAndSnippetSelectors:_,getRoute:u,isRRUpsellVideoAdTimestampValid:S,getPlaAdsSelectors:p}=a,C=S(),A=u(),T=d(),h=i(),{getSubject:g}=_();let I,O=[];const D=s(m.ANe.PLA_SEARCH_ADS)&&p().getPlaAdDataForCurrentRoute().ads.length>0;T&&t(T)&&(O=c(T));const{doesMessageIdExist:N,getFromAddresses:f}=l();let M=!1;if(O.length>0&&N(O[0])){var L;const e=null===(L=f(O[0])[0])||void 0===L?void 0:L.email,{getContactByEmail:t}=o(),s=t(e);M=null==s?void 0:s.isBusiness;const a=g(O[0],h);I=/^Fw:.*$/.test(a)}let P=!1;if(e(h)){const e=(0,R.DF)(h),{getContactByEmail:t}=o(),a=e&&t(e);P=!(null!=a&&a.isBusiness&&s(m.ANe.SHOW_SEARCH_CONTACT_CARD))}const y=s(m.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT);if(n())return[m._Ab.AttachmentUi];if(r()&&!y)return[m._Ab.RightPaneGroceriesList];if(s(m.ANe.DEALS_RECOMMEND_CONTROL_CUE))return[m._Ab.DealsRecommendControl];if(s(m.ANe.HIDE_RIGHT_RAIL))return[];const b=[];if(A.name!==m.n8z.LIST||(0,R.aY)((0,R.LY)(A))!==m.qd8.SUBSCRIPTIONS||y||b.push(m._Ab.SubscriptionCard),!(b.indexOf(m._Ab.SubscriptionCard)<0)||C&&A.name!==m.n8z.SEARCH||!s(m.ANe.RIGHT_RAIL_CONTACT_CARD)&&!s(m.ANe.MESSAGE_READ_CONTACT_CARD)||s(m.ANe.SHOW_MERCHANT_CARD)&&M&&!I||!P||b.push(m._Ab.ContactCard),s(m.ANe.RIGHT_RAIL_MESSAGES_CARD)&&b.push(m._Ab.MessageBrief),s(m.ANe.RIGHT_RAIL_PHOTO_CARD)&&(0,R.WN)(h)===m.F6k.IMAGES&&b.push(m._Ab.PhotoBrief),s(m.ANe.RIGHT_RAIL_DOCS_CARD)&&(0,R.WN)(h)===m.F6k.DOCUMENTS&&b.push(m._Ab.DocumentBrief),y||(s(m.ANe.DEALS)&&E(A)===m.K8C.COUPONS&&(b.push(m._Ab.SavedDeals),b.push(m._Ab.RetailerFilter)),s(m.ANe.DEALS_VIEW_FOR_INTLS)&&E(A)===m.K8C.COUPON_EMAILS&&b.push(m._Ab.SavedDeals)),!C){s(m.ANe.RIGHT_RAIL_NATIVE_AD)&&b.push(m._Ab.RightRailNativeAd),s(m.ANe.RELATED_SEARCHES_CARD)&&b.push(m._Ab.RelatedSearchesCard),s(m.ANe.BOOKING_CARD)&&!y&&b.push(m._Ab.TravelCardsGroup),D&&b.push(m._Ab.PlaAds),s(m.ANe.SUBHUB_RECOMMENDATIONS)&&b.push(m._Ab.SubhubRecommendations);s(m.ANe.ADS)&&!n()&&!s(m.ANe.RIGHT_RAIL_NATIVE_AD)&&!s(m.ANe.HIDE_RIGHT_RAIL)&&!(s(m.ANe.RIGHT_RAIL_PHOTO_CARD)&&(0,R.WN)(h)===m.F6k.IMAGES)&&!(s(m.ANe.RIGHT_RAIL_DOCS_CARD)&&(0,R.WN)(h)===m.F6k.DOCUMENTS)&&!D&&!s(m.ANe.SUBHUB_RECOMMENDATIONS)&&(E(A)!==m.K8C.COUPONS||y)&&b.push(m._Ab.RightPaneAds)}return b},getRightRailPanes:()=>{const{getActionableRightRailPane:e,getContextualRightRailPanes:t}=a,s=e();return s?[s]:t()},getPendingUpdate:()=>t.pendingUpdate(e).getPendingUpdate(),getDealsViewSelectors:()=>t.dealsView(e),getAccountIdsByFolderId:e=>{const{doesFolderIdExist:t}=a;return e&&t(e)?le("getAccountIdsByFolderId",(()=>e),[e=>e.getFoldersSelectors()],(()=>{const t=a.getFoldersSelectors().getAccountIdByFolderId(e);return t?[t]:[""]}))(a):[]},getAccountIdsOfSelectedItems:(e,t)=>{const{doesStreamExist:s,getSelectedStreamItems:n,getAccountIdFromMessageGroupId:r}=a,i=[];if(!s(e))return i;return n(e).map((({id:e})=>e)).reduce(((e,s)=>(e.push(r(s,t)),e)),i),o()(i)},getSelectedItems:e=>le("getSelectedItems",(()=>e),[e=>e.getStreamsSelectors()],(()=>{const{doesStreamExist:t,getSelectedStreamItems:s}=a;if(!t(e))return{};return s(e).reduce(((e,{id:t})=>({...e,[t]:!0})),{})}))(a),getListItems:e=>{const{doesListExist:t}=a;return t(e)?le("getListItems",(()=>e),[e=>e.getListsSelectors()],(()=>{const{getListItemIds:t,__patchV2MessageGroupItemId__:s,__patchV2AttachmentId__:n}=a,r=(0,R.WN)(e);return t(e).map((t=>{switch(r){case m.F6k.MESSAGES:return s(t,e);case m.F6k.DOCUMENTS:case m.F6k.IMAGES:return n(t,e)}})).filter((e=>!e.messages||e.messages.length>0))}))(a):[]},getMessageGroupRoutes:e=>{const{doesListExist:t}=a;return t(e)?le("getMessageGroupRoutes",(()=>e),[e=>e.getListsSelectors(),e=>e.isFeatureEnabled(m.ANe.CONVERSATIONS)],(()=>{const{isFeatureEnabled:t,getListItems:s}=a,n=t(m.ANe.CONVERSATIONS),r=(0,R.WN)(e),o=s(e),i={};return o.forEach((t=>{const s=(0,f.xj)({item:t,listId:e,isConversationMode:n});s&&(r===m.F6k.MESSAGES?i[t.id]=s:i[t.attachment.id]=s)})),i}))(a):{}},getAllDraftsInRoute(e){const{isDraftMessage:t,isFeatureEnabled:s,doesRouteContainDraft:n,doesMessageGroupIdExist:r,getMessageGroupStreamItems:o}=a,i=s(m.ANe.CONVERSATIONS);if(ae(e)||se(e))return[e.params.csid];if(i&&re(e)&&n(e)){const{params:{groupId:s}}=e,a=(0,R.LY)(e);if(s&&r(s,a))return o({id:s,listId:a}).filter((({messageId:e})=>t(e))).map((({csid:e})=>e))}return[]},doesRouteContainDraft(e){const{getSetting:t,doesMessageGroupIdExist:s,getMainStreamListIds:n,doesStreamExist:r,getCursorItem:o,isDraftGroup:i}=a,l=t(m.Zrf.PREVIEW_PANE)===m.EsZ.NO;if(ae(e)||se(e))return!0;if(l){if(re(e)){const t=e.params.groupId;if(s(t)&&i(t))return!0}}else{const t=n(e),a=(0,L.BA)(t);if(a&&r(a)){const e=o(a);if(e&&e.id){const t=e.id;if(s(t)&&i(t))return!0}}}return!1},doesCurrentRouteContainDraft(){const{getRoute:e,doesRouteContainDraft:t}=a;return t(e())},getFormattedTopRetailers:()=>{const{getContactListSelectors:e,getDealsViewSelectors:t}=a,s=t().getTopRetailers()||[],{getContactByEmail:n}=e(),r={};return s.map((({email:e,nameFromEmail:t})=>{const s=n(e);return{email:e,name:s?s.name:t}})).filter((({name:e})=>!r[e]&&(r[e]=!0))).sort(((e,t)=>e.name.toLowerCase()===t.name.toLowerCase()?0:e.name.toLowerCase()<t.name.toLowerCase()?-1:1))},canDisplayBlockSenderMenuItemForMessageId:t=>{const{getFeaturesSelectors:s,getFoldersSelectors:a,getMessageFolderId:n,getMessagesSelectors:r,getParticipant:o,getAccountSelectors:i}=de(e);if(!s().isEnabled(m.ANe.BLOCK_SENDERS))return!1;const l=o(t);return!(!l||!(0,C.isValidEmail)(l.email)||r().isOfficialDomain(t)||a().getFolderTypes(n(t)).indexOf(m.Sck.SENT)>-1)&&-1===i().getMyAddresses().indexOf(l.email)},isRRUpsellVideoAdTimestampValid(){const{isFeatureEnabled:e,getSetting:t}=a,s=e(m.ANe.RIGHT_RAIL_UPSELL_VIDEO_AD),n=60*t(m.Zrf.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION)*1e3;if(s&&(0,C.isLocalStorageAvailable)()){const e=window.localStorage.getItem("rrUpsellVideoAdTimestamp");return e&&Date.now()-e<n}},getDEAUsageAndLimit:()=>{const{isFeatureEnabled:e,getAccountSelectors:t}=a,s=e(m.ANe.MAIL_PLUS_FREE_TRIAL),n=e(m.ANe.PREMIUM_DEA_ALLOWED),r=e(m.ANe.PREMIUM_DEA),o=e(m.ANe.MAIL_PLUS),i=r&&!(n||o||s)?m.hyX:m.iHz;return{usage:t().getDisposableEmailAccounts(!1).length,limit:i}},getBlockedDomainsUsageAndLimit:()=>{const{isFeatureEnabled:e,getListsSelectors:t}=a,{doesListExist:s,getListStatus:n,getTotalHits:r}=t(),o=e(m.ANe.MAIL_PLUS_FREE_TRIAL),i=e(m.ANe.MAIL_PLUS),l=(0,R._o)();return{usage:s(l)&&n(l)===m.DAQ.LOADED?r(l):0,limit:i||e(m.ANe.MAIL_PLUS_MOBILE_APPS)||o?m.cab.mailPlusBlockedDomains:m.cab.freeUserBlockedDomains}},getAllowedFolderNamesForMessageFilters:()=>{const{getFoldersSelectors:e,getFolderFullName:t,getPrimaryAccountId:s}=a,{getCustomFolderList:n,getSystemFolderList:r}=e(),o=s();return[...r(o),...n(o)].filter((({type:e})=>-1===[m.Sck.DRAFT,m.Sck.SENT,m.Sck.BULK].indexOf(e))).map((({id:e})=>t(e)))},shouldNavigateSearchFromToAll:e=>{const{isListEmpty:t,doesListExist:s}=a,n=(0,R.LY)(e);return n&&s(n)&&!(0,R.aY)(n)&&(0,R.C4)(n)===m.ukn.FROM&&t(n)},isAdvancedSearchPaneOpen:()=>t.advancedSearchPane(e).isAdvancedSearchPaneOpen(),getRecentlyUsedStateSelectors:()=>t.recentlyUsedState(e),pageMarkerScrollPosition:()=>t.scrollToSearch(e).pageMarkerScrollPosition(),getRightRailWidth:()=>{const{isFeatureEnabled:e,getRightRailPanes:t,isNarrowScreen:s}=a,n=t(),r=e(m.ANe.HIDE_RIGHT_RAIL),o=m.t0h.some((e=>n.includes(e))),i=!n.length||r,l=s();return i?O.a1j:o?O.mzh:l?O.Tgy:O.mzh}};return a}))},33612:(e,t,s)=>{"use strict";s.d(t,{dX:()=>n,ZP:()=>r,wl:()=>o});var a=s(50566);const n=function(e){var t,s,a;return(null===(t=e.match(/inlineImage-.*:/))||void 0===t||null===(s=t[0])||void 0===s||null===(a=s.slice(0,-1))||void 0===a?void 0:a.replace("inlineImage-",""))||""},r=(e={},t)=>{switch(t.type){case a.INLINE_IMAGES_TO_ATTACHMENT:{const{msgId:s,attachments:a=[]}=t,n=e[s],r=a.reduce(((e,t)=>n&&n[t.id]?{...e,[t.id]:n[t.id]}:{...e,[t.id]:t}),{});return{...e,[s]:{...e[s],...r}}}case a.ATTACHMENT_ZOOMED:{const{id:s,newZoomLevel:a}=t,r=n(s);if(!r||!e[r]||!e[r][s])return e;const o=e[r][s];return{...e,[r]:{...e[r],[s]:{...o,previewerUiState:{...o.previewerUiState,zoomLevel:a}}}}}}return e},o=(e={})=>({getInlineImagesIdsByMessageId:t=>{const s=e[t]||[];return Object.values(s).sort(((e,t)=>parseInt(e.partId,10)<parseInt(t.partId,10)?-1:1)).map((({id:e})=>e))},getInlineImageByAttachmentId:t=>{const s=n(t),a=e[s];return a&&a[t]?a[t]:null}})},34970:(e,t,s)=>{"use strict";s.d(t,{Ij:()=>n,ZP:()=>r,wl:()=>o});var a=s(50566);let n;!function(e){e[e.INITIAL=0]="INITIAL",e[e.FIRST_PAGE_MARKER=1]="FIRST_PAGE_MARKER",e[e.SUBSEQUENT_PAGE_MARKER=2]="SUBSEQUENT_PAGE_MARKER"}(n||(n={}));const r=(e=n.INITIAL,t)=>{switch(t.type){case a.SCROLL_TO_SEARCH_PAGE_SCROLLED:switch(e){case n.INITIAL:return n.FIRST_PAGE_MARKER;case n.FIRST_PAGE_MARKER:return n.SUBSEQUENT_PAGE_MARKER;default:return e}case a.OPEN_PAGE_REQUESTED:return n.INITIAL;default:return e}},o=(e=n.INITIAL)=>({pageMarkerScrollPosition:()=>e})},83521:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n,w:()=>r});var a=s(50566);const n=(e={isFocused:!1},t)=>{const{type:s}=t;switch(s){case a.SEARCH_INPUT_FOCUSED:return{...e,isFocused:!0};case a.SEARCH_INPUT_BLURRED:return{...e,isFocused:!1};default:return e}},r=(e={})=>({isSearchInputFocused:()=>e.searchInput.isFocused||!1})},55895:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>yn,ww:()=>Pn,Zl:()=>fn});var a=s(14890),n=s(18446),r=s.n(n),o=s(37422),i=s(50566),l=s(95406);const c=(0,a.combineReducers)({amountUnit:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.amountUnit||e;default:return e}},brandName:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.brandName||e;default:return e}},categories:(e=[],t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.categories||e;default:return e}},description:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.description||e;default:return e}},discountType:(e=o.iNd.AMOUNT,t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.discountType||e;default:return e}},eligibleUnitText:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.eligibleUnitText||e;default:return e}},expiryTimestamp:(e=0,t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.expiryTimestamp||e;default:return e}},highResImgUrl:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.highResImgUrl||e;default:return e}},imageUrl:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.imageUrl||e;default:return e}},ingredients:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.ingredients||e;default:return e}},isSponsoredAd:(e=!1,t)=>{const{type:s,offer:{isSponsoredAd:a=!1}={}}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a;default:return e}},maxQuantity:(e=1,t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.maxQuantity||e;default:return e}},offerId:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.offerId;default:return e}},quantity:(e=1,t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:case i.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:return a.quantity||e;default:return e}},servingSize:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.servingSize||e;default:return e}},shortDescription:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.shortDescription||e;default:return e}},sourceOfferId:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.sourceOfferId||"";default:return e}},specialFeatures:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.specialFeatures||e;default:return e}},status:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.status||e;default:return e}},unitPriceDisplay:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.unitPriceDisplay||e;default:return e}},value:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:return a.value||e;default:return e}}});const d=function(e={},{type:t,offers:s}){switch(t){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:{const a=(s||[]).filter((t=>!r()(e[t.offerId],t)));return a.length?a.reduce(((e,s)=>({...e,[s.offerId]:c(e[s.id],{type:t,offer:s})})),{...e}):e}case i.ACTIVATE_OFFER_SUCCEEDED:{if(!s)return e;const a=s.reduce(((s,a)=>({...s,[a.offerId]:c(e[a.offerId],{type:t,offer:a})})),{});return Object.keys(a).length?{...e,...a}:e}case i.DELETE_GROCERY_ITEMS_SUCCEEDED:{if(null==s||!s.length)return e;const t=s.map((e=>e.offerId));return(0,l.oF)(e,t)}case i.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:{const a=(s||[]).filter((t=>{var s;return(null===(s=e[t.offerId])||void 0===s?void 0:s.quantity)!==t.quantity}));return a.length?a.reduce(((s,a)=>({...s,[a.offerId]:c(e[a.offerId],{type:t,offer:a})})),{...e}):e}default:return e}};var E=s(48755),_=s(99691),u=s(10728);const{Dispositions:m}=o.sSc;const S=function(e={},t){const{type:s,listData:a={},message:n}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.OPEN_PAGE_REQUESTED:case i.MESSAGE_SAVE_SUCCEEDED:{const t=n?n.attachments.reduce(((e,t)=>({...e,[t.id]:t})),{}):a.attachments;if(!t)return e;const s=function(e,t){return Object.keys(t).reduce(((s,a)=>{const n=t[a],r=e[a]||{};return(e[a]||{}).contentId&&e[a].disposition===n.disposition||(s[a]=n),r.disposition&&r.disposition!==n.disposition&&(s[a]={...r,disposition:n.disposition}),s}),{})}(e,t);return Object.keys(s).length?{...e,...s}:e}case i.V3_MESSAGE_SAVE_FAILED:{const{newContentIds:s=[]}=t;if(!s.length)return e;const a=s.map((e=>({contentId:e})));return{...e,...a}}case i.ATTACHMENT_ZOOMED:{const{id:s,newZoomLevel:a}=t,n=e[s];return n?{...e,[s]:{...n,previewerUiState:{...n.previewerUiState,zoomLevel:a}}}:e}default:return e}};var p=s(33612);const C=(0,a.combineReducers)({startTime:(e=0,t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.startTime)||e;default:return e}},endTime:(e=0,t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.endTime)||e;default:return e}},location:(e="",t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.location)||e;default:return e}},summary:(e="",t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.summary)||e;default:return e}},state:(e="",t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.state)||e;default:return e}},firstAttendeeStatus:(e=[],t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.firstAttendeeStatus)||e;default:return e}},organizerEmail:(e=[],t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.organizerEmail)||e;default:return e}},isSameDay:(e=!1,t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.isSameDay)||e;default:return e}},attendees:(e=[],t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.attendees)||e;default:return e}},videoLink:(e="",t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.videoLink)||e;default:return e}},firstAttendeeEmail:(e=null,t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.firstAttendeeEmail)||e;default:return e}},response:(e="",t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.response)||e;case i.RESPOND_TO_INVITE_SUCCEEDED:case i.RESPOND_TO_INVITE_FAILED:return t.response;default:return e}},messageId:(e="",t)=>{switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return t.currentMessageId||e;default:return e}},status:(e=null,t)=>{switch(t.type){case i.INVITEINFO_FETCH_FAILED:return"ERROR";case i.GET_INVITE_INFO_REQUESTED:return"LOADING";case i.INVITEINFO_FETCH_SUCCEEDED:return"READY";default:return e}},uid:(e="",t)=>{switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:var s,a;return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.uid)||e;default:return e}},email:(e="",t)=>{var s,a;switch(t.type){case i.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.email)||e;default:return e}}}),A=(e={},t)=>{switch(t.type){case i.GET_INVITE_INFO_REQUESTED:case i.RESPOND_TO_INVITE:case i.RESPOND_TO_INVITE_SUCCEEDED:case i.RESPOND_TO_INVITE_FAILED:return{...e,[t.messageId]:C(e[t.messageId],t)};case i.INVITEINFO_FETCH_SUCCEEDED:case i.INVITEINFO_FETCH_FAILED:{const{messageIds:s}=t;let a={};return(s||[]).forEach((s=>{a={...a,[s]:C(e[s],{...t,currentMessageId:s})}})),{...e,...a}}default:return e}},T=(e=[],t)=>{const{type:s,cardGroup:a=[]}=t;switch(s){case i.POST_LAUNCH_SYNC_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.EXTRACT_COUPON_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return r()(a,e)?e:a;default:return e}};const h=function(e={},t){const{type:s,listData:a={}}=t;switch(s){case i.POST_LAUNCH_SYNC_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.EXTRACT_COUPON_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:{const{groupIdToMessageIdsMap:t}=a;if(!t)return e;const n=Object.keys(t).filter((s=>!r()(t[s],e[s]))).reduce(((a,n)=>({...a,[n]:T(e[n],{type:s,cardGroup:t[n]})})),{});return Object.keys(n).length?{...e,...n}:e}default:return e}},g=(e=[],t)=>{const{cards:s,type:a}=t;switch(a){case i.MORE_COUPONS_SUCCESS:case i.MORE_RECEIPTS_SUCCESS:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.COUPONS_LIST_SUCCEEDED:case i.EXTRACT_COUPON_SUCCEEDED:case i.RECEIPTS_LIST_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.INITIAL_STATE:case i.POST_LAUNCH_SYNC_SUCCEEDED:case i.ASTRA_BATCH_API_SUCCEEDED:return r()(s,e)?e:s;default:return e}};const I=function(e={},t){const{listData:s={},type:a}=t;switch(a){case i.MORE_COUPONS_SUCCESS:case i.MORE_RECEIPTS_SUCCESS:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.COUPONS_LIST_SUCCEEDED:case i.EXTRACT_COUPON_SUCCEEDED:case i.RECEIPTS_LIST_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.INITIAL_STATE:case i.POST_LAUNCH_SYNC_SUCCEEDED:case i.ASTRA_BATCH_API_SUCCEEDED:{if(!s.messageIdToSchemaIdsMap)return e;const t=Object.keys(s.messageIdToSchemaIdsMap).filter((t=>!r()(e[t],s.messageIdToSchemaIdsMap[t]))).reduce(((t,n)=>({...t,[n]:g(e[n],{type:a,cards:s.messageIdToSchemaIdsMap[n]})})),{});return Object.keys(t).length?{...e,...t}:e}default:return e}};var R=s(64063),O=s.n(R);const D=(0,a.combineReducers)({name:(e="",t)=>{const{type:s,category:a}=t;switch(s){case i.MESSAGE_BODIES_RECEIVED:case i.ASTRA_BATCH_API_SUCCEEDED:return a.name||"";default:return e}},following:(e=!1,t)=>{const{type:s}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:case i.CATEGORY_FOLLOW_SUCCEEDED:return!0;case i.CATEGORY_UNFOLLOW_SUCCEEDED:return!1;default:return e}},error:(e="",t)=>{const{type:s}=t;switch(s){case i.CATEGORY_FOLLOW_FAILED:case i.CATEGORY_UNFOLLOW_FAILED:return t.error;case i.CATEGORY_FOLLOW_FAILURE_RESET:return"";default:return e}}});const N=(0,a.combineReducers)({categories:function(e={},t){const{listData:s={},followedCategoryList:a=[],error:n="",type:r,response:c}=t;switch(r){case i.MESSAGE_BODIES_RECEIVED:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter((t=>s.schemaCards[t].type===o.rgK.Coupon&&!O()(e[t],(0,l.oF)(s.schemaCards[t],["id","type"]))&&s.schemaCards[t].couponCategories)).map((e=>s.schemaCards[e].couponCategories)).reduce(((e,t)=>e.concat(t)),[]).reduce(((t,s)=>({...t,[s.id]:D(e[s.id],{type:r,category:s})})),{});return Object.keys(t).length?{...e,...t}:e}case i.ASTRA_BATCH_API_SUCCEEDED:{var d;const t=null==c||null===(d=c[o.G1D.CATEGORY_FOLLOWING_LIST])||void 0===d?void 0:d.followedCategoryList,s=null==t?void 0:t.reduce(((t,s)=>({...t,[s.id]:D(e[s.id],{type:r,category:s})})),{});return(0,l.xb)(s)?e:{...e,...s}}case i.CATEGORY_FOLLOW_SUCCEEDED:case i.CATEGORY_UNFOLLOW_SUCCEEDED:{const t=a.reduce(((t,s)=>({...t,[s.id]:D(e[s.id],{type:r,category:s})})),{});return Object.keys(t).length?{...e,...t}:e}case i.CATEGORY_FOLLOW_FAILED:case i.CATEGORY_UNFOLLOW_FAILED:{const t=a.reduce(((t,s)=>({...t,[s.id]:D(e[s.id],{type:r,category:s,error:n})})),{});return Object.keys(t).length?{...e,...t}:e}case i.CATEGORY_FOLLOW_FAILURE_RESET:{const t=Object.keys(e).filter((t=>e[t].error)).map((t=>({...e[t],id:t}))).reduce(((t,s)=>({...t,[s.id]:D(e[s.id],{type:r,category:s})})),{});return Object.keys(t).length?{...e,...t}:e}default:return e}},isCategoryListLoaded:function(e=!1,t){switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return!0}return e},spiceToGptMapping:function(e={},t){switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:var s,a;return((null===(s=t.response)||void 0===s||null===(a=s[o.G1D.SPICE_TO_GPT])||void 0===a?void 0:a.mapping)||[]).reduce(((e,t)=>({...e,...t})),{})}return e}}),f=(0,a.combineReducers)({composeAttributesStatus:(e=o.DAQ.LOADING,t)=>{const{route:s}=t;switch(t.type){case i.LAUNCH_COMPLETED:return s.name===o.n8z.NEW_DRAFT||s.name===o.n8z.EDIT_DRAFT?o.DAQ.LOADED:e;case i.COMPOSE_ATTRIBUTES_RECEIVED:case i.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return o.DAQ.LOADED;case i.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case i.COMPOSE_ATTRIBUTES_FETCH_FAILED:return o.DAQ.ERROR;default:return e}}});var M=s(63352),L=s(4119),P=s(57557),y=s.n(P),b=s(7320);const F=(0,a.combineReducers)({mailToLink:(e=null,t)=>{switch(t.type){case i.OPEN_COMPACT_COMPOSE:case i.OPEN_PAGE_REQUESTED:{const{mailtoAttr:s}=t;return s||e}}return e},stationeryTheme:(e=b.NO_STATIONERY,t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case i.OPEN_COMPACT_COMPOSE:case i.OPEN_PAGE_REQUESTED:if(t.stationeryTheme)return t.stationeryTheme}return a.stationeryTheme||e},composeUndoStack:(e=[],t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case i.V3_MESSAGE_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return[]}return a.undoStack||e},composeRedoStack:(e=[],t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case i.V3_MESSAGE_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return[]}return a.redoStack||e},composeUiState:(e=null,t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case i.QUOTED_TEXT_EXPANDED:return Object.assign({},e,{isQuotedTextExpanded:!0})}return a.uiState||e},lastAutotagQuery:(e="",t)=>{switch(t.type){case i.CONTACT_SUGGESTIONS_REQUESTED:return t.query}return e},attachmentProgress:(e={},t)=>{switch(t.type){case i.UPLOAD_PROGRESS_RECEIVED:{const s={...e};return t.newFileContentIds.forEach((e=>s[e]=t.percent)),s}}return e},sendStatus:(e=null,t)=>{switch(t.type){case i.V3_MESSAGE_SEND_REQUESTED:return e!==L.fq.SENT?L.fq.SENDING:e;case i.V3_MESSAGE_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return L.fq.SENT;case i.V3_MESSAGE_SAVE_FAILED:return t.error&&"ES-2001"===t.error.errorCode?L.fq.SENT:e;case i.V3_MESSAGE_SEND_FAILED:return t.error&&"ES-2001"===t.error.errorCode?L.fq.SENT:L.fq.SEND_FAILED}return e},doComposeFromRouteQueryParams:(e=!1,t)=>{switch(t.type){case i.INITIAL_STATE:return!!t.mrdParams;case i.OPEN_PAGE_REQUESTED:return!1}return e},forwardCreativeId:(e=null,t)=>{switch(t.type){case i.OPEN_COMPACT_COMPOSE:case i.OPEN_PAGE_REQUESTED:return t.forwardCreativeId||null}return e},forwardAttachmentIds:(e=[],t)=>{switch(t.type){case i.OPEN_COMPACT_COMPOSE:case i.OPEN_PAGE_REQUESTED:case i.FORWARD_ATTACHMENTS:return t.attachments?[...e,...t.attachments.map((({id:e})=>({id:e,timestamp:Date.now()})))]:e;case i.CLEAR_FORWARDED_ATTACHMENT_IDS:return[]}return e},inReplyToMessageId:(e=null,t)=>{switch(t.type){case i.INITIAL_STATE:case i.UNDO_MOVE_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.GIF_FETCH_SUCCEEDED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{inReplyTo:e={}}=t,{messageReference:s={}}=e;return e.replied&&s.id?s.id:null}case i.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inReplyToMessageId||null;case i.OPEN_PAGE_REQUESTED:case i.EDIT_COMPACT_COMPOSE_SUBJECT:return t.isReplyingMessageSubjectEdited?null:e}return e},inReplyAllToMessageId:(e=null,t)=>{switch(t.type){case i.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inReplyAllToMessageId||null;case i.OPEN_PAGE_REQUESTED:case i.EDIT_COMPACT_COMPOSE_SUBJECT:return t.isReplyingMessageSubjectEdited?null:e}return e},inForwardToMessageId:(e=null,t)=>{switch(t.type){case i.INITIAL_STATE:case i.UNDO_MOVE_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.GIF_FETCH_SUCCEEDED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{inReplyTo:e={}}=t,{messageReference:s={}}=e;return e.forwarded&&s.id?s.id:null}case i.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inForwardToMessageId||null;case i.OPEN_PAGE_REQUESTED:case i.EDIT_COMPACT_COMPOSE_SUBJECT:return t.isReplyingMessageSubjectEdited?null:e}return e},selectedReplySuggestion:(e=null,t)=>{switch(t.type){case i.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const{selectedReplySuggestion:e}=t;return e||null}}return e},draftMessageId:(e=null,t)=>{switch(t.type){case i.INITIAL_STATE:case i.UNDO_MOVE_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.GIF_FETCH_SUCCEEDED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:return t.draftMessageId||null;case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return t.message.id;case i.OPEN_PAGE_REQUESTED:case i.EDIT_COMPACT_COMPOSE_SUBJECT:return t.isReplyingMessageSubjectEdited?null:e}return e},fatalErrorCount:(e=0,t)=>{switch(t.type){case i.MESSAGE_SAVE_FAILED:case i.V3_MESSAGE_SAVE_FAILED:case i.MESSAGE_AUTO_SAVE_FAILED:return t.error&&/^(E(S|C|T|P)-|EMPTY_RESPONSE)/.test(t.error.errorCode)?e+1:e;case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return 0}return e},lastSaveTimeStamp:(e=0,t)=>{switch(t.type){case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return t.lastEditedTimeStamp||t.actionTimestamp}return e},lastOpenTimeStamp:(e=0,t)=>{switch(t.type){case i.OPEN_PAGE_REQUESTED:return t.actionTimestamp||e}return e},isAutotagDisabled:(e=!1)=>e,isRelatedContactsDismissed:(e=!1,t)=>{switch(t.type){case i.RELATED_CONTACTS_CLOSED:return!0}return e},composeParams:(e=null,t)=>{switch(t.type){case i.OPEN_PAGE_REQUESTED:case i.OPEN_COMPACT_COMPOSE:{const{composeParams:s={}}=t;if(Object.keys(s).length>0)return{...e,...s};break}case i.ADD_COMPOSE_HEADER:{const{composeParams:s}=t;if(s&&(s.to||s.cc||s.bcc))return{...e,...s};break}case i.DELETE_COMPOSE_HEADER:return null}return e},composeHeaderInputFocus:(e=L.vX.TO,t)=>{switch(t.type){case i.UPDATE_COMPOSE_HEADER_FOCUS:{const{inputFocus:e}=t;return e}case i.OPEN_PAGE_REQUESTED:case i.EDIT_COMPACT_COMPOSE_SUBJECT:return t.isReplyingMessageSubjectEdited?L.vX.SUBJECT:e;case i.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const{inForwardToMessageId:e}=t;return e?L.vX.TO:L.vX.EDITOR}case i.V3_MESSAGE_SEND_FAILED:return L.vX.EDITOR}return e}}),U=(e={},t)=>{switch(t.type){case i.MESSAGE_SAVE_FAILED:case i.MESSAGE_AUTO_SAVE_FAILED:case i.V3_MESSAGE_SAVE_REQUESTED:case i.V3_MESSAGE_SAVE_FAILED:case i.V3_MESSAGE_SEND_REQUESTED:case i.V3_MESSAGE_SEND_FAILED:case i.V3_MESSAGE_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.QUOTED_TEXT_EXPANDED:case i.UPLOAD_PROGRESS_RECEIVED:case i.ADD_COMPOSE_HEADER:case i.DELETE_COMPOSE_HEADER:case i.UPDATE_COMPOSE_HEADER_FOCUS:case i.RELATED_CONTACTS_CLOSED:case i.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:if(t.csid)return{...e,[t.csid]:F(e[t.csid],t)};break;case i.AUTOTAG_DROPDOWN_CLOSED:return{...e,[t.csid]:{...e[t.csid],isAutotagDisabled:!0}};case i.SYNC_DATA:case i.OPEN_COMPACT_COMPOSE:case i.CLEAR_FORWARDED_ATTACHMENT_IDS:case i.ONLINE_STATUS_CHANGED:case i.APPLICATION_VISIBILITY_DID_CHANGE:case i.FORWARD_ATTACHMENTS:case i.OPEN_PAGE_REQUESTED:case i.EDIT_COMPACT_COMPOSE_SUBJECT:{const{unsyncedData:s=[]}=t,a=s.filter((e=>e.type===o.sKi.COMPOSE));if(a.length){const s=a.map((s=>({[s.id]:F(e[s.id],{type:t.type,attachments:t.csid===s.id?t.attachments:null,isReplyingMessageSubjectEdited:t.isReplyingMessageSubjectEdited,unsyncedDataItem:s})})));return{...e,...t.csid?{[t.csid]:F(e[t.csid],t)}:{},...Object.assign.apply({},s)}}if(t.csid)return{...e,[t.csid]:F(e[t.csid],t)};break}case i.INITIAL_STATE:case i.UNDO_MOVE_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.GIF_FETCH_SUCCEEDED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{mrdParams:s={},draftData:a={}}=t;if(s.csid)return{...e,[s.csid]:F(e[s.csid],t)};if(a.csid)return{...e,[a.csid]:F(e[a.csid],t)};if(t.listData&&t.listData.messages){const s=t.unsyncedData.filter((e=>e.type===o.sKi.COMPOSE)).map((e=>e.id)),a=(0,l.VO)(t.listData.messages||[]).filter((e=>-1===s.indexOf(e.csid))).map((s=>({[s.csid]:F(e[s.csid],{...t,draftMessageId:s.id,inReplyTo:s.inReplyTo})})));return a.length?{...e,...Object.assign.apply({},a)}:e}if(t.csid)return{...e,[t.csid]:F(e[t.csid],t)};break}case i.DELETE_ITEMS_REQUESTED:if(t.csid)return y()(e,t.csid);if(t.itemsToUpdate)return y()(e,t.itemsToUpdate.filter((e=>!e.destinationFolder&&e.isAffected)).map((({csid:e})=>e)).filter(Boolean));break;case i.CONTACT_SUGGESTIONS_REQUESTED:if(t.csid)return{...e,[t.csid]:F(e[t.csid],t)}}return e};const v=(0,a.combineReducers)({composeSuggestions:function(e={},t){switch(t.type){case i.CONTACT_SUGGESTIONS_SUCCEEDED:return{...e,[t.query]:t.contacts}}return e},composeSuggestionsFromImportantContacts:function(e={},t){switch(t.type){case i.CONTACT_SUGGESTIONS_REQUESTED:return{...e,[t.query]:t.contacts,...t.nextContacts};case i.OPEN_PAGE_REQUESTED:return{}}return e}});var w=s(93386),G=s.n(w),k=s(73498);const H={isEditable:!1,name:"",emails:[],emailType:{},phonesWithType:[],addressesWithType:[],aolCategory:o.Ygm.UNCATEGORIZED},B=(e=H,t)=>{switch(t.type){case i.CONTACT_PHOTO_UPLOAD_SUCCEEDED:return{...e,...t.contact,photoTimestamp:Date.now()};case i.FETCH_ALL_CONTACTS_SUCCESS:case i.CONTACT_DETAIL_FETCH_SUCCEEDED:case i.CREATE_CONTACT_SUCCEEDED:case i.CONTACT_SAVE_SUCCEEDED:case i.CONTACTS_LIST_FETCH_SUCCEEDED:return{...e,...t.contact};case i.CONTACTS_GROUP_FETCH_SUCCEEDED:{const{contact:s}=t;return{...e,...s,emails:G()(e.emails,s.emails)}}case i.CONTACT_SUGGESTIONS_SUCCEEDED:case i.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const{contact:s}=t;return{...e,name:s.name,emails:G()(e.emails,s.emails),id:s.xobniId}}case i.SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const{xobniId:s,...a}=t.contact;return{...a,aolCategory:e.aolCategory,isEditable:!0,id:s}}default:return e}};var x=s(94654),V=s.n(x);var W=s(87611);const Z=e=>e.type===o.UA.CONTACTS_LIST?e:{...e,type:o.UA.CONTACTS_LIST,id:null,lastSavedData:void 0,contact:null,uiContext:null};var K=s(61106);const z=(e={},t)=>{switch(t.type){case i.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case i.CONTACTS_GROUP_FETCH_SUCCEEDED:case i.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case i.CONTACTS_LIST_FETCH_SUCCEEDED:return{...e,...t.group};default:return e}};var q=s(31057);const Y=(e={},t)=>{switch(t.type){case i.CONTACT_DETAIL_FETCH_SUCCEEDED:{const{emails:s,contacts:a}=t,n={},r={...e};return null==a||a.forEach((e=>{var t;return null==e||null===(t=e.emails)||void 0===t?void 0:t.forEach((t=>{n[t]=e}))})),s.forEach((e=>{n[e]&&!n[e].xobniId&&(r[e]=n[e])})),r}}return e},j=(e=[],t)=>{switch(t.type){case i.DELETE_CONTACT_SUGGESTIONS_SUCCEEDED:return[...e,t.contactInfo]}return e},Q={snapshots:[],snapshotsStatus:o.DAQ.DOES_NOT_EXIST,restoreApiStatus:o.DxA.DOES_NOT_EXIST},X=(e=Q,t)=>{switch(t.type){case i.CONTACTS_SNAPSHOT_FETCH_SUCCEEDED:return{...e,snapshotsStatus:o.DAQ.LOADED,snapshots:t.snapshots};case i.CONTACTS_SNAPSHOT_FETCH_FAILED:return{...e,snapshotsStatus:o.DAQ.ERROR};case i.CONTACTS_RESTORE_CLICKED:return e.snapshotsStatus===o.DAQ.LOADED&&e.snapshots.length>0?{...e,restoreApiStatus:o.DxA.DOES_NOT_EXIST}:{...e,snapshotsStatus:o.DAQ.LOADING,restoreApiStatus:o.DxA.DOES_NOT_EXIST};case i.CONTACTS_RESTORE_REQUESTED:return{...e,restoreApiStatus:o.DxA.LOADING};case i.CONTACTS_RESTORE_SUCCEEDED:return"success"===t.status?{...e,restoreApiStatus:o.DxA.SUCCEEDED}:{...e,restoreApiStatus:o.DxA.FAILED};case i.CONTACTS_RESTORE_FAILED:return{...e,restoreApiStatus:o.DxA.FAILED};default:return e}},J=(0,a.combineReducers)({byId:(e={},t)=>{switch(t.type){case i.CONTACT_SUGGESTIONS_SUCCEEDED:{const{contacts:s=[],type:a}=t;return s.reduce(((t,s)=>({...t,[s.id]:B(e[s.id],{type:a,contact:{xobniId:s.id,name:s.name,emails:[s.email]}})})),{...e})}case i.CONTACTS_GROUP_FETCH_SUCCEEDED:{const{contacts:s=[]}=t;return s.reduce(((s,a)=>{const{type:n,value:r,...o}=a;return n===k.df.EMAIL&&(o.emails=[r]),{...s,[a.id]:B(e[a.id],{type:t.type,contact:o})}}),{...e})}case i.CONTACTS_LIST_FETCH_SUCCEEDED:{const s={...e},{contacts:a=[]}=t;return a.forEach((({contacts:a})=>{a.forEach((a=>{s[a.id]=B(e[a.id],{type:t.type,contact:a})}))})),s}case i.FETCH_ALL_CONTACTS_SUCCESS:{const s={...e};return t.contacts.forEach((a=>{s[a.id]=B(e[a.id],{type:t.type,contact:a})})),s}case i.SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const{listData:s={}}=t,a=Object.keys(s.people||{});if(!a.length)return e;const n={...e};return a.forEach((s=>{n[s]=B(e[s],{type:t.type,contact:t.listData.people[s]})})),n}case i.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const s={...e};return t.contacts.forEach((a=>{const{xobniId:n}=a;s[n]=B(e[n],{type:t.type,contact:a})})),s}case i.CREATE_CONTACT_SUCCEEDED:case i.CONTACT_PHOTO_UPLOAD_SUCCEEDED:case i.CONTACT_SAVE_SUCCEEDED:{const s={...e},{id:a,deletedContactId:n}=t.contact;return s[a]=B(e[a],{type:t.type,contact:n?(0,l.oF)(t.contact,["deletedContactId"]):t.contact}),n?(0,l.oF)(s,[n]):s}case i.DELETE_CONTACT_REQUESTED:return(0,l.oF)(e,t.itemsToUpdate.filter((({isAffected:e})=>e)).map((({id:e})=>e)));case i.CONTACT_DETAIL_FETCH_SUCCEEDED:{const s={...e};return t.contacts.filter((e=>e.xobniId)).forEach((a=>{s[a.xobniId]=B(e[a.xobniId],{type:t.type,contact:{...a,id:a.xobniId,isEditable:!0}})})),s}default:return e}},idByEmail:(e={},t)=>{switch(t.type){case i.SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const{listData:s={}}=t,{people:a}=s;return a?(e={...e},(0,l.VO)(a).forEach((({xobniId:t,id:s})=>{e[s]=t})),e):e}case i.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:return{...e,...t.contactEmailToId};case i.CREATE_CONTACT_SUCCEEDED:case i.CONTACT_SAVE_SUCCEEDED:{let s={...e};const{id:a,emails:n=[]}=t.contact,{changedEmails:r=[]}=t.itemsToUpdate[0];return r.length>0&&(s=(0,l.oF)(s,r)),n.forEach((e=>s[e]=a)),s}case i.CONTACTS_LIST_FETCH_SUCCEEDED:return V()(t.contacts||[],(e=>e.contacts)).reduce(((e,t)=>{const s={};return t.emails.forEach((e=>s[e]=t.id)),{...e,...s}}),{...e});case i.CONTACT_SUGGESTIONS_SUCCEEDED:{const{contacts:s=[]}=t;return s.reduce(((e,t)=>({...e,[t.email]:t.id})),{...e})}case i.CONTACTS_GROUP_FETCH_SUCCEEDED:{const{contacts:s=[]}=t;return s.reduce(((e,t)=>{const{id:s,type:a,value:n}=t;return a===k.df.EMAIL?{...e,[n]:s}:e}),{...e})}case i.DELETE_CONTACT_REQUESTED:return Object.keys(e).filter((s=>{const a=e[s];return t.itemsToUpdate.every((e=>e.id!==a))})).reduce(((t,s)=>(t[s]=e[s],t)),{});case i.CONTACT_DETAIL_FETCH_SUCCEEDED:{const s={...e},{contacts:a=[]}=t;return a.forEach((e=>{const{xobniId:t,emails:a}=e;t&&a.forEach((e=>s[e]=t))})),s}case i.FETCH_ALL_CONTACTS_SUCCESS:{const s={...e},{contacts:a=[]}=t;return a.forEach((e=>{const{id:t,emails:a}=e;a.forEach((e=>s[e]=t))})),s}default:return e}},selectedPaneFilter:(e=o.ukn.USER_CREATED_CONTACTS,t)=>{switch(t.type){case i.CONTACTS_PANE_LIST_FILTER_CHANGED:return t.listFilter;default:return e}},contactsPaneView:(e={},t)=>{const{type:s}=t;switch(s){case i.CONTACTS_PANE_CREATE_GROUP_FAILED:case i.CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED:return{...e,type:o.UA.CREATE_GROUP,id:t.tempGroupId,lastSavedData:{name:"",contacts:[]}};case i.CONTACTS_PANE_SAVE_GROUP_FAILED:case i.CONTACTS_PANE_EDIT_GROUP:{const{id:s,oldGroup:a}=t;return{...e,type:o.UA.EDIT_GROUP,id:s,lastSavedData:a}}case i.RIGHT_RAIL_COMMS_ICON_CLICKED:if(t.name===o.Qk$.CONTACTS_PANE)return Z(e);break;case i.OPEN_PAGE_REQUESTED:case i.PREVIEW_MESSAGE_REQUESTED:{const{uiContext:{mKey:s}={},route:{name:a}={}}=t;if(a===o.n8z.NEW_DRAFT)break;if(!s||-1===W.o.COMPOSE_FROM_CONTACTS_PANE.indexOf(s))return Z(e);break}case i.CONTACTS_PANE_BACK_BUTTON_CLICKED:case i.CONTACT_EDIT_CANCELLED:switch(e.type){case o.UA.EDIT_CONTACT:return-1!==W.o.EDIT_FORM.indexOf(e.uiContext)?{...e,type:o.UA.CONTACT_DETAILS}:Z(e);case o.UA.CREATE_GROUP:case o.UA.EDIT_GROUP:case o.UA.CONTACT_DETAILS:case o.UA.CREATE_CONTACT:return Z(e)}break;case i.CONTACTS_PANE_EDIT_BUTTON_CLICKED:switch(e.type){case o.UA.CONTACT_DETAILS:return{...e,type:o.UA.EDIT_CONTACT,uiContext:W.o.EDIT_FORM[1]}}break;case i.EDIT_CONTACT_FROM_CARD:return{...e,type:o.UA.EDIT_CONTACT,id:t.id,contact:null,uiContext:W.o.EDIT_FORM[0]};case i.ADD_TO_CONTACTS:return t.id?{...e,type:o.UA.EDIT_CONTACT,contact:null,id:t.id,uiContext:null}:{...e,type:o.UA.CREATE_CONTACT,contact:{isEditable:!1,name:"",firstName:"",middleName:"",lastName:"",emailsWithType:[{value:t.email,type:"email"}],phonesWithType:[],addressesWithType:[],aolCategory:o.Ygm.UNCATEGORIZED},id:null};case i.CONTACT_CREATE_CLICKED:return{...e,type:o.UA.CREATE_CONTACT,id:null,contact:null};case i.CONTACTS_PANE_CONTACT_CLICKED:return{...e,type:o.UA.CONTACT_DETAILS,id:t.id,contact:null};case i.DELETE_CONTACT_REQUESTED:case i.CONTACT_SAVE_REQUESTED:case i.CONTACTS_GROUP_DELETE_REQUESTED:case i.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case i.CONTACTS_PANE_CREATE_GROUP_REQUESTED:return Z(e)}return e},selectedUserGroup:(e={[o.ukn.GROUPS]:null,[K.Ir]:o.c8t},t)=>{switch(t.type){case i.CONTACTS_PANE_GROUP_CHANGED:return{...e,[o.ukn.GROUPS]:t.value};case i.CONTACTS_LIST_FETCH_SUCCEEDED:{const{groupIds:s=[]}=t;if(null===e[o.ukn.GROUPS]&&s.length)return{...e,[o.ukn.GROUPS]:s[0]};break}case i.CONTACTS_GROUP_DELETE_REQUESTED:return{...e,[o.ukn.GROUPS]:t.newGroupId};case i.CONTACTS_PANE_CREATE_GROUP_REQUESTED:{const{tempGroupId:s}=t;return{...e,[o.ukn.GROUPS]:s}}case i.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const{tempGroupId:s,id:a}=t;if(e[o.ukn.GROUPS]===s)return{...e,[o.ukn.GROUPS]:a};break}case i.CONTACT_PICKER_GROUP_CHANGED:case i.CONTACT_PICKER_OPENED:return{...e,[K.Ir]:t.value||o.c8t}}return e},groupsById:(e={},t)=>{switch(t.type){case i.CONTACTS_LIST_FETCH_SUCCEEDED:{const{groups:s=[],groupIds:a=[],type:n}=t;return s.length&&a.length?s.reduce(((t,s,r)=>{const o=a[r];return o&&(t[o]=z(e[o],{type:n,group:{id:o,name:s}})),t}),{...e}):e}case i.CONTACTS_PANE_CREATE_GROUP_REQUESTED:{const{name:s,tempGroupId:a,type:n}=t;if(!s||!a)break;return{...e,[a]:z(e[a],{type:n,group:{id:a,name:s}})}}case i.CONTACTS_PANE_SAVE_GROUP_REQUESTED:{const{groupId:s,newName:a,type:n}=t;if(!a||!s)break;return{...e,[s]:z(e[s],{type:n,group:{id:s,name:a}})}}case i.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const{tempGroupId:s,id:a}=t;if(!a)break;const n=(0,l.T8)(e,s,a);return n[a].id=a,n}case i.CONTACTS_GROUP_FETCH_SUCCEEDED:{const{groupName:s,id:a,type:n}=t;return a?{...e,[a]:z(e[a],{type:n,group:{id:a,name:s}})}:e}case i.CONTACTS_GROUP_DELETE_SUCCEEDED:{const{groupId:s}=t;return s?(0,l.oF)(e,[s]):e}}return e},sortBy:(e=o.bW1.FIRST_NAME,t)=>{const{type:s,sortOrder:a}=t;switch(s){case i.CONTACTS_SORT_ORDER_CHANGED:return a;default:return e}},categoryFilter:(e=o.Ygm.ALL_CONTACTS,t)=>{const{type:s,categoryFilter:a}=t;switch(s){case i.CONTACTS_CATEGORY_FILTER_CHANGED:return a;default:return e}},addressBook:Y,contactBlockList:j,restoreStatus:X}),$=(e={},{type:t,contentProviders:s={}})=>{switch(t){case i.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED:return{...e,...s}}return e};var ee=s(53164);const te=(0,a.combineReducers)({topRetailers:(e=null,t)=>{switch(t.type){case i.TOP_RETAILERS_REQUEST_SUCCEEDED:return t.topRetailers}return e},topDealCategories:(e=null,t)=>{switch(t.type){case i.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED:return t.topDealCategories}return e},dealsViewExpansion:(e=!1,{type:t})=>{switch(t){case i.DEALS_VIEW_EXPANSION_TOGGLED:return!e;default:return e}}}),se=(0,a.combineReducers)({isDetailPaneExpanded:(e=!1,t)=>{switch(t.type){case i.TOGGLE_DETAIL_PANE_EXPANSION:return!e;case i.OPEN_PAGE_REQUESTED:case i.DELETE_ITEMS_SUCCEEDED:case i.MOVE_ITEMS_SUCCEEDED:return!1;default:return e}}}),ae=(0,a.combineReducers)({content:(e=null,t)=>{switch(t.type){case i.DOCUMENT_FETCH_SUCCEEDED:return t.page.content}return e},status:(e=o.DAQ.DOES_NOT_EXIST,t)=>{switch(t.type){case i.DOCUMENT_FETCH_SUCCEEDED:return t.page.state;case i.DOCUMENT_FETCH_REQUESTED:return e===o.DAQ.LOADED?e:o.DAQ.LOADING}return e}}),ne=(e,t)=>`${e}-${t}`,re=(0,a.combineReducers)({pages:(e={},t)=>{const{startPage:s,endPage:a}=t,n={};switch(t.type){case i.DOCUMENT_FETCH_SUCCEEDED:return{...e,...Object.keys(t.response.pages).reduce(((s,a)=>(s[a]=ae(e[a],{...t,page:t.response.pages[a]}),s)),{})};case i.DOCUMENT_FETCH_REQUESTED:for(let r=s;r<=a;r++)n[r]=ae(e[r],t);return{...e,...n}}return e},height:(e=null,t)=>{switch(t.type){case i.DOCUMENT_FETCH_SUCCEEDED:return t.response.height||e}return e},width:(e=null,t)=>{switch(t.type){case i.DOCUMENT_FETCH_SUCCEEDED:return t.response.width||e}return e},numPages:(e=0,t)=>{switch(t.type){case i.DOCUMENT_FETCH_SUCCEEDED:return t.response.numPages||e}return e},exceptions:(e={},t)=>{switch(t.type){case i.DOCUMENT_FETCH_SUCCEEDED:return t.response.exceptions||e}return e},sheets:(e={},t)=>{switch(t.type){case i.DOCUMENT_FETCH_SUCCEEDED:return t.response.sheets||e}return e},status:(e=o.DAQ.DOES_NOT_EXIST,t)=>{switch(t.type){case i.DOCUMENT_FETCH_REQUESTED:return e!==o.DAQ.LOADED?o.DAQ.LOADING:e;case i.DOCUMENT_FETCH_SUCCEEDED:return o.DAQ.LOADED;case i.DOCUMENT_FETCH_FAILED:return o.DAQ.ERROR}return e},error:(e={},t)=>{const{error:s={}}=t,{info:a={}}=s.data||{},{documentError:n={}}=a;switch(t.type){case i.DOCUMENT_FETCH_SUCCEEDED:case i.DOCUMENT_FETCH_REQUESTED:return{};case i.DOCUMENT_FETCH_FAILED:return n}return e},retryCount:(e={},t)=>{switch(t.type){case i.DOCUMENT_FETCH_SUCCEEDED:case i.DOCUMENT_FETCH_FAILED:{const s=ne(t.startPage,t.endPage);return{...e,[s]:(e[s]||0)+1}}}return e}}),oe=(e={},t)=>{switch(t.type){case i.DOCUMENT_FETCH_REQUESTED:case i.DOCUMENT_FETCH_SUCCEEDED:case i.DOCUMENT_FETCH_FAILED:{var s;const a=(null===(s=t.statesToRemove)||void 0===s?void 0:s.documentsToRemove)||[];return a.length>0?y()({...e,[t.documentId]:re(e[t.documentId],t)},a):{...e,[t.documentId]:re(e[t.documentId],t)}}}return e};var ie=s(17016);const le=function(e=[],t){switch(t.type){case i.DOWNLOAD_REQUESTED:case i.ATTACHMENT_DOWNLOADED:case i.ALL_ATTACHMENTS_DOWNLOADED:return function(e,t){return t.downloadId=`download-${(0,ie.generateUID)()}`,e.concat(t)}(e,t.download);case i.DOWNLOAD_COMPLETED:case i.DOWNLOAD_FAILED:return function(e,t){return e.filter((e=>e.downloadId!==t))}(e,t.downloadId);default:return e}};var ce=s(62650),de=s(8106);const Ee={screenWidth:0,screenHeight:0,clientWidth:0,clientHeight:0,innerWidth:0,innerHeight:0,contentAndRightRailWidth:0,contentAndRightRailHeight:0,ybarHeight:0},_e=(0,a.combineReducers)({appName:(e=null,t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.appName||e;default:return e}},appId:(e=null,t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.appId||e;default:return e}},isInternalIP:(e=!1,t)=>{switch(t.type){case i.INITIAL_STATE:return t.internal;default:return e}},applicationVisibility:(e=!0,t)=>{switch(t.type){case i.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible}return e},applicationLastVisibleTimeStamp:(e=null,t)=>{switch(t.type){case i.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible?null:t.actionTimestamp}return e},buildRefreshStatus:(e=o.OcD.NO_REFRESH,t)=>{switch(t.type){case i.APPLICATION_VISIBILITY_DID_CHANGE:if(t.isVisible){const e=(t.actionTimestamp-t.applicationLastVisibleTimeStamp)/6e4;if(t.emergencyRefresh&&e>t.appRefreshIdleInterval.emergencyRefresh)return o.OcD.EMERGENCY_REFRESH;const s=864e5,a=15,n=Math.round(t.elapsedTimeFromSessionStart)/s;if(e>t.appRefreshIdleInterval.periodicRefresh&&n>=a)return o.OcD.PERIODIC_REFRESH}return e;case i.CANCEL_APP_RELOAD:return o.OcD.NO_REFRESH;default:return e}},timeZoneName:(e="UTC",t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.clientParams&&t.clientParams.timezone||t.timezone&&t.timezone.name||"UTC";case i.LAUNCH_COMPLETED:return t.clientInferredTimezone||e;default:return e}},timezoneUpdating:(e=!1,t)=>{switch(t.type){case i.SETTINGS_LOCATION_CHANGE_REQUESTED:return t.isUpdating||e;default:return e}},windowDimensions:(e=Ee,t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.clientParams&&t.clientParams.windowInnerWidth&&t.clientParams.windowInnerHeight?{...e,innerWidth:t.clientParams.windowInnerWidth,innerHeight:t.clientParams.windowInnerHeight}:e;case i.WINDOW_RESIZING:return{screenWidth:t.screenWidth,screenHeight:t.screenHeight,clientWidth:t.clientWidth,clientHeight:t.clientHeight,contentAndRightRailHeight:t.contentAndRightRailHeight,contentAndRightRailWidth:t.contentAndRightRailWidth,innerWidth:t.innerWidth,innerHeight:t.innerHeight,ybarHeight:t.ybarHeight};case i.LAUNCH_COMPLETED:return t.clientWidth&&t.clientHeight&&t.innerWidth&&t.innerHeight?{...e,screenWidth:t.screenWidth,screenHeight:t.screenHeight,clientWidth:t.clientWidth,clientHeight:t.clientHeight,innerWidth:t.innerWidth,innerHeight:t.innerHeight}:e;default:return e}},pageDirection:(e="ltr",t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.pageDirection||e;default:return e}},browser:(e={},t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return{browserName:t.browserName,browserVersion:t.browserVersion};default:return e}},loggerParams:(e={},t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.loggerParams||{};default:return e}},doNotSellUrl:(e="",t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.doNotSellUrl||null;default:return e}},doNotSellLabel:(e="",t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.doNotSellLabel||"";default:return e}},userSegmentData:(e={},t)=>{switch(t.type){case i.LAUNCH_COMPLETED:return(0,de.jU)()&&window.AppBootstrapData?window.AppBootstrapData.userSegmentData||{}:e;default:return e}},endpoints:(e={},t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.endpoints||{};default:return e}},partner:(e="",t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.partner||"";default:return e}},os:(e="",t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.os||"";default:return e}},userNamespace:(e="",t)=>{switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.userNamespace||"";default:return e}}});var ue=s(64721),me=s.n(ue),Se=s(9026),pe=s(45481),Ce=s(54418);const Ae=(e,t,s={})=>{const{contentType:a=o.F6k.MESSAGES}=s,{getFeaturesSelectors:n,isMobileRoute:r,isStorefrontRoute:i}=t,{getSetting:l}=n(),c=!i()&&l(o.Zrf.PREVIEW_PANE)===o.EsZ.RIGHT,d=l(o.Zrf.MSG_LIST_DENSITY),E=l(o.Zrf.SNIPPETS);if(r())return E?18*(E-1)+u.BNf:u.iWM;switch(a){case o.F6k.MESSAGES:switch(d){case o.Ds1.SLIM:return c?E?u.BKZ:u.O2p:u.zDu;case o.Ds1.RELAXED:return c?E?u.xwf:u.rZd:u.yNf;default:return c?E?u.zJB:u.A3h:u.DGE}case o.F6k.IMAGES:return u.lmS;case o.F6k.DOCUMENTS:return u.Ehc}},Te=e=>{const{getAction:t}=e,s=t();return s.type===i.STAR_CHANGE_REQUESTED&&!s.isStarred},he=e=>{const{getAction:t,getRoute:s}=e,a=t(),n=s(),r=(0,q.LY)(n);if((0,q.WN)(r)!==o.F6k.COUPON_CARDS)return a.type===i.COUPONS_ADD_TAG_DECO_SUCCEEDED};var ge=s(30925);const Ie=e=>{const{getFeaturesSelectors:t,isMobileRoute:s}=e,a=s(),{getSetting:n}=t();return n(a?o.Zrf.MOBILE_NOTIFICATION:o.Zrf.DESKTOP_NOTIFICATION)},Re=(e,t,s=!1)=>{const{isFeatureEnabled:a,getRoute:n,isNarrowScreen:r,getActionableRightRailPane:i}=t,l=n(),c=a(o.ANe.HIDE_RIGHT_RAIL),d=!!l.params.attachmentId;return e&&!c&&(!r()||s)&&!i()&&!d},Oe=(e,t)=>{const s=t.getRoute(),a=t.getSetting(o.Zrf.PREVIEW_PANE)!==o.EsZ.NO;let n=[o.n8z.MESSAGE_FROM_FOLDER_LIST,o.n8z.MESSAGE_FROM_SEARCH_LIST,o.n8z.MESSAGE_FROM_LIST];return a&&(n=[...n,o.n8z.FOLDER,o.n8z.LIST,o.n8z.SEARCH]),Re(e,t)&&-1!==n.indexOf(s.name)&&!!t.getGroupId()};var De=s(77890);const Ne=(e,t)=>{const{getRoute:s,isMobileRoute:a}=t;if(a())return o.EsZ.NO;const n=(0,q.LY)(s());return(0,q.WN)(n)===o.F6k.MESSAGES?e:o.EsZ.NO};var fe=s(42363);var Me=s(55831);var Le=s(63523);function Pe(e,t){return e.length?function(e,t){return e.find((e=>{const s=(0,Le.W2)(e);return s&&s.name===t}))}(e,t):null}const ye=(e,t)=>{const s=[],{getFeaturesSelectors:a}=t,n=a().isEnabled(o.ANe.SMARTVIEW_CATEGORIES_ALL),r=a().isEnabled(o.ANe.SMARTVIEW_CATEGORIES_PEOPLE),i=a().isEnabled(o.ANe.SMARTVIEW_CATEGORIES_PEOPLE_V2),l=a().isEnabled(o.ANe.SMARTVIEW_CATEGORIES_SHOPPING),c=`${o.B_Z[o.K8C.PEOPLE]}:1`,d=`${o.B_Z[o.K8C.PEOPLE]}:0`,E=`${o.B_Z[o.K8C.COUPONS]}:1`;if(!(n||r||i||l))return[];if(r||i||l){if(r||i){const t=Pe(e,o.K8C.PEOPLE);t?s.push((0,Le.W2)(t)):s.push(r?(0,Le.W2)(c):(0,Le.W2)(d))}if(l){const t=Pe(e,o.K8C.COUPONS);s.push(t?(0,Le.W2)(t):(0,Le.W2)(E))}}else e.forEach((e=>{const t=(0,Le.W2)(e);t&&s.push(t)})),o.qwE.forEach((e=>{s.find((({name:t})=>t===e))||s.push({name:e,status:0})}));return s},be=(0,l.gP)(["luv.southwest.com","sg.booking.com","mail.hotels.com","booking.com","email.travelzoo.com","e.delta.com","h1.hilton.com","airbnb.com","email-marriott.com","united.com","email.jetblue.com","frontier.com","mailer.orbitz.com","news.united.com","save.spirit-airlines.com","aa.com","your.choicehotels.com","carnivalcruiselineemail.com","res.hilton.com","ifly.alaskaair.com"]);const Fe=(e,t)=>{const{getRouteParams:s,getRouteName:a,getRoute:n,doesMessageGroupIdExist:r,getMessageIdsFromMessageGroupId:i,getMessagesSelectors:c,getSmartViewTypeFromRoute:d}=t,{doesMessageIdExist:E,getFromAddresses:_}=c(),u=a(),m=u===o.n8z.MESSAGE_FROM_FOLDER_LIST||u===o.n8z.MESSAGE_FROM_SEARCH_LIST,S=n(),p=(0,q.zu)(S)&&d(S)===o.K8C.TRAVEL,{groupId:C}=s()||{},A=r(C)&&i(C)[0],T=E(A)&&_(A)[0];return Re(e,t,!0)&&(m&&function(e){if(!e)return!1;const t=(0,l.u9)(e,"email",""),s=t.slice(t.indexOf("@")+1).toLowerCase();return!!be[s]}(T)||p)},Ue=(e,t)=>{const{getRoute:s,getListsSelectors:a}=t,{doesListExist:n}=a(),r=(0,q.LY)(s()),i=(0,q.WN)(r)===o.F6k.TRAVEL_CARDS;return n(r)&&i&&e},ve=(e,t)=>{const s=e[o.Zrf.ACTION_AFTER_MSG_MOVE],{getPrescribedNumberOfColumns:a,getSetting:n,isFeatureEnabled:r}=t,i="/m"===n("appRootPath"),l=2===a(),c=r(o.ANe.MOBILE_AFTER_MESSAGE_MOVE_ENABLED);return i&&!c?l?o.jdT.SHOW_NEXT_MESSAGE:o.jdT.GO_BACK_TO_FOLDER:s};var we=s(59678);const Ge=/password/i,ke=/change|reset/i,He=e=>Ge.test(e)&&ke.test(e);var Be=s(78662);var xe=s(45895),Ve=s(33471),We=s(17673);var Ze=s(68949);const Ke={MAILPRO:{[o.Zrf.LOGO_URL]:o._72,[o.Zrf.LOGO_SRCSET]:o.Fmq},MAILPLUS:{[o.Zrf.LOGO_URL]:(0,Ze.A)("/img/yahoo_mail_plus_stacked_white_1x.png"),[o.Zrf.LOGO_SRCSET]:(0,Ze.A)("/img/yahoo_mail_plus_stacked_white_2x.png")+" 2x"},MAILPLUS_ATT:{[o.Zrf.LOGO_URL]:(0,Ze.A)("/img/yahoo_mail_plus_partner_att_white_1x.png"),[o.Zrf.LOGO_SRCSET]:(0,Ze.A)("/img/yahoo_mail_plus_partner_att_white_2x.png")+" 2x"}},{IN_PREVIEW:ze}=o.kuZ,qe=(e,t)=>{const{isFeatureEnabled:s,getSetting:a,isMobileRoute:n,getMailPremiumFreeTrialSelectors:r}=t,i=s(o.ANe.MAIL_PRO),l=s(o.ANe.MAIL_PLUS)||s(o.ANe.MAIL_PLUS_FREE_TRIAL),c=s(o.ANe.MAIL_PLUS_MOBILE_WEB);if(i)return!1;const{getDealsRecommendationsPreview:d}=r(),{status:E,value:_}=d();if(E===ze)return _;if(n()?c:l){const e=a(o.Zrf.DISABLED_MESSAGE_READ_CARDS);return Array.isArray(e)&&-1===e.indexOf(o.ANe.DEAL_RECOMMENDATIONS_ENABLED)}return!0};const Ye={[o.ANe.DISPATCHER_UPSELLS]:!0,[o.ANe.YMOBILE_PROMO_UPSELLS]:!0,[o.ANe.YPMP_PROMO_UPSELLS]:!0,[o.ANe.TOUCHPOINT_UPSELL]:!0},je=(e,t=!1)=>(s=t,a)=>{switch(a.type){case i.LAUNCH_PAGE_REQUESTED:case i.INITIAL_STATE:case i.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case i.SETTINGS_BLOCKED_SENDERS_RECEIVED:case i.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case i.POST_LAUNCH_ATTRIBUTES_RECEIVED:case i.POST_LAUNCH_SYNC_SUCCEEDED:case i.COMPOSE_ATTRIBUTES_RECEIVED:{const{nextFeature:t}=a;return t===e||(void 0!==a.features[e]?a.features[e]:s)}case i.LAUNCH_COMPLETED:return a.nextFeature===e||s;case i.FEATURE_CLOSED:case i.FEATURE_DISABLED:case i.FEATURE_TRY_NOW_REQUESTED:case i.FEATURE_CUE_NOTIFICATION_CLOSED:{const{name:t}=a,n=t;return(n!==o.ANe.MOBILE_PAC_NOTIFICATION_CUE||e!==o.ANe.INLINE_IMAGES_PROXIED)&&(n!==e&&(a.nextFeature===e||s))}case i.FEATURE_ENABLED:case i.AOL_SETTINGS_MIGRATION_SUCCEEDED:case i.SETTINGS_CHANGE_REQUESTED:case i.SETTINGS_SAVE_FILTERS_REQUESTED:case i.RENAME_FOLDER_REQUESTED:case i.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED:case i.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED:case i.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:{const{name:t,value:n,feature:r,type:l}=a;return void 0===t||void 0===n?s:r===o.ANe.MOBILE_PAC_NOTIFICATION_CUE&&e===o.Zrf.SHOW_IMAGES&&l===i.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED||(t===o.Zrf.CONSENT_EVENTS&&e===o.Zrf.CONSENT_EVENTS&&l===i.SETTINGS_CHANGE_REQUESTED?((e,t)=>{let s=e;return Object.keys(t).forEach((e=>{const a=t[e]&&t[e].status;a===Be.e7&&(s=s.filter((t=>t!==e))),a===Be.sZ&&(s=[...s,e])})),s})(s,n):t===e?n:s)}case i.SETTINGS_CHANGE_FAILED:var n;return(null==a||null===(n=a.requestActionPayload)||void 0===n?void 0:n.name)===o.Zrf.LINK_ENHANCR&&e===o.Zrf.LINK_ENHANCR?!s:s;case i.PAC_CUE_MARK_AS_SHOWN_REQUESTED:{const{name:t,shownMaxTimes:n=!1}=a;return e===o.Zrf.SHOW_IMAGES&&t===o.ANe.WEB_PAC_NOTIFICATION_CUE&&!!n||s}case i.BLOCK_SENDERS_REQUESTED:case i.BLOCK_SENDERS_WITH_DELETE_REQUESTED:{const{name:t,blockSenders:n}=a;return void 0===t||void 0===n?s:t===e?n:s}case i.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED:{const{value:t}=a;return e===o.Zrf.VACATION_PREFERENCES?t:s}case i.THEME_MODE_CHANGE_REQUESTED:case i.AOL_SETTINGS_MIGRATION_INITIATED:case i.OPEN_PAGE_REQUESTED:{const{nextFeature:t}=a;if(Ye[e])return!1;if(t===e)return!0;if(a.updatedSettingAttributes){const{updatedSettingAttributes:t}=a,n=Array.isArray(t)?t.find((t=>t.name===e)):t,{name:r,value:o}=n||{};return void 0===r||void 0===o?s:r===e?o:s}return s}case i.TMR_REGISTER_ACTION_SUCCESS:if(e===o.ANe.TMR_ICON_NOTIFICATION){const{showTMRNotification:e}=a;return void 0===e?s:e}if(e===o.ANe.TMR_MOBILE_IMAPIN_CUE){const{showTMRMobileImapInCue:e}=a;return void 0===e?s:e}return s;case i.PREVIEW_MESSAGE_REQUESTED:case i.CLOSE_PAGE_REQUESTED:return!Ye[e]&&(a.nextFeature===e||s);case i.DISPATCHER_UPSELL_FETCH_SUCCEEDED:return e===o.Zrf.DISPATCHER_UPSELL_DATA?a.mailoverlay||s:a.nextFeature===e||s;case i.TOUCHPOINT_UPSELL_FETCH_SUCCEEDED:return e===o.Zrf.TOUCHPOINT_UPSELL_DATA?a.mailoverlay||s:a.nextFeature===e||s;case i.RIGHT_RAIL_ADBLOCK_UPSELL_FETCH_SUCCEEDED:return e===o.Zrf.RIGHT_RAIL_ADBLOCK_UPSELL_DATA?a.mailoverlay||s:a.nextFeature===e||s;case i.STATIC_MAIL_PLUS_UPSELL_FETCH_SUCCEEDED:return e===o.Zrf.STATIC_MAIL_PLUS_UPSELL_DATA?a.mailoverlay||s:a.nextFeature===e||s;default:{const{nextFeature:t}=a;return t===e||s}}},Qe={[o.Zrf.APP_CONTAINER]:"",[o.ANe.SYNC_DATA_ONLY_WHEN_NEEDED]:!1,[o.ANe.SYNC_NOW]:!1,collectConfigAccess:!1,[o.ANe.YBAR_FUJI2_THEME]:!1,[o.ANe.SMART_REPLY]:!1,[o.ANe.PHOTOS_CUE]:!1,[o.ANe.STARRED_CUE]:!1,[o.ANe.SETTINGS_CUE]:!1,[o.ANe.PARTNER_RECONSENT_BANNER]:!1,[o.ANe.SEARCH_CUE]:!1,[o.ANe.SEARCH_RELEVANCE_CUE]:!1,[o.ANe.ENABLE_SEARCH_RELEVANCE_CUE]:!1,[o.ANe.ALL_TABS_PLUS_CUE]:!1,[o.ANe.PEOPLE_SMARTVIEW_CUE]:!1,[o.ANe.STATIONERY_CUE]:!1,[o.ANe.EMOJI_CUE]:!1,[o.ANe.SHOW_SPONSORED_LOGO]:!1,[o.ANe.THEMES_CUE_V3]:!1,[o.ANe.NEW_USER_TASKS_CUE]:!1,[o.ANe.UPDATE_WIDER_MAIL_CUE]:!1,[o.ANe.COUPONS_VIEW_CUE]:!1,[o.Zrf.QUOTIENT_DEBUG_FLAG]:!1,[o.Zrf.ASTRA_NONPROD_FLAG]:!1,[o.ANe.CATEGORY_FOLLOWING_CUE]:!1,[o.ANe.AMAZON_PRIME_DAY_CUE]:!1,[o.ANe.PKG_TRACKING_CUE]:!1,[o.ANe.ADBLOCK_UPSELL_CUE]:!1,[o.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE]:!1,[o.ANe.ADBLOCK_DELAY_DISMISS_CUE]:!1,[o.ANe.RIGHT_RAIL_AD_FREE_UPSELL_CUE]:!1,[o.ANe.COUPONS_VIEW_LAUNCH_CUE]:!1,[o.ANe.FOCUSED_INBOX_CUE]:!1,[o.ANe.IS_WIDER_MAIL_EXTN_ENABLED]:!1,[o.ANe.SHOW_ENHANCE_CONTACTS_PREFERENCE]:!0,[o.ANe.SHOW_ENHANCED_CONTACTS_INFO]:!0,[o.ANe.SHOW_IMPORT_CONTACTS_IN_SETTINGS]:!0,[o.ANe.CONVERSATIONS]:!0,[o.ANe.CLOUD_STORAGE]:!1,[o.Zrf.IMAPIN]:!1,canAddImapInAccount:!1,canRemoveImapInAccount:!1,[o.ANe.OFFICE365]:!1,[o.ANe.OFFICE365_CUE]:!1,linkAccountList:!1,[o.ANe.MOVE_FOLDER]:!1,[o.Zrf.SHOW_ALL_SYSTEM_FOLDERS]:!1,addAliasAccount:!1,[o.Zrf.SNIPPETS]:!1,[o.Zrf.USE_RICH_TEXT]:!0,[o.Zrf.SHOW_IMAGES]:!1,[o.Zrf.CONSENT_EVENTS]:[],[o.Zrf.HUMAN_READABLE_CONSENT]:!1,[o.ANe.SHOW_HUMAN_READABLE_CONSENT_SETTING]:!1,[o.Zrf.DESKTOP_NOTIFICATION]:0,[o.Zrf.MOBILE_NOTIFICATION]:!1,[o.Zrf.MAIL_TABS]:!1,[o.Zrf.MARK_AS_READ_INTERVAL]:o.SEm.IMMEDIATELY,[o.Zrf.THEME]:Se.b3.DEFAULT,[o.Zrf.THEME_MODE]:Se.zg.LIGHT,[o.Zrf.CLIENT_WIDTH]:0,[o.Zrf.ORIENTATION]:"portrait",[o.Zrf.PREVIEW_PANE]:o.EsZ.NO,[o.Zrf.COMPOSE_FORMAT]:o.tTi.FULL_SIZED,[o.Zrf.SUBHUB_RECO_FILTER]:"",[o.Zrf.SUBHUB_RECO_COUNT]:5,[o.Zrf.MSG_LIST_DENSITY]:o.Ds1.NORMAL,[o.Zrf.COMPOSE_FONT_SIZE]:o.H4h.SIZE,[o.Zrf.COMPOSE_FONT_FAMILY]:o.H4h.FAMILY,focusBasedVisibilityDetection:!1,[o.Zrf.DELIVERY_BLOCKED_SENDERS]:[],[o.Zrf.LINK_ENHANCR]:!1,[o.Zrf.VACATION_PREFERENCES]:{enabled:!1},[o.Zrf.DEA_BASE_NAME]:null,[o.Zrf.LIST_ITEM_HEIGHT]:32,[o.Zrf.MESSAGE_FILTERS]:[],[o.Zrf.ACTION_AFTER_MSG_MOVE]:o.jdT.GO_BACK_TO_FOLDER,[o.Zrf.SHOW_CUSTOM_FOLDERS]:!0,[o.Zrf.SHOW_SMART_VIEWS]:!0,[o.Zrf.EXPANDED_FOLDERS]:[],[o.Zrf.STATIONERY_DEFAULT_THEME]:"",[o.Zrf.TOGGLE_CONV_RELOAD_DELAY]:300,[o.Zrf.SUPPRESSED_UPSELLS]:[],[o.ANe.RESIZABLE_PREVIEW_PANE]:!0,[o.ANe.PREVIEW_PANE_IN_PIXELS]:!1,[o.ANe.PREVIEW_PANE_COOKIE]:!1,[o.Zrf.RECENTLY_USED_EMOJIS]:[],[o.ANe.EMOJI_SEARCH]:!1,[o.Zrf.SYSTEM_TABS]:[],[o.ANe.OPTIMISTIC_SEND]:!1,[o.ANe.FORCE_OPTIN_BEACON]:!1,[o.ANe.CEP_FORWARD]:!1,[o.ANe.RSVP]:!1,[o.ANe.RSVP_RESPONSE]:!1,[o.ANe.NUDGE_TO_REPLY_ELIGIBLE]:!1,[o.Zrf.NUDGE_TO_REPLY_SETTING]:!1,[o.ANe.STATIONERY_THEME_DATES]:!1,[o.ANe.PARSE_RSVP_REPLY_LINKS]:!1,[o.Zrf.PLA_SEARCH_SOURCE_TAG]:"yahoo_mail_nextgen_search_pla",[o.Zrf.SEARCH_SOURCE_TAG]:"yahoo_mail_nextgen_search",[o.Zrf.SEARCH_FETCH_COUNT]:25,[o.Zrf.SEARCH_FIRST_PAGE_COUNT]:25,[o.Zrf.SPACE_IDS]:{},[o.ANe.SUBHUB_RECOMMENDATIONS]:!1,[o.ANe.DEALS_VIEW_CUE]:!1,[o.ANe.GROCERIES_PRODUCT_CUE]:!1,[o.ANe.CONTACTS_NEW_BADGE]:!1,[o.ANe.BRAND_MENU_ONBOARDING_CUE]:!1,[o.ANe.BRAND_MENU_FEEDBACK_CUE]:!1,[o.ANe.TOOLBAR_V3]:!1,[o.ANe.RIGHT_RAIL_CONTACT_CARD]:!1,[o.ANe.RIGHT_RAIL_PHOTO_CARD]:!1,[o.ANe.RIGHT_RAIL_DOCS_CARD]:!1,[o.ANe.RIGHT_RAIL_MESSAGES_CARD]:!1,[o.Zrf.AD_BLOCK_FEATURE_CUE_ID]:1,[o.ANe.CONTACTS_PANE_FEATURE]:!1,[o.ANe.CONTACTS_PANE_CUE]:!1,[o.ANe.CONTACTS_SORT]:!1,[o.ANe.DISABLE_DL]:!1,[o.ANe.CONTACTS_RESTORE]:!1,[o.ANe.CONTACTS_IMPORT_FROM_CSV]:!1,[o.ANe.CALENDAR_RIGHT_RAIL_PANE]:!1,[o.ANe.CALENDAR_RIGHT_RAIL_PANE_CUE]:!1,[o.ANe.INVITE_FLOW_ENABLED]:!0,[o.ANe.PRINT_ENABLED]:!0,[o.ANe.SOCIAL_ACCOUNTS]:!1,[o.ANe.USE_LINKEDIN_TEST_SPID]:!1,[o.Zrf.LINKEDIN_EXPIRY_NOTIFY_DAYS]:15,[o.ANe.MESSAGE_UNREAD_INDICATOR]:!1,[o.Zrf.THROTTLE_API_LIST]:{},[o.ANe.NO_SYNC_ON_MESSAGE_LAUNCH]:!1,[o.ANe.SMARTVIEW_ATTACHMNENTS]:!1,[o.ANe.ADS]:!0,[o.ANe.NO_ADS]:!1,[o.ANe.JAC_ADS]:!1,[o.ANe.JAC_SERVER_PREFETCH]:!1,[o.ANe.JAC_CLIENT_PREFETCH]:!1,[o.ANe.JAC_DOUBLE_BUFFERING]:!1,[o.ANe.JAC_AD_BLOCK_DETECTION]:!1,[o.ANe.JAC_SCRIPT_CACHE]:!1,[o.ANe.JAC_CONNECT_ID]:!1,[o.ANe.DO_NOT_SELL_LINK]:!1,[o.ANe.DARLA_PREFETCH]:!0,[o.ANe.DARLA_LOOKAHEAD]:!1,[o.ANe.DARLA_PREFETCH_LAUNCH_SYNCER]:!1,[o.ANe.DARLA_CHROMAGGEDON_SA]:!1,[o.ANe.GEMINI_SPONSORED_VIDEO]:!1,[o.ANe.COM_SCORE_BEACONING]:!1,[o.ANe.EMPTY_FOLDER_VIDEO]:!1,[o.ANe.MESSAGE_READ_AD_ROTATION]:!0,[o.ANe.MAIL_PLUS_ELIGIBLE]:!1,[o.ANe.MAIL_PLUS_INELIGIBLE]:!0,[o.ANe.MAIL_PLUS_SWITCH_WIDGET_ELIGIBLE]:!1,[o.ANe.MAIL_PLUS]:!1,[o.ANe.MAIL_PLUS_MOBILE_APPS]:!1,[o.ANe.MAIL_PLUS_MOBILE_WEB]:!1,[o.ANe.MAIL_PLUS_FREE_TRIAL]:!1,[o.ANe.MAIL_PLUS_IOS_IN_APP_PURCHASE_USER]:!1,[o.ANe.MAIL_PLUS_ANDROID_IN_APP_PURCHASE_USER]:!1,[o.ANe.COMPOSE_FORMAT_CHOOSER_ENABLED]:!1,[o.ANe.DEAL_RECOMMENDATIONS_ENABLED]:!1,[o.ANe.DEAL_RECO_ELIGIBLE]:!1,[o.ANe.DEAL_RECO_MOBILE_CUE]:!1,[o.ANe.DEALS_RECOMMEND_CONTROL_MOBILE_CUE]:!1,[o.ANe.DEALS_RECOMMEND_CONTROL_ELIGIBLE]:!1,[o.ANe.DEALS_RECOMMEND_CONTROL_CUE]:!1,[o.ANe.DEAL_RECO_CUE]:!1,[o.ANe.MAIL_PLUS_TASTEMAKER]:!1,[o.ANe.BLOCKED_DOMAINS]:!1,[o.ANe.MOBILE_AFTER_MESSAGE_MOVE_ELIGIBLE]:!1,[o.ANe.MOBILE_AFTER_MESSAGE_MOVE_ENABLED]:!1,[o.ANe.MAIL_PLUS_SPONSORED_MESSAGE]:!1,[o.ANe.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER]:!1,[o.ANe.AD_LITE]:!1,[o.ANe.GEMINI_VIEWABILITY]:!0,[o.Zrf.HIDE_AD]:!1,[o.ANe.MAIL_PRO_ELIGIBLE]:!1,[o.ANe.MAIL_PRO_PRIORITY_SUPPORT_ELIGIBLE]:!1,[o.ANe.MESSAGE_READ_CONTACT_CARD]:!1,[o.ANe.HIDE_RIGHT_RAIL]:!1,[o.ANe.SMARTVIEW_CATEGORIES_ENABLED]:!1,[o.ANe.PREMIUM_AD_DETECTION]:!1,[o.ANe.GEMINI_CONTEXTUAL_ADS]:!1,[o.ANe.NUKE_DISPLAY_ADS_ON_INACTIVE]:!1,[o.ANe.NO_AD_ROTATION_ON_COMPOSE]:!1,[o.ANe.ROTATE_ADS_ONLINE]:!1,[o.ANe.BOOKING_CARD]:!1,[o.ANe.WIDER_MAIL_ELIGIBLE]:!1,[o.ANe.DARLA_GEMINI_ARBITRATION]:!1,[o.ANe.AMP]:!1,[o.Zrf.AMP_EMAIL]:!1,[o.ANe.AMP_PROXY]:!1,[o.ANe.MAIL_PRO]:!1,[o.ANe.MAIL_PRO_LINK_IN_SETTINGS_MENU]:!1,[o.ANe.WIDER_MAIL_PROMO]:!1,[o.ANe.ADBLOCK_UPSELL]:!1,[o.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN]:!1,[o.ANe.SHOPPING_CART_AD]:!1,[o.ANe.NO_FORCE_DISPLAY_AD_ROTATION_ON_ROUTE_CHANGE]:!1,[o.ANe.AUTO_FORWARD_EMAIL]:!1,[o.ANe.RIGHT_RAIL_EXCL_MAIL_PLUS_UPSELL]:!1,[o.ANe.RIGHT_RAIL_COLLAPSE_RESTRICTION]:!1,[o.Zrf.RIGHT_RAIL_COLLAPSE_LIMIT]:0,[o.ANe.REDIRECT_MAIL_PLUS_UPSELL_TO_MAIL_PLUS_TAB]:!1,[o.ANe.PENCIL_AD]:!1,[o.ANe.SECOND_PENCIL_AD]:!1,[o.ANe.PENCIL_AD_URL_VALIDATION]:!1,[o.ANe.SECOND_PENCIL_FALLBACK_SECTION_ID_ENABLED]:!1,[o.ANe.YPLUS_ICON_RIGHT_RAIL]:!1,[o.ANe.HOTELS_CARD_PREFILL]:!1,[o.ANe.RELATED_SEARCHES_CARD]:!1,[o.ANe.MESSAGE_LIST_AD_CAROUSEL]:!1,[o.ANe.NOBLE_HYBRID_AD]:!1,[o.ANe.PORTRAIT_AD]:!1,[o.ANe.FLASH_SALE_AD]:!1,[o.ANe.FLASH_SALE_AD_IN_SECONDS]:!1,[o.ANe.PLA_SEARCH_ADS]:!1,[o.Zrf.PLA_SEARCH_ADS_BUCKET_ID]:"",[o.Zrf.PLA_SEARCH_ADS_JS_URL]:"https://s.yimg.com/ds/scripts/pla.v1.2.js",[o.ANe.MESSAGE_READ_AD_ROTATION_V2]:!1,[o.ANe.ROTATE_PENCIL_AD_ON_EXPIRE]:!1,[o.ANe.AOL_VIDEO_PLAYER]:!1,[o.ANe.OATH_VIDEO_PLAYER]:!1,[o.ANe.RIGHT_RAIL_NATIVE_AD]:!1,[o.ANe.SPONSORED_MOMENT]:!1,[o.ANe.VIDEO_SPONSORED_MOMENT]:!1,[o.ANe.NOBLE_WEB_LINK]:!1,[o.ANe.AFFILIATE_PARTNER]:!1,[o.ANe.NODIN_MESSAGE_HEADER]:!1,[o.Zrf.ENABLED_AFFILIATE_PARTNERS]:[],[o.Zrf.IC_TOM_DENY_LIST]:[],[o.Zrf.AFFILIATE_URL]:o.HH7,[o.Zrf.NUMBER_OF_COUPON_ROWS]:0,[o.ANe.CONTACT_CARD_TRACKING]:!1,[o.ANe.DEBUG_DARLA]:!1,[o.ANe.ABP_STATIC_ADS]:!1,[o.ANe.ROTATE_ADS_ON_CHECK_MAIL]:!1,[o.ANe.AD_FORMAT_SELECTION]:!1,[o.ANe.MESSAGE_OP_PERF]:!1,[o.ANe.RIGHT_RAIL_UPSELL_VIDEO_AD]:!1,[o.ANe.MSG_READ_PENCIL_AD]:!1,[o.ANe.MSG_READ_PENCIL_AD_SEND_DOMAIN]:!1,[o.ANe.BIZMAIL_USER]:!1,[o.ANe.AUTOPLAY_EMPTY_FOLDER_VIDEO]:!1,[o.ANe.DEALS_SHOPPING_CART_AD]:!1,[o.ANe.NO_IDLE_CHECK_MAIL_AD_ROTATIONS]:!1,[o.ANe.SAME_SEARCH_AD_ON_SECOND_PENCIL]:!1,[o.ANe.SECOND_SEARCH_AD]:!1,[o.ANe.AD_PARTIALLY_ABOVE_FOLD]:!1,[o.ANe.DEAL_EXTENSION]:!1,[o.ANe.SECURITY_SUBSCRIPTIONS_UPSELL]:!1,[o.ANe.SPONSORED_MESSAGE_TRIAGE]:!1,[o.ANe.SUBSCRIPTION_LIST]:!1,[o.ANe.SUBSCRIPTIONS_VIEW_CUE]:!1,[o.ANe.EDGE_TO_EDGE_GRAPHICAL_AD]:!1,[o.Zrf.EDGE_TO_EDGE_GRAHICAL_DEGISN_VERSION]:"default",[o.ANe.CROSS_DOMAIN_DPA_ADS]:!1,[o.ANe.PRIVACY_RIGHTS_ICON]:!1,[o.ANe.NO_HIDDEN_CHECK_MAIL_AD_ROTATIONS]:!1,[o.Zrf.MAILPRO_UPSELL_INSTRUMENTATION_URL]:{},[o.ANe.MEMBERSHIP_REWARDS]:!1,[o.ANe.TMR_ONBOARDING_CUE]:!1,[o.ANe.TMR_ICON_NOTIFICATION]:!1,[o.Zrf.TMR_ATOS_TEST_PARAM]:0,[o.Zrf.MEMBERSHIP_REWARDS_SETTINGS]:{},[o.ANe.TMR_MOBILE_ONBOARDING_CUE]:!1,[o.ANe.TMR_MOBILE_DAILY_CHECKIN_CUE]:!1,[o.ANe.TMR_MOBILE_IMAPIN_CUE]:!1,[o.ANe.ADD_MAILBOX_OPTION]:!1,[o.ANe.ADD_MAILBOX_POPOVER]:!1,[o.ANe.TMR_ONBOARDING_REMINDER]:!1,[o.Zrf.MARKETING_PREFERENCES_SETTING]:void 0,[o.ANe.MAILPRO_FREE_TRIAL]:!1,[o.ANe.MAILPRO_FREE_TRIAL_UPSELLS]:!1,[o.Zrf.OBI_AUTH]:{},[o.Zrf.OBI_HOSTNAME]:{},[o.Zrf.FTWCC_ELIGIBLE_UPSELLS]:[],[o.Zrf.PURCHASE_OFFER_TEST_PARAM]:0,[o.Zrf.LIST_SUBSCRIPTION_TEST_PARAM]:0,[o.Zrf.DAYS_IN_TRIAL_TEST_PARAM]:0,[o.Zrf.MOCKED_RECURRING_INTERVAL]:0,[o.Zrf.DISABLED_MESSAGE_READ_CARDS]:void 0,[o.Zrf.EMPTY_FOLDER_VIDEO_CHANNELS]:{},[o.Zrf.TIME_TO_WAIT_SINCE_LAST_AD_CALL]:0,[o.Zrf.GEMINI_AD_COUNT]:{pencilAd:1,carouselAd:5},[o.Zrf.GEMINI_SECTION_IDS]:{},[o.Zrf.GEMINI_CREATIVE_ID]:0,[o.Zrf.GEMINI_MAIL_PLUS_ADS_CREATIVE_IDS]:[],[o.Zrf.GEMINI_FORCE_FILTER]:"",[o.Zrf.JAC_SCRIPT_URL]:"https://jill.fc.yahoo.com/v1/client/js",[o.Zrf.JAC_SERVICE_HOST]:"",[o.Zrf.JILL_HOSTNAME]:"jill.fc.yahoo.com",[o.Zrf.CMP_JS_URL]:"https://consent.cmp.oath.com/version/3.0.3/cmp.js",[o.Zrf.COM_SCORE_JS_URL]:"https://s.yimg.com/aaq/vzm/cs_1.1.2.js",[o.Zrf.AD_FREE_MAIL_URL]:"",[o.Zrf.MAIL_PLUS_URL]:"https://www.yahoo.com/plus/mail",[o.Zrf.MAIL_PLUS_SUBSCRIPTIONS_URL]:"https://mysubscriptions.yahoo.com/manage/subscriptions",[o.Zrf.MAIL_PLUS_CHECKOUT_URL]:"https://checkout.yahoo.com/checkout/v1?sku=yah-yh-22612027",[o.Zrf.TASTEMAKER_URL]:"https://prod-mail-pse.yahoo.com/tastemaker/yahoo/subscribe",[o.Zrf.BUY_MORE_SAVE_MORE_TERMS_LINK]:"https://legal.yahoo.com/us/en/yahoo/terms/product-atos/bmsm/index.html",[o.Zrf.ABOUT_AD_URL]:"",[o.ANe.SHOW_ABOUT_OUR_ADS_LINK]:!0,[o.ANe.SHOW_ABOUT_YAHOO_MAIL_LINK]:!0,[o.ANe.SHOW_GIVE_FEEDBACK_LINK]:!0,[o.ANe.SHOW_FEEDBACK_PANEL]:!1,[o.Zrf.PRIVACY_URL]:"",[o.Zrf.TERMS_URL]:"",[o.Zrf.ITEM_LIST_PAGE_THRESHOLD]:0,[o.Zrf.MESSAGE_READ_AD_ROTATION_INTERVAL]:0,[o.Zrf.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL]:0,[o.Zrf.WIDER_MAIL_EXTENSION_URL]:{},[o.Zrf.MAIL_PLUS_MONTHLY_PRICE]:"",[o.Zrf.MAIL_PLUS_SETTING_TAB_LEFT_TEXT_STYLE]:"default",[o.Zrf.RIGHT_RAIL_UPSELL_CUE_STYLE]:"default",[o.Zrf.MAIL_PRO_MONTHLY_PRICE]:"$3.49",[o.Zrf.MAIL_PRO_YEARLY_PRICE]:"$34.99",[o.Zrf.GEMINI_VIDEO_AD_ID]:"",[o.Zrf.GEMINI_VIDEO_AD_SITE]:"",[o.Zrf.GEMINI_VIDEO_AD_EXP_NAME]:"",[o.Zrf.GEMINI_VIDEO_AD_EXP_TYPE]:"",[o.Zrf.CHROME_EXTENSION_ALLOWLIST]:[],[o.Zrf.CHROME_LONGTERM_EXTENSION_LIST]:[],[o.Zrf.NEW_USER_TASK_BUCKET]:[],newUserTaskDownloadQR:"",[o.ANe.ABORT_DARLA_IN_PROGRESS]:!1,[o.Zrf.RELATED_SEARCHES_CARD_STYLE]:"default",[o.ANe.LREC_MON_AD_ARBITRATION]:!1,[o.ANe.UBA_LREC_MON_AD_ARBITRATION]:!1,[o.Zrf.VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/js/3/videoplayer-min.js?r=nextgen-desktop&ypv=7.86.926.1602011233",[o.Zrf.VIDEO_PLAYER_SAPI_COBRAND]:"",[o.Zrf.AOL_VIDEO_PLAYER_URL]:"https://cdn.vidible.tv/prod/player/js/latest/iframe-api.min.js",[o.Zrf.AOL_VIDEO_PLAYER_IFRAME_SRC]:"https://delivery.vidible.tv/htmlembed/pid=5aaad183c74d475e29adfe4c/5aaacba1841fad0ac9a8566b.html?m.loadingplaceholder=1",[o.Zrf.OATH_VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/oath/js/1/oath-player.js",[o.Zrf.SECOND_PENCIL_AD_DEPTH]:10,[o.Zrf.PENCIL_AD_EXPIRE_TIME]:7e3,[o.Zrf.PREFERRED_AD_FORMAT]:0,[o.ANe.COMMERCIAL_ANALYSIS_OF_CONTENT]:!1,[o.Zrf.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION]:30,[o.Zrf.ADBLOCK_UPSELL_CUE_INTERVAL]:1728e5,[o.Zrf.DELETE_DEBOUNCE_TIME]:500,[o.ANe.NODIN_ES5_SHIM]:!1,[o.Zrf.CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL]:18e4,[o.Zrf.WEB_SEARCH_URL]:"https://search.yahoo.com/search?p=%QUERY%&fr=uh-mail-web&fr2=p%3Aml%2Cm%3Asb",[o.Zrf.DEALS_SHOPPING_CART_AD_VERSION]:"themedButton",[o.ANe.NODIN_MESSAGE_READ_AD_ROTATION]:!1,[o.ANe.XOBNI_AUTO_SUGGEST]:!1,[o.ANe.CLASSIC_AUTO_SUGGEST]:!0,[o.ANe.NODIN_AUTOCOMPLETE_ON_XOBNI]:!1,[o.ANe.NODIN_CHECK_MAIL]:!1,[o.ANe.NODIN_FILTERS]:!1,[o.ANe.NODIN_CHECK_MAIL_TOAST]:!1,[o.ANe.NODIN_SHOW_IMAGES_PREF]:!1,[o.ANe.LASTPASS_FREETRIAL_UPSELL]:!1,[o.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE]:!1,[o.Zrf.LASTPASS_FREETRIAL_UPSELL_SETTINGS]:{},[o.Zrf.SWITCH_WIDGET_SCRIPT_URL]:"",[o.Zrf.MAIL_PLUS_IMPRESSION_URL]:{},[o.Zrf.MAIL_PLUS_CLICK_URL]:{},[o.Zrf.SELECTED_SUBSCRIPTION_UPSELL]:"",[o.ANe.DISPATCHER_UPSELLS]:!1,[o.ANe.DISPATCHER_UPSELLS_ELIGIBLE]:!1,[o.Zrf.DISPATCHER_UPSELL_DATA]:{},[o.Zrf.STATIC_MAIL_PLUS_UPSELL_DATA]:{},[o.ANe.SPAM_TOUCHPOINT]:!1,[o.ANe.UNSUBSCRIBE_TOUCHPOINT]:!1,[o.ANe.TOUCHPOINT_UPSELL]:!1,[o.Zrf.TOUCHPOINT_UPSELL_DATA]:{},[o.ANe.ADBLOCK_RR_UPSELL]:!1,[o.Zrf.RIGHT_RAIL_ADBLOCK_UPSELL_DATA]:{},[o.ANe.YMOBILE_PROMO_UPSELLS]:!1,[o.Zrf.YMOBILE_UPSELL_VERSION]:"",[o.ANe.YMOBILE_PROMOS]:!1,[o.ANe.YPT_GAMER_UPSELLS]:!1,[o.ANe.YPMP_PROMO_UPSELLS]:!1,[o.Zrf.YPMP_UPSELL_VERSION]:"",[o.ANe.SHOW_MKTG_SUPPORT_NUMBER]:!1,[o.ANe.FALCON_TOM_SUBSCRIPTIONS_UPSELLS]:!1,[o.ANe.FALCON_TOM_ARBITRATION_ENABLED]:!1,[o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED]:!1,[o.Zrf.FALCON_TOM_SUBSCRIPTIONS_PREFETCH_COUNT]:0,[o.ANe.LOG_CLIENT_ERROR]:!1,[o.Zrf.DARLA_HOSTNAME]:"fc.yahoo.com",[o.ANe.BREAKING_NEWS]:!1,[o.ANe.BREAKING_NEWS_ENABLED]:!1,[o.ANe.BREAKING_NEWS_TEST_PARAM]:!1,[o.Zrf.BREAKING_NEWS_REFRESH_INTERVAL]:6e4,[o.Zrf.BREAKING_NEWS_SETTINGS]:!1,[o.Zrf.PACKAGE_TRACKING_SETTINGS]:!1,[o.Zrf.DEALS_STORIES_SETTINGS]:o.eG4.EXPANDED,[o.ANe.SHOW_FUJI2_NTK]:!1,[o.ANe.HIDE_YBAR_DOWNLOAD_APP_LINK]:!1,[o.ANe.MAIL_PLUS_YBAR_UPSELL_ELIGIBLE]:!1,[o.ANe.MULTI_ACCOUNT_SIGN_OUT]:!1,[o.ANe.MARK_AS_READ_DEFER]:!1,[o.Zrf.NUM_MESSAGE_GROUPS_TO_PREFETCH]:10,[o.Zrf.NEIGHBOR_PREFETCH_COUNT]:0,documentTitleStandardDuration:3e3,documentTitleNotificationDuration:5e3,[o.Zrf.BULK_ACTION_DIALOG_THRESHOLD]:50,[o.ANe.SHOW_RECENT_SUGGESTIONS]:!1,[o.ANe.SHOW_EMAIL_SEARCH_SUGGESTIONS]:!1,[o.ANe.MESSAGE_LIST_CONTEXT_MENU]:!1,[o.ANe.SHOW_EMPTY_SEARCH_SUGGESTIONS]:!1,[o.ANe.FILTER_COMMERCIAL_IMAGES]:!1,[o.ANe.AUTOTAG]:!1,[o.ANe.BOLD_FOCUS]:!1,[o.ANe.IFRAME_PRINT]:!1,[o.ANe.EXTERNAL_CSS]:!1,[o.ANe.SWITCH_TO_NORRIN]:!1,[o.ANe.SWITCH_TO_NORRIN_ON_WIN10]:!1,[o.ANe.SWITCH_TO_NORRIN_ON_WIN10_MSG_LIST]:!1,[o.Zrf.SWITCH_TO_NORRIN_ON_WIN10_MSG_LIST_VERSION]:"",[o.ANe.DOCUMENT_PREVIEW_LIGHT]:!1,[o.ANe.NODIN_JS_ENHANCE]:!1,messageScrollLoadThreshold:10,[o.Zrf.PARTNER_BRAND]:"",[o.Zrf.LOGO_URL]:"https://s1.yimg.com/rz/d/yahoo_mail_en-US_s_f_w_bestfit_mail.png",[o.Zrf.LOGO_SRCSET]:"",secureCryptoMode:0,[o.ANe.DISABLE_UNSUBSCRIBE_FEATURE]:!0,[o.ANe.UNSUBSCRIBE_FROM_MESSAGE]:!1,[o.ANe.COLLAPSED_TRIAGING]:!1,[o.ANe.UNSUBSCRIBE_BADGES]:!1,ybar:!0,[o.ANe.CONTACT_SUMMARY]:!1,[o.Zrf.COMPOSE_SAVE_INTERVAL]:2e4,[o.ANe.WEB_FONTS]:!1,[o.ANe.NEWUSER_MKTG_BEACON]:!1,[o.ANe.SMARTVIEW_CATEGORIES_ALL]:!1,[o.ANe.SMARTVIEW_CATEGORIES_PEOPLE]:!1,[o.ANe.SMARTVIEW_CATEGORIES_PEOPLE_V2]:!1,[o.ANe.SMARTVIEW_CATEGORIES_SHOPPING]:!1,theming:!0,[o.ANe.PHOTO_THEMES]:!1,optOutSurvey:!0,[o.Zrf.HELP_URL]:"https://help.yahoo.com/kb/index?page=product&y=PROD_MAIL_WEB&locale=en_US",[o.Zrf.SUPPORT_PHONE_NUMBER]:"800-716-7420",[o.Zrf.YPLUS_ICON_RIGHT_RAIL_SETTINGS]:{},[o.Zrf.CORP_MAIL_GMAIL_SETTINGS]:{},asyncTaskPollCount:200,[o.ANe.FETCH_FULL_BODY]:!1,peopleNotifications:!1,[o.ANe.PUSH_NOTIFICATIONS]:!1,[o.ANe.BROWSER_NOTIFICATIONS]:!1,[o.ANe.SW_LOGGER_PARAMS]:!1,dragDropPill:!0,offlineChecking:!0,promptToSync:!0,appRefreshIdleInterval:{emergencyRefresh:30,periodicRefresh:60},[o.Zrf.APP_ROOT_PATH]:"/d",previewpanePositionsFromServer:{},[o.ANe.TOOLTIP_EMOJI]:!1,[o.ANe.ATT_PREVIEW_IN_COMPOSE]:!1,[o.ANe.PERSIST_COMPOSE_TEXT_MODE]:!1,pushSubscriptionValidity:7,migrateToTAP:!1,[o.ANe.NOTEPAD_TAB]:!1,newMailVideoId:{onboarding:"ebcb9733-fa01-3cb9-a57d-4254ab9c969a",searchOnboarding:"ad93243f-aae2-32e5-8505-b70ea1b35216",personalizeInbox:"1fae6609-d76d-3b9a-adc6-afe490d2ca10",emailOrganization:"92a2f4f4-00c6-38f5-894d-ebcb34d6b9c9"},selectAll:!1,[o.ANe.LOADING_FALLBACK]:!1,[o.ANe.SHOW_COMMS_PROPERTIES]:!1,[o.Zrf.SYNC_TIME]:20,[o.ANe.DISPOSABLE_ADDRESS]:!0,[o.ANe.ADD_SEND_ONLY_ACCOUNTS]:!0,[o.ANe.REPLY_TO_ADDRESS]:!0,[o.Zrf.ASYNC_TASK_POLL_INTERVAL]:2e3,[o.Zrf.CHECK_MAIL_INTERVAL]:3e4,[o.Zrf.MAIL_URL]:"https://mail.yahoo.com",[o.Zrf.CALENDAR_URL]:"https://calendar.yahoo.com",[o.Zrf.NOTEPAD_URL]:"https://calendar.yahoo.com/?view=notepad",[o.Zrf.FEEDBACK_URL]:"https://yahoo.uservoice.com/forums/600772?auth=yahoo",[o.ANe.TUTORIAL]:!0,[o.Zrf.BUFFER_SIZE]:35,[o.Zrf.PREVIEWABLE_INLINE_ATTACHMENT_SIZE]:51200,[o.Zrf.MESSAGE_INITIAL_RENDER_COUNT]:15,[o.ANe.SHOW_TWEET]:!1,[o.Zrf.STATIONERY_RESTRICTED_THEMES]:!1,[o.ANe.TIMEZONE_CHECK]:!0,[o.ANe.SILENT_TIMEZONE_CORRECTION]:!0,[o.ANe.CHECK_MAIL_PREFETCH]:!1,[o.Zrf.MESSAGE_FETCH_COUNT]:100,[o.Zrf.MESSAGE_FETCH_COUNT_INITIAL]:40,[o.Zrf.COUPON_CARDS_FETCH_COUNT]:25,[o.Zrf.COUPON_RECOMMENDATIONS_FETCH_COUNT]:150,[o.Zrf.CARD_GROUPS_FETCH_COUNT]:10,[o.Zrf.LINK_ENHANCER_URL_BLOCK_LIST]:[],[o.ANe.RTL]:!1,[o.ANe.IS_RETURNING_USER]:!1,[o.ANe.HAS_MAPPED_THEME]:!1,[o.ANe.ADD_EDIT_FROM_LIST_CARD]:!1,[o.ANe.EXTRACTIONS_FEEDBACK]:!1,[o.ANe.DEALS]:!1,[o.ANe.RECOMMENDED_DEALS]:!1,[o.ANe.DEALS_VIEW_FOR_INTLS]:!1,[o.ANe.RECEIPTS]:!1,[o.ANe.FLIGHT_CARD_EXTRACTIONS]:!1,[o.ANe.TRAVEL_VIEW]:!1,[o.ANe.PRELOAD_EMOJI]:!1,[o.ANe.GIF]:!0,[o.ANe.STATIONERY]:!0,[o.ANe.VACATION_RESPONSE_STATIONERY]:!1,[o.ANe.EXCEPTION_NOTIFICATION]:!1,[o.Zrf.NOTIFICATION_TTL]:5e3,[o.ANe.GROCERIES]:!1,[o.ANe.UNUSUAL_DISCOUNT]:!1,[o.Zrf.COMPOSE_THROTTLE_COUNT]:Number.MAX_VALUE,[o.ANe.SCOUT]:!0,[o.ANe.SCOUT_PREDICATE]:!0,[o.ANe.SCOUT_RECURRING]:!0,[o.Zrf.SCOUT_ONBOARDING]:[],[o.ANe.BLOCK_SENDERS]:!1,[o.ANe.FILTER_MESSAGES_LIKE_THIS]:!1,[o.ANe.PKG_TRACKING_TOP_OF_MSG]:!1,[o.ANe.WALMART_CUE]:!1,[o.ANe.GROCERIES_SEARCH_CUE]:!1,[o.ANe.GROCERIES_LOCATIONS_CUE]:!1,[o.ANe.PRODUCT_RECOMMENDATIONS]:!1,[o.ANe.YM6_QRCODE_UPSELL]:!1,[o.ANe.SENDER_DEALS_BACKFILL]:!1,[o.ANe.STATIC_DEALS]:!1,[o.ANe.SHOW_MERCHANT_CARD]:!1,[o.ANe.FETCH_AFFILIATE_RETAILERS]:!1,[o.ANe.SHOW_USER_FOLLOWED_CATEGORIES]:!1,[o.ANe.DEALS_WITH_PRODUCTS]:!1,[o.ANe.SHOW_OUT_N_BACK_AUTO_EXPANSION]:!1,[o.ANe.STOREFRONT]:!1,[o.ANe.STOREFRONT_SHORTCUTS]:!1,[o.ANe.SHOW_SEARCH_CONTACT_CARD]:!1,[o.ANe.FOLDER_SEARCH_DISCOVERABILITY_SEARCH_IN_FOLDERS]:!1,[o.ANe.FOLDER_SEARCH_DISCOVERABILITY_DEFAULT_INBOX]:!1,[o.ANe.ADVANCED_SEARCH_BUTTON_HAS_LABEL]:!1,[o.ANe.ADVANCED_SEARCH_IN_SEARCH_HEADER]:!1,[o.ANe.SCROLL_TO_SEARCH]:!1,[o.ANe.FETCH_COMBINE_DEALS_FROM_ASTRA]:!1,[o.ANe.COMMERCE_CARD_GROUP]:!1,[o.ANe.FILL_PRODUCT_RECOMMENDATION_DEALS]:!1,[o.ANe.UNIFY_DEALS_AND_PRODUCTS]:!1,[o.ANe.USE_SAVED_SEARCH_FOR_FILTERS]:!1,[o.ANe.OPT_OUT_TO_CLASSIC]:!1,[o.ANe.DOCUMENT_PREVIEW]:!0,[o.ANe.MOBILE_MESSAGE_SNIPPETS]:!1,[o.ANe.MOBILE_ONBOARDING_CUE]:!1,[o.ANe.DESIGN_CLASSIFIER]:!1,[o.ANe.CORONAVIRUS_ICON]:!1,[o.ANe.CORONAVIRUS_CUE]:!1,[o.Zrf.CORONAVIRUS_URL]:"https://news.yahoo.com/coronavirus",[o.ANe.MOBILE_SEARCH_SUGGESTIONS]:!1,[o.ANe.MOBILE_SIGNATURE]:!1,[o.ANe.MOBILE_THEMING]:!1,[o.ANe.MOBILE_EDIT_RECIPIENTS]:!1,[o.ANe.SHOULD_SW_SUBSCRIBE]:!1,[o.ANe.PUSH_NOTIFICATIONS_CUE_PTR]:!1,[o.ANe.PUSH_NOTIFICATIONS_CUE_LAUNCH]:!1,[o.ANe.MOBILE_PAC_NOTIFICATION_CUE]:!1,[o.ANe.PUSH_NOTIFICATIONS_CUE_COMPOSE]:!1,[o.Zrf.PUSH_NOTIFICATIONS_EXPERIMENT]:o.PP5.DEFAULT,[o.ANe.MOBILE_MESSAGE_READ_NAVIGATION]:!1,[o.ANe.HOMEPAGE_BUTTON]:!0,[o.ANe.COMPOSE_FROM_CUSTOM_FOLDER]:!1,[o.ANe.SIGN_OUT]:!0,[o.ANe.OFFLINE_TOASTS]:!0,[o.ANe.BLOCK_SENDER_CUE]:!1,[o.ANe.LANDSHARK_CUE]:!1,landsharkCreative:!1,showInvisibleLandshark:!1,[o.ANe.CONVERSATIONS_CUE]:!1,[o.ANe.COUPON_LANDSHARK_CUE]:!1,[o.Zrf.LANDSHARK_ON_COUPON_MESSAGE_STRINGS]:{cueBody:"Get notified about expiring deals with the Yahoo Mail app.",oneLink:"https://go.onelink.me/107872968?pid=InProduct&c=US_Acquisition_YMktg_expiringdeals1_Experiment_&af_sub1=Acquisition&af_sub2=US_YMktg&af_sub3=&af_sub4=&af_sub5="},[o.ANe.NOBLE_SUPPORTED_BROWSER_VERSION]:!0,[o.ANe.NOBLE_SUPPORTED_OS_VERSION]:!0,[o.ANe.MAX_PREVIEW_LENGTH]:1,[o.ANe.SENDER_ROLLUP]:!1,[o.ANe.SENDER_ROLLUP_FLUSH_CACHE]:!1,[o.Zrf.AUTO_OPEN_FIRST_MESSAGE]:!1,[o.ANe.BODY_SCROLLING]:!1,[o.ANe.SMART_APP_BANNERS]:!1,[o.ANe.NON_NATIVE_APP_BANNERS]:!1,[o.Zrf.APP_INSTALL_LINK]:"",[o.Zrf.NOT_FOUND_PAGE_APP_INSTALL_LINK]:"",[o.ANe.APP_INSTALL_CUE_V1]:!1,[o.ANe.APP_INSTALL_CUE_V2]:!1,[o.ANe.PULL_TO_REFRESH]:!0,[o.ANe.NPS_SURVEY]:!1,[o.ANe.NPS_SURVEY_CUE]:!1,[o.Zrf.NPS_SURVEY_CONFIG]:{},[o.ANe.NEXT_GEN_HOME_CUE]:!1,[o.Zrf.NEXT_GEN_HOME_URL]:"",[o.Zrf.INLINE_PROMPT_HELP_URL]:"",[o.Zrf.INLINE_PROMPT_DASHBOARD_URL]:"",[o.Zrf.STAR_ANIMATION]:{},[o.Zrf.GUIDED_STAR_ANIMATION]:{},[o.Zrf.HAS_GUIDED_STAR_ANIMATION]:!1,[o.ANe.SHOW_TABS]:!1,[o.Zrf.HAS_WIDE_LOGO]:!1,[o.ANe.DISPOSABLE_ADDRESS_DELETE_ONLY]:!1,[o.ANe.SHOW_RIGHT_RAIL_HELP_LINKS]:!0,[o.ANe.INLINE_IMAGES_PROXIED]:!1,[o.ANe.CLICK_URL_LOGGING]:!1,[o.ANe.NODIN_BULK_MENU]:!1,[o.Zrf.LOGIN_NAME]:"",[o.Zrf.BASIC_MAIL_FEEDBACK_URL]:"",[o.Zrf.ACCOUNT_INFO_URL]:"",[o.Zrf.HOME_URL]:"",[o.Zrf.TODAYPAGE_URL]:"",[o.Zrf.SHOW_TODAY_AT_SIGNIN]:!1,[o.Zrf.BASIC_MAIL_THEME]:"DEFAULT",[o.Zrf.HOMEPAGE_URL]:"https://www.yahoo.com",[o.Zrf.SIGN_OUT_URL]:"https://login.yahoo.com/config/login?logout=1&.src=ym&.intl=us&.direct=2&.done=https://www.yahoo.com",[o.Zrf.V3_LIST_MESSAGE_BUFFER]:100,[o.Zrf.V3_OPPOSITE_BUFFER]:20,[o.Zrf.V3_LIST_NUM_OF_PLACEHOLDER]:20,[o.Zrf.NODIN_ONBOARD]:[],[o.ANe.SHOW_NODIN_ONBOARDING_MESSAGE]:!1,[o.ANe.SHOW_NODIN_AUTO_FORWARD_NOTIFICATION]:!1,[o.ANe.NODIN_IMAPIN]:!1,[o.Zrf.NOTIFICATION_MODE]:"",[o.Zrf.NOTIFICATION]:!1,[o.ANe.OPEN_FIRST_MESSAGE]:!1,[o.ANe.ASTRA_YCPI_HOST]:!1,[o.ANe.AD_FEEDBACK_V2]:!1,[o.ANe.OLD_NEW_MAIL]:!1,[o.ANe.SHOW_TODAYPAGE]:!1,[o.ANe.SHOW_PIK_SETTING]:!1,[o.Zrf.INBOX_STYLE]:0,[o.ANe.IS_REINDEXABLE]:!0,[o.Zrf.MIGRATION_STATUS]:"",[o.ANe.ENABLE_SETTINGS_MIGRATION]:!1,[o.ANe.AOL_ONBOARDING_CUE_ML]:!1,[o.ANe.AOL_ONBOARDING_CUE_MR]:!1,[o.ANe.AOL_ONBOARDING_CUE_SM]:!1,[o.ANe.AOL_ONBOARDING_CUE_CP]:!1,[o.ANe.ENABLE_AOL_CONTACTS_CATEGORIES]:!1,[o.ANe.FIX_IMG_SRC]:!1,[o.ANe.EXTERNAL_INLINE_IMAGE_PREVIEW]:!1,[o.ANe.UNSUBSCRIBE_FOR_SPAM]:!1,[o.Zrf.MAX_NUMBER_OF_MESSAGE_BODIES]:200,[o.Zrf.MAX_NUMBER_OF_DOCUMENTS]:50,[o.Zrf.ADBLOCK_DELAY_DISMISS_SETTINGS]:{},[o.Zrf.ADBLOCK_DELAY_DISMISS_INSTRUMENTATION_URL]:{},[o.ANe.AUTO_FORWARD_CUE]:!1,[o.ANe.AUTO_FORWARD_NOTIFICATION]:!1,[o.ANe.AUTO_FORWARD_ALLOWED]:!1,[o.ANe.FREE_AUTO_FORWARD_EXPIRED]:!1,[o.ANe.PREMIUM_DEA]:!1,[o.ANe.PREMIUM_DEA_ALLOWED]:!1,[o.ANe.SMARTVIEWS]:!0,[o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT]:!1,[o.ANe.GDPR_WARNING_CUE]:!1,[o.ANe.INLINE_PROMPT_AD_TARGET_CUE]:!1,[o.ANe.COMPACT_COMPOSE]:!1,[o.ANe.COMPOSE_FORMAT_CUE]:!1,[o.ANe.VIDEO_PLAYER_IN_ENHANCED_CARD]:!1,[o.ANe.SPAM_INDICATOR]:!1,[o.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL_ELIGIBLE]:!1,[o.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL]:!1,[o.Zrf.MAILPRO_TO_MAIL_PLUS_UPSELL_SETTINGS]:{},[o.ANe.MAIL_PLUS_SPONSORED_MESSAGE_ON_AD_MISCLICK]:!1,[o.ANe.CALENDAR_TAB]:!1,[o.ANe.FOCUSED_INBOX]:!1,[o.ANe.REDIRECT_MAIL_PLUS_BENEFITS_CLICK_TO_SETTING]:!1,[o.ANe.USE_DISPATCHER_CLIENT]:!1},Xe={route:function(e={},t){switch(t.type){case i.INITIAL_STATE:case i.LAUNCH_PAGE_REQUESTED:case i.OPEN_PAGE_REQUESTED:default:return t.route&&e===t.route?e:t.route||e}},drawer:(e=!1,t)=>{switch(t.type){case i.DRAWER_OPENED:return!0;case i.DRAWER_CLOSED:return!1;default:return e}},autoOpenSettingsPopover:(e=!1,t)=>{switch(t.type){case i.SETTINGS_POPOVER_AUTOOPEN_CHANGED:return t.status||e;default:return e}},sendingEmailConfirmStatus:(e=!1,t)=>{switch(t.type){case i.CONFIRM_EMAIL_RESEND_REQUESTED:return!0;case i.CONFIRM_EMAIL_RESEND_SUCCEEDED:case i.CONFIRM_EMAIL_RESEND_FAILED:return!1;default:return e}},actionableRightRailContent:(e,t)=>{const{type:s,name:a}=t;switch(e||(e={currentView:null}),s){case i.RIGHT_RAIL_COMMS_ICON_CLICKED:{if(!me()(Object.keys(o.Qk$).filter((e=>null!==e)),a))break;const t=e.currentView!==a?a:null;return{...e,currentView:t}}case i.EDIT_CONTACT_FROM_CARD:case i.ADD_TO_CONTACTS:return{...e,currentView:a};case i.OPEN_PAGE_REQUESTED:case i.PREVIEW_MESSAGE_REQUESTED:{const{uiContext:{mKey:s}={},route:{name:a}={}}=t;if(a===o.n8z.NEW_DRAFT)return e;if(s){if(-1!==W.o.COMPOSE_FROM_CONTACTS_PANE.indexOf(s))return e;if(-1!==W.o.REPLACE_ATTACHMENT_WITH_RIGHT_RAIL.indexOf(s)&&me()(Object.keys(o.Qk$),a))return{...e,currentView:a}}return{...e,currentView:null}}}return e},hideRightPaneAds:(e=!1,t)=>{if(pe.gM[t.type])return!1;switch(t.type){case i.APPLICATION_VISIBILITY_DID_CHANGE:case i.OPEN_PAGE_REQUESTED:return!1;case i.HIDE_RIGHT_PANE_ADS:return!0}return e},[o.ANe.SHOW_RECOMMENDATIONS_MODAL]:(e=!0,t)=>{switch(t.type){case i.COUPON_RECOMMENDATIONS_CLOSED:return!1;default:return e}},[o.Zrf.IS_USER_FOLLOWING_CATEGORIES]:(e=!1,t)=>{const{type:s,response:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:{var n;const e=null==a||null===(n=a[o.G1D.GROCERY_RETAILERS])||void 0===n?void 0:n.followedCategoryList;return!(!e||!e.length)}case i.CATEGORY_FOLLOW_SUCCEEDED:return!0;default:return e}},[o.ANe.REPLY_NUDGE_COUNT]:(e=0,t)=>{const{type:s,predictionList:a}=t;switch(s){case i.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:return e+a.length;default:return e}},[o.ANe.HIDE_RIGHT_PANE_ADS_CLICK_COUNT]:(e=0,t)=>{switch(t.type){case i.HIDE_RIGHT_PANE_ADS:return e+1}return e},[o.ANe.MAIL_PLUS_FEATURES_UPSELL]:(e={},t)=>{switch(t.type){case i.MAIL_PLUS_FEATURE_REQUESTED:{const{plusFeatureRequested:s}=t;return s?{plusFeatureRequested:s}:e}case i.OPEN_PAGE_REQUESTED:{var s;const{plusFeatureRequested:a,route:n}=t;return(null==n?void 0:n.name)===o.n8z.SETTINGS&&(null==n||null===(s=n.params)||void 0===s?void 0:s.settingsGroupId)===o.u5h.MAIL_PLUS?{}:a?{plusFeatureRequested:a}:e}case i.CLOSE_MAIL_PLUS_FEATURE_UPSELL:case i.MAIL_PLUS_FREE_TRIAL_REQUESTED:return{};default:return e}}};Object.keys(Qe).forEach((e=>{Xe[e]=je(e,Qe[e])}));const Je=(0,a.combineReducers)(Xe);function $e(e,t){return void 0===e[t]?{...e,[t]:{isShown:!0}}:e[t]&&!e[t].reShowInSession?{...e,[t]:Object.assign({},e[t],{isShown:!0})}:e}function et(e,t){return t===o.ANe.MOBILE_PAC_NOTIFICATION_CUE||t===o.ANe.WEB_PAC_NOTIFICATION_CUE?e:{...e,[t]:Object.assign({},e[t],{isKeySaved:!0})}}const tt=(e={},t)=>{switch(t.type){case i.INITIAL_STATE:{const{nextFeature:e,featureCues:s={}}=t;return e?$e(s,e):s}case i.FEATURE_CLOSED:case i.PAC_CUE_MARK_AS_SHOWN_REQUESTED:case i.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:{const{name:s,userResponse:a}=t;if(s&&(e[s]||void 0===e[s])){return function(e,t,s){const a=e[t].userResponse;return{...e,[t]:Object.assign({},e[t],{userResponse:s||a})}}($e(e,s),s,a)}return e}case i.FEATURE_CUE_MARK_AS_SHOWN_FAILED:{const{feature:s}=t;return s&&e[s]&&e[s].reShowInSession?function(e,t){return e[t]&&e[t].reShowInSession?{...e,[t]:Object.assign({},e[t],{reShowInSession:!1})}:e}(e,s):e}case i.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:{const{feature:s}=t;return s&&e[s]&&!e[s].isPersistent?et(e,s):e}case i.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED:case i.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED:{const{feature:s}=t;return s&&e[s]?et(e,s):e}default:{const{nextFeature:s}=t;return s?$e(e,s):e}}},st=(0,a.combineReducers)({providerName:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.providerName;default:return e}},providerIataCode:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.providerIataCode;default:return e}},providerUrl:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.providerUrl;default:return e}},departureAirportName:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureAirportName;default:return e}},departureAirportDesc:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureAirportDesc;default:return e}},departureAirportCode:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureAirportCode;default:return e}},departureTime:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureTime;default:return e}},departureTerminal:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureTerminal;default:return e}},arrivalAirportName:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalAirportName;default:return e}},arrivalAirportDesc:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalAirportDesc;default:return e}},arrivalAirportCode:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalAirportCode;default:return e}},arrivalTime:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalTime;default:return e}},arrivalTerminal:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalTerminal;default:return e}},reservationId:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.reservationId;default:return e}},flightNumber:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.flightNumber;default:return e}},passengers:(e=[],t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.passengers;default:return e}},checkInUrl:(e="",t)=>{const{type:s,card:a}=t;switch(s){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.checkInUrl;default:return e}}});const at=function(e={},t){const{listData:s,type:a}=t;switch(a){case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter((t=>s.schemaCards[t].type===o.rgK.FlightReservation&&!r()(e[t],s.schemaCards[t]))).reduce(((t,n)=>({...t,[n]:st(e[n],{type:a,card:s.schemaCards[n]})})),{});return Object.keys(t).length?{...e,...t}:e}default:return e}};var nt=s(42907),rt=s(71421);const ot=(0,a.combineReducers)({id:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.CREATE_FOLDER_SUCCEEDED:return a.id}return e},name:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:return a.name;case i.CREATE_FOLDER_SUCCEEDED:case i.MOVE_FOLDER_SUCCEEDED:case i.RENAME_FOLDER_SUCCEEDED:return a.name.substr(a.name.lastIndexOf("/")+1)}return e},path:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:return a&&a.path?a.path:e;case i.CREATE_FOLDER_SUCCEEDED:case i.RENAME_FOLDER_SUCCEEDED:case i.MOVE_FOLDER_SUCCEEDED:return a&&a.name?a.name:e}return e},accountId:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.CREATE_FOLDER_SUCCEEDED:return a.accountId}return e},types:(e=[],t)=>{const{type:s,folder:a}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.CREATE_FOLDER_SUCCEEDED:return r()(e,a.types)?e:a.types}return e},isSystem:(e=!1,t)=>{const{type:s,folder:a}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.CREATE_FOLDER_SUCCEEDED:return a.isSystem}return e},total:(e=0,t)=>{const{type:s,folder:a,isDestinationFolder:n}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.CREATE_FOLDER_SUCCEEDED:return a.total;case i.MOVE_ITEMS_REQUESTED:case i.MOVE_AND_READ_CHANGE_REQUESTED:case i.DELETE_ITEMS_REQUESTED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SEND_SUCCEEDED:case i.UPDATE_ITEMS_FAILED:return n?e+1:e-1;case i.V3_MESSAGE_SAVE_SUCCEEDED:return t.draftMessageId?e:e+1}return e},unread:(e=0,t)=>{const{type:s,folder:a,streamItem:n,isDestinationFolder:r,flags:l={},selectionType:c}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.CREATE_FOLDER_SUCCEEDED:return a.unread;case i.READ_CHANGE_REQUESTED:return!n&&c===o.ie0.ALL&&a?l.read?a.total:0:l.read?e+1:e-1;case i.RECENT_AND_READ_CHANGE_REQUESTED:return e-1;case i.MOVE_ITEMS_REQUESTED:case i.MOVE_AND_READ_CHANGE_REQUESTED:case i.DELETE_ITEMS_REQUESTED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SEND_SUCCEEDED:case i.UPDATE_ITEMS_FAILED:return r?l.read?e:e+1:l.read?e:e-1;default:return e}},highestModSeq:(e=-1,t)=>{const{type:s,folder:a}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.CREATE_FOLDER_SUCCEEDED:return a.highestModSeq}return e},uidNext:(e=-1,t)=>{const{type:s,folder:a}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.CREATE_FOLDER_SUCCEEDED:return a.uidNext}return e},level:(e=0,t)=>{const{type:s,folder:a,folderNameMap:n}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:return a.level;case i.MOVE_FOLDER_SUCCEEDED:case i.CREATE_FOLDER_SUCCEEDED:{const e=(0,nt.OG)(a.path||a.name);return(0,nt.i3)(a,n,e).length||0}}return e}});const it=function(e={},t){switch(t.type){case i.INITIAL_STATE:case i.CREATE_FOLDER_SUCCEEDED:case i.RENAME_FOLDER_SUCCEEDED:case i.MOVE_FOLDER_SUCCEEDED:{const s=Object.keys(t.folderMap||{}).map((e=>t.folderMap[e])).filter((t=>!r()(e[t.id],t)));return s.length?s.reduce(((s,a)=>({...s,[a.id]:ot(s[a.id],{type:t.type,folder:a,folderNameMap:e})})),{...e}):e}case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:{const{folderMap:s={}}=t,a=Object.keys(s);if(!a.length)return e;const n=a.map((e=>s[e])).filter((t=>!r()(e[t.id],t))),o=Object.keys(e).filter((e=>!s[e]));return n.length||o.length?n.reduce(((e,s)=>({...e,[s.id]:ot(e[s.id],{type:t.type,folder:s})})),y()(e,o)):e}case i.DELETE_FOLDER_SUCCEEDED:return y()(e,[t.folderId]);case i.MOVE_ITEMS_REQUESTED:case i.MOVE_AND_READ_CHANGE_REQUESTED:case i.DELETE_ITEMS_REQUESTED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SEND_SUCCEEDED:case i.READ_CHANGE_REQUESTED:case i.RECENT_AND_READ_CHANGE_REQUESTED:{const{itemsToUpdate:s=[]}=t,a=s.filter((e=>e.isAffected&&!e.isQueryBased));return a.length?a.reduce(((e,{flags:s,folder:a,destinationFolder:n})=>null!=a&&a.id&&null!=n&&n.id&&a.id===n.id?e:{...e,...a&&a.id&&{[a.id]:ot(e[a.id],{...t,folder:a,flags:{...s,read:"boolean"==typeof t.isRead?t.isRead:s.read}})},...n?{[n.id]:ot(e[n.id],{...t,folder:a,isDestinationFolder:!0,flags:s})}:{}}),{...e}):e}case i.UPDATE_ITEMS_FAILED:{const{itemsToDelete:s=[]}=t,a=s.filter((e=>e.isAffected));return a.length?a.reduce(((e,{flags:s,folder:a,destinationFolder:n})=>({...e,...a&&a.id&&{[a.id]:ot(e[a.id],{type:t.type,folder:a,flags:{...s,read:"boolean"==typeof t.isRead?t.isRead:s.read}})},...n?{[n.id]:ot(e[n.id],{type:t.type,folder:a,isDestinationFolder:!0,flags:s})}:{}})),{...e}):e}case i.V3_MESSAGE_SAVE_SUCCEEDED:{const{draftFolderId:s}=t;return s?{...y()(e,[s]),[s]:ot(e[s],{type:t.type,folder:e[s],folderNameMap:e,draftMessageId:t.draftMessageId})}:e}default:return e}},lt=(e=o.DAQ.DOES_NOT_EXIST,t)=>{switch(t.type){case i.GIF_FETCH_REQUESTED:return o.DAQ.LOADING;case i.GIF_FETCH_SUCCEEDED:return o.DAQ.LOADED;case i.GIF_FETCH_FAILED:return o.DAQ.ERROR;default:return e}},ct=(0,a.combineReducers)({categories:(e={},t)=>{switch(t.type){case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return t.categories.reduce(((e,t)=>({...e,[t.categoryId]:{category:t}})),{});case i.GIF_FETCH_FAILED:case i.GIF_FETCH_REQUESTED:case i.GIF_FETCH_SUCCEEDED:{const{query:s,preloadItems:a}=t;return a?{...e,[s]:{...e[s],status:lt(e[s].status,t)}}:e}default:return e}},categoriesStatus:(e=o.DAQ.DOES_NOT_EXIST,t)=>{switch(t.type){case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return o.DAQ.LOADED;case i.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED:return o.DAQ.LOADING;case i.GIF_CATEGORIES_CONTENT_FETCH_FAILED:return o.DAQ.ERROR;default:return e}},categoryIds:(e=[],t)=>{switch(t.type){case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return t.categories.map((e=>e.categoryId));default:return e}}}),dt=(e={},t)=>{switch(t.type){case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case i.GIF_FETCH_SUCCEEDED:{const{listData:{gifItems:s={}}}=t;return{...e,...s}}default:return e}};var Et=s(58468);const _t=function(e=[],t){switch(t.type){case i.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:return t.contacts}return e};const ut=(0,a.combineReducers)({type:(e="",t)=>{const{type:s,launchError:a,mailboxAttributes:n}=t;switch(s){case i.INITIAL_STATE:return a||(n&&!n.success?o.Rtf.SETTINGS_FAILED_TO_LOAD:e);case i.LAUNCH_FAILED:case i.SETTINGS_CHANGE_REQUESTED:return"";default:return e}}}),mt=(e={},t)=>{switch(t.type){case i.LINK_ENHANCER_FETCH_SUCCEEDED:{const{cardUrl:s,linkInfo:a}=t;return{...e,[s]:a}}default:return e}},St=(e=!1,t)=>{const{listId:s,type:a}=t;switch(a){case i.INITIAL_STATE:case i.CHANGE_FOLDER_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.UNDO_MOVE_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_COUPONS_SUCCESS:case i.COUPONS_LIST_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.GIF_FETCH_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case i.OFFERS_LIST_SUCCEEDED:case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:return void 0!==t.listData.lists[s].hasMoreItems?t.listData.lists[s].hasMoreItems:e;default:return e}},pt=(e=[],t)=>{const{listId:s,type:a}=t;switch(a){case i.INITIAL_STATE:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.GIF_FETCH_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case i.MORE_COUPONS_SUCCESS:case i.COUPONS_LIST_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.COUPONS_ADD_TAG_DECO_REQUESTED:case i.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:case i.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case i.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:{const{itemIds:a}=t.listData.lists[s];return r()(e,a)?e:(0,q.Po)(e,a)}case i.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:case i.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case i.SETTINGS_BLOCKED_DOMAINS_FETCHED:{const{itemIds:a}=t.listData.lists[s];return r()(e,a)?e:a}case i.DELETE_CONTACT_REQUESTED:case i.COUPONS_REMOVE_TAG_DECO_REQUESTED:{const{itemsToUpdate:s=[],listToUpdate:{itemsToUpdate:a=[]}={}}=t,n=a.length?a:s.filter((e=>e.isAffected&&(0,q.C4)(t.listToUpdate.listId)!==o.ukn.ALL_COUPON_CARDS)).map((e=>e.id));return n.length?e.filter((e=>"object"==typeof e?e.type===k.df.EMAIL&&-1===n.indexOf(e.value):-1===n.indexOf(e))):e}case i.CREATE_CONTACT_SUCCEEDED:{const{itemsToUpdate:s,listToUpdate:a={}}=t;return(0,q.h_)(a.listId)?[...e,s[0].id]:e}case i.CONTACT_SAVE_SUCCEEDED:{var n;const{itemsToUpdate:s=[],listToUpdate:a={}}=t;let r=[...e];return s.forEach((t=>{t.oldListId===a.listId&&(r=e.filter((e=>e!==t.id))),t.listId===a.listId&&(r=[...r,t.id])})),null!==(n=t.contact)&&void 0!==n&&n.deletedContactId&&(r=r.filter((e=>e!==t.contact.deletedContactId))),r}case i.FETCH_ALL_CONTACTS_SUCCESS:case i.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case i.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case i.CONTACTS_GROUP_FETCH_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.CHANGE_FOLDER_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.UNDO_MOVE_SUCCEEDED:case i.RECEIPTS_LIST_SUCCEEDED:case i.SENDER_ROLLUP_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.CONTACTS_GROUP_DELETE_REQUESTED:case i.CONTACTS_GROUP_DELETE_FAILED:{const{listData:s,listId:a}=t;return(0,q.fG)(e,s,a)}case i.CONTACTS_LIST_FETCH_SUCCEEDED:{const{listData:s,listId:a}=t,{itemIds:n,totalHits:r}=s.lists[a];return n.length<e.length&&e.length!==r?n:(0,q.fG)(e,s,a)}case i.READ_CHANGE_REQUESTED:case i.RECENT_AND_READ_CHANGE_REQUESTED:{const{listToUpdate:s,itemsToUpdate:a,isRead:n,isOldNewMailStyle:r}=t;if(!s)return e;const{listId:o}=s,i=r?(0,rt.Yk)(a,o,n?"read":"unread"):(0,rt.k1)(a,o,n?[]:["unread"]);return i.length?e.filter((e=>-1===i.indexOf(e))):e}case i.STAR_CHANGE_REQUESTED:{const{listToUpdate:s,itemsToUpdate:a,isStarred:n}=t;if(!s)return e;const{listId:r}=s,o=(0,rt.k1)(a,r,n?["flagged","starred"]:[]);return o.length?e.filter((e=>-1===o.indexOf(e))):e}case i.V3_MESSAGE_SAVE_SUCCEEDED:{var l,c;const{itemsToUpdate:s=[],previousStreamItem:a,listToUpdate:n={}}=t;return s.length&&(null===(l=s[0])||void 0===l?void 0:l.listId)===n.listId&&null!==(c=s[0])&&void 0!==c&&c.id?[s[0].id,...null!=a&&a.id?e.filter((e=>e!==a.id)):e]:e}case i.MOVE_AND_READ_CHANGE_REQUESTED:{const{listToUpdate:s,itemsToUpdate:a=[],isRead:n,conversationsMode:r,message:o,destinationListId:i}=t;if(!s)return e;const{listId:l,folderIds:c=[]}=s,d=(0,rt.S2)(a,c),E=(0,rt.Yk)(a,l,n?"read":"unread"),_=d.concat(E);let u=_.filter(((e,t)=>_.indexOf(e)===t));u=a.reduce(((e,{attachmentIds:t=[]})=>e.concat(t)),u);const m=u.length?e.filter((e=>-1===u.indexOf(e))):e;if(s.listId===i&&o){const e=r?o.conversationId:o.id;return(0,q.m6)(i,m,e)}return m}case i.DELETE_ITEMS_REQUESTED:case i.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case i.MOVE_ITEMS_REQUESTED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SEND_SUCCEEDED:case i.SEND_SUCCESS:case i.UPDATE_ITEMS_FAILED:{const{listToUpdate:s,itemsToUpdate:a=[],conversationsMode:n,message:r,triageActionType:i,destinationFolderId:l}=t;if(!s)return e;if(i===o.Ewo.DELETE_FOLDER_ITEMS&&a[0]){const{listId:t,isAffected:n}=a[0];return n&&t===s.listId?[]:e}const{folderIds:c=[]}=s;let d=(0,rt.S2)(a,c);d=a.reduce(((e,{attachmentIds:t=[]})=>e.concat(t)),d);const E=d.length?e.filter((e=>-1===d.indexOf(e))):e,_=(0,q.Kw)(l);if(s.listId===_&&r){const e=n?r.conversationId:r.id;return(0,q.m6)(_,E,e)}return E}case i.OFFERS_LIST_SUCCEEDED:case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:{const{itemIds:e}=t.listData.lists[s];return e||[]}case i.ACTIVATE_OFFER_SUCCEEDED:{const{itemIds:a}=t.listData.lists[s],n=(0,q.C4)(s);return n===o.ukn.RECOMMENDED_OFFER_CARDS?null!=a&&a.length?e.filter((e=>-1===a.indexOf(e))):e:n===o.ukn.ACTIVATED_OFFER_CARDS?r()(e,a)?e:(0,q.Po)(e,a):e}case i.DELETE_GROCERY_ITEMS_SUCCEEDED:{const{itemIds:a}=t.listData.lists[s],n=(0,q.C4)(s);return n===o.ukn.RECOMMENDED_OFFER_CARDS?r()(e,a)?e:(0,q.Po)(e,a):n===o.ukn.ACTIVATED_OFFER_CARDS&&null!=a&&a.length?e.filter((e=>-1===a.indexOf(e))):e}case i.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const{tempGroupId:s,id:a}=t;return e.map((e=>e===s?a:e))}case i.OPEN_PAGE_REQUESTED:{const{itemsToRemove:s=[],itemsToAdd:a=[]}=t.listToUpdate;return null!=s&&s.length||null!=a&&a.length?e.filter((e=>-1===s.indexOf(e))).concat(a):e}default:return e}},Ct=(e=null,t)=>{const{listId:s,type:a}=t;switch(a){case i.INITIAL_STATE:case i.CHANGE_FOLDER_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.UNDO_MOVE_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_COUPONS_SUCCESS:case i.COUPONS_LIST_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.GIF_FETCH_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return void 0!==t.listData.lists[s].lmv3Query?t.listData.lists[s].lmv3Query:e;default:return e}},At=(e="",t)=>{const{listId:s,type:a}=t;switch(a){case i.INITIAL_STATE:case i.CHANGE_FOLDER_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.UNDO_MOVE_SUCCEEDED:case i.COUPONS_LIST_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.GIF_FETCH_SUCCEEDED:case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:return t.listData.lists[s].nextItemsUrl||"";default:return e}},Tt=(e=0,t)=>{const{listId:s,type:a}=t;switch(a){case i.MORE_COUPONS_SUCCESS:case i.COUPONS_LIST_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.OFFERS_LIST_SUCCEEDED:case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.GIF_FETCH_SUCCEEDED:case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:return t.listData.lists[s].offset||e;default:return e}},ht=(e=o.DAQ.DOES_NOT_EXIST,t)=>{const{type:s,listToUpdate:{markAsDirty:a=!0}={}}=t;switch(s){case i.INITIAL_STATE:return-1===[o.n8z.FOLDER,o.n8z.LIST,o.n8z.SEARCH,o.n8z.BASE].indexOf(t.route.name)?e:o.DAQ.LOADED;case i.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case i.CONTACTS_GROUP_FETCH_SUCCEEDED:case i.GIF_FETCH_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case i.CHANGE_FOLDER_SUCCEEDED:case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.COUPONS_LIST_SUCCEEDED:case i.RECEIPTS_LIST_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_COUPONS_SUCCESS:case i.MORE_RECEIPTS_SUCCESS:case i.CONTACTS_LIST_FETCH_SUCCEEDED:case i.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case i.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case i.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:case i.SETTINGS_BLOCKED_DOMAINS_FETCHED:case i.OFFERS_LIST_SUCCEEDED:case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case i.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.FETCH_ALL_CONTACTS_SUCCESS:return o.DAQ.LOADED;case i.GIF_FETCH_REQUESTED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED:return o.DAQ.LOADING;case i.CREATE_CONTACT_SUCCEEDED:case i.CONTACT_SAVE_SUCCEEDED:case i.DELETE_CONTACT_REQUESTED:case i.CONTACTS_SORT_ORDER_CHANGED:return a?o.DAQ.DIRTY:e;case i.SETTINGS_BLOCKED_DOMAINS_FETCH_FAILED:case i.CONTACTS_GROUP_FETCH_FAILED:case i.COUPONS_LIST_FAILED:case i.RECEIPTS_LIST_FAILED:case i.MORE_RECEIPTS_REQUEST_FAILED:case i.MORE_COUPONS_REQUEST_FAILED:case i.GIF_FETCH_FAILED:case i.CHANGE_FOLDER_FAILED:case i.SEARCH_LIST_ITEMS_FAILED:case i.TRAVEL_LIST_FAILED:case i.CONTACTS_LIST_FETCH_FAILED:case i.IMPORTANT_CONTACTS_FETCH_FAILED:case i.OFFERS_LIST_FAILED:case i.ACTIVATED_OFFERS_LIST_FAILED:case i.SUBSCRIPTION_LIST_FETCH_FAILED:case i.SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED:case i.FETCH_ALL_CONTACTS_FAILED:return o.DAQ.ERROR;case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED:var n;return"EP-5020"===(null==t||null===(n=t.err)||void 0===n?void 0:n.errorCode)?o.DAQ.DIRTY:o.DAQ.ERROR;default:return e}},gt=(e=[],t)=>{const{listId:s,type:a}=t;switch(a){case i.INITIAL_STATE:case i.CHANGE_FOLDER_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.UNDO_MOVE_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_COUPONS_SUCCESS:case i.COUPONS_LIST_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.GIF_FETCH_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:{if(void 0===t.listData.lists[s].suggestedWords)return e;const{suggestedWords:a=[]}=t.listData.lists[s],[n]=a;return(n||{}).suggested||e}default:return e}},It=(e=null,t)=>{const{listId:s,type:a}=t;switch(a){case i.INITIAL_STATE:case i.CHANGE_FOLDER_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.UNDO_MOVE_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_COUPONS_SUCCESS:case i.COUPONS_LIST_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.GIF_FETCH_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case i.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case i.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case i.CONTACTS_LIST_FETCH_SUCCEEDED:case i.FETCH_ALL_CONTACTS_SUCCESS:case i.CONTACTS_GROUP_FETCH_SUCCEEDED:case i.CONTACTS_GROUP_DELETE_REQUESTED:case i.CONTACTS_GROUP_DELETE_FAILED:case i.SETTINGS_BLOCKED_DOMAINS_FETCHED:case i.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case i.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:return void 0!==t.listData.lists[s].totalHits?t.listData.lists[s].totalHits:e;case i.DELETE_CONTACT_REQUESTED:{const{itemsToUpdate:s,listToUpdate:a}=t;return e?e-s.filter((e=>e.isAffected&&(e.listId===a.listId||(0,q.C4)(a.listId)===o.ukn.PRINT_CONTACTS))).length:e}case i.CREATE_CONTACT_SUCCEEDED:return e?e+1:1;case i.CONTACT_SAVE_SUCCEEDED:{const{itemsToUpdate:s,listToUpdate:a}=t;let n=0;return s[0].listId!==s[0].oldListId&&(n=a.listId===s[0].listId?1:a.listId===s[0].oldListId?-1:0),e?e+n:1}default:return e}},Rt=(0,a.combineReducers)({itemIds:pt,nextItemsUrl:At,offset:Tt,hasMoreItems:St,status:ht,lmv3Query:Ct,totalHits:It,suggestedWords:gt}),Ot=(e={},t)=>{switch(t.type){case i.INITIAL_STATE:case i.CHANGE_FOLDER_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.UNDO_MOVE_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.GIF_FETCH_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case i.MORE_COUPONS_SUCCESS:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case i.COUPONS_LIST_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.COUPONS_ADD_TAG_DECO_REQUESTED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.CONTACTS_LIST_FETCH_SUCCEEDED:case i.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case i.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case i.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:case i.SETTINGS_BLOCKED_DOMAINS_FETCHED:case i.CONTACTS_GROUP_FETCH_SUCCEEDED:case i.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case i.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case i.FETCH_ALL_CONTACTS_SUCCESS:case i.OFFERS_LIST_SUCCEEDED:case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:case i.CONTACTS_GROUP_DELETE_REQUESTED:case i.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case i.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:return{...e,...Object.keys(t.listData.lists||{}).reduce(((s,a)=>({...s,[a]:Rt(e[a],{...t,listId:a})})),{})};case i.GIF_FETCH_FAILED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED:case i.COUPONS_LIST_FAILED:case i.MORE_COUPONS_REQUEST_FAILED:case i.RECEIPTS_LIST_FAILED:case i.MORE_RECEIPTS_REQUEST_FAILED:case i.CHANGE_FOLDER_FAILED:case i.CONTACTS_LIST_FETCH_FAILED:case i.FETCH_ALL_CONTACTS_FAILED:case i.CONTACTS_GROUP_DELETE_FAILED:case i.SEARCH_LIST_ITEMS_FAILED:case i.OFFERS_LIST_FAILED:case i.ACTIVATED_OFFERS_LIST_FAILED:{const{listId:s}=t;return{...e,[s]:Rt(e[s],t)}}case i.DELETE_ITEMS_REQUESTED:case i.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case i.MOVE_ITEMS_REQUESTED:case i.MOVE_AND_READ_CHANGE_REQUESTED:case i.READ_CHANGE_REQUESTED:case i.RECENT_AND_READ_CHANGE_REQUESTED:case i.SEND_SUCCESS:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.STAR_CHANGE_REQUESTED:case i.COUPONS_REMOVE_TAG_DECO_REQUESTED:case i.DELETE_CONTACT_REQUESTED:case i.CREATE_CONTACT_SUCCEEDED:case i.CONTACT_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SEND_SUCCEEDED:{const{listsToUpdate:s=[],itemsToUpdate:a=[],listsToRemove:n=[],route:r,isTwoColumnLayout:l=!1}=t,c=(0,q.kw)((0,q.LY)(r));if(l&&(t.type===i.READ_CHANGE_REQUESTED||t.type===i.RECENT_AND_READ_CHANGE_REQUESTED)&&(c===o.K8C.NEWMAIL||c===o.K8C.UNREAD))return e;if(!s.length&&!n.length||!a.length)return e;let d={...e,...s.reduce(((s,n)=>({...s,[n.listId]:Rt(e[n.listId],{...t,listToUpdate:n,itemsToUpdate:a})})),{})};for(const e of n)d=y()(d,e);return d}case i.UPDATE_ITEMS_FAILED:{const{listsToUpdate:s=[],itemsToDelete:a=[],listsToRemove:n=[]}=t;if(!s.length&&!n.length||!a.length)return e;let r={...e,...s.reduce(((s,n)=>({...s,[n.listId]:Rt(e[n.listId],{...t,listToUpdate:n,itemsToUpdate:a})})),{})};for(const e of n)r=y()(r,e);return r}case i.COUPON_RECOMMENDATIONS_CLOSED:{const{listId:s=""}=t;return""===s?e:y()(e,s)}case i.CONTACTS_GROUP_DELETE_SUCCEEDED:{const{groupId:s}=t;if(!s)return e;const a=(0,q.uh)(o.ukn.GROUPS,s);return(0,l.oF)(e,[a])}case i.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const{newListId:s,tempListId:a}=t,n=(0,l.T8)(e,a,s),r=(0,q.uh)(o.ukn.GROUPS);return n[r]=Rt(e[r],{...t,listId:r}),n}case i.CONTACTS_SORT_ORDER_CHANGED:case i.OPEN_PAGE_REQUESTED:{const{listsToUpdate:s}=t;if(null!=s&&s.length){return{...e,...s.reduce(((s,a)=>({...s,[a.listId]:Rt(e[a.listId],{...t,listToUpdate:a})})),{})}}return e}case i.UPDATE_PREFERRED_STORE_SUCCEEDED:{const{retailerId:s}=t,a={...e};return Object.keys(e).forEach((e=>{(0,q.h_)(e)===s&&(a[e].status=o.DAQ.LOADING)})),a}default:return e}},Dt=(0,a.combineReducers)({locationSuggestions:(e={},t)=>{switch(t.type){case i.LOCATION_SUGGEST_SUCCEEDED:return{...e,[t.keyword]:t.suggestions};default:return e}},locationFetchStatus:(e={},t)=>{switch(t.type){case i.LOCATION_SUGGEST_REQUESTED:return{[t.keyword]:o.DAQ.LOADING};case i.LOCATION_SUGGEST_SUCCEEDED:return{[t.keyword]:o.DAQ.LOADED};case i.LOCATION_SUGGEST_FAILED:return{[t.keyword]:o.DAQ.ERROR};default:return e}}});const Nt=(0,a.combineReducers)({suggestions:function(e={},t){switch(t.type){case i.ALIAS_EMAIL_CREATE_REQUESTED:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:return{};case i.ALIAS_EMAIL_CREATE_FAILED:return t.suggestions?{[t.email]:t.suggestions}:e}return e},status:function(e={},t){switch(t.type){case i.ALIAS_EMAIL_CREATE_REQUESTED:return{[t.email]:o.DAQ.LOADING};case i.ALIAS_EMAIL_CREATE_SUCCEEDED:return{[t.email]:o.DAQ.LOADED};case i.ALIAS_EMAIL_CREATE_FAILED:return{[t.email]:o.DAQ.ERROR}}return e}});function ft(e){return{getSuggestions:t=>e.suggestions[t],getStatus:t=>e.status[t]||o.DAQ.DOES_NOT_EXIST}}var Mt=s(62631);const Lt=(0,a.combineReducers)({id:(e=null,t)=>{const{type:s,account:a}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.id}return e},email:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return-1===[o.tO8.EXTERNAL,o.tO8.PHONE].indexOf(a.type)?a.email:"";case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{email:t=e}=n;return t}}return e},description:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.description||"";case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{description:t=e}=n;return t}}return e},isPrimary:(e=!1,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return!!a.isPrimary;case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{isPrimary:t=e}=n;return t}}return e},isSelected:(e=!1,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return!!a.isSelected;case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{isSelected:t=e}=n;return t}}return e},isSending:(e=!1,t)=>{const{type:s,account:a,isSending:n,accountType:r}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.isSending;case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(void 0!==n)return Mt.Cs({type:r})?e:n}return e},signatureActive:(e=!1,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:case i.SIGNATURE_STATUS_CHANGE_REQUESTED:return!!a.signatureActive;case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{signatureActive:t=e}=n;return t}}return e},signature:(e="",t)=>{const{type:s,account:a,updatedProperties:n={},updatedAccount:r}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.signature||"";case i.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:return void 0!==n.signature?n.signature:r&&void 0!==r.signature?r.signature:e;case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{signature:t=e}=n;return t}}return e},sendingName:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.sendingName||t.primaryAccountSendingName||"";case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{sendingName:t=e}=n;return t}}return e},status:(e=null,t)=>{const{type:s,account:a,status:n,updatedProperties:r={}}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.status;case i.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{status:t=e}=r;return t}case i.ACCOUNT_DELETE_REQUESTED:return e===n?e:n}return e},type:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.type||"";case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{type:t=e}=n;return t}}return e},authType:(e=null,t)=>{const{type:s,account:a}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.authType||o.nxP.NONE}return e},partnerCode:(e=null,t)=>{const{type:s,account:a}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.partnerCode||""}return e},replyToAddress:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.replyToAddress||"";case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{replyToAddress:t=e}=n;return t}}return e},isActive:(e=!1,t)=>{const{type:s,account:a}=t;switch(s){case i.INITIAL_STATE:return a.isPrimary;default:return e}},accountVerified:(e=!1,t)=>{const{type:s,account:a}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.accountVerified}return e},isSynced:(e=!0,t)=>{switch(t.type){case i.ACCOUNT_ADD_SUCCEEDED:case i.ACCOUNT_ADD_FINISHED:return!0;case i.ACCOUNT_ADD_FAILED:return!1;default:return e}},subscriptionId:(e=null,t)=>{const{type:s,account:a}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.subscriptionId||e;default:return e}},link:(e={},t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case i.INITIAL_STATE:case i.ACCOUNT_ADD_SUCCEEDED:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:return a.link||{};case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{link:t=e}=n;return t}default:return e}},serverUri:(e="",t)=>{const{type:s,account:a}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return a.serverUri||""}return e},forwardEmail:(e="",t)=>{const{type:s,account:a={},updatedProperties:n={}}=t,{unsetFields:r=[]}=n,{forwardEmail:o=""}=a;switch(s){case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(-1!==r.indexOf("forwardEmail"))return"";break;case i.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:if(n.hasOwnProperty("forwardEmail"))return a.forwardEmail;break;case i.INITIAL_STATE:return o}return e},forwardEmailVerified:(e=!1,t)=>{const{type:s,account:a={},updatedProperties:n={}}=t,{unsetFields:r=[]}=n,{forwardEmailVerified:o=!1}=a;switch(s){case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(-1!==r.indexOf("forwardEmail"))return!1;break;case i.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:if(n.hasOwnProperty("forwardEmailVerified"))return a.forwardEmailVerified;break;case i.INITIAL_STATE:return o}return e},createTime:(e="",t)=>{const{type:s,account:a={}}=t;switch(s){case i.INITIAL_STATE:return a.createTime;case i.ACCOUNT_ADD_SUCCEEDED:return Date.now()/1e3}return e},linkedAccounts:(e=[],t)=>{const{type:s,account:a={}}=t;switch(s){case i.INITIAL_STATE:case i.ACCOUNT_ADD_SUCCEEDED:return a.linkedAccounts||e}return e},showForwardReviewAlert:(e=!1,t)=>{const{type:s,updatedProperties:a}=t;switch(s){case i.REVIEW_FORWARD_EMAIL:return a.showForwardReviewAlert}return e},folderPrefix:(e="",t)=>{const{type:s,account:a}=t;switch(s){case i.INITIAL_STATE:case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:return!a.isPrimary&&a.folderPrefix?a.folderPrefix:e}return e}}),Pt=(e={},t)=>{switch(t.type){case i.INITIAL_STATE:{const{accounts:s=[]}=t;return s.length?s.reduce(((e,s)=>(e[s.id]=Lt({},{...t,account:s}),e)),{}):e}case i.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:case i.SIGNATURE_STATUS_CHANGE_REQUESTED:case i.ACCOUNT_ADD_SUCCEEDED:case i.ACCOUNT_ADD_FAILED:{const{updatedAccount:s}=t;return s?{...e,[s.id]:Lt(e[s.id],{...t,account:s})}:e}case i.REVIEW_FORWARD_EMAIL:{const{accountId:s,updatedProperties:a}=t;return a?{...e,[s]:Lt(e[s],t)}:e}case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{accountId:s,updatedProperties:a}=t;return a&&a.isSending&&1===Object.keys(a).length?Object.keys(e).reduce(((a,n)=>({...a,[n]:Lt(e[n],{...t,isSending:n===s,accountType:e[n].type})})),{}):a?{...e,[s]:Lt(e[s],t)}:e}case i.ALIAS_EMAIL_CREATE_SUCCEEDED:{const{newAccount:s}=t;return s?{...e,[s.id]:Lt(e[s.id],{...t,account:s})}:e}case i.ACCOUNT_DELETE_SUCCEEDED:{const{updatedAccount:s}=t;return s?y()(e,[s.id]):e}case i.ACCOUNT_ADD_FINISHED:return Object.keys(e).reduce(((s,a)=>({...s,[a]:Lt(e[a],t)})),{});case i.ACCOUNT_DELETE_REQUESTED:{const{accountId:s}=t;if(!s)return e;const a=Object.keys(e).map((t=>e[t])).filter((e=>e.type===o.tO8.ALIAS)),n={...e[s]||a.find((e=>e.id===s)),status:o.dpb.DELETE_IN_PROGRESS};return{...e,[n.id]:Lt(e[n.id],{...t,account:n,status:o.dpb.DELETE_IN_PROGRESS})}}default:return e}},yt=4002,bt=4003,Ft=(0,a.combineReducers)({id:(e=null,t)=>{switch(t.type){case i.INITIAL_STATE:return t.selectedMailbox.id}return e},allMailboxes:(e=null,t)=>{switch(t.type){case i.INITIAL_STATE:return[t.selectedMailbox]}return e},accounts:Pt,aliasSuggestion:Nt,socialAccountsStatus:(e={},t)=>{switch(t.type){case i.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED:case i.SOCIAL_ACCOUNTS_STATUS_RECEIVED:return{...e,...t.response};case i.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED:{const{provider:s}=t;return{...e,[s]:{status:o.UcZ.NOT_CONNECTED}}}case i.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:case i.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:{const{provider:s,enable:a=!0}=t,n=o.AJg.indexOf(s)>-1;if(!o.Nq8[s]&&!n)return e;let r=o.UcZ.NOT_CONNECTED;return a&&(r=n?o.UcZ.QUEUED:o.UcZ.CONNECTED),{...e,[s]:{status:r}}}default:return e}},enhanceContactsPreference:(e=!0,t)=>{switch(t.type){case i.SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED:case i.SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED:return t.enabled;default:return e}},deaBaseName:(e={deaDomain:"",deaPrefix:""},t)=>{switch(t.type){case i.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const{features:s={}}=t,a=s[o.CbW.DEA_BASE_NAME];return void 0!==a?a:e}case i.INITIAL_STATE:{const{mailboxAttributes:s={}}=t,a=(s.responses||{})[o.CbW.DEA_BASE_NAME];return void 0!==a?a:e}case i.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:{const{baseName:e,domain:s}=t;return{deaPrefix:e,deaDomain:s}}default:return e}},baseNameSuggestions:(e=[],t)=>{switch(t.type){case i.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE:case i.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED:case i.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:return[];case i.INITIAL_STATE:case i.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:{const{suggestions:e=[]}=t;return e}default:return e}},recentlyAddedAccount:(e=null,t)=>{switch(t.type){case i.ACCOUNT_ADD_SUCCEEDED:{const{updatedAccount:e}=t;return e.id}case i.ACCOUNT_ADD_FINISHED:return null;default:return e}},accountAlerts:(e=[],t)=>{const{type:s,accountAlerts:a=[]}=t;switch(s){case i.INITIAL_STATE:case i.ACCOUNT_REAUTH_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.POST_LAUNCH_SYNC_SUCCEEDED:return a&&a.length>0?a:e;default:return e}},mailboxSize:(e=0,t)=>{switch(t.type){case i.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const{features:s={}}=t;return s[o.CbW.MAILBOX_SIZE]||e}case i.INITIAL_STATE:{const{mailboxAttributes:s={}}=t;return(s.responses||{})[o.CbW.MAILBOX_SIZE]||e}default:return e}}}),Ut=/<img .*\/?>/i,vt=/<a\s.?/im,wt=(0,a.combineReducers)({body:function(e={},t){const{type:s,messageId:a,v3MessageBodiesMap:n}=t;switch(s){case i.INITIAL_STATE:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return n[a].body||{};default:return e}},status:function(e=o.DAQ.DOES_NOT_EXIST,t){const{type:s,errorMessageIds:a=[]}=t;switch(s){case i.INITIAL_STATE:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return-1===a.indexOf(t.messageId)?o.DAQ.LOADED:o.DAQ.ERROR;case i.PREVIEW_MESSAGE_REQUESTED:case i.MESSAGE_BODIES_REQUESTED:case i.OPEN_PAGE_REQUESTED:return e===o.DAQ.LOADED?o.DAQ.LOADED:o.DAQ.DOES_NOT_EXIST;case i.MESSAGE_BODIES_FAILED:return o.DAQ.ERROR;default:return e}},isSecure:function(e=!1,t){switch(t.type){case i.INITIAL_STATE:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return!1;case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case i.MESSAGE_BODIES_REQUESTED:return!!t.secure;default:return e}},hasFullBody:function(e=!1,t){const{type:s,messageId:a,full:n,v3MessageBodiesMap:r}=t;switch(s){case i.INITIAL_STATE:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return!0;case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case i.MESSAGE_BODIES_REQUESTED:{const{body:e={}}=r[a],{htmlAnnotations:t}=e;return!n&&t?!t.some((({type:e})=>"quoted"===e)):!!n}default:return e}},retryCount:function(e=0,t){switch(t.type){case i.MESSAGE_BODIES_FAILED:return Math.min(o.KW1+1,e+1);default:return e}}});const Gt=function(e={},t){switch(t.type){case i.INITIAL_STATE:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case i.OPEN_PAGE_REQUESTED:case i.MESSAGE_BODIES_REQUESTED:case i.PREVIEW_MESSAGE_REQUESTED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.MESSAGE_BODIES_FAILED:{var s;const a=Object.keys(t.v3MessageBodiesMap||{});if(!a.length)return e;const n=a.reduce(((s,a)=>({...s,[a]:wt(e[a],{...t,messageId:a})})),{}),r=(null===(s=t.statesToRemove)||void 0===s?void 0:s.messageBodiesToRemove)||[];return r.length>0?y()({...e,...n},r):{...e,...n}}case i.FETCH_RAW_MESSAGE_SUCCEEDED:{const{messageId:s,rawMessage:a}=t;return e[s]&&e[s].body?{...e,[s]:{...e[s],body:{...e[s].body,rawMessage:a}}}:e}case i.SETTINGS_CHANGE_REQUESTED:if(t.name===o.Zrf.SHOW_IMAGES){if(!0===t.value){return{...Object.keys(e).reduce(((t,s)=>e[s].body.htmlAnnotations.some((({type:e})=>"blocked"===e))?{...t}:{...t,[s]:e[s]}),{})}}return{}}return e;default:return e}};function kt(e){return{flagged:!1,ham:!1,recent:!1,read:!1,...e}}function Ht(e){const{type:t,isRead:s,isStarred:a}=e;switch(t){case i.READ_CHANGE_REQUESTED:case i.MOVE_AND_READ_CHANGE_REQUESTED:case i.UNDO_MOVE_AND_READ_REQUESTED:return{read:!s};case i.STAR_CHANGE_REQUESTED:return{flagged:!a};case i.RECENT_AND_READ_CHANGE_REQUESTED:return{recent:!1,read:!0}}return{}}const Bt=function(e={},t){const{listData:s={},type:a,itemsToUpdate:n,messageMetadataMap:l={}}=t,c=-1!==[i.V3_MESSAGE_SAVE_SUCCEEDED].indexOf(a),d=-1!==[i.EXTRACT_COUPON_SUCCEEDED].indexOf(a),E=-1!==[i.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(a);switch(a){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.MORE_COUPONS_SUCCESS:case i.COUPONS_LIST_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.messages)return e;const t=Object.keys(s.messages).filter((t=>c||E||d?!r()(e[t],kt(s.messages[t].flags)):!e[t])).reduce(((e,t)=>({...e,[t]:kt(s.messages[t].flags)})),{});return Object.keys(t).length?{...e,...t}:e}case i.V3_MESSAGE_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:{const t={...Object.keys(s.messages||[]).reduce(((e,t)=>({...e,[t]:kt(s.messages[t].flags)})),{}),...(n||[]).reduce(((e,{messageId:t,flags:s})=>({...e,[t]:kt(s)})),{})};if(t){const s=Object.keys(t).filter((s=>!r()(e[s],t[s]))).reduce(((e,s)=>({...e,[s]:kt(t[s])})),{});return Object.keys(s).length?{...e,...s}:e}return e}case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(l);if(!t.length)return e;const a=t.map((t=>({[t]:e[t]}))),n=Object.keys(s.messages||[]).reduce(((t,a)=>{const n=s.messages[a].decos;return{...t,[a]:n&&n.some((e=>e&&e.id===o.Jd6.CRD))?kt(s.messages[a].flags):e[a]}}),{});return{...e,...Object.assign({},...a,n)}}case i.UNDO_MOVE_AND_READ_REQUESTED:case i.MOVE_AND_READ_CHANGE_REQUESTED:case i.RECENT_AND_READ_CHANGE_REQUESTED:case i.READ_CHANGE_REQUESTED:case i.STAR_CHANGE_REQUESTED:{const s=n.filter((e=>e.isAffected&&e.messageId)).reduce(((s,a)=>({...s,[a.messageId]:{...e[a.messageId],...Ht(t)}})),{});return Object.keys(s).length?{...e,...s}:e}case i.MOVE_ITEMS_REQUESTED:{const t=n.filter((e=>e.isAffected)).reduce(((t,s)=>{const a={...e[s.messageId]};return(s.isSpamMove||s.isHamMove)&&(a.spam=s.isSpamMove,a.ham=s.isHamMove),{...t,[s.messageId]:a}}),{});return Object.keys(t).length?{...e,...t}:e}default:return e}};const xt=function(e={},t){const{listData:s={},type:a,message:n={},itemsToUpdate:l,messageMetadataMap:c={}}=t,d=-1!==[i.MESSAGE_AUTO_SAVE_SUCCEEDED,i.MESSAGE_SAVE_SUCCEEDED].indexOf(a),E=-1!==[i.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(a),_=-1!==[i.EXTRACT_COUPON_SUCCEEDED].indexOf(a),u=-1!==[i.CHANGE_FOLDER_SUCCEEDED].indexOf(a);switch(a){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.MORE_COUPONS_SUCCESS:case i.COUPONS_LIST_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.messages)return e;const t=Object.keys(s.messages).filter((t=>{const a=s.messages[t];return d||E||_?!r()(e[t],a):u?!e[t]||e[t]!==a.folder.id:!e[t]})).reduce(((e,t)=>({...e,[t]:s.messages[t].folder.id})),{});return Object.keys(t).length?{...e,...t}:e}case i.V3_MESSAGE_SEND_SUCCEEDED:return n.id&&n.folder&&n.folder.id?{...e,[n.id]:n.folder.id}:e;case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(c);if(!t.length)return e;const a=t.map((t=>({[t]:e[t]}))),n=Object.keys(s.messages||[]).reduce(((t,a)=>{const n=s.messages[a].decos,r=n&&n.some((e=>e&&e.id===o.Jd6.CRD));return t[a]=r?s.messages[a].folder.id:e[a],t}),{});return{...e,...Object.assign({},...a,n)}}case i.UNDO_MOVE_AND_READ_REQUESTED:case i.UNDO_MOVE_REQUESTED:case i.DELETE_ITEMS_REQUESTED:case i.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case i.MOVE_ITEMS_REQUESTED:case i.MOVE_AND_READ_CHANGE_REQUESTED:{const t=l.filter((e=>e.isAffected)),s=t.filter((e=>!e.destinationFolder)).map((e=>e.messageId)),a=t.reduce(((t,s)=>({...t,[s.messageId]:s.destinationFolder?s.destinationFolder.id:e[s.messageId]})),{});return Object.keys(a).length||s.length?y()({...e,...a},s):e}case i.UPDATE_ITEMS_FAILED:{const{itemsToDelete:s=[]}=t,a=s.map((e=>e.messageId));return a.length?y()(e,a):e}default:return e}};var Vt=s(22222);const Wt=(e,t,s)=>{Object.keys(e).forEach((a=>{const n=e[a].filter((e=>e!==s.messageId));0!==n.length&&(t[a]=n)}))},Zt=(e,t)=>{const s={};return Wt(e,s,t),t.destinationFolder?(-1!==t.destinationFolder.types.indexOf(o.Sck.TRASH)&&(s[o.bcr.TRASH]||(s[o.bcr.TRASH]=[]),s[o.bcr.TRASH].push(t.messageId)),-1!==t.destinationFolder.types.indexOf(o.Sck.BULK)&&(s[o.bcr.BULK]||(s[o.bcr.BULK]=[]),s[o.bcr.BULK].push(t.messageId)),s):s},Kt=(e={},t)=>{const{type:s,messageGroup:a={},itemToUpdate:n={},folders:l,listId:c}=t;switch(s){case i.INITIAL_STATE:{let e=o.bcr.DEFAULT;const t=(0,q.Fh)(c),s=l.find((e=>e.folder.id===t)),n=s?(0,nt.IZ)(s.folder):"";return n===o.Sck.TRASH?e=o.bcr.TRASH:n===o.Sck.BULK&&(e=o.bcr.BULK),{[e]:a[o.bcr.DEFAULT]}}case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:return r()(a,e)?e:{...e,...a};case i.DELETE_ITEMS_REQUESTED:case i.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case i.UPDATE_ITEMS_FAILED:return n.isAffected?Zt(e,n):e;case i.MOVE_ITEMS_REQUESTED:case i.MOVE_AND_READ_CHANGE_REQUESTED:return n.isAffected?((e,t)=>{if(!t.destinationFolder||-1!==t.destinationFolder.types.indexOf(o.Sck.TRASH)||-1!==t.destinationFolder.types.indexOf(o.Sck.BULK))return Zt(e,t);if(-1!==t.folder.types.indexOf(o.Sck.TRASH)||-1!==t.folder.types.indexOf(o.Sck.BULK)){const s={};return Wt(e,s,t),s[o.bcr.DEFAULT]||(s[o.bcr.DEFAULT]=[]),s[o.bcr.DEFAULT].push(t.messageId),s}return e})(e,n):e;default:return e}};const zt=function(e={},t){const{type:s,listData:a={},itemsToUpdate:n,folders:o={},listId:l}=t;switch(s){case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.INITIAL_STATE:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:{const{groupIdToMessageIdsMap:t}=a;if(!t)return e;const n=Object.keys(t).filter((s=>!r()(t[s],e[s]))).reduce(((a,n)=>({...a,[n]:Kt(e[n],{type:s,messageGroup:t[n],folders:o,listId:l})})),{});return Object.keys(n).length?{...e,...n}:e}case i.MOVE_ITEMS_REQUESTED:case i.MOVE_AND_READ_CHANGE_REQUESTED:case i.DELETE_ITEMS_REQUESTED:case i.BLOCK_SENDERS_WITH_DELETE_REQUESTED:return n.length?n.reduce(((e,t)=>{const{groupId:a}=t,n=a?Kt(e[a],{type:s,itemToUpdate:t}):{};return Object.keys(n).length?{...e,[a]:n}:y()(e,[a])}),{...e}):e;case i.UPDATE_ITEMS_FAILED:{const{itemsToDelete:a=[]}=t;return a.length?a.reduce(((e,t)=>{const{groupId:a}=t,n=a?Kt(e[a],{type:s,itemToUpdate:t}):{};return Object.keys(n).length?{...e,[a]:n}:y()(e,[a])}),{...e}):e}default:return e}},qt=(0,Vt.createSelector)((e=>e),((e={})=>{const t=()=>Object.keys(e).reduce(((t,s)=>{const a=e[s]||{};return Object.keys(a).forEach((e=>{const n=a[e]||[];(Array.isArray(n)?n:[]).forEach((e=>t[e]=s))})),t}),{}),s=t=>{const s=e[t]||{};return Object.keys(s).reduce(((e,t)=>[...e,...s[t]]),[])||[]};return{...{doesMessageGroupIdExist:t=>!!e[t],getAllMessageIdsFromMessageGroupId:s,doesMessageGroupIdExistInList:(t,s)=>!!e[t]&&!!e[t][s],getMessageIdsFromMessageGroupIdForMessageGroupFolderType:(t,a)=>{const n=e[t]||{};return a?n[a]||[]:s(t)},getMessageIdToGroupIdMap:t,getGroupIdContainingMessageId:e=>t()[e]}}}));var Yt=s(62760),jt=s(18247);const Qt=(0,a.combineReducers)({replyTo:(e=[],t)=>{const{type:s,replyTo:a}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MORE_RECEIPTS_SUCCESS:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.RECEIPTS_LIST_SUCCEEDED:return r()(e,a)?e:a||e;default:return e}},from:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_BODIES_RECEIVED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:return r()(e,a.headers.from)?e:a.headers.from;default:return e}},to:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return r()(e,a.headers.to)?e:a.headers.to;default:return e}},cc:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return r()(e,a.headers.cc)?e:a.headers.cc;default:return e}},bcc:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return r()(e,a.headers.bcc)?e:a.headers.bcc;default:return e}},date:(e=null,t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.headers.date?a.headers.date:e;case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.headers.date?a.headers.date:e;default:return e}},messageIdRfc822:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.headers.messageIdRfc822?a.headers.messageIdRfc822:e;case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.headers.messageIdRfc822?a.headers.messageIdRfc822:e;default:return e}}}),Xt=(0,a.combineReducers)({messageId:(e="",t)=>{const{type:s,message:a={}}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return a.id||e;default:return e}},csid:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.RECEIPTS_LIST_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:return!e&&a.csid?a.csid||"":e;case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return!e&&a.csid&&n?a.csid||"":e;default:return e}},conversationId:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:return a.conversationId?a.conversationId:e;case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.conversationId?a.conversationId:e;default:return e}},cardConversationId:(e="",t)=>{const{type:s,message:a={}}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.EXTRACT_COUPON_SUCCEEDED:return a.cardConversationId?a.cardConversationId:e;default:return e}},decos:(e=[],t)=>{const{type:s,message:a={}}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.RECEIPTS_LIST_SUCCEEDED:return a.decos?a.decos:e;case i.PHISHING_REMOVE_BDM_DECO_REQUESTED:return e.filter((e=>e.id!==o.Jd6.BDM));default:return e}},inReplyTo:(e={},t)=>{const{type:s,message:a}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return r()(e,a.replyTo)?e:a.inReplyTo||{};default:return e}},classification:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.RECEIPTS_LIST_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.classification?a.classification:e;case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.classification?a.classification:e;default:return e}},verifiedDomains:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:return r()(e,a.verifiedDomains)?e:a.verifiedDomains||[];default:return e}},headers:Qt,folderOfDelivery:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return a.folderOfDelivery?a.folderOfDelivery:e;case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.folderOfDelivery?a.folderOfDelivery:e;default:return e}},downloadAllUrl:(e="",t)=>{const{message:s={}}=t;return s.downloadAllUrl&&e!==s.downloadAllUrl?s.downloadAllUrl:e},shouldNudgeToReply:(e=!1,t)=>{const{type:s}=t;switch(s){case i.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:return!0;default:return e}},spame:(e="",t)=>{const{type:s,message:a={}}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return a.spame||e;default:return e}},modSeq:(e=null,t)=>{const{message:s={}}=t;return s.modSeq?s.modSeq:e},spiceCategories:(e=[],t)=>{const{type:s,message:a={}}=t;switch(s){case i.CHANGE_FOLDER_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.INITIAL_STATE:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MESSAGE_SAVE_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_RECEIPTS_SUCCESS:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.RECEIPTS_LIST_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:return a.spiceCategories||e;default:return e}},schemaOrg:(e=[],t)=>{const{type:s,message:a,spamReasonToRemove:n}=t;switch(s){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.RECEIPTS_LIST_SUCCEEDED:return a.schemaOrg?a.schemaOrg:e;case i.REMOVE_SPAM_SCHEMA_REQUESTED:return e.map((e=>{const t=null==e?void 0:e.schema;if((null==t?void 0:t["@type"])===o.rgK.AntispamResult){const s={...e};return s.schema={...t,antispamStatus:t.antispamStatus.filter((e=>-1===e.indexOf(n)))},s}return e}));default:return e}}});const Jt=function(e={},t){const{listData:s={},type:a,messageMetadataMap:n={}}=t,l=-1!==[i.MESSAGE_AUTO_SAVE_SUCCEEDED,i.MESSAGE_SAVE_SUCCEEDED].indexOf(a),c=-1!==[i.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(a),d=-1!==[i.EXTRACT_COUPON_SUCCEEDED].indexOf(a);switch(a){case i.INITIAL_STATE:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.CHANGE_FOLDER_SUCCEEDED:case i.UNDO_MOVE_SUCCEEDED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.EXTRACT_COUPON_SUCCEEDED:case i.MORE_RECEIPTS_SUCCESS:case i.RECEIPTS_LIST_SUCCEEDED:case i.TRAVEL_LIST_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.messages)return e;const o=Object.keys(s.messages).filter((t=>l||c||d?!r()(e[t],s.messages[t]):!e[t])).reduce(((r,o)=>({...r,[o]:Xt(e[o],{type:a,message:s.messages[o],draftFolderId:t.draftFolderId,date:t.date,replyTo:n[o]?n[o].headers.replyTo:void 0,...a===i.V3_MESSAGE_SAVE_SUCCEEDED?{draftMessage:t.message}:{}})})),{});return Object.keys(o).length?{...e,...o}:e}case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(n);if(!t.length)return e;const r=t.map((t=>({[t]:Xt(e[t],{type:a,message:n[t],replyTo:n[t].headers.replyTo})}))),i=Object.keys(s.messages||[]).reduce(((t,n)=>{const r=s.messages[n].decos,i=r&&r.some((e=>e&&e.id===o.Jd6.CRD));return{...t,[n]:Xt(e[n],{type:a,message:s.messages[n],replyTo:s.messages[n].headers.replyTo,isCard:i})}}),{});return{...e,...Object.assign({},...r,i)}}case i.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:{const{predictionList:s=[]}=t,n=s.reduce(((t,s)=>{var n;return e[null==s||null===(n=s.message)||void 0===n?void 0:n.id]?{...t,[s.message.id]:Xt(e[s.message.id],{type:a})}:t}),{});return Object.keys(n).length?{...e,...n}:e}case i.PHISHING_REMOVE_BDM_DECO_REQUESTED:{const s=Object.keys(e).reduce(((s,a)=>(a===t.messageId&&(s[a]=Xt(e[a],{...t})),s)),{});return{...e,...s}}case i.REMOVE_SPAM_SCHEMA_REQUESTED:{const{messageId:s}=t,a=Xt(e[s],t);return{...e,[s]:a}}default:return e}},$t=(e={})=>({doesMessageIdExist:t=>!!e[t],getConversationId:t=>e[t].conversationId,getCardConversationId:t=>e[t].cardConversationId,getDecos:t=>e[t]&&e[t].decos,isCoupon:t=>e[t].decos&&e[t].decos.some((e=>e&&e.id===o.Jd6.CPN)),hasPhishingDeco:t=>t&&e[t].decos&&e[t].decos.some((e=>e&&e.id===o.Jd6.BDM)),getCsid:t=>e[t].csid,getClassification:t=>e[t].classification,getMessageId:t=>e[t].messageId,__getMessage:t=>e[t],isOfficialDomain:t=>{const{verifiedDomains:s=[]}=e[t];return!!s.length&&((0,Yt.Y3)(s)||s.some((({domain:e})=>o.bRD.indexOf(e)>=0)))},isCertifiedDomain:t=>{const{verifiedDomains:s=[]}=e[t];return!!s.length&&s.some((({domain:e})=>o.EeM.indexOf(e)>=0))},getTimeStamp:t=>e[t].headers.date,getFromAddresses:t=>e[t].headers.from,getToAddresses:t=>e[t].headers.to,getCcAddresses:t=>e[t].headers.cc,getBccAddresses:t=>e[t].headers.bcc,getReplyToAddresses:t=>e[t].headers.replyTo,getDate:t=>e[t].headers.date,getMessageIdRfc822:t=>e[t].headers.messageIdRfc822,getImmutableId:t=>e[t].immutableid,shouldNudgeToReply:t=>!!e[t].shouldNudgeToReply,isMarkedAsSpam:t=>"N"===e[t].spame,getFolderOfDelivery:t=>e[t].folderOfDelivery,findMessageIdsForConversationId:t=>Object.keys(e).filter((s=>e[s].conversationId===t)),getParentConversationIdForCardConversationId:t=>{const s=$t(e).getParentMessageIdForCardConversationId(t);return s?e[s].conversationId:""},getParentMessageIdForCardConversationId:t=>Object.keys(e).find((s=>e[s].cardConversationId===t&&e[s].decos.some((({id:e})=>e===o.Jd6.EML)))),getDownloadAllUrl:t=>e[t]?e[t].downloadAllUrl:"",__get__:t=>e[t],getMessagesCount:()=>Object.keys(e).length,getModSeq:t=>e[t].modSeq,getSpiceCategories:t=>e[t].spiceCategories,getSchemaOrg:t=>{var s;return(null===(s=e[t])||void 0===s?void 0:s.schemaOrg)||[]},getSpamReason:(t,s)=>{var a;const n=(null===(a=e[t])||void 0===a?void 0:a.schemaOrg)||[],r=(0,jt.aX)({schemaOrg:n}),i=[s?"":o.DBG.SenderInUserAddressBook,o.DBG.PotentialPhishing,o.DBG.SpamMarkedByUser,o.DBG.PotentialSpam];let l="";return i.forEach((e=>{!l&&r[e]&&(l=r[e])})),l}});const es=function(e={},t){const{type:s,listData:a={}}=t;switch(s){case i.INITIAL_STATE:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.UNDO_MOVE_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:case i.CHANGE_FOLDER_SUCCEEDED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.SEARCH_LIST_ITEMS_RECEIVED:{const{attachmentIdToMessageIdMap:t={}}=a;return Object.keys(t).length?{...e,...t}:e}default:return e}},ts=[],ss=(0,Vt.createSelector)((e=>e),((e={})=>{const t=Object.keys(e).reduce(((t,s)=>{const a=e[s];return{...t,[a]:(t[a]||[]).concat(s)}}),{});return{attachmentsByMessageId:e=>t[e]||ts,getMessageIdForAttachmentId:t=>e[t]}})),as=(0,a.combineReducers)({activated:(e=!1,t)=>{const{type:s,offer:{activated:a=!1}={}}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a;default:return e}},amountUnit:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.amountUnit||e;default:return e}},brandName:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.brandName||e;default:return e}},cardId:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.cardId||e;default:return e}},categories:(e=[],t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.categories||e;default:return e}},changeQuantityStatus:(e="",t)=>{const{type:s}=t;switch(s){case i.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:return"LOADED";case i.CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED:return"LOADING";default:return e}},description:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.description||e;default:return e}},discountType:(e=o.iNd.AMOUNT,t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.discountType||e;default:return e}},eligibleUnitText:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.eligibleUnitText||e;default:return e}},expiryTimestamp:(e=0,t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.expiryTimestamp||e;default:return e}},highResImgUrl:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.highResImgUrl||e;default:return e}},imageUrl:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.imageUrl||e;default:return e}},ingredients:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.ingredients||e;default:return e}},isSponsoredAd:(e=!1,t)=>{const{type:s,offer:{isSponsoredAd:a=!1}={}}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a;default:return e}},maxQuantity:(e=1,t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.maxQuantity||e;default:return e}},offerId:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:return a.offerId;default:return e}},quantity:(e=1,t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:return a.quantity||e;case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return 1;default:return e}},scoreValue:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.scoreValue||e;default:return e}},servingSize:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.servingSize||e;default:return e}},shortDescription:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.shortDescription||e;default:return e}},sourceOfferId:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:return a.sourceOfferId||"";default:return e}},specialFeatures:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.specialFeatures||e;default:return e}},trackingBeacons:(e={},t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.trackingBeacons||e;default:return e}},unitPriceDisplay:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.unitPriceDisplay||e;default:return e}},value:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a.value||e;default:return e}}});const ns=function(e={},{type:t,offers:s,items:a}){switch(t){case i.OFFERS_LIST_SUCCEEDED:{const a=(s||[]).filter((t=>!r()(e[t.offerId],t)));return a.length?a.reduce(((e,s)=>({...e,[s.offerId]:as(e[s.offerId],{type:t,offer:s})})),{...e}):e}case i.ACTIVATE_OFFER_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:{if(!s)return e;const a=s.reduce(((s,a)=>({...s,[a.offerId]:as(e[a.offerId],{type:t,offer:a})})),{});return Object.keys(a).length?{...e,...a}:e}case i.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:{const a=(s||[]).filter((t=>{var s;return(null===(s=e[t.offerId])||void 0===s?void 0:s.quantity)!==t.quantity}));return a.length?a.reduce(((s,a)=>({...s,[a.offerId]:as(e[a.offerId],{type:t,offer:a})})),{...e}):e}case i.CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED:return a&&a.length?a.reduce(((s,a)=>({...s,[a.offerId]:as(e[a.offerId],{type:t,offer:a})})),{...e}):e;default:return e}};const rs=function(e=!0,t){switch(t.type){case i.ONLINE_STATUS_CHANGED:return t.online}return e};var os=s(3405),is=s(92559);const ls=e=>e.name===o.n8z.FOLDER||e.name===o.n8z.CONTACTS||e.name===o.n8z.SUBSCRIPTION_LIST||(0,q.rB)(e)||(0,q.AU)(e);const cs=function(e=[],t){if(t.route&&t.route.query.fullscreen)return e;switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return[...e,t.route];case i.POP_OUT_COMPOSE:return t.route&&-1===[o.n8z.NEW_DRAFT,o.n8z.EDIT_DRAFT].indexOf(t.route.name)?e:e.filter((e=>!(0,os.Vu)(e,t.route)));case i.CLOSE_PAGE_REQUESTED:return e.filter((e=>!(0,os.Vu)(e,t.route)));case i.CLOSE_ALL_PAGES_REQUESTED:return e.filter((e=>!(t.pagesToClose||[]).find((t=>(0,os.Vu)(e,t)))));case i.V3_MESSAGE_SEND_FAILED:{const{pages:s=[]}=t;return s.length?s:e}case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:{const{folderMap:s={}}=t;return e.filter((e=>{if(e.name===o.n8z.MESSAGE_FROM_FOLDER_LIST){const t=(e=>{const{folders:t=e}=We.parse(e);return t})((0,l.u9)(e,"params.fid",null));if(t)return s.hasOwnProperty(t)}return!0}))}default:{if(t.pages&&t.pages!==e)return t.pages;if(t.route===t.previousRoute)return e;const{tabsToRemove:s=[],i13nModel:a={}}=t;if(-1!==[is.JE.ATTACHMENT_PREVIEW_IMAGE_CLOSE,is.JE.ATTACHMENT_PREVIEW_DOCUMENT_CLOSE].indexOf(a.mKey)&&"1"===t.previousRoute.query.messagePreview){const s=e.filter((e=>!((0,os.Vu)(e,t.previousRoute)||t.route.name===o.n8z.SEARCH&&(0,os.Vu)(e,t.route))));return[t.route,...s]}if(ls(t.route)){const s=e.filter((e=>!ls(e)));return[t.route,...s]}return-1!==e.findIndex((e=>(0,os.Vu)(e,t.route)))?e.map((e=>(0,os.Vu)(e,t.route)?t.route:e)):t.replaceRoute||t.previousRoute.name===t.route.name&&!t.forceNewPage&&!1!==t.replaceRoute?e.map((e=>(0,os.Vu)(e,t.previousRoute)?t.route:e)):s.length>0?[...e.filter((e=>-1===s.findIndex((t=>(0,os.Vu)(t,e))))),t.route]:[...e,t.route]}}},ds=(e={},t)=>{switch(t.type){case i.READ_CHANGE_REQUESTED:case i.RECENT_AND_READ_CHANGE_REQUESTED:case i.STAR_CHANGE_REQUESTED:case i.MOVE_ITEMS_REQUESTED:case i.UNDO_MOVE_AND_READ_REQUESTED:case i.MOVE_AND_READ_CHANGE_REQUESTED:case i.DELETE_ITEMS_REQUESTED:case i.UNDO_MOVE_REQUESTED:case i.BLOCK_SENDERS_WITH_DELETE_REQUESTED:return t;case i.UPDATE_ITEMS_SUCCEEDED:case i.UPDATE_ITEMS_FAILED:return{};default:return e}};const Es=function(e={},t){switch(t.type){case i.MESSAGE_PRINT_REQUESTED:{const s=(0,jt.gc)(t)+"-"+t.actionTimestamp;return{...e,[s]:{printId:s,isPrinted:!1,printType:o.cqM.MESSAGE,messageId:t.messageId}}}case i.MESSAGE_PRINT_SUCCEEDED:{const{printId:s}=t,a=e[s];return{...e,[s]:{...a,isPrinted:!0}}}case i.MESSAGE_PRINT_CLOSED:case i.MESSAGE_PRINT_CANCELED:return y()(e,t.printId);case i.PRINT_OFFERS_REQUESTED:{const{retailerId:s}=t,a=s+"-"+t.actionTimestamp;return{...e,[a]:{isPrinted:!1,printId:a,printType:o.cqM.OFFERS}}}case i.PRINT_ALL_CONTACTS_REQUESTED:{const s="contactsPrint-"+t.actionTimestamp;return{...e,[s]:{isPrinted:!1,printId:s,printType:o.cqM.CONTACTS}}}case i.FETCH_ALL_CONTACTS_SUCCESS:{const{contacts:s=[]}=t;if(s.length>0)return e;const a=Object.keys(e).filter((t=>e[t].printType===o.cqM.CONTACTS));return y()(e,a)}case i.FETCH_ALL_CONTACTS_FAILED:{const t=Object.keys(e).filter((t=>e[t].printType===o.cqM.CONTACTS));return y()(e,t)}}return e},_s=(e,t)=>{const{potentialSavings:s,price:a,currency:n,orderedItems:r,sellerName:o,broker:i}=e.schemaCards[t];let{orderDate:l}=e.schemaCards[t];if(!l){const s=Object.keys(e.messageIdToSchemaIdsMap).find((s=>e.messageIdToSchemaIdsMap[s].find((e=>e.id===t)))),a=e.messages[s].headers&&e.messages[s].headers.date;l=a?new Date(1e3*parseInt(String(a),10)).toISOString():`${(new Date).getFullYear()}-01-01T00:00:00Z`}return{potentialSavings:s,price:a,currency:n,orderedItems:r,orderDate:l,sellerName:o,broker:i}};var us=s(27955),ms=s.n(us);const Ss=(0,a.combineReducers)({status:function(e=o.DAQ.DOES_NOT_EXIST,t){switch(t.type){case i.RECENT_SEARCHES_SUCCEEDED:return o.DAQ.LOADED;case i.RECENT_SEARCHES_FAILED:return o.DAQ.ERROR}return e},recentSearches:function(e=[],t){switch(t.type){case i.RECENT_SEARCHES_SUCCEEDED:return t.recentSearches.map((e=>({query:ms()(e.query)})));case i.SEARCH_LIST_ITEMS_RECEIVED:case i.COUPONS_LIST_SUCCEEDED:if(!0===t.addToRecentSearch){const s=(0,q.Q7)(t.listId);return[{query:s},...e.filter((e=>e.query!==s))]}break;case i.DELETE_RECENT_SEARCH_REQUESTED:return e.filter((e=>e.query!==t.query))}return e}});const ps=(0,a.combineReducers)({allStores:(e={},t)=>{const{type:s,retailer:a={}}=t,{zipCode:n,locations:r=[]}=a;switch(s){case i.GET_RETAILER_LOCATIONS_SUCCEEDED:return{...e,[n]:r.map((e=>(delete e.geo,e))).sort(((e,t)=>e.distance-t.distance))};default:return e}},brandImage:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.brandImage||null;default:return e}},categories:(e={},t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return Object.assign(e,...a.categories.map((e=>({[e.id]:e}))));case i.GROCERY_SUBCATEGORIES_SUCCEEDED:return Object.assign(e,...a.subcategories.map((e=>({[e.id]:e}))));default:return e}},displayName:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.displayName;default:return e}},emailIds:(e=[],t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.emailIds||[];default:return e}},errorHint:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case i.LINK_RETAILER_FAILED:return a.errorHint;default:return e}},id:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.id;default:return e}},index:(e=-1,t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.index;default:return e}},isCategoriesExpanded:(e=!1,t)=>{switch(t.type){case i.TOGGLE_GROCERY_CATEGORIES_EXPANSION:return!e;default:return e}},linkable:(e=null,t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.isLinkable||e;default:return e}},linked:(e=!1,t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:case i.LINK_RETAILER_SUCCEEDED:case i.LINK_RETAILER_REQUESTED:case i.LINK_RETAILER_FAILED:case i.UNLINK_RETAILER_SUCCEEDED:return a.linked;default:return e}},loyaltyCardLength:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.loyaltyCardLength||"";default:return e}},loyaltyCardPrefix:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.loyaltyCardPrefix||"";default:return e}},loyaltyId:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:case i.LINK_RETAILER_SUCCEEDED:return a.loyaltyId||null;case i.UNLINK_RETAILER_SUCCEEDED:return"";default:return e}},numActivatedOffers:(e=null,t)=>{const{type:s,numActivatedOffers:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:return a;case i.ACTIVATE_OFFER_SUCCEEDED:return null===e?1:e+1;case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return e>1?e-1:null;default:return e}},numberOfItems:(e=0,t)=>{const{type:s,numberOfItems:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:case i.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a||e;default:return e}},preferredStore:(e={},t)=>{var s;const{type:a,retailer:n={}}=t;switch(a){case i.ASTRA_BATCH_API_SUCCEEDED:return(null===(s=n.stores)||void 0===s?void 0:s[0])||{};case i.UPDATE_PREFERRED_STORE_SUCCEEDED:{const{preferredStore:e={}}=n;return delete e.geo,e}default:return e}},previouslyAddedItems:(e=[],t)=>{const{type:s,retailer:a,offers:n}=t,r=e=>{const t=n.find((t=>t.offerId===e.itemId));return t?t.activated:e.activated};switch(s){case i.PREVIOUSLY_ADDED_GROCERY_ITEMS_SUCCEEDED:return a.items||[];case i.ACTIVATE_OFFER_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return e.map((e=>({...e,activated:r(e)})));default:return e}},proxyType:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.proxyType;default:return e}},registrationInfo:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.registrationInfo;default:return e}},registrationUrl:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.registrationUrl||null;default:return e}},relatedItems:(e={},t)=>{const{type:s,retailer:a}=t;switch(s){case i.RELATED_GROCERY_ITEMS_SUCCEEDED:return{...e,[a.itemId]:a.items};default:return e}},showSelectLocationMenu:(e=!1,t)=>{const{type:s,retailer:a={}}=t;switch(s){case i.ACTIVATE_OFFER_REQUESTED:{const{contextOfUse:e=""}=a;return"groceriesTopOfMsg"===e}default:return e}},subDomains:(e=[],t)=>{const{type:s,retailer:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a.subDomains||[];default:return e}},subTotal:(e="",t)=>{const{type:s,subTotal:a}=t;switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:case i.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return a||e;default:return e}},suggestions:(e=null,t)=>{const{type:s,retailer:a={}}=t,{keyword:n,suggestions:r}=a;switch(s){case i.GROCERY_SEARCH_ASSIST_SUCCEEDED:return{...e,[n]:r};default:return e}}});const Cs=(0,a.combineReducers)({allCategories:(e={},t)=>{const{type:s,response:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:{var n;const t=null==a||null===(n=a[o.G1D.GROCERY_RETAILERS_CATEGORY])||void 0===n?void 0:n.groceryCategories;return t?Object.assign(e,...t.map((e=>({[e.id]:e})))):e}default:return e}},astraEGuid:(e="",t)=>{switch(t.type){case i.ACTIVATE_OFFER_SUCCEEDED:case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:case i.GROCERY_SUBCATEGORIES_SUCCEEDED:case i.OFFERS_LIST_SUCCEEDED:case i.PREVIOUSLY_ADDED_GROCERY_ITEMS_SUCCEEDED:case i.RELATED_GROCERY_ITEMS_SUCCEEDED:return t.astraEGuid||"";default:return e}},retailers:function(e={},{contextOfUse:t="",errorHint:s="",itemId:a="",items:n=[],keyword:l="",linked:c=!1,listId:d,locations:E=[],numActivatedOffers:_,numberOfItems:u,offers:m=[],preferredStore:S={},response:p,retailerId:C="",retailers:A,subcategories:T=[],subTotal:h,suggestions:g=[],type:I,zipCode:R}){switch(I){case i.ASTRA_BATCH_API_SUCCEEDED:{var O;const t=((null==p||null===(O=p[o.G1D.GROCERY_RETAILERS])||void 0===O?void 0:O.retailers)||[]).filter((t=>!r()(e[t.id],t)));return t.length?t.reduce(((e,t,s)=>({...e,[t.id]:ps(e[t.id],{type:I,retailer:{...t,index:s}})})),{...e}):e}case i.LINK_RETAILER_SUCCEEDED:case i.UNLINK_RETAILER_SUCCEEDED:{if(!A)return e;const t=A.reduce(((t,s)=>({...t,[s.id]:ps(e[s.id],{type:I,retailer:s})})),{});return Object.keys(t).length?{...e,...t}:e}case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATE_OFFER_SUCCEEDED:case i.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:{const t=(0,q.h_)(d);if(t){const s={[t]:ps(e[t],{type:I,offers:m,subTotal:h,numberOfItems:u,numActivatedOffers:_})};return{...e,...s}}return e}case i.LINK_RETAILER_REQUESTED:case i.LINK_RETAILER_FAILED:{const t={[C]:ps(e[C],{type:I,retailer:{errorHint:s,linked:c}})};return{...e,...t}}case i.GROCERY_SEARCH_ASSIST_SUCCEEDED:{const t={[C]:ps(e[C],{type:I,retailer:{keyword:l,suggestions:g}})};return{...e,...t}}case i.GET_RETAILER_LOCATIONS_SUCCEEDED:return{...e,[C]:ps(e[C],{type:I,retailer:{locations:E,zipCode:R}})};case i.UPDATE_PREFERRED_STORE_SUCCEEDED:return{...e,[C]:ps(e[C],{type:I,retailer:{preferredStore:S}})};case i.ACTIVATE_OFFER_REQUESTED:return{...e,[C]:ps(e[C],{type:I,retailer:{contextOfUse:t}})};case i.GROCERY_SUBCATEGORIES_SUCCEEDED:return{...e,[C]:ps(e[C],{type:I,retailer:{subcategories:T}})};case i.PREVIOUSLY_ADDED_GROCERY_ITEMS_SUCCEEDED:return{...e,[C]:ps(e[C],{type:I,retailer:{items:n}})};case i.RELATED_GROCERY_ITEMS_SUCCEEDED:return{...e,[C]:ps(e[C],{type:I,retailer:{itemId:a,items:n}})};case i.TOGGLE_GROCERY_CATEGORIES_EXPANSION:return{...e,[C]:ps(e[C],{type:I})};default:return e}},shoppingCartStatus:(e,t)=>{switch(t.type){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:return o.DAQ.LOADED;case i.REFRESH_SHOPPING_LIST_REQUESTED:return o.DAQ.REFRESHING;default:return o.DAQ.DOES_NOT_EXIST}},subcategories:(e=null,t)=>{const{parentCategoryId:s,subcategories:a,type:n}=t;switch(n){case i.GROCERY_SUBCATEGORIES_SUCCEEDED:return{...e,[s]:a};default:return e}}}),As=(e={})=>({getTotalNumberOfRetailers:()=>e.retailers?Object.keys(e.retailers).length:0,getOrderedRetailers:()=>(0,l.VO)(e.retailers||{}),getRetailersFromRetailerIds:t=>t.filter((t=>t in(e.retailers||{}))).map((t=>e.retailers[t])),isLinkedRetailer:t=>e.retailers&&e.retailers[t]?e.retailers[t].linked:null,isRetailerLinkable:t=>{var s,a,n;return(null===(s=e.retailers)||void 0===s?void 0:s[t])&&null!==(null===(a=e.retailers)||void 0===a||null===(n=a[t])||void 0===n?void 0:n.linkable)},getDisplayNameFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].displayName||"",getCategoriesFromRetailerId:t=>{var s,a;const n=e.allCategories||{};return(Object.keys(null===(s=e.retailers)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.categories)||[]).map((e=>n[e]))},getCategoriesFromRetailerIdV2:t=>{var s,a;return(null===(s=e.retailers)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.categories)||{}},getProxyTypeFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].proxyType||"",getLoyaltyCardLengthFromRetailerId:t=>e.retailers&&e.retailers[t]?e.retailers[t].loyaltyCardLength:null,getLoyaltyCardPrefixFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].loyaltyCardPrefix||"",getBrandImageFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].brandImage||"",getLoyaltyIdFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].loyaltyId||"",getRegistrationUrlFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].registrationUrl||"",getNumActivatedOffersFromRetailerId:t=>e.retailers&&e.retailers[t]?e.retailers[t].numActivatedOffers:null,getRegistrationInfoFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].registrationInfo||"",getErrorHintFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].errorHint||"",getRetailerIdFromEmail:t=>{if(e.retailers){let s=Object.keys(e.retailers).find((s=>e.retailers[s].emailIds&&e.retailers[s].emailIds.find((e=>e===t))));if(!s){const a=t.indexOf("@")>-1?t.split("@")[1]:t;s=Object.keys(e.retailers).find((t=>e.retailers[t].subDomains&&e.retailers[t].subDomains.find((e=>e===a))))}return s}return null},isSupportedQuotientRetailer:t=>e.retailers?!!As(e).getRetailerIdFromEmail(t):null,getNumberOfLinkedRetailers:()=>e.retailers?Object.keys(e.retailers).filter((t=>e.retailers[t].linked)).length:0,getSearchAssist:(t,s)=>{var a,n,r;return null===(a=e.retailers)||void 0===a||null===(n=a[t])||void 0===n||null===(r=n.suggestions)||void 0===r?void 0:r[s]},getSubcategories:t=>{var s;return null===(s=e.subcategories)||void 0===s?void 0:s[t]},getAllStoresLocations:t=>{var s,a;return(null===(s=e.retailers)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.allStores)||{}},getPreferredStore:t=>{var s,a;return(null===(s=e.retailers)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.preferredStore)||{}},doesPreferredStoreExist:t=>{var s,a;return!(0,l.xb)(null===(s=e.retailers)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.preferredStore)},showSelectLocationMenu:t=>{var s,a;return null===(s=e.retailers)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.showSelectLocationMenu},getShoppingCartStatus:()=>e.shoppingCartStatus,getAstraEGuid:()=>e.astraEGuid,getSubTotal:t=>{var s,a;return null===(s=e.retailers)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.subTotal},isCategoriesExpanded:t=>{var s,a;return null===(s=e.retailers)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.isCategoriesExpanded},getNumberOfItems:t=>{var s,a;return null===(s=e.retailers)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.numberOfItems},getPreviouslyAddedItems:t=>{var s,a;return null===(s=e.retailers)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.previouslyAddedItems},getRelatedItems:(t,s)=>{var a,n,r;return null===(a=e.retailers)||void 0===a||null===(n=a[t])||void 0===n||null===(r=n.relatedItems)||void 0===r?void 0:r[s]}});const Ts=(0,a.combineReducers)({routesConfig:function(e=[],t){switch(t.type){case i.LAUNCH_PAGE_REQUESTED:return t.routesConfig}return e},route:function(e={},t){switch(t.type){case i.INITIAL_STATE:case i.LAUNCH_PAGE_REQUESTED:case i.OPEN_PAGE_REQUESTED:return t.route;default:return t.route&&e===t.route?e:t.route||e}},hashParams:function(e={},t){switch(t.type){case i.LAUNCH_PAGE_REQUESTED:case i.OPEN_PAGE_REQUESTED:return t.hashParams||e}return e},mrdParams:function(e={},t){switch(t.type){case i.INITIAL_STATE:return t.mrdParams||e;case i.LAUNCH_PAGE_REQUESTED:case i.OPEN_PAGE_REQUESTED:return{}}return e},uiContext:function(e={},t){switch(t.type){case i.LAUNCH_PAGE_REQUESTED:case i.OPEN_PAGE_REQUESTED:case i.OPEN_COMPACT_COMPOSE:return t.i13nModel||t.uiContext||e}return e}});var hs=s(83521);const gs=function(e={},t){switch(t.type){case i.SUGGESTIONS_RECEIVED:return{...e,[t.query]:(e[t.query]||[]).concat(t.suggestions)};case i.DELETE_ITEMS_REQUESTED:{const{itemsToUpdate:s=[]}=t,a={},n=s.filter((e=>e.isAffected)).map((({messageId:e})=>e));return n.length?(Object.keys(e).forEach((t=>{a[t]=(e[t]||[]).filter((e=>{const t=(0,l.u9)(e,"entities.emailSuggestion.messageId");return!t||n.indexOf(t)<0}))})),a):e}}return e};const Is=(0,a.combineReducers)({settingsApiCallStatus:(e=o.DAQ.LOADING,t)=>{switch(t.type){case i.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return o.DAQ.LOADED;case i.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:return o.DAQ.ERROR;default:return e}},blockedSendersApiCallStatus:(e=o.DAQ.LOADING,t)=>{switch(t.type){case i.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case i.SETTINGS_BLOCKED_SENDERS_RECEIVED:case i.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:return o.DAQ.LOADED;case i.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case i.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED:case i.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return o.DAQ.ERROR;default:return e}},filtersAndBlockedSendersApiCallStatus:(e=o.DAQ.LOADING,t)=>{switch(t.type){case i.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case i.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:return o.DAQ.LOADED;case i.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case i.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return o.DAQ.ERROR;default:return e}},humanReadableConsentUpdated:(e=!1,t)=>{switch(t.type){case i.SETTINGS_CHANGE_SUCCEEDED:if(t.requestActionPayload){const{name:e}=t.requestActionPayload;if(e===o.Zrf.CONSENT_EVENTS)return!0}return e;default:return e}},autoForwardAllowedAttributeStatus:(e=o.DAQ.LOADING,t)=>{switch(t.type){case i.POST_LAUNCH_SYNC_SUCCEEDED:case i.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return o.DAQ.LOADED;case i.POST_LAUNCH_SYNC_FAILED:case i.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:return o.DAQ.ERROR;default:return e}},isPeopleIKnowEnabled:(e=!1,t)=>{switch(t.type){case i.INITIAL_STATE:return"boolean"==typeof t.isPeopleIKnowEnabled?t.isPeopleIKnowEnabled:e;default:return e}}}),Rs=(0,a.combineReducers)({authWindow:(e={},t)=>{switch(t.type){case i.IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED:case i.SOCIAL_ACCOUNTS_CONNECT_REQUESTED:case i.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED:case i.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED:return{url:t.url,provider:t.provider};case i.SETTINGS_CHANGE_REQUESTED:if(e.provider&&(t.name===o.Zrf.THEME||t.name===o.Zrf.THEME_MODE))return{url:void 0,provider:void 0};break;case i.OPEN_PAGE_REQUESTED:case i.DELETE_ITEMS_REQUESTED:case i.SOCIAL_ACCOUNTS_CONNECT_FAILED:case i.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:case i.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED:case i.CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED:case i.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED:return{url:void 0,provider:void 0}}return e}});var Os=s(85262);const Ds=(0,a.combineReducers)({subjects:function(e={},t){switch(t.type){case i.INITIAL_STATE:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.UNDO_MOVE_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:{const s=(0,l.u9)(t,"listData.subjects",{}),a=function(e,t={}){return Object.keys(t).reduce(((s,a)=>{const n=Object.keys(t[a])[0],r=(0,q.d0)(n);if(!e[a]||e[a][r]!==t[a][n]){const o=(0,Yt.bR)(t[a][n]);s[a]={...e[a],[r]:t[a][n],[q.wb]:o}}return s}),{})}(e,s);return Object.keys(a).length?{...e,...a}:e}default:return e}},snippets:function(e={},t){switch(t.type){case i.INITIAL_STATE:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.UNDO_MOVE_SUCCEEDED:case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHANGE_FOLDER_SUCCEEDED:case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case i.SEARCH_LIST_ITEMS_RECEIVED:case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.MESSAGE_AUTO_SAVE_SUCCEEDED:case i.MESSAGE_SAVE_SUCCEEDED:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_SUCCEEDED:{const s=(0,l.u9)(t,"listData.snippets",{}),a=function(e,t={}){return Object.keys(t).reduce(((s,a)=>{const n=Object.keys(t[a])[0],r=(0,q.d0)(n);return e[a]&&e[a][r]===t[a][n]||(s[a]={...e[a],[r]:t[a][n]}),s}),{})}(e,s);return Object.keys(a).length?{...e,...a}:e}default:return e}}});var Ns=s(45578),fs=s.n(Ns),Ms=s(44908),Ls=s.n(Ms);var Ps=s(22762),ys=s.n(Ps);const bs=(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n,accountId:r,updatedProperties:l,warnOnClose:c=!0}=s;switch(a){case i.FETCH_PRIMARY_ACCOUNT:return e.concat((({accountId:e,updatedProperties:t,actionTimestamp:s})=>({type:o.sKi.FETCH_PRIMARY_ACCOUNT,hash:`FETCH_PRIMARY_ACCOUNT_DATA_HASH-${s}`,id:e,timestamp:s,userInputtedValues:{accountId:e,updatedProperties:t,requestTimestamp:s}}))({accountId:r,updatedProperties:l,actionTimestamp:n}));case i.ACCOUNT_DETAILS_CHANGE_REQUESTED:return e.concat((({accountId:e,updatedProperties:t,actionTimestamp:s,warnOnClose:a})=>({type:o.sKi.ACCOUNT_TO_UPDATE,hash:`UPDATE_ACCOUNT_UNSYNCED_DATA_HASH-${s}`,id:e,timestamp:s,warnOnClose:a,userInputtedValues:{accountId:e,updatedProperties:t,requestTimestamp:s}}))({accountId:r,updatedProperties:l,actionTimestamp:n,warnOnClose:c}));default:return e}},Fs=(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:case i.ACCOUNT_DETAILS_CHANGE_FAILED:return e.filter((e=>!(e.userInputtedValues.accountId===a.accountId&&e.userInputtedValues.requestTimestamp<=a.requestTimestamp)))}return e};function Us({baseName:e,domain:t}){return o.sKi.BASENAME_TO_CREATE+e+t}const vs=(e=[],{getAction:t})=>{const{type:s,category:a,actionTimestamp:n}=t();switch(s){case i.CATEGORY_FOLLOW_REQUESTED:case i.CATEGORY_UNFOLLOW_REQUESTED:{const t=s===i.CATEGORY_FOLLOW_REQUESTED?o.sKi.FOLLOW_CATEGORY:o.sKi.UNFOLLOW_CATEGORY;return e.concat({id:t,hash:`${t}-${a.id}`,timestamp:n,type:t,userInputtedValues:{category:a}})}default:return e}},ws=(e,{getAction:t,isFeatureEnabled:s})=>{const{type:a,category:n={}}=t(),{id:r=""}=n;switch(a){case i.CATEGORY_FOLLOW_SUCCEEDED:case i.CATEGORY_FOLLOW_FAILED:case i.CATEGORY_UNFOLLOW_SUCCEEDED:case i.CATEGORY_UNFOLLOW_FAILED:return[];case i.LAUNCH_COMPLETED:return e.filter((()=>s(o.ANe.DEALS)));default:return e.filter((()=>s(o.ANe.DEALS)&&r))}},Gs=(e=[],{getAction:t})=>{const{actionTimestamp:s,type:a,cardMid:n="",mailboxId:r="",messageDecosPayloads:l,listId:c}=t();switch(a){case i.COUPONS_ADD_TAG_DECO_REQUESTED:return e.concat({id:o.sKi.SAVE_COUPONS,hash:n+r,timestamp:s,type:o.sKi.SAVE_COUPONS,userInputtedValues:{clipping:!0,cardMid:n,mailboxId:r,messageDecosPayloads:l,listId:c}});case i.COUPONS_REMOVE_TAG_DECO_REQUESTED:return e.concat({id:o.sKi.UNSAVE_COUPONS,hash:n+r,timestamp:s,type:o.sKi.UNSAVE_COUPONS,userInputtedValues:{clipping:!1,cardMid:n,mailboxId:r,messageDecosPayloads:l,listId:c}});default:return e}},ks=(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.COUPONS_ADD_TAG_DECO_SUCCEEDED:case i.COUPONS_ADD_TAG_DECO_FAILED:case i.COUPONS_REMOVE_TAG_DECO_SUCCEEDED:case i.COUPONS_REMOVE_TAG_DECO_FAILED:return[];default:return e}},Hs=(e,t,s=[])=>`${e}-${t}-${s.join("")}`,Bs=(e,t)=>{const{actionTimestamp:s,listId:a,count:n}=t;return e.concat([{type:o.sKi.CONTACTS_LIST,hash:a,timestamp:s,userInputtedValues:{listId:a,count:n}}])},xs=(e,t,s,a={})=>{const{getContactListSelectors:n}=t,{getCurrentFilter:r,getSelectedGroup:i,getContactsSortOrder:l}=n(),c=a.listFilter||r(),d=a.selectedGroup||i(c);let E;if(d&&(d+"").includes("temp:"))return e;c!==o.ukn.GROUPS||d||(E=!0);const _=(0,q.uh)(c,d),u={listId:_,count:void 0!==a.count?a.count:(e=>{switch(e){case o.ukn.TOP_CONTACTS:return o.Ojf;case o.ukn.GROUPS:return o.xmI}return o.Weh})(c),sortOrder:a.sortOrder?a.sortOrder:l()};return E&&(u.fetchGroupContactsNext=E),e.concat([{type:o.sKi.CONTACTS_LIST,hash:_,timestamp:s,userInputtedValues:u}])},Vs=e=>e.map((({id:e})=>e)).join();function Ws({fromEmail:e,syncThrottle:t,action:s}){return{id:e,hash:e,timestamp:s.actionTimestamp,type:o.sKi.IMPORTANT_CONTACTS_FETCH,userInputtedValues:{fromEmail:e,listId:(0,q.yv)(e)},...t?{syncThrottle:t}:{}}}var Zs=s(78263);var Ks=s(42490);const zs=(e,t)=>`${e}-${t}`,qs=({listId:e,isStale:t=!1},s)=>{const{getAction:a}=s,{actionTimestamp:n}=a();return{type:o.sKi.LIST_TO_UPDATE,id:e,hash:e,timestamp:n,userInputtedValues:{listId:e,isStale:t}}};var Ys=s(95357);const js="sports_and_outdoors",Qs=(e=[],t="",s,a)=>{const{getMessageIdsFromMessageGroupId:n,getListsSelectors:r,getGroupIdContainingMessageId:i,getSetting:l,getFalconTOMSubscriptionSelectors:c,getCurrentListId:d,getMessagesSelectors:E,isFeatureEnabled:_,__getMessage:u,getMessageSubject:m}=a,{getMessageId:S}=E(),p=e;let C,A,T=[];t&&T.push(t);const h=d(),{getItemIdsSelectors:g}=r(),{getItemIds:I}=g(h),R=I(),O=l(o.Zrf.FALCON_TOM_SUBSCRIPTIONS_PREFETCH_COUNT);p.forEach(((e,t)=>{const a=i(e);0===t&&s!==o.YMA.LAUNCH&&(C=a,A=e);const n=R.indexOf(a),r=R.filter((e=>{const t=R.indexOf(e);return t!==n&&t<=n+O&&t>=n-O}));T=T.concat(r).concat(a)})),T=Array.from(new Set(T));let D=[],N=[],f=!0;return T.forEach((e=>{const t=n(e)[0],s=t&&S(t),a=s&&m(s)||"",r=s&&u(s),{decos:i,schemaOrg:l}=r||{},{getFalconTOMSubscriptionByGroupId:d}=c();if(!d(e)){if(_(o.ANe.FALCON_TOM_ARBITRATION_ENABLED)){const e=(0,ie.getHash)(t+o.Q_q),s=parseInt(e,16)/4294967295,a=(0,ie.generateRandomInteger)({min:0,max:20,randomSeed:s});f=0===a}f||(({decos:e=[],schemaOrg:t=[]})=>{const s=[o.Jd6.PE,o.Jd6.PKG,o.Jd6.TR,o.Jd6.CPN];return!(0,Me.m3)(e,s,!1)&&!!(t||[]).find((({schema:e={}}={})=>(null==e?void 0:e["@type"])===o.rgK.EmailMessage&&((null==e?void 0:e.category)||[]).find(((e={})=>e.topic===js||"SpiceCategory"===e["@type"]&&(e.topics||[]).find((({name:e})=>e===js))))))})({decos:i,schemaOrg:l})||(({msgSubject:e})=>!!e&&He(e))({msgSubject:a})?D=D.concat(e):N=N.concat(e)}})),{ineligibleFalconTOMGroupIds:N,eligibleFalconTOMGroupIds:D,openedGroupId:C,openedMessageId:A}},Xs=(e=[],t,s=!1,a="")=>{const{getAction:n,isSpamMessage:r,isFeatureEnabled:l,getMessageBodyRetryCount:c,isMobileRoute:d,getFeatureCueSelectors:E,getMessageIdsFromMessageGroupId:_}=t,{isShown:u}=E(),m=!l(o.ANe.CONVERSATIONS)||l("fetchFullBody");let S=!l(o.Zrf.SHOW_IMAGES);const p=l(o.ANe.INLINE_IMAGES_PROXIED),C=a?(_(a)||[])[0]:"";if(d()){const e=u(o.ANe.MOBILE_PAC_NOTIFICATION_CUE)&&!l(o.ANe.INLINE_IMAGES_PROXIED);S=S&&(!!e||!u(o.ANe.MOBILE_PAC_NOTIFICATION_CUE))}else S=S&&!p;const{isFallback:A=!1,actionTimestamp:T,secure:h=!0,full:g=m,type:I}=n();let R=null;return s&&(R=I===i.LAUNCH_COMPLETED?o.YMA.LAUNCH:I===i.CHECK_MAIL_RECEIVED_WITH_UPDATES?o.YMA.CHECK_MAIL:o.YMA.NEIGHBOR),e.map((e=>{const t=h&&(r(e)||S),s=c(e);return{type:o.sKi.MESSAGE_ITEM_TO_FETCH,id:e,hash:e+g+t,timestamp:T,userInputtedValues:{messageId:e,secure:t,full:g,isFallback:A,prefetchMode:R,retryCount:s,isFirstMessageId:C===e}}}))},Js=(e,t)=>{const{getAction:s,getFoldersSelectors:a,getCurrentListId:n,isFeatureEnabled:r}=t,{isSpamFolder:i}=a(),{actionTimestamp:l,full:c,secure:d=!0}=s(),E=!r(o.Zrf.SHOW_IMAGES)&&!r(o.ANe.INLINE_IMAGES_PROXIED),_=n(),u=(0,q.Fh)(_),m=void 0!==u&&i(u);return{type:o.sKi.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:l,userInputtedValues:{messageGroupId:e,full:c,secure:d&&(m||E)}}},$s=(e,t,s=!1)=>{const{getMessageIdsFromMessageGroupId:a,isDraftMessage:n,isSentMessage:r,getMessageFlags:i,doesMessageBodyExist:l,getHashParams:c,getCurrentListId:d,getStreamsSelectors:E,getMessageCsid:_,isFeatureEnabled:u}=t,m=a(e)||[],S=m.filter((e=>!n(e))),p=S[S.length-1],C=S[0],A=(c()||{}).messageId,T=d(),h=(0,Zs.k3)(T,e),{doesExpansionStateExist:g,getExpansionStateForStreamItem:I}=E(),R=[],O=u(o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED);g(h)&&m.forEach((e=>{const t={streamId:h,csid:_(e),listId:(0,q.tE)(T,{listContentType:o.F6k.MESSAGE})},s=I(t);s!==o.Lvq.EXPANDED&&s!==o.Lvq.TEMPORARY_EXPANSION||R.push(e)}));const D=m.filter((e=>e===A||r(e)||n(e)||e===p||O&&e===C||i(e).flagged||!i(e).read||-1!==R.indexOf(e)));return(s?D.slice(0,2):D).filter((e=>!l(e)))},ea=(e=[],t,s)=>{const{doesMessageGroupIdExist:a}=t;return e.reduce(((e,n)=>{if(a(n)){const a=$s(n,t,s);return e.concat(Xs(a,t,s,n)).concat(((e,t)=>{const{getAction:s,getSetting:a,getListsSelectors:n,doesMessageGroupIdExist:r,doesListExist:i}=t,l=s().listId;if(!l||!i(l)||(0,q.WN)(l)!==o.F6k.MESSAGES)return[];const{getItemIdsSelectors:c}=n(),d=a(o.Zrf.NEIGHBOR_PREFETCH_COUNT);if(0===d)return[];const E=c(l).getItemIds(),_=E.indexOf(e);return E.filter((e=>{const t=E.indexOf(e);return t!==_&&t<=_+d&&t>=_-d})).reduce(((e,s)=>{if(r(s)){const a=$s(s,t,!0);return e.concat(Xs(a,t,!0,s))}return e.concat(Js(s,t))}),[])})(n,t))}return e.concat(Js(n,t))}),[])},ta=[i.READ_CHANGE_REQUESTED,i.RECENT_AND_READ_CHANGE_REQUESTED,i.STAR_CHANGE_REQUESTED,i.MOVE_ITEMS_REQUESTED,i.MOVE_AND_READ_CHANGE_REQUESTED,i.DELETE_ITEMS_REQUESTED,i.UNDO_MOVE_REQUESTED,i.UNDO_MOVE_AND_READ_REQUESTED,i.BLOCK_SENDERS_WITH_DELETE_REQUESTED],sa=[i.UPDATE_ITEMS_SUCCEEDED,i.UPDATE_ITEMS_FAILED,i.BULK_PROGRESS_INITIATED,i.UNDO_MOVE_SUCCEEDED,i.UNDO_MOVE_FAILED],aa={[i.READ_CHANGE_REQUESTED]:o.oc$.READ,[i.STAR_CHANGE_REQUESTED]:o.oc$.STAR,[i.MOVE_ITEMS_REQUESTED]:o.oc$.MOVE,[i.DELETE_ITEMS_REQUESTED]:o.oc$.MOVE,[i.UNDO_MOVE_REQUESTED]:o.oc$.MOVE,[i.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:o.oc$.MOVE},na={[o.oc$.READ]:"read",[o.oc$.STAR]:"flagged",[o.oc$.SPAM]:"spam",[o.oc$.HAM]:"spam",[o.oc$.ANSWER]:"answered",[o.oc$.FORWARD]:"forwarded",[o.oc$.RECENT]:"recent"},ra=(e,t)=>t.isSpamMove?o.oc$.SPAM:t.isHamMove?o.oc$.HAM:t.permanentDelete?o.oc$.DELETE:aa[e],oa=(e,t)=>e===i.RECENT_AND_READ_CHANGE_REQUESTED?{[o.oc$.READ]:t,[o.oc$.RECENT]:t}:e===i.MOVE_AND_READ_CHANGE_REQUESTED||e===i.UNDO_MOVE_AND_READ_REQUESTED?{[o.oc$.READ]:t,[o.oc$.MOVE]:t}:{[ra(e,t)]:t},ia=(e=[],t)=>e.filter((e=>e.isAffected)).map((e=>((e,t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n}=s();return{type:o.sKi.MESSAGE_ITEM_TO_UPDATE,id:e.messageId||e.messageQuery,hash:`${e.messageId||e.messageQuery}-${n}`,timestamp:n,warnOnClose:!0,userInputtedValues:oa(a,e)}})(e,t))),la=(e,t)=>{const{messageItemsToSync:s=[],itemsToUpdate:a=[],type:n}=e,r=[...s,...a].find((e=>e.id===t.id||e.messageId===t.id)),{userInputtedValues:c={}}=t;if(((e,{type:t,triageActionType:s,id:a,checkForPermDelete:n})=>!(void 0!==t&&e.type!==t||void 0!==s&&e.triageActionType!==s||(0,l.u9)(e,"itemsToUpdate.0.messageId")===a||(0,l.u9)(e,"itemsToUpdate.0.messageQuery")===a||!n||!(0,l.u9)(e,"itemsToUpdate.0.permanentDelete")))(e,{type:i.DELETE_ITEMS_REQUESTED,triageActionType:o.Ewo.DELETE_FOLDER_ITEMS,id:t.id,checkForPermDelete:!0}))return((e,t)=>{const{userInputtedValues:s={}}=e;return{...e,userInputtedValues:Object.keys(s).reduce(((e,a)=>{const n=s[a];return t(n)?{...e,[a]:n}:e}),{})}})(t,(e=>(0,l.u9)(e,"folder.id")!==(0,l.u9)(a[0],"folder.id")));if(!r)return t;switch(n){case i.UPDATE_ITEMS_SUCCEEDED:case i.UPDATE_ITEMS_FAILED:case i.BULK_PROGRESS_INITIATED:case i.UNDO_MOVE_SUCCEEDED:case i.UNDO_MOVE_FAILED:return{...t,userInputtedValues:y()(c,r.updateTypes)}}return t},ca=(e,t)=>{const{getAction:s,getFeaturesSelectors:a,getRoute:n}=t,r=a().getSetting("bulkActionDialogThreshold");return((e,t)=>e.type===i.OPEN_PAGE_REQUESTED&&(0,q.LY)(t)!==(0,q.LY)(e.route))(s(),n())||e.length>=r||e.some((e=>{const t=Object.keys(e.userInputtedValues),s=(0,l.VO)(e.userInputtedValues);return t.some((e=>e!==o.oc$.READ))||s.some((e=>!!e.messageQuery))}))},da=({accountId:e,updatedSettingAttributes:t,actionTimestamp:s,aolSettingsMigration:a})=>({type:o.sKi.SETTINGS_TO_CHANGE,hash:o.sKi.SETTINGS_TO_CHANGE,timestamp:s,userInputtedValues:{accountId:e,updatedSettingAttributes:t,requestTimestamp:s,aolSettingsMigration:a}}),Ea=(e,t=!1)=>{const s={type:o.sKi.IMPORT_CONTACTS_PROVIDERS_STATUS,hash:"ALL_ACCOUNTS",timestamp:e,userInputtedValues:{retryCount:6}};return t&&(s.syncThrottle=1200),s},_a=e=>{const{getRoute:t}=e,{name:s,params:a={}}=t();return s===o.n8z.SETTINGS&&a.settingsGroupId===o.u5h.CONTACTS},ua=({unsyncedData:e,action:t,enable:s=!0})=>{const{provider:a,actionTimestamp:n}=t,r=o.ZUn[a];return e.concat({type:o.sKi.SOCIAL_ACCOUNT_IMPORT,hash:a+(s?"_enable":"_disable"),timestamp:n,userInputtedValues:{provider:a,spid:r,enable:s}})},ma=({timestamp:e})=>[{type:o.sKi.SOCIAL_ACCOUNT_STATUS,hash:"ALL_PROVIDERS",timestamp:e}];var Sa=s(40315);const pa="TMR_REGISTER_ACTION_HASH",{DAILY_CHECKIN:Ca,IMAPIN:Aa}=o.Zkw,{INVALID:Ta,PRE_SIGNUP_LIGHTBOX:ha,PRE_SIGNUP_LEFT_PANEL_3:ga,POST_SIGNUP_THANKYOU_TOAST:Ia,FREE_TRIAL_EXPIRED_NOTIFICATION:Ra}=o.$AH;function Oa(e){const{actionTimestamp:t}=e;return{type:o.sKi.LIST_MAIL_PREMIUM_SUBSCRIPTIONS,hash:"LIST_MAILPRO_SUBSCRIPTIONS_HASH",timestamp:t}}const Da=e=>({type:o.sKi.FETCH_CLOUD_STORAGE_PROVIDERS,hash:"CLOUD_STORAGE_ACCOUNTS",timestamp:e}),Na=[o.ANe.FETCH_AFFILIATE_RETAILERS,o.ANe.GROCERIES,o.ANe.RECOMMENDED_DEALS,o.ANe.SHOW_USER_FOLLOWED_CATEGORIES,o.ANe.STOREFRONT,o.ANe.SHOW_SEARCH_CONTACT_CARD,o.ANe.FETCH_COMBINE_DEALS_FROM_ASTRA],fa=(e=[],t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n,preferenceCode:r}=s();switch(a){case i.UNSUBSCRIBE_MARKETING_PREFERENCES:return[{type:o.sKi.MARKETING_PREFERENCES_TO_UNSUBSCRIBE,hash:"MARKETING_PREFERENCES_TO_UNSUBSCRIBE_HASH",timestamp:n,userInputtedValues:{preferenceCode:r}}];case i.SUBSCRIBE_MARKETING_PREFERENCES:return[{type:o.sKi.MARKETING_PREFERENCES_TO_SUBSCRIBE,hash:"MARKETING_PREFERENCES_TO_SUBSCRIBE_HASH",timestamp:n,userInputtedValues:{preferenceCode:r}}];default:return e}},Ma=(e,t)=>{const{getAction:s}=t,{type:a}=s();switch(a){case i.MARKETING_PREFERENCES_WRITE_SUCCEEDED:case i.MARKETING_PREFERENCES_WRITE_FAILED:return[]}return e};var La=s(85671);const Pa="ypmp",ya=(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getSetting:n,getFeatureCueSelectors:r,getEnvironmentSelectors:l}=t,{actionTimestamp:c,type:d,nextFeature:E,triageActionType:_,destinationFolderId:u,destinationFolderType:m,i13nModel:S,itemsToUpdate:p}=s();switch(d){case i.LAUNCH_COMPLETED:{if(!a(o.ANe.DISPATCHER_UPSELLS)&&!a(o.ANe.DISPATCHER_UPSELLS_ELIGIBLE)||E&&E!==o.ANe.DISPATCHER_UPSELLS||!(0,La.l)({stateSelectors:t}))break;const e=l(),s=a(o.ANe.USE_DISPATCHER_CLIENT);if(!(e.getUserNamespace()===o.Tzw.AOL&&s)){const e=a(o.ANe.SCOUT_RECURRING),t=r().getRecurringInterval(o.ANe.DISPATCHER_UPSELLS);if(!(!e||(0,we.A8)({attribute:n(o.Zrf.SCOUT_ONBOARDING),key:o.ANe.DISPATCHER_UPSELLS,recurringInterval:t})))break}let i={selectedOfferId:n(o.Zrf.SELECTED_SUBSCRIPTION_UPSELL)||""};if(s){const t=n(o.Zrf.MARKETING_PREFERENCES_SETTING)||{},r=e.getOS(),l=Object.keys(t).filter((e=>e.startsWith("yp")));t[Pa]||a(o.ANe.MAIL_PRO_ELIGIBLE)||l.push(Pa),i={...i,optOutCodes:l,clientos:r,useDispatcherClient:s}}return[{type:o.sKi.DISPATCHER_UPSELLS,hash:"ALL_UPSELLS",timestamp:c,userInputtedValues:i}]}case i.MOVE_ITEMS_REQUESTED:{if(!a(o.ANe.TOUCHPOINT_UPSELL)&&!a(o.ANe.SPAM_TOUCHPOINT)||E&&E!==o.ANe.TOUCHPOINT_UPSELL)break;if(!(()=>m===o.Sck.BULK&&_===o.Ewo.MOVE_SELECTED_ITEMS||u===o.RfP.SPAM&&_===o.Ewo.MOVE_SELECTED_ITEMS||[o.Ewo.SPAM_ALL_ITEMS,o.Ewo.SPAM_SELECTED_ITEMS].includes(_))())break;const e=({mKey:e}={})=>[is.JE.TOOLBAR_SPAM,is.JE.PHISHING_BANNER_SPAM,is.JE.SPAM_INDICATOR_SPAM,is.JE.SPAM_UNSUB_DIALOG_SPAM].includes(e)?e:is.JE.TOOLBAR_SPAM,t={message:{headers:{from:null==p?void 0:p.reduce(((e,t)=>[...e,...t.fromAddresses]),[])}}};return[{type:o.sKi.TOUCHPOINT_UPSELL,hash:"ALL_UPSELLS",timestamp:c,userInputtedValues:{placementname:"mail-desktop-web-spam-touchpoint",coreAction:e(S),contextPayload:t}}]}case i.UNSUBSCRIBE_BY_EMAIL_REQUESTED:case i.UNSUBSCRIBE_BY_BRAND_REQUESTED:{if(!a(o.ANe.TOUCHPOINT_UPSELL)&&!a(o.ANe.UNSUBSCRIBE_TOUCHPOINT)||E&&E!==o.ANe.TOUCHPOINT_UPSELL)break;const{email:e,subscriptions:t}=s(),n=({mKey:e}={})=>[is.JE.TOOLBAR_UNSUBSCRIBE,is.JE.UNSUB_CONFIRM,is.JE.SPAM_UNSUB_DIALOG_UNSUB].includes(e)?e:is.JE.TOOLBAR_UNSUBSCRIBE,r=d===i.UNSUBSCRIBE_BY_EMAIL_REQUESTED?{subscriptions:[{domain:(0,ie.isValidEmail)(e)?(0,ie.destructEmailAddressParts)(e).domainPart:"",fromEmail:e}]}:{subscriptions:t.map((e=>({domain:e.domain,fromEmail:e.fromEmail,subid:e.subid})))};return[{type:o.sKi.TOUCHPOINT_UPSELL,hash:"ALL_UPSELLS",timestamp:c,userInputtedValues:{placementname:"mail-tp-unsubscribe-web",coreAction:n(S),contextPayload:r}}]}case i.ADBLOCK_DETECTED:case i.ABP_DETECTED:if(!a(o.ANe.ADBLOCK_RR_UPSELL))break;return[{type:o.sKi.RIGHT_RAIL_ADBLOCK_UPSELL,hash:"RIGHT_RAIL_ADBLOCK_UPSELL",timestamp:c,userInputtedValues:{placementname:"mail-desktop-web-adblocker-right-rail"}}]}return e},ba=(e,t)=>{const{getAction:s}=t;switch(s().type){case i.DISPATCHER_UPSELL_FETCH_SUCCEEDED:case i.DISPATCHER_UPSELL_FETCH_FAILED:case i.TOUCHPOINT_UPSELL_FETCH_SUCCEEDED:case i.TOUCHPOINT_UPSELL_FETCH_FAILED:case i.RIGHT_RAIL_ADBLOCK_UPSELL_FETCH_SUCCEEDED:case i.RIGHT_RAIL_ADBLOCK_UPSELL_FETCH_FAILED:return[]}return e},Fa={[i.ACCOUNT_ADD_SUCCEEDED]:o.ANe.PREMIUM_DEA,[i.ACCOUNT_DELETE_SUCCEEDED]:o.ANe.PREMIUM_DEA,[i.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED]:o.ANe.BLOCKED_DOMAINS,[i.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED]:o.ANe.BLOCKED_DOMAINS},Ua={[i.ACCOUNT_ADD_SUCCEEDED]:o.sKi.CONSUME_TASTEMAKER,[i.ACCOUNT_DELETE_SUCCEEDED]:o.sKi.DELETE_TASTEMAKER,[i.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED]:o.sKi.CONSUME_TASTEMAKER,[i.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED]:o.sKi.DELETE_TASTEMAKER};function va(e){const{type:t,actionTimestamp:s}=e,a=Ua[t];return{id:a,hash:a,timestamp:s,type:a,userInputtedValues:{featureName:Fa[t]}}}const wa=(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,n=s();if(!a(o.ANe.MAIL_PLUS_TASTEMAKER))return e;switch(n.type){case i.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case i.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:return e.concat(va(n));case i.ACCOUNT_DELETE_SUCCEEDED:case i.ACCOUNT_ADD_SUCCEEDED:{const{updatedAccount:t}=n,s=a(o.ANe.PREMIUM_DEA_ALLOWED);return(null==t?void 0:t.type)!==o.tO8.DEA||s?e:e.concat(va(n))}default:return e}},Ga=(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.TASTEMAKER_CONSUME_SUCCEEDED:case i.TASTEMAKER_CONSUME_FAILED:case i.TASTEMAKER_DELETE_SUCCEEDED:case i.TASTEMAKER_DELETE_FAILED:return[];default:return e}},ka=(e=[],{getAction:t})=>{const{actionTimestamp:s,accountId:a,brandId:n="",type:r}=t();switch(r){case i.STOREFRONT_BRAND_FOLLOW_REQUESTED:case i.STOREFRONT_BRAND_UNFOLLOW_REQUESTED:{const t=r===i.STOREFRONT_BRAND_FOLLOW_REQUESTED?o.sKi.FOLLOW_STOREFRONT_BRAND:o.sKi.UNFOLLOW_STOREFRONT_BRAND;return e.concat({id:t,hash:n,timestamp:s,type:t,userInputtedValues:{accountId:a,brandId:n}})}default:return e}},Ha=(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.STOREFRONT_BRAND_FOLLOW_SUCCEEDED:case i.STOREFRONT_BRAND_FOLLOW_FAILED:case i.STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED:case i.STOREFRONT_BRAND_UNFOLLOW_FAILED:return[];default:return e}},Ba={...{[o.sKi.CONTACTS_IMPORT_CSV]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,name:r,file:l,actionTimestamp:c}=a;switch(n){case i.CONTACTS_CSV_IMPORT_REQUESTED:if(!l)break;return e.concat([{type:o.sKi.CONTACTS_IMPORT_CSV,hash:r+c,timestamp:c,userInputtedValues:{name:r,file:l,unsyncedDataItemTimestamp:c}}])}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACTS_CSV_IMPORT_SUCCEEDED:case i.CONTACTS_CSV_IMPORT_FAILED:return e.filter((e=>e.userInputtedValues.unsyncedDataItemTimestamp!==a.unsyncedDataItemTimestamp))}return e}},[o.sKi.CONTACTS_RESTORE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:r,id:l}=a;switch(n){case i.CONTACTS_RESTORE_REQUESTED:return[{type:o.sKi.CONTACTS_RESTORE,hash:n+r,timestamp:r,userInputtedValues:{snapshotId:l}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case i.CONTACTS_RESTORE_SUCCEEDED:case i.CONTACTS_RESTORE_FAILED:return[]}return e}},[o.sKi.CONTACTS_SNAPSHOT_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getContactListSelectors:a}=t,{getContactRestoreStatus:n}=a(),{snapshots:r,snapshotsStatus:l}=n(),c=s(),{type:d,actionTimestamp:E}=c;switch(d){case i.CONTACTS_RESTORE_CLICKED:return l===o.DAQ.LOADED&&r.length>0?e:[{type:o.sKi.CONTACTS_SNAPSHOT_FETCH,hash:d+E,timestamp:E,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case i.CONTACTS_SNAPSHOT_FETCH_SUCCEEDED:case i.CONTACTS_SNAPSHOT_FETCH_FAILED:return[]}return e}},[o.sKi.FETCH_ALL_CONTACTS]:{preparer:(e=[],t)=>{const{getAction:s,getListsSelectors:a}=t,n=s(),{type:r,actionTimestamp:l,sortOrder:c}=n,d=(0,q.uh)(o.ukn.PRINT_CONTACTS),{isListAlreadyLoaded:E}=a();switch(r){case i.PRINT_ALL_CONTACTS_REQUESTED:if(!E(d))return[{type:o.sKi.FETCH_ALL_CONTACTS,hash:"print_contacts_hash",timestamp:l,userInputtedValues:{listId:d,sortOrder:c}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case i.FETCH_ALL_CONTACTS_SUCCESS:case i.FETCH_ALL_CONTACTS_FAILED:return[]}return e}},[o.sKi.CONTACTS_GROUP_CREATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACTS_PANE_CREATE_GROUP_REQUESTED:{const{actionTimestamp:t,tempListId:s,tempGroupId:n,name:r,endpoints:i}=a;return e.concat([{type:o.sKi.CONTACTS_GROUP_CREATE,timestamp:t,hash:s,userInputtedValues:{tempGroupId:n,tempListId:s,name:r,endpoints:i}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:case i.CONTACTS_PANE_CREATE_GROUP_FAILED:{const{tempListId:t}=a;return(0,M.Z)(t,"`listId` is a required option"),e.filter((e=>e.hash!==t))}}return e}},[o.sKi.CONTACTS_GROUP_EDIT]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACTS_PANE_SAVE_GROUP_REQUESTED:{const{doUpdatesExist:t,actionTimestamp:s,listId:n,groupId:r,newName:i,addedEndpoints:l,removedEndpoints:c,oldGroup:d}=a;if(!t)break;return e.concat([{type:o.sKi.CONTACTS_GROUP_EDIT,timestamp:s,hash:n,userInputtedValues:{groupId:r,listId:n,newName:i,addedEndpoints:l,removedEndpoints:c,oldGroup:d}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACTS_PANE_SAVE_GROUP_SUCCEEDED:case i.CONTACTS_PANE_SAVE_GROUP_FAILED:{const{listId:t}=a;return(0,M.Z)(t,"`listId` is a required option"),e.filter((e=>e.hash!==t))}}return e}},[o.sKi.CONTACTS_LIST]:{preparer:(e=[],t)=>{const{getAction:s,getRoute:a,getListsSelectors:n,getActionableRightRailPane:r,isFeatureEnabled:l}=t,{isListAlreadyLoaded:c,getItemIds:d,getTotalHits:E,doesListExist:_}=n(),u=s(),m=a(),{type:S,actionTimestamp:p}=u,C=r()===o._Ab.ContactsPane;switch(S){case i.LAUNCH_COMPLETED:{const s=[o.n8z.CONTACTS,o.n8z.CONTACT_DETAILS,o.n8z.CONTACT_DETAILS_FROM_SEARCH,o.n8z.CREATE_CONTACT,o.n8z.EDIT_CONTACT,o.n8z.EDIT_CONTACT_FROM_SEARCH].indexOf(m.name)>-1,a=l(o.ANe.ENABLE_AOL_CONTACTS_CATEGORIES)?{count:o.xmI}:{};return s?xs(e,t,p,a):e}case i.OPEN_PAGE_REQUESTED:if(u.name===o.Qk$.CONTACTS_PANE&&C||m.name===o.n8z.CONTACTS)return xs(e,t,p);break;case i.CONTACTS_PANE_GROUP_CHANGED:case i.CONTACTS_PANE_LIST_FILTER_CHANGED:case i.CREATE_CONTACT_SUCCEEDED:case i.CREATE_CONTACT_FAILED:case i.CONTACT_SAVE_SUCCEEDED:case i.CONTACT_SAVE_FAILED:{const{getContactListSelectors:s}=t,{getCurrentFilter:a,getSelectedGroup:n}=s(),r=a(),o=n(r),i=(0,q.uh)(r,o);return c(i)?e:xs(e,t,p)}case i.DELETE_CONTACT_FAILED:case i.DELETE_CONTACT_SUCCEEDED:{const{listsToUpdate:s=[]}=u,a=s.filter((({listId:e})=>(0,q.WN)(e)===o.F6k.CONTACTS&&(0,q.h_)(e))).map((({listId:e})=>e))[0]||"";return!_(a)||E(a)!==d(a).length?xs(e,t,p):e}case i.CONTACTS_GROUP_DELETE_REQUESTED:{const{newGroupId:s}=u;let a={};if(s)return a={selectedGroup:s,ListFilter:o.ukn.GROUPS},xs(e,t,p,a);break}case i.CONTACTS_PANE_SEARCHED:return Bs(e,u);case i.EDIT_CONTACT_FROM_CARD:case i.ADD_TO_CONTACTS:case i.RIGHT_RAIL_COMMS_ICON_CLICKED:if(u.name!==o.Qk$.CONTACTS_PANE||!C)break;return xs(e,t,p);case i.CONTACTS_SORT_ORDER_CHANGED:{const{sortOrder:s,currentListFilter:a=o.ukn.USER_CREATED_CONTACTS}=u,n={sortOrder:s};if(a===o.ukn.GROUPS)break;return xs(e,t,p,n)}case i.CONTACTS_PANE_BACK_BUTTON_CLICKED:{const{discardOptimisticSave:s,isCreateView:a}=u;if(s)return a?Bs(e,{...u,listId:(0,q.uh)(o.ukn.GROUPS)}):xs(e,t,p);break}case i.CONTACTS_LIST_FETCH_SUCCEEDED:{const{fetchGroupContactsNext:s}=u,{getContactListSelectors:a}=t,{getCurrentFilter:n,getSelectedGroup:r}=a(),i=n(),l=r(i);if(!s||i!==o.ukn.GROUPS||!l)break;return xs(e,t,p)}case i.CONTACT_PICKER_GROUP_CHANGED:case i.CONTACT_PICKER_OPENED:case i.CONTACTS_GROUP_EDIT_EMAIL_SEARCH:return[(0,q.uh)(o.ukn.GROUPS),(0,q.uh)(o.ukn.GROUPS,u.value||o.c8t,u.query)].reduce(((e,t)=>c(t)?e:Bs(e,{...u,listId:t})),e)}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACTS_GROUP_FETCH_SUCCEEDED:case i.CONTACTS_GROUP_FETCH_FAILED:case i.CONTACTS_LIST_FETCH_SUCCEEDED:case i.CONTACTS_LIST_FETCH_FAILED:{const{unsyncedDataType:t,listId:s}=a;if(t!==o.sKi.CONTACTS_LIST||!s)break;return e.filter((({userInputtedValues:e})=>e.listId!==s))}}return e}},[o.sKi.CONTACTS_CATEGORY_LIST]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:r}=a;switch(n){case i.CATEGORY_LIST_EXPANSION_TOGGLED:{const{getStreamsSelectors:s,getListsSelectors:n,getContactListSelectors:i}=t,{doesStreamExist:l,getExpansionStateForStreamItem:c}=s(),{isListAlreadyLoaded:d}=n(),{categoryListId:E,listId:_}=a;if(!(l(_)&&c({streamId:_,listId:_,csid:E})))return e;if(d(E))return e;const u=(0,q.h_)(E),m={listId:_,categoryListId:E,count:o.xmI,characters:[u],sortOrder:i().getContactsSortOrder()};return e.concat([{type:o.sKi.CONTACTS_CATEGORY_LIST,hash:"CATEGORY_CONTACTS_LIST_"+E+m.count,timestamp:r,userInputtedValues:m}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACTS_LIST_FETCH_SUCCEEDED:case i.CONTACTS_LIST_FETCH_FAILED:{const{listId:t,characters:s,count:n,unsyncedDataType:i}=a;if(i!==o.sKi.CONTACTS_CATEGORY_LIST)break;return e.filter((e=>{const{listId:a,characters:o,count:i}=e.userInputtedValues;return a!==t||!r()(s,o)||i!==n}))}}return e}},[o.sKi.CONTACT_DETAILS]:{preparer:(e=[],t)=>{const{getAction:s,getRoute:a,getRelatedListIdByContactId:n}=t,r=a(),l=s(),{actionTimestamp:c}=l;let d;switch(l.type){case i.CONTACTS_PANE_CONTACT_CLICKED:d=n(l.id);break;case i.LAUNCH_COMPLETED:case i.OPEN_PAGE_REQUESTED:r.name!==o.n8z.CONTACT_DETAILS&&r.name!==o.n8z.CONTACT_DETAILS_FROM_SEARCH&&r.name!==o.n8z.EDIT_CONTACT||(d=n(r.params.id))}return d?e.concat([{type:o.sKi.CONTACT_DETAILS,hash:d,timestamp:c,userInputtedValues:{listId:d}}]):e},reconciler:(e,t)=>{const{getAction:s}=t,a=s(),{listData:n={}}=a,{lists:r={}}=n;switch(a.type){case i.SEARCH_LIST_ITEMS_FAILED:return e.filter((e=>e.userInputtedValues.listId!==a.listId));default:return e.filter((e=>!r[e.userInputtedValues.listId]))}}},[o.sKi.CONTACT_SAVE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,oldContact:l,newContact:c,image:d,actionTimestamp:E,skipContactDiffCheck:_}=a;switch(n){case i.CONTACT_SAVE_REQUESTED:if(!l.id||!_&&r()(l,c)&&d)break;return e.concat([{type:o.sKi.CONTACT_SAVE,hash:"CONTACT_SAVE_"+l.id,timestamp:E,userInputtedValues:{newContact:c,oldContact:l,skipContactDiffCheck:_}}])}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACT_SAVE_SUCCEEDED:case i.CONTACT_SAVE_FAILED:{const{id:t,deletedContactId:s}=a.contact,n=s||t;return e.filter((e=>e.userInputtedValues.oldContact.id!==n))}}return e}},[o.sKi.CONTACT_PHOTO_UPLOAD]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,oldContact:n={},image:r,actionTimestamp:l}=s();switch(a){case i.CONTACT_SAVE_REQUESTED:if(!r||!n.id)break;return e.concat({type:o.sKi.CONTACT_PHOTO_UPLOAD,hash:"CONTACT_PHOTO_UPLOAD_"+n.id,timestamp:l,userInputtedValues:{id:n.id,editToken:n.editToken,image:r}})}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACT_PHOTO_UPLOAD_SUCCEEDED:case i.CONTACT_PHOTO_UPLOAD_FAILED:return e.filter((e=>e.userInputtedValues.id!==a.contact.id))}return e}},[o.sKi.SOCIAL_ACCOUNT_AUTH_URL]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED:case i.SOCIAL_ACCOUNTS_CONNECT_REQUESTED:{const{provider:s,actionTimestamp:n}=a;return(({provider:e,stateSelectors:t,unsyncedData:s,timestamp:a})=>{const{isFeatureEnabled:n,getSetting:r}=t;let i=o.ZUn[e],l=o.ylH[e];return n(o.ANe.USE_LINKEDIN_TEST_SPID)&&(i=o.ZUn[o.kGi.LinkedInTest],l=null),s.concat({type:o.sKi.SOCIAL_ACCOUNT_AUTH_URL,hash:e,timestamp:a,userInputtedValues:{provider:e,spid:i,appRootPath:r(o.Zrf.APP_ROOT_PATH),scope:l}})})({provider:s,stateSelectors:t,unsyncedData:e,timestamp:n})}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED:case i.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED:return e.filter((e=>e.userInputtedValues.provider!==a.provider))}return e}},[o.sKi.SOCIAL_ACCOUNT_IMPORT]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:return ua({unsyncedData:e,action:a});case i.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED:case i.DISCONNECT_CONTACTS_PROVIDER_REQUESTED:return ua({unsyncedData:e,action:a,enable:!1})}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:case i.SOCIAL_ACCOUNTS_IMPORT_FAILED:{const{enable:t=!0}=a;return e.filter((e=>e.userInputtedValues.provider!==a.provider||e.userInputtedValues.enable!==t))}}return e}},[o.sKi.SOCIAL_ACCOUNT_STATUS]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getRoute:n}=t,{actionTimestamp:r,type:c}=s();if(!a(o.ANe.SOCIAL_ACCOUNTS))return e;switch(c){case i.LAUNCH_COMPLETED:if(0===e.length)return ma({timestamp:r});break;case i.OPEN_PAGE_REQUESTED:if(0===e.length&&n().name===o.n8z.SETTINGS){const{getSocialAccountsStatus:s}=t,a=s();return(0,l.xb)(a)?ma({timestamp:r}):e}}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case i.SOCIAL_ACCOUNTS_STATUS_RECEIVED:case i.SOCIAL_ACCOUNT_STATUS_FETCH_FAILED:return[]}return e}},[o.sKi.CONTACT_CREATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,oldContact:r={},newContact:l,image:c,actionTimestamp:d}=a;switch(n){case i.CONTACT_SAVE_REQUESTED:if(r.id)break;return e.concat([{type:o.sKi.CONTACT_CREATE,hash:n+d,timestamp:d,userInputtedValues:{newContact:l,image:c,timestamp:d}}])}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CREATE_CONTACT_FAILED:case i.CREATE_CONTACT_SUCCEEDED:return e.filter((e=>e.userInputtedValues.timestamp!==a.timestamp))}return e}},[o.sKi.CONTACT_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.DELETE_CONTACT_REQUESTED:{const{actionTimestamp:t,listsToUpdate:s,itemsToUpdate:n}=a;return e.concat([{type:o.sKi.CONTACT_DELETE,hash:Vs(n),timestamp:t,userInputtedValues:{listsToUpdate:s,itemsToUpdate:n}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.DELETE_CONTACT_FAILED:case i.DELETE_CONTACT_SUCCEEDED:{const{itemsToUpdate:t=[]}=a;(0,M.Z)(t.every((({editToken:e})=>e)),"Edit token expected in contact items to update");const s=Vs(t);return e.filter((e=>e.hash!==s))}}return e}},[o.sKi.CONTACT_GROUP_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACTS_GROUP_DELETE_REQUESTED:{const{actionTimestamp:t,groupId:s}=a;return e.concat([{type:o.sKi.CONTACT_GROUP_DELETE,hash:s,timestamp:t,userInputtedValues:{groupId:s}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACTS_GROUP_DELETE_FAILED:case i.CONTACTS_GROUP_DELETE_SUCCEEDED:{const{groupId:t=""}=a,s=t;return e.filter((e=>e.hash!==s))}}return e}},[o.sKi.IMPORT_CONTACTS_PROVIDERS_STATUS]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n,type:r}=a;switch(r){case i.LAUNCH_COMPLETED:case i.OPEN_PAGE_REQUESTED:if(_a(t))return[Ea(n)];break;case i.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:if(o.AJg.indexOf(a.provider)>-1&&_a(t))return[Ea(n,!0)]}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED:if(e&&e[0]&&e[0].userInputtedValues&&e[0].userInputtedValues.retryCount>0&&_a(t)){const{response:t={}}=a;if(Object.keys(t).find((e=>t[e].status===o.UcZ.QUEUED))){const t=Ea(a.actionTimestamp,!0);return t.userInputtedValues.retryCount=e[0].userInputtedValues.retryCount-1,t.repeat=!0,t.syncDefer=1e3,[t]}}return[];case i.CONTACTS_PROVIDERS_STATUS_FETCH_FAILED:return[]}return e}},[o.sKi.ENHANCE_CONTACTS_PREFERENCE_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n}=a;switch(a.type){case i.LAUNCH_COMPLETED:case i.OPEN_PAGE_REQUESTED:if((e=>{const{getRoute:t}=e,{name:s,params:a={}}=t();return s===o.n8z.SETTINGS&&a.settingsGroupId===o.u5h.CONTACTS})(t))return[{type:o.sKi.ENHANCE_CONTACTS_PREFERENCE_FETCH,timestamp:n,hash:o.sKi.ENHANCE_CONTACTS_PREFERENCE_FETCH,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case i.SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED:case i.SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED:return[]}return e}},[o.sKi.ENHANCE_CONTACTS_PREFERENCE_CHANGE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n,enabled:r}=a;switch(a.type){case i.SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED:return[{type:o.sKi.ENHANCE_CONTACTS_PREFERENCE_CHANGE,timestamp:n,hash:o.sKi.ENHANCE_CONTACTS_PREFERENCE_CHANGE,userInputtedValues:{enabled:r}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case i.SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED:case i.SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED:return[]}return e}}},...{[o.sKi.MEMBERSHIP_REWARDS_LAUNCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,{type:n,actionTimestamp:r}=s();if(!a(o.ANe.MEMBERSHIP_REWARDS))return e;switch(n){case i.LAUNCH_COMPLETED:case i.OPEN_PAGE_REQUESTED:return[{type:o.sKi.MEMBERSHIP_REWARDS_LAUNCH,hash:"MEMBERSHIP_REWARDS_LAUNCH_HASH",timestamp:r}];default:return e}},reconciler:(e,t)=>{const{getAction:s,getMembershipRewardsSelectors:a}=t,{type:n}=s(),{atosStatus:r}=a().getAtosInfo();if(r)return[];switch(n){case i.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:case i.MEMBERSHIP_REWARDS_LAUNCH_FAILED:return[]}return e}},[o.sKi.TMR_REGISTER_ACTION]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,{type:n,actionTimestamp:r}=s();if(!a(o.ANe.MEMBERSHIP_REWARDS))return e;switch(n){case i.ACCOUNT_ADD_SUCCEEDED:return[{type:o.sKi.TMR_REGISTER_ACTION,hash:`${pa}_${Aa}`,timestamp:r,userInputtedValues:{rewardsActionType:Aa}}];case i.OPEN_PAGE_REQUESTED:return[{type:o.sKi.TMR_REGISTER_ACTION,hash:`${pa}_${Ca}`,timestamp:r,userInputtedValues:{rewardsActionType:Ca}}];default:return e}},reconciler:(e,t)=>{const{getAction:s,getMembershipRewardsSelectors:a}=t,n=s(),{isImapInCompleted:r,getRewardsActionsTimestamp:o,getRewardsAction:l}=a(),c=r(),d=o(Ca);switch(n.type){case i.TMR_REGISTER_ACTION_SUCCESS:case i.TMR_REGISTER_ACTION_FAILED:return e.filter((({userInputtedValues:e})=>n.rewardsActionType!==e.rewardsActionType))}return e.filter((({userInputtedValues:e,timestamp:t})=>{switch(e.rewardsActionType){case Ca:{const{id:e}=l(Ca),s=!!d&&new Date(d),a=new Date(t);return e&&s&&!(0,Sa.vp)(s,a)}case Aa:{const{id:e}=l(Aa);return e&&!c}default:return!1}}))}}},...{[o.sKi.MARKETING_PREFERENCES_TO_UNSUBSCRIBE]:{preparer:fa,reconciler:Ma},[o.sKi.DISPATCHER_UPSELLS]:{preparer:ya,reconciler:ba},[o.sKi.TOUCHPOINT_UPSELL]:{preparer:ya,reconciler:ba},[o.sKi.RIGHT_RAIL_ADBLOCK_UPSELL]:{preparer:ya,reconciler:ba},[o.sKi.MARKETING_PREFERENCES_TO_SUBSCRIBE]:{preparer:fa,reconciler:Ma}},[o.sKi.BLOCKED_DOMAIN_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.SETTINGS_BLOCKED_DOMAIN_DELETE_REQUESTED:{const{actionTimestamp:t,id:s}=a;return e.concat([{type:o.sKi.BLOCKED_DOMAIN_DELETE,hash:s,timestamp:t,userInputtedValues:{id:s}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:case i.SETTINGS_BLOCKED_DOMAIN_DELETE_FAILED:{const{id:t=""}=a;return e.filter((e=>e.hash!==t))}}return e}},[o.sKi.BLOCKED_DOMAIN_ADD]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.SETTINGS_BLOCKED_DOMAIN_ADD_REQUESTED:{var n;const{actionTimestamp:t,i13nModel:s={},isFromSubscriptionsView:r=!1}=a,i=(null===(n=s.actionData)||void 0===n?void 0:n.domains)||[];return e.concat([{type:o.sKi.BLOCKED_DOMAIN_ADD,hash:i.join("-"),timestamp:t,userInputtedValues:{domainNames:i,isFromSubscriptionsView:r}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.SETTINGS_BLOCKED_DOMAIN_ADD_FAILED:case i.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:{const{domainNames:t=[]}=a;return e.filter((e=>e.hash!==t.join("-")))}}return e}},[o.sKi.BLOCKED_DOMAINS_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getListsSelectors:a,isFeatureEnabled:n}=t,r=s(),{type:l,actionTimestamp:c}=r;if(!n(o.ANe.BLOCKED_DOMAINS)||e.length>0)return e;switch(l){case i.OPEN_PAGE_REQUESTED:case i.LAUNCH_COMPLETED:{const e=t.getRouteName(),{doesListExist:s,getListStatus:n}=a(),r=(0,q._o)(),i=s(r)&&n(r)===o.DAQ.LOADED;if((e===o.n8z.SUBSCRIPTION_LIST||e===o.n8z.SETTINGS||e===o.n8z.BLOCKED_DOMAINS)&&!i)return(({timestamp:e})=>[{type:o.sKi.BLOCKED_DOMAINS_FETCH,hash:"ALL_DOMAINS",timestamp:e}])({timestamp:c});break}}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case i.SETTINGS_BLOCKED_DOMAINS_FETCH_FAILED:case i.SETTINGS_BLOCKED_DOMAINS_FETCHED:return[]}return e}},[o.sKi.SUBSCRIPTION_LIST]:{preparer:(e=[],t)=>{const{getAction:s,getRoute:a,getSelectedMailboxId:n,getEmailOfSelectedAccount:r,isFeatureEnabled:l}=t,c=s(),d=a(),E=(0,q.LY)(d);if(l(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return e;switch(c.type){case i.LAUNCH_COMPLETED:case i.OPEN_PAGE_REQUESTED:{const s=(0,q.aY)(E)===o.qd8.SUBSCRIPTIONS;if(d.name===o.n8z.SUBSCRIPTION_LIST||c.type===i.LAUNCH_COMPLETED&&s&&(d.name===o.n8z.LIST||d.name===o.n8z.MESSAGE_FROM_LIST)){const{getSelectedAccountId:s}=t,a=n(),i=s(),l=r();return e.concat([{type:o.sKi.SUBSCRIPTION_LIST,hash:o.Asd.RELEVANCE,timestamp:c.actionTimestamp,userInputtedValues:{mailboxId:a,accountId:i,email:l,sortOrder:o.Asd.RELEVANCE}}])}return e}case i.SUBSCRIPTION_LIST_SORT_ORDER_CHANGED:{const{getSelectedAccountId:s}=t,a=n(),i=s(),l=r();return e.concat([{type:o.sKi.SUBSCRIPTION_LIST,hash:c.sortOrder,timestamp:c.actionTimestamp,userInputtedValues:{mailboxId:a,accountId:i,email:l,sortOrder:c.sortOrder}}])}default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case i.SUBSCRIPTION_LIST_FETCH_FAILED:return e.filter((e=>e.userInputtedValues.sortOrder!==a.sortOrder));default:return e}}},[o.sKi.SUBHUB_RECOMMENDATION_LIST]:{preparer:(e=[],t)=>{const{getAction:s,getSelectedMailboxId:a,getEmailOfSelectedAccount:n,isFeatureEnabled:r}=t,l=s(),{type:c,sortOrder:d}=l;switch(c){case i.LAUNCH_COMPLETED:if(r(o.ANe.SUBHUB_RECOMMENDATIONS)){const{getSelectedAccountId:s}=t,r=a(),i=s(),c=n(),E=d||o.Asd.RELEVANCE;return e.concat([{type:o.sKi.SUBHUB_RECOMMENDATION_LIST,hash:E,timestamp:l.actionTimestamp,userInputtedValues:{mailboxId:r,accountId:i,email:c,sortOrder:E}}])}return e;default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:case i.SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED:return e.filter((e=>e.userInputtedValues.sortOrder!==a.sortOrder));default:return e}}},[o.sKi.UNSUBSCRIBE_EMAIL]:{preparer:(e=[],t)=>{const{getAction:s,getSelectedMailboxId:a,getMessagesFolderIdSelectors:n,getAccountIdByFolderId:r}=t,l=s();switch(l.type){case i.UNSUBSCRIBE_BY_EMAIL_REQUESTED:{const t=l.messageId,s=a(),i=r(n().getFolderId(l.messageId));return e.concat([{hash:t,timestamp:l.actionTimestamp,type:o.sKi.UNSUBSCRIBE_EMAIL,userInputtedValues:{messageId:t,mailboxId:s,accountId:i}}])}default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.UNSUBSCRIBE_BY_EMAIL_SUCCEEDED:case i.UNSUBSCRIBE_BY_EMAIL_FAILED:return e.filter((e=>e.userInputtedValues.messageId!==a.messageId));default:return e}}},[o.sKi.UNSUBSCRIBE_BRAND]:{preparer:(e=[],t)=>{const{getAction:s,getSelectedMailboxId:a}=t,n=s();switch(n.type){case i.UNSUBSCRIBE_BY_BRAND_REQUESTED:{const t=n.brandId,s=n.brandId.split(":"),r=a(),i=s[s.length-1];return e.concat([{hash:t,timestamp:n.actionTimestamp,type:o.sKi.UNSUBSCRIBE_BRAND,userInputtedValues:{brandId:t,mailboxId:r,accountId:i}}])}default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.UNSUBSCRIBE_BY_BRAND_SUCCEEDED:case i.UNSUBSCRIBE_BY_BRAND_FAILED:return e.filter((e=>e.userInputtedValues.brandId!==a.brandId));default:return e}}},[o.sKi.LAUNCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:r}=a;switch(n){case i.LAUNCH_PAGE_REQUESTED:return[{id:o.sKi.LAUNCH,hash:o.sKi.LAUNCH,timestamp:r,type:o.sKi.LAUNCH,userInputtedValues:a}]}return e},reconciler:(e=[],t)=>{const{getAction:s,getSelectedMailboxId:a}=t,n=s(),{type:r}=n;if(a())return[];switch(r){case i.INITIAL_STATE:case i.LAUNCH_COMPLETED:case i.LAUNCH_ERROR:return[]}return e},syncSelector:(e=[],t)=>{const{getSelectedMailboxId:s}=t;return s()?[]:e}},[o.sKi.DOCUMENT_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getRouteParams:a}=t,n=s();switch(n.type){case i.LAUNCH_COMPLETED:case i.OPEN_PAGE_REQUESTED:case i.DOCUMENT_FETCH_REQUESTED:{const{attachmentId:s}=a()||{},r=(0,Ks.Z)(t);return r?e.concat(((e,t,s,a,n)=>{const{getAction:r,getAttachmentTypeByAttachmentId:i,getAttachmentSubtypeByAttachmentId:l,getDocumentRetryCount:c,getDocumentSelectors:d}=n,E=r(),_=c(t,s,a),u=d(),m=[];let S;if(u.isDocumentLoaded(t)){const e=u.getNumberOfPages(t);a=Math.min(e,a)}for(S=s;S<=a;S++){const n=zs(t,S);m.push({id:n,hash:n,timestamp:E.actionTimestamp,type:o.sKi.DOCUMENT_FETCH,userInputtedValues:{attachmentId:e,documentId:t,pageNumber:S,startPage:s,endPage:a,retryCount:_,type:i(e),subtype:l(e)}})}return m})(s,r,n.startPage||1,n.endPage||o._ob.PAGES_CHUNK_SIZE,t)):e}}return e},reconciler:(e=[],t)=>{const{getAction:s,isDocumentLoaded:a,isDocumentPageLoaded:n,getDocumentRetryCount:r}=t,l=s();return e.filter((e=>{const{documentId:t,startPage:s,endPage:i,pageNumber:l}=e.userInputtedValues;return!(r(t,s,i)>o.alB)&&(!a(t)||!n(t,l))})).filter((e=>{const{documentId:t,startPage:s,endPage:a}=e.userInputtedValues;switch(l.type){case i.DOCUMENT_FETCH_SUCCEEDED:case i.DOCUMENT_FETCH_FAILED:return!(t===l.documentId&&s===l.startPage&&a===l.endPage)}return!0}))},syncSelector:(e=[])=>{const t=e.sort(((e,t)=>e.timestamp-t.timestamp)).reduce(((e,t)=>{const{documentId:s,startPage:a,endPage:n}=t.userInputtedValues;return{...e,[t.timestamp]:{hash:`${s}-${a}-${n}`,...t}}}),{});return(0,l.VO)(t)}},[o.sKi.COMPOSE_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),n=a.query||"";switch(a.type){case i.CONTACT_SUGGESTIONS_REQUESTED:{const e=Hs(n,a.contextFrom,a.recipientList);return[{id:e,hash:e,timestamp:a.actionTimestamp,type:o.sKi.COMPOSE_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:a}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case i.CONTACT_SUGGESTIONS_SUCCEEDED:case i.CONTACT_SUGGESTIONS_FAILED:{const t=Hs(a.query,a.contextFrom,a.recipientList);return e.id!==t}}return!0}))}},[o.sKi.SEARCH_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getRoute:a,getSmartViewTypeFromRoute:n,isFeatureEnabled:r}=t,l=s(),{query:c="",fetchEmailSuggestions:d=!1}=l,E=r(o.ANe.SHOW_EMPTY_SEARCH_SUGGESTIONS),_=n(a()),u=r(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT),m=_===o.K8C.GROCERIES&&!u;if(!c&&!E||m)return e;switch(l.type){case i.SEARCH_INPUT_FOCUSED:case i.SUGGESTIONS_REQUESTED:return[{id:c||o.pnD,hash:c||o.pnD,timestamp:l.actionTimestamp,type:o.sKi.SEARCH_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:{query:c,fetchEmailSuggestions:d}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case i.SUGGESTIONS_RECEIVED:case i.SUGGESTIONS_FAILED:return e.id!==o.pnD&&e.id!==a.query}return!0}))}},[o.sKi.IMPORTANT_CONTACTS_FETCH]:{preparer:(e=[],t)=>{const{getSelectedMailboxId:s,getAction:a,getEmailOfSelectedAccount:n,getListsSelectors:r}=t,{doesListExist:l}=r();if(!s())return e;const c=a();switch(c.type){case i.SEARCH_INPUT_FOCUSED:{const t=n();return l((0,q.yv)(t))?e:[...e,Ws({fromEmail:t,syncThrottle:6e5,action:c})]}case i.OPEN_PAGE_REQUESTED:case i.LAUNCH_COMPLETED:case i.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{if(c.type!==i.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED&&-1===[o.n8z.NEW_DRAFT,o.n8z.EDIT_DRAFT].indexOf(c.route.name))break;const t=n();return l((0,q.yv)(t))?e:e.concat(Ws({fromEmail:t,action:c}))}case i.DELETE_CONTACT_FAILED:case i.DELETE_CONTACT_SUCCEEDED:{const{listsToUpdate:t=[]}=c;return t.reduce(((t,{listId:s})=>{if((0,q.C4)(s)!==o.ukn.IMPORTANT_CONTACTS)return e;const a=(0,q.Q7)(s);return e.concat(Ws({fromEmail:a,action:c}))}),e)}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case i.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case i.IMPORTANT_CONTACTS_FETCH_FAILED:return e.userInputtedValues.listId!==a.listId}return!0}))}},[o.sKi.VIDEO_CHANNELS_METADATA_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,n=s();if(!a(o.ANe.EMPTY_FOLDER_VIDEO)||a(o.ANe.AOL_VIDEO_PLAYER))return e;switch(n.type){case i.LAUNCH_COMPLETED:return[{id:o.sKi.VIDEO_CHANNELS_METADATA_FETCH,hash:"VIDEO_CHANNELS_METADATA_FETCH",timestamp:n.actionTimestamp,type:o.sKi.VIDEO_CHANNELS_METADATA_FETCH,userInputtedValues:{}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case i.VIDEO_CHANNELS_METADATA_RECEIVED:case i.VIDEO_CHANNELS_METADATA_FAILED:return[]}return e}},[o.sKi.VIDEO_CHANNEL_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getVideoChannelsMetaData:a}=t,n=s(),{type:r,actionTimestamp:l}=n;switch(r){case i.VIDEO_CHANNELS_METADATA_RECEIVED:{const t=a(),[s]=Object.keys(t||{});return s?[{id:s,hash:s,timestamp:l,type:o.sKi.VIDEO_CHANNEL_FETCH,userInputtedValues:{channelAlias:s}}]:e}case i.EMPTY_FOLDER_VIDEO_FETCH_CHANNEL:return[{id:n.channelAlias,hash:n.channelAlias,timestamp:l,type:o.sKi.VIDEO_CHANNEL_FETCH,userInputtedValues:n}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n}=a;return e.filter((e=>{switch(n){case i.VIDEO_CHANNEL_RECEIVED:case i.VIDEO_CHANNEL_FAILED:return e.id!==a.channel}return!0}))}},[o.sKi.COMPOSE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,csid:n,listId:r}=s();switch(a){case i.V3_MESSAGE_SEND_REQUESTED:return e.map((e=>({...e,userInputtedValues:{...e.userInputtedValues,...e.id===n&&{listId:r}},hash:e.hash||e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp||e.timestamp})));default:return e.map((e=>({...e,hash:e.hash?e.hash:e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp?e.saveDueTimestamp:e.timestamp})))}},reconciler:(e,t)=>{const{getAction:s,isOnline:a,getComposeSessionsSelectors:n,isSendRequested:r,isSent:o,didAttachmentUploadFail:l}=t,{doesComposeSessionExist:c,isComposeSessionDirty:d}=n(),E=s(),_=e.filter((e=>{const{userInputtedValues:t={}}=e,{csid:s}=t;return c(s)&&!o(s)&&(d(t)||r(s))})).reduce(((e,t)=>{let s=t.saveDueTimestamp;return[i.V3_MESSAGE_SAVE_FAILED,i.V3_MESSAGE_SEND_FAILED].indexOf(E.type)>-1&&t.userInputtedValues.lastEditedTimeStamp===E.lastEditedTimeStamp&&(s=E.actionTimestamp),{...e,[t.id]:(e[t.id]||[]).concat({...t,saveDueTimestamp:s})}}),{});if(!a()){const e=Object.keys(_).map((e=>{const[t]=_[e].sort(((e,t)=>t.timestamp-e.timestamp)).slice(0,1),s=(t.userInputtedValues.attachmentsInfo||[]).map((e=>e.contentId)),a=_[e].reduce(((e,t)=>e.concat(t.userInputtedValues.newContentIds||[])),[]).filter((e=>-1!==s.indexOf(e)&&!l(e)));return{...t,userInputtedValues:{...t.userInputtedValues,newContentIds:a}}}));return[].concat.apply([],e)}const u=Object.keys(_).map((e=>{const[t]=_[e].sort(((e,t)=>t.timestamp-e.timestamp)).slice(0,1),s=(t.userInputtedValues.attachmentsInfo||[]).map((e=>e.contentId)),a=_[e].map((e=>({...e,userInputtedValues:{...e.userInputtedValues,newContentIds:(e.userInputtedValues.newContentIds||[]).filter((e=>-1!==s.indexOf(e)&&!l(e)))}}))),n=[...a].sort(((e,t)=>e.timestamp-t.timestamp)).find((e=>(e.userInputtedValues.newContentIds||[]).length));return n?a.filter((e=>e.timestamp>=n.timestamp)):a.sort(((e,t)=>t.timestamp-e.timestamp)).slice(0,1)}));return[].concat.apply([],u)},syncSelector:(e,t,s)=>{const{getAction:a,isSendRequested:n,isAttachmentUploadPendingForComposeSession:r,getSetting:l}=t,{type:c,forceSync:d,i13nModel:E={}}=a(),_=l(o.Zrf.COMPOSE_SAVE_INTERVAL),u=-1!==[i.OPEN_PAGE_REQUESTED,i.ONLINE_STATUS_CHANGED,i.CLOSE_COMPACT_COMPOSE].indexOf(c)||c===i.SYNC_DATA&&d,m=e=>s-e.saveDueTimestamp>_,S=E.mKey===is.JE.MANUAL_SAVE_DRAFT,p=u;return e.filter((e=>{const{newContentIds:s=[]}=e.userInputtedValues;return!!s.length||!r(e.id)&&(t.isSendRequested(e.id)||m(e)||p)})).map((e=>({...e,hash:n(e.id)?e.id:e.hash,userInputtedValues:{...e.userInputtedValues,showNotification:S||!m(e)}})))}},[o.sKi.MESSAGE_ITEM_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction(),{groupIds:a,messageIds:n,csid:r}=(0,Ys.Z)(t);if(a.length>0){const n=s.type===i.LAUNCH_COMPLETED;return e.concat(ea(a,t,n))}return n.length>0?e.concat(Xs(n,t)):r?e.concat(((e,t)=>{const{getAction:s}=t,{actionTimestamp:a}=s();return{type:o.sKi.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:a,userInputtedValues:{draftCsid:e,full:!0,secure:!1}}})(r,t)):e},reconciler:(e,t)=>{const{doesMessageBodyHasError:s,doesMessageGroupIdExist:a,doesMessageBodyExist:n,getAction:r,isSecureMessage:c,doesMessageFullBodyExist:d,getDraftMessageId:E,isOnline:_,getMessageBodyRetryCount:u}=t,m=r(),S=e;if(!_())return S.map((e=>({...e,timestamp:m.actionTimestamp})));const p=S.filter((e=>{if(e.userInputtedValues.messageId){const{messageId:t,secure:a,full:r}=e.userInputtedValues;if((m.messageIds||[]).indexOf(t)>-1){if(m.type===i.PREVIEW_MESSAGE_REQUESTED)return u(t)<=o.KW1;if(m.type===i.MESSAGE_BODIES_FAILED)return!1}return!s(t)&&(!(!r&&n(t))&&(!n(t)||!a&&c(t)||!d(t)))}return e.userInputtedValues.messageGroupId?m.type===i.MESSAGE_GROUP_WITH_BODIES_FAILED?e.userInputtedValues.messageGroupId!==m.messageGroupId:!a(e.userInputtedValues.messageGroupId):!e.userInputtedValues.draftCsid||(m.type===i.MESSAGE_GROUP_WITH_BODIES_FAILED?e.userInputtedValues.draftCsid!==m.csid:!E(e.userInputtedValues.draftCsid))})),C={};return p.forEach((e=>{C[e.id]?e.userInputtedValues.full&&(C[e.id]=e):C[e.id]=e})),[...(0,l.VO)(C)]},syncSelector:(e,t)=>{const{isFeatureEnabled:s,getFoldersSelectors:a,getCurrentListId:n}=t,r=e,i=r.some((e=>!1==!!e.userInputtedValues.prefetchMode)),c=r.reduce(((e,t)=>{if(t.userInputtedValues.messageGroupId||t.userInputtedValues.draftCsid)return{...e,[t.timestamp]:t};const s=`${t.timestamp}-${t.userInputtedValues.secure}-${t.userInputtedValues.full}`;if(!e[s]){const a=!1===i?t.userInputtedValues.prefetchMode:null;return{...e,[s]:{type:o.sKi.MESSAGE_ITEM_TO_FETCH,id:s,hash:s,timestamp:t.timestamp,userInputtedValues:{messageIds:[t.userInputtedValues.messageId],secure:t.userInputtedValues.secure,full:t.userInputtedValues.full,isFallback:t.userInputtedValues.isFallback,prefetchMode:a,retryCount:t.userInputtedValues.retryCount,firstMessageIds:t.userInputtedValues.isFirstMessageId&&[t.userInputtedValues.messageId]||[]}}}}return{...e,[s]:{...e[s],userInputtedValues:{...e[s].userInputtedValues,messageIds:e[s].userInputtedValues.messageIds.concat(t.userInputtedValues.messageId),firstMessageIds:e[s].userInputtedValues.firstMessageIds.concat(t.userInputtedValues.isFirstMessageId&&[t.userInputtedValues.messageId]||[])}}}}),{}),{isSpamFolder:d,isTrashFolder:E,isSentFolder:_,isDraftFolder:u}=a(),m=n(),S=(0,q.Fh)(m)||"",p=d(S)||E(S)||_(S)||u(S);return!s(o.ANe.FALCON_TOM_SUBSCRIPTIONS_UPSELLS)||p||(0,l.xb)(c)||Object.keys(c).forEach((e=>{var s,a,n;const r=c[e],{ineligibleFalconTOMGroupIds:o,eligibleFalconTOMGroupIds:i,openedGroupId:l,openedMessageId:d}=Qs(null==r||null===(s=r.userInputtedValues)||void 0===s?void 0:s.messageIds,null==r||null===(a=r.userInputtedValues)||void 0===a?void 0:a.messageGroupId,null==r||null===(n=r.userInputtedValues)||void 0===n?void 0:n.prefetchMode,t);r.userInputtedValues={...r.userInputtedValues,ineligibleFalconTOMGroupIds:o,eligibleFalconTOMGroupIds:i,openedGroupId:l,openedMessageId:d}})),[].concat.apply([],(0,l.VO)(c))}},[o.sKi.CARD_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getMessageIdsFromMessageGroupId:n,isDraftMessage:r,getCurrentGroupId:l,getFalconRelatedCardSelectors:c}=t,d=s(),{route:E,type:_,actionTimestamp:u}=d;if(!a(o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)||_!==i.OPEN_PAGE_REQUESTED&&_!==i.LAUNCH_COMPLETED||-1===[o.n8z.MESSAGE_FROM_LIST,o.n8z.MESSAGE_FROM_SEARCH_LIST,o.n8z.MESSAGE_FROM_FOLDER_LIST].indexOf(E.name))return e;const m=l(),{doRelatedCardsExistForGroupId:S,hasSomeCardExpiredForGroupId:p}=c(),C=m?(n(m)||[])[0]:"",A=_===i.LAUNCH_COMPLETED,T=S(m)&&p(m);return r(C)||!A&&!T?e:[...e,{id:m,hash:m,timestamp:u,type:o.sKi.CARD_TO_FETCH,userInputtedValues:{groupId:m,messageIds:[C]}}]},reconciler:(e,t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case i.RELATED_CARDS_FETCH_SUCCEEDED:case i.RELATED_CARDS_FETCH_FAILED:return e.id!==a.groupId}return!0}))}},[o.sKi.LIST_TO_UPDATE]:{preparer:(e=[],t)=>{const{getRoute:s,isFeatureEnabled:a}=t,n=s(),r=(0,q.LY)(n);return!n.name||n.name===o.n8z.SUBSCRIPTION_LIST||!(0,q.vQ)(r)||r&&(0,q.Yy)(r)||a(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT)&&[o.K8C.ATTACHMENTS,o.K8C.DOCUMENTS,o.K8C.PHOTOS].indexOf((0,q.YC)(n))>-1?e:e.concat(qs({listId:r},t))},reconciler:(e,t)=>{const{getAction:s}=t,a=s(),{listsToUpdate:n=[],listData:r={}}=a,{lists:o={}}=r;let i=e;return n.length&&(i=e.map((e=>n.some((t=>t.listId===e.id))?qs({listId:e.id,isStale:!0},t):e))),Object.keys(o).length&&(i=e.map((e=>o[e.id]?qs({listId:e.id},t):e))),i},syncSelector:(e,t)=>{const{getAction:s,doesListExist:a,getCurrentListId:n,getSetting:r,getEnvironmentSelectors:l,getHistoryStack:c,isAsyncTaskPending:d,getSelectedMailboxId:E,getRoute:_,getAppName:u,getPrescribedNumberOfColumns:m,isFeatureEnabled:S,getSmartViewTypeFromRoute:p,isMessageUpdatePending:C,getAccountSelectors:A}=t,{isAppVisible:T}=l(),h=s(),g=_()||{},{previousRoute:I={}}=h,R=n(),O=A().userHasRegisteredAccount(),D=e.find((e=>e.id===R)),N=(0,q.WN)(R),f=S(o.ANe.DEALS)&&g.name===o.n8z.SEARCH&&p(g)===o.K8C.COUPONS,M=S(o.ANe.DEALS)&&p(g)===o.K8C.COUPONS&&N===o.F6k.COUPON_CARDS,L=u()===o.BQZ.MOBILE_APP&&2===m();if(!g.url||!L&&-1!==[o.n8z.MESSAGE_FROM_SEARCH_LIST].indexOf(g.name)||!D||!E()||d()||f||M||C()||!O)return[];if(S(o.ANe.NO_SYNC_ON_MESSAGE_LAUNCH)&&!h.forceSync&&T()&&(0,os.Ec)(g)&&!L&&c().length<2)return[];const P=D.userInputtedValues.isStale&&-1!==[o.n8z.LIST,o.n8z.FOLDER,o.n8z.SEARCH].indexOf(g.name),y=!(g.url!==I.url&&h.type!==i.CHECK_MAIL_FAILED&&(P||!a(R))||h.type===i.LAUNCH_COMPLETED&&!a(R)||h.type===i.UNDO_MOVE_SUCCEEDED||h.forceSync);return[{...D,userInputtedValues:{...D.userInputtedValues,loadMoreItems:h.type===i.MORE_ITEMS_REQUESTED,forceSync:h.forceSync,userInitiated:h.userInitiated},syncThrottle:500,repeat:y,syncDefer:y?r(o.Zrf.CHECK_MAIL_INTERVAL):0}]}},[o.sKi.LOCATION_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:r,location:l}=a;switch(n){case i.SETTINGS_LOCATION_CHANGE_REQUESTED:return[{id:o.sKi.LOCATION_TO_UPDATE,hash:o.sKi.LOCATION_TO_UPDATE,timestamp:r,type:o.sKi.LOCATION_TO_UPDATE,userInputtedValues:{location:l}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n}=a;switch(n){case i.SETTINGS_LOCATION_CHANGE_FAILED:case i.SETTINGS_LOCATION_CHANGE_SUCCEEDED:return[]}return e}},[o.sKi.CONVERSATION_MODE_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:r,value:l}=a;switch(n){case i.CONVERSATIONS_CHANGE_REQUESTED:return[{hash:o.sKi.CONVERSATION_MODE_TO_UPDATE,timestamp:r,type:o.sKi.CONVERSATION_MODE_TO_UPDATE,userInputtedValues:{value:l}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n}=a;switch(n){case i.CONVERSATIONS_CHANGE_SUCCEEDED:case i.CONVERSATIONS_CHANGE_FAILED:return[]}return e}},[o.sKi.PARENT_MESSAGE_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,cardConversationId:a,actionTimestamp:n}=t();switch(s){case i.PARENT_MESSAGE_METADATA_REQUESTED:return e.concat([{type:o.sKi.PARENT_MESSAGE_TO_FETCH,hash:a,timestamp:n,userInputtedValues:{cardConversationId:a}}]);default:return e}},reconciler:(e,{getAction:t})=>{const{type:s,cardConversationId:a=""}=t();switch(s){case i.PARENT_MESSAGE_METADATA_SUCCEEDED:case i.PARENT_MESSAGE_METADATA_FAILED:return[];default:return a?e:[]}}},[o.sKi.COUPONS_TO_FETCH]:{preparer:(e=[],{getAction:t,getRoute:s,isFeatureEnabled:a,getSelectedAccountId:n})=>{const r=t(),{type:l,actionTimestamp:c}=r;if(a(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return e;switch(l){case i.LAUNCH_PAGE_REQUESTED:case i.LAUNCH_ERROR:return e;default:{const t=s(),i=(0,q.LY)(t),l=a(o.ANe.DEALS)&&t.name===o.n8z.SEARCH,d=(0,q.Q7)(i),E=(0,q.DF)(i),_=n(),u=a(o.ANe.DEALS),m=(0,q.tE)(i,{listContentType:o.F6k.COUPON_CARDS,listFilter:o.ukn.ALL_COUPON_CARDS,referrer:o.v6P.COUPONS,accountIds:[_]}),S=(0,q.tE)(i,{listContentType:o.F6k.COUPON_CARDS,listFilter:o.ukn.SAVED_COUPON_CARDS,referrer:o.v6P.COUPONS,accountIds:[_]}),p=[{type:o.sKi.COUPONS_TO_FETCH,hash:`${o.sKi.COUPONS_TO_FETCH}-${m}`,timestamp:c,userInputtedValues:{listId:m,decoId:[o.Jd6.CPN],isSearch:l,keyword:d,emailAddress:E,action:r}}];return u&&l||p.push({type:o.sKi.COUPONS_TO_FETCH,hash:`${o.sKi.COUPONS_TO_FETCH}-${S}`,timestamp:c,userInputtedValues:{listId:S,decoId:[o.Jd6.CPN,o.Jd6.TAG],isSearch:l,keyword:d,emailAddress:E}}),e.concat(p)}}},reconciler:(e=[],{getAction:t,doesListExist:s,isFeatureEnabled:a,doesListHasMoreItems:n,getSmartViewTypeFromRoute:r,getRoute:l})=>{const c=t(),{type:d}=c,E=r(l());switch(d){case i.MORE_COUPONS_REQUESTED:return e.filter((({userInputtedValues:{listId:e,action:t,isSearch:r}})=>(a(o.ANe.DEALS)||t||r)&&s(e)&&E===o.K8C.COUPONS&&n(e)));case i.COUPONS_LIST_SUCCEEDED:case i.COUPONS_LIST_FAILED:return[];default:return e.filter((({userInputtedValues:{listId:e,isSearch:t}})=>(a(o.ANe.DEALS)||t)&&!s(e)&&(E===o.K8C.COUPONS||E===o.K8C.COUPON_EMAILS)&&(0,q.WN)(e)===o.F6k.COUPON_CARDS))}}},[o.sKi.GEMINI_AD_ASSET]:{preparer:(e=[],t)=>{const{getAction:s,getAdsSelectors:a,getRoute:n}=t,{type:r,actionTimestamp:c}=s();if(-1===[i.OPEN_PAGE_REQUESTED,i.LAUNCH_COMPLETED].indexOf(r))return e;const d=n();if(d.name!==o.n8z.SPONSORED_MESSAGE)return e;const{getGeminiAdDataFromCreativeId:E}=a(),{nativeAd:_={}}=E((0,l.u9)(d,"params.creativeId"))||{};return _.geminiSponsoredAsset||!_.url?e:e.concat([{type:o.sKi.GEMINI_AD_ASSET,hash:`GEMINI_AD_ASSET_HASH-${d.params.creativeId}`,timestamp:c,userInputtedValues:{dataType:o.sKi.GEMINI_AD_ASSET,creativeId:d.params.creativeId,url:_.url}}])},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.GEMINI_SPONSORED_ASSET_RECEIVED:case i.GEMINI_SPONSORED_ASSET_FAILED:return e.filter((({userInputtedValues:e})=>e.creativeId!==a.creativeId));default:return e}}},[o.sKi.RELATED_SEARCHES_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n}=s();switch(a){case i.OPEN_PAGE_REQUESTED:case i.LAUNCH_COMPLETED:return[{type:o.sKi.RELATED_SEARCHES_TO_FETCH,hash:"RELATED_SEARCHES_UNSYNCED_DATA_HASH",timestamp:n,userInputtedValues:{dataType:o.sKi.RELATED_SEARCHES_TO_FETCH}}];default:return e}},reconciler:(e,t)=>{const{getAction:s,getAdsSelectors:a,isFeatureEnabled:n}=t,{getRelatedSearches:r}=a(),l=r(),c=s();if(!n(o.ANe.RELATED_SEARCHES_CARD)||l&&Object.keys(l).length)return[];switch(c.type){case i.RELATED_SEARCHES_FETCH_SUCCEEDED:case i.RELATED_SEARCHES_FETCH_FAILED:return[]}return e}},[o.sKi.MESSAGE_ITEM_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();if(!(e=>ta.indexOf(e)>=0)(a.type))return e;if(a.type===i.BLOCK_SENDERS_WITH_DELETE_REQUESTED){const s=a.itemsToUpdate.filter((e=>!!e.messageQuery));return e.concat(ia(s,t))}return e.concat(ia(a.itemsToUpdate,t))},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return(0,l.VO)(e.sort(((e,t)=>e.timestamp-t.timestamp)).reduce(((e,t)=>{const s=e[t.id]?{...e[t.id].userInputtedValues,...t.userInputtedValues}:t.userInputtedValues;return{...e,[t.id]:{...e[t.id]||t,userInputtedValues:s}}}),{})).map((e=>la(a,e))).filter((e=>Object.keys(e.userInputtedValues).length))},syncSelector:(e=[],t)=>{const{getAction:s,getMessageFlags:a,getMessageFolderId:n,getAccountIdByFolderId:r,isFeatureEnabled:i}=t,{actionTimestamp:c,type:d,isRead:E}=s(),_=!i(o.ANe.MARK_AS_READ_DEFER)||ca(e,t)?0:2e3,u=e.map((e=>{const t=(0,l.VO)(e.userInputtedValues),s=e.id,o=t[0],i=o&&o.isBatch,c=o&&o.messageQuery,d=c?void 0:s,E=Object.keys(e.userInputtedValues);let _,u,m,S=t.reduce(((e,t)=>Math.max(e,t.modSeq)),0);if(isNaN(S)&&(S=c?void 0:Date.now()),c)u=o.flags,_=o.destinationFolder,m=void 0;else{const e=n(s);m=e?r(e):void 0,_={id:e},u=a(s)}return{id:s,messageId:d,permanentDelete:t.some((e=>e.permanentDelete)),updateTypes:E,messageQuery:c,deleteDuplicates:t.some((e=>e.deleteDuplicates)),flags:u,folder:_,sourceFolder:o.folder,modSeq:S,...i?{isBatch:i}:{},...m?{accountId:m}:{}}})).map((e=>{const t={...e};return e.updateTypes.forEach((e=>{const s=na[e];s&&(t.flags={...t.flags||{},[s]:!!(t.flags||{})[s]})})),t}));return!u.length||(e=>sa.indexOf(e)>=0)(d)?[]:[{type:o.sKi.MESSAGE_ITEM_TO_UPDATE,id:o.sKi.MESSAGE_ITEM_TO_UPDATE,hash:o.sKi.MESSAGE_ITEM_TO_UPDATE,timestamp:c,userInputtedValues:{messageItemsToSync:u,isRead:E},syncDefer:_}]}},[o.sKi.ASYNC_TASK_STATUS]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n}=s();switch(a){case i.MOVE_ITEMS_REQUESTED:case i.MOVE_AND_READ_CHANGE_REQUESTED:case i.DELETE_ITEMS_REQUESTED:case i.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case i.READ_CHANGE_REQUESTED:case i.STAR_CHANGE_REQUESTED:{const t=s(),{isAsync:a=!1}=t;return a?[{type:o.sKi.ASYNC_TASK_STATUS,hash:"ASYNC_TASK_STATUS_HASH",timestamp:n,userInputtedValues:{taskId:null,status:o.sZ3.INIT,progress:0,pollCount:0,abort:!1,actionPayload:t}}]:e}case i.BULK_PROGRESS_INITIATED:{const{tasks:e=[],...t}=s();return e.map((({id:e,status:s,progress:a,pollCount:r=0})=>({type:o.sKi.ASYNC_TASK_STATUS,hash:e,timestamp:n,userInputtedValues:{taskId:e,status:s,progress:a,pollCount:r,abort:!1,actionPayload:t}})))}case i.BULK_PROGRESS_RECEIVED:{const{id:t,status:a,progress:r,pollCount:o=0}=s();return e.map((e=>e.userInputtedValues.taskId&&t!==e.userInputtedValues.taskId?e:{...e,timestamp:n,userInputtedValues:{...e.userInputtedValues,taskId:t,status:a,progress:r,pollCount:o}}))}case i.BULK_CANCEL_REQUESTED:return e.map((e=>({...e,timestamp:n,userInputtedValues:{...e.userInputtedValues,abort:!0}})));default:return e}},reconciler:(e,t)=>{const{getAction:s,isOnline:a}=t,{type:n,triageActionType:r}=s();if(!a())return e.length>0?[]:e;switch(n){case i.UPDATE_ITEMS_SUCCEEDED:case i.UPDATE_ITEMS_FAILED:return e.filter((e=>(0,l.u9)(e,"userInputtedValues.actionPayload.triageActionType",void 0)!==r));case i.BULK_CANCEL_FAILED:return e.length>0?[]:e;default:return e}},syncSelector:(e=[],t,s)=>{const{getFeaturesSelectors:a}=t,n=a().getSetting(o.Zrf.ASYNC_TASK_POLL_INTERVAL);return e.filter((e=>{const t=e.userInputtedValues;return!!t.abort||!!t.taskId&&!(s-e.timestamp<n)}))}},[o.sKi.CONTACT_CARD]:{preparer:(e=[],t)=>{const{doesListExist:s,doesMessageGroupIdExist:a,getAction:n,getContactListSelectors:r,getListsSelectors:l,getMessagesSelectors:c,getRouteParams:d,getSetting:E,isFeatureEnabled:_,isMessageRoute:u,isMobileRoute:m}=t,{getContactByEmail:S}=r(),{doesMessageIdExist:p,getFromAddresses:C}=c(),A=n(),{type:T,actionTimestamp:h}=A,g=e=>{const t=[];return null==e||e.forEach((e=>{var s;if(!p(e))return;const a=null===(s=C(e)[0])||void 0===s?void 0:s.email;S(a)||t.includes(a)||t.push(a)})),t},I=(e,t,s=!1)=>{const{getMessageIdsFromMessageGroupId:a,isDraftMessage:n,getHashParams:r,getCurrentListId:i,getStreamsSelectors:l,getMessageCsid:c}=t,d=a(e)||[],E=d.filter((e=>!n(e))),_=E[E.length-1],u=(r()||{}).messageId,m=i(),S=(0,Zs.k3)(m,e),{doesExpansionStateExist:p,getExpansionStateForStreamItem:C}=l(),A=[];p(S)&&d.forEach((e=>{const t={streamId:S,csid:c(e),listId:(0,q.tE)(m,{listContentType:o.F6k.MESSAGE})},s=C(t);s!==o.Lvq.EXPANDED&&s!==o.Lvq.TEMPORARY_EXPANSION||A.push(e)}));const T=d.filter((e=>e===u||e===_||-1!==A.indexOf(e)));return s?T.slice(0,2):T},R=(e=[],n)=>e.reduce(((e,r)=>{if(a(r)){const i=I(r,t,n),c=(e=>{const{listId:n}=A;if(!n||!s(n)||(0,q.WN)(n)!==o.F6k.MESSAGES)return[];const{getItemIdsSelectors:r}=l(),i=E(o.Zrf.NEIGHBOR_PREFETCH_COUNT);if(0===i)return[];const c=r(n).getItemIds(),d=c.indexOf(e);return c.filter((e=>{const t=c.indexOf(e);return t!==d&&t<=d+i&&t>=d-i})).reduce(((e,s)=>{if(a(s))return e.concat(I(s,t,!0))}),[])})(r);return e.concat(i).concat(c)}}),[]),O=({unsyncedData:e,emails:t,isPrefetch:s})=>t.length?e.concat({type:o.sKi.CONTACT_CARD,hash:t.join(),timestamp:h,userInputtedValues:{emails:t,isPrefetch:s}}):e;switch(T){case i.CONTACT_DETAIL_FETCH_REQUESTED:{const{email:t}=A;return S(t)?e:O({unsyncedData:e,emails:[t],isPrefetch:!1})}case i.LAUNCH_COMPLETED:{const{listId:t}=A,{getItemIdsSelectors:s}=l();if(!t||(0,q.WN)(t)!==o.F6k.MESSAGES)return e;const{getItemIds:a}=s(t);return O({unsyncedData:e,emails:g(a().slice(0,E(o.Zrf.NUM_MESSAGE_GROUPS_TO_PREFETCH)).map((e=>{var t;return null===(t=R([e],!0))||void 0===t?void 0:t[0]}))),isPrefetch:!0})}case i.OPEN_PAGE_REQUESTED:if(u()&&(!m()||_(o.ANe.NOBLE_WEB_LINK))){return O({unsyncedData:e,emails:g((()=>{const{groupId:e}=d();return R([e],!0)})()),isPrefetch:!0})}return e;case i.PREVIEW_MESSAGE_REQUESTED:{const{itemId:t}=A;return O({unsyncedData:e,emails:g(R([t])),isPrefetch:!0})}case i.STOREFRONT_MODULES_SUCCEEDED:{const{storefrontBrandEmailIds:t}=A;return null==t||!t.length||t.some((e=>S(e)))?e:O({unsyncedData:e,emails:t})}default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s(),n=e.filter(((t,s)=>{const{emails:a}=t.userInputtedValues;return 1!==a.length||!e.some(((e,t)=>e.userInputtedValues.emails.includes(a[0])&&t!==s))}));switch(a.type){case i.CONTACT_DETAIL_FETCH_SUCCEEDED:case i.CONTACT_DETAIL_FETCH_FAILED:return n.filter((e=>!r()(a.emails,e.userInputtedValues.emails)))}return n}},[o.sKi.COMPONENT_UI_STATE]:{preparer:(e=[])=>e.sort(((e,t)=>t.timestamp-e.timestamp)).slice(0,10),syncSelector:()=>[]},[o.sKi.ACCOUNT_TO_UPDATE]:{preparer:bs,reconciler:Fs,syncSelector:e=>{const t=ys()(e,(e=>e.timestamp));return t?[t]:[]}},[o.sKi.SETTINGS_TO_CHANGE]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,name:n,actionTimestamp:r,shownMaxTimes:l=!1}=s;switch(a){case i.PAC_CUE_MARK_AS_SHOWN_REQUESTED:case i.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:return-1===[o.ANe.WEB_PAC_NOTIFICATION_CUE,o.ANe.MOBILE_PAC_NOTIFICATION_CUE].indexOf(n)?e:n!==o.ANe.WEB_PAC_NOTIFICATION_CUE||l?e.concat(da({actionTimestamp:r,accountId:"none",updatedSettingAttributes:[{name:o.Zrf.SHOW_IMAGES,value:!0}]})):e;case i.THEME_MODE_CHANGE_REQUESTED:case i.AOL_SETTINGS_MIGRATION_INITIATED:case i.OPEN_PAGE_REQUESTED:{const{updatedSettingAttributes:t,accountId:n="none"}=s;return t?e.concat(da({accountId:n,updatedSettingAttributes:t,actionTimestamp:r,aolSettingsMigration:a===i.AOL_SETTINGS_MIGRATION_INITIATED})):e}default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.SETTINGS_CHANGE_FAILED:case i.SETTINGS_CHANGE_SUCCEEDED:case i.AOL_SETTINGS_MIGRATION_SUCCEEDED:case i.AOL_SETTINGS_MIGRATION_FAILED:if(a.requestActionPayload){const{requestTimestamp:t,accountId:s}=a.requestActionPayload;return e.filter((e=>{const{userInputtedValues:{accountId:a}}=e;return a!==s||t<e.timestamp}))}return e}return e},syncSelector:e=>{if(!e.length)return[];e.sort(((e,t)=>e.timestamp-t.timestamp));const t=e.reduce(((e,t)=>{const{accountId:s,updatedSettingAttributes:a,requestTimestamp:n,aolSettingsMigration:r}=t.userInputtedValues;e[s]||(e[s]={});const{userInputtedValues:i={}}=e[s];return e[s]={...e[s],type:o.sKi.SETTINGS_TO_CHANGE,hash:o.sKi.SETTINGS_TO_CHANGE+s,timestamp:t.timestamp,userInputtedValues:{...i,updatedSettingAttributes:{...i.updatedSettingAttributes||{},...a.reduce(((e,{name:t,value:s})=>(e[t]=s,e)),{})},accountId:s,requestTimestamp:n,aolSettingsMigration:r}},e}),{});return Object.keys(t).reduce(((e,s)=>{const a=t[s],{userInputtedValues:n}=a;return n.updatedSettingAttributes=Object.keys(n.updatedSettingAttributes).reduce(((e,t)=>[...e,{name:t,value:n.updatedSettingAttributes[t]}]),[]),[...e,a]}),[])}},[o.sKi.FOLDER]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,folderId:n,folderName:r,actionTimestamp:l,filters:c,originalFolderName:d,newFolderName:E,subfolders:_}=s();switch(a){case i.RENAME_FOLDER_REQUESTED:case i.MOVE_FOLDER_REQUESTED:case i.DELETE_FOLDER_REQUESTED:return e.concat([{type:o.sKi.FOLDER,hash:n,timestamp:l,userInputtedValues:{folderId:n,folderName:r,filters:c,originalFolderName:d,newFolderName:E,updateType:a,subfolders:_}}]);default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.RENAME_FOLDER_SUCCEEDED:case i.RENAME_FOLDER_FAILED:return e.filter((({userInputtedValues:e})=>e.folderId!==a.folderId||e.updateType!==i.RENAME_FOLDER_REQUESTED));case i.MOVE_FOLDER_SUCCEEDED:case i.MOVE_FOLDER_FAILED:return e.filter((({userInputtedValues:e})=>e.folderId!==a.folderId||e.updateType!==i.MOVE_FOLDER_REQUESTED));case i.DELETE_FOLDER_SUCCEEDED:case i.DELETE_FOLDER_FAILED:return e.filter((({userInputtedValues:e})=>e.folderId!==a.folderId||e.updateType!==i.DELETE_FOLDER_REQUESTED))}return e}},[o.sKi.GEMINI_AD]:{preparer:(e=[],t)=>{const{getAction:s,getAdSectionIds:a,getCurrentSpaceId:n}=t,r=s(),i=a(),c=n();return(0,l.xb)(i)||!c?e:e.concat(Object.keys(i).map((e=>({type:o.sKi.GEMINI_AD,hash:`GEMINI_AD_HASH-${i[e]}`,timestamp:r.actionTimestamp,userInputtedValues:{spaceId:c,sectionId:i[e],adPosition:e}}))))},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.GEMINI_AD_RECEIVED:case i.GEMINI_AD_FAILED:return e.filter((({userInputtedValues:e})=>-1===(0,l.VO)(a.sectionIds).indexOf(e.sectionId)));default:return e}},syncSelector:(()=>{let e={},t={},s={};return(a,n,r)=>{if(!a.length||"undefined"==typeof window)return[];const{getAction:c,getAdSectionIds:d,getRoute:E,getSelectedMailboxId:_,getStreamsSelectors:m,getSetting:S,getCurrentListId:p,isFeatureEnabled:C,getAdsSelectors:A,getReconciledUnysncedDataByHash:T,getEnvironmentSelectors:h,getSmartViewTypeFromRoute:g,getAdListItemsSelectors:I,getMailPremiumFreeTrialSelectors:R,isMobileRoute:O}=n,D=c(),N=d(),f=E(),{doesStreamExist:M,getCursorSelectors:L}=m(),{getFeedbackStartedSectionIds:P,getCachedGeminiAds:y,getAdFeedbackStatus:b}=A(),F=-1!==[o.n8z.FOLDER,o.n8z.SEARCH,o.n8z.LIST].indexOf(f.name),U=D.type===i.HIDE_RIGHT_PANE_ADS&&C(o.ANe.RIGHT_RAIL_UPSELL_VIDEO_AD),v=g(f)===o.K8C.COUPONS;let w=!1,G=!1,k=!1;if(D.streamId&&M(D.streamId)&&S(o.Zrf.PREVIEW_PANE)!==o.EsZ.NO&&F){const t=L(D.streamId).getCursorItem();!t||t.id===e.id&&t.listId===e.listId||(0,q.WN)(t.listId)!==o.F6k.MESSAGES||(e=t,w=!0)}_()&&!(0,os.Vu)(f,t)&&(G=!0,t=f),(0,l.wU)(N,s)||(k=!0,s=N);const H=-1!==[i.PREVIEW_MESSAGE_CLOSED,i.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED].indexOf(D.type)||G||k||v&&D.type===i.LAUNCH_COMPLETED,B=(0,pe.k_)(D,O()),x=w||B||H,V=P().length>0,W=R().getUpsellId(),Z=C("drawer")&&!(f.name===o.n8z.FOLDER||(0,q.rB)(f)),K=f.name===o.n8z.PORTRAIT_AD;if(v&&-1===[i.OPEN_PAGE_REQUESTED,i.LAUNCH_COMPLETED].indexOf(D.type))return[];if(!U&&(!x||V||Z))return[];if(K)return[];if(C(o.ANe.MAILPRO_FREE_TRIAL_UPSELLS)&&W===o.$AH.PRE_SIGNUP_PENCIL_BANNER)return[];const z=p(),Y=T((0,q.JB)(z))||{},j=(0,l.u9)(Y,"uiState.scrollTop",0),{contentAndRightRailHeight:Q}=h().getWindowDimensions(),X=u.V2F+(C(o.ANe.SECOND_PENCIL_AD)?Q:0),J=S(o.Zrf.GEMINI_SECTION_IDS),$=[J[o.e$m.MESSAGE_LIST],J[o.e$m.MESSAGE_LIST_2],J[o.e$m.MESSAGE_LIST_2_FALLBACK],J[o.e$m.MESSAGE_LIST_CAROUSEL]].filter(Boolean),ee=S(o.Zrf.TIME_TO_WAIT_SINCE_LAST_AD_CALL),te=b()[J[o.e$m.SHOPPING_CART]],se=C(o.ANe.MSG_READ_PENCIL_AD_SEND_DOMAIN),ae=[i.OPEN_PAGE_REQUESTED,i.PREVIEW_MESSAGE_REQUESTED,i.STREAM_CURSOR_MOVED].indexOf(D.type)>-1,ne=a.filter((({userInputtedValues:e})=>!C(o.ANe.ROTATE_PENCIL_AD_ON_EXPIRE)||y(e.sectionId).length<=2)).filter((({userInputtedValues:e})=>-1!==(0,l.VO)(N).indexOf(e.sectionId))).filter((({userInputtedValues:e})=>!(F&&((0,q.yz)(z)&&!(0,q.rB)(f)||(0,q.lG)(z)||j>X)&&-1!==$.indexOf(e.sectionId)))).filter((e=>H||r-e.timestamp>ee)).filter((({userInputtedValues:e})=>!I().isAdMarkedForSkipRotation(e.adPosition))).filter((({userInputtedValues:e})=>!(e.adPosition===o.e$m.MESSAGE_READ&&se&&!ae))).filter((({userInputtedValues:e})=>!te||e.sectionId!==J[o.e$m.SHOPPING_CART])).filter((({userInputtedValues:e})=>!(e.adPosition===o.e$m.SHOPPING_CART&&!ae))).filter((({userInputtedValues:e})=>{const t=C(o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED),s=e.adPosition===o.e$m.SHOPPING_CART,a=e.adPosition===o.e$m.MESSAGE_READ,n=C(o.ANe.MSG_READ_PENCIL_AD_SEND_DOMAIN)&&a;return!t||!(s||n)})).filter((({userInputtedValues:e})=>{const t=C(o.ANe.PENCIL_AD),s=e.adPosition===o.e$m.MESSAGE_LIST||e.adPosition===o.e$m.MESSAGE_LIST_2||e.adPosition===o.e$m.ADBLOCK_MESSAGE_LIST||e.adPosition===o.e$m.ADBLOCK_MESSAGE_LIST_2||e.adPosition===o.e$m.MESSAGE_LIST_SM||e.adPosition===o.e$m.MESSAGE_LIST_2_FALLBACK||e.adPosition===o.e$m.MESSAGE_LIST_SPONSORED_MESSAGE;return t||!s}));return ne.length?ne.reduce(((e,t)=>{const{userInputtedValues:s,timestamp:a}=t,{spaceId:n,sectionId:r,adPosition:i}=s;return e[0]?[{...e[0],userInputtedValues:{...e[0].userInputtedValues,sectionIds:{...e[0].userInputtedValues.sectionIds,[i]:r}}}]:[{type:o.sKi.GEMINI_AD,hash:"GEMINI_AD_HASH",timestamp:a,userInputtedValues:{spaceId:n,sectionIds:{[i]:r}}}]}),[]):[]}})()},[o.sKi.VACATION_RESPONSE_SETTINGS]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,value:n,actionType:r,actionTimestamp:l}=s();switch(a){case i.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED:return[{type:o.sKi.VACATION_RESPONSE_SETTINGS,hash:o.ZFS.SAVE_VACATION_RESPONSE,timestamp:l,warnOnClose:!0,userInputtedValues:{value:n,actionType:r,requestTimestamp:l}}];default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED:case i.SETTINGS_SAVE_VACATION_PREFERENCES_FAILED:return e.filter((e=>e.hash!==o.ZFS.PREVENT_ROUTE_CHANGE&&e.timestamp>a.requestTimestamp));default:return e.filter((e=>e.hash!==o.ZFS.PREVENT_ROUTE_CHANGE))}}},[o.sKi.RAW_MESSAGE]:{syncSelector:(e,t)=>{const{getAction:s}=t,{type:a,messageId:n,actionTimestamp:r}=s();return a!==i.VIEW_RAW_MESSAGE?[]:[{type:o.sKi.RAW_MESSAGE,hash:n,timestamp:r,userInputtedValues:{dataType:o.sKi.RAW_MESSAGE,messageId:n}}]}},[o.sKi.RAW_MESSAGE_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,messageId:n,actionTimestamp:r}=s();return a!==i.FETCH_RAW_MESSAGE?e:e.concat([{type:o.sKi.RAW_MESSAGE_TO_FETCH,hash:o.sKi.RAW_MESSAGE_TO_FETCH+n,timestamp:r,userInputtedValues:{dataType:o.sKi.RAW_MESSAGE_TO_FETCH,messageId:n}}])},reconciler:(e,{getAction:t})=>{const{type:s,messageId:a}=t();switch(s){case i.FETCH_RAW_MESSAGE_SUCCEEDED:case i.FETCH_RAW_MESSAGE_FAILED:return e.filter((e=>e.hash!==o.sKi.RAW_MESSAGE_TO_FETCH+a));default:return e}}},[o.sKi.COUPON_RECOMMENDATIONS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a,messageId:n=""}=t();switch(s){case i.COUPONS_ADD_TAG_DECO_REQUESTED:return e.concat({type:o.sKi.COUPON_RECOMMENDATIONS_TO_FETCH,hash:"COUPONS_RECOMMENDATIONS_UNSYNCED_DATA_HASH",timestamp:a,userInputtedValues:{cardMessageId:n}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:a,parentMessageId:n="",messageId:r="",recommendations:l=!1,listId:c=""}=t(),[{userInputtedValues:{cardMessageId:d=""}={}}={}]=e,E=(0,q.H7)({referrer:o.qd8.COUPON_RECOMMENDATIONS,keyword:d});switch(a){case i.COUPONS_LIST_SUCCEEDED:case i.COUPONS_LIST_FAILED:return c===E?[]:e;default:return(0,ie.box)(n).checkIfNot((()=>""===r)).checkIf((()=>l)).checkIf((()=>s(o.ANe.DEALS))).unbox((()=>e),(()=>[]))}},syncSelector:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.COUPONS_ADD_TAG_DECO_SUCCEEDED:return e;default:return[]}}},[o.sKi.ACCOUNT_TO_REAUTH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{actionTimestamp:a,wssid:n,accountId:r,type:l,email:c,provider:d}=s();switch(l){case i.ACCOUNT_REAUTH_REQUESTED:return[...e,{type:o.sKi.ACCOUNT_TO_REAUTH,hash:o.sKi.ACCOUNT_TO_REAUTH+r,timestamp:a,userInputtedValues:{wssid:n,accountId:r,email:c,provider:d}}];default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.ACCOUNT_REAUTH_SUCCEEDED:case i.ACCOUNT_REAUTH_FAILED:return e.filter((({userInputtedValues:e})=>e.accountId!==a.accountId))}return e}},[o.sKi.REQUEST_AFFILIATE_OFFERS]:{preparer:(e=[],t)=>{const{getAction:s,getStorefrontBrandsSelectors:a,getGroupId:n,getMessageIdsFromMessageGroupId:r,getMessagesSelectors:l,isFeatureEnabled:c,isMessageRoute:d,isMobileRoute:E}=t,{getBrandIdFromDomain:_,getAffiliateProductsFromBrandId:u,doesBrandHaveAffiliateProducts:m}=a(),S=s(),p=c(o.ANe.DEALS_WITH_PRODUCTS),C=e=>{var t;const{getFromAddresses:s}=l(),a=e&&r(e)||[],n=(null===(t=(a.length&&s(a[0])||[])[0])||void 0===t?void 0:t.email)||"";return n?(0,ie.getRootDomainFromEmailAddress)(n):""},A=(t,s)=>{const{actionTimestamp:a}=S;return t&&m(t)&&!s?e.concat({id:o.sKi.REQUEST_AFFILIATE_OFFERS,hash:t,timestamp:a,type:o.sKi.REQUEST_AFFILIATE_OFFERS,userInputtedValues:{brandId:t}}):e};switch(S.type){case i.OPEN_PAGE_REQUESTED:{const{streamItem:t={}}=S;if(p&&d()&&!E()){const e=_(C(null==t?void 0:t.id));return A(e,u(e))}return e}case i.PREVIEW_MESSAGE_REQUESTED:{const{streamItem:t={}}=S;if(p&&!E()){const e=_(C(null==t?void 0:t.id));return A(e,u(e))}return e}case i.ASTRA_BATCH_API_SUCCEEDED:{const{actionTimestamp:t,response:s}=S;if(p&&d()&&s){var T,h,g;const a=c(o.ANe.STOREFRONT)||c(o.ANe.SHOW_SEARCH_CONTACT_CARD)?null===(T=s[o.G1D.STOREFRONT_BRANDS])||void 0===T?void 0:T.brands:null===(h=s[o.G1D.AFFILIATE_RETAILERS])||void 0===h?void 0:h.brands,r=C(n()),i=null==a||null===(g=a.filter((e=>e.hasAffiliateProducts)).find((e=>r===e.domain)))||void 0===g?void 0:g.brandId;if(i)return e.concat({id:o.sKi.REQUEST_AFFILIATE_OFFERS,hash:i,timestamp:t,type:o.sKi.REQUEST_AFFILIATE_OFFERS,userInputtedValues:{brandId:i}})}return e}case i.AFFILIATE_OFFERS_REQUESTED:{const{actionTimestamp:t,brandId:s}=S;return e.concat({id:o.sKi.REQUEST_AFFILIATE_OFFERS,hash:s,timestamp:t,type:o.sKi.REQUEST_AFFILIATE_OFFERS,userInputtedValues:{brandId:s}})}default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.AFFILIATE_OFFERS_FAILED:case i.AFFILIATE_OFFERS_SUCCEEDED:return[];default:return e}}},[o.sKi.RETAILER_LINK]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a,retailerId:n,loyaltyId:r,parentName:l}=t();switch(s){case i.LINK_RETAILER_REQUESTED:return e.concat({id:o.sKi.RETAILER_LINK,hash:n,timestamp:a,type:o.sKi.RETAILER_LINK,userInputtedValues:{retailerId:n,loyaltyId:r,parentName:l}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:a,retailerId:n,loyaltyId:r}=t();switch(a){case i.LINK_RETAILER_SUCCEEDED:case i.LINK_RETAILER_FAILED:return[];default:return(0,ie.box)(n).checkIfNot((e=>""===e)).checkIf((()=>s(o.ANe.GROCERIES))).checkIf((()=>r)).checkIfNot((()=>""===r)).unbox((()=>e),(()=>[]))}}},[o.sKi.RETAILER_UNLINK]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a,retailerId:n}=t();switch(s){case i.UNLINK_RETAILER_REQUESTED:return e.concat({id:o.sKi.RETAILER_UNLINK,hash:n,timestamp:a,type:o.sKi.RETAILER_UNLINK,userInputtedValues:{retailerId:n}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:a,retailerId:n}=t();switch(a){case i.UNLINK_RETAILER_SUCCEEDED:case i.UNLINK_RETAILER_FAILED:return[];default:return(0,ie.box)(n).checkIfNot((e=>""===e)).checkIf((()=>s(o.ANe.GROCERIES))).unbox((()=>e),(()=>[]))}}},[o.sKi.OFFERS]:{preparer:(e=[],{getAction:t,getOffersSelectors:s,getRoute:a,isFeatureEnabled:n})=>{const r=a(),{actionTimestamp:l,type:c,categoryListId:d}=t(),E=d||(0,q.LY)(r),_=(0,q.h_)(E)||"",u=(0,q.Q7)(E).trim()||"",m=(0,q.Jh)(u),{getOfferStreamItems:S}=s(),p=S(E);if((!n(o.ANe.GROCERIES)||(0,q.WN)(E)!==o.F6k.OFFER_CARDS||!_||m&&c!==i.LAUNCH_COMPLETED||null!=p&&p.length)&&c!==i.UPDATE_PREFERRED_STORE_SUCCEEDED)return e;if(n(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return e;switch(c){case i.OPEN_PAGE_REQUESTED:case i.LAUNCH_COMPLETED:case i.LINK_RETAILER_SUCCEEDED:case i.UPDATE_PREFERRED_STORE_SUCCEEDED:case i.CATEGORY_ITEMS_REQUESTED:return e.concat({id:o.sKi.OFFERS,hash:`${_}_${u}`,timestamp:l,type:o.sKi.OFFERS,userInputtedValues:{listId:E,retailerId:_,search:u}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.OFFERS_LIST_SUCCEEDED:case i.OFFERS_LIST_FAILED:return[];default:return e}}},[o.sKi.ACTIVATE_OFFER]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const{contextOfUse:a,type:n,actionTimestamp:r,retailerId:l,offer:c,position:d,parentMessageId:E,offerIndex:_,score:u,search:m,sortOrder:S,fromEmail:p,cancelAPICall:C}=t(),A=s(),T=(0,q.LY)(A),h=(0,q.tE)(T,{listFilter:o.ukn.ACTIVATED_OFFER_CARDS,keyword:""});switch(n){case i.ACTIVATE_OFFER_REQUESTED:return e.concat({id:o.sKi.ACTIVATE_OFFER,hash:`${l}-${c.offerId}`,timestamp:r,type:o.sKi.ACTIVATE_OFFER,userInputtedValues:{contextOfUse:a,listId:h,retailerId:l,offer:c,position:d,parentMessageId:E,offerIndex:_,score:u,search:m,sortOrder:S,fromEmail:p,cancelAPICall:C}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s,retailerId:a="",offer:n={}}=t(),{offerId:r=""}=n;switch(s){case i.ACTIVATE_OFFER_SUCCEEDED:case i.ACTIVATE_OFFER_FAILED:return[];default:return e.filter((()=>a&&r))}}},[o.sKi.REMOVE_PRODUCTS]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const{actionTimestamp:a,items:n=[],retailerId:r="",type:l}=t(),c=s(),d=(0,q.LY)(c),E=(0,q.tE)(d,{listFilter:o.ukn.ACTIVATED_OFFER_CARDS,keyword:""});if(!r||!n.length)return e;switch(l){case i.DELETE_GROCERY_ITEMS_REQUESTED:return e.concat({id:o.sKi.REMOVE_PRODUCTS,hash:o.sKi.REMOVE_PRODUCTS,timestamp:a,type:o.sKi.REMOVE_PRODUCTS,userInputtedValues:{listId:E,items:n,retailerId:r}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.DELETE_GROCERY_ITEMS_FAILED:case i.DELETE_GROCERY_ITEMS_SUCCEEDED:return[];default:return e}}},[o.sKi.CHANGE_PRODUCTS_QUANTITY]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const{actionTimestamp:a,categories:n,contextOfUse:r,interactionType:l,items:c=[],offerIndex:d,retailerId:E="",retailerName:_,score:u,type:m}=t(),S=s(),p=(0,q.LY)(S),C=(0,q.tE)(p,{listFilter:o.ukn.ACTIVATED_OFFER_CARDS,keyword:""});if(!E||!c.length)return e;switch(m){case i.CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED:return e.concat({id:o.sKi.CHANGE_PRODUCTS_QUANTITY,hash:o.sKi.CHANGE_PRODUCTS_QUANTITY,timestamp:a,type:o.sKi.CHANGE_PRODUCTS_QUANTITY,userInputtedValues:{categories:n,contextOfUse:r,interactionType:l,items:c,listId:C,offerIndex:d,retailerId:E,retailerName:_,score:u}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:case i.CHANGE_GROCERY_ITEMS_QUANTITY_FAILED:return[];default:return e}}},[o.sKi.RETAILER_LOCATIONS]:{preparer:(e=[],{getAction:t})=>{const{actionTimestamp:s,zipCode:a="",retailerId:n="",type:r}=t();if(!n||!a)return e;switch(r){case i.GET_RETAILER_LOCATIONS_REQUESTED:return e.concat({id:o.sKi.RETAILER_LOCATIONS,hash:`${n}-${a}`,timestamp:s,type:o.sKi.RETAILER_LOCATIONS,userInputtedValues:{zipCode:a,retailerId:n}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.GET_RETAILER_LOCATIONS_FAILED:case i.GET_RETAILER_LOCATIONS_SUCCEEDED:return[];default:return e}}},[o.sKi.UPDATE_PREFERRED_STORE]:{preparer:(e=[],{getAction:t})=>{const{actionTimestamp:s,store:a=[],retailerId:n="",type:r}=t();if(!n||!a.length||!a[0].branchCode)return e;switch(r){case i.UPDATE_PREFERRED_STORE_REQUESTED:return e.concat({id:o.sKi.UPDATE_PREFERRED_STORE,hash:`${n}-${a[0].branchCode}`,timestamp:s,type:o.sKi.UPDATE_PREFERRED_STORE,userInputtedValues:{store:a,retailerId:n}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.UPDATE_PREFERRED_STORE_FAILED:case i.UPDATE_PREFERRED_STORE_SUCCEEDED:return[];default:return e}}},[o.sKi.ACTIVATED_OFFERS]:{preparer:(e=[],{getAction:t,getRetailersSelectors:s,getRoute:a,isFeatureEnabled:n})=>{const r=a(),{actionTimestamp:l,type:c}=t(),d=(0,q.LY)(r),E=(0,q.h_)(d)||"",{getNumActivatedOffersFromRetailerId:_}=s(),u=_(E),m=(0,q.tE)(d,{listFilter:o.ukn.ACTIVATED_OFFER_CARDS,keyword:""});if(!(n(o.ANe.GROCERIES)&&(0,q.WN)(d)===o.F6k.OFFER_CARDS&&E&&null===u||c===i.UPDATE_PREFERRED_STORE_SUCCEEDED||c===i.REFRESH_SHOPPING_LIST_REQUESTED))return e;if(n(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return e;switch(c){case i.OPEN_PAGE_REQUESTED:case i.LAUNCH_COMPLETED:case i.LINK_RETAILER_SUCCEEDED:case i.UPDATE_PREFERRED_STORE_SUCCEEDED:case i.REFRESH_SHOPPING_LIST_REQUESTED:return e.concat({id:o.sKi.ACTIVATED_OFFERS,hash:o.sKi.ACTIVATED_OFFERS,timestamp:l,type:o.sKi.ACTIVATED_OFFERS,userInputtedValues:{listId:m,retailerId:E}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s=""}=t();switch(s){case i.ACTIVATED_OFFERS_LIST_SUCCEEDED:case i.ACTIVATED_OFFERS_LIST_FAILED:return[];default:return e}}},[o.sKi.GROCERY_SEARCH_ASSIST]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s,getRetailersSelectors:a,getRoute:n})=>{const{actionTimestamp:r,keyword:l="",type:c}=t(),{getSearchAssist:d,isRetailerLinkable:E}=a(),_=n(),u=(0,q.LY)(_),m=(0,q.h_)(u),S=d(m,l),p=(0,q.C4)(u)===o.ukn.RECOMMENDED_OFFER_CARDS;if(!(s(o.ANe.GROCERIES)&&!E(m))||!p||!m||S)return e;switch(c){case i.GROCERY_SEARCH_ASSIST_REQUESTED:case i.SEARCH_INPUT_FOCUSED:return e.concat({id:o.sKi.GROCERY_SEARCH_ASSIST,hash:""===l?o.sKi.GROCERY_SEARCH_ASSIST:l,timestamp:r,type:o.sKi.GROCERY_SEARCH_ASSIST,syncThrottle:6e4,syncDefer:100,userInputtedValues:{keyword:l,retailerId:m}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.GROCERY_SEARCH_ASSIST_FAILED:case i.GROCERY_SEARCH_ASSIST_SUCCEEDED:return[];default:return e}}},[o.sKi.GROCERY_SUBCATEGORIES]:{preparer:(e=[],{getAction:t,getRetailersSelectors:s,getRoute:a})=>{const{actionTimestamp:n,type:r}=t(),l=a(),c=(0,q.LY)(l),d=(0,q.h_)(c)||"",E=(0,q.Q7)(c).trim()||"",_=(0,q.Fv)(E).split("#"),u=_[_.length-1],{getSubcategories:m,isRetailerLinkable:S}=s(),p=m(u);if((0,q.WN)(c)!==o.F6k.OFFER_CARDS||!u||!d||S(d)||p)return e;switch(r){case i.LAUNCH_COMPLETED:case i.OPEN_PAGE_REQUESTED:return e.concat({id:o.sKi.GROCERY_SUBCATEGORIES,hash:u,timestamp:n,type:o.sKi.GROCERY_SUBCATEGORIES,userInputtedValues:{categoryId:u,retailerId:d}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.GROCERY_SUBCATEGORIES_FAILED:case i.GROCERY_SUBCATEGORIES_SUCCEEDED:return[];default:return e}}},[o.sKi.PREVIOUSLY_ADDED_GROCERY_ITEMS]:{preparer:(e=[],{getAction:t,getRetailersSelectors:s,getRoute:a,isFeatureEnabled:n})=>{const{actionTimestamp:r,type:l}=t(),c=a(),d=(0,q.LY)(c),E=(0,q.h_)(d)||"",{getPreviouslyAddedItems:_,isRetailerLinkable:u}=s(),m=_(E);if(!n(o.ANe.GROCERIES)||(0,q.WN)(d)!==o.F6k.OFFER_CARDS||!E||u(E)||null!=m&&m.length)return e;if(n(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return e;switch(l){case i.OPEN_PAGE_REQUESTED:case i.LAUNCH_COMPLETED:return e.concat({id:o.sKi.PREVIOUSLY_ADDED_GROCERY_ITEMS,hash:E,timestamp:r,type:o.sKi.PREVIOUSLY_ADDED_GROCERY_ITEMS,userInputtedValues:{retailerId:E}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.PREVIOUSLY_ADDED_GROCERY_ITEMS_FAILED:case i.PREVIOUSLY_ADDED_GROCERY_ITEMS_SUCCEEDED:return[];default:return e}}},[o.sKi.RELATED_GROCERY_ITEMS]:{preparer:(e=[],{getAction:t,getRetailersSelectors:s})=>{const{actionTimestamp:a,itemId:n,retailerId:r,type:l}=t(),{getRelatedItems:c}=s(),d=c(r,n);if(!r||!n||null!=d&&d.length)return e;switch(l){case i.RELATED_GROCERY_ITEMS_REQUESTED:return e.concat({id:o.sKi.RELATED_GROCERY_ITEMS,hash:`${r}_${n}`,timestamp:a,type:o.sKi.RELATED_GROCERY_ITEMS,userInputtedValues:{retailerId:r,itemId:n}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.RELATED_GROCERY_ITEMS_FAILED:case i.RELATED_GROCERY_ITEMS_SUCCEEDED:return[];default:return e}}},[o.sKi.STOREFRONT_MODULES]:{preparer:(e=[],t)=>{const{getAction:s,getSelectedAccountId:a,getStorefrontBrandsSelectors:n,isFeatureEnabled:r,isStorefrontRoute:l}=t,{actionTimestamp:c,type:d,route:E}=s(),{getBrandIdFromDomain:_,hasStorefrontModules:u,getBrandInfoFromBrandId:m,doesBrandHaveAffiliateProducts:S}=n(),p=a(),C=E&&(0,q.LY)(E),A=E.name===o.n8z.SEARCH,T=(0,q.DF)(C);if(!r(o.ANe.STOREFRONT)&&!r(o.ANe.SHOW_SEARCH_CONTACT_CARD)||!l()&&!(r(o.ANe.SHOW_SEARCH_CONTACT_CARD)&&A&&T))return e;switch(d){case i.ASTRA_BATCH_API_SUCCEEDED:case i.OPEN_PAGE_REQUESTED:{const t=C&&(0,q.Yy)(C)||_((0,ie.getRootDomainFromEmailAddress)(T)),s=(0,q.LY)((0,os.Rb)(a(),t)),{brandDomains:n=[]}=m(t)||{},r="in:inbox",i=o.nnY*(S(t)?1:2);return t&&!u(t)?e.concat({id:o.sKi.STOREFRONT_MODULES,hash:`${o.sKi.STOREFRONT_MODULES}-${t}`,timestamp:c,type:o.sKi.STOREFRONT_MODULES,userInputtedValues:{brandId:t,accountId:p,listId:s,keyword:r,brandDomains:n,messagesToFetch:i}}):e}default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.STOREFRONT_MODULES_SUCCEEDED:case i.STOREFRONT_MODULES_FAILED:return[];default:return e}}},[o.sKi.STOREFRONT_DEALS]:{preparer:(e=[],{getAction:t,getStorefrontBrandsSelectors:s})=>{const{actionTimestamp:a,accountId:n="",brandId:r="",type:l}=t(),{getStorefrontDealCmidsFromBrandId:c}=s(),d=c(r);if(!r||(null==d?void 0:d.length)>o.JaR)return e;switch(l){case i.STOREFRONT_DEALS_REQUESTED:return e.concat({id:o.sKi.STOREFRONT_DEALS,hash:r,timestamp:a,type:o.sKi.STOREFRONT_DEALS,userInputtedValues:{accountId:n,brandId:r}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.STOREFRONT_DEALS_FAILED:case i.STOREFRONT_DEALS_SUCCEEDED:return[];default:return e}}},[o.sKi.STOREFRONT_PRODUCTS]:{preparer:(e=[],{getAction:t,getStorefrontBrandsSelectors:s})=>{const{actionTimestamp:a,accountId:n="",brandId:r="",type:l}=t(),{getStorefrontProductsFromBrandId:c}=s(),d=c(r);if(!r||(null==d?void 0:d.length)>o.JaR)return e;switch(l){case i.STOREFRONT_PRODUCTS_REQUESTED:return e.concat({id:o.sKi.STOREFRONT_PRODUCTS,hash:r,timestamp:a,type:o.sKi.STOREFRONT_PRODUCTS,userInputtedValues:{accountId:n,brandId:r}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.STOREFRONT_PRODUCTS_FAILED:case i.STOREFRONT_PRODUCTS_SUCCEEDED:return[];default:return e}}},[o.sKi.RESET_STOREFRONT_NEW_DEAL_COUNT]:{preparer:(e=[],{getAction:t,getSelectedAccountId:s})=>{const{actionTimestamp:a,type:n}=t(),r=s();switch(n){case i.RESET_STOREFRONT_NEW_DEAL_COUNT_REQUESTED:return e.concat({id:o.sKi.RESET_STOREFRONT_NEW_DEAL_COUNT,hash:o.sKi.RESET_STOREFRONT_NEW_DEAL_COUNT,timestamp:a,type:o.sKi.RESET_STOREFRONT_NEW_DEAL_COUNT,userInputtedValues:{accountId:r}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.RESET_STOREFRONT_NEW_DEAL_COUNT_FAILED:case i.RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED:return[];default:return e}}},[o.sKi.FOLLOW_STOREFRONT_BRAND]:{preparer:ka,reconciler:Ha},[o.sKi.UNFOLLOW_STOREFRONT_BRAND]:{preparer:ka,reconciler:Ha},[o.sKi.SAVE_COUPONS]:{preparer:Gs,reconciler:ks},[o.sKi.UNSAVE_COUPONS]:{preparer:Gs,reconciler:ks},[o.sKi.FOLLOW_CATEGORY]:{preparer:vs,reconciler:ws},[o.sKi.UNFOLLOW_CATEGORY]:{preparer:vs,reconciler:ws},[o.sKi.NUDGE_AND_SMART_REPLY]:{preparer:(e=[],t)=>{const{getAction:s,getCurrentListId:a,getListItems:n,getMessagesSelectors:r,getSubjectAndSnippetSelectors:l,getMessageFlags:c,doesMessageGroupIdExist:d,getMessageIdsFromMessageGroupId:E,getAttachmentIdsByMessageId:_,getFoldersSelectors:u,getAttachmentById:m,__getMessageWithFlagsAndFolderId:S,isFeatureEnabled:p,isUserOwnEmailMessage:C,getReplySuggestionSelectors:A}=t,{isSpamFolder:T,isTrashFolder:h,isSentFolder:g,isDraftFolder:I,__get__:R}=u(),{actionTimestamp:O,type:D,messageGroupList:N=[]}=s(),f=a();if((!p(o.ANe.NUDGE_TO_REPLY_ELIGIBLE)||!p(o.Zrf.NUDGE_TO_REPLY_SETTING))&&!p(o.ANe.SMART_REPLY)||(0,q.WN)(f)!==o.F6k.MESSAGES)return e;const M=N.length?N:n(f),L=(0,q.Fh)(f)||"",P=T(L)||h(L)||g(L)||I(L);if((D===i.LAUNCH_COMPLETED||D===i.MORE_MESSAGES_REQUEST_SUCCESS||D===i.CHANGE_FOLDER_SUCCEEDED||D===i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED||D===i.MORE_SEARCH_LIST_ITEMS_RECEIVED||D===i.POST_LAUNCH_SYNC_SUCCEEDED)&&!P&&M.length){const t=[],{doesMessageIdExist:s}=r(),{getSnippet:a}=l();return M.forEach((e=>{const n=d(e.id)?E(e.id):[],o=n[n.length-1];if(s(o)&&!C(o)&&!(e=>void 0!==A().getReplySuggestions(e)||!!r().shouldNudgeToReply(e))(o)&&a(o,f)){const e=S(o),{decos:s=[],headers:n={}}=e,r=[].concat(_(o).map(m)).filter(Boolean);t.push({headers:n,id:o,snippet:a(o,f),decos:s,attachments:r,folder:R(e.folderId||e.folderOfDelivery)||{},flags:c(o)||{}})}})),t.length?e.concat({id:o.sKi.NUDGE_AND_SMART_REPLY,hash:o.sKi.NUDGE_AND_SMART_REPLY,timestamp:O,type:o.sKi.NUDGE_AND_SMART_REPLY,userInputtedValues:{messagesList:t}}):e}return e},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:case i.CHECK_NUDGE_AND_SMART_REPLY_FAILED:return[];default:return e}}},[o.sKi.BASENAME_TO_CREATE]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n}=s;switch(a){case i.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED:{const{domain:t,baseName:a}=s;return[...e,{type:o.sKi.BASENAME_TO_CREATE,hash:Us({baseName:a,domain:t}),timestamp:n,userInputtedValues:{domain:t,baseName:a}}]}default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,{baseName:a,domain:n,type:r}=s();switch(r){case i.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:case i.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:case i.DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED:return e.filter((({hash:e})=>e!==Us({baseName:a,domain:n})))}return e}},[o.sKi.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n}=s;switch(a){case i.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_REQUESTED:{const{baseName:t=""}=s;return t.length<6?e:[...e,{type:o.sKi.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH,hash:o.sKi.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH+t,timestamp:n,syncThrottle:12e4,syncDefer:200,userInputtedValues:{baseName:t}}]}default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,{type:a}=s();switch(a){case i.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:case i.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_FAILED:return[]}return e}},[o.sKi.ACCOUNT_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,accountId:n}=s();switch(a){case i.ACCOUNT_DELETE_REQUESTED:return e.concat(((e,t)=>{const{getAction:s}=t,{actionTimestamp:a,type:n}=s();return{type:o.sKi.ACCOUNT_DELETE,hash:e,timestamp:a,userInputtedValues:{accountId:e,updateType:n}}})(n,t));default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.ACCOUNT_DELETE_FAILED:case i.ACCOUNT_DELETE_SUCCEEDED:return e.filter((({userInputtedValues:e})=>e.updateType!==i.ACCOUNT_DELETE_REQUESTED&&e.accountId!==a.updatedAccount.id))}return e}},[o.sKi.ACCOUNT_ADD]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,newAccount:n}=s();switch(a){case i.ACCOUNT_ADD_REQUESTED:return e.concat(((e,t)=>{const{getAction:s,getAccountSelectors:a}=t,{actionTimestamp:n,type:r}=s();return{type:o.sKi.ACCOUNT_ADD,hash:e.email,id:e.email,timestamp:n,userInputtedValues:{newAccount:e,emailOrPhoneRegAccount:!a().userHasRegisteredAccount(),updateType:r}}})(n,t));default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.ACCOUNT_ADD_SUCCEEDED:case i.ACCOUNT_ADD_FAILED:return e.filter((({userInputtedValues:e})=>e.updateType!==i.ACCOUNT_ADD_REQUESTED&&e.newAccount.email!==a.newAccount.email))}return e}},[o.sKi.MORE_ITEMS_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,shouldFetchMoreItems:a}=t,{type:n,actionTimestamp:r,currentGroupId:l,allItemsSelected:c,route:d}=s(),E=(0,q.LY)(d);switch(n){case i.OPEN_PAGE_REQUESTED:case i.LAUNCH_COMPLETED:if((0,q.aY)(E)!==o.qd8.SUBSCRIPTIONS)return e;break;case i.MORE_ITEMS_REQUESTED:if(l&&!a(E,l))return e;break;default:return e}return[...e,{type:o.sKi.MORE_ITEMS_TO_FETCH,hash:o.sKi.MORE_ITEMS_TO_FETCH+E,timestamp:r,userInputtedValues:{allItemsSelected:c,listId:E}}]},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.MORE_MESSAGES_REQUEST_SUCCESS:case i.MORE_MESSAGES_REQUEST_FAILED:case i.MORE_SEARCH_LIST_ITEMS_RECEIVED:case i.MORE_SEARCH_LIST_ITEMS_FAILED:case i.MORE_TRAVEL_ITEMS_SUCCEEDED:case i.MORE_TRAVEL_ITEMS_FAILED:return e.filter((e=>e.hash!==o.sKi.MORE_ITEMS_TO_FETCH+a.listId))}return e},syncSelector:(e,t)=>{const{isAsyncTaskPending:s,getPendingUpdate:a,getAction:n}=t,r=n();return s()||a().type&&r.type!==i.SUBSCRIPTION_LIST_FETCH_SUCCEEDED?[]:e}},[o.sKi.MORE_SENDER_ROLLUP_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,listId:n,actionTimestamp:r}=s();switch(a){case i.MORE_SENDER_ROLLUP_REQUESTED:return e.concat([{type:o.sKi.MORE_SENDER_ROLLUP_TO_FETCH,hash:"MORE_SENDER_ROLLUP_TO_FETCH"+n,timestamp:r,userInputtedValues:{listId:n}}]);default:return e}},reconciler:(e,{getAction:t})=>{const{type:s,listId:a}=t();switch(s){case i.MORE_SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_FAILED:return e.filter((e=>e.hash!==o.sKi.MORE_SENDER_ROLLUP_TO_FETCH+a))}return e}},[o.sKi.GIFS_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.GIF_FETCH_REQUESTED:{const{query:s,listId:n,fetchMoreItems:r}=a,{getListsSelectors:i}=t,{getItemIdsSelectors:l,doesListExist:c,hasMoreItems:d}=i(),E=a.listId;if(c(n)){const t=l(n).getItemIds().length;if(!d(n)&&t)return e;if(t&&!r)return e}return[...e,{id:E,hash:E,timestamp:a.actionTimestamp,type:o.sKi.GIFS_TO_FETCH,userInputtedValues:{query:s,listId:n,fetchMoreItems:r,id:E}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case i.GIF_FETCH_SUCCEEDED:case i.GIF_FETCH_FAILED:return e.id!==a.id}return!0}))}},[o.sKi.GIF_CATEGORY_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getGifCategoriesSelectors:a}=t,{isCategoryListLoaded:n}=a(),r=s();switch(r.type){case i.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED:return n()?[]:[{id:o.sKi.GIF_CATEGORY_TO_FETCH,hash:o.sKi.GIF_CATEGORY_TO_FETCH,timestamp:r.actionTimestamp,type:o.sKi.GIF_CATEGORY_TO_FETCH}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case i.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case i.GIF_CATEGORIES_CONTENT_FETCH_FAILED:return[]}return e}},[o.sKi.ALIAS_EMAIL_TO_CREATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.ALIAS_EMAIL_CREATE_REQUESTED:return[{hash:o.sKi.ALIAS_EMAIL_TO_CREATE,timestamp:a.actionTimestamp,type:o.sKi.ALIAS_EMAIL_TO_CREATE,userInputtedValues:{email:a.email}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case i.ALIAS_EMAIL_CREATE_SUCCEEDED:case i.ALIAS_EMAIL_CREATE_FAILED:return[]}return e}},[o.sKi.CONFIRM_EMAIL_TO_RESEND]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONFIRM_EMAIL_RESEND_REQUESTED:{const t=a.account.email;return[...e,{hash:t,id:t,timestamp:a.actionTimestamp,type:o.sKi.CONFIRM_EMAIL_TO_RESEND,userInputtedValues:{account:a.account}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CONFIRM_EMAIL_RESEND_SUCCEEDED:case i.CONFIRM_EMAIL_RESEND_FAILED:return e.filter((e=>e.id!==a.email))}return e}},[o.sKi.BLOCKED_SENDERS_TO_FETCH]:{preparer:(e=[],t)=>{const{getBlockedSendersApiCallStatus:s}=t.getSettingsSelectors(),a=t.getAction(),{getAppName:n}=t.getEnvironmentSelectors(),{type:r,actionTimestamp:l}=a;switch(r){case i.OPEN_PAGE_REQUESTED:case i.LAUNCH_COMPLETED:{const a=t.getRouteName();return n()!==o.BQZ.MOBILE_APP||a!==o.n8z.MESSAGE_FROM_FOLDER_LIST&&a!==o.n8z.MESSAGE_FROM_SEARCH_LIST&&a!==o.n8z.MESSAGE_FROM_LIST||s()===o.DAQ.LOADED?e:e.concat([{id:o.sKi.BLOCKED_SENDERS_TO_FETCH,hash:o.sKi.BLOCKED_SENDERS_TO_FETCH,type:o.sKi.BLOCKED_SENDERS_TO_FETCH,timestamp:l}])}case i.SETTINGS_BLOCKED_SENDERS_REQUESTED:return e.concat([{id:o.sKi.BLOCKED_SENDERS_TO_FETCH,hash:o.sKi.BLOCKED_SENDERS_TO_FETCH,type:o.sKi.BLOCKED_SENDERS_TO_FETCH,timestamp:l}])}return e},reconciler:(e=[],t)=>{switch(t.getAction().type){case i.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case i.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case i.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case i.SETTINGS_BLOCKED_SENDERS_RECEIVED:case i.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED:case i.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return[]}return e}},[o.sKi.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n}=s;switch(a){case i.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED:return e.concat([{id:o.sKi.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,hash:o.sKi.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,type:o.sKi.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,timestamp:n}])}return e},reconciler:(e=[],t)=>{switch(t.getAction().type){case i.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case i.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case i.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case i.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return[]}return e}},[o.sKi.COMPOSE_ATTRIBUTES_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,doesCurrentRouteContainDraft:a,getComposeAttributesSelectors:n,getSelectedMailboxId:r,isMobileRoute:l}=t,{getComposeAttributesStatus:c}=n(),d=c();if(!r()||d!==o.DAQ.LOADING||l())return[];const E=s();switch(E.type){case i.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return[{hash:o.sKi.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:E.actionTimestamp,type:o.sKi.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}];case i.WINDOW_RESIZING:case i.WINDOW_RESIZED:return e;default:if(a())return[{hash:o.sKi.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:E.actionTimestamp,type:o.sKi.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case i.COMPOSE_ATTRIBUTES_RECEIVED:case i.COMPOSE_ATTRIBUTES_FETCH_FAILED:return[]}return e}},[o.sKi.POST_LUNCH_TO_SYNC]:{reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case i.POST_LAUNCH_SYNC_SUCCEEDED:case i.POST_LAUNCH_SYNC_FAILED:return[]}return e},syncSelector:(e=[],t)=>{const{getSelectedMailboxId:s,getAction:a}=t;if(!s())return[];switch(a().type){case i.LAUNCH_PAGE_REQUESTED:case i.INITIAL_STATE:case i.LAUNCH_ERROR:return[]}return e}},[o.sKi.TOP_RETAILERS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a}=t();switch(s){case i.OPEN_PAGE_REQUESTED:case i.LAUNCH_COMPLETED:return[{type:o.sKi.TOP_RETAILERS_TO_FETCH,hash:"TOP_RETAILERS_UNSYNCED_DATA_HASH",timestamp:a}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getDealsViewSelectors:r})=>{const{type:l}=t(),c=n(s())===o.K8C.COUPONS,d=a(o.ANe.DEALS)&&c,E=r().getTopRetailers();if(!d||E)return[];if(a(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return[];switch(l){case i.TOP_RETAILERS_REQUEST_SUCCEEDED:case i.TOP_RETAILERS_REQUEST_FAILED:return[]}return e}},[o.sKi.TOP_DEAL_CATEGORIES_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a}=t();switch(s){case i.OPEN_PAGE_REQUESTED:case i.LAUNCH_COMPLETED:return[{type:o.sKi.TOP_DEAL_CATEGORIES_TO_FETCH,hash:"TOP_DEAL_CATEGORIES_UNSYNCED_DATA_HASH",timestamp:a}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getDealsViewSelectors:r})=>{const{type:l}=t(),c=n(s())===o.K8C.COUPONS,d=a(o.ANe.DEALS)&&c,E=r().getTopDealCategories();if(!d||E)return[];if(a(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return[];switch(l){case i.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED:case i.TOP_DEAL_CATEGORIES_REQUEST_FAILED:return[]}return e}},[o.sKi.RECENT_SEARCH_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{query:a,actionTimestamp:n,type:r}=s();switch(r){case i.DELETE_RECENT_SEARCH_REQUESTED:return e.concat({id:a,hash:a,userInputtedValues:{query:a},timestamp:n,type:o.sKi.RECENT_SEARCH_DELETE,syncThrottle:12e4,syncDefer:200})}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case i.DELETE_RECENT_SEARCH_SUCCEEDED:case i.DELETE_RECENT_SEARCH_FAILED:return e.id!==a.query}return!0}))}},[o.sKi.SYNC_NOW]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getSelectedAccountId:n,getAccountById:r,getMailboxesSelectors:l}=t,c=s();if(!a(o.ANe.SYNC_NOW))return e;switch(c.type){case i.SYNC_DATA:if(c.forceSync&&c.userInitiated){const t=n(),s=r(t),{id:a}=l().getExpiredAccountAlert(t);return!s||s.isPrimary||!s.isPrimary&&a?e:[{id:o.sKi.SYNC_NOW,hash:o.sKi.SYNC_NOW,timestamp:c.actionTimestamp,type:o.sKi.SYNC_NOW,syncThrottle:12e4}]}return e;case i.ACCOUNT_ADD_SUCCEEDED:{const{newAccount:t}=c;return(null==t?void 0:t.type)===o.tO8.IMAPIN?[{id:o.sKi.SYNC_NOW,hash:o.sKi.SYNC_NOW,timestamp:c.actionTimestamp,type:o.sKi.SYNC_NOW,syncThrottle:12e4,userInputtedValues:{accountId:t.id}}]:e}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case i.SYNC_NOW_SUCCEEDED:case i.SYNC_NOW_FAILED:return[]}return e}},[o.sKi.RECENT_SEARCHES_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getRecentSearchesSelectors:n}=t,r=s(),{getRecentSearchesCallStatus:l}=n();if(!a(o.ANe.SHOW_RECENT_SUGGESTIONS)||l()!==o.DAQ.DOES_NOT_EXIST)return e;switch(r.type){case i.RECENT_SEARCHES_REQUESTED:case i.SEARCH_INPUT_FOCUSED:return[{id:o.sKi.RECENT_SEARCHES_TO_FETCH,hash:o.sKi.RECENT_SEARCHES_TO_FETCH,timestamp:r.actionTimestamp,type:o.sKi.RECENT_SEARCHES_TO_FETCH}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case i.RECENT_SEARCHES_SUCCEEDED:case i.RECENT_SEARCHES_FAILED:return[]}return e}},[o.sKi.LINK_ENHANCER_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getSetting:a}=t;if(!a(o.Zrf.LINK_ENHANCR))return e;const n=s();switch(n.type){case i.LINK_ENHANCER_FETCH_REQUESTED:{const{cardUrl:s}=n,{getLinkEnhancerSelectors:a}=t,{getEnhancedLinks:r}=a(),i=s;return void 0!==r()[s]?e:[...e,{id:i,hash:i,timestamp:n.actionTimestamp,type:o.sKi.LINK_ENHANCER_TO_FETCH,userInputtedValues:{cardUrl:s,id:i}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case i.LINK_ENHANCER_FETCH_SUCCEEDED:case i.LINK_ENHANCER_FETCH_FAILED:return e.id!==a.id}return!0}))}},[o.sKi.FETCH_PRIMARY_ACCOUNT]:{preparer:bs,reconciler:Fs},[o.sKi.UPDATE_PAC_CUE]:{preparer:(e=[],t)=>{const{getSetting:s,getAction:a}=t,n=a(),r=s(o.Zrf.SCOUT_ONBOARDING),l=(0,we.JV)(r,o.ANe.WEB_PAC_NOTIFICATION_CUE);switch(n.type){case i.PAC_CUE_MARK_AS_SHOWN_REQUESTED:{const{name:t,userResponse:s}=n;return s<=l?e:[{hash:o.sKi.UPDATE_PAC_CUE,timestamp:n.actionTimestamp,type:o.sKi.UPDATE_PAC_CUE,userInputtedValues:{name:t,userResponse:s}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return[i.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED,i.FEATURE_CUE_MARK_AS_SHOWN_FAILED].indexOf(a.type)>-1&&a.feature===o.ANe.WEB_PAC_NOTIFICATION_CUE?e.filter((e=>{switch(a.type){case i.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:{const{userInputtedValues:{userResponse:t}}=e;return t>(0,we.JV)(a.value,o.ANe.WEB_PAC_NOTIFICATION_CUE)}case i.FEATURE_CUE_MARK_AS_SHOWN_FAILED:return!1}return!0})):e}},[o.sKi.RSVP_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getCalendarSelectors:a,doesMessageBodyExist:n}=t,{type:r,messageId:l,actionTimestamp:c}=s(),{getInviteStatus:d}=a();switch(r){case i.GET_INVITE_INFO_REQUESTED:return!l||n(l)||"READY"===d(l)?e:e.concat([{type:o.sKi.RSVP_FETCH,timestamp:c,hash:l,userInputtedValues:{messageId:l}}]);default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.INVITEINFO_FETCH_SUCCEEDED:case i.INVITEINFO_FETCH_FAILED:return e.filter((({userInputtedValues:e})=>!(a.messageIds||[]).includes(e.messageId)));default:return e}}},[o.sKi.BREAKING_NEWS]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a}=t();switch(s){case i.LAUNCH_COMPLETED:case i.BREAKING_NEWS_REFRESH:case i.OPEN_PAGE_REQUESTED:return[{type:o.sKi.BREAKING_NEWS,hash:"BREAKING_NEWS_HASH",timestamp:a}]}return e},reconciler:(e,t)=>{const{isFeatureEnabled:s,getSetting:a,getAction:n,getBreakingNewsSelectors:r,isAppVisible:l,getApplicationLastVisibleTimeStamp:c}=t,{type:d,actionTimestamp:E}=n(),_=s(o.ANe.BREAKING_NEWS_ENABLED),u=r().getNewsRefreshTimestamp(),m=a(o.Zrf.BREAKING_NEWS_REFRESH_INTERVAL),S=r().getNewsArticle();if(!_)return[];switch(d){case i.BREAKING_NEWS_SUCCESS:case i.BREAKING_NEWS_FAILED:return[];case i.BREAKING_NEWS_REFRESH:{const e=l()?null:c();if(e&&E>e+18e5&&!S.title)return[]}}return e.filter((e=>e.timestamp-u>m))}},[o.sKi.CLOUD_STORAGE_ACCOUNT_AUTH_URL]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED:{const{provider:t,actionTimestamp:s}=a;return(({provider:e,unsyncedData:t,timestamp:s})=>t.concat({type:o.sKi.CLOUD_STORAGE_ACCOUNT_AUTH_URL,hash:o.sKi.CLOUD_STORAGE_ACCOUNT_AUTH_URL,timestamp:s,userInputtedValues:{provider:e}}))({provider:t,unsyncedData:e,timestamp:s})}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED:return e.filter((e=>e.userInputtedValues.provider!==a.provider))}return e}},[o.sKi.CLOUD_STORAGE_ITEMS_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED:{const{query:s,listId:n,fetchMoreItems:r,source:i,path:l}=a,{getListsSelectors:c}=t,{getItemIdsSelectors:d,doesListExist:E,hasMoreItems:_}=c(),u=a.listId;if(E(n)){const t=d(n).getItemIds().length;if(!_(n)&&t)return e;if(t&&!r)return e}return[...e,{id:u,hash:u,timestamp:a.actionTimestamp,type:o.sKi.CLOUD_STORAGE_ITEMS_TO_FETCH,userInputtedValues:{query:s,listId:n,fetchMoreItems:r,id:u,source:i,path:l}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED:return e.filter((e=>e.id!==a.id))}return e}},[o.sKi.FETCH_CLOUD_STORAGE_PROVIDERS]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getContentProviders:n}=t;if(!a(o.ANe.CLOUD_STORAGE))return e;const r=s(),{actionTimestamp:l,type:c}=r,{isContentProvidersLoaded:d}=n();switch(c){case i.LAUNCH_COMPLETED:case i.OPEN_PAGE_REQUESTED:if(!d()&&(e=>{const{getRoute:t}=e,{name:s,params:a={}}=t();return s===o.n8z.SETTINGS&&a.settingsGroupId===o.u5h.WRITING_EMAIL||s===o.n8z.NEW_DRAFT||s===o.n8z.EDIT_DRAFT})(t))return Da(l);break;case i.OPEN_COMPACT_COMPOSE:case i.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:if(!d())return Da(l);break;case i.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED:return Da(l)}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case i.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED:return[]}return e}},[o.sKi.UNLINK_CLOUD_STORAGE_ACCOUNT]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED:{const{provider:t,unlink:s,actionTimestamp:n}=a;return(({provider:e,unlink:t,unsyncedData:s,timestamp:a})=>s.concat({type:o.sKi.UNLINK_CLOUD_STORAGE_ACCOUNT,hash:o.sKi.UNLINK_CLOUD_STORAGE_ACCOUNT,timestamp:a,userInputtedValues:{provider:e,unlink:t}}))({provider:t,unlink:s,unsyncedData:e,timestamp:n})}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED:case i.CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED:return e.filter((e=>e.userInputtedValues.provider!==a.provider))}return e}},[o.sKi.CLOUD_STORAGE_ITEM_SHAREABLE_LINK]:{preparer:(e=[],t)=>{const{getAction:s,getCloudStorageAccountSelectors:a}=t,n=s();switch(n.type){case i.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED:{const{itemId:t,provider:s,actionTimestamp:r}=n,{getShareableLinkByItemId:i}=a();return i(t)?e:[...e,{type:o.sKi.CLOUD_STORAGE_ITEM_SHAREABLE_LINK,hash:o.sKi.CLOUD_STORAGE_ITEM_SHAREABLE_LINK+t,timestamp:r,userInputtedValues:{itemId:t,provider:s}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case i.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:case i.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED:return e.filter((e=>e.userInputtedValues.itemId!==a.itemId))}return e}},[o.sKi.PHISHING_REMOVE_BDM_DECO]:{preparer:(e=[],{getAction:t})=>{const{actionTimestamp:s,type:a,mailboxId:n,messageId:r}=t();switch(a){case i.PHISHING_REMOVE_BDM_DECO_REQUESTED:return e.concat({type:o.sKi.PHISHING_REMOVE_BDM_DECO,hash:`${n}_${r}`,timestamp:s,userInputtedValues:{mailboxId:n,messageId:r}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s,messageId:a}=t();switch(s){case i.PHISHING_REMOVE_BDM_DECO_SUCCEEDED:case i.PHISHING_REMOVE_BDM_DECO_FAILED:return e.filter((e=>e.userInputtedValues.messageId!==a));default:return e}}},[o.sKi.ASTRA_BATCH_REQUEST]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s,getSelectedMailboxId:a})=>{const{type:n,actionTimestamp:r}=t(),l=Na.filter((e=>s(e)));if(!l.length)return e;switch(n){case i.LAUNCH_COMPLETED:return e.concat({id:o.sKi.ASTRA_BATCH_REQUEST,hash:o.sKi.ASTRA_BATCH_REQUEST,timestamp:r,type:o.sKi.ASTRA_BATCH_REQUEST,userInputtedValues:{batchEnabledFeatures:l,mailboxId:a()}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:case i.ASTRA_BATCH_API_FAILED:return[];default:return e}}},[o.sKi.PURCHASE_MAILPRO_FREE_TRIAL]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,{type:n,actionTimestamp:r}=s();if(!a(o.ANe.MAILPRO_FREE_TRIAL))return[];switch(n){case i.PURCHASE_MAILPRO_FREE_TRIAL:return[{type:o.sKi.PURCHASE_MAILPRO_FREE_TRIAL,hash:"PURCHASE_MAILPRO_FREE_TRIAL_HASH",timestamp:r}];default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:case i.PURCHASE_MAILPRO_FREE_TRIAL_FAILED:return[]}return e}},[o.sKi.LIST_MAIL_PREMIUM_SUBSCRIPTIONS]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getFeatureCueSelectors:n,getMailPremiumFreeTrialSelectors:r,getRoute:l}=t,c=s(),{type:d}=c;if(!a(o.ANe.MAILPRO_FREE_TRIAL)&&!a(o.ANe.MAIL_PLUS_ELIGIBLE)||r().getListSubscriptionsApiCallStatus()!==o.DAQ.DOES_NOT_EXIST)return e;if(a(o.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL_ELIGIBLE)&&a(o.ANe.MAIL_PLUS)&&d===i.LAUNCH_COMPLETED)return e.concat(Oa(c));switch(d){case i.LAUNCH_COMPLETED:case i.OPEN_PAGE_REQUESTED:if(a(o.ANe.MAILPRO_FREE_TRIAL)){const t=n().getUserResponse(o.ANe.MAILPRO_FREE_TRIAL_UPSELLS),s=r().getSubscriptionStatus(),i=parseInt(t,10)||0,l=a(o.ANe.ADS);return(l&&i>=ha&&i<ga||l&&i>=Ia&&i<Ra||!l&&i>=Ta&&i<Ra)&&s===o.cZM.NOT_APPLICABLE?e.concat(Oa(c)):[]}if(a(o.ANe.MAIL_PLUS_ELIGIBLE)&&!a(o.ANe.MAIL_PLUS)){const t=l();return(0,os.re)(t)?e.concat(Oa(c)):e}return e;default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case i.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:case i.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED:return[]}return e}},[o.sKi.CONSUME_TASTEMAKER]:{preparer:wa,reconciler:Ga},[o.sKi.DELETE_TASTEMAKER]:{preparer:wa,reconciler:Ga},[o.sKi.REMOVE_SPAM_SCHEMA]:{preparer:(e=[],{getAction:t})=>{const{actionTimestamp:s,type:a,mailboxId:n,messageId:r}=t();switch(a){case i.REMOVE_SPAM_SCHEMA_REQUESTED:return e.concat({type:o.sKi.REMOVE_SPAM_SCHEMA,hash:`${n}_${r}`,timestamp:s,userInputtedValues:{mailboxId:n,messageId:r}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s,messageId:a}=t();switch(s){case i.REMOVE_SPAM_SCHEMA_SUCCEEDED:case i.REMOVE_SPAM_SCHEMA_FAILED:return e.filter((e=>e.userInputtedValues.messageId!==a));default:return e}}},[o.sKi.STATIC_MAILPLUS_UPSELL_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getSetting:n,couldShowEmptyFolderVideo:r}=t,c=s();if(!a(o.ANe.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER)||!r()||!(0,l.xb)(n(o.Zrf.STATIC_MAIL_PLUS_UPSELL_DATA)))return e;switch(c.type){case i.LAUNCH_COMPLETED:case i.CHANGE_FOLDER_SUCCEEDED:return[{id:o.sKi.STATIC_MAILPLUS_UPSELL_FETCH,hash:"STATIC_MAILPLUS_UPSELL_FETCH",timestamp:c.actionTimestamp,type:o.sKi.STATIC_MAILPLUS_UPSELL_FETCH,userInputtedValues:{placementname:"mail-desktop-web-emptyfolder"}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case i.STATIC_MAIL_PLUS_UPSELL_FETCH_SUCCEEDED:case i.STATIC_MAIL_PLUS_UPSELL_FETCH_FAILED:return[]}return e}}};var xa=s(18644);const Va=(e=[],t)=>t.unsyncedData&&!r()(t.unsyncedData,e)?t.unsyncedData:e,Wa=(e,t,s,a)=>{const n=t.reduce(((e,t)=>({...e,[t.type]:(e[t.type]||[]).concat(t)})),{}),r=Ls()(Object.keys(o.sKi).concat(t.map((e=>e.type))));return[].concat.apply([],r.map((t=>Ba[t]&&"function"==typeof Ba[t][e]?Ba[t][e](n[t]||[],s,a):n[t]||[])))},Za=(e,t={})=>Wa("reconciler",e,t).concat(((e,t={})=>{const{getAction:s}=t,a=s();return a.type!==i.SYNC_DATA&&xa.Z[a.type]?[{id:`V2-${a.type}-${a.actionTimestamp}`,hash:`V2-${a.type}-${a.actionTimestamp}`,type:a.type,isAutoGenerated:!0,timestamp:a.actionTimestamp,userInputtedValues:a}]:[]})(0,t)),Ka=(0,a.combineReducers)({currentChannel:(e="",t)=>{switch(t.type){case i.CHANNEL_CHANGED:case i.VIDEO_CHANNEL_RECEIVED:return t.channel}return e},showVideoPlayer:(e=!0,t)=>{switch(t.type){case i.VIDEO_PLAYER_CLOSED:return!1;case i.VIDEO_PLAYER_OPENED:return!0}return e},channelData:(e={},t)=>{switch(t.type){case i.VIDEO_CHANNELS_METADATA_RECEIVED:return t.payload;case i.VIDEO_CHANNEL_RECEIVED:{const{payload:s,channel:a}=t;return{...e,[a]:s[a]}}}return e},isPaused:(e=!1,t)=>{switch(t.type){case i.VIDEO_PLAYER_PAUSED:return!0;case i.VIDEO_PLAYER_PLAYED:return!1}return e}});const za=function(e={},t){switch(t.type){case i.SETTINGS_ADD_FILTER_REQUESTED:return{messageId:t.messageId,listId:t.listId};case i.OPEN_PAGE_REQUESTED:{const{settingsGroupId:e=""}=t.route.params||{};if(e!==o.u5h.FILTERS)return{}}}return e},qa=(e={},t)=>{switch(t.type){case i.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:{const{replySuggestionResponse:s}=t;return s?{...e,...s}:e}default:return e}},Ya=(0,a.combineReducers)({atosInfo:(e={},t)=>{switch(t.type){case i.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:return(0,l.u9)(t,"data.atos",{})}return e},rewardsActions:(e={},t)=>{switch(t.type){case i.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e={};return(0,l.u9)(t,"data.rewardsActions",[]).forEach((t=>{e[t.tag]={id:t.id,title:t.title}})),e}}return e},rewardsActionsTimestamp:(e={},t)=>{switch(t.type){case i.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e={};return(0,l.u9)(t,"data.lastRegisteredActions",[]).forEach((s=>{e[s.rewardsActionType]=t.actionTimestamp})),e}case i.TMR_REGISTER_ACTION_SUCCESS:return e[t.rewardsActionType]=t.actionTimestamp,e}return e},mailChallenges:(e={},t)=>{switch(t.type){case i.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e={};return(0,l.u9)(t,"data.mailChallenges",[]).forEach((t=>{e[t.tag]=t})),e}}return e},mailChallengesProgress:(e={},t)=>{switch(t.type){case i.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e={};return(0,l.u9)(t,"data.mailChallengesProgress",[]).forEach((t=>{e[t.tag]={recurringProgresses:t.recurringProgresses,repeatedTimes:t.repeatedTimes}})),e}case i.TMR_REGISTER_ACTION_SUCCESS:{const{data:s}=t;return(s.completedChallengesProgress||[]).forEach((t=>{e[t.tag]={recurringProgresses:t.recurringProgresses,repeatedTimes:t.repeatedTimes}})),e}}return e},lastCompletedChallenges:(e={},t)=>{switch(t.type){case i.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e={};return(0,l.u9)(t,"data.lastRegisteredActions",[]).forEach((t=>{const{completedChallenges:s=[]}=t;s.length&&s.forEach((t=>{e[t.tag]={pointsReceived:t.points,bonusChallengeCompleted:t.bonusChallengeCompleted,showSpin:!0}}))})),e}case i.TMR_REGISTER_ACTION_SUCCESS:{const e={},{completedChallenges:s=[]}=t.data;return s.length&&s.forEach((t=>{e[t.tag]={pointsReceived:t.points,bonusChallengeCompleted:t.bonusChallengeCompleted,showSpin:!0}})),e}case i.TMR_SPIN_COMPLETED:return(0,l.u9)(e,`${o.to8.DAILY_CHECKIN}.showSpin`)&&(e[o.to8.DAILY_CHECKIN].showSpin=!1),e}return e},superAppChallenges:(e=[],t)=>{switch(t.type){case i.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:return(0,l.u9)(t,"data.superAppChallenges",[])}return e},pointsBalance:(e=0,t)=>{switch(t.type){case i.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:case i.TMR_REGISTER_ACTION_SUCCESS:return(0,l.u9)(t,"data.pointsBalance")||e}return e},redeemItems:(e=[],t)=>{switch(t.type){case i.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:return(0,l.u9)(t,"data.redeemItems",[])}return e},selectedTab:(e="",t)=>{switch(t.type){case i.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e=(0,l.u9)(t,"data.mailChallenges",[]);let s=o.le_.TASKS;return e.forEach((e=>{e.tag===o.to8.DAILY_CHECKIN&&(s=o.le_.CHECKIN)})),s}case i.TMR_TAB_CHANGE:return t.tab;case i.RIGHT_RAIL_COMMS_ICON_CLICKED:return t.tab||e;case i.OPEN_PAGE_REQUESTED:return t.route.params.tab||e;case i.FEATURE_TRY_NOW_REQUESTED:switch(t.name){case o.ANe.TMR_MOBILE_DAILY_CHECKIN_CUE:return o.le_.CHECKIN;case o.ANe.TMR_MOBILE_IMAPIN_CUE:return o.le_.REWARDS;default:return e}}return e}}),ja=(0,a.combineReducers)({newsArticle:(e={},t)=>{switch(t.type){case i.BREAKING_NEWS_SUCCESS:return t.news&&t.news.id&&e.id!==t.news.id?{...t.news,isRead:!1}:e;case i.BREAKING_NEWS_CLICKED:case i.OPEN_PAGE_REQUESTED:if(void 0!==e.isRead){const s=Object.assign({},e,{isRead:!0}),{route:a}=t;return t.type===i.OPEN_PAGE_REQUESTED&&a.name!==o.n8z.MESSAGE_FROM_FOLDER_LIST&&a.name!==o.n8z.MESSAGE_FROM_SEARCH_LIST?e:s}return e;case i.BREAKING_NEWS_DISMISSED:case i.BREAKING_NEWS_FAILED:return{}}return e},isDismissed:(e=!1,t)=>{switch(t.type){case i.BREAKING_NEWS_DISMISSED:return!0}return e},newsRefreshTimestamp:(e=0,t)=>{switch(t.type){case i.BREAKING_NEWS_SUCCESS:case i.BREAKING_NEWS_FAILED:return t.actionTimestamp}return e}});var Qa=s(47292);const{DOES_NOT_EXIST:Xa,SUCCESS:Ja,FAILED:$a}=o.Mwh,{NOT_APPLICABLE:en,SUBSCRIBED:tn}=o.cZM,{IN_PREVIEW:sn,NOT_IN_PREVIEW:an}=o.kuZ,nn=(0,a.combineReducers)({listSubscriptionsApiCallStatus:(e=o.DAQ.DOES_NOT_EXIST,t)=>{switch(t.type){case i.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:return o.DAQ.LOADED;case i.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED:return o.DAQ.ERROR}return e},purchaseFreeTrialStatus:(e=Xa,t)=>{switch(t.type){case i.PURCHASE_MAILPRO_FREE_TRIAL:return Xa;case i.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:return Ja;case i.PURCHASE_MAILPRO_FREE_TRIAL_FAILED:return $a}return e},trialStartDate:(e=0,t)=>{switch(t.type){case i.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:var s;var a;if((null===(s=t.data)||void 0===s?void 0:s.inFreeTrial)||!1)return null===(a=t.data)||void 0===a?void 0:a.trialStartDate}return e},upsellId:(e=0,t)=>{switch(t.type){case i.LAUNCH_COMPLETED:case i.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:return t.mailproFreeTrialUpsellId||e}return e},subscriptionStatus:(e=en,t)=>{switch(t.type){case i.LAUNCH_COMPLETED:case i.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:return t.subscriptionStatus||e;case i.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:return tn}return e},hasCrossDeviceMailPlusInSubsList:(e=!1,t)=>{switch(t.type){case i.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:var s;return!(null===(s=t.data)||void 0===s||!s.hasCrossDeviceMailPlusInSubsList)}return e},dealsRecommendationsPreview:(e={status:an,value:void 0},t)=>{switch(t.type){case i.TOGGLE_DEAL_RECOMMENDATION_PREVIEW:return{status:sn,value:t.dealsRecommendationsAllowed};case i.FEATURE_CLOSED:{const{name:s}=t;if(s===o.ANe.DEALS_RECOMMEND_CONTROL_CUE||s===o.ANe.DEALS_RECOMMEND_CONTROL_MOBILE_CUE)return{...e,status:an};break}case i.SETTINGS_CHANGE_SUCCEEDED:case i.SETTINGS_CHANGE_FAILED:{const{name:e}=t;if(e===o.Zrf.DISABLED_MESSAGE_READ_CARDS)return{status:an,value:void 0};break}}return e}}),rn=(0,a.combineReducers)({isRead:(e=!1,t)=>{switch(t.type){case i.READ_CHANGE_REQUESTED:return!t.isRead;case i.OPEN_PAGE_REQUESTED:if(t.route.name===o.n8z.SPONSORED_MESSAGE)return!0;break;case i.GEMINI_AD_RECEIVED:return!1}return e},isSelected:(e=!1,t)=>{switch(t.type){case i.TOGGLE_PENCIL_AD_SELECTION:return!e;case i.ALL_STREAM_ITEMS_SELECTED:return!0;case i.DELETE_ITEMS_REQUESTED:case i.MOVE_ITEMS_REQUESTED:case i.READ_CHANGE_REQUESTED:case i.DELETE_PENCIL_AD:case i.STREAM_ITEMS_SELECTION_CLEARED:case i.SEARCH_INPUT_FOCUSED:case i.STAR_CHANGE_REQUESTED:return!1}return e},isDeleted:(e=!1,t)=>{switch(t.type){case i.DELETE_PENCIL_AD:return!0;case i.DELETE_ITEMS_REQUESTED:case i.MOVE_ITEMS_REQUESTED:if(t.isSelected)return!0;break;case i.GEMINI_AD_RECEIVED:return!1}return e},rotateAd:(e=1,t)=>{switch(t.type){case i.READ_CHANGE_REQUESTED:return t.isRead?1:0;case i.OPEN_PAGE_REQUESTED:if(t.route.name===o.n8z.SPONSORED_MESSAGE){if(1===e)return 0;if(e<=0)return++e}else if(t.previousRoute.name!==o.n8z.SPONSORED_MESSAGE&&e<=0)return++e;break;case i.DELETE_PENCIL_AD:return 0;case i.DELETE_ITEMS_REQUESTED:case i.MOVE_ITEMS_REQUESTED:if(t.isSelected)return 0;if(e<=0)return++e;break;default:if((0,pe.k_)(t,!1)&&e<=0)return++e}return e}}),on=(e={},t)=>{if(!Object.keys(e).length&&t.type===i.GEMINI_AD_RECEIVED&&t.sponsoredMessageTriage)return[o.e$m.MESSAGE_LIST,o.e$m.MESSAGE_LIST_2].forEach((s=>{e[s]=rn(e[s],t)})),e;if(Object.keys(e).length)switch(t.type){case i.TOGGLE_PENCIL_AD_SELECTION:case i.DELETE_PENCIL_AD:return{...e,[t.adPosition]:rn(e[t.adPosition],t)};case i.ALL_STREAM_ITEMS_SELECTED:case i.STREAM_ITEMS_SELECTION_CLEARED:case i.STAR_CHANGE_REQUESTED:case i.SEARCH_INPUT_FOCUSED:if(t.type!==i.SEARCH_INPUT_FOCUSED||t.clearSelection){const s={};return Object.keys(e).forEach((a=>{s[a]=rn(e[a],t)})),s}break;case i.READ_CHANGE_REQUESTED:{const s={...e};return Object.keys(e).forEach((a=>{e[a].isSelected&&(s[a]=rn(e[a],t))})),s}case i.MOVE_ITEMS_REQUESTED:case i.DELETE_ITEMS_REQUESTED:if("DELETE_SELECTED_ITEMS"===t.triageActionType||"MOVE_SELECTED_ITEMS"===t.triageActionType){const s={};return Object.keys(e).forEach((a=>{s[a]=rn(e[a],{...t,isSelected:e[a].isSelected})})),s}break;case i.OPEN_PAGE_REQUESTED:if(t.route.name===o.n8z.SPONSORED_MESSAGE)return{...e,[t.adPosition]:rn(e[t.adPosition],t)};if(t.previousRoute.name!==o.n8z.SPONSORED_MESSAGE){const s={};return Object.keys(e).forEach((a=>{s[a]=rn(e[a],t)})),s}break;case i.GEMINI_AD_RECEIVED:{const s={...e};return Object.keys(e).forEach((a=>{t.sectionIds&&Object.keys(t.sectionIds).indexOf(a)>-1&&(s[a]=rn(e[a],t))})),s}default:if((0,pe.k_)(t,!1)){const s={};return Object.keys(e).forEach((a=>{s[a]=rn(e[a],t)})),s}}return e},ln=(e={},t)=>{switch(t.type){case i.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:{const{listData:{cloudStorageItems:s={}}}=t;return{...e,...s}}case i.CLOUD_STORAGE_ITEM_PERMISSION_UPDATED:{const{itemId:s,permission:a}=t,n=e[s];return{...e,[`${s}`]:{...n,permission:a}}}case i.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:{const{itemId:s}=t,a=e[s];return{...e,[`${s}`]:{...a,permission:o.zCd.PUBLIC}}}default:return e}},cn=(e={},t)=>{const{type:s,itemId:a,shareableLink:n}=t;switch(s){case i.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:return{...e,[`${a}`]:{shareableLink:n}};default:return e}},dn=(e,t)=>{const{type:s,itemId:a}=t;switch(s){case i.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED:case i.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:return a;case i.CLOUD_STORAGE_ITEM_LINK_ADDED:case i.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED:default:return""}},En=(0,a.combineReducers)({cloudStorageItems:ln,shareableLinks:cn,recentItemId:dn}),_n=(0,a.combineReducers)({falconTOMSubscriptions:(e={},t)=>{const{type:s,responseList:a,groupIds:n}=t;switch(s){case i.FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED:{const t={};return(n||[]).forEach((e=>{t[`${e}`]=a[e]||{}})),{...e,...t}}default:return e}},falconTOMSubscriptionsApiCallStatus:(e={},t)=>{switch(t.type){case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{ineligibleFalconTOMGroupIds:s}=t,a={};return(s||[]).forEach((e=>{a[`${e}`]=o.bYh.CANCELLED})),{...e,...a}}case i.FALCON_TOM_SUBSCRIPTIONS_FETCH_REQUESTED:{const{groupIds:s}=t,a={};return(s||[]).forEach((t=>{e[`${t}`]||(a[`${t}`]=o.bYh.LOADING)})),{...e,...a}}case i.FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED:case i.FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED:{const{groupIds:s}=t,a={};return(s||[]).forEach((e=>{a[`${e}`]=o.bYh.LOADED})),{...e,...a}}default:return e}}}),un=(0,a.combineReducers)({relatedCards:(e={},t)=>{const{type:s,relatedCardsMap:a={}}=t;switch(s){case i.INITIAL_STATE:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.MESSAGE_BODIES_RECEIVED:case i.RELATED_CARDS_FETCH_SUCCEEDED:{const t={};return(Object.keys(a)||[]).forEach((e=>{t[e]=a[e]||[]})),{...e,...t}}case i.RELATED_CARDS_FETCH_FAILED:{const s={},{groupId:a}=t,n=e[a].filter((e=>new Date(e.ttl)>new Date));return s[a]=n,{...e,...s}}case i.COUPONS_REMOVE_TAG_DECO_REQUESTED:case i.COUPONS_ADD_TAG_DECO_REQUESTED:{const{cardMid:s,parentMessageId:a,schemaCard:n}=t,r=null==n?void 0:n.saved,o=[];return e[a]?(e[a].forEach((e=>{if("COMMERCE"!==e.vertical)return void o.push({...e});const t={...e};t.data=t.data.map((e=>e.cmid===s?{...e,saved:r}:e)),o.push(t)})),{...e,[a]:o}):e}default:return e}},relatedCardsStatus:(e={},t)=>{switch(t.type){case i.INITIAL_STATE:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.RELATED_CARDS_FETCH_SUCCEEDED:{const{relatedCardsMap:s={}}=t,a={};return(Object.keys(s)||[]).forEach((e=>{a[`${e}`]=o.bYh.LOADED})),{...e,...a}}default:return e}}}),mn=(0,a.combineReducers)({from:(e=[],t)=>{const{type:s,sender:a}=t;switch(s){case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:return(a.messages||[]).reduce(((e,{headers:{from:t=[]}})=>(t.length&&!e.find((({email:e})=>e===t[0].email))&&e.push(t[0]),e)),[]);default:return e}},messages:(e=[],t)=>{const{type:s,sender:a}=t;switch(s){case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:return[...e,...a.messages.map((e=>e.id))];default:return e}},subjects:(e=[],t)=>{const{type:s,sender:a}=t;switch(s){case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:return(a.messages||[]).reduce(((e,{headers:{subject:t=""}})=>(t.length&&e.push(t),e)),[]);default:return e}},timestamp:(e="",t)=>{const{type:s,sender:a}=t;switch(s){case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:return a.timestamp;default:return e}},type:(e="",t)=>{const{type:s,sender:a}=t;switch(s){case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:return(0,ie.isValidEmail)(a.id)?o.ICb.SENDER:o.ICb.CONV;default:return e}},unreadCount:(e="",t)=>{const{type:s,sender:a}=t;switch(s){case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:return a.unread;default:return e}},totalCount:(e="",t)=>{const{type:s,sender:a}=t;switch(s){case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:return a.total;default:return e}}});const Sn=function(e={},t){switch(t.type){case i.SENDER_ROLLUP_SUCCEEDED:case i.MORE_SENDER_ROLLUP_SUCCEEDED:{const{senderRollup:s=[],listId:a}=t,n=(0,q.Fh)(a);return Object.assign({},e,{[n]:Object.assign({},e[n]||{},s.reduce(((s,a)=>({...s,[a.id]:mn(e[a.id],{type:t.type,sender:a})})),{}))})}}return e};const pn=(0,a.combineReducers)({affiliateProducts:(e=null,t)=>{switch(t.type){case i.AFFILIATE_OFFERS_SUCCEEDED:case i.STOREFRONT_MODULES_SUCCEEDED:case i.STOREFRONT_PRODUCTS_SUCCEEDED:return t.affiliateProducts||[];default:return e}},affinityNumber:(e=NaN,t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.affinityNumber||e;default:return e}},brandCategories:(e={},t)=>{const{type:s,brandCategories:a}=t;switch(s){case i.STOREFRONT_MODULES_SUCCEEDED:return a||e;default:return e}},brandDomains:(e=[],t)=>{const{type:s,brandDomains:a}=t;switch(s){case i.ASTRA_BATCH_API_SUCCEEDED:return a||e;default:return e}},brandEmailIds:(e=[],t)=>{const{type:s,brandEmailIds:a}=t;switch(s){case i.STOREFRONT_MODULES_SUCCEEDED:return a||e;default:return e}},brandId:(e="",t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.brandId||"";default:return e}},dealCmids:(e=null,t)=>{const{type:s,dealCmids:a}=t;switch(s){case i.STOREFRONT_MODULES_SUCCEEDED:case i.STOREFRONT_DEALS_SUCCEEDED:return a||[];default:return e}},domain:(e="",t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.domain||"";default:return e}},facebookUrl:(e="",t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.facebookUrl||"";default:return e}},featured:(e=!1,t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.featured||!1;default:return e}},followed:(e=!1,t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.followed||!1;case i.STOREFRONT_BRAND_FOLLOW_SUCCEEDED:return!0;case i.STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED:return!1;default:return e}},hasAffiliateProducts:(e=!1,t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.hasAffiliateProducts||e;default:return e}},isLoaded:(e=!1,t)=>{switch(t.type){case i.STOREFRONT_MODULES_FAILED:case i.STOREFRONT_MODULES_SUCCEEDED:return!0;default:return e}},logo:(e="",t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.logo||"";default:return e}},name:(e="",t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.name||"";default:return e}},newDealsCount:(e=0,t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.newDealsCount||e;case i.RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED:return 0;default:return e}},numberOfMessages:(e=0,t)=>{const{type:s,numberOfMessages:a}=t;switch(s){case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:return a||e;default:return e}},receipts:(e=[],t)=>{switch(t.type){case i.STOREFRONT_RECEIPTS_MODULES_SUCCEEDED:return t.receipts||[];default:return e}},twitterUrl:(e="",t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.twitterUrl||"";default:return e}},website:(e="",t)=>{switch(t.type){case i.ASTRA_BATCH_API_SUCCEEDED:return t.website||"";default:return e}}});const Cn=function(e={},t){const{actionTimestamp:s,affiliateProducts:a,applicationLastVisibleTimeStamp:n,brandId:r,clicked:c,dealsToSave:d,isVisible:E,numberOfMessages:_,products:u,response:m,storefrontBrandCategories:S={},storefrontBrandEmailIds:p=[],storefrontProductsModule:C=[],storefrontReceiptsModule:A=[],type:T}=t;switch(T){case i.ASTRA_BATCH_API_SUCCEEDED:var h,g;return((null==m||null===(h=m[o.G1D.AFFILIATE_RETAILERS])||void 0===h?void 0:h.brands)||(null==m||null===(g=m[o.G1D.STOREFRONT_BRANDS])||void 0===g?void 0:g.brands)||[]).reduce(((e,t)=>({...e,[t.brandId]:pn(e[t.brandId],{type:T,...t})})),{...e});case i.STOREFRONT_MODULES_SUCCEEDED:{if(!r)return e;const t=d.map((e=>e.cmid));return{...e,[r]:pn(e[r],{type:T,dealCmids:t,affiliateProducts:C,brandCategories:S,brandEmailIds:p})}}case i.STOREFRONT_EMAILS_MODULES_SUCCEEDED:return r?{...e,[r]:pn(e[r],{type:T,numberOfMessages:_})}:e;case i.AFFILIATE_OFFERS_SUCCEEDED:return r&&a?{...e,[r]:pn(e[r],{type:T,affiliateProducts:a})}:e;case i.INBOX_COMMERCE_FEATURE_CLICKED:return{...e,inboxCommerceFeatureClicked:c,autoExpansion:!1};case i.MESSAGE_BODY_LINK_CLICKED:return{...e,inboxCommerceFeatureClicked:!0};case i.OPEN_PAGE_REQUESTED:return{...e,inboxCommerceFeatureClicked:!1};case i.APPLICATION_VISIBILITY_DID_CHANGE:{let t=!1;if(E){const a=s-n;return t=a>5e3&&a<18e5,t?{...e,autoExpansion:t}:{...e,autoExpansion:t,inboxCommerceFeatureClicked:!1}}return e}case i.STOREFRONT_DEALS_SUCCEEDED:{var I;if(!r)return e;const t=d.map((e=>e.cmid)).filter((t=>{var s,a;return!(null!==(s=e[r])&&void 0!==s&&null!==(a=s.dealCmids)&&void 0!==a&&a.some((e=>e===t)))})),s=[...null===(I=e[r])||void 0===I?void 0:I.dealCmids,...t];return{...e,[r]:pn(e[r],{type:T,dealCmids:s})}}case i.STOREFRONT_PRODUCTS_SUCCEEDED:{var R;if(!r)return e;const t=u.filter((t=>{var s,a;return!(null!==(s=e[r])&&void 0!==s&&null!==(a=s.affiliateProducts)&&void 0!==a&&a.some((e=>e.productId===t.productId)))})),s=[...null===(R=e[r])||void 0===R?void 0:R.affiliateProducts,...t];return{...e,[r]:pn(e[r],{type:T,affiliateProducts:s})}}case i.STOREFRONT_RECEIPTS_MODULES_SUCCEEDED:{var O;if(!r)return e;const t=A.filter((t=>{var s,a;return!(null!==(s=e[r])&&void 0!==s&&null!==(a=s.receipts)&&void 0!==a&&a.some((e=>e.cardId===t.cardId)))})),s=[...null===(O=e[r])||void 0===O?void 0:O.receipts,...t];return{...e,[r]:pn(e[r],{type:T,receipts:s})}}case i.RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED:return Object.keys((0,l.oF)(e,["autoExpansion","inboxCommerceFeatureClicked"])).reduce(((t,s)=>({...t,[s]:pn(e[s],{type:T})})),{...e});case i.STOREFRONT_MODULES_FAILED:return r?{...e,[r]:pn(e[r],{type:T})}:e;case i.STOREFRONT_BRAND_FOLLOW_SUCCEEDED:case i.STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED:return r?{...e,[r]:pn(e[r],{type:T})}:e;default:return e}};const An=function(e={},t){const{cardGroupList:s=[],response:a={},type:n}=t,r=(0,l.u9)(a,"RECOMMENDATION_CARDS.ALL_DEAL_RECOMMENDATION_CARDS.items",[]);switch(n){case i.MESSAGE_BODIES_RECEIVED:{if(!r.length)return e;const t=r.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.schemaCards||[]).reduce(((e,t={})=>({...e,[t.id]:{...t}})),{})})),{})})),{});return{...e,...t}}case i.POST_LAUNCH_SYNC_SUCCEEDED:{if(!s.length)return e;const t=s.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.schemaCards||[]).reduce(((e,t={})=>{if(t.type===o.rgK.Recommendation)return{...e,[t.id]:{...t}}}),{})})),{})})),{});return{...e,...t}}default:return e}},Tn=(0,a.combineReducers)({messageBodies:(e=[],t)=>{var s;const a=(null===(s=t.recentlyUsedState)||void 0===s?void 0:s.messageBodies)||[];return 0===a.length?e:a},documents:(e=[],t)=>{switch(t.type){case i.LAUNCH_COMPLETED:case i.OPEN_PAGE_REQUESTED:case i.DOCUMENT_FETCH_REQUESTED:case i.DOCUMENT_FETCH_SUCCEEDED:case i.DOCUMENT_FETCH_FAILED:{var s;const a=(null===(s=t.recentlyUsedState)||void 0===s?void 0:s.documents)||[];return 0===a.length?e:a}}return e}}),hn=(e={},t)=>{switch(t.type){case i.MESSAGE_BODIES_RECEIVED:var s,a,n;return{...e,...null===(s=t.response)||void 0===s||null===(a=s.PKG_TRACKING_CARD)||void 0===a||null===(n=a.ALL_PKG_TRACKING_CARD)||void 0===n?void 0:n.items.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.schemaCards||[]).reduce(((e,t)=>({...e,[t.cardConversationId]:{...t}})),{})})),{})})),{})};case i.POST_LAUNCH_SYNC_SUCCEEDED:var r;return{...e,...null===(r=t.cardGroupList)||void 0===r?void 0:r.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.schemaCards||[]).reduce(((e={},t)=>{if("ParcelDelivery"===t.type)return{...e,[t.cardConversationId]:{...t}}}),{})})),{})})),{})};default:return e}},gn=e=>!!e.params.attachmentId,In=(0,a.combineReducers)({itemsById:(e={},t)=>{switch(t.type){case i.OPEN_COMPACT_COMPOSE:case i.POP_OUT_COMPOSE:{const s={...e,[t.csid]:{csid:t.csid,accountId:t.accountId,format:o.UeM.COMPACT}};return t.csidsToRemove?y()(s,t.csidsToRemove):s}case i.OPEN_PAGE_REQUESTED:return!t.route||gn(t.route)?e:y()(e,(0,os.uo)(t.route));case i.DELETE_ITEMS_REQUESTED:return y()(e,t.csidsToRemove);case i.CLOSE_COMPACT_COMPOSE:return y()(e,t.csids);case i.V3_MESSAGE_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return y()(e,t.csid)}return e},composeSessionIds:(e=[],t)=>{switch(t.type){case i.POP_OUT_COMPOSE:case i.OPEN_COMPACT_COMPOSE:{const s=e.filter((e=>{var s;return-1===(null===(s=t.csidsToRemove)||void 0===s?void 0:s.indexOf(e))}));return[t.csid,...s]}case i.OPEN_PAGE_REQUESTED:{if(!t.route||gn(t.route))return e;const s=(0,os.uo)(t.route);return e.filter((e=>e!==s))}case i.DELETE_ITEMS_REQUESTED:return e.filter((e=>{var s;return-1===(null===(s=t.csidsToRemove)||void 0===s?void 0:s.indexOf(e))}));case i.CLOSE_COMPACT_COMPOSE:{const{csids:s=[]}=t;return e.filter((e=>!s.includes(e)))}case i.V3_MESSAGE_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return e.filter((e=>e!==t.csid))}return e}}),Rn={itemsById:{},composeSessionIds:[]},On=(e=Rn,t)=>{switch(t.type){case i.CLOSE_PAGE_REQUESTED:case i.CLOSE_COMPACT_COMPOSE:case i.OPEN_PAGE_REQUESTED:case i.V3_MESSAGE_SEND_SUCCEEDED:case i.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return In(e,t);case i.OPEN_COMPACT_COMPOSE:case i.POP_OUT_COMPOSE:{const{composeSessionIds:s}=e,a=s.length>=4?[s.pop()]:[];return In(e,{...t,csidsToRemove:a})}case i.DELETE_ITEMS_REQUESTED:{const{csid:s}=t,a=s?[s]:(t.itemsToUpdate||[]).filter((e=>!e.destinationFolder&&e.isAffected)).map((({csid:e})=>e)).filter(Boolean);return In(e,{...t,csidsToRemove:a})}}return e};const Dn=(0,a.combineReducers)({isAdvancedSearchPaneOpen:(e=!1,t)=>{switch(t.type){case i.TOGGLE_ADVANCED_SEARCH_PANE:return!e;default:return e}}});var Nn=s(34970);const fn={action:{reducer:(e={},t)=>t,selector:(e={})=>e},unsyncedData:{reducer:Va,selector:(e=[])=>({getUnsyncedData:()=>e,getReconciledUnsyncedData:t=>{const{getAction:s}=t;if(!s().route)return e;const a=((e,t={})=>fs()(Wa("preparer",e,t).filter((e=>Boolean(e.hash))),"hash"))(e,t);return Za(a,t)},getUnsyncedDataToSync:(e,t)=>((e,t,s)=>Wa("syncSelector",e,t,s))(e.getReconciledUnsyncedData(),e,t)})},launchError:{reducer:ut,selector:(e={})=>({getLaunchErrorType:()=>e.type})},composeSessions:{reducer:U,selector:(e={})=>{const t={doesComposeSessionExist:t=>!!e[t],doComposeFromRouteQueryParams:t=>e[t].doComposeFromRouteQueryParams,doComposeFromMailToLink:t=>Boolean(e[t].mailToLink),getMailToLink:t=>e[t].mailToLink,getStationeryTheme:t=>e[t].stationeryTheme,getUndoStack:t=>e[t].composeUndoStack,getRedoStack:t=>e[t].composeRedoStack,getUiState:t=>e[t].composeUiState,wasAutotagDropdownClosed:t=>e[t].isAutotagDisabled,wasRelatedContactsClosed:t=>e[t].isRelatedContactsDismissed,getReplyingToMessageId:e=>{const{getInReplyToMessageId:s,getInReplyAllToMessageId:a,getInForwardToMessageId:n}=t;return s(e)||a(e)||n(e)},getAttachmentProgress:t=>e[t].attachmentProgress,findReplyForwardCsidsOfMessage:s=>Object.keys(e).filter((e=>t.getReplyingToMessageId(e)===s)),findDraftMessageCsid:s=>Object.keys(e).find((e=>t.getDraftMessageId(e)===s)),getDraftMessageId:t=>((0,M.Z)(e[t],"getDraftMessageId csid does not exist",{csid:t}),e[t].draftMessageId),getForwardCreativeId:t=>e[t].forwardCreativeId,getForwardAttachmentIds:t=>e[t].forwardAttachmentIds,getInReplyToMessageId:t=>e[t].inReplyToMessageId,getInReplyAllToMessageId:t=>e[t].inReplyAllToMessageId,getInForwardToMessageId:t=>e[t].inForwardToMessageId,isReplyMessage:t=>Boolean(e[t].inReplyToMessageId),isReplyAllMessage:t=>Boolean(e[t].inReplyAllToMessageId),isForwardMessage:t=>Boolean(e[t].inForwardToMessageId),isSendRequested:t=>e[t].sendStatus===L.fq.SENDING,isSendFailed:t=>e[t].sendStatus===L.fq.SEND_FAILED,isSent:t=>((0,M.Z)(e[t],"isSent csid does not exist",{csid:t||"undefined"}),e[t].sendStatus===L.fq.SENT),getLastSaveTimeStamp:t=>e[t].lastSaveTimeStamp,isQuotedTextExpanded:t=>Boolean(e[t].isQuotedTextExpanded),getFatalErrorCount:t=>e[t].fatalErrorCount,isComposeSessionDirty:({csid:t,lastEditedTimeStamp:s})=>Boolean(s)&&(!e[t]||!e[t].lastSaveTimeStamp||e[t].lastSaveTimeStamp!==s),getLastOpenTimeStamp:t=>e[t].lastOpenTimeStamp,getLastAutotagQuery:t=>e[t].lastAutotagQuery,getSelectedReplySuggestion:t=>e[t].selectedReplySuggestion,getComposeParams:t=>e[t].composeParams,getComposeHeaderFocus:t=>e[t].composeHeaderInputFocus};return t}},attachments:{reducer:S,selector:(e={})=>({doesAttachmentExistById:t=>!!e[t],getAttachmentById:t=>e[t],getContentIdByAttachmentId:t=>e[t].contentId,getConversationIdByAttachmentId:t=>e[t].conversationId,getAttachmentExtentionByAttachmentId:t=>{const s=(e[t]&&e[t].filename||"").split(".");return Array.isArray(s)&&s.length>=2?s.pop():"unknown"},getMimetypeByAttachmentId:t=>`${e[t].type}/${e[t].subtype}`,getAttachmentTypeByAttachmentId:t=>e[t].type,getAttachmentSubtypeByAttachmentId:t=>e[t].subtype,getSizeByAttachmentId:t=>e[t].size,isInlineAttachmentById:t=>e[t].disposition===m.INLINE,isNonInlineAttachmentById:t=>e[t].disposition!==m.INLINE,getConversationId:t=>e[t].conversationId,getTimeStamp:t=>e[t].creationDate,getMessageReferenceByContentId:t=>{const s=(0,l.VO)(e).find((e=>e.contentId===t));if(s&&s.id){const{id:e,partId:t}=s;return{id:e.split(":").slice(0,-1).join(":"),pid:t}}},getDownloadUrlByContentId:t=>{const s=(0,l.VO)(e).find((e=>e.contentId===t));return s?s.downloadUrl:null},getByContentId:t=>(0,l.VO)(e).find((e=>e.contentId===t)),hasError:t=>{const s=(0,l.VO)(e).find((e=>e.contentId===t));return!(!s||s.id)},isUploaded:t=>{const s=(0,l.VO)(e).find((e=>e.contentId===t));return!(!s||!s.id)},getThumbnailUrl:t=>{const s=(0,l.VO)(e).find((e=>e.contentId===t));return(0,_.gu)(s.thumbnailUrl,u.oqp)},getDocumentIdByAttachmentId:t=>e[t].documentId,getAttachmentIdByDocumentId:t=>{const s=(0,l.VO)(e).find((e=>e.documentId===t));return s?s.id:null}})},inlineImagesAttachments:{reducer:p.ZP,selector:p.wl},lists:{reducer:Ot,selector:(e={})=>{const t={doesListExist:s=>Boolean(e[s]&&t.getListStatus(s)!==o.DAQ.DOES_NOT_EXIST),getListIdsByContentType:t=>Object.keys(e).filter((e=>(0,q.WN)(e)===t)),getListIdsByListFilter:t=>Object.keys(e).filter((e=>(0,q.C4)(e)===t)),getItemIdsSelectors:t=>((e=[])=>({doesItemIdExist:t=>!!e.find((e=>e===t)),getItemIdByIndex:t=>e[t],getItemIdIndex:t=>e.indexOf(t),getItemIds:()=>e}))(e[t]?e[t].itemIds:[]),__getListIds__:()=>Object.keys(e),getListNextItemsUrl:t=>e[t].nextItemsUrl,getListOffset:t=>e[t].offset,hasMoreItems:t=>e[t].hasMoreItems,getListStatus:t=>e[t].status,getLmv3Query:t=>e[t].lmv3Query,getSuggestedWords:t=>e[t].suggestedWords,getTotalHits:t=>e[t].totalHits,doesListItemExist:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).doesItemIdExist(s),getListItemIdIndex:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).getItemIdIndex(s),getItemIdByIndex:(e,s)=>t.getItemIdsSelectors(e).getItemIdByIndex(s),getItemIds:e=>t.getItemIdsSelectors(e).getItemIds(),getFirstItemIdOfList:e=>t.getItemIdsSelectors(e).getItemIds()[0],getPreviousListItemId:(e,s)=>{const a=t.getListItemIdIndex(e,s)-1;if(!(a<0))return t.getItemIdByIndex(e,a)},getImportantContactIds:()=>{const s=(0,q.yv)("");return t.doesListExist(s)?e[s].itemIds:[]},getImportantContactEmailsByContextEmail:s=>{const a=(0,q.yv)(s);return t.doesListExist(a)?e[a].itemIds:[]},getNextListItemId:(e,s)=>{const a=t.getListItemIdIndex(e,s)+1;if(!(a>t.getItemIds(e).length))return t.getItemIdByIndex(e,a)},isListAlreadyLoaded:e=>t.doesListExist(e)&&t.getListStatus(e)===o.DAQ.LOADED&&t.getItemIds(e).length===t.getTotalHits(e)&&!t.hasMoreItems(e),isListEmpty:e=>t.doesListExist(e)&&0===t.getItemIds(e).length,isListExpanded:t=>!!e[t]&&e[t].expanded};return t}},streams:{reducer:Os.ZP,selector:Os.wl},documents:{reducer:oe,selector:e=>({getState:t=>e[t]?e[t].status:o.DAQ.DOES_NOT_EXIST,getDocument:t=>e[t],getError:t=>{const s=!!e[t].retryCount&&(0,l.VO)(e[t].retryCount).some((e=>e>o.alB)),a=e[t].error;return a&&a.isRetryable?{...a,isRetryable:!s&&a.isRetryable}:a},getNumberOfPages:t=>e[t].numPages,getRetryCount:(t,s,a)=>e[t]?e[t].retryCount[ne(s,a)]:0,isDocumentLoaded:t=>!(!e[t]||e[t].status!==o.DAQ.LOADED),isPageLoaded:(t,s)=>!(!e[t].pages[s]||e[t].pages[s].status!==o.DAQ.LOADED),getDocumentsCount:()=>Object.keys(e).length})},subjectsAndSnippets:{reducer:Ds,selector:e=>({getSubject:(t,s)=>{const a=(0,q.d0)(s);return e.subjects[t][a]||e.subjects[t][q.wb]},getSnippet:(t,s)=>{const a=(0,q.d0)(s);return e.snippets[t][a]||e.snippets[t][q.wb]}})},folders:{reducer:it,selector:(e={})=>{const t=t=>!!e[t].types.find((e=>o.tlB.hasOwnProperty(e))),s=t=>{(0,M.Z)(e[t],"getPrimaryFolderTypeByFolderId folderId does not exist",{folderId:t||"undefined"});return(e[t].types||[]).find((e=>o.o4.hasOwnProperty(e)))},a={doesFolderIdExist:t=>!!e[t],getFolderIdsByName:t=>Object.keys(e).reduce(((s,a)=>e[a].name===t?s.concat(a):s),[]),getFolderIdsByPath:t=>Object.keys(e).reduce(((s,a)=>e[a].path===t?s.concat(a):s),[]),getFolderIds:()=>Object.keys(e),getFolderName:t=>e[t].name,getFolderNameLocalizer:t=>{const a=s(t),n=e[t].name;return e=>(0,nt.h5)(e,a)||n},shouldUpdateFolders:t=>{const s=Object.keys((0,nt.YY)(t));return Object.keys(e).length!==s.length||s.some((e=>!a.doesFolderIdExist(e)))},getFolderTotal:t=>e[t].total,getFolderHighestModSeq:t=>e[t].highestModSeq,getFolderLevelByFolderId:t=>e[t].level,getFolderUnreadCount:t=>e[t].unread,getFolderTypes:t=>e[t].types,getFolderUidNext:t=>e[t].uidNext,getFolderPath:t=>e[t].path,isPermDeleteFolderType:e=>{const t=s(e);return-1!==[o.Sck.TRASH,o.Sck.DRAFT,o.Sck.BULK].indexOf(t)},getFolderIdsByNameAndAccountId:(t,s)=>Object.keys(e).reduce(((a,n)=>e[n].name===t&&e[n].accountId===s?a.concat(n):a),[]),getFolderDisplayTypeByFolderId:t=>{const a=e[t].types,n=s(t);return n===o.Sck.ARCHIVE&&a.indexOf(o.Sck.EXTERNAL_ALL)>-1?o.d$d.ALL_MAIL:n},getPrimaryFolderTypeByFolderId:s,isSystemFolder:t,isSpamFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===o.Sck.BULK,getAccountIdByFolderId:t=>((0,M.Z)(e[t],"getAccountIdByFolderId folderId does not exist",{folderId:t||"undefined"}),e[t].accountId),getFolderIdsFromFolderType:(t,s)=>Object.keys(e).reduce(((a,n)=>-1!==e[n].types.indexOf(t)&&e[n].accountId===s?a.concat(n):a),[]),getAllInboxes:()=>Object.keys(e).reduce(((t,s)=>-1!==e[s].types.indexOf(o.Sck.INBOX)?t.concat(s):t),[]).map((t=>e[t])),getFolderIdsByAccountId:t=>Object.keys(e).filter((function(s){return e[s].accountId===t})),isInboxFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===o.Sck.INBOX,isDraftFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===o.Sck.DRAFT,isSentFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===o.Sck.SENT,isTrashFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===o.Sck.TRASH,getParentFolderId:t=>{const s=e[t].path,a=e[t].name,n=e[t].accountId,r=Object.keys(e).find((t=>e[t].accountId===n&&e[t].path+"/"+a===s));return r||""},getCustomFolderIds:t=>Object.keys(e).map((t=>e[t])).filter((e=>e.accountId===t&&e.types.indexOf(o.Sck.USER)>=0&&e.types.indexOf(o.Sck.INVISIBLE)<0)).sort(rt.DV).map((e=>e.id)),getUserCardFolderIds:t=>{let s;for(s in e){const a=e[s];if(a.accountId===t&&a.types.indexOf(o.Sck.USER)>=0&&a.types.indexOf(o.Sck.CARD)>=0&&a.types.indexOf(o.Sck.INVISIBLE)>=0)return s}return-1},getFolderByAccoutIdAndType:(t,n)=>{const r=Object.keys(e).find((s=>e[s].accountId===t&&e[s].types.includes(n)));return r?{id:r,type:s(r),kind:"folder",name:a.getFolderName(r),level:0}:null},getSystemFolderList:n=>Object.keys(e).filter((s=>e[s].accountId===n&&t(s))).map((e=>({id:e,type:s(e),kind:"folder",name:a.getFolderName(e),level:0}))).sort(((e,t)=>nt.p4[e.type]-nt.p4[t.type])),getCustomFolderList:t=>Object.keys(e).map((t=>e[t])).filter((e=>e.accountId===t&&(e.types.indexOf(o.Sck.USER)>=0||a.hasChildren(e.id))&&-1===e.types.indexOf(o.Sck.INVISIBLE))).sort(rt.DV).map((e=>({id:e.id,type:s(e.id),kind:"folder",name:e.name,level:e.level}))),hasChildren:t=>{const s=e[t].path+"/",a=e[t].accountId;let n=!1;return Object.keys(e).some((t=>{const r=e[t].path,o=e[t].accountId;0===r.indexOf(s)&&a===o&&(n=!0)})),n},getSubfolders:e=>{const t=a.getFolderPath(e)+"/",s=a.getAccountIdByFolderId(e);return a.getFolderIdsByAccountId(s).filter((s=>0===a.getFolderPath(s).indexOf(t)&&s!==e)).map((e=>({id:e,name:a.getFolderPath(e)})))},getMessageGroupFolderType:e=>a.isTrashFolder(e)?o.bcr.TRASH:a.isSpamFolder(e)?o.bcr.BULK:o.bcr.DEFAULT,__get__:t=>e[t],__getFolderIds__:()=>Object.keys(e),getNumOfTotalMsgs:()=>Object.keys(e).reduce(((t,s)=>t+e[s].total),0)};return{...a}}},mailboxes:{reducer:Ft,selector:(e={})=>{const t={getAllMailboxes:()=>e.allMailboxes,getSelectedMailboxId:()=>e.id,getAccountsSelectors:()=>((e={})=>{const t=Object.keys(e),s={getAccountById:t=>e[t],getPrimaryAccount:()=>t.map((t=>e[t])).find((({isPrimary:e})=>!!e)),getPrimaryAccountType:()=>(s.getPrimaryAccount()||{}).type,getPrimaryAccountSendingName:()=>(s.getPrimaryAccount()||{}).sendingName||"",getPrimaryAccountId:()=>t.find((t=>e[t].isPrimary)),getVerifiedAutoForwardAccount:()=>{const e=s.getPrimaryAccount()||{},{forwardEmail:t,forwardEmailVerified:a=!1}=e;return a&&t?e:null},isPrimaryAccountDisabled:()=>s.getPrimaryAccount().status===o.dpb.DISABLED,userHasRegisteredAccount:()=>{const s=t.find((t=>{const{isPrimary:s,type:a,status:n}=e[t];return s&&n===o.dpb.DISABLED&&(a===o.tO8.EXTERNAL||a===o.tO8.PHONE)})),a=t.find((t=>{const{type:s,status:a}=e[t];return Mt.Cs({type:s})&&(a===o.dpb.ENABLED||a===o.dpb.PENDING)}));return!s||!!a},getAllAccounts:({includeDisabled:s=!1}={})=>t.map((t=>e[t])).filter((({status:e})=>s||e!==o.dpb.DISABLED)).sort(Mt.k8),getSelectedAccountId:()=>t.find((t=>e[t].isSelected)),getSendingAccountId:()=>t.find((t=>e[t].isSending)),hasIMAPinAccounts:()=>t.filter((t=>Mt.Cs(e[t]))).length>0,isMyEmailAddress:t=>(0,l.VO)(e).some((e=>e.email===t)),getRootAccounts:()=>t.map((t=>e[t])).filter((e=>o.NTC.indexOf(e.type)>-1)),hasMultipleRootAccounts:()=>s.getRootAccounts().length>1,getSendAccountsByAccountId:e=>{const t=s.getAccountById(e);if(!t.isPrimary)return[t];const a=s.getAllAccounts().filter((e=>-1===o.NTC.indexOf(e.type)||e.type===o.tO8.BIZMAIL&&!e.isPrimary));return[t].concat(a)},getDisposableEmailAccounts:(e=!0)=>s.getAllAccounts({includeDisabled:e}).filter((e=>e.type===o.tO8.DEA)).sort(Mt.Xx),isSignatureActive:t=>Boolean(e[t].signatureActive),getSignatureByAccountId:t=>e[t]&&e[t].signatureActive?e[t].signature:"",isPrimaryAccountEmail:e=>{const t=s.getAccountIdByAccountEmail(e);return o.NTC.indexOf(s.getAccountTypeByAccountId(t))>-1},getSignatureByAccountEmail:e=>s.isPrimaryAccountEmail(e)?s.getSignatureByAccountId(s.getAccountIdByAccountEmail(e)):s.getSignatureByAccountId(s.getSelectedAccountId()),getAccountDescriptionByAccountId:e=>s.getAccountById(e).description,getAccountTypeByAccountId:e=>s.getAccountById(e).type,getAccountEmailByAccountId:e=>s.getAccountById(e).email,getAccountNameByAccountId:e=>s.getAccountById(e).sendingName,getAccountProvider:t=>Mt.VH(e[t]),isSelectedAccountId:e=>s.getAccountById(e).isSelected,getMyAddresses:()=>Object.keys(e).map((t=>e[t].email)),hasAccountWithEmail:t=>(0,l.VO)(e).some((e=>e.type!==o.tO8.POPIN&&e.email===t)),getAccountIdByAccountEmail:t=>(0,l.VO)(e).find((e=>e.email===t)).id,getAliasAccounts:()=>Object.keys(e).map((t=>e[t])).filter((e=>e.type===o.tO8.ALIAS)),getAccountIds:()=>Object.keys(e),doesSelectedAccountExist:()=>Boolean(s.getSelectedAccountId()),getProviderFromAccount:t=>Mt.VH(e[t]),getAccountsWithMailboxes:()=>Object.keys(e).filter((t=>e[t].isPrimary||Mt.Cs(e[t]))),getAvailableAccounts:()=>s.getAccountsWithMailboxes().filter((e=>s.getAccountById(e).status!==o.dpb.DELETE_IN_PROGRESS)),getImapInAccounts:()=>Object.keys(e).filter((t=>Mt.Cs(e[t]))),getAccountSubscriptionIds:()=>Object.keys(e).map((t=>e[t])).map((e=>e.subscriptionId)),getFolderPrefixByAccountId:t=>e[t].folderPrefix||"",isBasicAuthAccountId:e=>{const t=s.getAccountById(e);return t.type===o.tO8.IMAPIN&&t.authType===o.nxP.PLAIN},getMailboxAccounts:()=>s.getAllAccounts().filter((e=>Mt.Cs(e)||e.isPrimary))};return s})(e.accounts),getAliasSuggestions:ft(e.aliasSuggestion).getSuggestions,getAliasSuggestionStatus:ft(e.aliasSuggestion).getStatus,getSocialAccountsStatus:()=>e.socialAccountsStatus,getEnhanceContactsPreference:()=>e.enhanceContactsPreference,getDeaBaseName:()=>e.deaBaseName,getBaseNameSuggestions:()=>e.baseNameSuggestions,getRecentlyAddedAccount:()=>e.recentlyAddedAccount?e.accounts[e.recentlyAddedAccount]:null,isAccountExpired:s=>{const a=t.getAccountsSelectors().getAccountById(s);return!(!a||!(0,Mt.Cs)(a))&&!!e.accountAlerts.find((e=>e.accountId===s&&-1!==[yt,bt].indexOf(e.state)&&1===e.type))},getExpiredAccountAlert:t=>e.accountAlerts.find((e=>e.accountId===t&&1===e.type))||{},getExpiredAccounts:()=>t.getAccountsSelectors().getAllAccounts().filter((e=>t.isAccountExpired(e.id))),getMailboxSize:()=>e.mailboxSize};return t}},ads:{reducer:E.ZP,selector:E.wl},printItems:{reducer:Es,selector:(e={})=>({getItemToPrint:()=>{const t=Object.keys(e).filter((t=>!e[t].isPrinted))[0];return t?e[t]:{}}})},messageBodies:{reducer:Gt,selector:(e={})=>({get:t=>e[t].body,getState:t=>e[t]?e[t].status:o.DAQ.DOES_NOT_EXIST,doesMessageBodyExist:t=>!!e[t]&&-1===[o.DAQ.DOES_NOT_EXIST,o.DAQ.ERROR].indexOf(e[t].status),hasFullBody:t=>e[t]&&e[t].hasFullBody,hasError:t=>e[t]&&e[t].status===o.DAQ.ERROR,hasInlineImage:t=>{const s=e[t];if(!s)return!1;const{body:{html:a="",htmlAnnotations:n=[]}}=s;return n.some((({type:e})=>"blocked"===e))||Ut.test(a)},hasAnchorLinks:t=>{const s=e[t];if(!s)return!1;const{body:{html:a=""}}=s;return vt.test(a)},isSecureMessage:t=>{const s=e[t];if(!s)return!1;const{body:{htmlAnnotations:a=[]},isSecure:n,hasFullBody:r}=s;return r?a.some((({type:e})=>"blocked"===e)):n},getMessageBodiesCount:()=>Object.keys(e).length,getRetryCount:t=>e[t]?e[t].retryCount:0})},messageGroups:{reducer:zt,selector:qt},cardGroups:{reducer:h,selector:(e={})=>t=>({doesCardGroupIdExist:t=>!!e[t],getMessageIdsFromCardGroupId:t=>Array.isArray(e[t])?e[t]:e[t]&&e[t].DEFAULT,getMostRecentEmailId:s=>{const{getMessagesSelectors:a}=t,{getDecos:n,getTimeStamp:r}=a(),i=e[s].filter((e=>n(e).some((e=>e.id===o.Jd6.EML))));return i.length>1&&i.sort(((e,t)=>r(t)-r(e))),i[0]},getCardConversationIds:()=>Object.keys(e)})},cardMessageToSchemas:{reducer:I,selector:(e={})=>({getSchemas:t=>e[t]})},flights:{reducer:at,selector:(e={})=>({getFlightCard:t=>e[t],getCardDate:t=>Date.parse(e[t].departureTime),isEligibleCardForFilter:(t,s,a)=>{const n=Date.parse(e[t].departureTime);switch(s){case o.ukn.TRAVEL_VIEW_UPCOMING:return n>=a;case o.ukn.TRAVEL_VIEW_PAST:return n<a}return!0}})},deals:{reducer:ee.Z,selector:ee.w},groceries:{reducer:Cs,selector:As},offers:{reducer:ns,selector:(e={})=>({doesOfferExist:t=>!!e[t],getOffer:t=>e[t],isOfferActivated:t=>e[t]&&e[t].activated,getOffers:t=>t.map((t=>e[t]))})},activatedOffers:{reducer:d,selector:(e={})=>({getActivatedOffer:t=>e[t]||{},doesOfferExistInActivatedStore:t=>!!e[t]})},categoryFollowing:{reducer:N,selector:(e={})=>({isCategoryFollowed:t=>e.categories&&e.categories[t]&&e.categories[t].following,isCategoryLastError:t=>e.categories&&e.categories[t]&&e.categories[t].error,isCategoryListLoaded:()=>e.isCategoryListLoaded,getSpiceToGptMapping:()=>e.spiceToGptMapping})},storefrontBrands:{reducer:Cn,selector:(e={})=>({isStoreFrontModulesLoaded:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.isLoaded},getAllStorefrontBrands:()=>(0,l.VO)((0,l.oF)(e,["autoExpansion","inboxCommerceFeatureClicked"])||{}).sort(((e,t)=>e.affinityNumber-t.affinityNumber)),getBrandInfoFromBrandId:t=>e[t],getAffiliateProductsFromBrandId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.affiliateProducts},getAffiliateProductIdsFromCategoryId:(t,s)=>{var a,n;return null===(a=e[t])||void 0===a||null===(n=a.brandCategories[s])||void 0===n?void 0:n.productIds},doesBrandHaveAffiliateProducts:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.hasAffiliateProducts},getBrandIdFromDomain:t=>{for(const n of Object.keys(e)){var s,a;if(null!==(s=e[n])&&void 0!==s&&null!==(a=s.brandDomains)&&void 0!==a&&a.some((e=>e===t)))return n}return""},shouldAutoExpand:()=>e.autoExpansion&&e.inboxCommerceFeatureClicked,hasStorefrontModules:t=>{var s,a;return!(null===(s=e[t])||void 0===s||!s.dealCmids||null===(a=e[t])||void 0===a||!a.affiliateProducts)},getStorefrontDealCmidsFromBrandId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.dealCmids},getStorefrontProductsFromBrandId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.affiliateProducts},getStorefrontReceiptsFromBrandId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.receipts}})},receipts:{reducer:function(e={},t){const{listData:s={},type:a}=t;switch(a){case i.MORE_RECEIPTS_SUCCESS:case i.MESSAGE_BODIES_RECEIVED:case i.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case i.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case i.RECEIPTS_LIST_SUCCEEDED:case i.INITIAL_STATE:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter((t=>s.schemaCards[t].type===o.rgK.Order&&!r()(e[t],_s(s,t)))).reduce(((e,t)=>({...e,[t]:_s(s,t)})),{});return Object.keys(t).length?{...e,...t}:e}default:return e}},selector:(e={})=>({getReceipt:t=>e[t],getPrice:t=>e[t].price,getPotentialSavings:t=>e[t].potentialSavings,getFirstItemName:t=>e[t].orderedItems.length?e[t].orderedItems[0].name:0,getOrderDate:t=>e[t].orderDate,getNumItems:t=>e[t].orderedItems.length,getCurrency:t=>e[t].currency||"",getSellerName:t=>e[t].sellerName,getTotalPotentialSaving:(t=0)=>Object.keys(e).filter((s=>t<=Date.parse(e[s].orderDate))).map((t=>Math.floor(100*e[t].potentialSavings))).reduce(((e,t)=>e+t),0)/100,getNumPurchases:(t=0)=>Object.keys(e).filter((s=>t<=Date.parse(e[s].orderDate))).length,getTotalSpentWithEligibleSaving:(t=0)=>Object.keys(e).filter((s=>0!==e[s].potentialSavings&&t<=Date.parse(e[s].orderDate))).map((t=>Math.floor(100*e[t].price))).reduce(((e,t)=>e+t),0)/100})},contentProviders:{reducer:$,selector:(e={})=>({doesContentProviderExist:t=>void 0!==e[t],isContentProviderConnected:t=>e[t].isConnected,getContentProvidersStatus:()=>Object.keys(e).reduce(((t,s)=>(t[s]={status:e[s].isConnected?o.UcZ.CONNECTED:o.UcZ.NOT_CONNECTED},t)),{}),isContentProvidersLoaded:()=>!(0,l.xb)(e)})},router:{reducer:Ts,selector:(e={})=>({getRoutesConfig:()=>e.routesConfig,getRoute:()=>e.route,getHashParams:()=>e.hashParams,getRouteUIContext:()=>e.uiContext,getMrdParams:()=>e.mrdParams})},pages:{reducer:cs,selector:(e=[])=>({doesPageExist:t=>-1!==e.findIndex((e=>(0,os.Vu)(e,t))),getPages:()=>e,getFolderPageRoute:()=>e.find((e=>e.name===o.n8z.FOLDER||(0,q.AU)(e))),getSettingsPageRoute:()=>e.find((e=>e.name===o.n8z.SETTINGS))})},history:{reducer:Et.Z,selector:Et.w},messages:{reducer:Jt,selector:$t},messagesFlags:{reducer:Bt,selector:(e={})=>({getFlags:t=>e[t],isMessageReadByContext:(t,s)=>{const a=(0,q.kw)(s);return a===o.K8C.OLDMAIL||(a===o.K8C.NEWMAIL?!e[t].recent:e[t].read)}})},messagesFolderId:{reducer:xt,selector:(e={})=>({getFolderId:t=>e[t],doesMessageIdHasFolderId:t=>!!e[t]})},videoPlayers:{reducer:Ka,selector:e=>({getCurrentChannel:()=>e.currentChannel,getShowVideoPlayer:()=>e.showVideoPlayer,getChannelMetaData:()=>e.channelData,getIsPaused:()=>e.isPaused})},messageToAttachments:{reducer:es,selector:ss},features:{reducer:Je,selector:(e={})=>t=>{const{getEnvironmentSelectors:s}=t,a=(a,n)=>{if(s().getIsInternalIP()&&(0,de.jU)()&&window.__DEBUG_MAIL__&&window.__DEBUG_MAIL__[a])return window.__DEBUG_MAIL__[a];switch(a){case o.ANe.MESSAGE_READ_CONTACT_CARD:return Oe(e[a],t);case o.ANe.PLA_SEARCH_ADS:return((e,t)=>{const{getRoute:s}=t,a=s(),n=(0,q.LY)(a),r=a.name===o.n8z.SEARCH,i=r&&!!(0,q.DF)(n);return e&&r&&Re(!0,t,!0)&&!i&&!(0,q.yE)(n)&&(0,q.WN)(n)===o.F6k.MESSAGES})(e[a],t);case o.ANe.BOOKING_CARD:return Fe(e[a],t);case o.ANe.NUKE_DISPLAY_ADS_ON_INACTIVE:return((e,t)=>{const{isAppVisible:s}=t;return e[o.ANe.NUKE_DISPLAY_ADS_ON_INACTIVE]&&!s()})(e,t);case o.ANe.HIDE_RIGHT_RAIL:return((e,t)=>{var s;const{isFeatureEnabled:a,getAdsSelectors:n,getSetting:r,getRoute:i}=t,l=n(),c=a(o.ANe.IS_WIDER_MAIL_EXTN_ENABLED),d=a(o.ANe.RIGHT_RAIL_COLLAPSE_RESTRICTION),E=r(o.Zrf.RIGHT_RAIL_COLLAPSE_LIMIT),_=r(o.ANe.HIDE_RIGHT_PANE_ADS_CLICK_COUNT),u=E>0&&_>E,m=i(),S=a(o.ANe.MAIL_PLUS_SPONSORED_MESSAGE_ON_AD_MISCLICK)&&1===parseInt(null==m||null===(s=m.params)||void 0===s?void 0:s.isMisclickSponsoredAd,10);return!(!l.isNativeMailPlusUpsellAd()&&!S)||(d&&u?c:e||c)})(e.hideRightPaneAds,t);case o.ANe.RIGHT_RAIL_CONTACT_CARD:case o.ANe.RIGHT_RAIL_PHOTO_CARD:case o.ANe.RIGHT_RAIL_DOCS_CARD:case o.ANe.RIGHT_RAIL_MESSAGES_CARD:return((e,t,s)=>{const{isFeatureEnabled:a,getRoute:n}=t,r=n(),i=(0,q.LY)(r),l=(0,q.WN)(i),c=r.name===o.n8z.SEARCH,d=a(o.ANe.DEALS)&&[o.F6k.COUPON_CARDS,o.F6k.OFFER_CARDS].includes(l),E=c&&!!(0,q.DF)(i)&&!d;if(!Re(!0,t,!0))return!1;switch(s){case o.ANe.RIGHT_RAIL_CONTACT_CARD:return E;case o.ANe.RIGHT_RAIL_PHOTO_CARD:return l!==o.F6k.IMAGES&&E;case o.ANe.RIGHT_RAIL_DOCS_CARD:return l!==o.F6k.DOCUMENTS&&E;case o.ANe.RIGHT_RAIL_MESSAGES_CARD:return l!==o.F6k.MESSAGES&&E;default:return!1}})(e[a],t,a);case o.ANe.NON_NATIVE_APP_BANNERS:if(!e[a])return!1;return(e[o.Zrf.SUPPRESSED_UPSELLS]||[]).indexOf(o.u82)<0;case o.ANe.SHOPPING_CART_AD:return((e,t)=>{const{hasMatchingDomainInMessageGroup:s,isFeatureEnabled:a,getCurrentListId:n,getGroupId:r,getMessagesSelectors:i,getRelevantMessageIdFromMessageGroupId:l}=t,{getDecos:c}=i(),d=r(),E=l(d,n());if(!d||!E)return!!a(o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)&&e;const _=(c(E)||[]).some((({id:e})=>e===o.B_Z[o.K8C.PEOPLE]));return e&&s(o.niV)&&!_})(e[a],t);case o.ANe.MSG_READ_PENCIL_AD_SEND_DOMAIN:return((e,t)=>{if(!e)return!1;const{getCurrentListId:s,getGroupId:a,getMessagesSelectors:n,getRelevantMessageIdFromMessageGroupId:r,isFeatureEnabled:i}=t,{getDecos:l}=n(),c=r(a(),s());if(!c)return!!i(o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)&&e;const d=l(c)||[];return(0,Me.m3)(d,[o.Jd6.CPN])})(e[a],t);case o.ANe.HOTELS_CARD_PREFILL:return Ue(e[a],t);case o.ANe.RELATED_SEARCHES_CARD:return((e,t)=>{const{getAdsSelectors:s,getFeaturesSelectors:a,getParticipantInFocus:n}=t,{isEnabled:r}=a(),i=Oe(e,t),l=r(o.ANe.BOOKING_CARD);if(!i||l)return!1;const{getRelatedSearches:c}=s(),d=c(),E=n(),{email:_}=E||{};return!!(0,fe.d)(d,_)||!Object.keys(d).length})(e[a],t);case o.ANe.RIGHT_RAIL_NATIVE_AD:return((e,t)=>{const{getRouteName:s}=t;return Re(e,t,!0)&&s()===o.n8z.SPONSORED_MESSAGE})(e[a],t);case o.ANe.SMARTVIEW_CATEGORIES_ENABLED:return e[o.ANe.SMARTVIEW_CATEGORIES_ALL]||e[o.ANe.SMARTVIEW_CATEGORIES_PEOPLE]||e[o.ANe.SMARTVIEW_CATEGORIES_PEOPLE_V2]||e[o.ANe.SMARTVIEW_CATEGORIES_SHOPPING];case o.ANe.SHOW_TABS:return e[o.Zrf.MAIL_TABS];case o.Zrf.MAIL_TABS:return e[a]||t.hasFailedComposeSend();case o.Zrf.HAS_GUIDED_STAR_ANIMATION:return Te(t);case o.Zrf.HAS_DEALS_STAR_ANIMATION:return he(t);case o.Zrf.SNIPPETS:return e[a];case o.Zrf.PREVIEW_PANE:return Ne(e[a],t);case o.Zrf.LIST_ITEM_HEIGHT:return Ae(e,t,n);case o.Zrf.THEME_MODE:return(e=>{const t=e[o.Zrf.THEME_MODE];return o.zgU[t]||o.zgU.LIGHT})(e);case o.Zrf.THEME:return((e,t)=>{const{isFeatureEnabled:s,getSetting:a}=t,n=s(o.ANe.PHOTO_THEMES),r=e[o.Zrf.THEME];return a(o.Zrf.APP_CONTAINER)===o.jH6.NEXTGENHOME?o.b39.NEXTGENHOME:!n&&(0,Se.L_)(r)?o.b39.DEFAULT:o.b39[r]||o.b39.DEFAULT})(e,t);case o.Zrf.NOTIFICATION_MODE:return((e,t)=>{const{isFeatureEnabled:s}=t,a=s(o.ANe.PUSH_NOTIFICATIONS),n=s("browserNotifications");return a&&(0,ge.Z)()?o.st3.PUSH:n?o.st3.BROWSER:null})(0,t);case o.Zrf.SYSTEM_TABS:return ye(e[a],t);case o.Zrf.NOTIFICATION:return Ie(t);case o.Zrf.COUPON_CARDS_FETCH_COUNT:return((e,t)=>{const{getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getCouponsSelectors:r}=t,{getExtractedDeals:i}=r(),l=s();return a(o.ANe.DEALS)&&[o.K8C.COUPONS,o.K8C.GROCERIES,o.K8C.COUPON_EMAILS].includes(n(l))&&Object.keys(i()).length<100?100:e})(e[a],t);case o.Zrf.PREFERRED_AD_FORMAT:return(e=>{let t=De.Nt.UNSET;for(const s in De.TC)De.TC[s]===e&&(t=s);return t})(e[a]);case o.ANe.MAIL_PRO_LINK_IN_SETTINGS_MENU:return(e=>{if(!e||!(0,de.jU)()||!window.AppBootstrapData)return!1;const{value:t=""}=window.AppBootstrapData.mailboxAttributes["web.clientVersionHistory"]||{},s=t.split("|").filter((e=>!!e)),a=Date.now();if(1===s.length)return!0;const n=s.reduce(((e,t="")=>{const[s,n]=t.split(",");if("6"===s){let t=1e3*parseInt(n,10);return t>a&&(t/=1e3),Math.max(e,t)}return e}),0);return 0!==n&&a-n>60*o.Zd2})(e[a]);case o.ANe.WIDER_MAIL_PROMO:return((e,t)=>{if(!e||!(0,de.jU)())return!1;const{isFeatureEnabled:s}=t,a=s(o.ANe.MAIL_PRO),n=s(o.ANe.HIDE_RIGHT_RAIL),r=s(o.ANe.IS_WIDER_MAIL_EXTN_ENABLED);return!a&&!n&&!r})(e[a],t);case o.Zrf.ACTION_AFTER_MSG_MOVE:return ve(e,t);case o.ANe.INLINE_IMAGES_PROXIED:return((e,t)=>{const{getSetting:s,isMobileRoute:a}=t;if(a())return e;const n=s(o.Zrf.SCOUT_ONBOARDING)||[],r=(0,we.Zo)(n);return e&&r})(e[a],t);case o.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE:return((e,t,s)=>{const{doesMessageGroupIdExist:a,getRoute:n,getMessageSubject:r,getMessageIdsFromMessageGroupId:i,getMessageListItems:l}=t,c=n(),d=(0,q.LY)(c);switch(s){case o.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE:{const t=l(d).some((e=>{const t=a(e.id)&&i(e.id)[0];if(!t||c.name!==o.n8z.FOLDER)return!1;const s=r(t,d);return s&&He(s)}));return e&&t}default:return!1}})(e[a],t,a);case o.ANe.LASTPASS_FREETRIAL_UPSELL:return e[a]&&e[o.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE];case o.ANe.BREAKING_NEWS_ENABLED:return((e,t)=>{const{getSetting:s,getRoute:a,isFolderRoute:n,getBreakingNewsSelectors:r,getCurrentListId:i}=t,l=a(),c=r().getIsBreakingNewsDismissed(),d=s(o.Zrf.BREAKING_NEWS_SETTINGS),E=e&&d&&!c,_=i(),u=l.name===o.n8z.SEARCH&&((0,q.rB)(l)||!(0,q.yE)(_)),m=n(),S=s(o.Zrf.PREVIEW_PANE)===o.EsZ.RIGHT;return E&&(m||u)&&!S})(e[o.ANe.BREAKING_NEWS],t);case o.Zrf.HUMAN_READABLE_CONSENT:{const t=e[o.Zrf.CONSENT_EVENTS];return!!(Array.isArray(t)&&t.indexOf("humanReadableConsentEvents")>-1)}case o.ANe.ABP_STATIC_ADS:return e[a]&&t.getAdsSelectors().isABPDetected();case o.ANe.ADBLOCK_RR_UPSELL:return e[a]&&(t.getAdsSelectors().isABPDetected()||t.getAdsSelectors().isAdBlockerDetected());case o.ANe.SAME_SEARCH_AD_ON_SECOND_PENCIL:case o.ANe.SECOND_SEARCH_AD:return e[a]&&!(t.getAdsSelectors().isABPDetected()||t.getAdsSelectors().isAdBlockerDetected());case o.ANe.ADBLOCK_UPSELL_CUE:case o.ANe.ADBLOCK_UPSELL:return e[a]&&!t.isFeatureEnabled(o.ANe.ABP_STATIC_ADS);case o.ANe.MEMBERSHIP_REWARDS:case o.ANe.PORTRAIT_AD:{const{screenHeight:n,clientWidth:r}=s().getWindowDimensions(),o=t.isMobileRoute()&&n>=xe.u3.MIN_HEIGHT_FOR_TWO_COLUMNS&&r>=xe.u3.MIN_WIDTH_FOR_TWO_COLUMNS;return e[a]&&!(o&&2===t.getPrescribedNumberOfColumns())}case o.ANe.CROSS_DOMAIN_DPA_ADS:return((e,t)=>{const{getCouponsSelectors:s,isFeatureEnabled:a}=t,{getCouponCategoriesForMessageGroup:n}=s(),r=n();return e&&!a(o.ANe.SHOPPING_CART_AD)&&!!r.length})(e[a],t);case o.ANe.AD_PARTIALLY_ABOVE_FOLD:{const{screenHeight:n,clientWidth:r}=s().getWindowDimensions(),o=t.isMobileRoute()&&n>=xe.u3.MIN_HEIGHT_FOR_TWO_COLUMNS&&r>=xe.u3.MIN_WIDTH_FOR_TWO_COLUMNS&&1===t.getPrescribedNumberOfColumns();return e[a]&&!o}case o.ANe.DEAL_RECOMMENDATIONS_ENABLED:return qe(e,t);case o.Zrf.YMOBILE_UPSELL_VERSION:return e[a]||(0,Ve.ZP)(t);case o.Zrf.COMPOSE_FORMAT:{const{isFeatureEnabled:s}=t;return s(o.ANe.COMPACT_COMPOSE)?e[a]:o.tTi.FULL_SIZED}case o.Zrf.FEEDBACK_URL:return((e,t)=>{const s=e+(-1!==e.indexOf("?")?"&":"?"),{getEnvironmentSelectors:a,getSetting:n,isFeatureEnabled:r,getFoldersSelectors:i}=t,{getLoggerParams:l,getAppName:c}=a(),{getNumOfTotalMsgs:d}=i(),{buckets:E,os:_,browser:u}=l(),m=c()===o.BQZ.MAIL_APP?n(o.Zrf.PREVIEW_PANE):0,S=r(o.ANe.CONVERSATIONS),p={bucket:E,mailpro:r(o.ANe.MAIL_PRO)?1:0,os:_,browser:u,conv:S?1:0,pp:m,empty:0===d()?1:0};return s+We.stringify(p)})(e[a],t);case o.Zrf.LOGO_URL:case o.Zrf.LOGO_SRCSET:return((e,t,s)=>{const{isFeatureEnabled:a,getEnvironmentSelectors:n}=t,{getAppName:r,getPartner:i}=n(),l=r();if(l!==o.BQZ.BASIC_MAIL_APP&&l!==o.BQZ.BASIC_MOBILE_APP)return e;const c=a(o.ANe.MAIL_PRO),d=a(o.ANe.MAIL_PLUS);return i()===o.Ql2.ATT&&d?Ke.MAILPLUS_ATT[s]:d||c?d?Ke.MAILPLUS[s]:Ke.MAILPRO[s]:e})(e[a],t,a);case o.Zrf.AMP_EMAIL:{const{isFeatureEnabled:s,getSetting:n}=t;return s(o.ANe.AMP)&&!!e[a]&&n(o.Zrf.SHOW_IMAGES)}default:return e[a]}};return{isEnabled:t=>{const s=a(t),{route:n={}}=e,{name:r}=n;return(0,Ce._)(e,t,r),void 0!==s?!!s:s},getSetting:(t,s)=>{const{route:n={}}=e,{name:r}=n;return(0,Ce.N)(e,t,r),a(t,s)},getDefaultSetting:t=>{const{route:s={}}=e,{name:a}=s;return(0,Ce.N)(e,t,a),e[t]}}}},featureCues:{reducer:tt,selector:e=>({isShown:t=>e[t]&&e[t].isShown,shownFeatures:()=>Object.keys(e||{}).filter((t=>e[t].isShown)),isPersistent:t=>e[t]&&e[t].isPersistent,isKeySaved:t=>e[t]&&e[t].isKeySaved,getSubkey:t=>e[t]&&e[t].subkey,getUserResponse:t=>e[t]&&e[t].userResponse,isReshowInSessionEnabled:t=>e[t]&&e[t].reShowInSession,getRecurringInterval:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.recurringInterval}})},gifItems:{reducer:dt,selector:(e={})=>({getGifItems:()=>e})},gifCategories:{reducer:ct,selector:(e={})=>({isGifCategoryQuery:t=>e.categories.hasOwnProperty(t),getGifCategoryTopItemsStatus:t=>e.categories[t].status,getGifCategoryTopItemsUrl:t=>e.categories[t].category.topItemsUrl,getGifCategoriesList:()=>e.categoryIds.map((t=>e.categories[t].category)),isCategoryListLoaded:()=>e.categoriesStatus===o.DAQ.LOADED})},contacts:{reducer:J,selector:e=>({getContacts:()=>e.byId,doesContactExist:({id:t})=>!!e.byId[t],getContactById:t=>e.byId[t],getContactIdByEmail:t=>e.idByEmail[t],getContactByEmail:t=>{const s=e.idByEmail[t];return s?e.byId[s]:e.addressBook[t]||null},getContactCategoryById:t=>(e.byId[t]||{}).aolCategory,getCurrentFilter:()=>e.selectedPaneFilter,getCurrentPaneView:()=>e.contactsPaneView,getCurrentPaneListId:()=>(0,q.uh)(e.selectedPaneFilter,e.selectedUserGroup[e.selectedPaneFilter]||""),isEditable:t=>{const{editToken:s,isEditable:a=!1}=e.byId[t]||{};return!!s&&a},isDeletable:t=>{const{editToken:s,isInUserContactList:a}=e.byId[t]||{};return!!s&&a},getAllGroupsData:()=>e.groupsById||{},getSelectedGroup:t=>e.selectedUserGroup[t],getGroupName:t=>((e.groupsById||{})[t]||{name:""}).name,getAllGroupNames:()=>Object.keys(e.groupsById).reduce(((t,s)=>({...t,[e.groupsById[s].name.toLowerCase()]:++t[e.groupsById[s].name.toLowerCase()]||1})),{}),isUserAddedContact:t=>!!e.byId[t]&&e.byId[t].isInUserContactList,getContactsSortOrder:()=>e.sortBy,getCategoryFilter:()=>e.categoryFilter,getContactBlockList:()=>e.contactBlockList,getContactRestoreStatus:()=>e.restoreStatus})},socialAccounts:{reducer:Rs,selector:e=>({showAuthWindow:()=>!!e.authWindow.provider,getAuthWindowData:()=>e.authWindow})},downloads:{reducer:le,selector:e=>({getDownloads:()=>e})},online:{reducer:rs,selector:e=>({isOnline:()=>e})},searchSuggestions:{reducer:gs,selector:function(e={}){return{getSuggestions:t=>e[t]}}},searchInput:{reducer:hs.Z,selector:hs.w},calendar:{reducer:A,selector:(e={})=>({getInviteUid:t=>e[t]&&e[t].uid,getInviteStatus:t=>e[t]&&e[t].status,getInviteInfo:t=>e[t]})},environment:{reducer:_e,selector:(e={})=>({getAppName:()=>e.appName,getAppId:()=>e.appId,getIsInternalIP:()=>e.isInternalIP,isAppVisible:()=>e.applicationVisibility,getApplicationLastVisibleTimeStamp:()=>e.applicationLastVisibleTimeStamp,getBuildRefreshStatus:()=>e.buildRefreshStatus,getTimeZoneName:()=>e.timeZoneName,getBrowser:()=>e.browser||{},getPageDirection:()=>e.pageDirection,getTimezoneUpdatingStatus:()=>e.timezoneUpdating,getWindowDimensions:()=>e.windowDimensions||{},getLoggerParams:()=>e.loggerParams,getUserSegmentData:()=>e.userSegmentData,getDoNotSellUrl:()=>e.doNotSellUrl,getDoNotSellLabel:()=>e.doNotSellLabel,getInactiveSinceDate:()=>(0,ce.B)(e.userSegmentData),getEndpoint:t=>e.endpoints[t],getPartner:()=>e.partner,getOS:()=>e.os,getUserNamespace:()=>e.userNamespace})},composeSuggestions:{reducer:v,selector:function(e={}){return{getSuggestions:t=>{const s=e.composeSuggestionsFromImportantContacts[t]||[],a=e.composeSuggestions[t]||[];return s.concat(a).reduce(((e,t)=>e.map[t.email]?(e.map[t.email].filteredResults=t.filteredResults,e):(e.result=[...e.result,t],e.map[t.email]=t,e)),{map:{},result:[]}).result}}}},locationSuggestions:{reducer:Dt,selector:(e={})=>({getLocationSuggestionsMap:()=>e.locationSuggestions,getLocationSuggestions:t=>e.locationSuggestions[t]||[],getLocationSuggestionStatus:t=>e.locationFetchStatus[t]||o.DAQ.DOES_NOT_EXIST})},settings:{reducer:Is,selector:(e={})=>({getSettingsApiCallStatus:()=>e.settingsApiCallStatus,getBlockedSendersApiCallStatus:()=>e.blockedSendersApiCallStatus,getFiltersAndBlockedSendersApiCallStatus:()=>e.filtersAndBlockedSendersApiCallStatus,isHumanReadableConsentUpdated:()=>e.humanReadableConsentUpdated,autoForwardAllowedAttributeStatus:()=>e.autoForwardAllowedAttributeStatus})},importantContacts:{reducer:_t,selector:function(e={}){return{getImportantContacts:()=>e}}},recentSearches:{reducer:Ss,selector:function(e={}){return{getRecentSearches:()=>e.recentSearches,getRecentSearchesCallStatus:()=>e.status}}},breakingNews:{reducer:ja,selector:function(e={}){return{getNewsArticle:()=>e.newsArticle,getIsBreakingNewsDismissed:()=>e.isDismissed,getNewsRefreshTimestamp:()=>e.newsRefreshTimestamp}}},pendingUpdate:{reducer:ds,selector:(e={})=>({getPendingUpdate:()=>e})},designClassifier:{reducer:se,selector:(e={isDetailPaneExpanded:!1})=>({isDetailPaneExpanded:()=>e.isDetailPaneExpanded})},composeAttributesStatus:{reducer:f,selector:(e={})=>({getComposeAttributesStatus:()=>e.composeAttributesStatus})},dealsView:{reducer:te,selector:e=>({getTopRetailers:()=>e.topRetailers,getTopDealCategories:()=>e.topDealCategories,getDealsViewListExpansion:()=>!!e.dealsViewExpansion})},linkEnhancer:{reducer:mt,selector:(e={})=>({getEnhancedLinks:()=>e})},addFilter:{reducer:za,selector:(e={})=>({getAddFilter:()=>e})},replySuggestions:{reducer:qa,selector:(e={})=>({getReplySuggestions:t=>e[t]})},adListItems:{reducer:on,selector:(e={})=>({getAdItems:()=>Object.keys(e),getSelectedPencilAds:()=>Object.keys(e).filter((t=>e[t].isSelected)),hasSelectedPencilAds:()=>{let t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].isSelected)return!0;return!1},isAdSelected:t=>!!e[t]&&e[t].isSelected,isAdMarkedAsRead:t=>!!e[t]&&e[t].isRead,isAdDeleted:t=>!!e[t]&&e[t].isDeleted,isAdMarkedForSkipRotation:t=>!!e[t]&&e[t].rotateAd<1})},cloudStorageAccounts:{reducer:En,selector:(e={})=>({getCloudStorageItems:()=>e.cloudStorageItems,getShareableLinkByItemId:t=>e.shareableLinks[t],getShareableLinkForRecentItem:()=>{if(e.shareableLinks[e.recentItemId]){const{shareableLink:t}=e.shareableLinks[e.recentItemId];return t}}})},membershipRewards:{reducer:Ya,selector:(e={})=>({getAtosStatus:()=>(0,l.u9)(e,"atosInfo.atosStatus",""),getAtosInfo:()=>e.atosInfo,getRewardsAction:t=>e.rewardsActions[t]||{},getRewardsActionsTimestamp:t=>e.rewardsActionsTimestamp[t],getLastCompletedChallenges:t=>e.lastCompletedChallenges[t]||{},getChallengeDefns:t=>e.mailChallenges[t]||{},getChallengeProgress:t=>e.mailChallengesProgress[t]||{},getSuperAppChallenges:()=>e.superAppChallenges,getPointsBalance:()=>e.pointsBalance,getRedeemItems:()=>e.redeemItems,isImapInCompleted:()=>(0,l.u9)(e,`mailChallengesProgress.${o.to8.IMAPIN}.repeatedTimes`)>0,getSelectedTab:()=>e.selectedTab,pointsReceivedOnTaskCompletion:t=>e.lastCompletedChallenges[t]&&e.lastCompletedChallenges[t].pointsReceived,isBonusReceivedOnTaskCompletion:t=>e.lastCompletedChallenges[t]&&e.lastCompletedChallenges[t].bonusChallengeCompleted,isBonusChallengeActive:t=>e.mailChallenges[t]&&e.mailChallenges[t].bonusChallenges.length>0,getDailyCheckinBonusType:()=>{var t;return null===(t=e.mailChallenges[o.to8.DAILY_CHECKIN])||void 0===t?void 0:t.bonusType},getDailyCheckinMilestoneList:()=>{var t;return null===(t=e.mailChallenges[o.to8.DAILY_CHECKIN])||void 0===t?void 0:t.milestoneList}})},senderRollup:{reducer:Sn,selector:function(e={}){return{getSenderRollupById:(t,s)=>e[t]&&e[t][s]}}},productRecommandations:{reducer:An,selector:(e={})=>({getRecommendationsFromConversationId:t=>Object.keys(e).reduce(((s,a)=>(e[a].cardConversationId===t&&(e[a].schemaId=a,s.push(e[a])),s)),[]),getRecommendationsFromAddress:t=>e[t].from})},mailPremiumFreeTrial:{reducer:nn,selector:(e={})=>t=>({getDaysLeftInTrial:()=>{let t=0;return e.trialStartDate>0&&(t=(0,Qa.differenceInDays)((new Date).getTime(),e.trialStartDate)+1),o.OIv-t},getUpsellId:()=>e.upsellId,getSubscriptionStatus:()=>e.subscriptionStatus,getPurchaseFreeTrialStatus:()=>e.purchaseFreeTrialStatus,getListSubscriptionsApiCallStatus:()=>e.listSubscriptionsApiCallStatus,isPurchaseFreeTrialInProgress:()=>{const{getUnsyncedDataToSync:e}=t;return e(Date.now()).some((e=>e.type===o.sKi.PURCHASE_MAILPRO_FREE_TRIAL&&"PURCHASE_MAILPRO_FREE_TRIAL_HASH"===e.hash))},isPurchaseFreeTrialFailed:()=>!!e.purchaseFreeTrialStatus&&e.purchaseFreeTrialStatus===$a,hasCrossDeviceMailPlusInSubsList:()=>e.hasCrossDeviceMailPlusInSubsList,getDealsRecommendationsPreview:()=>e.dealsRecommendationsPreview})},recentlyUsedState:{reducer:Tn,selector:e=>({getRecentlyUsedMessageBodiesIds:()=>e.messageBodies,getRecentlyUsedDocumentsIds:()=>e.documents})},packageTracking:{reducer:hn,selector:e=>({getPackageTrackingCardFromConversationId:t=>e[t]})},falconTOMSubscriptions:{reducer:_n,selector:(e={})=>({getFalconTOMSubscriptionByGroupId:t=>e.falconTOMSubscriptions[t],getFalconTOMSubscriptionsApiCallStatus:t=>e.falconTOMSubscriptionsApiCallStatus[t]})},falconRelatedCards:{reducer:un,selector:(e={})=>t=>{const s={getOfferCardByGroupId:t=>{if(Array.isArray(e.relatedCards[t])){return e.relatedCards[t].filter((e=>e.vertical===o.VRv.OFFERS))[0]}return e.relatedCards[t]},getDPACardByGroupId:t=>{if(Array.isArray(e.relatedCards[t])){return e.relatedCards[t].filter((e=>e.vertical===o.VRv.DPA))[0]}return e.relatedCards[t]},getICDealcardsByGroupId:t=>{var s;const a=null===(s=e.relatedCards[t])||void 0===s?void 0:s.filter((e=>e.vertical===o.VRv.COMMERCE)),n=(null==a?void 0:a.reduce(((e,t)=>e.concat(t.data)),[]).filter((e=>e.dealType!==o.WSI.AFFILIATE_PRODUCT_OFFER)))||[],r=[o.WSI.EXTRACTED_DEAL,o.WSI.INBOX_DEAL,o.WSI.PRODUCT_RECOMMENDATION_DEAL,o.WSI.STATIC_DEAL];return n.sort((({dealType:e},{dealType:t})=>r.indexOf(e)-r.indexOf(t))),n},getICProductcardsByGroupId:t=>{var s;const a=null===(s=e.relatedCards[t])||void 0===s?void 0:s.filter((e=>e.vertical===o.VRv.COMMERCE));return(null==a?void 0:a.reduce(((e,t)=>e.concat(t.data)),[]).filter((e=>e.dealType===o.WSI.AFFILIATE_PRODUCT_OFFER)))||[]},getFalconContactCardByGroupId:t=>{var s,a;const n=null===(s=e.relatedCards[t])||void 0===s||null===(a=s.filter((e=>e.vertical===o.VRv.KE)))||void 0===a?void 0:a[0];return(null==n?void 0:n.data)||{}},getDPAAdsByGroupId:e=>{const{data:a={}}=s.getDPACardByGroupId(e)||{},{getSetting:n,isFeatureEnabled:r}=t,i=a[n(o.Zrf.GEMINI_SECTION_IDS)[o.e$m.SHOPPING_CART]||""]||[],{ads:l}=i[0]||{},c=(l&&1===l.length&&!l[0].creativeId?l[0]:l)||[];return r(o.ANe.SHOPPING_CART_AD)&&c.length?c:[]},getDomainMatchAdsByGroupId:e=>{const{data:a={}}=s.getDPACardByGroupId(e)||{},{getSetting:n,isFeatureEnabled:r}=t,i=a[n(o.Zrf.GEMINI_SECTION_IDS)[o.e$m.MESSAGE_READ]||""]||[],{ads:l}=i[0]||{},c=(l&&1===l.length&&!l[0].creativeId?l[0]:l)||[];return r(o.ANe.MSG_READ_PENCIL_AD_SEND_DOMAIN)&&c.length?c:[]},doRelatedCardsExistForGroupId:t=>!!e.relatedCards[t],doCommerceRelatedCardsExistForGroupId:t=>{var s;return null===(s=e.relatedCards[t])||void 0===s?void 0:s.some((e=>e.vertical===o.VRv.COMMERCE))},hasSomeCardExpiredForGroupId:t=>e.relatedCards[t].some((e=>new Date(e.ttl)<=new Date)),getRelatedCardsStatus:t=>e.relatedCardsStatus[t]};return s}},composeFormats:{reducer:On,selector:(e=Rn)=>({getAllComposeFormats:()=>e.composeSessionIds.slice()||[],getComposeFormatById:t=>e.itemsById&&e.itemsById[t],getComposeFormat:t=>(e.itemsById&&e.itemsById[t]||{}).format})},advancedSearchPane:{reducer:Dn,selector:(e={isAdvancedSearchPaneOpen:!1})=>({isAdvancedSearchPaneOpen:()=>e.isAdvancedSearchPaneOpen})},scrollToSearch:{reducer:Nn.ZP,selector:Nn.wl}},Mn=function(e){return Object.keys(e).reduce(((t,s)=>({...t,[s]:e[s].reducer})),{})}(fn),Ln=(0,a.combineReducers)(Mn),Pn=function(e){const t=t=>(0,Vt.createSelector)((e=>e[t]),(s=>e[t].selector(s)));return Object.keys(e).reduce(((e,s)=>({...e,[s]:t(s)})),{})}(fn),yn=Ln},70717:(e,t,s)=>{"use strict";s.d(t,{N4:()=>d,ZP:()=>E,wl:()=>_});var a=s(50566),n=s(37422),r=s(63352),o=s(18446),i=s.n(o),l=s(57557),c=s.n(l);function d(e,t,s=[]){let{index:a=-1}=e;return t===n.Fio.UP?a--:t===n.Fio.DOWN?a++:t===n.Fio.FIRST?a=0:t===n.Fio.LAST?a=s.length-1:(0,r.Z)(!t,"Movement not supported yet"),a<0?a=0:a>=s.length&&(a=s.length-1),{index:a,streamItem:s[a]}}const E=(e={},t)=>{const{type:s,streamItem:n,streamItems:r=[],selectionPayload:o={}}=t;switch(s){case a.STREAM_ITEM_TOGGLED:case a.STREAM_CONTEXT_MENU:case a.ITEMS_DRAG_STARTED:case a.STREAM_ITEMS_RANGE_SELECTED:case a.PREVIEW_MESSAGE_REQUESTED:{const t=r.findIndex((e=>i()(e,n))),s={streamItem:n,index:t};return i()(e,s)?e:s}case a.OPEN_PAGE_REQUESTED:{const t=r.findIndex((e=>i()(e,n)));if(!n||-1===t)return{};const s={streamItem:n,index:t};return i()(e,s)?e:s}case a.PREVIEW_MESSAGE_CLOSED:return e.streamItem?c()(e,"streamItem"):e;case a.STREAM_SELECT_CURSOR_MOVED:case a.STREAM_CURSOR_MOVED:{const{movement:s}=t,a=d(e,s,r);return i()(e,a)?e:a}case a.READ_CHANGE_REQUESTED:case a.STAR_CHANGE_REQUESTED:case a.RECENT_AND_READ_CHANGE_REQUESTED:case a.DELETE_ITEMS_REQUESTED:case a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case a.MOVE_ITEMS_REQUESTED:case a.MOVE_AND_READ_CHANGE_REQUESTED:case a.SEND_SUCCESS:case a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case a.V3_MESSAGE_SEND_SUCCEEDED:case a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case a.CHANGE_FOLDER_SUCCEEDED:case a.SEARCH_LIST_ITEMS_RECEIVED:case a.UNDO_MOVE_SUCCEEDED:case a.MORE_MESSAGES_REQUEST_SUCCESS:case a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case a.GIF_FETCH_SUCCEEDED:case a.MORE_COUPONS_SUCCESS:case a.MORE_RECEIPTS_SUCCESS:case a.RECEIPTS_LIST_SUCCEEDED:case a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case a.COUPONS_LIST_SUCCEEDED:case a.EXTRACT_COUPON_SUCCEEDED:case a.TRAVEL_LIST_SUCCEEDED:case a.COUPONS_ADD_TAG_DECO_REQUESTED:case a.MORE_TRAVEL_ITEMS_SUCCEEDED:case a.UPDATE_ITEMS_FAILED:{const{oldMessageStreamItems:s=[],newMessageStreamItems:a=[]}=t;if(!a.length)return{};if(!Object.keys(e).length)return e;const n=s[e.index]||{},r=a.findIndex((e=>e.id===n.id&&e.listId===n.listId));if(-1!==r){const t=e.index===r&&i()(e.streamItem,n)?e:{streamItem:n,index:r};return e.streamItem?t:c()(t,"streamItem")}const o=s.slice(e.index+1).find((e=>a.some((t=>e.id===t.id&&e.listId===t.listId))))||a[a.length-1]||{},l={streamItem:o,index:a.findIndex((e=>e.id===o.id&&e.listId===o.listId))};return e.streamItem?l:c()(l,"streamItem")}case a.MESSAGE_GROUP_OPENED:case a.MESSAGE_CARD_EXPANSION_CHANGED:case a.MESSAGE_CARD_FOCUSED:{const{streamItem:s}=t;return{...e,streamItem:s}}case a.V3_MESSAGE_SAVE_SUCCEEDED:case a.MESSAGE_SAVE_SUCCEEDED:case a.MESSAGE_AUTO_SAVE_SUCCEEDED:{const{streamItem:s,previousStreamItem:a}=t;return s&&a&&(o.oldCursor&&i()(o.oldCursor.streamItem,a))?{...e,streamItem:s}:e}default:return e}},_=(e={})=>({getCursor:()=>e,getCursorItem:()=>e.streamItem})},85262:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>M,lw:()=>I,wl:()=>L});var a=s(14890),n=s(50566),r=s(71421),o=s(70717),i=s(57557),l=s.n(i),c=s(18446),d=s.n(c);const E=Object.prototype.hasOwnProperty,_=(e={},t=[])=>t.reduce(((e,{listId:t,id:s})=>({...e,[t]:{...e[t]||{},[s]:!0}})),{...e}),u=(e={},t=[])=>t.reduce(((e,{listId:t,id:s})=>({...e,[t]:l()(e[t]||{},s)})),{...e}),m=e=>e.reduce(((e,{listId:t,id:s})=>({...e,[t]:{...e[t]||{},[s]:!0}})),{});const S=function(e={},t){const{streamItem:s={},selectionPayload:a={},streamItems:r=[]}=t,{oldCursor:i,oldSelectedItems:l=[]}=a;switch(t.type){case n.ALL_STREAM_ITEMS_SELECTED:case n.STREAM_ITEMS_SELECTION_CHANGED:{const{selectedItems:e=[]}=t;return _({},e)}case n.STREAM_CONTEXT_MENU:return l.some((e=>d()(e,s)))?e:_({...u(m(l),[...l])},[s]);case n.STREAM_ITEM_TOGGLED:case n.ITEMS_DRAG_STARTED:return s.id?l.some((e=>d()(e,s)))?u(m(l),[s]):_(m(l),[s]):e;case n.STREAM_ITEMS_MULTIPLE_TOGGLE:return s.id&&t.multipleStreamItems?l.some((e=>d()(e,s)))?u(m(l),[s]):_(m(l),t.multipleStreamItems):e;case n.STREAM_ITEMS_RANGE_SELECTED:{if(!s.id)return e;if(!i)return _(m(l),[s]);const t=r.findIndex((e=>d()(e,s))),[a,n]=[i.index,t].sort(((e,t)=>e-t));return _(m(l),r.slice(a,n+1))}case n.STREAM_SELECT_CURSOR_MOVED:{const{movement:s}=t,a=(0,o.N4)(i||{},s,r);if(!l.some((e=>d()(e,a.streamItem)))){const e=[a.streamItem];return i&&i.streamItem&&e.push(i.streamItem),_(m(l),e)}return i&&i.streamItem?u(m(l),[i.streamItem]):e}case n.MORE_SEARCH_LIST_ITEMS_RECEIVED:case n.MORE_MESSAGES_REQUEST_SUCCESS:{const{listData:s={},allItemsSelected:a,listId:n}=t,{groupIdToMessageIdsMap:r={}}=s,o=Object.keys(r),i=o.map((e=>({listId:n,id:e})));return a&&0!==o.length?_(e,i):e}case n.STREAM_CURSOR_MOVED:case n.STREAM_ITEMS_SELECTION_CLEARED:case n.DELETE_ITEMS_REQUESTED:case n.BLOCK_SENDERS_REQUESTED:case n.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case n.MOVE_ITEMS_REQUESTED:case n.MOVE_AND_READ_CHANGE_REQUESTED:case n.RECENT_AND_READ_CHANGE_REQUESTED:case n.SEND_SUCCESS:case n.PREVIEW_MESSAGE_CLOSED:case n.V3_MESSAGE_SEND_SUCCEEDED:case n.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case n.PREVIEW_MESSAGE_REQUESTED:case n.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case n.UPDATE_ITEMS_FAILED:return Object.keys(e).length?{}:e;case n.OPEN_PAGE_REQUESTED:case n.SEARCH_INPUT_FOCUSED:{const{clearSelection:s=!1}=t;return s&&Object.keys(e).length?{}:e}default:return t.clearSelection&&Object.keys(e).length?{}:e}};var p=s(37422);const C=(e=p.ie0.NONE,t)=>{const{type:s}=t;switch(s){case n.ALL_STREAM_ITEMS_SELECTED_FOR_BULK_OPERATION:return p.ie0.ALL;case n.ALL_STREAM_ITEMS_SELECTED:return p.ie0.NONE;case n.STREAM_ITEMS_SELECTION_CHANGED:return t.selectionType;case n.STREAM_ITEMS_SELECTION_CLEARED:case n.STREAM_ITEM_TOGGLED:case n.ITEMS_DRAG_STARTED:case n.STREAM_ITEMS_RANGE_SELECTED:case n.STREAM_SELECT_CURSOR_MOVED:case n.STREAM_CURSOR_MOVED:case n.DELETE_ITEMS_REQUESTED:case n.BLOCK_SENDERS_REQUESTED:case n.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case n.MOVE_ITEMS_REQUESTED:case n.MOVE_AND_READ_CHANGE_REQUESTED:case n.SEND_SUCCESS:case n.V3_MESSAGE_SEND_SUCCEEDED:case n.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case n.PREVIEW_MESSAGE_REQUESTED:case n.PREVIEW_MESSAGE_CLOSED:return p.ie0.NONE;case n.OPEN_PAGE_REQUESTED:case n.SEARCH_INPUT_FOCUSED:{const{clearSelection:s=!1}=t;return s?p.ie0.NONE:e}default:return e}};var A=s(31057),T=s(92559);var h=s(78263);const g=(e=[],t=(()=>{}))=>{const s=((e=[])=>e.reduce(((e,t)=>({...e,[t.listId]:(e[t.listId]||[]).concat(t.id)})),{}))(e),a=Object.keys(s).reduce(((e,a)=>{const n=t(a)||[];return e[a]=n.length?s[a].filter((e=>-1===n.indexOf(e))):s[a],e}),{});return e.filter((({id:e,listId:t})=>-1!==(a[t]||[]).indexOf(e)))},I=e=>{const t=[];return e.forEach((e=>{const s=(0,A.WN)(e.listId);if(s===p.F6k.MESSAGES)t.push({id:e.id,listId:e.listId});else if(s===p.F6k.IMAGES){const{items:s}=e;s.forEach((e=>{t.push({id:e.id,listId:e.listId,messageId:e.messageGroupId,previewable:e.previewable,downloadUrl:e.downloadUrl})}))}else s===p.F6k.DOCUMENTS&&t.push({id:e.id,listId:e.listId,messageId:e.messageGroupId,previewable:e.previewable,downloadUrl:e.downloadUrl})})),t},R=e=>`${e.listId}-${e.csid}`,O=(e={},t)=>{const{type:s,itemToUpdate:a}=t;switch(s){case n.CONTACTS_LIST_FETCH_SUCCEEDED:{if(!a)return e;const{category:s,contacts:n=[],remainingCount:r=0}=a,{listId:o}=t,i=(0,A.tE)(o,{name:s}),c=R({csid:i,listId:o});return n.length+r>p.Weh?e:l()(e,c)}case n.CATEGORY_LIST_EXPANSION_TOGGLED:{const{categoryListId:s,listId:a}=t,n=R({csid:s,listId:a});return e[n]?l()(e,n):{...e,[n]:!0}}case n.CONTACT_SAVE_SUCCEEDED:{const{streamId:s,streamItem:a}=t,n=R({csid:a.listId,listId:s}),r=R({csid:a.oldListId,listId:s}),o=e[n]?l()(e,n):e;return o[r]?l()(o,r):o}case n.CONTACTS_SORT_ORDER_CHANGED:case n.DELETE_CONTACT_FAILED:return{};case n.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case n.MESSAGE_CARD_EXPANSION_CHANGED:case n.STAR_CHANGE_REQUESTED:case n.RECENT_AND_READ_CHANGE_REQUESTED:case n.READ_CHANGE_REQUESTED:{if(!a)return e;const t={csid:a.csid,listId:a.listId},s=R(t);return{...e,[s]:a.expansionState}}case n.CLOSE_PAGE_REQUESTED:return e;case n.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case n.V3_MESSAGE_SEND_SUCCEEDED:{const{inReplyToMessageCsid:s,listId:a,shouldCreateExpansionState:n=!1,csid:r}=t;if(!n)return e;const o=R({csid:s,listId:(0,A.tE)(a,{listContentType:p.F6k.MESSAGE})}),i=R({csid:r,listId:(0,A.tE)(a,{listContentType:p.F6k.MESSAGE})}),l={...e};return l[o]||(l[o]=p.Lvq.TEMPORARY_EXPANSION),l[i]||(l[i]=p.Lvq.TEMPORARY_EXPANSION),l}case n.PREVIEW_MESSAGE_REQUESTED:case n.STREAM_CURSOR_MOVED:case n.STREAM_SELECT_CURSOR_MOVED:case n.OPEN_PAGE_REQUESTED:case n.STREAM_ITEM_TOGGLED:case n.STREAM_CONTEXT_MENU:case n.STREAM_ITEMS_MULTIPLE_TOGGLE:case n.STREAM_ITEMS_RANGE_SELECTED:{const s=Object.keys(e).filter((t=>e[t]!==p.Lvq.TEMPORARY_EXPANSION&&e[t]!==p.Lvq.TEMPORARY_COLLAPSE)).reduce(((t,s)=>({...t,[s]:e[s]})),{});return t.temporaryExpansionState?t.temporaryExpansionState.reduce(((e,t)=>{const s={csid:t.csid,listId:t.listId};return{...e,[R(s)]:t.expansionState}}),s):s}default:return e}},D=(0,a.combineReducers)({cursor:o.ZP,selectedItems:S,selectionType:C,expansionState:O}),N=(e,t={})=>e.persistStreamItemExpansionStates?e.persistStreamItemExpansionStates.reduce(((t,s)=>({...t,[s.streamId]:D(t[s.streamId],{...e,itemToUpdate:s})})),{...t}):t,f=(e,t)=>{const{type:s,streamItem:a={}}=t;return Object.keys(e).filter(Boolean).reduce(((r,o)=>{let i=e[o].expansionState;return[n.PREVIEW_MESSAGE_REQUESTED,n.OPEN_PAGE_REQUESTED].includes(s)&&(0,h.k3)(a.listId,a.id)===o||(i=O(e[o].expansionState,t)),{...r,[o]:{...e[o],expansionState:i}}}),{})},M=(e={},t)=>{switch(t.type){case n.CONTACTS_LIST_FETCH_SUCCEEDED:{const{listId:s,contacts:a=[]}=t,n=(0,A.C4)(s);return a.length&&n!==p.ukn.TOP_CONTACTS?a.reduce(((e,a)=>({...e,[s]:D(e[s],{...t,itemToUpdate:a,listId:s})})),{...e}):e}case n.CATEGORY_LIST_EXPANSION_TOGGLED:{const{listId:s}=t;return{...e,[s]:D(e[s],t)}}case n.CONTACTS_SORT_ORDER_CHANGED:{const s=(0,A.uh)(p.ukn.USER_CREATED_CONTACTS);return{...e,[s]:D(e[s],t)}}case n.CREATE_CONTACT_SUCCEEDED:case n.CONTACT_SAVE_SUCCEEDED:{const{streamId:s}=t;return{...e,[s]:D(e[s],t)}}case n.DELETE_CONTACT_FAILED:case n.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case n.MESSAGE_CARD_EXPANSION_CHANGED:return t.itemsToUpdate.reduce(((e,s)=>({...e,[s.streamId]:D(e[s.streamId],{...t,itemToUpdate:s})})),{...e});case n.ALL_STREAM_ITEMS_SELECTED_FOR_BULK_OPERATION:case n.ALL_STREAM_ITEMS_SELECTED:case n.STREAM_ITEMS_SELECTION_CHANGED:case n.STREAM_ITEMS_SELECTION_CLEARED:case n.MESSAGE_GROUP_OPENED:case n.MESSAGE_CARD_FOCUSED:{const{streamId:s}=t;return s?{...e,[s]:D(e[s],t)}:e}case n.PREVIEW_MESSAGE_CLOSED:{const{streamId:s,expansionStatesToRemove:a=[]}=t,n=s?{...e,[s]:D(e[s],t)}:e;return a.reduce(((e,t)=>({...e,[t]:{...e[t],expansionState:{}}})),n)}case n.MORE_SEARCH_LIST_ITEMS_RECEIVED:case n.MORE_MESSAGES_REQUEST_SUCCESS:{const{streamId:s,listId:a,streamItems:n=[],listData:r}=t,o=s||(0,h.BA)([a]),i=I(n);return o?{...e,[o]:D(e[o],{...t,oldMessageStreamItems:i,newMessageStreamItems:i.concat(Object.keys(r.lists||[]).reduce(((e,t)=>(r.lists[t].itemIds.forEach((s=>{e.push({id:s,listId:t})})),e)),[]))})}:e}case n.SEARCH_INPUT_FOCUSED:{const{streamId:s,clearSelection:a=!1}=t;return s&&a?{...e,[s]:D(e[s],t)}:e}case n.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const{triggeredFromContextMenu:s=!1,streamId:a}=t;return s&&a?{...e,[a]:D(e[a],t)}:e}case n.ITEMS_DRAG_STARTED:{const{streamId:s,streamItems:a=[],streamItem:n={},selectionPayload:r={}}=t,{oldSelectedItems:o=[]}=r;return o.find((e=>d()(e,n)))?e:s?{...e,[s]:D(e[s],{...t,streamItems:I(a)})}:e}case n.OPEN_PAGE_REQUESTED:{const n=[T.JE.OPEN_MSG,T.JE.DOC_READ_MSG,T.JE.PHOTO_READ_MSG],r=[T.JE.PHOTO_OPEN,T.JE.DOC_OPEN],o=((e={})=>{const{i13nModel:t,uiContext:s}=e;return t||s||{}})(t)||{};if(-1===[...n,...r].indexOf(o.mKey))return e;const{streamId:i,streamItems:l=[],temporaryExpansionState:c=[]}=t;if(!i){if(c.length>0){var s;const a=c[0].streamId;return{...e,[a]:{...e[a],expansionState:O((null===(s=e[a])||void 0===s?void 0:s.expansionState)||{},t)}}}return e}let d={...e,[i]:D(e[i],{...t,streamItems:I(l),temporaryExpansionState:null})};if(d=f(d,{...t,temporaryExpansionState:null}),c.length>0){var a;const e=c[0].streamId;return{...d,[e]:{...d[e],expansionState:O((null===(a=d[e])||void 0===a?void 0:a.expansionState)||{},t)}}}return d}case n.PREVIEW_MESSAGE_REQUESTED:case n.STREAM_ITEM_TOGGLED:case n.STREAM_CONTEXT_MENU:case n.STREAM_ITEMS_MULTIPLE_TOGGLE:case n.STREAM_ITEMS_RANGE_SELECTED:case n.STREAM_SELECT_CURSOR_MOVED:case n.STREAM_CURSOR_MOVED:{const{streamId:s,streamItems:a=[],temporaryExpansionState:n=[]}=t;if(!s)return e;let r={...e,[s]:D(e[s],{...t,streamItems:I(a),temporaryExpansionState:null})};if(r=f(r,{...t,temporaryExpansionState:null}),n.length>0){var o;const e=n[0].streamId;return{...r,[e]:{...r[e],expansionState:O((null===(o=r[e])||void 0===o?void 0:o.expansionState)||{},t)}}}return r}case n.V3_MESSAGE_SAVE_SUCCEEDED:case n.MESSAGE_SAVE_SUCCEEDED:case n.MESSAGE_AUTO_SAVE_SUCCEEDED:{const{streamId:s}=t;return s&&e[s]?{...e,[s]:D(e[s],t)}:e}case n.RECENT_AND_READ_CHANGE_REQUESTED:case n.READ_CHANGE_REQUESTED:{const{isRead:s,streamId:a,itemsToUpdate:n=[],streamItems:o=[],isOldNewMailStyle:i}=t;if(!n.length)return e;const l=I(o),c=e=>i?(0,r.Yk)(n,e,s?"read":"unread"):(0,r.k1)(n,e,s?[]:["unread"]),d={...e,[a]:D(e[a],{...t,oldMessageStreamItems:l,newMessageStreamItems:g(l,(e=>c(e)))})};return N(t,d)}case n.STAR_CHANGE_REQUESTED:{const{isStarred:s,streamId:a,itemsToUpdate:n=[],streamItems:o=[]}=t;if(!n.length)return e;const i=I(o),l={...e,[a]:D(e[a],{...t,oldMessageStreamItems:i,newMessageStreamItems:g(i,(e=>(0,r.k1)(n,e,s?["flagged","starred"]:[])))})};return N(t,l)}case n.MOVE_AND_READ_CHANGE_REQUESTED:{const{isRead:s,streamId:a,itemsToUpdate:n=[],streamItems:o=[],listsToUpdate:i=[]}=t;if(!n.length)return e;const l=I(o);return{...e,[a]:D(e[a],{...t,oldMessageStreamItems:l,newMessageStreamItems:g(l,(e=>{const t=i.find((t=>t.listId===e))||{},a=(0,r.S2)(n,t.folderIds),o=(0,r.Yk)(n,e,s?"read":"unread"),l=a.concat(o);return l.filter(((e,t)=>l.indexOf(e)===t))}))})}}case n.DELETE_ITEMS_REQUESTED:case n.BLOCK_SENDERS_REQUESTED:case n.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case n.MOVE_ITEMS_REQUESTED:case n.SEND_SUCCESS:case n.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case n.V3_MESSAGE_SEND_SUCCEEDED:{const{streamId:s,streamItem:a,listId:n,conversationsMode:o,itemsToUpdate:i=[],streamItems:l=[],listsToUpdate:c=[],inReplyToMessageCsid:d}=t;if(!i.length)return e;const E=I(l),_=o&&d?(0,h.k3)(n,a.id):null;return{...e,..._?{[_]:D(e[_],{...t,shouldCreateExpansionState:!0})}:null,[s]:D(e[s],{...t,oldMessageStreamItems:E,newMessageStreamItems:g(E,(e=>{const t=c.find((t=>t.listId===e))||{};return(0,r.S2)(i,t.folderIds)}))})}}case n.UPDATE_ITEMS_FAILED:{const{streamId:s,itemsToDelete:a=[],streamItems:n=[],listsToUpdate:o=[]}=t;if(0===a.length)return e;const i=I(n);return{...e,[s]:D(e[s],{...t,oldMessageStreamItems:i,newMessageStreamItems:g(i,(e=>{const t=o.find((t=>t.listId===e))||{};return(0,r.S2)(a,t.folderIds)}))})}}case n.CHECK_MAIL_RECEIVED_WITH_UPDATES:case n.CHANGE_FOLDER_SUCCEEDED:{const{streamId:s,listData:a,streamItems:n=[]}=t;return a.lists?{...e,[s]:D(e[s],{...t,oldMessageStreamItems:I(n),newMessageStreamItems:Object.keys(a.lists||[]).reduce(((e,t)=>(a.lists[t].itemIds.forEach((s=>{e.push({id:s,listId:t})})),e)),[])})}:e}case n.CLOSE_PAGE_REQUESTED:{const{streamId:s,route:a,shouldPersistStream:n=!1}=t;return s&&(a&&!n)?l()(e,[s]):e}default:return e}},L=(e={})=>({doesStreamExist:t=>!!e[t],getSelectedItemsSelectors:t=>((e={})=>({getSelectedItems:()=>Object.keys(e).reduce(((t,s)=>t.concat(Object.keys(e[s]).map((e=>({id:e,listId:s}))))),[]),isItemSelected:t=>e[t.listId]&&e[t.listId][t.id],hasSelectedItems:()=>{let t,s;for(s in e)if(E.call(e,s))for(t in e[s])if(E.call(e[s],t))return!0;return!1}}))(e[t].selectedItems),getCursorSelectors:t=>(0,o.wl)(e[t].cursor),getSelectionType:t=>((e=p.ie0.NONE)=>({getSelectionType:()=>e}))(e[t].selectionType).getSelectionType(),getExpansionStateForStreamItem:t=>e[t.streamId].expansionState[R(t)],doesExpansionStateExist:t=>e[t]&&e[t].expansionState&&Object.keys(e[t].expansionState).length>0})},2464:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_,key:()=>m,selectors:()=>u});var a=s(14890),n=s(37422),r=s(50566);const o=(0,a.combineReducers)({brands:(e={},t)=>{switch(t.type){case r.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:return{...e,...t.response.subscription.email.brand.reduce(((e,s)=>{var a,n;return e[(a=t.accountId,n=s.name,`${n}:${a}`)]={name:s.name,subscriptions:s.subscriptions.map((e=>e.recoid))},e}),{})};default:return e}},recommendationsById:(e={},t)=>{switch(t.type){case r.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:return{...e,...t.response.subscription.email.brand.reduce(((e,t)=>(t.subscriptions.forEach((s=>{e[s.recoid]={name:t.name,...s}})),e)),{})};default:return e}}}),i={name:"",unsubRequestTs:0,frequency:{ftype:n.A3t.WEEKLY,fval:0},lastOpened:-1,score:0,subscriptions:[]},l=(e=i,t)=>{switch(t.type){case r.UNSUBSCRIBE_BY_BRAND_FAILED:case r.UNSUBSCRIBE_BY_BRAND_REQUESTED:return{...e,subscriptions:e.subscriptions.map((e=>({...e,status:t.type===r.UNSUBSCRIBE_BY_BRAND_FAILED?n.yhH.ACTIVE:n.yhH.PENDINGUNSUB})))};case r.UNSUBSCRIBE_BY_BRAND_SUCCEEDED:return{...e,subscriptions:t.subscriptions};default:return e}},c=(e={},t)=>{switch(t.type){case r.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:{const s={};return t.response.subscription.email.brand.forEach((e=>{const a=(n=e.name,r=t.accountId,n+":"+r);var n,r;const o=e.unsubRequestTs;s[a]={...i,name:e.name,unsubRequestTs:isNaN(o)?0:o,frequency:e.frequency,lastOpened:e.lastOpened,score:e.score,subscriptions:e.subscriptions}})),{...e,...s}}case r.UNSUBSCRIBE_BY_BRAND_REQUESTED:case r.UNSUBSCRIBE_BY_BRAND_FAILED:case r.UNSUBSCRIBE_BY_BRAND_SUCCEEDED:{const{brandId:s}=t;return{...e,[s]:l(e[s],t)}}default:return e}},d=(e=n.ukn.ACTIVE,t)=>{switch(t.type){case r.SUBSCRIPTION_LIST_FILTER_CHANGED:return t.listFilter;default:return e}},E=(e={[n.ukn.ACTIVE]:n.Asd.RELEVANCE,[n.ukn.PAST]:n.Asd.RELEVANCE},t)=>{switch(t.type){case r.SUBSCRIPTION_LIST_SORT_ORDER_CHANGED:return{...e,[t.listFilter]:t.sortOrder};case r.OPEN_PAGE_REQUESTED:return{[n.ukn.ACTIVE]:n.Asd.RELEVANCE,[n.ukn.PAST]:n.Asd.RELEVANCE};default:return e}},_=(0,a.combineReducers)({subscriptions:c,currentFilter:d,sortOrder:E,recommendations:o}),u=e=>({getBrandInfo:t=>e.subscriptions[t],getSortOrder:t=>e.sortOrder[t],getCurrentListFilter:()=>e.currentFilter,getSubscriptionFailureCount:()=>{let t,s=0;for(t in e.subscriptions)e.subscriptions.hasOwnProperty(t)&&(s+=e.subscriptions[t].subscriptions.reduce(((e,t)=>t.status===n.yhH.FAILED?e+1:e),0));return s},doesBrandExist:t=>!!e.subscriptions[t],getBrandFrequency:t=>e.subscriptions[t]?e.subscriptions[t].frequency:void 0,getBrandName:t=>e.subscriptions[t]?e.subscriptions[t].name:void 0,getBrandSubscriptions:t=>e.subscriptions[t]?e.subscriptions[t].subscriptions:void 0,getFromEmailsForBrand:t=>{const{subscriptions:s=[]}=e.subscriptions[t]||{};return s.reduce(((e,{listId:t,fromEmail:s})=>(!t&&s&&e.push(s),e)),[])},getListIdsForBrand:t=>{const{subscriptions:s=[]}=e.subscriptions[t]||{};return s.reduce(((e,{listId:t})=>(t&&e.push(t),e)),[])},getFromNamesForBrand:t=>{const{subscriptions:s=[]}=e.subscriptions[t]||{};return s.reduce(((e,{listId:t,fromName:s})=>(!t&&s&&e.push(s),e)),[])},getRecommendationIds:()=>Object.values(e.recommendations.brands).reduce(((e,t)=>(t.subscriptions[0]&&e.push(t.subscriptions[0]),e)),[]),getRecommendationById:t=>e.recommendations.recommendationsById[t],getRecommendationsInfo:()=>Object.values(e.recommendations.recommendationsById).reduce(((e,t)=>(e.push({recoId:t.recoid,logInfo:t.meta}),e)),[])}),m="subscriptionList"},47745:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});const a="devbox"},98374:()=>{},25353:()=>{},24654:()=>{},7116:()=>{},24908:()=>{}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={id:e,loaded:!1,exports:{}};return a[e].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=a,r.amdD=function(){throw new Error("define cannot be used indirect")},r.amdO={},e=[],r.O=(t,s,a,n)=>{if(!s){var o=1/0;for(d=0;d<e.length;d++){for(var[s,a,n]=e[d],i=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(r.O).every((e=>r.O[e](s[l])))?s.splice(l--,1):(i=!1,n<o&&(o=n));if(i){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,a,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,s)=>(r.f[s](e,t),t)),[])),r.u=e=>"js/mail_app_es6_"+({13:"epochCalendar",202:"lazy_group1",340:"lazy_group2",421:"contacts",656:"feedback",841:"subscriptions"}[e]||e)+"_"+{13:"9bddccb4aa91c043673f",120:"9764712aa8569377adf1",202:"6d8d21de2d99afd8c86f",309:"b5b52cf1f76ecd0bceb2",340:"7cfa44bf5a48c09104b4",421:"dc68c22d24b5a9f245d0",656:"0aa33bb2332bf430c6d9",841:"524a38ce456eebdbec69"}[e]+".chunk.js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},s="@vzmi/mail:",r.l=(e,a,n,o)=>{if(t[e])t[e].push(a);else{var i,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var E=c[d];if(E.getAttribute("src")==e||E.getAttribute("data-webpack")==s+n){i=E;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",s+n),i.src=e,0!==i.src.indexOf(window.location.origin+"/")&&(i.crossOrigin="anonymous")),t[e]=[a];var _=(s,a)=>{i.onerror=i.onload=null,clearTimeout(u);var n=t[e];if(delete t[e],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(a))),s)return s(a)},u=setTimeout(_.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=_.bind(null,i.onerror),i.onload=_.bind(null,i.onload),l&&document.head.appendChild(i)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="",(()=>{var e={199:0};r.f.j=(t,s)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else{var n=new Promise(((s,n)=>a=e[t]=[s,n]));s.push(a[2]=n);var o=r.p+r.u(t),i=new Error;r.l(o,(s=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var n=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",i.name="ChunkLoadError",i.type=n,i.request=o,a[1](i)}}),"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,s)=>{var a,n,[o,i,l]=s,c=0;for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)var d=l(r);for(t&&t(s);c<o.length;c++)n=o[c],r.o(e,n)&&e[n]&&e[n][0](),e[o[c]]=0;return r.O(d)},s=self.webpackChunk_vzmi_mail=self.webpackChunk_vzmi_mail||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),r.O(void 0,[567],(()=>r(6732)));var o=r.O(void 0,[567],(()=>r(52664)));o=r.O(o)})();